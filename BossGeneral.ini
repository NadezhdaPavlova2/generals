;;;;;BOSS REBORN

;------------------------------------------------------------------------------
Object Boss_PatriotBinaryDataStream
  ; *** ART Parameters ***
  Draw = W3DLaserDraw ModuleTag_01
    Texture = EXBinaryStream32.tga
    NumBeams = 1                      ;Number of overlapping cylinders that make the beam. 1 beam will just use inner data. Current max: 10
    InnerBeamWidth = 4                ;The total width of beam
    InnerColor = R:0 G:255 B:0 A:180  ;The inside color of the laser (hot)
    Tile = Yes                        ;The height of the texture will determine how many times to tile the texture to fit without scaling.
    ScrollRate = -0.25                 ;Scrolls the texture offset this fast -- towards(-) away(+)
    Segments = 20                     ;Number of segments -- more segments give smoother curve (but more joints) Current max: 20
    ArcHeight = 30.0                  ;The height of the arc
    SegmentOverlapRatio = 0.0000      ;This value overlaps(+) or separates(-) the segments by ratio
    TilingScalar = 0.25                ;Stretches tiling if value > 1.0, otherwise shrinks it (1.0 is natural)
 End

  KindOf = IMMOBILE
  ClientUpdate = LaserUpdate ModuleTag_02
    ;nothing
  End

  ; A patriot uses this stream as an event triggered thing, not something turned on and off with a state.
  Behavior = DeletionUpdate ModuleTag_03
    MinLifetime = 600   ; min lifetime in msec
    MaxLifetime = 600   ; max lifetime in msec
  End
End



;------------------------------------------------------------------------------
Object Boss_VehicleDozer

  ; *** ART Parameters ***
  SelectPortrait         = bossdozz_s
  ButtonImage            = bossdozz
  
   Draw = W3DTruckDraw ModuleTag_01
   OkToChangeModelColor     = Yes
    ConditionState          = NONE
      Model                 = RVCrane
      Animation             = RVCrane.RVCrane
      AnimationMode         = ONCE_BACKWARDS
      Flags                 = START_FRAME_FIRST
      ParticleSysBone       = EXHAUST01 DozerSmokeLight
      TransitionKey         = TRANS_IDLE
      HideSubObject         = LIGHT01
    End
    AliasConditionState     = MOVING
    ConditionState          = ACTIVELY_CONSTRUCTING 
      Model                 = RVCrane_A1
      Animation             = RVCrane_A1.RVCrane_A1
      AnimationMode         = LOOP
      ParticleSysBone       = EXHAUST01 DozerSmokeHeavy
      TransitionKey         = TRANS_CONSTRUCTING
      HideSubObject         = LIGHT01
    End
    AliasConditionState     = ACTIVELY_CONSTRUCTING MOVING
    TransitionState         = TRANS_IDLE TRANS_CONSTRUCTING
      Model                 = RVCrane
      Animation             = RVCrane.RVCrane
      AnimationMode         = ONCE
      Flags                 = MAINTAIN_FRAME_ACROSS_STATES
      ParticleSysBone       = EXHAUST01 DozerSmokeHeavy
      HideSubObject         = LIGHT01
    End
    TransitionState         = TRANS_CONSTRUCTING TRANS_IDLE
      Model                 = RVCrane
      Animation             = RVCrane.RVCrane
      AnimationMode         = ONCE_BACKWARDS
      Flags                 = MAINTAIN_FRAME_ACROSS_STATES
      AnimationSpeedFactorRange = 1.8 1.8
      ParticleSysBone       = EXHAUST01 DozerSmokeHeavy
      HideSubObject         = LIGHT01
    End
    
    ;Damaged
    ConditionState          = REALLYDAMAGED
      Model                 = RVCrane_D
      Animation             = RVCrane_D.RVCrane_D
      AnimationMode         = ONCE_BACKWARDS
      Flags                 = START_FRAME_FIRST
      ParticleSysBone       = EXHAUST01 DozerSmokeLight
      TransitionKey         = TRANS_DAMAGED_IDLE
      HideSubObject         = LIGHT01
    End
    AliasConditionState     = REALLYDAMAGED MOVING
    ConditionState          = REALLYDAMAGED ACTIVELY_CONSTRUCTING 
      Model                 = RVCrane_DA1
      Animation             = RVCrane_DA1.RVCrane_DA1
      AnimationMode         = LOOP
      ParticleSysBone       = EXHAUST01 DozerSmokeHeavy
      TransitionKey         = TRANS_DAMAGED_CONSTRUCTING
      HideSubObject         = LIGHT01
    End
    AliasConditionState     = REALLYDAMAGED ACTIVELY_CONSTRUCTING MOVING
    TransitionState         = TRANS_DAMAGED_IDLE TRANS_DAMAGED_CONSTRUCTING
      Model                 = RVCrane_D
      Animation             = RVCrane_D.RVCrane_D
      AnimationMode         = ONCE
      Flags                 = MAINTAIN_FRAME_ACROSS_STATES
      ParticleSysBone       = EXHAUST01 DozerSmokeHeavy
      HideSubObject         = LIGHT01
    End
    TransitionState         = TRANS_DAMAGED_CONSTRUCTING TRANS_DAMAGED_IDLE
      Model                 = RVCrane_D
      Animation             = RVCrane_D.RVCrane_D
      AnimationMode         = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 1.8 1.8
      Flags                 = MAINTAIN_FRAME_ACROSS_STATES
      ParticleSysBone       = EXHAUST01 DozerSmokeHeavy
      HideSubObject         = LIGHT01
    End
    TrackMarks = EXTireTrack.tga
    Dust = RocketBuggyDust
    DirtSpray = RocketBuggyDirtSpray
    LeftFrontTireBone     = Tire01
    RightFrontTireBone    = Tire02
    MidLeftFrontTireBone  = Tire03
    MidRightFrontTireBone = Tire04
    LeftRearTireBone      = Tire05
    RightRearTireBone     = Tire06
    MidLeftRearTireBone   = Tire07
    MidRightRearTireBone  = Tire08
    TireRotationMultiplier      = 0.2   ; this * speed = rotation.
    PowerslideRotationAddition  = 0   ; This vehicle doesn't powerslide.
  End
  
  Draw = W3DModelDraw ModuleTag_HeadLIGHT01
    OkToChangeModelColor = Yes
    DefaultConditionState
      Model = NONE
    End
    AliasConditionState = REALLYDAMAGED
    AliasConditionState = RUBBLE
    AliasConditionState = NIGHT RUBBLE
    ConditionState = NIGHT
      Model = RVCrane
      HideSubObject = CHASSIS TIRE01 TIRE02 TIRE03 TIRE04 TIRE05 TIRE06 TIRE07 TIRE08
    End
    AliasConditionState = NIGHT REALLYDAMAGED
  End
  
  ; Draw = W3DTankDraw ModuleTag_01

    ; OkToChangeModelColor = Yes

    ; DefaultConditionState
      ; Model             = bvconstdoz_A
      ; ParticleSysBone   = EXHAUST02 DozerSmokeLight
      ; ParticleSysBone   = EXHAUST01 DozerSmokeLight
    ; End

    ; ConditionState          = MOVING
      ; ParticleSysBone       = EXHAUST01 DozerSmokeHeavy
      ; ParticleSysBone       = EXHAUST02 DozerSmokeHeavy
    ; End
    ; ConditionState = FIRING_A MOVING PREATTACK_A 
      ; Model = bvconstdoz_A
      ; Animation = bvconstdoz_A.bvconstdoz_A
      ; AnimationMode = ONCE
      ; ParticleSysBone = EXHAUST01 DozerSmokeHeavy
      ; ParticleSysBone = EXHAUST02 DozerSmokeHeavy
      ; ParticleSysBone = DIRTFX01 DozerDirtFall
    ; End
    ; AliasConditionState = ATTACKING FIRING_A MOVING

    ; ConditionState          = REALLYDAMAGED RUBBLE
      ; Model                 = bvconstdoz_AD
    ; End
    ; ConditionState          = MOVING REALLYDAMAGED RUBBLE
      ; Model                 = bvconstdoz_AD
      ; ParticleSysBone       = EXHAUST01 DozerSmokeHeavy
      ; ParticleSysBone = EXHAUST02 DozerSmokeHeavy
    ; End
    ; ConditionState = FIRING_A MOVING PREATTACK_A REALLYDAMAGED RUBBLE
      ; Model = bvconstdoz_AD
      ; Animation = bvconstdoz_AD.bvconstdoz_AD
      ; AnimationMode = ONCE
      ; ParticleSysBone = EXHAUST01 DozerSmokeHeavy
      ; ParticleSysBone = EXHAUST02 DozerSmokeHeavy
      ; ParticleSysBone = DIRTFX01 DozerDirtFall
    ; End
    ; AliasConditionState = ATTACKING FIRING_A MOVING REALLYDAMAGED RUBBLE
    
    ; TrackMarks           = EXTnkTrack.tga
    ; TreadAnimationRate      = 2.0  ; amount of tread texture to move per second
  ; End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Dozer
  Side                = Boss
  EditorSorting       = VEHICLE
  TransportSlotCount  = 5 ;how many "slots" we take in a transport (0 == not transportable)
  BuildCost           = 150
  BuildTime           = 5.0 ; in seconds
  VisionRange         = 200
  ShroudClearingRange = 200

  WeaponSet
    Conditions = None 
    Weapon = PRIMARY None
  End
  WeaponSet
    Conditions = MINE_CLEARING_DETAIL 
    Weapon = PRIMARY DozerMineDisarmingWeapon
  End

  ArmorSet
    Conditions        = None
    Armor             = DozerArmor ;Special Explosion-Proof Armor
    DamageFX          = TankDamageFX
  End
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet          = Boss_AmericaDozerCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect         = DozerRussiaVoiceSelect
  VoiceMove           = DozerRussiaVoiceMove
  VoiceEnter          = DozerRussiaVoiceMove
  VoiceAttack         = DozerRussiaVoiceMove
  VoiceTaskComplete   = DozerRussiaVoiceBuildComplete
  SoundMoveStart      = DozerUSAMoveStart
  SoundMoveStartDamaged = DozerUSAMoveStart

  UnitSpecificSounds
    VoiceCreate       = DozerRussiaVoiceCreate
    VoiceCrush        = DozerRussiaVoiceMove
    VoiceNoBuild      = DozerRussiaVoiceCannotBuild
    VoiceRepair       = DozerRussiaVoiceRepair
    VoiceDisarm       = DozerRussiaVoiceMove
    VoiceEnter        = DozerRussiaVoiceMove
    VoiceBuildResponse = DozerRussiaVoiceBuild
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority       = UNIT
  KindOf              = PRELOAD VEHICLE SCORE SELECTABLE CAN_CAST_REFLECTIONS DOZER
 
  Body                = ActiveBody ModuleTag_02
    MaxHealth         = 250.0
    InitialHealth     = 250.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 500
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End
  Behavior = DozerAIUpdate ModuleTag_03
    RepairHealthPercentPerSecond = 2%    ; % of max health to repair each second
    BoredTime                    = 5000  ; in milliseconds
    BoredRange                   = 150   ; when bored, we look this far away to do something
    ; the only "enemies" that workers can acquire are mines, to be disarmed...
    AutoAcquireEnemiesWhenIdle   = Yes
  End

  Locomotor = SET_NORMAL RussianVehicleDozerLocomotor

  Behavior            = PhysicsBehavior ModuleTag_04
    Mass              = 75.0
  End

  Behavior = StealthDetectorUpdate ModuleTag_05
    DetectionRate         = 500   ; how often to rescan for stealthed things in my sight (msec)
    ;DetectionRange       = ??? ;Dustin, enable this for independant balancing!
    CanDetectWhileGarrisoned  = No ;Garrisoned means being in a structure that you units can shoot out of.
    CanDetectWhileContained   = No ;Contained means being in a transport or tunnel network.
    ExtraRequiredKindOf   = MINE  ; we can only detect MINES, not other stealthed things
  End

  Behavior                 = TransitionDamageFX ModuleTag_06
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  ; Catch fire, and explode death
  Behavior = SlowDeathBehavior ModuleTag_07
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier = 100
    DestructionDelay = 1500
    DestructionDelayVariance = 600
    FX  = INITIAL  FX_CrusaderCatchFire
    OCL = FINAL    OCL_ChinaDozerExplode  
    FX  = FINAL    FX_BattleMasterExplosionOneFinal
  End   

  Behavior = CreateCrateDie ModuleTag_CratesChange
    CrateData = SalvageCrateData
  End
  
  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = CommandSetUpgrade ModuleTag_1400
    TriggeredBy = Upgrade_ChinaWarFactoryupCommandSet
    RemovesUpgrades = Upgrade_ChinaWarFactorydownCommandSet
    CommandSet = Boss_AmericaDozerCommandSetTech
  End

  Behavior = CommandSetUpgrade ModuleTag_1700
    TriggeredBy = Upgrade_ChinaWarFactorydownCommandSet
    RemovesUpgrades = Upgrade_ChinaWarFactoryupCommandSet Upgrade_ChinaWarFactorydownCommandSet
    CommandSet = Boss_AmericaDozerCommandSet
  End

  Behavior = ProductionUpdate ModuleTag_18011
  End

  Behavior               = FXListDie ModuleTag_23
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX         = FX_CarCrush
  End

  Behavior = DestroyDie ModuleTag_24
    DeathTypes = NONE +CRUSHED +SPLATTED
  End

  Geometry            = BOX
  GeometryMajorRadius = 17.0
  GeometryMinorRadius = 10.0
  GeometryHeight      = 15.0     
  GeometryIsSmall     = Yes
  Shadow              = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length    

End












;------------------------------------------------------------------------------
Object Boss_CommandCenter

  ; *** ART Parameters ***
  
  ; ------------ the main building itself -----------------
  SelectPortrait         = SNComCentr_L
  ButtonImage            = SNComCentr
  
  ; Draw                   = W3DModelDraw ModuleTag_01
    ; OkToChangeModelColor = Yes
    
    ; ; DAY ************************************
    ; DefaultConditionState
      ; Model              = NBConYardI
      ; Animation          = NBConYardI.NBConYardI
      ; AnimationMode      = LOOP   
      ; HideSubObject      = PLANE03                  ;the vChina CC logo can't be hidden not like its subfactions
    ; End
    ; ConditionState       = DAMAGED
      ; Model              = NBConYardI_D
      ; Animation          = NBConYardI_D.NBConYardI_D
      ; AnimationMode      = LOOP    
      ; ParticleSysBone    = Fire01 SmolderingFire
      ; ParticleSysBone    = Fire02 SmolderingFire
      ; ParticleSysBone    = Fire03 SmolderingFire
      ; ParticleSysBone    = Smoke01 SmolderingSmoke
      ; ParticleSysBone    = Smoke02 SmolderingSmoke
      ; ParticleSysBone    = Smoke03 SmolderingSmoke
    ; End
    ; ConditionState       = REALLYDAMAGED RUBBLE
      ; Model              = NBConYardI_E
      ; Animation          = NBConYardI_E.NBConYardI_E
      ; AnimationMode      = LOOP
      ; ParticleSysBone    = Fire01 SmolderingFire
      ; ParticleSysBone    = Fire02 SmolderingFire
      ; ParticleSysBone    = Fire03 SmolderingFire
      ; ParticleSysBone    = Fire04 SmolderingFire
      ; ParticleSysBone    = Fire05 SmolderingFire
      ; ParticleSysBone    = Fire06 SmolderingFire
      ; ParticleSysBone    = Fire07 SmolderingFire
      ; ParticleSysBone    = Smoke01 SmolderingSmoke
      ; ParticleSysBone    = Smoke02 SmolderingSmoke
      ; ParticleSysBone    = Smoke03 SmolderingSmoke
    ; End


    ; ;NIGHT ***********************************
    ; ConditionState       = NIGHT
      ; Model              = NBConYardI_N
      ; Animation          = NBConYardI_N.NBConYardI_N
      ; AnimationMode      = LOOP    
    ; End
    ; ConditionState       = DAMAGED NIGHT
      ; Model              = NBConYardI_DN
      ; Animation          = NBConYardI_DN.NBConYardI_DN
      ; AnimationMode      = LOOP    
      ; ParticleSysBone    = Fire01 SmolderingFire
      ; ParticleSysBone    = Fire02 SmolderingFire
      ; ParticleSysBone    = Fire03 SmolderingFire
      ; ParticleSysBone    = Smoke01 SmolderingSmoke
      ; ParticleSysBone    = Smoke02 SmolderingSmoke
      ; ParticleSysBone    = Smoke03 SmolderingSmoke
    ; End
    ; ConditionState    = REALLYDAMAGED RUBBLE NIGHT
      ; Model           = NBConYardI_EN
      ; Animation       = NBConYardI_EN.NBConYardI_EN
      ; AnimationMode   = LOOP
      ; ParticleSysBone = Fire01 SmolderingFire
      ; ParticleSysBone = Fire02 SmolderingFire
      ; ParticleSysBone = Fire03 SmolderingFire
      ; ParticleSysBone = Fire04 SmolderingFire
      ; ParticleSysBone = Fire05 SmolderingFire
      ; ParticleSysBone = Fire06 SmolderingFire
      ; ParticleSysBone = Fire07 SmolderingFire
      ; ParticleSysBone = Smoke01 SmolderingSmoke
      ; ParticleSysBone = Smoke02 SmolderingSmoke
      ; ParticleSysBone = Smoke03 SmolderingSmoke
    ; End

    
    ; ;SNOW *************************************
    ; ConditionState       = SNOW
      ; Model              = NBConYardI_S
      ; Animation          = NBConYardI_S.NBConYardI_S
      ; AnimationMode      = LOOP    
    ; End
    ; ConditionState       = DAMAGED SNOW
      ; Model              = NBConYardI_DS
      ; Animation          = NBConYardI_DS.NBConYardI_DS
      ; AnimationMode      = LOOP    
      ; ParticleSysBone    = Fire01 SmolderingFire
      ; ParticleSysBone    = Fire02 SmolderingFire
      ; ParticleSysBone    = Fire03 SmolderingFire
      ; ParticleSysBone    = Smoke01 SmolderingSmoke
      ; ParticleSysBone    = Smoke02 SmolderingSmoke
      ; ParticleSysBone    = Smoke03 SmolderingSmoke
    ; End
    ; ConditionState       = REALLYDAMAGED RUBBLE SNOW
      ; Model              = NBConYardI_ES
      ; Animation          = NBConYardI_ES.NBConYardI_ES
      ; AnimationMode      = LOOP
      ; ParticleSysBone    = Fire01 SmolderingFire
      ; ParticleSysBone    = Fire02 SmolderingFire
      ; ParticleSysBone    = Fire03 SmolderingFire
      ; ParticleSysBone    = Fire04 SmolderingFire
      ; ParticleSysBone    = Fire05 SmolderingFire
      ; ParticleSysBone    = Fire06 SmolderingFire
      ; ParticleSysBone    = Fire07 SmolderingFire
      ; ParticleSysBone    = Smoke01 SmolderingSmoke
      ; ParticleSysBone    = Smoke02 SmolderingSmoke
      ; ParticleSysBone    = Smoke03 SmolderingSmoke
    ; End

    ; ;NIGHT SNOW *****************************
    ; ConditionState       = NIGHT SNOW
      ; Model              = NBConYardI_NS
      ; Animation          = NBConYardI_NS.NBConYardI_NS
      ; AnimationMode      = LOOP    
    ; End
    ; ConditionState       = DAMAGED NIGHT SNOW
      ; Model              = NBConYardI_DNS
      ; Animation          = NBConYardI_DNS.NBConYardI_DNS
      ; AnimationMode      = LOOP    
      ; ParticleSysBone    = Fire01 SmolderingFire
      ; ParticleSysBone    = Fire02 SmolderingFire
      ; ParticleSysBone    = Fire03 SmolderingFire
      ; ParticleSysBone    = Smoke01 SmolderingSmoke
      ; ParticleSysBone    = Smoke02 SmolderingSmoke
      ; ParticleSysBone    = Smoke03 SmolderingSmoke
    ; End
    ; ConditionState    = REALLYDAMAGED RUBBLE NIGHT SNOW
      ; Model           = NBConYardI_ENS
      ; Animation       = NBConYardI_ENS.NBConYardI_ENS
      ; AnimationMode   = LOOP
      ; ParticleSysBone = Fire01 SmolderingFire
      ; ParticleSysBone = Fire02 SmolderingFire
      ; ParticleSysBone = Fire03 SmolderingFire
      ; ParticleSysBone = Fire04 SmolderingFire
      ; ParticleSysBone = Fire05 SmolderingFire
      ; ParticleSysBone = Fire06 SmolderingFire
      ; ParticleSysBone = Fire07 SmolderingFire
      ; ParticleSysBone = Smoke01 SmolderingSmoke
      ; ParticleSysBone = Smoke02 SmolderingSmoke
      ; ParticleSysBone = Smoke03 SmolderingSmoke
    ; End   
    
    ; ;**************************************************************************************************************************
    ; ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ; ;for this draw module
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      ; Model              = NBConYardI
      ; Animation          = NBConYardI.NBConYardI
      ; AnimationMode      = LOOP
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      ; Model              = NBConYardI_D
      ; Animation          = NBConYardI_D.NBConYardI_D
      ; AnimationMode      = LOOP
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      ; Model              = NBConYardI_E
      ; Animation          = NBConYardI_E.NBConYardI_E
      ; AnimationMode      = LOOP
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
      ; Model              = NBConYardI_N
      ; Animation          = NBConYardI_N.NBConYardI_N
      ; AnimationMode      = LOOP
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
      ; Model              = NBConYardI_DN
      ; Animation          = NBConYardI_DN.NBConYardI_DN
      ; AnimationMode      = LOOP
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
      ; Model              = NBConYardI_EN
      ; Animation          = NBConYardI_EN.NBConYardI_EN
      ; AnimationMode      = LOOP
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      ; Model              = NBConYardI_S
      ; Animation          = NBConYardI_S.NBConYardI_S
      ; AnimationMode      = LOOP
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
      ; Model              = NBConYardI_DS
      ; Animation          = NBConYardI_DS.NBConYardI_DS
      ; AnimationMode      = LOOP
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
      ; Model              = NBConYardI_ES
      ; Animation          = NBConYardI_ES.NBConYardI_ES
      ; AnimationMode      = LOOP
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
      ; Model              = NBConYardI_NS
      ; Animation          = NBConYardI_NS.NBConYardI_NS
      ; AnimationMode      = LOOP
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
      ; Model              = NBConYardI_DNS
      ; Animation          = NBConYardI_DNS.NBConYardI_DNS
      ; AnimationMode      = LOOP
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
      ; Model              = NBConYardI_ENS
      ; Animation          = NBConYardI_ENS.NBConYardI_ENS
      ; AnimationMode      = LOOP
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End

    ; ConditionState       = AWAITING_CONSTRUCTION 
      ; Model              = NONE
    ; End
    ; AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    ; AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    ; AliasConditionState  = SOLD 
    ; AliasConditionState  = SOLD DAMAGED
    ; AliasConditionState  = SOLD REALLYDAMAGED
    ; AliasConditionState  = SOLD NIGHT
    ; AliasConditionState  = SOLD NIGHT DAMAGED
    ; AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    ; AliasConditionState  = SOLD SNOW
    ; AliasConditionState  = SOLD SNOW DAMAGED
    ; AliasConditionState  = SOLD SNOW REALLYDAMAGED
    ; AliasConditionState  = SOLD NIGHT SNOW
    ; AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    ; AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    ; ;**************************************************************************************************************************
  ; End
  
  ; ; ------------ Radar Extending -----------------
  ; Draw                = W3DModelDraw ModuleTag_02

    ; DefaultConditionState
      ; Model             = None
    ; End
    ; AliasConditionState = DAMAGED
    ; AliasConditionState = REALLYDAMAGED RUBBLE
       
    ; ConditionState      = RADAR_EXTENDING RADAR_UPGRADED 
      ; Model             = NBConYard_A2
      ; Animation         = NBConYard_A2.NBConYard_A2
      ; AnimationMode     = ONCE
      ; Flags             = START_FRAME_FIRST
    ; End
    
    ; ConditionState      = RADAR_EXTENDING DAMAGED RADAR_UPGRADED 
      ; Model             = NBConYard_A2D
      ; Animation         = NBConYard_A2D.NBConYard_A2D
      ; AnimationMode     = ONCE
      ; Flags             = START_FRAME_FIRST
    ; End
    
    ; ConditionState      = RADAR_EXTENDING REALLYDAMAGED RUBBLE RADAR_UPGRADED 
      ; Model             = NBConYard_A2E
      ; Animation         = NBConYard_A2E.NBConYard_A2E
      ; AnimationMode     = ONCE
      ; Flags             = START_FRAME_FIRST
    ; End
    
    ; ConditionState      = RADAR_UPGRADED
      ; Model             = NBConYard_A2
      ; Animation         = NBConYard_A2.NBConYard_A2
      ; AnimationMode     = MANUAL
      ; Flags             = START_FRAME_LAST
    ; End
    
    ; ConditionState      = RADAR_UPGRADED DAMAGED
      ; Model             = NBConYard_A2D
      ; Animation         = NBConYard_A2D.NBConYard_A2D
      ; AnimationMode     = MANUAL
      ; Flags             = START_FRAME_LAST
    ; End
    
    ; ConditionState      = RADAR_UPGRADED REALLYDAMAGED RUBBLE
      ; Model             = NBConYard_A2E
      ; Animation         = NBConYard_A2E.NBConYard_A2E
      ; AnimationMode     = MANUAL
      ; Flags             = START_FRAME_LAST
    ; End
    
    ; ConditionState      = RADAR_UPGRADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      ; Model             = NBConYard_A2
      ; Flags             = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
       
    ; ConditionState      = RADAR_UPGRADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED 
      ; Model             = NBConYard_A2D
      ; Flags             = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End   
    
    ; ConditionState      = RADAR_UPGRADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED RUBBLE 
      ; Model             = NBConYard_A2E
      ; Flags             = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End   
    
  ; End
  ; PlacementViewAngle = -135

  ; ; ------------ construction-zone fence -----------------
  ; Draw                = W3DModelDraw ModuleTag_03
  ; AnimationsRequirePower = No
    ; DefaultConditionState
      ; Model           = None
      ; TransitionKey   = DOWN_DEFAULT
    ; End
    ; ConditionState    = NIGHT
      ; Model           = None
      ; TransitionKey   = DOWN_DEFAULT
    ; End
    ; ConditionState    = SNOW
      ; Model           = None
      ; TransitionKey   = DOWN_DEFAULT
    ; End
    ; ConditionState    = SNOW NIGHT
      ; Model           = None
      ; TransitionKey   = DOWN_DEFAULT
    ; End
    ; ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      ; Model           = NBConYard_A4
      ; Animation       = NBConYard_A4.NBConYard_A4
      ; AnimationMode   = MANUAL
      ; Flags           = START_FRAME_LAST
      ; TransitionKey   = UP_DAY
      ; ParticleSysBone = Pit SmolderingFire
      ; ParticleSysBone = Pit01 SmolderingFire
      ; ParticleSysBone = Pit SmolderingSmoke
      ; ParticleSysBone = Pit01 SmolderingSmoke
    ; End
    ; ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      ; Model           = NBConYard_A4N
      ; Animation       = NBConYard_A4N.NBConYard_A4N
      ; AnimationMode   = MANUAL
      ; Flags           = START_FRAME_LAST
      ; TransitionKey   = UP_NIGHT
      ; ParticleSysBone = Pit SmolderingFire
      ; ParticleSysBone = Pit01 SmolderingFire
      ; ParticleSysBone = Pit SmolderingSmoke
      ; ParticleSysBone = Pit01 SmolderingSmoke
    ; End
    ; ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      ; Model           = NBConYard_A4S
      ; Animation       = NBConYard_A4S.NBConYard_A4S
      ; AnimationMode   = MANUAL
      ; Flags           = START_FRAME_LAST
      ; TransitionKey   = UP_SNOW
      ; ParticleSysBone = Pit SmolderingFire
      ; ParticleSysBone = Pit01 SmolderingFire
      ; ParticleSysBone = Pit SmolderingSmoke
      ; ParticleSysBone = Pit01 SmolderingSmoke
    ; End
    ; ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      ; Model           = NBConYard_A4SN
      ; Animation       = NBConYard_A4SN.NBConYard_A4SN
      ; AnimationMode   = MANUAL
      ; Flags           = START_FRAME_LAST
      ; TransitionKey   = UP_SNOWNIGHT
      ; ParticleSysBone = Pit SmolderingFire
      ; ParticleSysBone = Pit01 SmolderingFire
      ; ParticleSysBone = Pit SmolderingSmoke
      ; ParticleSysBone = Pit01 SmolderingSmoke
    ; End
    ; TransitionState   = DOWN_DEFAULT UP_DAY
      ; Model           = NBConYard_A4
      ; Animation       = NBConYard_A4.NBConYard_A4
      ; AnimationMode   = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags           = START_FRAME_FIRST
      ; ParticleSysBone = Pit SmolderingFire
      ; ParticleSysBone = Pit01 SmolderingFire
      ; ParticleSysBone = Pit SmolderingSmoke
      ; ParticleSysBone = Pit01 SmolderingSmoke
    ; End
    ; TransitionState   = DOWN_DEFAULT UP_NIGHT
      ; Model           = NBConYard_A4N
      ; Animation       = NBConYard_A4N.NBConYard_A4N
      ; AnimationMode   = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags           = START_FRAME_FIRST
      ; ParticleSysBone = Pit SmolderingFire
      ; ParticleSysBone = Pit01 SmolderingFire
      ; ParticleSysBone = Pit SmolderingSmoke
      ; ParticleSysBone = Pit01 SmolderingSmoke
    ; End
    ; TransitionState   = DOWN_DEFAULT UP_SNOW
      ; Model           = NBConYard_A4S
      ; Animation       = NBConYard_A4S.NBConYard_A4S
      ; AnimationMode   = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags           = START_FRAME_FIRST
      ; ParticleSysBone = Pit SmolderingFire
      ; ParticleSysBone = Pit01 SmolderingFire
      ; ParticleSysBone = Pit SmolderingSmoke
      ; ParticleSysBone = Pit01 SmolderingSmoke
    ; End
    ; TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      ; Model           = NBConYard_A4SN
      ; Animation       = NBConYard_A4SN.NBConYard_A4SN
      ; AnimationMode   = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags           = START_FRAME_FIRST
      ; ParticleSysBone = Pit SmolderingFire
      ; ParticleSysBone = Pit01 SmolderingFire
      ; ParticleSysBone = Pit SmolderingSmoke
      ; ParticleSysBone = Pit01 SmolderingSmoke
    ; End
    ; TransitionState   = UP_DAY DOWN_DEFAULT
      ; Model           = NBConYard_A4
      ; Animation       = NBConYard_A4.NBConYard_A4
      ; AnimationMode   = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      ; Flags           = START_FRAME_LAST
      ; ParticleSysBone = Pit SmolderingFire
      ; ParticleSysBone = Pit01 SmolderingFire
      ; ParticleSysBone = Pit SmolderingSmoke
      ; ParticleSysBone = Pit01 SmolderingSmoke
    ; End
    ; TransitionState   = UP_NIGHT DOWN_DEFAULT
      ; Model           = NBConYard_A4N
      ; Animation       = NBConYard_A4N.NBConYard_A4N
      ; AnimationMode   = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      ; Flags           = START_FRAME_LAST
      ; ParticleSysBone = Pit SmolderingFire
      ; ParticleSysBone = Pit01 SmolderingFire
      ; ParticleSysBone = Pit SmolderingSmoke
      ; ParticleSysBone = Pit01 SmolderingSmoke
    ; End
    ; TransitionState   = UP_SNOW DOWN_DEFAULT
      ; Model           = NBConYard_A4S
      ; Animation       = NBConYard_A4S.NBConYard_A4S
      ; AnimationMode   = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      ; Flags           = START_FRAME_LAST
      ; ParticleSysBone = Pit SmolderingFire
      ; ParticleSysBone = Pit01 SmolderingFire
      ; ParticleSysBone = Pit SmolderingSmoke
      ; ParticleSysBone = Pit01 SmolderingSmoke
    ; End
    ; TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      ; Model           = NBConYard_A4SN
      ; Animation       = NBConYard_A4SN.NBConYard_A4SN
      ; AnimationMode   = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      ; Flags           = START_FRAME_LAST
      ; ParticleSysBone = Pit SmolderingFire
      ; ParticleSysBone = Pit01 SmolderingFire
      ; ParticleSysBone = Pit SmolderingSmoke
      ; ParticleSysBone = Pit01 SmolderingSmoke
    ; End
  ; End

  ; ; ------------ under-construction scaffolding -----------------
  ; Draw                = W3DModelDraw ModuleTag_04
    ; AnimationsRequirePower = No
    ; MinLODRequired = MEDIUM
    ; DefaultConditionState
      ; Model           = None
      ; TransitionKey   = DOWN_DEFAULT
    ; End
    ; ConditionState    = NIGHT
      ; Model           = None
      ; TransitionKey   = DOWN_DEFAULT
    ; End
    ; ConditionState    = SNOW
      ; Model           = None
      ; TransitionKey   = DOWN_DEFAULT
    ; End
    ; ConditionState    = SNOW NIGHT
      ; Model           = None
      ; TransitionKey   = DOWN_DEFAULT
    ; End
    ; ConditionState    = PARTIALLY_CONSTRUCTED
      ; Model           = NBConYard_A6
      ; Animation       = NBConYard_A6.NBConYard_A6
      ; AnimationMode   = MANUAL
      ; Flags           = START_FRAME_LAST
      ; TransitionKey   = UP_DAY
      ; ParticleSysBone = Dust01 BuildingDustChina
      ; ParticleSysBone = SmokeM01 BuildUpSmokeChina
      ; ParticleSysBone = SmokeS02 BuildUpSmokeChina
      ; ParticleSysBone = SparksM01 BuildUpSmokeChina
      ; ParticleSysBone = SparksM02 BuildUpSmokeChina
      ; ParticleSysBone = SparksS01 BuildUpSmokeChina
      ; ParticleSysBone = SparksS02 BuildUpSmokeChina
    ; End
    ; ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      ; Model           = NBConYard_A6N
      ; Animation       = NBConYard_A6N.NBConYard_A6N
      ; AnimationMode   = MANUAL
      ; Flags           = START_FRAME_LAST
      ; TransitionKey   = UP_NIGHT

      ; ParticleSysBone = Dust01 BuildingDustChina
      ; ParticleSysBone = SmokeM01 BuildUpSmokeChina
      ; ParticleSysBone = SmokeS02 BuildUpSmokeChina
      ; ParticleSysBone = SparksM01 BuildUpSmokeChina
      ; ParticleSysBone = SparksM02 BuildUpSmokeChina
      ; ParticleSysBone = SparksS01 BuildUpSmokeChina
      ; ParticleSysBone = SparksS02 BuildUpSmokeChina
    ; End
    ; ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      ; Model           = NBConYard_A6S
      ; Animation       = NBConYard_A6S.NBConYard_A6S
      ; AnimationMode   = MANUAL
      ; Flags           = START_FRAME_LAST
      ; TransitionKey   = UP_SNOW
      ; ParticleSysBone = Dust01 BuildingSnowDust
      ; ParticleSysBone = SmokeM01 BuildUpSnowSmoke
      ; ParticleSysBone = SmokeS02 BuildUpSnowSmoke
      ; ParticleSysBone = SparksM01 BuildUpSnowSmoke
      ; ParticleSysBone = SparksM02 BuildUpSnowSmoke
      ; ParticleSysBone = SparksS01 BuildUpSnowSmoke
      ; ParticleSysBone = SparksS02 BuildUpSnowSmoke
    ; End
    ; ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      ; Model           = NBConYard_A6SN
      ; Animation       = NBConYard_A6SN.NBConYard_A6SN
      ; AnimationMode   = MANUAL
      ; Flags           = START_FRAME_LAST
      ; TransitionKey   = UP_SNOWNIGHT
      ; ParticleSysBone = Dust01 BuildingNightSnowDust
      ; ParticleSysBone = SmokeM01 BuildUpNightSnowSmoke
      ; ParticleSysBone = SmokeS02 BuildUpNightSnowSmoke
      ; ParticleSysBone = SparksM01 BuildUpNightSnowSmoke
      ; ParticleSysBone = SparksM02 BuildUpNightSnowSmoke
      ; ParticleSysBone = SparksS01 BuildUpNightSnowSmoke
      ; ParticleSysBone = SparksS02 BuildUpNightSnowSmoke
    ; End
    ; TransitionState   = DOWN_DEFAULT UP_DAY
     ; Model            = NBConYard_A6
      ; Animation       = NBConYard_A6.NBConYard_A6
      ; AnimationMode   = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags           = START_FRAME_FIRST
    ; End
    ; TransitionState   = DOWN_DEFAULT UP_NIGHT
     ; Model            = NBConYard_A6N
      ; Animation       = NBConYard_A6N.NBConYard_A6N
      ; AnimationMode   = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags           = START_FRAME_FIRST
    ; End
    ; TransitionState   = DOWN_DEFAULT UP_SNOW
     ; Model            = NBConYard_A6S
      ; Animation       = NBConYard_A6S.NBConYard_A6S
      ; AnimationMode   = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags           = START_FRAME_FIRST
    ; End
    ; TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
     ; Model            = NBConYard_A6SN
      ; Animation       = NBConYard_A6SN.NBConYard_A6SN
      ; AnimationMode   = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags           = START_FRAME_FIRST
    ; End
    ; TransitionState   = UP_DAY DOWN_DEFAULT
      ; Model           = NBConYard_A6
      ; Animation       = NBConYard_A6.NBConYard_A6
      ; AnimationMode   = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      ; Flags           = START_FRAME_LAST
    ; End
    ; TransitionState   = UP_NIGHT DOWN_DEFAULT
      ; Model           = NBConYard_A6N
      ; Animation       = NBConYard_A6N.NBConYard_A6N
      ; AnimationMode   = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      ; Flags           = START_FRAME_LAST
    ; End
    ; TransitionState   = UP_SNOW DOWN_DEFAULT
      ; Model           = NBConYard_A6S
      ; Animation       = NBConYard_A6S.NBConYard_A6S
      ; AnimationMode   = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      ; Flags           = START_FRAME_LAST
    ; End
    ; TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      ; Model           = NBConYard_A6SN
      ; Animation       = NBConYard_A6SN.NBConYard_A6SN
      ; AnimationMode   = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      ; Flags           = START_FRAME_LAST
    ; End
  ; End

  ; ; ------------ being-constructed crane -----------------
  ; Draw = W3DModelDraw ModuleTag_05
    ; AnimationsRequirePower = No
    ; DefaultConditionState
      ; Model           = None
      ; TransitionKey   = DOWN_DEFAULT
    ; End
    ; ConditionState    = NIGHT
      ; Model           = None
      ; TransitionKey   = DOWN_DEFAULT
    ; End
    ; ConditionState    = SNOW
      ; Model           = None
      ; TransitionKey   = DOWN_DEFAULT
    ; End
    ; ConditionState    = SNOW NIGHT
      ; Model           = None
      ; TransitionKey   = DOWN_DEFAULT
    ; End
    
    ; ConditionState  = ACTIVELY_BEING_CONSTRUCTED
      ; Model           = NBConYard_A5
      ; Animation       = NBConYard_A5.NBConYard_A5
      ; AnimationMode   = LOOP
      ; TransitionKey  = UP_DAY
    ; End

    ; ConditionState  = NIGHT ACTIVELY_BEING_CONSTRUCTED
      ; Model           = NBConYard_A5N
      ; Animation       = NBConYard_A5N.NBConYard_A5N
      ; AnimationMode   = LOOP
      ; TransitionKey  = UP_NIGHT
    ; End
    ; ConditionState  = SNOW ACTIVELY_BEING_CONSTRUCTED
      ; Model           = NBConYard_A5S
      ; Animation       = NBConYard_A5S.NBConYard_A5S
      ; AnimationMode   = LOOP
      ; TransitionKey  = UP_SNOW
    ; End
    ; ConditionState  = SNOW NIGHT ACTIVELY_BEING_CONSTRUCTED
      ; Model           = NBConYard_A5SN
      ; Animation       = NBConYard_A5SN.NBConYard_A5SN
      ; AnimationMode   = LOOP
      ; TransitionKey  = UP_SNOWNIGHT
    ; End
    ; TransitionState   = DOWN_DEFAULT UP_DAY
      ; Model            = NBConYard_AB
      ; Animation       = NBConYard_AB.NBConYard_AB
      ; AnimationMode   = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags           = START_FRAME_FIRST
    ; End

    ; TransitionState   = DOWN_DEFAULT UP_NIGHT
      ; Model            = NBConYard_ABN
      ; Animation       = NBConYard_ABN.NBConYard_ABN
      ; AnimationMode   = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags           = START_FRAME_FIRST
    ; End
    ; TransitionState   = DOWN_DEFAULT UP_SNOW
      ; Model            = NBConYard_ABS
      ; Animation       = NBConYard_ABS.NBConYard_ABS
      ; AnimationMode   = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags           = START_FRAME_FIRST
    ; End
    ; TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      ; Model            = NBConYard_ABSN
      ; Animation       = NBConYard_ABSN.NBConYard_ABSN
      ; AnimationMode   = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags           = START_FRAME_FIRST
    ; End
    ; TransitionState   = UP_DAY DOWN_DEFAULT
      ; Model            = NBConYard_AB
      ; Animation       = NBConYard_AB.NBConYard_AB
      ; AnimationMode   = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      ; Flags           = START_FRAME_LAST
    ; End
    ; TransitionState   = UP_NIGHT DOWN_DEFAULT
      ; Model            = NBConYard_ABN
      ; Animation       = NBConYard_ABN.NBConYard_ABN
      ; AnimationMode   = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      ; Flags           = START_FRAME_LAST
    ; End
    ; TransitionState   = UP_SNOW DOWN_DEFAULT
      ; Model            = NBConYard_ABS
      ; Animation       = NBConYard_ABS.NBConYard_ABS
      ; AnimationMode   = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      ; Flags           = START_FRAME_LAST
    ; End
    ; TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      ; Model            = NBConYard_ABSN
      ; Animation       = NBConYard_ABSN.NBConYard_ABSN
      ; AnimationMode   = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      ; Flags           = START_FRAME_LAST
    ; End
  ; End
    
; ; ----------------- the factory door -------------------
  ; Draw                = W3DModelDraw ModuleTag_06
    ; DefaultConditionState
      ; Model           = NBConYard_A7
      ; Animation       = NBConYard_A7.NBConYard_A7
      ; AnimationMode   = MANUAL
      ; Flags           = START_FRAME_FIRST
    ; End
    ; AliasConditionState = NIGHT
    ; AliasConditionState = SNOW
    ; AliasConditionState = NIGHT SNOW
    
    ; ConditionState    = DAMAGED
      ; Model           = NBConYard_A7D
      ; Animation       = NBConYard_A7D.NBConYard_A7D
      ; AnimationMode   = MANUAL
      ; Flags           = START_FRAME_FIRST
    ; End
    ; AliasConditionState = NIGHT DAMAGED
    ; AliasConditionState = SNOW DAMAGED
    ; AliasConditionState = NIGHT SNOW DAMAGED
    
    ; ConditionState    = REALLYDAMAGED RUBBLE
      ; Model           = NBConYard_A7D
      ; Animation       = NBConYard_A7D.NBConYard_A7D
      ; AnimationMode   = MANUAL
      ; Flags           = START_FRAME_FIRST
    ; End
    ; AliasConditionState = NIGHT REALLYDAMAGED RUBBLE
    ; AliasConditionState = SNOW REALLYDAMAGED RUBBLE
    ; AliasConditionState = NIGHT SNOW REALLYDAMAGED RUBBLE
    
    ; ConditionState    = DOOR_1_OPENING
      ; Model           = NBConYard_A7
      ; Animation       = NBConYard_A7.NBConYard_A7
      ; AnimationMode   = ONCE
      ; Flags           = START_FRAME_FIRST
    ; End   
    ; AliasConditionState = NIGHT DOOR_1_OPENING
    ; AliasConditionState = SNOW DOOR_1_OPENING
    ; AliasConditionState = NIGHT SNOW DOOR_1_OPENING
    
    ; ConditionState    = DOOR_1_OPENING DAMAGED
      ; Model           = NBConYard_A7D
      ; Animation       = NBConYard_A7D.NBConYard_A7D
      ; AnimationMode   = ONCE
      ; Flags           = START_FRAME_FIRST
    ; End   
    ; AliasConditionState = NIGHT DOOR_1_OPENING DAMAGED
    ; AliasConditionState = SNOW DOOR_1_OPENING DAMAGED
    ; AliasConditionState = NIGHT SNOW DOOR_1_OPENING DAMAGED
    
    ; ConditionState    = DOOR_1_OPENING REALLYDAMAGED RUBBLE
      ; Model           = NBConYard_A7D
      ; Animation       = NBConYard_A7D.NBConYard_A7D
      ; AnimationMode   = ONCE
      ; Flags           = START_FRAME_FIRST
    ; End
    ; AliasConditionState = NIGHT DOOR_1_OPENING REALLYDAMAGED RUBBLE
    ; AliasConditionState = SNOW DOOR_1_OPENING REALLYDAMAGED RUBBLE
    ; AliasConditionState = NIGHT SNOW DOOR_1_OPENING REALLYDAMAGED RUBBLE
    
    ; ConditionState    = DOOR_1_CLOSING
      ; Model           = NBConYard_A7
      ; Animation       = NBConYard_A7.NBConYard_A7
      ; AnimationMode   = ONCE_BACKWARDS
      ; Flags           = START_FRAME_LAST
    ; End 
    ; AliasConditionState = NIGHT DOOR_1_CLOSING
    ; AliasConditionState = SNOW DOOR_1_CLOSING
    ; AliasConditionState = NIGHT SNOW DOOR_1_CLOSING
      
    ; ConditionState    = DOOR_1_CLOSING DAMAGED
      ; Model           = NBConYard_A7D
      ; Animation       = NBConYard_A7D.NBConYard_A7D
      ; AnimationMode   = ONCE_BACKWARDS
      ; Flags           = START_FRAME_LAST
    ; End   
    ; AliasConditionState = NIGHT DOOR_1_CLOSING DAMAGED
    ; AliasConditionState = SNOW DOOR_1_CLOSING DAMAGED
    ; AliasConditionState = NIGHT SNOW DOOR_1_CLOSING DAMAGED
    
    ; ConditionState    = DOOR_1_CLOSING REALLYDAMAGED RUBBLE
      ; Model           = NBConYard_A7D
      ; Animation       = NBConYard_A7D.NBConYard_A7D
      ; AnimationMode   = ONCE_BACKWARDS
      ; Flags           = START_FRAME_LAST
    ; End   
    ; AliasConditionState = NIGHT DOOR_1_CLOSING REALLYDAMAGED RUBBLE
    ; AliasConditionState = SNOW DOOR_1_CLOSING REALLYDAMAGED RUBBLE
    ; AliasConditionState = NIGHT SNOW DOOR_1_CLOSING REALLYDAMAGED RUBBLE
    
    ; ConditionState    = DOOR_1_WAITING_OPEN
      ; Model           = NBConYard_A7
      ; Animation       = NBConYard_A7.NBConYard_A7
      ; AnimationMode   = MANUAL
      ; Flags           = START_FRAME_LAST
    ; End  
    ; AliasConditionState = NIGHT DOOR_1_WAITING_OPEN
    ; AliasConditionState = SNOW DOOR_1_WAITING_OPEN
    ; AliasConditionState = NIGHT SNOW DOOR_1_WAITING_OPEN
     
    ; ConditionState    = DOOR_1_WAITING_OPEN DAMAGED
      ; Model           = NBConYard_A7D
      ; Animation       = NBConYard_A7D.NBConYard_A7D
      ; AnimationMode   = MANUAL
      ; Flags           = START_FRAME_LAST
    ; End  
    ; AliasConditionState = NIGHT DOOR_1_WAITING_OPEN DAMAGED
    ; AliasConditionState = SNOW DOOR_1_WAITING_OPEN DAMAGED
    ; AliasConditionState = NIGHT SNOW DOOR_1_WAITING_OPEN DAMAGED
     
    ; ConditionState    = DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE
      ; Model           = NBConYard_A7D
      ; Animation       = NBConYard_A7D.NBConYard_A7D
      ; AnimationMode   = MANUAL
      ; Flags           = START_FRAME_LAST
    ; End   
    ; AliasConditionState = NIGHT DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE
    ; AliasConditionState = SNOW DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE
    ; AliasConditionState = NIGHT SNOW DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE
    
    ; ;**************************************************************************************************************************
    ; ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ; ;for this draw module
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      ; Model              = NBConYard_A7
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
    
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      ; Model              = NBConYard_A7D
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED SNOW
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT SNOW
    
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      ; Model              = NBConYard_A7D
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED SNOW
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT SNOW
    
    ; ConditionState       = AWAITING_CONSTRUCTION 
      ; Model              = NONE
    ; End
    ; AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    ; AliasConditionState  = SOLD DAMAGED
    ; AliasConditionState  = SOLD REALLYDAMAGED
    ; AliasConditionState  = SOLD NIGHT
    ; AliasConditionState  = SOLD NIGHT DAMAGED
    ; AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    ; AliasConditionState  = SOLD NIGHT SNOW
    ; AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    ; AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    ; ;**************************************************************************************************************************
    
  ; End

  ; ;-- Boss Logo --

  ; Draw = W3DModelDraw ModuleTag_SideLogo
    ; IgnoreConditionStates = NIGHT
    ; OkToChangeModelColor = Yes

    ; DefaultConditionState
      ; Model              = NBBossGCCLogo
     ; End
    
    ; ConditionState       = DAMAGED
      ; Model              = NBBossGCCLogo
    ; End
    ; ConditionState       = REALLYDAMAGED RUBBLE
      ; Model              = NBBossGCCLogo
    ; End

    ; ConditionState       = SNOW
      ; Model              = NBBossGCCLogo
    ; End
    
    ; ConditionState       = DAMAGED SNOW
      ; Model              = NBBossGCCLogo
    ; End

    ; ConditionState       = REALLYDAMAGED RUBBLE SNOW
      ; Model              = NBBossGCCLogo
    ; End
    
    ; ConditionState       = PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      ; Model              = NBBossGCCLogo
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End

    ; ConditionState       = PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      ; Model              = NBBossGCCLogo
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    
    ; ConditionState       = PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      ; Model              = NBBossGCCLogo
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    
    ; ConditionState       = PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED SNOW
      ; Model              = NBBossGCCLogo
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    
    ; ConditionState       = PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED RUBBLE
      ; Model              = NBBossGCCLogo
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    
    ; ConditionState       = PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED RUBBLE SNOW
      ; Model              = NBBossGCCLogo
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End

    ; ConditionState       = AWAITING_CONSTRUCTION 
      ; Model              = NONE
    ; End
    ; AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    ; AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    ; AliasConditionState  = SOLD 
    ; AliasConditionState  = SOLD DAMAGED
    ; AliasConditionState  = SOLD REALLYDAMAGED
    ; AliasConditionState  = SOLD SNOW
    ; AliasConditionState  = SOLD SNOW DAMAGED
    ; AliasConditionState  = SOLD SNOW REALLYDAMAGED
  ; End

  ; PlacementViewAngle = -135
  
  Draw                   = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes
    
    ; DAY ************************************
    DefaultConditionState
      Model              = RBComBnkr
      HideSubObject      = RADAR FLAGPART01 FLAGPART02 FLAGPART03 FAN01 FAN02 FAN03 FAN04
    End
    AliasConditionState = NIGHT
    
    ConditionState       = DAMAGED
      Model              = RBComBnkr_D
      ParticleSysBone    = Smoke06 SmolderingFire
      ParticleSysBone    = Smoke04 SmolderingSmoke
      ParticleSysBone    = Smoke05 SmolderingSmoke
      ParticleSysBone    = Smoke06 SmolderingSmoke
    End
    AliasConditionState = DAMAGED NIGHT
    AliasConditionState = DAMAGED SNOW
    AliasConditionState = DAMAGED NIGHT SNOW
    
    ConditionState = REALLYDAMAGED RUBBLE
      Model              = RBComBnkr_D
      ParticleSysBone    = Smoke04 SmolderingFire
      ParticleSysBone    = Smoke05 SmolderingFire
      ParticleSysBone    = Smoke06 SmolderingFire
      ParticleSysBone    = Smoke04 SmolderingSmoke
      ParticleSysBone    = Smoke05 SmolderingSmoke
      ParticleSysBone    = Smoke06 SmolderingSmoke
    End
    AliasConditionState = REALLYDAMAGED RUBBLE NIGHT
    AliasConditionState = REALLYDAMAGED RUBBLE SNOW
    AliasConditionState = REALLYDAMAGED RUBBLE NIGHT SNOW

    ConditionState = SNOW
      Model              = RBComBnkr_S
    End
    AliasConditionState = NIGHT SNOW
    
        ;;;; Door Animations
    ConditionState    = DOOR_1_OPENING
      Model           = RBComBnkr
      Animation       = RBComBnkr.RBComBnkr
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 2.0 2.0
    End   
    AliasConditionState = NIGHT DOOR_1_OPENING
    
    ConditionState    = DOOR_1_OPENING DAMAGED
      Model           = RBComBnkr_D
      Animation       = RBComBnkr_D.RBComBnkr_D
      AnimationMode   = ONCE
      ParticleSysBone    = Smoke06 SmolderingFire
      ParticleSysBone    = Smoke04 SmolderingSmoke
      ParticleSysBone    = Smoke05 SmolderingSmoke
      ParticleSysBone    = Smoke06 SmolderingSmoke
      AnimationSpeedFactorRange = 2.0 2.0
    End   
    AliasConditionState = DOOR_1_OPENING REALLYDAMAGED RUBBLE
    AliasConditionState = NIGHT DOOR_1_OPENING DAMAGED
    AliasConditionState = NIGHT DOOR_1_OPENING REALLYDAMAGED RUBBLE
    
    ConditionState    = DOOR_1_CLOSING
      Model           = RBComBnkr
      Animation       = RBComBnkr.RBComBnkr
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
    End   
    AliasConditionState = NIGHT DOOR_1_CLOSING
    
    ConditionState    = DOOR_1_CLOSING DAMAGED
      Model           = RBComBnkr_D
      Animation       = RBComBnkr_D.RBComBnkr_D
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      ParticleSysBone    = Smoke06 SmolderingFire
      ParticleSysBone    = Smoke04 SmolderingSmoke
      ParticleSysBone    = Smoke05 SmolderingSmoke
      ParticleSysBone    = Smoke06 SmolderingSmoke
    End   
    AliasConditionState = DOOR_1_CLOSING REALLYDAMAGED RUBBLE
    AliasConditionState = NIGHT DOOR_1_CLOSING DAMAGED
    AliasConditionState = NIGHT DOOR_1_CLOSING REALLYDAMAGED RUBBLE
    
    ConditionState    = DOOR_1_WAITING_OPEN
      Model           = RBComBnkr
      Animation       = RBComBnkr.RBComBnkr
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
    End   
    AliasConditionState = NIGHT DOOR_1_WAITING_OPEN
    
    ConditionState    = DOOR_1_WAITING_OPEN DAMAGED
      Model           = RBComBnkr_D
      Animation       = RBComBnkr_D.RBComBnkr_D
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      ParticleSysBone    = Smoke06 SmolderingFire
      ParticleSysBone    = Smoke04 SmolderingSmoke
      ParticleSysBone    = Smoke05 SmolderingSmoke
      ParticleSysBone    = Smoke06 SmolderingSmoke
    End   
    AliasConditionState = DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE
    AliasConditionState = NIGHT DOOR_1_WAITING_OPEN DAMAGED
    AliasConditionState = NIGHT DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE
    
    
;;;;;;;;;;;;;;Snow
    ConditionState    = DOOR_1_OPENING SNOW
      Model           = RBComBnkr_S
      Animation       = RBComBnkr_S.RBComBnkr_S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 2.0 2.0
    End   
    AliasConditionState = NIGHT DOOR_1_OPENING SNOW
    
    ConditionState    = DOOR_1_OPENING DAMAGED SNOW
      Model           = RBComBnkr_D
      Animation       = RBComBnkr_D.RBComBnkr_D
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 2.0 2.0
      ParticleSysBone    = Smoke06 SmolderingFire
      ParticleSysBone    = Smoke04 SmolderingSmoke
      ParticleSysBone    = Smoke05 SmolderingSmoke
      ParticleSysBone    = Smoke06 SmolderingSmoke
    End   
    AliasConditionState = SNOW DOOR_1_OPENING REALLYDAMAGED RUBBLE
    AliasConditionState = NIGHT DOOR_1_OPENING DAMAGED SNOW
    AliasConditionState = NIGHT SNOW DOOR_1_OPENING REALLYDAMAGED RUBBLE
    
    ConditionState    = DOOR_1_CLOSING SNOW
      Model           = RBComBnkr_S
      Animation       = RBComBnkr_S.RBComBnkr_S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
    End   
    AliasConditionState = NIGHT DOOR_1_CLOSING SNOW
    
    ConditionState    = DOOR_1_CLOSING DAMAGED SNOW
      Model           = RBComBnkr_D
      Animation       = RBComBnkr_D.RBComBnkr_D
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      ParticleSysBone    = Smoke06 SmolderingFire
      ParticleSysBone    = Smoke04 SmolderingSmoke
      ParticleSysBone    = Smoke05 SmolderingSmoke
      ParticleSysBone    = Smoke06 SmolderingSmoke
    End   
    AliasConditionState = SNOW DOOR_1_CLOSING REALLYDAMAGED RUBBLE
    AliasConditionState = NIGHT DOOR_1_CLOSING DAMAGED SNOW
    AliasConditionState = NIGHT SNOW DOOR_1_CLOSING REALLYDAMAGED RUBBLE
    
    ConditionState    = DOOR_1_WAITING_OPEN SNOW
      Model           = RBComBnkr_S
      Animation       = RBComBnkr_S.RBComBnkr_S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
    End   
    AliasConditionState = NIGHT DOOR_1_WAITING_OPEN SNOW
    
    ConditionState    = DOOR_1_WAITING_OPEN DAMAGED SNOW
      Model           = RBComBnkr_D
      Animation       = RBComBnkr_D.RBComBnkr_D
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      ParticleSysBone    = Smoke06 SmolderingFire
      ParticleSysBone    = Smoke04 SmolderingSmoke
      ParticleSysBone    = Smoke05 SmolderingSmoke
      ParticleSysBone    = Smoke06 SmolderingSmoke
    End   
    AliasConditionState = SNOW DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE
    AliasConditionState = NIGHT DOOR_1_WAITING_OPEN DAMAGED SNOW
    AliasConditionState = NIGHT SNOW DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE
    
    ;**************************************************************************************************************************

    ConditionState      = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model             = RBComBnkr
      Flags             = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
    
    ConditionState      = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model             = RBComBnkr_D
      Flags             = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED

    ConditionState      = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model             = RBComBnkr_D
      Flags             = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED

    ConditionState      = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model             = RBComBnkr_S
      Flags             = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    ;**************************************************************************************************************************
  End

  ; ------------ radar and other animated parts -----------------
  Draw                   = W3DModelDraw ModuleTag_MovingStuff01
    OkToChangeModelColor = Yes
    
    ; DAY ************************************
    DefaultConditionState
      Model              = RBComBnkr
      Animation          = RBComBnkr.RBComBnkr
      AnimationMode      = LOOP
      HideSubObject      = FOUNDATION
    End
    AliasConditionState = NIGHT
    
    ConditionState       = DAMAGED
      Model              = RBComBnkr_D
      Animation          = RBComBnkr_D.RBComBnkr_D
    End
    AliasConditionState = DAMAGED NIGHT
    AliasConditionState = DAMAGED SNOW
    AliasConditionState = DAMAGED NIGHT SNOW
    
    ConditionState = REALLYDAMAGED RUBBLE
      Model              = RBComBnkr_D
      Animation          = RBComBnkr_D.RBComBnkr_D
    End
    AliasConditionState = REALLYDAMAGED RUBBLE NIGHT
    AliasConditionState = REALLYDAMAGED RUBBLE SNOW
    AliasConditionState = REALLYDAMAGED RUBBLE NIGHT SNOW

    ConditionState = SNOW
      Model              = RBComBnkr_S
      Animation          = RBComBnkr_S.RBComBnkr_S
    End
    AliasConditionState = NIGHT SNOW
    
    ;**************************************************************************************************************************

    ConditionState      = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model             = RBComBnkr
      Flags             = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
    
    ConditionState      = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model             = RBComBnkr_D
      Flags             = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED

    ConditionState      = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model             = RBComBnkr_D
      Flags             = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED

    ConditionState      = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model             = RBComBnkr_S
      Flags             = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    ;**************************************************************************************************************************
  End

  ; ------------ construction-zone fence -----------------
  Draw = W3DModelDraw ModuleTag_02
  AnimationsRequirePower = No

    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    AliasConditionState = NIGHT
    AliasConditionState = SNOW
    AliasConditionState = SNOW NIGHT

    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = RBComBnkr_BF
      Animation       = RBComBnkr_BF.RBComBnkr_BF
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
    End
    AliasConditionState = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
    AliasConditionState = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
    AliasConditionState = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED

    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = RBComBnkr_BF
      Animation       = RBComBnkr_BF.RBComBnkr_BF
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = RBComBnkr_BF
      Animation       = RBComBnkr_BF.RBComBnkr_BF
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_LAST
    End

  End

; ------------ under-construction scaffolding -----------------
  Draw = W3DModelDraw ModuleTag_03
  AnimationsRequirePower = No
    MinLODRequired = MEDIUM
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    AliasConditionState = NIGHT
    AliasConditionState = SNOW
    AliasConditionState = SNOW NIGHT

    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = RBComBnkr_SC
      Animation       = RBComBnkr_SC.RBComBnkr_SC
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Smoke01 BuildUpSmokeChina
      ParticleSysBone = Smoke02 BuildUpSmokeChina
      ParticleSysBone = Smoke03 BuildUpSmokeChina
    End
    AliasConditionState = NIGHT PARTIALLY_CONSTRUCTED
    AliasConditionState = SNOW PARTIALLY_CONSTRUCTED
    AliasConditionState = SNOW NIGHT PARTIALLY_CONSTRUCTED

    TransitionState   = DOWN_DEFAULT UP_DAY
     Model            = RBComBnkr_SC
      Animation       = RBComBnkr_SC.RBComBnkr_SC
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = RBComBnkr_SC
      Animation       = RBComBnkr_SC.RBComBnkr_SC
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_LAST
    End

  End
  
  Draw = W3DModelDraw ModuleTag_NightCondition01
    OkToChangeModelColor = Yes

      DefaultConditionState
          Model              = NONE
      End
    AliasConditionState  = AWAITING_CONSTRUCTION 
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
    
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
      Model              = RBComBnkr_N
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT
      Model              = RBComBnkr_N
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT
      Model              = RBComBnkr_N
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW NIGHT
      Model              = RBComBnkr_N
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED NIGHT
      Model              = RBComBnkr_N
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED NIGHT
      Model              = RBComBnkr_N
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
    End
      ConditionState = NIGHT
          Model              = RBComBnkr_N
      End
      ConditionState = NIGHT DAMAGED
          Model              = RBComBnkr_N
      End
      ConditionState = NIGHT REALLYDAMAGED
          Model              = RBComBnkr_N
      End
      ConditionState = NIGHT SNOW
          Model              = RBComBnkr_N
      End
      ConditionState = NIGHT DAMAGED SNOW
          Model              = RBComBnkr_N
      End
      ConditionState = NIGHT REALLYDAMAGED SNOW
          Model              = RBComBnkr_N
      End
  End
  
  PlacementViewAngle = -135

  ; ***DESIGN parameters ***
  DisplayName       = OBJECT:CommandCenter
  Side              = Boss
  EditorSorting     = STRUCTURE
  BuildCost         = 2000
  BuildTime         = 45.0           ; in seconds
  EnergyProduction  = 0  ;Command center should be free
  CommandSet        = Boss_ChinaCommandCenterCommandSet
  VisionRange       = 300.0           ; Shroud clearing distance
  ShroudClearingRange = 300
  ArmorSet
    Conditions      = None
    Armor           = StructureArmorTough
    DamageFX        = StructureDamageFXNoShake
  End
  ExperienceValue     = 200 200 200 200  ; Experience point value at each level

  ; *** AUDIO Parameters ***
  VoiceSelect       = CommandCenterChinaSelect
  SoundOnDamaged        = BuildingDamagedStateLight
  SoundOnReallyDamaged  = BuildingDestroy

  UnitSpecificSounds
    UnderConstruction     = UnderConstructionLoop
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority     = STRUCTURE
  KindOf            = PRELOAD STRUCTURE SELECTABLE IMMOBILE COMMANDCENTER SCORE CAPTURABLE FS_FACTORY AUTO_RALLYPOINT MP_COUNT_FOR_VICTORY

  Body              = StructureBody ModuleTag_07
    MaxHealth       = 5000.0
    InitialHealth   = 5000.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 5200
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
  End

  Behavior = PreorderCreate ModuleTag_PreorderCreate
  End

  Behavior = ProductionUpdate ModuleTag_08
    NumDoorAnimations            = 1
    DoorOpeningTime              = 3000  ;in mSeconds
    DoorWaitOpenTime             = 3000  ;in mSeconds
    DoorCloseTime                = 3000  ;in mSeconds
    ConstructionCompleteDuration = 1500  ;in mSeconds
  End
  Behavior = DefaultProductionExitUpdate ModuleTag_09
    UnitCreatePoint   = X: 27.358  Y: -1.395   Z:0.0
    NaturalRallyPoint = X: 82.045  Y: -1.395   Z:0.0
  End
  Behavior = RadarUpdate ModuleTag_10
    RadarExtendTime   = 4000     ;in mSeconds
  End

  Behavior             = DestroyDie ModuleTag_11
    ;nothing
  End
  Behavior             = CreateObjectDie ModuleTag_12
    CreationList  = OCL_LargeStructureDebris
  End
  Behavior             = FXListDie ModuleTag_13
    DeathFX       = FX_StructureMediumDeath
  End

  Behavior         = RadarUpgrade ModuleTag_14
    TriggeredBy   = Upgrade_ChinaRadar
  End

  ; Behavior = GenerateMinefieldBehavior     ModuleTag_15
    ; TriggeredBy           = Upgrade_ChinaMines
    ; MineName              = ChinaStandardMine
    ; SmartBorder           = Yes
    ; AlwaysCircular        = Yes

    ; Upgradable            = Yes
    ; UpgradedTriggeredBy   = Upgrade_ChinaEMPMines
    ; UpgradedMineName      = ChinaEMPMine
  ; End

  Behavior           = OCLSpecialPower ModuleTag_17
    SpecialPowerTemplate = SuperweaponArtilleryBarrage
    UpgradeOCL           = SCIENCE_ArtilleryBarrage3 SUPERWEAPON_ArtilleryBarrage3
    UpgradeOCL           = SCIENCE_ArtilleryBarrage2 SUPERWEAPON_ArtilleryBarrage2
    OCL                  = SUPERWEAPON_ArtilleryBarrage1
    CreateLocation       = CREATE_AT_EDGE_FARTHEST_FROM_TARGET
  End

  Behavior           = OCLSpecialPower ModuleTag_18
    SpecialPowerTemplate = SuperweaponClusterMines
    OCL                  = SUPERWEAPON_ClusterMines
    CreateLocation       = CREATE_AT_EDGE_NEAR_SOURCE
  End

  Behavior           = OCLSpecialPower ModuleTag_19
    SpecialPowerTemplate = SuperweaponHeavyBomb
    OCL                  = SUPERWEAPON_HeavyBomb
    CreateLocation       = CREATE_AT_EDGE_NEAR_SOURCE
  End 

  Behavior           = CashHackSpecialPower ModuleTag_20
    SpecialPowerTemplate = SuperweaponCashHack
    UpgradeMoneyAmount   = SCIENCE_CashHack3 10000
    UpgradeMoneyAmount   = SCIENCE_CashHack2 5000
    MoneyAmount          = 1000  ; amount of money to steal
  End

  Behavior           = OCLSpecialPower ModuleTag_22;this has been removed from everywhere but the ChinaAirfield in CHI05
    SpecialPowerTemplate = Early_SuperweaponChinaCarpetBomb
    OCL                  = SUPERWEAPON_ChinaCarpetBomb
    CreateLocation       = CREATE_AT_EDGE_NEAR_SOURCE
  End

  Behavior           = OCLSpecialPower ModuleTag_99;this has been removed from everywhere but the ChinaAirfield in CHI05
   SpecialPowerTemplate = SuperweaponFireBomb
   OCL                  = SUPERWEAPON_FireBomb
   CreateLocation       = CREATE_AT_EDGE_NEAR_SOURCE
  End

  Behavior           = OCLSpecialPower ModuleTag_32
    SpecialPowerTemplate = SuperweaponNapalmClusterStrike
    OCL                  = SUPERWEAPON_NapalmClusterStrike
    CreateLocation       = CREATE_AT_EDGE_NEAR_SOURCE
  End

  Behavior           = OCLSpecialPower ModuleTag_93
    SpecialPowerTemplate = SuperweaponSneakAttack
    OCL                  = OCL_CreateSneakAttackTunnelStart
    CreateLocation       = CREATE_AT_LOCATION
    ReferenceObject      = GLASneakAttackTunnelNetwork ;So we know what the final product is for script placement calculations
  End

  Behavior = CashBountyPower ModuleTag_96
    SpecialPowerTemplate    = SpecialAbilityCashBounty1
    Bounty                  = 5%
  End
  Behavior = CashBountyPower ModuleTag_97
    SpecialPowerTemplate    = SpecialAbilityCashBounty2
    Bounty                  = 10%
  End
  Behavior = CashBountyPower ModuleTag_98
    SpecialPowerTemplate    = SpecialAbilityCashBounty3
    Bounty                  = 20%
  End

  Behavior           = OCLSpecialPower ModuleTag_27
    SpecialPowerTemplate = SuperweaponEmergencyRepair
    UpgradeOCL           = SCIENCE_EmergencyRepair3 SUPERWEAPON_RepairVehicles3
    UpgradeOCL           = SCIENCE_EmergencyRepair2 SUPERWEAPON_RepairVehicles2
    OCL                  = SUPERWEAPON_RepairVehicles1
    CreateLocation       = CREATE_AT_LOCATION
  End

  Behavior = FlammableUpdate ModuleTag_23
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 5       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = TransitionDamageFX ModuleTag_24
    ;-------------DESIGNED FOR MEDIUM SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionMediumExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionMediumShockwave
  End

  ; Behavior = CommandSetUpgrade ModuleTag_25
    ; CommandSet = Boss_ChinaCommandCenterCommandSetUpgrade
    ; TriggeredBy = Upgrade_ChinaMines
  ; End

  Behavior = BaseRegenerateUpdate ModuleTag_1301
    ;No data
  End 

  ; Behavior             = CreateObjectDie ModuleTag_16112
    ; CreationList  = OCL_AmericanRangerDebris06
    ; ExemptStatus  = UNDER_CONSTRUCTION
  ; End

  Geometry            = BOX
  FactoryExitWidth    = 25
  GeometryMajorRadius = 60.0
  GeometryMinorRadius = 63.0
  GeometryHeight      = 36.0
  GeometryIsSmall     = No
  Shadow              = SHADOW_VOLUME
  BuildCompletion     = PLACED_BY_PLAYER
  Scale               = 1.02
End

;------------------------------------------------------------------------------
Object Boss_JetNewB52

  ; *** ART Parameters ***
  Draw = W3DModelDraw ModuleTag_01
    DefaultConditionState
      Model = AVBomber
      ParticleSysBone = Engine00 JetBlackTrailThin
      ParticleSysBone = Engine02 JetBlackTrailThin
      ParticleSysBone = Engine03 JetBlackTrailThin
      ParticleSysBone = Engine04 JetBlackTrailThin
      ParticleSysBone = WingTip01 JetContrailThin
      ParticleSysBone = WingTip02 JetContrailThin
    End
    ConditionState = DAMAGED
      Model = AVBomber_D
      ParticleSysBone = Smoke01 JetFireLarge
      ParticleSysBone = Smoke02 JetFireLarge
      ParticleSysBone = Engine00 JetBlackTrailThin
      ParticleSysBone = Engine02 JetBlackTrailThin
      ParticleSysBone = Engine03 JetBlackTrailThin
      ParticleSysBone = Engine04 JetBlackTrailThin
      ParticleSysBone = Smoke01 JetSmokeLarge
      ParticleSysBone = Smoke02 JetSmokeLarge
    End
    ConditionState = REALLYDAMAGED
      Model = AVBomber_D
      ParticleSysBone = Smoke01 JetFireLarge
      ParticleSysBone = Smoke02 JetFireLarge
      ParticleSysBone = Engine00 JetBlackTrailThin
      ParticleSysBone = Engine02 JetBlackTrailThin
      ParticleSysBone = Engine03 JetBlackTrailThin
      ParticleSysBone = Engine04 JetBlackTrailThin
      ParticleSysBone = Smoke01 JetSmokeLarge
      ParticleSysBone = Smoke02 JetSmokeLarge
    End
    ConditionState = RUBBLE
      Model = AVBomber_D1
      ParticleSysBone = Smoke01 JetFireLarge
      ParticleSysBone = Smoke02 JetFireLarge
      ParticleSysBone = Smoke01 JetSmokeLarge
      ParticleSysBone = Smoke02 JetSmokeLarge
    End
    OkToChangeModelColor = Yes
  End
  
  Draw = W3DModelDraw ModuleTag_02
    DefaultConditionState
      Model           = AVBomber_A2U
      Animation       = AVBomber_A2K.AVBomber_A2
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST MAINTAIN_FRAME_ACROSS_STATES
    End
    ConditionState = DOOR_1_OPENING
      Animation       = AVBomber_A2K.AVBomber_A2
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST MAINTAIN_FRAME_ACROSS_STATES
    End
    ConditionState = DOOR_1_CLOSING
      Animation       = AVBomber_A2K.AVBomber_A2
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST MAINTAIN_FRAME_ACROSS_STATES
    End

    ConditionState = REALLYDAMAGED
      Model           = AVBomber_A2DU
      Animation       = AVBomber_A2K.AVBomber_A2
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST MAINTAIN_FRAME_ACROSS_STATES
    End
    ConditionState = DOOR_1_OPENING REALLYDAMAGED
      Model           = AVBomber_A2DU
      Animation       = AVBomber_A2K.AVBomber_A2
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST MAINTAIN_FRAME_ACROSS_STATES
    End
    ConditionState = DOOR_1_CLOSING REALLYDAMAGED
      Model           = AVBomber_A2DU
      Animation       = AVBomber_A2K.AVBomber_A2
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST MAINTAIN_FRAME_ACROSS_STATES
    End
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:B52
  EditorSorting       = VEHICLE
  Side                = Boss
  TransportSlotCount  = 0                 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange         = 0.0 
  ArmorSet
    Conditions      = None
    Armor           = AirplaneArmor
    DamageFX        = TankDamageFX
  End
  ArmorSet
    Conditions            = PLAYER_UPGRADE
    Armor                 = CountermeasuresAirplaneArmor
    DamageFX              = None
  End
  CommandSet        = Command_NewScriptedTransportDrops

  ; *** AUDIO Parameters ***
  SoundAmbient = B52AmbientLoop
  SoundAmbientRubble    = NoSound

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK  VEHICLE SCORE TRANSPORT AIRCRAFT IGNORED_IN_GUI EMP_HARDENED
  Body = ActiveBody ModuleTag_03
    MaxHealth       = 1200.0
    InitialHealth   = 1200.0
  End

  ExperienceValue     = 50 50 50 50  ; Experience point value at each level

  ;SCRIPTED SUPPORT: These special powers are triggered directly 
  ;from the transport without creating a transport. This is done 
  ;via new code support and CreateLocation USE_OWNER_OBJECT -- 
  ;which also prevents creating the payload transport.
  Behavior    = OCLSpecialPower ModuleTag_04
    SpecialPowerTemplate = SuperweaponDaisyCutter  ;@@KRIS@@
    OCL                  = SUPERWEAPON_DaisyCutter
    CreateLocation       = USE_OWNER_OBJECT
    ScriptedSpecialPowerOnly = Yes
  End
  Behavior    = OCLSpecialPower ModuleTag_05
    SpecialPowerTemplate = SuperweaponParadropAmerica
    UpgradeOCL           = SCIENCE_Paradrop3 SUPERWEAPON_Paradrop3
    UpgradeOCL           = SCIENCE_Paradrop2 SUPERWEAPON_Paradrop2
    OCL                  = SUPERWEAPON_Paradrop1
    CreateLocation       = USE_OWNER_OBJECT
    ScriptedSpecialPowerOnly = Yes
  End 
  Behavior    = OCLSpecialPower ModuleTag_06
    SpecialPowerTemplate = SuperweaponHeavyBomb
    OCL                  = SUPERWEAPON_HeavyBomb
    CreateLocation       = USE_OWNER_OBJECT
    ScriptedSpecialPowerOnly = Yes
  End 
   
  Behavior = PhysicsBehavior ModuleTag_07
    Mass = 500.0
  End

  Behavior = DeliverPayloadAIUpdate ModuleTag_08
    DoorDelay         = 500
    MaxAttempts       = 4
    DropOffset        = X:0 Y:0 Z:-10
    DropDelay         = 300     ; time in between each item dropped (if more than one)
    PutInContainer    = AmericaParachute
    DeliveryDistance  = 150
  End
  Locomotor = SET_NORMAL B52Locomotor

  Behavior = TransportContain ModuleTag_09
    Slots                       = 100                     ; hey, it's a BIG transport
    ScatterNearbyOnExit         = No
    OrientLikeContainerOnExit   = Yes
    KeepContainerVelocityOnExit = Yes
    ExitPitchRate               = 30
    ExitBone                    = WeaponA01
    AllowInsideKindOf           = INFANTRY VEHICLE PROJECTILE DOZER PARACHUTABLE
    DoorOpenTime                = 0                ; this prevents the Contain module from messing with the doors, since we want DeliverPayload to handle 'em
    NumberOfExitPaths           = 0
    DestroyRidersWhoAreNotFreeToExit = Yes  ; 'destroy' as opposed to 'kill'
  End
    
  Behavior                          = JetSlowDeathBehavior ModuleTag_10
    DestructionDelay                = 2000 
    RollRate                        = 0.0
    RollRateDelta                   = 100%      ;each frame, rollrate = rollrate * rollrateDelta
    PitchRate                       = 0
    FallHowFast                     = 25.0%    ;Bigger is faster (can be over 100%,it's a fraction of gravity)
    FXInitialDeath                  = FX_JetBigDeathInitial
    OCLInitialDeath                 = OCL_AmericaJetCargoDeathStart
    DelaySecondaryFromInitialDeath  = 2000       ; in milliseconds     This guy won't hit the ground, so this time equals the above time
    OCLSecondary                    = OCL_AmericaJetCargoHulkDeath
    FXSecondary                     = FX_BigPlaneDeath
;   FXFinalBlowUp                   = FX_JetDeathFinalBlowUp
;   OCLFinalBlowUp                  = OCL_AuroraDeathFinalBlowUp
;   DeathLoopSound                  = MICAL NEEDS TO MAKE ME
  End

  Behavior = TransitionDamageFX ModuleTag_11
    DamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
  End

  Behavior                = ArmorUpgrade ModuleTag_Armor01
    TriggeredBy           = Upgrade_AmericaCountermeasures
  End

  Behavior                = CountermeasuresBehavior ModuleTag_12
    TriggeredBy           = Upgrade_AmericaCountermeasures
    FlareTemplateName     = CountermeasureFlare
    FlareBoneBaseName     = Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
    VolleySize            = 4     ; Number of flares launched per volley (requires bones)
    VolleyArcAngle        = 90.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
    VolleyVelocityFactor  = 2.0   ; Shoots out flares at a stronger velocity with a higher value.
    DelayBetweenVolleys   = 1000  ; Time between flare volleys
    NumberOfVolleys       = 5     ; Number of times the volleys will fire before reloading
    ReloadTime            = 0     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
    EvasionRate           = 50%   ; With active flares, the specified percentage will be diverted.
    ReactionLaunchLatency = 0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
    MissileDecoyDelay     = 200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
  End

  Geometry = Box
  GeometryIsSmall = No
  GeometryMajorRadius = 60.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 10.0
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object Boss_PowerPlant

  ; *** ART Parameters ***
  SelectPortrait         = SBPowerPlant
  ButtonImage            = SBPowerPlant

; ---- the building itself ------
  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes

    ; day ********************************************
    ConditionState       = NONE;
      Model              = BBPWRPLANT
      ParticleSysBone    = SMOKETR1 SteamVent
      ParticleSysBone    = SMOKETR2 SteamVent
    End
    ConditionState       = DAMAGED
      Model              = BBPWRPLANT_D
      ParticleSysBone    = Smoke01 SmolderingSmoke 
      ParticleSysBone    = SMOKETR1 SteamVent
      ParticleSysBone    = SMOKETR2 SmolderingSmoke
      ParticleSysBone    = Fire01 SmolderingFireLarge
      ParticleSysBone    = SMOKETR1 LiveWireSparks
      ParticleSysBone    = Sparks02 LiveWireSparks
    End
    ConditionState       = REALLYDAMAGED RUBBLE
      Model              = BBPWRPLANT_E
      ParticleSysBone    = Smoke01 SmolderingSmoke 
      ParticleSysBone    = SMOKETR1 SteamVent
      ParticleSysBone    = SMOKETR2 SmolderingSmoke
      ParticleSysBone    = Fire01 SmolderingFireLarge
      ParticleSysBone    = SMOKETR1 LiveWireSparks
      ParticleSysBone    = Sparks02 LiveWireSparks
    End

    ; day upgrade
    ConditionState = POWER_PLANT_UPGRADED ;
      Model              = BBPWRPLANT
      ParticleSysBone    = SMOKETR2 SteamVent
      ParticleSysBone    = SMOKETR2 SteamVent
    End
    ConditionState = DAMAGED POWER_PLANT_UPGRADED
      Model              = BBPWRPLANT_D
      ParticleSysBone    = Smoke01 SmolderingSmoke 
      ParticleSysBone    = SMOKETR1 SteamVent
      ParticleSysBone    = SMOKETR2 SmolderingSmoke
      ParticleSysBone    = Fire01 SmolderingFireLarge
      ParticleSysBone    = SMOKETR1 LiveWireSparks
      ParticleSysBone    = Sparks02 LiveWireSparks
    End
    ConditionState = REALLYDAMAGED RUBBLE POWER_PLANT_UPGRADED
      Model              = BBPWRPLANT_E
      ParticleSysBone    = Smoke01 SmolderingSmoke 
      ParticleSysBone    = SMOKETR1 SteamVent
      ParticleSysBone    = SMOKETR2 SmolderingSmoke
      ParticleSysBone    = Fire01 SmolderingFireLarge
      ParticleSysBone    = SMOKETR1 LiveWireSparks
      ParticleSysBone    = Sparks02 LiveWireSparks
    End

    ; night 
    ConditionState = NIGHT;
      Model              = BBPWRPLANT
      ParticleSysBone    = SMOKETR1 SteamVent
      ParticleSysBone    = SMOKETR2 SteamVent
    End
    ConditionState       = DAMAGED NIGHT
      Model              = BBPWRPLANT_D
      ParticleSysBone    = Smoke01 SmolderingSmoke 
      ParticleSysBone    = SMOKETR1 SteamVent
      ParticleSysBone    = SMOKETR2 SmolderingSmoke
      ParticleSysBone    = Fire01 SmolderingFireLarge
      ParticleSysBone    = SMOKETR1 LiveWireSparks
      ParticleSysBone    = Sparks02 LiveWireSparks
    End
    ConditionState = REALLYDAMAGED RUBBLE NIGHT;
      Model              = BBPWRPLANT_E
      ParticleSysBone    = Smoke01 SmolderingSmoke 
      ParticleSysBone    = SMOKETR1 SteamVent
      ParticleSysBone    = SMOKETR2 SmolderingSmoke
      ParticleSysBone    = Fire01 SmolderingFireLarge
      ParticleSysBone    = SMOKETR1 LiveWireSparks
      ParticleSysBone    = Sparks02 LiveWireSparks
    End

    ; night upgraded
    ConditionState = NIGHT POWER_PLANT_UPGRADED
      Model              = BBPWRPLANT
      ParticleSysBone    = SMOKETR1 SteamVent
      ParticleSysBone    = SMOKETR2 SteamVent
    End
    ConditionState       = DAMAGED NIGHT POWER_PLANT_UPGRADED
      Model              = BBPWRPLANT_D
      ParticleSysBone    = Smoke01 SmolderingSmoke 
      ParticleSysBone    = SMOKETR1 SteamVent
      ParticleSysBone    = SMOKETR2 SmolderingSmoke
      ParticleSysBone    = Fire01 SmolderingFireLarge
      ParticleSysBone    = SMOKETR1 LiveWireSparks
      ParticleSysBone    = Sparks02 LiveWireSparks
    End
    ConditionState = REALLYDAMAGED RUBBLE NIGHT POWER_PLANT_UPGRADED
      Model              = BBPWRPLANT_E
      ParticleSysBone    = Smoke01 SmolderingSmoke 
      ParticleSysBone    = SMOKETR1 SteamVent
      ParticleSysBone    = SMOKETR2 SmolderingSmoke
      ParticleSysBone    = Fire01 SmolderingFireLarge
      ParticleSysBone    = SMOKETR1 LiveWireSparks
      ParticleSysBone    = Sparks02 LiveWireSparks
    End
    
    
        ; day ********************************************
    ConditionState       = SNOW
      Model              = BBPWRPLANT_S
      ParticleSysBone    = SMOKETR1 SteamVent
      ParticleSysBone    = SMOKETR2 SteamVent
    End
    ConditionState       = DAMAGED SNOW
      Model              = BBPWRPLANT_SD
      ParticleSysBone    = Smoke01 SmolderingSmoke 
      ParticleSysBone    = SMOKETR1 SteamVent
      ParticleSysBone    = SMOKETR2 SmolderingSmoke
      ParticleSysBone    = Fire01 SmolderingFireLarge
      ParticleSysBone    = SMOKETR1 LiveWireSparks
      ParticleSysBone    = Sparks02 LiveWireSparks
    End
    ConditionState       = REALLYDAMAGED RUBBLE SNOW
      Model              = BBPWRPLANT_SE
      ParticleSysBone    = Smoke01 SmolderingSmoke 
      ParticleSysBone    = SMOKETR1 SteamVent
      ParticleSysBone    = SMOKETR2 SmolderingSmoke
      ParticleSysBone    = Fire01 SmolderingFireLarge
      ParticleSysBone    = SMOKETR1 LiveWireSparks
      ParticleSysBone    = Sparks02 LiveWireSparks
    End


    ; day upgrade
    ConditionState = POWER_PLANT_UPGRADED SNOW;
      Model              = BBPWRPLANT_S
      ParticleSysBone    = SMOKETR1 SteamVent
      ParticleSysBone    = SMOKETR2 SteamVent
    End
    ConditionState = DAMAGED POWER_PLANT_UPGRADED SNOW
      Model              = BBPWRPLANT_SD
      ParticleSysBone    = Smoke01 SmolderingSmoke 
      ParticleSysBone    = SMOKETR1 SteamVent
      ParticleSysBone    = SMOKETR2 SmolderingSmoke
      ParticleSysBone    = Fire01 SmolderingFireLarge
      ParticleSysBone    = SMOKETR1 LiveWireSparks
      ParticleSysBone    = Sparks02 LiveWireSparks
    End
    ConditionState = REALLYDAMAGED RUBBLE POWER_PLANT_UPGRADED SNOW
      Model              = BBPWRPLANT_SE
      ParticleSysBone    = Smoke01 SmolderingSmoke 
      ParticleSysBone    = SMOKETR1 SteamVent
      ParticleSysBone    = SMOKETR2 SmolderingSmoke
      ParticleSysBone    = Fire01 SmolderingFireLarge
      ParticleSysBone    = SMOKETR1 LiveWireSparks
      ParticleSysBone    = Sparks02 LiveWireSparks
    End


    ; night 
    ConditionState = NIGHT SNOW;
      Model              = BBPWRPLANT_S
      ParticleSysBone    = SMOKETR1 SteamVent
      ParticleSysBone    = SMOKETR2 SteamVent
    End
    ConditionState       = DAMAGED NIGHT SNOW
      Model              = BBPWRPLANT_SD
      ParticleSysBone    = Smoke01 SmolderingSmoke 
      ParticleSysBone    = SMOKETR1 SteamVent
      ParticleSysBone    = SMOKETR2 SmolderingSmoke
      ParticleSysBone    = Fire01 SmolderingFireLarge
      ParticleSysBone    = SMOKETR1 LiveWireSparks
      ParticleSysBone    = Sparks02 LiveWireSparks
    End
    ConditionState = REALLYDAMAGED RUBBLE NIGHT SNOW;
      Model              = BBPWRPLANT_SE
      ParticleSysBone    = Smoke01 SmolderingSmoke 
      ParticleSysBone    = SMOKETR1 SteamVent
      ParticleSysBone    = SMOKETR2 SmolderingSmoke
      ParticleSysBone    = Fire01 SmolderingFireLarge
      ParticleSysBone    = SMOKETR1 LiveWireSparks
      ParticleSysBone    = Sparks02 LiveWireSparks
    End

    ; night upgraded
    ConditionState = NIGHT POWER_PLANT_UPGRADED SNOW
      Model              = BBPWRPLANT_S
      ParticleSysBone    = SMOKETR1 SteamVent
      ParticleSysBone    = SMOKETR2 SteamVent
    End
    ConditionState       = DAMAGED NIGHT POWER_PLANT_UPGRADED SNOW
      Model              = BBPWRPLANT_SD
      ParticleSysBone    = Smoke01 SmolderingSmoke 
      ParticleSysBone    = SMOKETR1 SteamVent
      ParticleSysBone    = SMOKETR2 SmolderingSmoke
      ParticleSysBone    = Fire01 SmolderingFireLarge
      ParticleSysBone    = SMOKETR1 LiveWireSparks
      ParticleSysBone    = Sparks02 LiveWireSparks
    End
    ConditionState = REALLYDAMAGED RUBBLE NIGHT POWER_PLANT_UPGRADED SNOW
      Model              = BBPWRPLANT_SE
      ParticleSysBone    = Smoke01 SmolderingSmoke 
      ParticleSysBone    = SMOKETR1 SteamVent
      ParticleSysBone    = SMOKETR2 SmolderingSmoke
      ParticleSysBone    = Fire01 SmolderingFireLarge
      ParticleSysBone    = SMOKETR1 LiveWireSparks
      ParticleSysBone    = Sparks02 LiveWireSparks
    End
    
    ;**************************************************************************************************************************
    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ;for this draw module
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = BBPWRPLANT
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = BBPWRPLANT_E
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = BBPWRPLANT_E
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
      Model              = BBPWRPLANT
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
      Model              = BBPWRPLANT_E
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
      Model              = BBPWRPLANT_E
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model              = BBPWRPLANT
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
      Model              = BBPWRPLANT_E
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
      Model              = BBPWRPLANT_E
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
      Model              = BBPWRPLANT
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
      Model              = BBPWRPLANT_E
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
      Model              = BBPWRPLANT_E
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End

    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD DAMAGED POWER_PLANT_UPGRADED
    AliasConditionState  = SOLD REALLYDAMAGED POWER_PLANT_UPGRADED
    AliasConditionState  = SOLD NIGHT POWER_PLANT_UPGRADED
    AliasConditionState  = SOLD NIGHT DAMAGED POWER_PLANT_UPGRADED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED POWER_PLANT_UPGRADED
    AliasConditionState  = SOLD SNOW POWER_PLANT_UPGRADED
    AliasConditionState  = SOLD SNOW DAMAGED POWER_PLANT_UPGRADED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED POWER_PLANT_UPGRADED
    AliasConditionState  = SOLD NIGHT SNOW POWER_PLANT_UPGRADED
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED POWER_PLANT_UPGRADED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED POWER_PLANT_UPGRADED
    ;**************************************************************************************************************************
  End

   ; ------------ construction-zone fence -----------------
  Draw = W3DModelDraw ModuleTag_02
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = NBIndustrl_A2
      Animation       = NBIndustrl_A2.NBIndustrl_A2
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
    End
    ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = NBIndustrl_A2
      Animation       = NBIndustrl_A2.NBIndustrl_A2
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
    End
    ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = NBIndustrl_A2S
      Animation       = NBIndustrl_A2S.NBIndustrl_A2S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
    End
    ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = NBIndustrl_A2S
      Animation       = NBIndustrl_A2S.NBIndustrl_A2S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = NBIndustrl_A2
      Animation       = NBIndustrl_A2.NBIndustrl_A2
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = NBIndustrl_A2
      Animation       = NBIndustrl_A2.NBIndustrl_A2
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = NBIndustrl_A2S
      Animation       = NBIndustrl_A2S.NBIndustrl_A2S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = NBIndustrl_A2S
      Animation       = NBIndustrl_A2S.NBIndustrl_A2S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = NBIndustrl_A2
      Animation       = NBIndustrl_A2.NBIndustrl_A2
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = NBIndustrl_A2
      Animation       = NBIndustrl_A2.NBIndustrl_A2
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = NBIndustrl_A2S
      Animation       = NBIndustrl_A2S.NBIndustrl_A2S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = NBIndustrl_A2
      Animation       = NBIndustrl_A2.NBIndustrl_A2
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ under-construction scaffolding -----------------
  Draw = W3DModelDraw ModuleTag_03
  AnimationsRequirePower = No
    MinLODRequired = MEDIUM
    IgnoreConditionStates = NIGHT
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End

    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End

    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = NBIndustrl_A1
      Animation       = NBIndustrl_A1.NBIndustrl_A1
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Dust01 BuildingDustChina
      ParticleSysBone = Smoke01 BuildUpSmokeChina
      ParticleSysBone = Smoke02 BuildUpSmokeChina
      ParticleSysBone = Smoke03 BuildUpSmokeChina
      ParticleSysBone = Smoke04 BuildUpSmokeChina
    End

    ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      Model           = NBIndustrl_A1S
      Animation       = NBIndustrl_A1S.NBIndustrl_A1S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = Dust01 BuildingSnowDust
      ParticleSysBone = Smoke01 BuildUpSnowSmoke
      ParticleSysBone = Smoke02 BuildUpSnowSmoke
      ParticleSysBone = Smoke03 BuildUpSnowSmoke
      ParticleSysBone = Smoke04 BuildUpSnowSmoke
    End

    TransitionState   = DOWN_DEFAULT UP_DAY
     Model            = NBIndustrl_A1
      Animation       = NBIndustrl_A1.NBIndustrl_A1
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End

    TransitionState   = DOWN_DEFAULT UP_SNOW
     Model            = NBIndustrl_A1S
      Animation       = NBIndustrl_A1S.NBIndustrl_A1S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End

    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = NBIndustrl_A1
      Animation       = NBIndustrl_A1.NBIndustrl_A1
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End

    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = NBIndustrl_A1S
      Animation       = NBIndustrl_A1S.NBIndustrl_A1S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End

  End

  ; ------------ being-constructed crane -----------------
  Draw = W3DModelDraw ModuleTag_04
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SOLD
      Model           = NONE
    End

    ConditionState  = ACTIVELY_BEING_CONSTRUCTED
      Model           = NBPwrPlant_A5
      Animation       = NBPwrPlant_A5.NBPwrPlant_A5
      AnimationMode   = LOOP
      TransitionKey  = UP_DAY
    End

    ConditionState  = NIGHT ACTIVELY_BEING_CONSTRUCTED
      Model           = NBPwrPlant_A5N
      Animation       = NBPwrPlant_A5N.NBPwrPlant_A5N
      AnimationMode   = LOOP
      TransitionKey  = UP_NIGHT
    End
    ConditionState  = SNOW ACTIVELY_BEING_CONSTRUCTED
      Model           = NBPwrPlant_A5S
      Animation       = NBPwrPlant_A5S.NBPwrPlant_A5S
      AnimationMode   = LOOP
      TransitionKey  = UP_SNOW
    End
    ConditionState  = SNOW NIGHT ACTIVELY_BEING_CONSTRUCTED
      Model           = NBPwrPlant_A5SN
      Animation       = NBPwrPlant_A5SN.NBPwrPlant_A5SN
      AnimationMode   = LOOP
      TransitionKey  = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model            = NBPwrPlant_AB
      Animation       = NBPwrPlant_AB.NBPwrPlant_AB
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End

    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model            = NBPwrPlant_ABN
      Animation       = NBPwrPlant_ABN.NBPwrPlant_ABN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model            = NBPwrPlant_ABS
      Animation       = NBPwrPlant_ABS.NBPwrPlant_ABS
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model            = NBPwrPlant_ABSN
      Animation       = NBPwrPlant_ABSN.NBPwrPlant_ABSN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model            = NBPwrPlant_AB
      Animation       = NBPwrPlant_AB.NBPwrPlant_AB
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model            = NBPwrPlant_ABN
      Animation       = NBPwrPlant_ABN.NBPwrPlant_ABN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model            = NBPwrPlant_ABS
      Animation       = NBPwrPlant_ABS.NBPwrPlant_ABS
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model            = NBPwrPlant_ABSN
      Animation       = NBPwrPlant_ABSN.NBPwrPlant_ABSN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End
  
 
; ---- the control rods -----
  Draw = W3DModelDraw ModuleTag_05
    OkToChangeModelColor = Yes

    ; no upgrade
    ConditionState = NONE
      Model BBPWRPLANT_A1
    End
    AliasConditionState = SNOW
    AliasConditionState = NIGHT
    AliasConditionState = SNOW NIGHT

    ConditionState = DAMAGED
      Model BBPWRPLANT_A1D
    End
    AliasConditionState = DAMAGED SNOW
    AliasConditionState = DAMAGED NIGHT
    AliasConditionState = DAMAGED SNOW NIGHT

    ConditionState = REALLYDAMAGED RUBBLE
      Model BBPWRPLANT_A1D
    End
    AliasConditionState = REALLYDAMAGED RUBBLE SNOW
    AliasConditionState = REALLYDAMAGED RUBBLE NIGHT
    AliasConditionState = REALLYDAMAGED RUBBLE SNOW NIGHT


    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = BBPWRPLANT_A1
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW NIGHT

    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = BBPWRPLANT_A1D
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState = DAMAGED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
    AliasConditionState = DAMAGED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
    AliasConditionState = DAMAGED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW NIGHT

    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED RUBBLE
      Model              = BBPWRPLANT_A1D
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState = REALLYDAMAGED RUBBLE AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
    AliasConditionState = REALLYDAMAGED RUBBLE AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
    AliasConditionState = REALLYDAMAGED RUBBLE AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW NIGHT

    ; first to upgrade
    ConditionState = POWER_PLANT_UPGRADING
      Model BBPWRPLANT_A1
      Animation     = BBPWRPLANT_A1.BBPWRPLANT_A1
      AnimationMode = ONCE
      Flags         = START_FRAME_FIRST
    End
    AliasConditionState = POWER_PLANT_UPGRADING SNOW
    AliasConditionState = POWER_PLANT_UPGRADING NIGHT
    AliasConditionState = POWER_PLANT_UPGRADING SNOW NIGHT

    ConditionState = DAMAGED POWER_PLANT_UPGRADING
      Model BBPWRPLANT_A1D
      Animation     = BBPWRPLANT_A1D.BBPWRPLANT_A1D
      AnimationMode = ONCE
      Flags         = START_FRAME_FIRST
    End
    AliasConditionState = DAMAGED POWER_PLANT_UPGRADING SNOW
    AliasConditionState = DAMAGED POWER_PLANT_UPGRADING NIGHT
    AliasConditionState = DAMAGED POWER_PLANT_UPGRADING SNOW NIGHT

    ConditionState = REALLYDAMAGED RUBBLE POWER_PLANT_UPGRADING
      Model BBPWRPLANT_A1D
      Animation     = BBPWRPLANT_A1D.BBPWRPLANT_A1D
      AnimationMode = ONCE
      Flags         = START_FRAME_FIRST
    End
    AliasConditionState = REALLYDAMAGED RUBBLE POWER_PLANT_UPGRADING SNOW
    AliasConditionState = REALLYDAMAGED RUBBLE POWER_PLANT_UPGRADING NIGHT
    AliasConditionState = REALLYDAMAGED RUBBLE POWER_PLANT_UPGRADING SNOW NIGHT

    ; already upgraded
    ConditionState = POWER_PLANT_UPGRADED
      Model BBPWRPLANT_A1
      Animation     = BBPWRPLANT_A1.BBPWRPLANT_A1
      AnimationMode = MANUAL
      Flags         = START_FRAME_LAST
    End
    AliasConditionState = POWER_PLANT_UPGRADED SNOW
    AliasConditionState = POWER_PLANT_UPGRADED NIGHT
    AliasConditionState = POWER_PLANT_UPGRADED SNOW NIGHT

    ConditionState = DAMAGED POWER_PLANT_UPGRADED
      Model BBPWRPLANT_A1D
      Animation     = BBPWRPLANT_A1D.BBPWRPLANT_A1D
      AnimationMode = MANUAL
      Flags         = START_FRAME_LAST
    End
    AliasConditionState = DAMAGED POWER_PLANT_UPGRADED SNOW
    AliasConditionState = DAMAGED POWER_PLANT_UPGRADED NIGHT
    AliasConditionState = DAMAGED POWER_PLANT_UPGRADED SNOW NIGHT

    ConditionState = REALLYDAMAGED RUBBLE POWER_PLANT_UPGRADED
      Model BBPWRPLANT_A1D
      Animation     = BBPWRPLANT_A1D.BBPWRPLANT_A1D
      AnimationMode = MANUAL
      Flags         = START_FRAME_LAST
    End
    AliasConditionState = REALLYDAMAGED RUBBLE POWER_PLANT_UPGRADED SNOW
    AliasConditionState = REALLYDAMAGED RUBBLE POWER_PLANT_UPGRADED NIGHT
    AliasConditionState = REALLYDAMAGED RUBBLE POWER_PLANT_UPGRADED SNOW NIGHT
 
  
    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD DAMAGED POWER_PLANT_UPGRADED
    AliasConditionState  = SOLD REALLYDAMAGED POWER_PLANT_UPGRADED
    AliasConditionState  = SOLD NIGHT POWER_PLANT_UPGRADED
    AliasConditionState  = SOLD NIGHT DAMAGED POWER_PLANT_UPGRADED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED POWER_PLANT_UPGRADED
    AliasConditionState  = SOLD NIGHT SNOW POWER_PLANT_UPGRADED
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED POWER_PLANT_UPGRADED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED POWER_PLANT_UPGRADED
    ;**************************************************************************************************************************
  
  End

  PlacementViewAngle = -45

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:ColdFusionReactor
  Side             = Boss
  EditorSorting    = STRUCTURE
  BuildCost        = 800
  BuildTime        = 10.0           ; in seconds
  EnergyProduction = 20
  EnergyBonus      = 80
  VisionRange      = 200.0           ; Shroud clearing distance
  ShroudClearingRange = 200
  ArmorSet
    Conditions     = None
    Armor          = StructureArmor
    DamageFX       = StructureDamageFXNoShake
  End
  CommandSet       = Boss_AmericaPowerPlantCommandSet
  ExperienceValue     = 100 100 100 100  ; Experience point value at each level

  ; *** AUDIO Parameters ***
  VoiceSelect = ColdFusionReactorSelect
  SoundOnDamaged        = BuildingDamagedStateLight
  SoundOnReallyDamaged  = BuildingDestroy

  UnitSpecificSounds
    UnderConstruction     = UnderConstructionLoop
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority   = STRUCTURE
  KindOf          = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE CAPTURABLE FS_POWER MP_COUNT_FOR_VICTORY
  Body            = StructureBody ModuleTag_06
    MaxHealth       = 900.0
    InitialHealth   = 900.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 1000
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
  End

  Behavior = PowerPlantUpgrade ModuleTag_07
    TriggeredBy = Upgrade_AmericaAdvancedControlRods
  End

  Behavior = BaseRegenerateUpdate ModuleTag_08
    ;No data
  End
  Behavior = PowerPlantUpdate ModuleTag_09
    RodsExtendTime = 600
  End


  Behavior = DestroyDie ModuleTag_10
    ;nothing
  End
  Behavior             = CreateObjectDie ModuleTag_11
    CreationList  = OCL_ABPowerPlantExplode
  End
  ; Behavior             = CreateObjectDie ModuleTag_12
  ; ;**FIX**
    ; CreationList  = OCL_AmericanRangerDebris02
    ; ExemptStatus  = UNDER_CONSTRUCTION
  ; End
  Behavior        = FXListDie ModuleTag_13
    DeathFX       = FX_StructureSmallDeath
  End

  Behavior = ProductionUpdate ModuleTag_14
    ; nothing
  End

  Behavior = FlammableUpdate ModuleTag_16
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 5       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = TransitionDamageFX ModuleTag_17
    ;-------------DESIGNED FOR SMALL SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
  End

  Behavior = CommandSetUpgrade ModuleTag_20
    CommandSet = Boss_AmericaPowerPlantCommandSetUpgrade
    TriggeredBy = Upgrade_ChinaMines
  End

  Behavior = GenerateMinefieldBehavior     ModuleTag_21
    TriggeredBy           = Upgrade_ChinaMines
    MineName              = ChinaStandardMine
    SmartBorder           = Yes
    AlwaysCircular        = Yes

    Upgradable            = Yes
    UpgradedTriggeredBy   = Upgrade_ChinaEMPMines
    UpgradedMineName      = ChinaEMPMine
  End

  Geometry            = BOX
  GeometryMajorRadius = 60.0
  GeometryMinorRadius = 45.0
  GeometryHeight      = 45.0
  GeometryIsSmall     = No
  Shadow              = SHADOW_VOLUME
  BuildCompletion     = PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
Object Boss_ParticleCannonUplink

  ; *** ART Parameters ***
  SelectPortrait         = SNBossPC
  ButtonImage            = SNBossPC

  Draw = W3DModelDraw ModuleTag_01
    ExtraPublicBone        = FX01
    ExtraPublicBone        = FX02
    ExtraPublicBone        = FX03
    ExtraPublicBone        = FX04
    ExtraPublicBone        = FX05
    OkToChangeModelColor = Yes
    
    
    ; day **************************************
    ConditionState       = NONE
      Model              = NVPrCannon
      Animation          = NVPrCannon.NVPrCannon
      AnimationMode      = LOOP
      Flags              = MAINTAIN_FRAME_ACROSS_STATES
    End
    ConditionState       = DAMAGED
      Model              = NVPrCannon_D
      Animation          = NVPrCannon_D.NVPrCannon_D
      AnimationMode      = LOOP
      Flags              = MAINTAIN_FRAME_ACROSS_STATES
    End
    ConditionState       = REALLYDAMAGED RUBBLE
      Model              = NVPrCannon_E
      Animation          = NVPrCannon_E.NVPrCannon_E
      AnimationMode      = LOOP
      Flags              = MAINTAIN_FRAME_ACROSS_STATES
    End


    ; night *************************************
    ConditionState       = NIGHT
      Model              = NVPrCannon_N
      Animation          = NVPrCannon_N.NVPrCannon_N
      AnimationMode      = LOOP
      Flags              = MAINTAIN_FRAME_ACROSS_STATES
    End
    ConditionState       = DAMAGED NIGHT
      Model              = NVPrCannon_DN
      Animation          = NVPrCannon_DN.NVPrCannon_DN
      AnimationMode      = LOOP
      Flags              = MAINTAIN_FRAME_ACROSS_STATES
    End
    ConditionState       = REALLYDAMAGED RUBBLE NIGHT
      Model              = NVPrCannon_EN
      Animation          = NVPrCannon_EN.NVPrCannon_EN
      AnimationMode      = LOOP
      Flags              = MAINTAIN_FRAME_ACROSS_STATES
    End
    
    ; day snow **************************************
    ConditionState       = SNOW
      Model              = NVPrCannon_S
      Animation          = NVPrCannon_S.NVPrCannon_S
      AnimationMode      = LOOP
      Flags              = MAINTAIN_FRAME_ACROSS_STATES
    End
    ConditionState       = DAMAGED SNOW
      Model              = NVPrCannon_DS
      Animation          = NVPrCannon_DS.NVPrCannon_DS
      AnimationMode      = LOOP
      Flags              = MAINTAIN_FRAME_ACROSS_STATES
    End
    ConditionState       = REALLYDAMAGED RUBBLE SNOW
      Model              = NVPrCannon_ES
      Animation          = NVPrCannon_ES.NVPrCannon_ES
      AnimationMode      = LOOP
      Flags              = MAINTAIN_FRAME_ACROSS_STATES
    End

    ; night snow *************************************
    ConditionState       = NIGHT SNOW
      Model              = NVPrCannon_NS
      Animation          = NVPrCannon_NS.NVPrCannon_NS
      AnimationMode      = LOOP
      Flags              = MAINTAIN_FRAME_ACROSS_STATES
    End
    ConditionState       = DAMAGED NIGHT SNOW
      Model              = NVPrCannon_DNS
      Animation          = NVPrCannon_DNS.NVPrCannon_DNS
      AnimationMode      = LOOP
      Flags              = MAINTAIN_FRAME_ACROSS_STATES
    End
    ConditionState       = REALLYDAMAGED RUBBLE NIGHT SNOW
      Model              = NVPrCannon_ENS
      Animation          = NVPrCannon_ENS.NVPrCannon_ENS
      AnimationMode      = LOOP
      Flags              = MAINTAIN_FRAME_ACROSS_STATES
    End


    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ;for this draw module
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = NVPrCannon
      Animation          = NVPrCannon.NVPrCannon
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = NVPrCannon_D
      Animation          = NVPrCannon_D.NVPrCannon_D
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = NVPrCannon_E
      Animation          = NVPrCannon_E.NVPrCannon_E
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
      Model              = NVPrCannon_N
      Animation          = NVPrCannon_N.NVPrCannon_N
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
      Model              = NVPrCannon_DN
      Animation          = NVPrCannon_DN.NVPrCannon_DN
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
      Model              = NVPrCannon_EN
      Animation          = NVPrCannon_EN.NVPrCannon_EN
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model              = NVPrCannon_S
      Animation          = NVPrCannon_S.NVPrCannon_S
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
      Model              = NVPrCannon_DS
      Animation          = NVPrCannon_DS.NVPrCannon_DS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
      Model              = NVPrCannon_ES
      Animation          = NVPrCannon_ES.NVPrCannon_ES
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
      Model              = NVPrCannon_NS
      Animation          = NVPrCannon_NS.NVPrCannon_NS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
      Model              = NVPrCannon_DNS
      Animation          = NVPrCannon_DNS.NVPrCannon_DNS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
      Model              = NVPrCannon_ENS
      Animation          = NVPrCannon_ENS.NVPrCannon_ENS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End

    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
  End

  ;------------ the cannon section (hatch, dish animations) -----------
  Draw = W3DModelDraw ModuleTag_02
    ExtraPublicBone        = FXConnector
    ExtraPublicBone        = FXMain
    OkToChangeModelColor = Yes
    ; day **************************************
    ConditionState       = NONE
      Model              = ABSDILink_A1
      Animation          = ABSDILink_A1.ABSDILink_A1
      AnimationMode      = MANUAL
      Flags              = START_FRAME_FIRST
    End
    AliasConditionState  = NIGHT 
    AliasConditionState  = NIGHT SNOW
    AliasConditionState  = SNOW
    
    ConditionState       = DAMAGED
      Model              = ABSDILink_A1D
      Animation          = ABSDILink_A1D.ABSDILink_A1D
      AnimationMode      = MANUAL
      Flags              = START_FRAME_FIRST
    End
    AliasConditionState  = NIGHT DAMAGED
    AliasConditionState  = NIGHT SNOW DAMAGED
    AliasConditionState  = SNOW DAMAGED
    
    ConditionState       = REALLYDAMAGED RUBBLE
      Model              = ABSDILink_A1E
      Animation          = ABSDILink_A1E.ABSDILink_A1E
      AnimationMode      = MANUAL
      Flags              = START_FRAME_FIRST
    End
    AliasConditionState  = NIGHT REALLYDAMAGED RUBBLE
    AliasConditionState  = NIGHT SNOW REALLYDAMAGED RUBBLE
    AliasConditionState  = SNOW REALLYDAMAGED RUBBLE
    
    ConditionState       = AWAITING_CONSTRUCTION
      Model              = None
    End
    AliasConditionState  = NIGHT AWAITING_CONSTRUCTION
    AliasConditionState  = NIGHT SNOW AWAITING_CONSTRUCTION
    AliasConditionState  = SNOW AWAITING_CONSTRUCTION
    
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = ABSDILink_A1
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
    AliasConditionState  = NIGHT SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
    AliasConditionState  = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
    
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = ABSDILink_A1D
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
    AliasConditionState  = NIGHT SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
    AliasConditionState  = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED

    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED RUBBLE
      Model              = ABSDILink_A1E
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED RUBBLE
    AliasConditionState  = NIGHT SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED RUBBLE
    AliasConditionState  = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED RUBBLE

    ;Preparing to fire!
    ConditionState       = UNPACKING
      Model              = ABSDILink_A1
      Animation          = ABSDILink_A1.ABSDILink_A1
      AnimationMode      = ONCE
      Flags              = MAINTAIN_FRAME_ACROSS_STATES2
    End
    AliasConditionState  = NIGHT UNPACKING
    AliasConditionState  = NIGHT SNOW UNPACKING
    AliasConditionState  = SNOW UNPACKING
    
    ConditionState       = UNPACKING DAMAGED
      Model              = ABSDILink_A1D
      Animation          = ABSDILink_A1D.ABSDILink_A1D
      AnimationMode      = ONCE
      Flags              = MAINTAIN_FRAME_ACROSS_STATES2
    End
    AliasConditionState  = NIGHT UNPACKING DAMAGED
    AliasConditionState  = NIGHT SNOW UNPACKING DAMAGED
    AliasConditionState  = SNOW UNPACKING DAMAGED
    
    ConditionState       = UNPACKING REALLYDAMAGED RUBBLE
      Model              = ABSDILink_A1E
      Animation          = ABSDILink_A1E.ABSDILink_A1E
      AnimationMode      = ONCE
      Flags              = MAINTAIN_FRAME_ACROSS_STATES2
    End
    AliasConditionState  = NIGHT UNPACKING REALLYDAMAGED RUBBLE
    AliasConditionState  = NIGHT SNOW UNPACKING REALLYDAMAGED RUBBLE
    AliasConditionState  = SNOW UNPACKING REALLYDAMAGED RUBBLE

    ;Ready to fire -- or firing!
    ConditionState       = DEPLOYED
      Model              = ABSDILink_A1
      Animation          = ABSDILink_A1.ABSDILink_A1
      AnimationMode      = MANUAL
      Flags              = START_FRAME_LAST
    End
    AliasConditionState  = NIGHT DEPLOYED
    AliasConditionState  = NIGHT SNOW DEPLOYED
    AliasConditionState  = SNOW DEPLOYED
    
    ConditionState       = DEPLOYED DAMAGED
      Model              = ABSDILink_A1D
      Animation          = ABSDILink_A1D.ABSDILink_A1D
      AnimationMode      = MANUAL
      Flags              = START_FRAME_LAST
    End
    AliasConditionState  = NIGHT DEPLOYED DAMAGED
    AliasConditionState  = NIGHT SNOW DEPLOYED DAMAGED
    AliasConditionState  = SNOW DEPLOYED DAMAGED
    
    ConditionState       = DEPLOYED REALLYDAMAGED RUBBLE
      Model              = ABSDILink_A1E
      Animation          = ABSDILink_A1E.ABSDILink_A1E
      AnimationMode      = MANUAL
      Flags              = START_FRAME_LAST
    End
    AliasConditionState  = NIGHT DEPLOYED REALLYDAMAGED RUBBLE
    AliasConditionState  = NIGHT SNOW DEPLOYED REALLYDAMAGED RUBBLE
    AliasConditionState  = SNOW DEPLOYED REALLYDAMAGED RUBBLE
   
    ;Packing up (recharging for new attack)
    ConditionState       = PACKING
      Model              = ABSDILink_A1
      Animation          = ABSDILink_A1.ABSDILink_A1
      AnimationMode      = ONCE_BACKWARDS
      Flags              = MAINTAIN_FRAME_ACROSS_STATES3
    End
    AliasConditionState  = NIGHT PACKING
    AliasConditionState  = NIGHT SNOW PACKING
    AliasConditionState  = SNOW PACKING
    
    ConditionState       = PACKING DAMAGED
      Model              = ABSDILink_A1D
      Animation          = ABSDILink_A1D.ABSDILink_A1D
      AnimationMode      = ONCE_BACKWARDS
      Flags              = MAINTAIN_FRAME_ACROSS_STATES3
    End
    AliasConditionState  = NIGHT PACKING DAMAGED
    AliasConditionState  = NIGHT SNOW PACKING DAMAGED
    AliasConditionState  = SNOW PACKING DAMAGED
    
    ConditionState       = PACKING REALLYDAMAGED RUBBLE
      Model              = ABSDILink_A1E
      Animation          = ABSDILink_A1E.ABSDILink_A1E
      AnimationMode      = ONCE_BACKWARDS
      Flags              = MAINTAIN_FRAME_ACROSS_STATES3
    End
    AliasConditionState  = NIGHT PACKING REALLYDAMAGED RUBBLE
    AliasConditionState  = NIGHT SNOW PACKING REALLYDAMAGED RUBBLE
    AliasConditionState  = SNOW PACKING REALLYDAMAGED RUBBLE

   
    ConditionState       = SOLD DEPLOYED
      Model              = NONE
    End     
    ConditionState       = SOLD SNOW DEPLOYED
       Model             = NONE
    End   
    ConditionState       = SOLD NIGHT DEPLOYED
       Model             = NONE
    End    
    ConditionState       = SOLD NIGHT SNOW DEPLOYED
       Model             = NONE
    End   
  End


  ; ------------ construction-zone fence -----------------
  Draw = W3DModelDraw ModuleTag_03
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABSDILink_A4
      Animation       = ABSDILink_A4.ABSDILink_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = SmokeS01 SmokeBuildingSmall
      ParticleSysBone = SparksS01 LiveWireSparks02
    End
    ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABSDILink_A4N
      Animation       = ABSDILink_A4N.ABSDILink_A4N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = SmokeS01 SmokeBuildingSmall
      ParticleSysBone = SparksS01 LiveWireSparks02
    End
    ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABSDILink_A4S
      Animation       = ABSDILink_A4S.ABSDILink_A4S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = SmokeS01 SmokeBuildingSmall
      ParticleSysBone = SparksS01 LiveWireSparks02
    End
    ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABSDILink_A4SN
      Animation       = ABSDILink_A4SN.ABSDILink_A4SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = SmokeS01 SmokeBuildingSmall
      ParticleSysBone = SparksS01 LiveWireSparks02
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = ABSDILink_A4
      Animation       = ABSDILink_A4.ABSDILink_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = ABSDILink_A4N
      Animation       = ABSDILink_A4N.ABSDILink_A4N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = ABSDILink_A4S
      Animation       = ABSDILink_A4S.ABSDILink_A4S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = ABSDILink_A4SN
      Animation       = ABSDILink_A4SN.ABSDILink_A4SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = ABSDILink_A4
      Animation       = ABSDILink_A4.ABSDILink_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = ABSDILink_A4N
      Animation       = ABSDILink_A4N.ABSDILink_A4N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = ABSDILink_A4S
      Animation       = ABSDILink_A4S.ABSDILink_A4S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = ABSDILink_A4SN
      Animation       = ABSDILink_A4SN.ABSDILink_A4SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ under-construction scaffolding -----------------
  Draw = W3DModelDraw ModuleTag_04
  AnimationsRequirePower = No
    MinLODRequired = MEDIUM
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = ABSDILink_A6
      Animation       = ABSDILink_A6.ABSDILink_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
    End
    ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      Model           = ABSDILink_A6N
      Animation       = ABSDILink_A6N.ABSDILink_A6N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
    End
    ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      Model           = ABSDILink_A6S
      Animation       = ABSDILink_A6S.ABSDILink_A6S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
    End
    ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      Model           = ABSDILink_A6SN
      Animation       = ABSDILink_A6SN.ABSDILink_A6SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
     Model            = ABSDILink_A6
      Animation       = ABSDILink_A6.ABSDILink_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
     Model            = ABSDILink_A6N
      Animation       = ABSDILink_A6N.ABSDILink_A6N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
     Model            = ABSDILink_A6S
      Animation       = ABSDILink_A6S.ABSDILink_A6S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
     Model            = ABSDILink_A6SN
      Animation       = ABSDILink_A6SN.ABSDILink_A6SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = ABSDILink_A6
      Animation       = ABSDILink_A6.ABSDILink_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = ABSDILink_A6N
      Animation       = ABSDILink_A6N.ABSDILink_A6N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = ABSDILink_A6S
      Animation       = ABSDILink_A6S.ABSDILink_A6S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = ABSDILink_A6SN
      Animation       = ABSDILink_A6SN.ABSDILink_A6SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ being-constructed crane -----------------
  Draw = W3DModelDraw ModuleTag_05
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SOLD
      Model           = NONE
    End

    ConditionState  = ACTIVELY_BEING_CONSTRUCTED
      Model           = ABSDILink_A5
      Animation       = ABSDILink_A5.ABSDILink_A5
      AnimationMode   = LOOP
      TransitionKey  = UP_DAY
    End

    ConditionState  = NIGHT ACTIVELY_BEING_CONSTRUCTED
      Model           = ABSDILink_A5N
      Animation       = ABSDILink_A5N.ABSDILink_A5N
      AnimationMode   = LOOP
      TransitionKey  = UP_NIGHT
    End
    ConditionState  = SNOW ACTIVELY_BEING_CONSTRUCTED
      Model           = ABSDILink_A5S
      Animation       = ABSDILink_A5S.ABSDILink_A5S
      AnimationMode   = LOOP
      TransitionKey  = UP_SNOW
    End
    ConditionState  = SNOW NIGHT ACTIVELY_BEING_CONSTRUCTED
      Model           = ABSDILink_A5SN
      Animation       = ABSDILink_A5SN.ABSDILink_A5SN
      AnimationMode   = LOOP
      TransitionKey  = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model            = ABSDILink_AB
      Animation       = ABSDILink_AB.ABSDILink_AB
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End

    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model            = ABSDILink_ABN
      Animation       = ABSDILink_ABN.ABSDILink_ABN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model            = ABSDILink_ABS
      Animation       = ABSDILink_ABS.ABSDILink_ABS
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model            = ABSDILink_ABSN
      Animation       = ABSDILink_ABSN.ABSDILink_ABSN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model            = ABSDILink_AB
      Animation       = ABSDILink_AB.ABSDILink_AB
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model            = ABSDILink_ABN
      Animation       = ABSDILink_ABN.ABSDILink_ABN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model            = ABSDILink_ABS
      Animation       = ABSDILink_ABS.ABSDILink_ABS
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model            = ABSDILink_ABSN
      Animation       = ABSDILink_ABSN.ABSDILink_ABSN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End
 
  PlacementViewAngle = -45

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:ParticleCannon 
  Side = Boss
  EditorSorting    = STRUCTURE
  Prerequisites
    Object = Boss_TechCentr
  End
  BuildCost        = 5000
  BuildTime        = 60.0           ; in seconds
  EnergyProduction = -10
  VisionRange     = 200.0           ; Shroud clearing distance
  ShroudClearingRange = 200
  ShroudRevealToAllRange = 60  ; Reveals shroud to all players at a specific amount which can be different. 
                               ; Using same value? Then use KINDOF_REVEAL_TO_ALL instead!
  ArmorSet
    Conditions      = None
    Armor           = StructureArmorTough
    DamageFX        = StructureDamageFXNoShake
  End
  CommandSet        = Boss_AmericaParticleUplinkCannonCommandSet
  ExperienceValue     = 400 400 400 400  ; Experience point value at each level

  MaxSimultaneousOfType = DeterminedBySuperweaponRestriction ; Normally unlimited, but can be selected by players in multiplayer games
  MaxSimultaneousLinkKey = Superweapon  ; Count all superweapons **AND THE GLA SCUD STORM REBUILD HOLE** as one "type" for MaxSimultaneousOfType

  ; *** AUDIO Parameters ***
  VoiceSelect = ParticleCannonSelect
  SoundOnDamaged        = BuildingDamagedStateLight
  SoundOnReallyDamaged  = BuildingDestroy

  UnitSpecificSounds
    UnderConstruction     = UnderConstructionLoop
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority   = STRUCTURE
  KindOf          = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE CAPTURABLE FS_TECHNOLOGY POWERED MP_COUNT_FOR_VICTORY FS_SUPERWEAPON
  Body            = StructureBody ModuleTag_06
    MaxHealth       = 4000.0
    InitialHealth   = 4000.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 4200
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
  End
  Behavior = BaseRegenerateUpdate ModuleTag_07
    ;No data
  End

  Behavior = SpecialPowerCreate ModuleTag_16
    ;nothing
  End
  Behavior = SpecialAbility ModuleTag_11
    SpecialPowerTemplate = SuperweaponParticleUplinkCannon
    UpdateModuleStartsAttack = Yes
  End
  Behavior = ParticleUplinkCannonUpdate ModuleTag_12
    SpecialPowerTemplate            = SuperweaponParticleUplinkCannon

    ;The values trigger the various pre-stages before being ready to actually fire.
    ;The total combined value of these determines the first sign of activity in the 
    ;cannon.
    BeginChargeTime                 = 5000 ;The outer nodes begin to charge.
    RaiseAntennaTime                = 4667 ;The hatch opens and raises antenna (matches animation speed)
    ReadyDelayTime                  = 2000 ;The time after antenna is raised prior to being ready to fire.

    ;***NOTE -- these values effect gameplay*****
    TotalFiringTime                 = 10000     ;The total ground contact time of the beam

    DamagePerSecond                 = 400       ;Amount of damage inflicted per second
    TotalDamagePulses               = 40        ;The total number of damage pulses -- less means more damage per pulse, but less accurate
    WidthGrowTime                   = 2000      ;The amount of time it takes for the beam to reach full diameter (same value used for shrinking)
    BeamTravelTime                  = 2500      ;How long it takes for the beam to hit the ground after leaving the firing dish.
    DamageType                      = PARTICLE_BEAM ;Type of damage inflicted.
    DamageRadiusScalar              = 3.4       ;Multiplies the radius (relative to beam diameter) so that things close to the beam can get hit too!
    RevealRange                     = 50.0      ;Grants gratuitous vision for the player launching the target as the beam cuts it's swath of death.
    ;********************************************

    ;Bone names for required elements
    OuterEffectBoneName             = FX          ;The base name for the outer node bones.
    OuterEffectNumBones             = 5           ;The number of outer nodes.
    ConnectorBoneName               = FXConnector ;The name of the bone where the connector lasers meet.
    FireBoneName                    = FXMain      ;The name of the bone where the main beam is fired from.

    ;These are particle systems tied to the outer nodes in varying intensities.
    OuterNodesLightFlareParticleSystem    = ParticleUplinkCannon_OuterNodeLightFlare
    OuterNodesMediumFlareParticleSystem   = ParticleUplinkCannon_OuterNodeMediumFlare
    OuterNodesIntenseFlareParticleSystem  = ParticleUplinkCannon_OuterNodeIntenseFlare

    ;The connectors system connects each of the outer nodes to the central node that receives
    ;the lasers from outside.
    ConnectorMediumLaserName        = ParticleUplinkCannon_MediumConnectorLaser
    ConnectorIntenseLaserName       = ParticleUplinkCannon_IntenseConnectorLaser

    ;Currently commented out -- These
    ;ConnectorMediumFlare            = ParticleUplinkCannon_InnerConnectorMediumFlare
    ;ConnectorIntenseFlare           = ParticleUplinkCannon_InnerConnectorIntenseFlare

    ;This is the name of the bone on the building where the beam is fired from
    LaserBaseLightFlareParticleSystemName = ParticleUplinkCannon_LaserBaseReadyToFire
    ParticleBeamLaserName           = ParticleUplinkCannon_OrbitalLaser
    GroundHitFX                     = FX_ParticleUplinkCannon_BeamHitsGround     ;TotalScorchMarks determines how many times this gets called.

    ;The flare fxlist that is played over and over during the beam firing process. Be
    ;mindful of the delay because that effects both art and sound.
    BeamLaunchFX                   = FX_ParticleUplinkCannon_BeamLaunchIteration
    DelayBetweenLaunchFX           = 1000

    ;Each scorch mark creates an object in the world, so while making more looks better
    ;it becomes a performance issue. The scalar will calculate the size of the scorch
    ;mark to make based on the current size of the beam (which changes dynamically). The
    ;number also matches the number of times the "GroundHitFX" is called.
    TotalScorchMarks               = 20
    ScorchMarkScalar               = 2.4

    ;***NOTE -- these values effect gameplay***
    ;The swath of death is the path the laser tracers centered on the targeted position.
    ;If the amplitude is zero, the line will go straight, with a higher value, it'll do
    ;a sine wave iteration, but always goes through the target point.
    SwathOfDeathDistance           = 200.0
    SwathOfDeathAmplitude          = 50.0


    ManualDrivingSpeed             = 20
    ManualFastDrivingSpeed         = 40
    DoubleClickToFastDriveDelay    = 500

    ;***SOUNDS!****
    PoweringUpSoundLoop            = ParticleUplinkCannon_PowerupSoundLoop
    UnpackToIdleSoundLoop          = ParticleUplinkCannon_UnpackToIdleSoundLoop
    FiringToPackSoundLoop          = ParticleUplinkCannon_FiringToPackSoundLoop
    GroundAnnihilationSoundLoop    = ParticleUplinkCannon_GroundAnnihilationSoundLoop

    ;The trail left behind creates an object that inflicts extra damage for a short period of time.
    DamagePulseRemnantObjectName   = ParticleUplinkCannonTrailRemnant
  End
  
  Behavior = FlammableUpdate ModuleTag_14
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 5       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = ProductionUpdate ModuleTag_15
    ; This is needed in order to get a public timer to work!
  End

  Behavior = TransitionDamageFX ModuleTag_17
    ;-------------DESIGNED FOR MEDIUM SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionMediumExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionMediumShockwave
  End

  Behavior = SlowDeathBehavior ModuleTag_18
    ; don't run this death if we are under construction...
    ExemptStatus   = UNDER_CONSTRUCTION
    DestructionDelay = 2000
    FX             = INITIAL FX_ParticleUplinkDeathInitial
    OCL            = INITIAL OCL_SDILinkLasers
    FX             = FINAL   FX_StructureMediumDeath
    OCL            = FINAL   OCL_ParticleUplinkDeathFinal
  End

  Behavior = InstantDeathBehavior ModuleTag_19
    ; if we are under construction, use this death instead
    RequiredStatus = UNDER_CONSTRUCTION
    OCL            = OCL_ABPowerPlantExplode
    FX             = FX_StructureMediumDeath
  End

  Behavior = CommandSetUpgrade ModuleTag_20
    CommandSet = Boss_AmericaParticleUplinkCannonCommandSetUpgrade
    TriggeredBy = Upgrade_ChinaMines
  End

  Behavior = GenerateMinefieldBehavior     ModuleTag_21
    TriggeredBy           = Upgrade_ChinaMines
    MineName              = ChinaStandardMine
    SmartBorder           = Yes
    AlwaysCircular        = Yes

    Upgradable            = Yes
    UpgradedTriggeredBy   = Upgrade_ChinaEMPMines
    UpgradedMineName      = ChinaEMPMine
  End

  Behavior = ProductionUpdate ModuleTag_22
    ; nothing
  End


  Geometry            = BOX
  GeometryMajorRadius = 64.0
  GeometryMinorRadius = 38.0
  GeometryHeight      = 38.0
  GeometryIsSmall     = No
  Shadow          = SHADOW_VOLUME
  BuildCompletion = PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
; Object Boss_Airfield2

  ; ; *** ART Parameters ***
  ; SelectPortrait         = SAACommand_L
  ; ButtonImage            = SAACommand
  ; Draw = W3DModelDraw ModuleTag_01

    ; ExtraPublicBone = Runway1Parking1 
    ; ExtraPublicBone = Runway1Parking2 
    ; ExtraPublicBone = Runway2Parking1 
    ; ExtraPublicBone = Runway2Parking2 
    ; ExtraPublicBone = Runway1Park1Han
    ; ExtraPublicBone = Runway1Park2Han
    ; ExtraPublicBone = Runway2Park1Han
    ; ExtraPublicBone = Runway2Park2Han 
    ; ExtraPublicBone = Runway1Prep1 
    ; ExtraPublicBone = Runway1Prep2 
    ; ExtraPublicBone = Runway2Prep1 
    ; ExtraPublicBone = Runway2Prep2 
    ; ExtraPublicBone = RunwayStart1 
    ; ExtraPublicBone = RunwayStart2 
    ; ExtraPublicBone = RunwayEnd1 
    ; ExtraPublicBone = RunwayEnd2
    ; ExtraPublicBone = HeliPark01

    ; OkToChangeModelColor = Yes

    ; ; day ********************************************
    ; DefaultConditionState
      ; Model              = ABArFrcCmd
      ; Animation          = ABArFrcCmd.ABArFrcCmd
      ; AnimationMode      = LOOP
    ; End
    ; ConditionState       = DAMAGED
      ; Model              = ABArFrcCmd_D
      ; Animation          = ABArFrcCmd_D.ABArFrcCmd_D
      ; AnimationMode      = LOOP
      ; ParticleSysBone    = Smoke01 SmolderingSmoke
      ; ParticleSysBone    = Smoke02 SmolderingSmoke
      ; ParticleSysBone    = Smoke03 SmolderingSmoke
      ; ParticleSysBone    = Fire01 SmolderingFire
    ; End
    ; ConditionState       = REALLYDAMAGED RUBBLE
      ; Model              = ABArFrcCmd_E
      ; Animation          = ABArFrcCmd_E.ABArFrcCmd_E
      ; AnimationMode      = LOOP
      ; ParticleSysBone    = Smoke01 SmolderingSmoke
      ; ParticleSysBone    = Smoke02 SmolderingSmoke
      ; ParticleSysBone    = Smoke03 SmolderingSmoke
      ; ParticleSysBone    = Smoke04 SmolderingSmoke
      ; ParticleSysBone    = Smoke05 SmokeFactionLarge
      ; ParticleSysBone    = Smoke06 SmokeFactionLarge
      ; ParticleSysBone    = Fire01 SmolderingFire
      ; ParticleSysBone    = Fire02 SmolderingFire
      ; ParticleSysBone    = Fire03 FireFactionLarge
      ; ParticleSysBone    = Spark01 SparksLarge
    ; End
    
    ; ConditionState       = SNOW
      ; Model              = ABArFrcCmd_S
      ; Animation          = ABArFrcCmd_S.ABArFrcCmd_S
      ; AnimationMode      = LOOP
    ; End
    ; ConditionState       = DAMAGED SNOW
      ; Model              = ABArFrcCmd_DS
      ; Animation          = ABArFrcCmd_DS.ABArFrcCmd_DS
      ; AnimationMode      = LOOP
      ; ParticleSysBone    = Smoke01 SmolderingSmoke
      ; ParticleSysBone    = Smoke02 SmolderingSmoke
      ; ParticleSysBone    = Smoke03 SmolderingSmoke
      ; ParticleSysBone    = Fire01 SmolderingFire
    ; End
    ; ConditionState       = REALLYDAMAGED RUBBLE SNOW
      ; Model              = ABArFrcCmd_ES
      ; Animation          = ABArFrcCmd_ES.ABArFrcCmd_ES
      ; AnimationMode      = LOOP
      ; ParticleSysBone    = Smoke01 SmolderingSmoke
      ; ParticleSysBone    = Smoke02 SmolderingSmoke
      ; ParticleSysBone    = Smoke03 SmolderingSmoke
      ; ParticleSysBone    = Smoke04 SmolderingSmoke
      ; ParticleSysBone    = Smoke05 SmokeFactionLarge
      ; ParticleSysBone    = Smoke06 SmokeFactionLarge
      ; ParticleSysBone    = Fire01 SmolderingFire
      ; ParticleSysBone    = Fire02 SmolderingFire
      ; ParticleSysBone    = Fire03 FireFactionLarge
      ; ParticleSysBone    = Spark01 SparksLarge
    ; End

    ; ; night ******************************************
    ; ConditionState       = NIGHT
      ; Model              = ABArFrcCmd_N
      ; Animation          = ABArFrcCmd_N.ABArFrcCmd_N
      ; AnimationMode      = LOOP
    ; End
    ; ConditionState       = DAMAGED NIGHT
      ; Model              = ABArFrcCmd_ND
      ; Animation          = ABArFrcCmd_ND.ABArFrcCmd_ND
      ; AnimationMode      = LOOP
    ; End
    ; ConditionState       = REALLYDAMAGED RUBBLE NIGHT
      ; Model              = ABArFrcCmd_NE
      ; Animation          = ABArFrcCmd_NE.ABArFrcCmd_NE
      ; AnimationMode      = LOOP
    ; End
    
    ; ConditionState       = NIGHT SNOW
      ; Model              = ABArFrcCmd_NS
      ; Animation          = ABArFrcCmd_NS.ABArFrcCmd_NS
      ; AnimationMode      = LOOP
    ; End
    ; ConditionState       = DAMAGED NIGHT SNOW
      ; Model              = ABArFrcCmd_NDS
      ; Animation          = ABArFrcCmd_NDS.ABArFrcCmd_NDS
      ; AnimationMode      = LOOP
    ; End
    ; ConditionState       = REALLYDAMAGED RUBBLE NIGHT SNOW
      ; Model              = ABArFrcCmd_NES
      ; Animation          = ABArFrcCmd_NES.ABArFrcCmd_NES
      ; AnimationMode      = LOOP
    ; End
    
       ; ;**************************************************************************************************************************
    ; ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ; ;for this draw module
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      ; Model              = ABArFrcCmd
      ; Animation          = ABArFrcCmd.ABArFrcCmd
      ; AnimationMode      = LOOP
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      ; Model              = ABArFrcCmd_D
      ; Animation          = ABArFrcCmd_D.ABArFrcCmd_D
      ; AnimationMode      = LOOP
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      ; Model              = ABArFrcCmd_E
      ; Animation          = ABArFrcCmd_E.ABArFrcCmd_E
      ; AnimationMode      = LOOP
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
      ; Model              = ABArFrcCmd_N
      ; Animation          = ABArFrcCmd_N.ABArFrcCmd_N
      ; AnimationMode      = LOOP
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
      ; Model              = ABArFrcCmd_ND
      ; Animation          = ABArFrcCmd_ND.ABArFrcCmd_ND
      ; AnimationMode      = LOOP
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
      ; Model              = ABArFrcCmd_NE
      ; Animation          = ABArFrcCmd_NE.ABArFrcCmd_NE
      ; AnimationMode      = LOOP
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState       = PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      ; Model              = ABArFrcCmd_S
      ; Animation          = ABArFrcCmd_S.ABArFrcCmd_S
      ; AnimationMode      = LOOP
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState       =  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
      ; Model              = ABArFrcCmd_DS
      ; Animation          = ABArFrcCmd_DS.ABArFrcCmd_DS
      ; AnimationMode      = LOOP
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState       = PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
      ; Model              = ABArFrcCmd_ES
      ; Animation          = ABArFrcCmd_ES.ABArFrcCmd_ES
      ; AnimationMode      = LOOP
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
      ; Model              = ABArFrcCmd_NS
      ; Animation          = ABArFrcCmd_NS.ABArFrcCmd_NS
      ; AnimationMode      = LOOP
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
      ; Model              = ABArFrcCmd_NDS
      ; Animation          = ABArFrcCmd_NDS.ABArFrcCmd_NDS
      ; AnimationMode      = LOOP
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
      ; Model              = ABArFrcCmd_NES
      ; Animation          = ABArFrcCmd_NES.ABArFrcCmd_NES
      ; AnimationMode      = LOOP
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End

    ; ConditionState       = AWAITING_CONSTRUCTION 
      ; Model              = NONE
    ; End
    ; AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    ; AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    ; AliasConditionState  = SOLD 
    ; AliasConditionState  = SOLD DAMAGED
    ; AliasConditionState  = SOLD REALLYDAMAGED
    ; AliasConditionState  = SOLD NIGHT
    ; AliasConditionState  = SOLD NIGHT DAMAGED
    ; AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    ; AliasConditionState  = SOLD SNOW
    ; AliasConditionState  = SOLD SNOW DAMAGED
    ; AliasConditionState  = SOLD SNOW REALLYDAMAGED
    ; AliasConditionState  = SOLD NIGHT SNOW
    ; AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    ; AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    ; ;**************************************************************************************************************************

  ; End

  ; ; ------------ blinky production lights -----------------
  ; Draw = W3DModelDraw ModuleTag_02
    ; DefaultConditionState
      ; Model              = None
    ; End
    ; ConditionState       = ACTIVELY_CONSTRUCTING
      ; Model              = ABArFrcCmd_A9
      ; Animation          = ABArFrcCmd_A9.ABArFrcCmd_A9
      ; AnimationMode      = LOOP
    ; End
  ; End

  ; ; ----------------- door #1 -------------------
  ; Draw                = W3DModelDraw ModuleTag_03
    ; ConditionState    = NONE
      ; Model           = ABArFrcCmd_A7
      ; Animation       = ABArFrcCmd_A7.ABArFrcCmd_A7
      ; AnimationMode   = MANUAL
      ; Flags           = START_FRAME_FIRST
    ; End
    ; AliasConditionState = NIGHT 
    ; AliasConditionState = SNOW 
    ; AliasConditionState = NIGHT SNOW 
    ; AliasConditionState = NIGHT DAMAGED
    ; AliasConditionState = SNOW DAMAGED
    ; AliasConditionState = NIGHT SNOW DAMAGED
    ; AliasConditionState = NIGHT REALLYDAMAGED RUBBLE
    ; AliasConditionState = SNOW REALLYDAMAGED RUBBLE
    ; AliasConditionState = NIGHT SNOW REALLYDAMAGED RUBBLE 
       
    ; ConditionState    = DOOR_1_OPENING
      ; Model           = ABArFrcCmd_A7
      ; Animation       = ABArFrcCmd_A7.ABArFrcCmd_A7
      ; AnimationMode   = ONCE
      ; Flags           = START_FRAME_FIRST
    ; End 
    ; AliasConditionState = NIGHT DOOR_1_OPENING
    ; AliasConditionState = SNOW DOOR_1_OPENING
    ; AliasConditionState = NIGHT SNOW DOOR_1_OPENING
    ; AliasConditionState = NIGHT DAMAGED DOOR_1_OPENING
    ; AliasConditionState = SNOW DAMAGED DOOR_1_OPENING
    ; AliasConditionState = NIGHT SNOW DAMAGED DOOR_1_OPENING
    ; AliasConditionState = NIGHT REALLYDAMAGED RUBBLE DOOR_1_OPENING
    ; AliasConditionState = SNOW REALLYDAMAGED RUBBLE DOOR_1_OPENING
    ; AliasConditionState = NIGHT SNOW REALLYDAMAGED RUBBLE DOOR_1_OPENING
     
    ; ConditionState    = DOOR_1_CLOSING
      ; Model           = ABArFrcCmd_A7
      ; Animation       = ABArFrcCmd_A7.ABArFrcCmd_A7
      ; AnimationMode   = ONCE_BACKWARDS
      ; Flags           = START_FRAME_LAST
    ; End   
    ; AliasConditionState = NIGHT DOOR_1_CLOSING
    ; AliasConditionState = SNOW DOOR_1_CLOSING
    ; AliasConditionState = NIGHT SNOW DOOR_1_CLOSING
    ; AliasConditionState = NIGHT DAMAGED DOOR_1_CLOSING
    ; AliasConditionState = SNOW DAMAGED DOOR_1_CLOSING
    ; AliasConditionState = NIGHT SNOW DAMAGED DOOR_1_CLOSING
    ; AliasConditionState = NIGHT REALLYDAMAGED RUBBLE DOOR_1_CLOSING
    ; AliasConditionState = SNOW REALLYDAMAGED RUBBLE DOOR_1_CLOSING
    ; AliasConditionState = NIGHT SNOW REALLYDAMAGED RUBBLE  DOOR_1_CLOSING
    
    ; ConditionState    = DOOR_1_WAITING_OPEN
      ; Model           = ABArFrcCmd_A7
      ; Animation       = ABArFrcCmd_A7.ABArFrcCmd_A7
      ; AnimationMode   = MANUAL
      ; Flags           = START_FRAME_LAST
    ; End   
    ; AliasConditionState = NIGHT DOOR_1_WAITING_OPEN
    ; AliasConditionState = SNOW DOOR_1_WAITING_OPEN
    ; AliasConditionState = NIGHT SNOW DOOR_1_WAITING_OPEN
    ; AliasConditionState = NIGHT DAMAGED DOOR_1_WAITING_OPEN
    ; AliasConditionState = SNOW DAMAGED DOOR_1_WAITING_OPEN
    ; AliasConditionState = NIGHT SNOW DAMAGED DOOR_1_WAITING_OPEN
    ; AliasConditionState = NIGHT REALLYDAMAGED RUBBLE DOOR_1_WAITING_OPEN
    ; AliasConditionState = SNOW REALLYDAMAGED RUBBLE DOOR_1_WAITING_OPEN
    ; AliasConditionState = NIGHT SNOW REALLYDAMAGED RUBBLE DOOR_1_WAITING_OPEN
    
    
    ; ;**************************************************************************************************************************
    ; ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ; ;for this draw module
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      ; Model              = ABArFrcCmd_A7
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
    
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      ; Model              = ABArFrcCmd_A7
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End

    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED SNOW
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT SNOW
    
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      ; Model              = ABArFrcCmd_A7
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED SNOW
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT SNOW
    
    ; ConditionState       = AWAITING_CONSTRUCTION 
      ; Model              = NONE
    ; End
    ; AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    ; AliasConditionState  = SOLD 
    ; AliasConditionState  = SOLD DAMAGED
    ; AliasConditionState  = SOLD REALLYDAMAGED
    ; AliasConditionState  = SOLD NIGHT
    ; AliasConditionState  = SOLD NIGHT DAMAGED
    ; AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    ; AliasConditionState  = SOLD SNOW
    ; AliasConditionState  = SOLD SNOW DAMAGED
    ; AliasConditionState  = SOLD SNOW REALLYDAMAGED
    ; AliasConditionState  = SOLD NIGHT SNOW
    ; AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    ; AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    ; ;**************************************************************************************************************************
    
  ; End

  ; ; ----------------- door #2 -------------------
  ; Draw                = W3DModelDraw ModuleTag_04
    ; DefaultConditionState
      ; Model           = ABArFrcCmd_A8
      ; Animation       = ABArFrcCmd_A8.ABArFrcCmd_A8
      ; AnimationMode   = MANUAL
      ; Flags           = START_FRAME_FIRST
    ; End
    ; AliasConditionState = NIGHT 
    ; AliasConditionState = SNOW 
    ; AliasConditionState = NIGHT SNOW 
    ; AliasConditionState = NIGHT DAMAGED
    ; AliasConditionState = SNOW DAMAGED
    ; AliasConditionState = NIGHT SNOW DAMAGED
    ; AliasConditionState = NIGHT REALLYDAMAGED RUBBLE
    ; AliasConditionState = SNOW REALLYDAMAGED RUBBLE
    ; AliasConditionState = NIGHT SNOW REALLYDAMAGED RUBBLE 
    
    
    ; ConditionState    = DOOR_2_OPENING
      ; Model           = ABArFrcCmd_A8
      ; Animation       = ABArFrcCmd_A8.ABArFrcCmd_A8
      ; AnimationMode   = ONCE
      ; Flags           = START_FRAME_FIRST
    ; End
    ; AliasConditionState = NIGHT DOOR_2_OPENING
    ; AliasConditionState = SNOW DOOR_2_OPENING
    ; AliasConditionState = NIGHT SNOW DOOR_2_OPENING
    ; AliasConditionState = NIGHT DAMAGED DOOR_2_OPENING
    ; AliasConditionState = SNOW DAMAGED DOOR_2_OPENING
    ; AliasConditionState = NIGHT SNOW DAMAGED DOOR_2_OPENING
    ; AliasConditionState = NIGHT REALLYDAMAGED RUBBLE DOOR_2_OPENING
    ; AliasConditionState = SNOW REALLYDAMAGED RUBBLE DOOR_2_OPENING
    ; AliasConditionState = NIGHT SNOW REALLYDAMAGED RUBBLE DOOR_2_OPENING
   
       
    ; ConditionState    = DOOR_2_CLOSING
      ; Model           = ABArFrcCmd_A8
      ; Animation       = ABArFrcCmd_A8.ABArFrcCmd_A8
      ; AnimationMode   = ONCE_BACKWARDS
      ; Flags           = START_FRAME_LAST
    ; End   
    ; AliasConditionState = NIGHT DOOR_2_CLOSING
    ; AliasConditionState = SNOW DOOR_2_CLOSING
    ; AliasConditionState = NIGHT SNOW DOOR_2_CLOSING
    ; AliasConditionState = NIGHT DAMAGED DOOR_2_CLOSING
    ; AliasConditionState = SNOW DAMAGED DOOR_2_CLOSING
    ; AliasConditionState = NIGHT SNOW DAMAGED DOOR_2_CLOSING
    ; AliasConditionState = NIGHT REALLYDAMAGED RUBBLE DOOR_2_CLOSING
    ; AliasConditionState = SNOW REALLYDAMAGED RUBBLE DOOR_2_CLOSING
    ; AliasConditionState = NIGHT SNOW REALLYDAMAGED RUBBLE DOOR_2_CLOSING
    
    ; ConditionState    = DOOR_2_WAITING_OPEN
      ; Model           = ABArFrcCmd_A8
      ; Animation       = ABArFrcCmd_A8.ABArFrcCmd_A8
      ; AnimationMode   = MANUAL
      ; Flags           = START_FRAME_LAST 
    ; End 
    ; AliasConditionState = NIGHT DOOR_2_WAITING_OPEN
    ; AliasConditionState = SNOW DOOR_2_WAITING_OPEN
    ; AliasConditionState = NIGHT SNOW DOOR_2_WAITING_OPEN
    ; AliasConditionState = NIGHT DAMAGED DOOR_2_WAITING_OPEN
    ; AliasConditionState = SNOW DAMAGED DOOR_2_WAITING_OPEN
    ; AliasConditionState = NIGHT SNOW DAMAGED DOOR_2_WAITING_OPEN
    ; AliasConditionState = NIGHT REALLYDAMAGED RUBBLE DOOR_2_WAITING_OPEN
    ; AliasConditionState = SNOW REALLYDAMAGED RUBBLE DOOR_2_WAITING_OPEN
    ; AliasConditionState = NIGHT SNOW REALLYDAMAGED RUBBLE DOOR_2_WAITING_OPEN
    
        ; ;**************************************************************************************************************************
    ; ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ; ;for this draw module
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      ; Model              = ABArFrcCmd_A8
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
    
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      ; Model              = ABArFrcCmd_A8
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED SNOW
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT SNOW
    
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      ; Model              = ABArFrcCmd_A8
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED SNOW
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT SNOW
    
    ; ConditionState       = AWAITING_CONSTRUCTION 
      ; Model              = NONE
    ; End
    ; AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    ; AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    ; AliasConditionState  = SOLD 
    ; AliasConditionState  = SOLD DAMAGED
    ; AliasConditionState  = SOLD REALLYDAMAGED
    ; AliasConditionState  = SOLD NIGHT
    ; AliasConditionState  = SOLD NIGHT DAMAGED
    ; AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    ; AliasConditionState  = SOLD SNOW
    ; AliasConditionState  = SOLD SNOW DAMAGED
    ; AliasConditionState  = SOLD SNOW REALLYDAMAGED
    ; AliasConditionState  = SOLD NIGHT SNOW
    ; AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    ; AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    ; ;**************************************************************************************************************************
    
  ; End
  
  ; ; ----------------- door #3 -------------------
  ; Draw                = W3DModelDraw ModuleTag_05
    ; DefaultConditionState
      ; Model           = ABArFrcCmd_A2
      ; Animation       = ABArFrcCmd_A2.ABArFrcCmd_A2
      ; AnimationMode   = MANUAL
      ; Flags           = START_FRAME_FIRST
    ; End
    ; AliasConditionState = NIGHT 
    ; AliasConditionState = SNOW 
    ; AliasConditionState = NIGHT SNOW 
    ; AliasConditionState = NIGHT DAMAGED
    ; AliasConditionState = SNOW DAMAGED
    ; AliasConditionState = NIGHT SNOW DAMAGED
    ; AliasConditionState = NIGHT REALLYDAMAGED RUBBLE
    ; AliasConditionState = SNOW REALLYDAMAGED RUBBLE
    ; AliasConditionState = NIGHT SNOW REALLYDAMAGED RUBBLE
    
    
    ; ConditionState    = DOOR_3_OPENING
      ; Model           = ABArFrcCmd_A2
      ; Animation       = ABArFrcCmd_A2.ABArFrcCmd_A2
      ; AnimationMode   = ONCE
      ; Flags           = START_FRAME_FIRST
    ; End   
    ; AliasConditionState = NIGHT DOOR_3_OPENING
    ; AliasConditionState = SNOW DOOR_3_OPENING
    ; AliasConditionState = NIGHT SNOW DOOR_3_OPENING
    ; AliasConditionState = NIGHT DAMAGED DOOR_3_OPENING
    ; AliasConditionState = SNOW DAMAGED DOOR_3_OPENING
    ; AliasConditionState = NIGHT SNOW DAMAGED DOOR_3_OPENING
    ; AliasConditionState = NIGHT REALLYDAMAGED RUBBLE DOOR_3_OPENING
    ; AliasConditionState = SNOW REALLYDAMAGED RUBBLE DOOR_3_OPENING
    ; AliasConditionState = NIGHT SNOW REALLYDAMAGED RUBBLE DOOR_3_OPENING
    
    ; ConditionState    = DOOR_3_CLOSING
      ; Model           = ABArFrcCmd_A2
      ; Animation       = ABArFrcCmd_A2.ABArFrcCmd_A2
      ; AnimationMode   = ONCE_BACKWARDS
      ; Flags           = START_FRAME_LAST
    ; End   
    ; AliasConditionState = NIGHT DOOR_3_CLOSING
    ; AliasConditionState = SNOW DOOR_3_CLOSING
    ; AliasConditionState = NIGHT SNOW DOOR_3_CLOSING
    ; AliasConditionState = NIGHT DAMAGED DOOR_3_CLOSING
    ; AliasConditionState = SNOW DAMAGED DOOR_3_CLOSING
    ; AliasConditionState = NIGHT SNOW DAMAGED DOOR_3_CLOSING
    ; AliasConditionState = NIGHT REALLYDAMAGED RUBBLE DOOR_3_CLOSING
    ; AliasConditionState = SNOW REALLYDAMAGED RUBBLE DOOR_3_CLOSING
    ; AliasConditionState = NIGHT SNOW REALLYDAMAGED RUBBLE DOOR_3_CLOSING
    
    ; ConditionState    = DOOR_3_WAITING_OPEN
      ; Model           = ABArFrcCmd_A2
      ; Animation       = ABArFrcCmd_A2.ABArFrcCmd_A2
      ; AnimationMode   = MANUAL
      ; Flags           = START_FRAME_LAST
    ; End  
    ; AliasConditionState = NIGHT DOOR_3_WAITING_OPEN
    ; AliasConditionState = SNOW DOOR_3_WAITING_OPEN
    ; AliasConditionState = NIGHT SNOW DOOR_3_WAITING_OPEN
    ; AliasConditionState = NIGHT DAMAGED DOOR_3_WAITING_OPEN
    ; AliasConditionState = SNOW DAMAGED DOOR_3_WAITING_OPEN
    ; AliasConditionState = NIGHT SNOW DAMAGED DOOR_3_WAITING_OPEN
    ; AliasConditionState = NIGHT REALLYDAMAGED RUBBLE DOOR_3_WAITING_OPEN
    ; AliasConditionState = SNOW REALLYDAMAGED RUBBLE DOOR_3_WAITING_OPEN
    ; AliasConditionState = NIGHT SNOW REALLYDAMAGED RUBBLE DOOR_3_WAITING_OPEN
        
    
        ; ;**************************************************************************************************************************
    ; ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ; ;for this draw module
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      ; Model              = ABArFrcCmd_A2
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
    
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      ; Model              = ABArFrcCmd_A2
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED SNOW
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT SNOW
    
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      ; Model              = ABArFrcCmd_A2
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED SNOW
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT SNOW
    
    ; ConditionState       = AWAITING_CONSTRUCTION 
      ; Model              = NONE
    ; End
    ; AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    ; AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    ; AliasConditionState  = SOLD 
    ; AliasConditionState  = SOLD DAMAGED
    ; AliasConditionState  = SOLD REALLYDAMAGED
    ; AliasConditionState  = SOLD NIGHT
    ; AliasConditionState  = SOLD NIGHT DAMAGED
    ; AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    ; AliasConditionState  = SOLD SNOW
    ; AliasConditionState  = SOLD SNOW DAMAGED
    ; AliasConditionState  = SOLD SNOW REALLYDAMAGED
    ; AliasConditionState  = SOLD NIGHT SNOW
    ; AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    ; AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    ; ;**************************************************************************************************************************
       
  ; End

  ; ; ----------------- door #4 -------------------
  ; Draw                = W3DModelDraw ModuleTag_06
    ; DefaultConditionState
      ; Model           = ABArFrcCmd_A3
      ; Animation       = ABArFrcCmd_A3.ABArFrcCmd_A3
      ; AnimationMode   = MANUAL
      ; Flags           = START_FRAME_FIRST
    ; End
    ; AliasConditionState = NIGHT 
    ; AliasConditionState = SNOW 
    ; AliasConditionState = NIGHT SNOW 
    ; AliasConditionState = NIGHT DAMAGED
    ; AliasConditionState = SNOW DAMAGED
    ; AliasConditionState = NIGHT SNOW DAMAGED
    ; AliasConditionState = NIGHT REALLYDAMAGED RUBBLE
    ; AliasConditionState = SNOW REALLYDAMAGED RUBBLE
    ; AliasConditionState = NIGHT SNOW REALLYDAMAGED RUBBLE
    
    ; ConditionState    = DOOR_4_OPENING
      ; Model           = ABArFrcCmd_A3
      ; Animation       = ABArFrcCmd_A3.ABArFrcCmd_A3
      ; AnimationMode   = ONCE
      ; Flags           = START_FRAME_FIRST
    ; End   
    ; AliasConditionState = NIGHT DOOR_4_OPENING
    ; AliasConditionState = SNOW DOOR_4_OPENING
    ; AliasConditionState = NIGHT SNOW DOOR_4_OPENING
    ; AliasConditionState = NIGHT DAMAGED DOOR_4_OPENING
    ; AliasConditionState = SNOW DAMAGED DOOR_4_OPENING
    ; AliasConditionState = NIGHT SNOW DAMAGED DOOR_4_OPENING
    ; AliasConditionState = NIGHT REALLYDAMAGED RUBBLE DOOR_4_OPENING
    ; AliasConditionState = SNOW REALLYDAMAGED RUBBLE DOOR_4_OPENING
    ; AliasConditionState = NIGHT SNOW REALLYDAMAGED RUBBLE DOOR_4_OPENING
    
    ; ConditionState    = DOOR_4_CLOSING
      ; Model           = ABArFrcCmd_A3
      ; Animation       = ABArFrcCmd_A3.ABArFrcCmd_A3
      ; AnimationMode   = ONCE_BACKWARDS
      ; Flags           = START_FRAME_LAST
    ; End   
    ; AliasConditionState = NIGHT DOOR_4_CLOSING
    ; AliasConditionState = SNOW DOOR_4_CLOSING
    ; AliasConditionState = NIGHT SNOW DOOR_4_CLOSING
    ; AliasConditionState = NIGHT DAMAGED DOOR_4_CLOSING
    ; AliasConditionState = SNOW DAMAGED DOOR_4_CLOSING
    ; AliasConditionState = NIGHT SNOW DAMAGED DOOR_4_CLOSING
    ; AliasConditionState = NIGHT REALLYDAMAGED RUBBLE DOOR_4_CLOSING
    ; AliasConditionState = SNOW REALLYDAMAGED RUBBLE DOOR_4_CLOSING
    ; AliasConditionState = NIGHT SNOW REALLYDAMAGED RUBBLE DOOR_4_CLOSING
    
    ; ConditionState    = DOOR_4_WAITING_OPEN
      ; Model           = ABArFrcCmd_A3
      ; Animation       = ABArFrcCmd_A3.ABArFrcCmd_A3
      ; AnimationMode   = MANUAL
      ; Flags           = START_FRAME_LAST
    ; End 
    ; AliasConditionState = NIGHT DOOR_4_WAITING_OPEN
    ; AliasConditionState = SNOW DOOR_4_WAITING_OPEN
    ; AliasConditionState = NIGHT SNOW DOOR_4_WAITING_OPEN
    ; AliasConditionState = NIGHT DAMAGED DOOR_4_WAITING_OPEN
    ; AliasConditionState = SNOW DAMAGED DOOR_4_WAITING_OPEN
    ; AliasConditionState = NIGHT SNOW DAMAGED DOOR_4_WAITING_OPEN
    ; AliasConditionState = NIGHT REALLYDAMAGED RUBBLE DOOR_4_WAITING_OPEN
    ; AliasConditionState = SNOW REALLYDAMAGED RUBBLE DOOR_4_WAITING_OPEN
    ; AliasConditionState = NIGHT SNOW REALLYDAMAGED RUBBLE DOOR_4_WAITING_OPEN
    
    ; ;**************************************************************************************************************************
    ; ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ; ;for this draw module
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      ; Model              = ABArFrcCmd_A3
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
    
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      ; Model              = ABArFrcCmd_A3
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED SNOW
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT SNOW
    
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      ; Model              = ABArFrcCmd_A3
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED SNOW
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT SNOW
    
    ; ConditionState       = AWAITING_CONSTRUCTION 
      ; Model              = NONE
    ; End
    ; AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    ; AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    ; AliasConditionState  = SOLD 
    ; AliasConditionState  = SOLD DAMAGED
    ; AliasConditionState  = SOLD REALLYDAMAGED
    ; AliasConditionState  = SOLD NIGHT
    ; AliasConditionState  = SOLD NIGHT DAMAGED
    ; AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    ; AliasConditionState  = SOLD SNOW
    ; AliasConditionState  = SOLD SNOW DAMAGED
    ; AliasConditionState  = SOLD SNOW REALLYDAMAGED
    ; AliasConditionState  = SOLD NIGHT SNOW
    ; AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    ; AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    ; ;**************************************************************************************************************************
  ; End

  ; ; ------------ construction-zone fence -----------------
  ; Draw = W3DModelDraw ModuleTag_07
  ; AnimationsRequirePower = No
    ; DefaultConditionState
      ; Model           = None
      ; TransitionKey   = DOWN_DEFAULT
    ; End
    ; ConditionState    = NIGHT
      ; Model           = None
      ; TransitionKey   = DOWN_DEFAULT
    ; End
    ; ConditionState    = SNOW
      ; Model           = None
      ; TransitionKey   = DOWN_DEFAULT
    ; End
    ; ConditionState    = SNOW NIGHT
      ; Model           = None
      ; TransitionKey   = DOWN_DEFAULT
    ; End
    ; ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      ; Model           = ABArFrcCmd_A4
      ; Animation       = ABArFrcCmd_A4.ABArFrcCmd_A4
      ; AnimationMode   = MANUAL
      ; Flags           = START_FRAME_LAST
      ; TransitionKey   = UP_DAY
      ; ParticleSysBone = SmokeS01 SmokeBuildingSmall
      ; ParticleSysBone = SparksS01 LiveWireSparks02
    ; End
    ; ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      ; Model           = ABArFrcCmd_A4N
      ; Animation       = ABArFrcCmd_A4N.ABArFrcCmd_A4N
      ; AnimationMode   = MANUAL
      ; Flags           = START_FRAME_LAST
      ; TransitionKey   = UP_NIGHT
      ; ParticleSysBone = SmokeS01 SmokeBuildingSmall
      ; ParticleSysBone = SparksS01 LiveWireSparks02
    ; End
    ; ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      ; Model           = ABArFrcCmd_A4S
      ; Animation       = ABArFrcCmd_A4S.ABArFrcCmd_A4S
      ; AnimationMode   = MANUAL
      ; Flags           = START_FRAME_LAST
      ; TransitionKey   = UP_SNOW
      ; ParticleSysBone = SmokeS01 SmokeBuildingSmall
      ; ParticleSysBone = SparksS01 LiveWireSparks02
    ; End
    ; ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      ; Model           = ABArFrcCmd_A4SN
; ; @todo srj -- missing
      ; Animation       = ABArFrcCmd_A4SN.ABArFrcCmd_A4SN
      ; AnimationMode   = MANUAL
      ; Flags           = START_FRAME_LAST
      ; TransitionKey   = UP_SNOWNIGHT
      ; ParticleSysBone = SmokeS01 SmokeBuildingSmall
      ; ParticleSysBone = SparksS01 LiveWireSparks02
    ; End
    ; TransitionState   = DOWN_DEFAULT UP_DAY
      ; Model           = ABArFrcCmd_A4
      ; Animation       = ABArFrcCmd_A4.ABArFrcCmd_A4
      ; AnimationMode   = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags           = START_FRAME_FIRST
    ; End
    ; TransitionState   = DOWN_DEFAULT UP_NIGHT
      ; Model           = ABArFrcCmd_A4N
      ; Animation       = ABArFrcCmd_A4N.ABArFrcCmd_A4N
      ; AnimationMode   = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags           = START_FRAME_FIRST
    ; End
    ; TransitionState   = DOWN_DEFAULT UP_SNOW
      ; Model           = ABArFrcCmd_A4S
      ; Animation       = ABArFrcCmd_A4S.ABArFrcCmd_A4S
      ; AnimationMode   = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags           = START_FRAME_FIRST
    ; End
    ; TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      ; Model           = ABArFrcCmd_A4SN
; ; @todo srj -- missing
      ; Animation       = ABArFrcCmd_A4SN.ABArFrcCmd_A4SN
      ; AnimationMode   = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags           = START_FRAME_FIRST
    ; End
    ; TransitionState   = UP_DAY DOWN_DEFAULT
      ; Model           = ABArFrcCmd_A4
      ; Animation       = ABArFrcCmd_A4.ABArFrcCmd_A4
      ; AnimationMode   = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      ; Flags           = START_FRAME_LAST
    ; End
    ; TransitionState   = UP_NIGHT DOWN_DEFAULT
      ; Model           = ABArFrcCmd_A4N
      ; Animation       = ABArFrcCmd_A4N.ABArFrcCmd_A4N
      ; AnimationMode   = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      ; Flags           = START_FRAME_LAST
    ; End
    ; TransitionState   = UP_SNOW DOWN_DEFAULT
      ; Model           = ABArFrcCmd_A4S
      ; Animation       = ABArFrcCmd_A4S.ABArFrcCmd_A4S
      ; AnimationMode   = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      ; Flags           = START_FRAME_LAST
    ; End
    ; TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      ; Model           = ABArFrcCmd_A4SN
; ; @todo srj -- missing
      ; Animation       = ABArFrcCmd_A4SN.ABArFrcCmd_A4SN
      ; AnimationMode   = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      ; Flags           = START_FRAME_LAST
    ; End
  ; End

  ; ; ------------ under-construction scaffolding -----------------
  ; Draw = W3DModelDraw ModuleTag_08
  ; AnimationsRequirePower = No
    ; MinLODRequired = MEDIUM
    ; DefaultConditionState
      ; Model           = None
      ; TransitionKey   = DOWN_DEFAULT
    ; End
    ; ConditionState    = NIGHT
      ; Model           = None
      ; TransitionKey   = DOWN_DEFAULT
    ; End
    ; ConditionState    = SNOW
      ; Model           = None
      ; TransitionKey   = DOWN_DEFAULT
    ; End
    ; ConditionState    = SNOW NIGHT
      ; Model           = None
      ; TransitionKey   = DOWN_DEFAULT
    ; End
    ; ConditionState    = PARTIALLY_CONSTRUCTED
      ; Model           = ABArFrcCmd_A6
      ; Animation       = ABArFrcCmd_A6.ABArFrcCmd_A6
      ; AnimationMode   = MANUAL
      ; Flags           = START_FRAME_LAST
      ; TransitionKey   = UP_DAY
      ; ParticleSysBone = Sparks01 BuildUpBlueSpark
      ; ParticleSysBone = Sparks02 BuildUpBlueSpark
      ; ParticleSysBone = Sparks03 BuildUpBlueSpark
      ; ParticleSysBone = Sparks04 BuildUpBlueSpark
      ; ParticleSysBone = Sparks05 BuildUpBlueSpark
      ; ParticleSysBone = Sparks06 BuildUpBlueSpark
    ; End
    ; ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      ; Model           = ABArFrcCmd_A6N
      ; Animation       = ABArFrcCmd_A6N.ABArFrcCmd_A6N
      ; AnimationMode   = MANUAL
      ; Flags           = START_FRAME_LAST
      ; TransitionKey   = UP_NIGHT
      ; ParticleSysBone = Sparks01 BuildUpBlueSpark
      ; ParticleSysBone = Sparks02 BuildUpBlueSpark
      ; ParticleSysBone = Sparks03 BuildUpBlueSpark
      ; ParticleSysBone = Sparks04 BuildUpBlueSpark
      ; ParticleSysBone = Sparks05 BuildUpBlueSpark
      ; ParticleSysBone = Sparks06 BuildUpBlueSpark
    ; End
    ; ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      ; Model           = ABArFrcCmd_A6S
      ; Animation       = ABArFrcCmd_A6S.ABArFrcCmd_A6S
      ; AnimationMode   = MANUAL
      ; Flags           = START_FRAME_LAST
      ; TransitionKey   = UP_SNOW
      ; ParticleSysBone = Sparks01 BuildUpBlueSpark
      ; ParticleSysBone = Sparks02 BuildUpBlueSpark
      ; ParticleSysBone = Sparks03 BuildUpBlueSpark
      ; ParticleSysBone = Sparks04 BuildUpBlueSpark
      ; ParticleSysBone = Sparks05 BuildUpBlueSpark
      ; ParticleSysBone = Sparks06 BuildUpBlueSpark
    ; End
    ; ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      ; Model           = ABArFrcCmd_A6SN
; ; @todo srj -- missing
      ; Animation       = ABArFrcCmd_A6SN.ABArFrcCmd_A6SN
      ; AnimationMode   = MANUAL
      ; Flags           = START_FRAME_LAST
      ; TransitionKey   = UP_SNOWNIGHT
      ; ParticleSysBone = Sparks01 BuildUpBlueSpark
      ; ParticleSysBone = Sparks02 BuildUpBlueSpark
      ; ParticleSysBone = Sparks03 BuildUpBlueSpark
      ; ParticleSysBone = Sparks04 BuildUpBlueSpark
      ; ParticleSysBone = Sparks05 BuildUpBlueSpark
      ; ParticleSysBone = Sparks06 BuildUpBlueSpark
    ; End
    ; TransitionState   = DOWN_DEFAULT UP_DAY
     ; Model            = ABArFrcCmd_A6
      ; Animation       = ABArFrcCmd_A6.ABArFrcCmd_A6
      ; AnimationMode   = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags           = START_FRAME_FIRST
    ; End
    ; TransitionState   = DOWN_DEFAULT UP_NIGHT
     ; Model            = ABArFrcCmd_A6N
      ; Animation       = ABArFrcCmd_A6N.ABArFrcCmd_A6N
      ; AnimationMode   = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags           = START_FRAME_FIRST
    ; End

    ; TransitionState   = DOWN_DEFAULT UP_SNOW
     ; Model            = ABArFrcCmd_A6S
      ; Animation       = ABArFrcCmd_A6S.ABArFrcCmd_A6S
      ; AnimationMode   = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags           = START_FRAME_FIRST
    ; End
    ; TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
     ; Model            = ABArFrcCmd_A6SN
; ; @todo srj -- missing
      ; Animation       = ABArFrcCmd_A6SN.ABArFrcCmd_A6SN
      ; AnimationMode   = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags           = START_FRAME_FIRST
    ; End
    ; TransitionState   = UP_DAY DOWN_DEFAULT
      ; Model           = ABArFrcCmd_A6
      ; Animation       = ABArFrcCmd_A6.ABArFrcCmd_A6
      ; AnimationMode   = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      ; Flags           = START_FRAME_LAST
    ; End
    ; TransitionState   = UP_NIGHT DOWN_DEFAULT
      ; Model           = ABArFrcCmd_A6N
      ; Animation       = ABArFrcCmd_A6N.ABArFrcCmd_A6N
      ; AnimationMode   = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      ; Flags           = START_FRAME_LAST
    ; End
    ; TransitionState   = UP_SNOW DOWN_DEFAULT
      ; Model           = ABArFrcCmd_A6S
      ; Animation       = ABArFrcCmd_A6S.ABArFrcCmd_A6S
      ; AnimationMode   = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      ; Flags           = START_FRAME_LAST
    ; End
    ; TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      ; Model           = ABArFrcCmd_A6SN
; ; @todo srj -- missing
      ; Animation       = ABArFrcCmd_A6SN.ABArFrcCmd_A6SN
      ; AnimationMode   = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      ; Flags           = START_FRAME_LAST
    ; End
  ; End

  ; ; ------------ being-constructed crane -----------------
  ; Draw = W3DModelDraw ModuleTag_09
  ; AnimationsRequirePower = No
    ; DefaultConditionState
      ; Model           = None
      ; TransitionKey   = DOWN_DEFAULT
    ; End
    ; ConditionState    = NIGHT
      ; Model           = None
      ; TransitionKey   = DOWN_DEFAULT
    ; End
    ; ConditionState    = SNOW
      ; Model           = None
      ; TransitionKey   = DOWN_DEFAULT
    ; End
    ; ConditionState    = SNOW NIGHT
      ; Model           = None
      ; TransitionKey   = DOWN_DEFAULT
    ; End
    ; ConditionState    = SOLD
      ; Model           = NONE
    ; End

    ; ConditionState    = ACTIVELY_BEING_CONSTRUCTED
      ; Model           = ABArFrcCmd_A5
      ; Animation       = ABArFrcCmd_A5.ABArFrcCmd_A5
      ; AnimationMode   = LOOP
      ; TransitionKey   = UP_DAY
    ; End

    ; ConditionState    = NIGHT ACTIVELY_BEING_CONSTRUCTED
      ; Model           = ABArFrcCmd_A5N
      ; Animation       = ABArFrcCmd_A5N.ABArFrcCmd_A5N
      ; AnimationMode   = LOOP
      ; TransitionKey   = UP_NIGHT
    ; End
    ; ConditionState    = SNOW ACTIVELY_BEING_CONSTRUCTED
      ; Model           = ABArFrcCmd_A5S
      ; Animation       = ABArFrcCmd_A5S.ABArFrcCmd_A5S
      ; AnimationMode   = LOOP
      ; TransitionKey   = UP_SNOW
    ; End
    ; ConditionState    = SNOW NIGHT ACTIVELY_BEING_CONSTRUCTED
      ; Model           = ABArFrcCmd_A5SN
      ; Animation       = ABArFrcCmd_A5SN.ABArFrcCmd_A5SN
      ; AnimationMode   = LOOP
      ; TransitionKey   = UP_SNOWNIGHT
    ; End
    ; TransitionState   = DOWN_DEFAULT UP_DAY
      ; Model           = ABArFrcCmd_AB
      ; Animation       = ABArFrcCmd_AB.ABArFrcCmd_AB
      ; AnimationMode   = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags           = START_FRAME_FIRST
    ; End

    ; TransitionState   = DOWN_DEFAULT UP_NIGHT
      ; Model           = ABArFrcCmd_ABN
      ; Animation       = ABArFrcCmd_ABN.ABArFrcCmd_ABN
      ; AnimationMode   = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags           = START_FRAME_FIRST
    ; End
    ; TransitionState   = DOWN_DEFAULT UP_SNOW
      ; Model           = ABArFrcCmd_ABS
      ; ; @todo srj -- not found
      ; Animation       = ABArFrcCmd_ABS.ABArFrcCmd_ABS
      ; AnimationMode   = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags           = START_FRAME_FIRST
    ; End
    ; TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      ; Model           = ABArFrcCmd_ABSN
      ; Animation       = ABArFrcCmd_ABSN.ABArFrcCmd_ABSN
      ; AnimationMode   = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags           = START_FRAME_FIRST
    ; End
    ; TransitionState   = UP_DAY DOWN_DEFAULT
      ; Model           = ABArFrcCmd_AB
      ; Animation       = ABArFrcCmd_AB.ABArFrcCmd_AB
      ; AnimationMode   = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      ; Flags           = START_FRAME_LAST
    ; End
    ; TransitionState   = UP_NIGHT DOWN_DEFAULT
      ; Model           = ABArFrcCmd_ABN
      ; Animation       = ABArFrcCmd_ABN.ABArFrcCmd_ABN
      ; AnimationMode   = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      ; Flags           = START_FRAME_LAST
    ; End
    ; TransitionState   = UP_SNOW DOWN_DEFAULT
      ; Model           = ABArFrcCmd_ABS
      ; ; @todo srj -- not found
      ; Animation       = ABArFrcCmd_ABS.ABArFrcCmd_ABS
      ; AnimationMode   = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      ; Flags           = START_FRAME_LAST
    ; End
    ; TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      ; Model           = ABArFrcCmd_ABS
      ; Animation       = ABArFrcCmd_ABS.ABArFrcCmd_ABS
      ; AnimationMode   = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      ; Flags           = START_FRAME_LAST
    ; End
  ; End

  ; PlacementViewAngle = -45

  ; ; ***DESIGN parameters ***
  ; DisplayName      = OBJECT:Airfield
  ; Side             = Boss
  ; EditorSorting    = STRUCTURE
  ; Prerequisites
    ; Object = Boss_SupplyCenter
  ; End
  ; BuildCost        = 1000
  ; BuildTime        = 30.0           ; in seconds
  ; EnergyProduction = -1
  ; CommandSet       = Boss_ChinaAirfieldCommandSet
  ; VisionRange     = 200.0           ; Shroud clearing distance
  ; ShroudClearingRange = 200
  ; ArmorSet
    ; Conditions      = None
    ; Armor           = StructureArmor
    ; DamageFX        = StructureDamageFXNoShake
  ; End
  ; ExperienceValue     = 150 150 150 150  ; Experience point value at each level

  ; ; *** AUDIO Parameters ***
  ; VoiceSelect = AirfieldUSASelect
  ; SoundOnDamaged        = BuildingDamagedStateLight
  ; SoundOnReallyDamaged  = BuildingDestroy

  ; UnitSpecificSounds
    ; UnderConstruction     = UnderConstructionLoop
  ; End

  ; ; *** ENGINEERING Parameters ***
  ; RadarPriority   = STRUCTURE
  ; KindOf          = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE CAPTURABLE FS_TECHNOLOGY MP_COUNT_FOR_VICTORY FS_FACTORY FS_AIRFIELD AUTO_RALLYPOINT
  ; Body            = StructureBody ModuleTag_0900
    ; MaxHealth       = 250000.0
    ; InitialHealth   = 250000.0

    ; ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    ; SubdualDamageCap = 1700
    ; SubdualDamageHealRate = 500
    ; SubdualDamageHealAmount = 100
  ; End

  ; Behavior = BaseRegenerateUpdate ModuleTag_1301
    ; ;No data
  ; End 

  ; Behavior             = CreateObjectDie ModuleTag_16112
    ; CreationList  = OCL_AmericanRangerDebris02
    ; ExemptStatus  = UNDER_CONSTRUCTION
  ; End

  ; Behavior = ParkingPlaceBehavior ModuleTag_11
    ; HealAmountPerSecond     = 10
    ; NumRows                 = 2
    ; NumCols                 = 2
    ; HasRunways              = Yes
    ; ApproachHeight          = 50
  ; End

  ; Behavior = ProductionUpdate ModuleTag_1200
    ; NumDoorAnimations            = 4
    ; DoorOpeningTime              = 2000  ;in mSeconds
    ; DoorWaitOpenTime             = 3000  ;in mSeconds
    ; DoorCloseTime                = 2000  ;in mSeconds
    ; ConstructionCompleteDuration = 1000  ;in mSeconds
  ; End

  ; Behavior = DestroyDie ModuleTag_12
    ; ;nothing
  ; End
  ; Behavior             = CreateObjectDie ModuleTag_13
    ; CreationList  = OCL_ABPowerPlantExplode
  ; End
  ; Behavior             = FXListDie ModuleTag_14
    ; DeathFX       = FX_StructureMediumDeath
  ; End

  ; Behavior = GenerateMinefieldBehavior     ModuleTag_15
    ; TriggeredBy           = Upgrade_ChinaMines
    ; MineName              = ChinaStandardMine
    ; SmartBorder           = Yes
    ; AlwaysCircular        = Yes

    ; Upgradable            = Yes
    ; UpgradedTriggeredBy   = Upgrade_ChinaEMPMines
    ; UpgradedMineName      = ChinaEMPMine
  ; End

  ; Behavior = FlammableUpdate ModuleTag_17
    ; AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    ; AflameDamageAmount = 5       ; taking this much damage...
    ; AflameDamageDelay = 500       ; this often.
  ; End

  ; Behavior = TransitionDamageFX ModuleTag_18
    ; ;-------------DESIGNED FOR MEDIUM SIZED FACTION BUILDING TRANSITIONS-------------------
    ; DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ; ;---------------------------------------------------------------------------------------
    ; ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ; ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionMediumExplosion
    ; ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionMediumShockwave
  ; End

  ; ; Behavior = CommandSetUpgrade ModuleTag_25
    ; ; CommandSet = Boss_ChinaAirfieldCommandSetUpgrade
    ; ; TriggeredBy = Upgrade_ChinaMines
  ; ; End
  
  ; Behavior           = OCLSpecialPower ModuleTag_27
    ; SpecialPowerTemplate = SpecialPowerSpySatellite
    ; OCL                  = SUPERWEAPON_SpySatellite
    ; CreateLocation       = CREATE_AT_LOCATION
  ; End

  ; Geometry            = BOX
  ; GeometryMajorRadius = 112.0
  ; GeometryMinorRadius = 74.0
  ; GeometryHeight      = 25.0
  ; GeometryIsSmall     = No
  ; FactoryExitWidth    = 25
  ; Shadow          = SHADOW_VOLUME
  ; BuildCompletion = PLACED_BY_PLAYER

; End

;------------------------------------------------------------------------------
Object Boss_Airfield

  ; *** ART Parameters ***
  SelectPortrait         = SNAirfield_L
  ButtonImage            = SNAirfield
  
  ; Draw = W3DModelDraw ModuleTag_01

    ; OkToChangeModelColor = Yes

    ; ExtraPublicBone = Runway1Parking1 
    ; ExtraPublicBone = Runway1Parking2 
    ; ExtraPublicBone = Runway2Parking1 
    ; ExtraPublicBone = Runway2Parking2 
    ; ExtraPublicBone = Runway1Park1Han
    ; ExtraPublicBone = Runway1Park2Han
    ; ExtraPublicBone = Runway2Park1Han
    ; ExtraPublicBone = Runway2Park2Han 
    ; ExtraPublicBone = Runway1Prep1 
    ; ExtraPublicBone = Runway1Prep2 
    ; ExtraPublicBone = Runway2Prep1 
    ; ExtraPublicBone = Runway2Prep2 
    ; ExtraPublicBone = RunwayStart1 
    ; ExtraPublicBone = RunwayStart2 
    ; ExtraPublicBone = RunwayEnd1 
    ; ExtraPublicBone = RunwayEnd2

    ; ExtraPublicBone = HeliPark01

; ; ------------- DAY ------------------    

    ; DefaultConditionState
      ; Model         = NBAirfield
      ; Animation     = NBAirfield.NBAirfield
      ; AnimationMode = LOOP
    ; End
    ; ConditionState = DAMAGED
      ; Model         = NBAirfield_D
      ; Animation     = NBAirfield_D.NBAirfield_D
      ; AnimationMode = LOOP
    ; End
    ; ConditionState = REALLYDAMAGED RUBBLE
      ; Model         = NBAirfield_E
      ; Animation     = NBAirfield_E.NBAirfield_E
      ; AnimationMode = LOOP
    ; End
    
; ; ------------- SNOW ------------------        
    ; ConditionState  = SNOW
      ; Model         = NBAirfield_S
      ; Animation     = NBAirfield_S.NBAirfield_S
      ; AnimationMode = LOOP
    ; End
    ; ConditionState = DAMAGED SNOW
      ; Model         = NBAirfield_DS
      ; Animation     = NBAirfield_DS.NBAirfield_DS
      ; AnimationMode = LOOP
    ; End
    ; ConditionState = REALLYDAMAGED RUBBLE SNOW
      ; Model         = NBAirfield_ES
      ; Animation     = NBAirfield_ES.NBAirfield_ES
      ; AnimationMode = LOOP
    ; End
    
; ; ------------- NIGHT ------------------       

    ; ConditionState = NIGHT
      ; Model         = NBAirfield_N
      ; Animation     = NBAirfield_N.NBAirfield_N
      ; AnimationMode = LOOP
    ; End
    ; ConditionState = DAMAGED NIGHT
      ; Model         = NBAirfield_DN
      ; Animation     = NBAirfield_DN.NBAirfield_DN
      ; AnimationMode = LOOP
    ; End
    ; ConditionState = REALLYDAMAGED RUBBLE NIGHT
      ; Model         = NBAirfield_EN
      ; Animation     = NBAirfield_EN.NBAirfield_EN
      ; AnimationMode = LOOP
    ; End
    
; ; ------------- NIGHT SNOW------------------       
    
    ; ConditionState = NIGHT SNOW
      ; Model         = NBAirfield_NS
      ; Animation     = NBAirfield_NS.NBAirfield_NS
      ; AnimationMode = LOOP
    ; End
    ; ConditionState = DAMAGED NIGHT SNOW
      ; Model         = NBAirfield_DNS
      ; Animation     = NBAirfield_DNS.NBAirfield_DNS
      ; AnimationMode = LOOP
    ; End
    ; ConditionState = REALLYDAMAGED RUBBLE NIGHT SNOW
      ; Model         = NBAirfield_ENS
      ; Animation     = NBAirfield_ENS.NBAirfield_ENS
      ; AnimationMode = LOOP
    ; End
    
    ; ;**************************************************************************************************************************
    ; ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ; ;for this draw module
    ; ConditionState       =  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      ; Model              = NBAirfield
      ; Animation          = NBAirfield.NBAirfield
      ; AnimationMode      = LOOP
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState       =  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      ; Model              = NBAirfield_D
      ; Animation          = NBAirfield_D.NBAirfield_D
      ; AnimationMode      = LOOP
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState       =  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      ; Model              = NBAirfield_E
      ; Animation          = NBAirfield_E.NBAirfield_E
      ; AnimationMode      = LOOP
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState       =  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
      ; Model              = NBAirfield_N
      ; Animation          = NBAirfield_N.NBAirfield_N
      ; AnimationMode      = LOOP
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState       =  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
      ; Model              = NBAirfield_DN
      ; Animation          = NBAirfield_DN.NBAirfield_DN
      ; AnimationMode      = LOOP
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState       =  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
      ; Model              = NBAirfield_EN
      ; Animation          = NBAirfield_EN.NBAirfield_EN
      ; AnimationMode      = LOOP
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState       =  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      ; Model              = NBAirfield_S
      ; Animation          = NBAirfield_S.NBAirfield_S
      ; AnimationMode      = LOOP
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState       =  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
      ; Model              = NBAirfield_DS
      ; Animation          = NBAirfield_DS.NBAirfield_DS
      ; AnimationMode      = LOOP
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState       =  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
      ; Model              = NBAirfield_ES
      ; Animation          = NBAirfield_ES.NBAirfield_ES
      ; AnimationMode      = LOOP
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState       =  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
      ; Model              = NBAirfield_NS
      ; Animation          = NBAirfield_NS.NBAirfield_NS
      ; AnimationMode      = LOOP
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState       =  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
      ; Model              = NBAirfield_DNS
      ; Animation          = NBAirfield_DNS.NBAirfield_DNS
      ; AnimationMode      = LOOP
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState       =  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
      ; Model              = NBAirfield_ENS
      ; Animation          = NBAirfield_ENS.NBAirfield_ENS
      ; AnimationMode      = LOOP
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End

    ; ConditionState       = AWAITING_CONSTRUCTION 
      ; Model              = NONE
    ; End
    ; AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    ; AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    ; AliasConditionState  = SOLD 
    ; AliasConditionState  = SOLD DAMAGED
    ; AliasConditionState  = SOLD REALLYDAMAGED
    ; AliasConditionState  = SOLD NIGHT
    ; AliasConditionState  = SOLD NIGHT DAMAGED
    ; AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    ; AliasConditionState  = SOLD SNOW
    ; AliasConditionState  = SOLD SNOW DAMAGED
    ; AliasConditionState  = SOLD SNOW REALLYDAMAGED
    ; AliasConditionState  = SOLD NIGHT SNOW
    ; AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    ; AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    ; ;************************************************************************************************************************** 
  ; End
  
  ; Draw = W3DModelDraw ModuleTag_02
    ; DefaultConditionState
      ; Model           = None
    ; End
  ; End

  ; ; ----------------- door #1 -------------------
  ; Draw                = W3DModelDraw ModuleTag_03
    ; DefaultConditionState
      ; Model           = NBAirfield_A9
      ; Animation       = NBAirfield_A9.NBAirfield_A9
      ; AnimationMode   = MANUAL
      ; Flags           = START_FRAME_FIRST
    ; End
    ; AliasConditionState = NIGHT 
    ; AliasConditionState = SNOW
    ; AliasConditionState = SNOW NIGHT
    ; AliasConditionState = NIGHT DAMAGED
    ; AliasConditionState = SNOW DAMAGED
    ; AliasConditionState = SNOW NIGHT DAMAGED
    ; AliasConditionState = NIGHT REALLYDAMAGED RUBBLE
    ; AliasConditionState = SNOW REALLYDAMAGED RUBBLE
    ; AliasConditionState = SNOW NIGHT REALLYDAMAGED RUBBLE
    
    ; ConditionState    = DOOR_1_OPENING
      ; Model           = NBAirfield_A9
      ; Animation       = NBAirfield_A9.NBAirfield_A9
      ; AnimationMode   = ONCE
      ; Flags           = START_FRAME_FIRST
    ; End   
    ; AliasConditionState = NIGHT DOOR_1_OPENING
    ; AliasConditionState = SNOW DOOR_1_OPENING
    ; AliasConditionState = SNOW NIGHT DOOR_1_OPENING
    ; AliasConditionState = NIGHT DAMAGED DOOR_1_OPENING
    ; AliasConditionState = SNOW DAMAGED DOOR_1_OPENING
    ; AliasConditionState = SNOW NIGHT DAMAGED DOOR_1_OPENING
    ; AliasConditionState = NIGHT REALLYDAMAGED RUBBLE DOOR_1_OPENING
    ; AliasConditionState = SNOW REALLYDAMAGED RUBBLE DOOR_1_OPENING
    ; AliasConditionState = SNOW NIGHT REALLYDAMAGED RUBBLE DOOR_1_OPENING
    
    ; ConditionState    = DOOR_1_CLOSING
      ; Model           = NBAirfield_A9
      ; Animation       = NBAirfield_A9.NBAirfield_A9
      ; AnimationMode   = ONCE_BACKWARDS
      ; Flags           = START_FRAME_LAST
    ; End   
    ; AliasConditionState = NIGHT DOOR_1_CLOSING
    ; AliasConditionState = SNOW DOOR_1_CLOSING
    ; AliasConditionState = SNOW NIGHT DOOR_1_CLOSING
    ; AliasConditionState = NIGHT DAMAGED DOOR_1_CLOSING
    ; AliasConditionState = SNOW DAMAGED DOOR_1_CLOSING
    ; AliasConditionState = SNOW NIGHT DAMAGED DOOR_1_CLOSING
    ; AliasConditionState = NIGHT REALLYDAMAGED RUBBLE DOOR_1_CLOSING
    ; AliasConditionState = SNOW REALLYDAMAGED RUBBLE DOOR_1_CLOSING
    ; AliasConditionState = SNOW NIGHT REALLYDAMAGED RUBBLE DOOR_1_CLOSING
    
    ; ConditionState    = DOOR_1_WAITING_OPEN
      ; Model           = NBAirfield_A9
      ; Animation       = NBAirfield_A9.NBAirfield_A9
      ; AnimationMode   = MANUAL
      ; Flags           = START_FRAME_LAST
    ; End
    ; AliasConditionState = NIGHT DOOR_1_WAITING_OPEN
    ; AliasConditionState = SNOW DOOR_1_WAITING_OPEN
    ; AliasConditionState = SNOW NIGHT DOOR_1_WAITING_OPEN
    ; AliasConditionState = NIGHT DAMAGED DOOR_1_WAITING_OPEN
    ; AliasConditionState = SNOW DAMAGED DOOR_1_WAITING_OPEN
    ; AliasConditionState = SNOW NIGHT DAMAGED DOOR_1_WAITING_OPEN
    ; AliasConditionState = NIGHT REALLYDAMAGED RUBBLE DOOR_1_WAITING_OPEN
    ; AliasConditionState = SNOW REALLYDAMAGED RUBBLE DOOR_1_WAITING_OPEN
    ; AliasConditionState = SNOW NIGHT REALLYDAMAGED RUBBLE DOOR_1_WAITING_OPEN
    
    ; ;**************************************************************************************************************************
    ; ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ; ;for this draw module
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      ; Model              = NBAirfield_A9
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
    
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      ; Model              = NBAirfield_A9
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED SNOW
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT SNOW
    
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      ; Model              = NBAirfield_A9
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED SNOW
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT SNOW
    
    ; ConditionState       = AWAITING_CONSTRUCTION 
      ; Model              = NONE
    ; End
    ; AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    ; AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    ; AliasConditionState  = SOLD 
    ; AliasConditionState  = SOLD DAMAGED
    ; AliasConditionState  = SOLD REALLYDAMAGED
    ; AliasConditionState  = SOLD NIGHT
    ; AliasConditionState  = SOLD NIGHT DAMAGED
    ; AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    ; AliasConditionState  = SOLD SNOW
    ; AliasConditionState  = SOLD SNOW DAMAGED
    ; AliasConditionState  = SOLD SNOW REALLYDAMAGED
    ; AliasConditionState  = SOLD NIGHT SNOW
    ; AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    ; AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    ; ;**************************************************************************************************************************

    
  ; End
  
  ; ; ----------------- door #3 -------------------
  ; Draw                = W3DModelDraw ModuleTag_04
    ; DefaultConditionState
      ; Model           = NBAirfield_A10
      ; Animation       = NBAirfield_A10.NBAirfield_A10
      ; AnimationMode   = MANUAL
      ; Flags           = START_FRAME_FIRST
    ; End
    ; AliasConditionState = NIGHT 
    ; AliasConditionState = SNOW
    ; AliasConditionState = SNOW NIGHT
    ; AliasConditionState = NIGHT DAMAGED
    ; AliasConditionState = SNOW DAMAGED
    ; AliasConditionState = SNOW NIGHT DAMAGED
    ; AliasConditionState = NIGHT REALLYDAMAGED RUBBLE
    ; AliasConditionState = SNOW REALLYDAMAGED RUBBLE
    ; AliasConditionState = SNOW NIGHT REALLYDAMAGED RUBBLE 
    
    
    
    ; ConditionState    = DOOR_3_OPENING
      ; Model           = NBAirfield_A10
      ; Animation       = NBAirfield_A10.NBAirfield_A10
      ; AnimationMode   = ONCE
      ; Flags           = START_FRAME_FIRST
    ; End   
    ; AliasConditionState = NIGHT DOOR_3_OPENING
    ; AliasConditionState = SNOW DOOR_3_OPENING
    ; AliasConditionState = SNOW NIGHT DOOR_3_OPENING
    ; AliasConditionState = NIGHT DAMAGED DOOR_3_OPENING
    ; AliasConditionState = SNOW DAMAGED DOOR_3_OPENING
    ; AliasConditionState = SNOW NIGHT DAMAGED DOOR_3_OPENING
    ; AliasConditionState = NIGHT REALLYDAMAGED RUBBLE DOOR_3_OPENING
    ; AliasConditionState = SNOW REALLYDAMAGED RUBBLE DOOR_3_OPENING
    ; AliasConditionState = SNOW NIGHT REALLYDAMAGED RUBBLE DOOR_3_OPENING
    
    ; ConditionState    = DOOR_3_CLOSING
      ; Model           = NBAirfield_A10
      ; Animation       = NBAirfield_A10.NBAirfield_A10
      ; AnimationMode   = ONCE_BACKWARDS
      ; Flags           = START_FRAME_LAST
    ; End 
    ; AliasConditionState = NIGHT DOOR_3_CLOSING
    ; AliasConditionState = SNOW DOOR_3_CLOSING
    ; AliasConditionState = SNOW NIGHT DOOR_3_CLOSING
    ; AliasConditionState = NIGHT DAMAGED DOOR_3_CLOSING
    ; AliasConditionState = SNOW DAMAGED DOOR_3_CLOSING
    ; AliasConditionState = SNOW NIGHT DAMAGED DOOR_3_CLOSING
    ; AliasConditionState = NIGHT REALLYDAMAGED RUBBLE DOOR_3_CLOSING
    ; AliasConditionState = SNOW REALLYDAMAGED RUBBLE DOOR_3_CLOSING
    ; AliasConditionState = SNOW NIGHT REALLYDAMAGED RUBBLE DOOR_3_CLOSING
      
    ; ConditionState    = DOOR_3_WAITING_OPEN
      ; Model           = NBAirfield_A10
      ; Animation       = NBAirfield_A10.NBAirfield_A10
      ; AnimationMode   = MANUAL
      ; Flags           = START_FRAME_LAST
    ; End   
    ; AliasConditionState = NIGHT DOOR_3_WAITING_OPEN
    ; AliasConditionState = SNOW DOOR_3_WAITING_OPEN
    ; AliasConditionState = SNOW NIGHT DOOR_3_WAITING_OPEN
    ; AliasConditionState = NIGHT DAMAGED DOOR_3_WAITING_OPEN
    ; AliasConditionState = SNOW DAMAGED DOOR_3_WAITING_OPEN
    ; AliasConditionState = SNOW NIGHT DAMAGED DOOR_3_WAITING_OPEN
    ; AliasConditionState = NIGHT REALLYDAMAGED RUBBLE DOOR_3_WAITING_OPEN
    ; AliasConditionState = SNOW REALLYDAMAGED RUBBLE DOOR_3_WAITING_OPEN
    ; AliasConditionState = SNOW NIGHT REALLYDAMAGED RUBBLE DOOR_3_WAITING_OPEN

    ; ;**************************************************************************************************************************
    ; ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ; ;for this draw module
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      ; Model              = NBAirfield_A10
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
    
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      ; Model              = NBAirfield_A10
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED SNOW
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT SNOW
    
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      ; Model              = NBAirfield_A10
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED SNOW
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT SNOW
    
    ; ConditionState       = AWAITING_CONSTRUCTION 
      ; Model              = NONE
    ; End
    ; AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    ; AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    ; AliasConditionState  = SOLD 
    ; AliasConditionState  = SOLD DAMAGED
    ; AliasConditionState  = SOLD REALLYDAMAGED
    ; AliasConditionState  = SOLD NIGHT
    ; AliasConditionState  = SOLD NIGHT DAMAGED
    ; AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    ; AliasConditionState  = SOLD SNOW
    ; AliasConditionState  = SOLD SNOW DAMAGED
    ; AliasConditionState  = SOLD SNOW REALLYDAMAGED
    ; AliasConditionState  = SOLD NIGHT SNOW
    ; AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    ; AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    ; ;**************************************************************************************************************************    
  ; End

  ; ; ----------------- door #4 -------------------
  ; Draw                = W3DModelDraw ModuleTag_05
    ; DefaultConditionState
      ; Model           = NBAirfield_A8
      ; Animation       = NBAirfield_A8.NBAirfield_A8
      ; AnimationMode   = MANUAL
      ; Flags           = START_FRAME_FIRST
    ; End
    ; AliasConditionState = NIGHT 
    ; AliasConditionState = SNOW
    ; AliasConditionState = SNOW NIGHT
    ; AliasConditionState = NIGHT DAMAGED
    ; AliasConditionState = SNOW DAMAGED
    ; AliasConditionState = SNOW NIGHT DAMAGED
    ; AliasConditionState = NIGHT REALLYDAMAGED RUBBLE
    ; AliasConditionState = SNOW REALLYDAMAGED RUBBLE
    ; AliasConditionState = SNOW NIGHT REALLYDAMAGED RUBBLE 
    
    ; ConditionState    = DOOR_4_OPENING
      ; Model           = NBAirfield_A8
      ; Animation       = NBAirfield_A8.NBAirfield_A8
      ; AnimationMode   = ONCE
      ; Flags           = START_FRAME_FIRST
    ; End   
    ; AliasConditionState = NIGHT DOOR_4_OPENING
    ; AliasConditionState = SNOW DOOR_4_OPENING
    ; AliasConditionState = SNOW NIGHT DOOR_4_OPENING
    ; AliasConditionState = NIGHT DAMAGED DOOR_4_OPENING
    ; AliasConditionState = SNOW DAMAGED DOOR_4_OPENING
    ; AliasConditionState = SNOW NIGHT DAMAGED DOOR_4_OPENING
    ; AliasConditionState = NIGHT REALLYDAMAGED RUBBLE DOOR_4_OPENING
    ; AliasConditionState = SNOW REALLYDAMAGED RUBBLE DOOR_4_OPENING
    ; AliasConditionState = SNOW NIGHT REALLYDAMAGED RUBBLE DOOR_4_OPENING
    
    ; ConditionState    = DOOR_4_CLOSING
      ; Model           = NBAirfield_A8
      ; Animation       = NBAirfield_A8.NBAirfield_A8
      ; AnimationMode   = ONCE_BACKWARDS
      ; Flags           = START_FRAME_LAST
    ; End   
    ; AliasConditionState = NIGHT DOOR_4_CLOSING
    ; AliasConditionState = SNOW DOOR_4_CLOSING
    ; AliasConditionState = SNOW NIGHT DOOR_4_CLOSING
    ; AliasConditionState = NIGHT DAMAGED DOOR_4_CLOSING
    ; AliasConditionState = SNOW DAMAGED DOOR_4_CLOSING
    ; AliasConditionState = SNOW NIGHT DAMAGED DOOR_4_CLOSING
    ; AliasConditionState = NIGHT REALLYDAMAGED RUBBLE DOOR_4_CLOSING
    ; AliasConditionState = SNOW REALLYDAMAGED RUBBLE DOOR_4_CLOSING
    ; AliasConditionState = SNOW NIGHT REALLYDAMAGED RUBBLE DOOR_4_CLOSING
    
    ; ConditionState    = DOOR_4_WAITING_OPEN
      ; Model           = NBAirfield_A8
      ; Animation       = NBAirfield_A8.NBAirfield_A8
      ; AnimationMode   = MANUAL
      ; Flags           = START_FRAME_LAST
    ; End 
    ; AliasConditionState = NIGHT DOOR_4_WAITING_OPEN
    ; AliasConditionState = SNOW DOOR_4_WAITING_OPEN
    ; AliasConditionState = SNOW NIGHT DOOR_4_WAITING_OPEN
    ; AliasConditionState = NIGHT DAMAGED DOOR_4_WAITING_OPEN
    ; AliasConditionState = SNOW DAMAGED DOOR_4_WAITING_OPEN
    ; AliasConditionState = SNOW NIGHT DAMAGED DOOR_4_WAITING_OPEN
    ; AliasConditionState = NIGHT REALLYDAMAGED RUBBLE DOOR_4_WAITING_OPEN
    ; AliasConditionState = SNOW REALLYDAMAGED RUBBLE DOOR_4_WAITING_OPEN
    ; AliasConditionState = SNOW NIGHT REALLYDAMAGED RUBBLE DOOR_4_WAITING_OPEN
    

    ; ;**************************************************************************************************************************
    ; ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ; ;for this draw module
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      ; Model              = NBAirfield_A8
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
    
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      ; Model              = NBAirfield_A8
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED SNOW
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT SNOW
    
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      ; Model              = NBAirfield_A8
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED SNOW
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT SNOW
    
    ; ConditionState       = AWAITING_CONSTRUCTION 
      ; Model              = NONE
    ; End
    ; AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    ; AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    ; AliasConditionState  = SOLD 
    ; AliasConditionState  = SOLD DAMAGED
    ; AliasConditionState  = SOLD REALLYDAMAGED
    ; AliasConditionState  = SOLD NIGHT
    ; AliasConditionState  = SOLD NIGHT DAMAGED
    ; AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    ; AliasConditionState  = SOLD SNOW
    ; AliasConditionState  = SOLD SNOW DAMAGED
    ; AliasConditionState  = SOLD SNOW REALLYDAMAGED
    ; AliasConditionState  = SOLD NIGHT SNOW
    ; AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    ; AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    ; ;**************************************************************************************************************************      
  ; End

 ; ; ------------ construction-zone fence -----------------
  ; Draw = W3DModelDraw ModuleTag_06
  ; AnimationsRequirePower = No
    ; DefaultConditionState
      ; Model           = None
      ; TransitionKey   = DOWN_DEFAULT
    ; End
    ; ConditionState    = NIGHT
      ; Model           = None
      ; TransitionKey   = DOWN_DEFAULT
    ; End
    ; ConditionState    = SNOW
      ; Model           = None
      ; TransitionKey   = DOWN_DEFAULT
    ; End
    ; ConditionState    = SNOW NIGHT
      ; Model           = None
      ; TransitionKey   = DOWN_DEFAULT
    ; End
    ; ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      ; Model           = NBAirfield_A4
      ; Animation       = NBAirfield_A4.NBAirfield_A4
      ; AnimationMode   = MANUAL
      ; Flags           = START_FRAME_LAST
      ; TransitionKey   = UP_DAY
    ; End
    ; ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED 
      ; Model           = NBAirfield_A4N
      ; Animation       = NBAirfield_A4N.NBAirfield_A4N
      ; AnimationMode   = MANUAL
      ; Flags           = START_FRAME_LAST
      ; TransitionKey   = UP_NIGHT
    ; End
    ; ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED 
      ; Model           = NBAirfield_A4S
      ; Animation       = NBAirfield_A4S.NBAirfield_A4S
      ; AnimationMode   = MANUAL
      ; Flags           = START_FRAME_LAST
      ; TransitionKey   = UP_SNOW
    ; End
    ; ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED 
      ; Model           = NBAirfield_A4SN
      ; Animation       = NBAirfield_A4SN.NBAirfield_A4SN
      ; AnimationMode   = MANUAL
      ; Flags           = START_FRAME_LAST
      ; TransitionKey   = UP_SNOWNIGHT
    ; End
    ; TransitionState   = DOWN_DEFAULT UP_DAY
      ; Model           = NBAirfield_A4
      ; Animation       = NBAirfield_A4.NBAirfield_A4
      ; AnimationMode   = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags           = START_FRAME_FIRST
    ; End
    ; TransitionState   = DOWN_DEFAULT UP_NIGHT
      ; Model           = NBAirfield_A4N
      ; Animation       = NBAirfield_A4N.NBAirfield_A4N
      ; AnimationMode   = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags           = START_FRAME_FIRST
    ; End
    ; TransitionState   = DOWN_DEFAULT UP_SNOW
      ; Model           = NBAirfield_A4S
      ; Animation       = NBAirfield_A4S.NBAirfield_A4S
      ; AnimationMode   = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags           = START_FRAME_FIRST
    ; End
    ; TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      ; Model           = NBAirfield_A4SN
      ; Animation       = NBAirfield_A4SN.NBAirfield_A4SN
      ; AnimationMode   = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags           = START_FRAME_FIRST
    ; End
    ; TransitionState   = UP_DAY DOWN_DEFAULT
      ; Model           = NBAirfield_A4
      ; Animation       = NBAirfield_A4.NBAirfield_A4
      ; AnimationMode   = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      ; Flags           = START_FRAME_LAST
    ; End
    ; TransitionState   = UP_NIGHT DOWN_DEFAULT
      ; Model           = NBAirfield_A4N
      ; Animation       = NBAirfield_A4N.NBAirfield_A4N
      ; AnimationMode   = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      ; Flags           = START_FRAME_LAST
    ; End
    ; TransitionState   = UP_SNOW DOWN_DEFAULT
      ; Model           = NBAirfield_A4S
      ; Animation       = NBAirfield_A4S.NBAirfield_A4S
      ; AnimationMode   = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      ; Flags           = START_FRAME_LAST
    ; End
    ; TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      ; Model           = NBAirfield_A4SN
      ; Animation       = NBAirfield_A4SN.NBAirfield_A4SN
      ; AnimationMode   = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      ; Flags           = START_FRAME_LAST
    ; End
  ; End

  ; ; ------------ under-construction scaffolding -----------------
  ; Draw = W3DModelDraw ModuleTag_07
  ; AnimationsRequirePower = No
    ; MinLODRequired = MEDIUM
    ; DefaultConditionState
      ; Model           = None
      ; TransitionKey   = DOWN_DEFAULT
    ; End
    ; ConditionState    = NIGHT
      ; Model           = None
      ; TransitionKey   = DOWN_DEFAULT
    ; End
    ; ConditionState    = SNOW
      ; Model           = None
      ; TransitionKey   = DOWN_DEFAULT
    ; End
    ; ConditionState    = SNOW NIGHT
      ; Model           = None
      ; TransitionKey   = DOWN_DEFAULT
    ; End
    ; ConditionState    = PARTIALLY_CONSTRUCTED
      ; Model           = NBAirfield_A6
      ; Animation       = NBAirfield_A6.NBAirfield_A6
      ; AnimationMode   = MANUAL
      ; Flags           = START_FRAME_LAST
      ; TransitionKey   = UP_DAY
      ; ParticleSysBone = Dust01 BuildingDustChina
      ; ParticleSysBone = Smoke01 BuildUpSmokeChina
      ; ParticleSysBone = Smoke02 BuildUpSmokeChina
      ; ParticleSysBone = Smoke03 BuildUpSmokeChina
      ; ParticleSysBone = Smoke04 BuildUpSmokeChina
      ; ParticleSysBone = Smoke05 BuildUpSmokeChina
    ; End
    ; ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      ; Model           = NBAirfield_A6N
      ; Animation       = NBAirfield_A6N.NBAirfield_A6N
      ; AnimationMode   = MANUAL
      ; Flags           = START_FRAME_LAST
      ; TransitionKey   = UP_NIGHT
      ; ParticleSysBone = Dust01 BuildingDustChina
      ; ParticleSysBone = Smoke01 BuildUpSmokeChina
      ; ParticleSysBone = Smoke02 BuildUpSmokeChina
      ; ParticleSysBone = Smoke03 BuildUpSmokeChina
      ; ParticleSysBone = Smoke04 BuildUpSmokeChina
      ; ParticleSysBone = Smoke05 BuildUpSmokeChina
    ; End
    ; ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      ; Model           = NBAirfield_A6S
      ; Animation       = NBAirfield_A6S.NBAirfield_A6S
      ; AnimationMode   = MANUAL
      ; Flags           = START_FRAME_LAST
      ; TransitionKey   = UP_SNOW
      ; ParticleSysBone = Dust01 BuildingSnowDust
      ; ParticleSysBone = Smoke01 BuildUpSnowSmoke
      ; ParticleSysBone = Smoke02 BuildUpSnowSmoke
      ; ParticleSysBone = Smoke03 BuildUpSnowSmoke
      ; ParticleSysBone = Smoke04 BuildUpSnowSmoke
      ; ParticleSysBone = Smoke05 BuildUpSnowSmoke
    ; End
    ; ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      ; Model           = NBAirfield_A6SN
      ; Animation       = NBAirfield_A6SN.NBAirfield_A6SN
      ; AnimationMode   = MANUAL
      ; Flags           = START_FRAME_LAST
      ; TransitionKey   = UP_SNOWNIGHT
      ; ParticleSysBone = Dust01 BuildingNightSnowDust
      ; ParticleSysBone = Smoke01 BuildUpNightSnowSmoke
      ; ParticleSysBone = Smoke02 BuildUpNightSnowSmoke
      ; ParticleSysBone = Smoke03 BuildUpNightSnowSmoke
      ; ParticleSysBone = Smoke04 BuildUpNightSnowSmoke
      ; ParticleSysBone = Smoke05 BuildUpNightSnowSmoke
    ; End
    ; TransitionState   = DOWN_DEFAULT UP_DAY
     ; Model            = NBAirfield_A6
      ; Animation       = NBAirfield_A6.NBAirfield_A6

      ; AnimationMode   = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags           = START_FRAME_FIRST
    ; End
    ; TransitionState   = DOWN_DEFAULT UP_NIGHT
     ; Model            = NBAirfield_A6N
      ; Animation       = NBAirfield_A6N.NBAirfield_A6N
      ; AnimationMode   = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags           = START_FRAME_FIRST
    ; End
    ; TransitionState   = DOWN_DEFAULT UP_SNOW
     ; Model            = NBAirfield_A6S
      ; Animation       = NBAirfield_A6S.NBAirfield_A6S
      ; AnimationMode   = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags           = START_FRAME_FIRST
    ; End
    ; TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
     ; Model            = NBAirfield_A6SN
      ; Animation       = NBAirfield_A6SN.NBAirfield_A6SN
      ; AnimationMode   = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags           = START_FRAME_FIRST
    ; End
    ; TransitionState   = UP_DAY DOWN_DEFAULT
      ; Model           = NBAirfield_A6
      ; Animation       = NBAirfield_A6.NBAirfield_A6
      ; AnimationMode   = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      ; Flags           = START_FRAME_LAST
    ; End
    ; TransitionState   = UP_NIGHT DOWN_DEFAULT
      ; Model           = NBAirfield_A6N
      ; Animation       = NBAirfield_A6N.NBAirfield_A6N
      ; AnimationMode   = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      ; Flags           = START_FRAME_LAST
    ; End
    ; TransitionState   = UP_SNOW DOWN_DEFAULT
      ; Model           = NBAirfield_A6S
      ; Animation       = NBAirfield_A6S.NBAirfield_A6S
      ; AnimationMode   = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      ; Flags           = START_FRAME_LAST
    ; End
    ; TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      ; Model           = NBAirfield_A6SN
      ; Animation       = NBAirfield_A6SN.NBAirfield_A6SN
      ; AnimationMode   = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      ; Flags           = START_FRAME_LAST
    ; End
  ; End


  ; ; ------------ being-constructed crane -----------------
  ; Draw = W3DModelDraw ModuleTag_08
  ; AnimationsRequirePower = No
    ; DefaultConditionState
      ; Model           = None
      ; TransitionKey   = DOWN_DEFAULT
    ; End
    ; ConditionState    = NIGHT
      ; Model           = None
      ; TransitionKey   = DOWN_DEFAULT
    ; End
    ; ConditionState    = SNOW
      ; Model           = None
      ; TransitionKey   = DOWN_DEFAULT
    ; End
    ; ConditionState    = SNOW NIGHT
      ; Model           = None
      ; TransitionKey   = DOWN_DEFAULT
    ; End
    ; ConditionState    = SOLD
      ; Model           = NONE
    ; End

    ; ConditionState  = ACTIVELY_BEING_CONSTRUCTED
      ; Model           = NBAirfield_A5
      ; Animation       = NBAirfield_A5.NBAirfield_A5
      ; AnimationMode   = LOOP
      ; TransitionKey  = UP_DAY
    ; End

    ; ConditionState  = NIGHT ACTIVELY_BEING_CONSTRUCTED
      ; Model           = NBAirfield_A5N
      ; Animation       = NBAirfield_A5N.NBAirfield_A5N
      ; AnimationMode   = LOOP
      ; TransitionKey  = UP_NIGHT
    ; End

    ; ConditionState  = SNOW ACTIVELY_BEING_CONSTRUCTED
      ; Model           = NBAirfield_A5S
      ; Animation       = NBAirfield_A5S.NBAirfield_A5S
      ; AnimationMode   = LOOP
      ; TransitionKey  = UP_SNOW
    ; End

    ; ConditionState  = SNOW NIGHT ACTIVELY_BEING_CONSTRUCTED
      ; Model           = NBAirfield_A5SN
      ; Animation       = NBAirfield_A5SN.NBAirfield_A5SN
      ; AnimationMode   = LOOP
      ; TransitionKey  = UP_SNOWNIGHT
    ; End
    ; TransitionState   = DOWN_DEFAULT UP_DAY
      ; Model            = NBAirfield_AB
      ; Animation       = NBAirfield_AB.NBAirfield_AB
      ; AnimationMode   = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags           = START_FRAME_FIRST
    ; End

    ; TransitionState   = DOWN_DEFAULT UP_NIGHT
      ; Model            = NBAirfield_ABN
      ; Animation       = NBAirfield_ABN.NBAirfield_ABN
      ; AnimationMode   = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags           = START_FRAME_FIRST
    ; End
    ; TransitionState   = DOWN_DEFAULT UP_SNOW
      ; Model            = NBAirfield_ABS
      ; Animation       = NBAirfield_ABS.NBAirfield_ABS
      ; AnimationMode   = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags           = START_FRAME_FIRST
    ; End
    ; TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      ; Model            = NBAirfield_ABSN
      ; Animation       = NBAirfield_ABSN.NBAirfield_ABSN
      ; AnimationMode   = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags           = START_FRAME_FIRST
    ; End
    ; TransitionState   = UP_DAY DOWN_DEFAULT
      ; Model            = NBAirfield_AB
      ; Animation       = NBAirfield_AB.NBAirfield_AB
      ; AnimationMode   = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      ; Flags           = START_FRAME_LAST
    ; End

    ; TransitionState   = UP_NIGHT DOWN_DEFAULT
      ; Model            = NBAirfield_ABN
      ; Animation       = NBAirfield_ABN.NBAirfield_ABN
      ; AnimationMode   = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      ; Flags           = START_FRAME_LAST
    ; End
    ; TransitionState   = UP_SNOW DOWN_DEFAULT
      ; Model            = NBAirfield_ABS
      ; Animation       = NBAirfield_ABS.NBAirfield_ABS
      ; AnimationMode   = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      ; Flags           = START_FRAME_LAST
    ; End
    ; TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      ; Model            = NBAirfield_ABSN
      ; Animation       = NBAirfield_ABSN.NBAirfield_ABSN
      ; AnimationMode   = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      ; Flags           = START_FRAME_LAST
    ; End
  ; End

  ; PlacementViewAngle = -45
  
    Draw = W3DModelDraw ModuleTag_01

    OkToChangeModelColor = Yes

    ExtraPublicBone = Runway1Parking1 
    ExtraPublicBone = Runway1Parking2 
    ExtraPublicBone = Runway2Parking1 
    ExtraPublicBone = Runway2Parking2 
    ExtraPublicBone = Runway1Park1Han
    ExtraPublicBone = Runway1Park2Han
    ExtraPublicBone = Runway2Park1Han
    ExtraPublicBone = Runway2Park2Han 
    ExtraPublicBone = Runway1Prep1 
    ExtraPublicBone = Runway1Prep2 
    ExtraPublicBone = Runway2Prep1 
    ExtraPublicBone = Runway2Prep2 
    ExtraPublicBone = RunwayStart1 
    ExtraPublicBone = RunwayStart2 
    ExtraPublicBone = RunwayEnd1 
    ExtraPublicBone = RunwayEnd2

    ExtraPublicBone = HeliPark01

; ------------- DAY ------------------    

    DefaultConditionState
      Model         = RU-Airfield
      Animation     = RU-Airfield.RU-Airfield
      AnimationMode = LOOP
    End
    ConditionState = DAMAGED
      Model         = RU-Airfield_D
      Animation     = RU-Airfield_D.RU-Airfield_D
      AnimationMode = LOOP
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
    End
    ConditionState = REALLYDAMAGED RUBBLE
      Model         = RU-Airfield_E
      Animation     = RU-Airfield_E.RU-Airfield_E
      AnimationMode = LOOP
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
    End
    
; ------------- SNOW ------------------        
    ConditionState  = SNOW
      Model         = RU-Airfield_S
      Animation     = RU-Airfield_S.RU-Airfield_S
      AnimationMode = LOOP
    End
    ConditionState = DAMAGED SNOW
      Model         = RU-Airfield_DS
      Animation     = RU-Airfield_DS.RU-Airfield_DS
      AnimationMode = LOOP
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
    End
    ConditionState = REALLYDAMAGED RUBBLE SNOW
      Model         = RU-Airfield_ES
      Animation     = RU-Airfield_ES.RU-Airfield_ES
      AnimationMode = LOOP
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
    End
    
; ------------- NIGHT ------------------       

    ConditionState = NIGHT
      Model         = RU-Airfield_N
      Animation     = RU-Airfield_N.RU-Airfield_N
      AnimationMode = LOOP
    End
    ConditionState = DAMAGED NIGHT
      Model         = RU-Airfield_DN
      Animation     = RU-Airfield_DN.RU-Airfield_DN
      AnimationMode = LOOP
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
    End
    ConditionState = REALLYDAMAGED RUBBLE NIGHT
      Model         = RU-Airfield_EN
      Animation     = RU-Airfield_EN.RU-Airfield_EN
      AnimationMode = LOOP
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
    End
    
; ------------- NIGHT SNOW------------------       
    
    ConditionState = NIGHT SNOW
      Model         = RU-Airfield_SN
      Animation     = RU-Airfield_SN.RU-Airfield_SN
      AnimationMode = LOOP
    End
    ConditionState = DAMAGED NIGHT SNOW
      Model         = RU-Airfield_DSN
      Animation     = RU-Airfield_DSN.RU-Airfield_DSN
      AnimationMode = LOOP
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
    End
    ConditionState = REALLYDAMAGED RUBBLE NIGHT SNOW
      Model         = RU-Airfield_ESN
      Animation     = RU-Airfield_ESN.RU-Airfield_ESN
      AnimationMode = LOOP
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
    End
    
    ;**************************************************************************************************************************
    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ;for this draw module
    ConditionState       =  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model         = RU-Airfield
      Animation     = RU-Airfield.RU-Airfield
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       =  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model         = RU-Airfield_D
      Animation     = RU-Airfield_D.RU-Airfield_D
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       =  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model         = RU-Airfield_E
      Animation     = RU-Airfield_E.RU-Airfield_E
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       =  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
      Model         = RU-Airfield_N
      Animation     = RU-Airfield_N.RU-Airfield_N
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       =  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
      Model         = RU-Airfield_DN
      Animation     = RU-Airfield_DN.RU-Airfield_DN
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       =  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
      Model         = RU-Airfield_EN
      Animation     = RU-Airfield_EN.RU-Airfield_EN
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       =  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model         = RU-Airfield_S
      Animation     = RU-Airfield_S.RU-Airfield_S
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       =  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
      Model         = RU-Airfield_DS
      Animation     = RU-Airfield_DS.RU-Airfield_DS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       =  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
      Model         = RU-Airfield_ES
      Animation     = RU-Airfield_ES.RU-Airfield_ES
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       =  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
      Model         = RU-Airfield_SN
      Animation     = RU-Airfield_SN.RU-Airfield_SN
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       =  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
      Model         = RU-Airfield_DSN
      Animation     = RU-Airfield_DSN.RU-Airfield_DSN
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       =  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
      Model         = RU-Airfield_ESN
      Animation     = RU-Airfield_ESN.RU-Airfield_ESN
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End

    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    ;**************************************************************************************************************************
    
    
  End
  
  
  Draw = W3DModelDraw ModuleTag_02
    DefaultConditionState
      Model           = None
    End
  End

  ; ----------------- door #1 -------------------
  Draw                = W3DModelDraw ModuleTag_03
    DefaultConditionState
      Model           = RU-AirfieldD1
      Animation       = RU-AirfieldD1.RU-AirfieldD1
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End

    ConditionState = DAMAGED
      Model           = RU-AirfieldD1_D
      Animation       = RU-AirfieldD1_D.RU-AirfieldD1_D
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End
    ConditionState = REALLYDAMAGED RUBBLE
      Model           = RU-AirfieldD1_D
      Animation       = RU-AirfieldD1_D.RU-AirfieldD1_D
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End
    
; ------------- SNOW ------------------        
    ConditionState  = SNOW
      Model           = RU-AirfieldD1_S
      Animation       = RU-AirfieldD1_S.RU-AirfieldD1_S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End
    ConditionState = DAMAGED SNOW
      Model           = RU-AirfieldD1DS
      Animation       = RU-AirfieldD1DS.RU-AirfieldD1DS
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End
    ConditionState = REALLYDAMAGED RUBBLE SNOW
      Model           = RU-AirfieldD1DS
      Animation       = RU-AirfieldD1DS.RU-AirfieldD1DS
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End
    
; ------------- NIGHT ------------------       

    ConditionState = NIGHT
      Model           = RU-AirfieldD1
      Animation       = RU-AirfieldD1.RU-AirfieldD1
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End
    ConditionState = DAMAGED NIGHT
      Model           = RU-AirfieldD1_D
      Animation       = RU-AirfieldD1_D.RU-AirfieldD1_D
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End
    ConditionState = REALLYDAMAGED RUBBLE NIGHT
      Model           = RU-AirfieldD1_D
      Animation       = RU-AirfieldD1_D.RU-AirfieldD1_D
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End
    
; ------------- NIGHT SNOW------------------       
    
    ConditionState = NIGHT SNOW
      Model           = RU-AirfieldD1_S
      Animation       = RU-AirfieldD1_S.RU-AirfieldD1_S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End
    ConditionState = DAMAGED NIGHT SNOW
      Model           = RU-AirfieldD1DS
      Animation       = RU-AirfieldD1DS.RU-AirfieldD1DS
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End
    ConditionState = REALLYDAMAGED RUBBLE NIGHT SNOW
      Model           = RU-AirfieldD1DS
      Animation       = RU-AirfieldD1DS.RU-AirfieldD1DS
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End
    
    ConditionState    = DOOR_1_OPENING
      Model           = RU-AirfieldD1
      Animation       = RU-AirfieldD1.RU-AirfieldD1
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End   
    ConditionState = DOOR_1_OPENING DAMAGED
      Model           = RU-AirfieldD1_D
      Animation       = RU-AirfieldD1_D.RU-AirfieldD1_D
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End
    ConditionState = DOOR_1_OPENING REALLYDAMAGED RUBBLE
      Model           = RU-AirfieldD1_D
      Animation       = RU-AirfieldD1_D.RU-AirfieldD1_D
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End
    
; ------------- SNOW ------------------        
    ConditionState  = DOOR_1_OPENING SNOW
      Model           = RU-AirfieldD1_S
      Animation       = RU-AirfieldD1_S.RU-AirfieldD1_S
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End
    ConditionState = DOOR_1_OPENING DAMAGED SNOW
      Model           = RU-AirfieldD1DS
      Animation       = RU-AirfieldD1DS.RU-AirfieldD1DS
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End
    ConditionState = DOOR_1_OPENING REALLYDAMAGED RUBBLE SNOW
      Model           = RU-AirfieldD1DS
      Animation       = RU-AirfieldD1DS.RU-AirfieldD1DS
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End
    
; ------------- NIGHT ------------------       

    ConditionState = DOOR_1_OPENING NIGHT
      Model           = RU-AirfieldD1
      Animation       = RU-AirfieldD1.RU-AirfieldD1
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End
    ConditionState = DOOR_1_OPENING DAMAGED NIGHT
      Model           = RU-AirfieldD1_D
      Animation       = RU-AirfieldD1_D.RU-AirfieldD1_D
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End
    ConditionState = DOOR_1_OPENING REALLYDAMAGED RUBBLE NIGHT
      Model           = RU-AirfieldD1_D
      Animation       = RU-AirfieldD1_D.RU-AirfieldD1_D
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End
    
; ------------- NIGHT SNOW------------------       
    
    ConditionState = DOOR_1_OPENING NIGHT SNOW
      Model           = RU-AirfieldD1_S
      Animation       = RU-AirfieldD1_S.RU-AirfieldD1_S
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End
    ConditionState = DOOR_1_OPENING DAMAGED NIGHT SNOW
      Model           = RU-AirfieldD1DS
      Animation       = RU-AirfieldD1DS.RU-AirfieldD1DS
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End
    ConditionState = DOOR_1_OPENING REALLYDAMAGED RUBBLE NIGHT SNOW
      Model           = RU-AirfieldD1DS
      Animation       = RU-AirfieldD1DS.RU-AirfieldD1DS
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End
;--------------------------------------------------------------------------------------------------------------------------------------
    ConditionState    = DOOR_1_CLOSING
      Model           = RU-AirfieldD1
      Animation       = RU-AirfieldD1.RU-AirfieldD1
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End
    ConditionState = DOOR_1_CLOSING DAMAGED
      Model           = RU-AirfieldD1_D
      Animation       = RU-AirfieldD1_D.RU-AirfieldD1_D
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End
    ConditionState = DOOR_1_CLOSING REALLYDAMAGED RUBBLE
      Model           = RU-AirfieldD1_D
      Animation       = RU-AirfieldD1_D.RU-AirfieldD1_D
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End
    
; ------------- SNOW ------------------        
    ConditionState  = DOOR_1_CLOSING SNOW
      Model           = RU-AirfieldD1_S
      Animation       = RU-AirfieldD1_S.RU-AirfieldD1_S
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End
    ConditionState = DOOR_1_CLOSING DAMAGED SNOW
      Model           = RU-AirfieldD1DS
      Animation       = RU-AirfieldD1DS.RU-AirfieldD1DS
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End
    ConditionState = DOOR_1_CLOSING REALLYDAMAGED RUBBLE SNOW
      Model           = RU-AirfieldD1DS
      Animation       = RU-AirfieldD1DS.RU-AirfieldD1DS
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End
    
; ------------- NIGHT ------------------       

    ConditionState = DOOR_1_CLOSING NIGHT
      Model           = RU-AirfieldD1
      Animation       = RU-AirfieldD1_D.RU-AirfieldD1
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End
    ConditionState = DOOR_1_CLOSING DAMAGED NIGHT
      Model           = RU-AirfieldD1_D
      Animation       = RU-AirfieldD1_D.RU-AirfieldD1_D
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End
    ConditionState = DOOR_1_CLOSING REALLYDAMAGED RUBBLE NIGHT
      Model           = RU-AirfieldD1_D
      Animation       = RU-AirfieldD1_D.RU-AirfieldD1_D
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End
    
; ------------- NIGHT SNOW------------------       
    
    ConditionState = DOOR_1_CLOSING NIGHT SNOW
      Model           = RU-AirfieldD1_S
      Animation       = RU-AirfieldD1_S.RU-AirfieldD1_S
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End
    ConditionState = DOOR_1_CLOSING DAMAGED NIGHT SNOW
      Model           = RU-AirfieldD1DS
      Animation       = RU-AirfieldD1DS.RU-AirfieldD1DS
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End
    ConditionState = DOOR_1_CLOSING REALLYDAMAGED RUBBLE NIGHT SNOW
      Model           = RU-AirfieldD1DS
      Animation       = RU-AirfieldD1DS.RU-AirfieldD1DS
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End
;-------------------------------------------------------------------------------------------------------------------------------------
    ConditionState    = DOOR_1_WAITING_OPEN
      Model           = RU-AirfieldD1
      Animation       = RU-AirfieldD1.RU-AirfieldD1
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
    End
    ConditionState = DOOR_1_WAITING_OPEN DAMAGED
      Model           = RU-AirfieldD1_D
      Animation       = RU-AirfieldD1_D.RU-AirfieldD1_D
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
    End
    ConditionState = DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE
      Model           = RU-AirfieldD1_D
      Animation       = RU-AirfieldD1_D.RU-AirfieldD1_D
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
    End
    
; ------------- SNOW ------------------        
    ConditionState  = DOOR_1_WAITING_OPEN SNOW
      Model           = RU-AirfieldD1_S
      Animation       = RU-AirfieldD1_S.RU-AirfieldD1_S
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
    End
    ConditionState = DOOR_1_WAITING_OPEN DAMAGED SNOW
      Model           = RU-AirfieldD1DS
      Animation       = RU-AirfieldD1DS.RU-AirfieldD1DS
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
    End
    ConditionState = DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE SNOW
      Model           = RU-AirfieldD1DS
      Animation       = RU-AirfieldD1DS.RU-AirfieldD1DS
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
    End
    
; ------------- NIGHT ------------------       

    ConditionState = DOOR_1_WAITING_OPEN NIGHT
      Model           = RU-AirfieldD1
      Animation       = RU-AirfieldD1_D.RU-AirfieldD1
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
    End
    ConditionState = DOOR_1_WAITING_OPEN DAMAGED NIGHT
      Model           = RU-AirfieldD1_D
      Animation       = RU-AirfieldD1_D.RU-AirfieldD1_D
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
    End
    ConditionState = DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE NIGHT
      Model           = RU-AirfieldD1_D
      Animation       = RU-AirfieldD1_D.RU-AirfieldD1_D
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
    End
    
; ------------- NIGHT SNOW------------------       
    
    ConditionState = DOOR_1_WAITING_OPEN NIGHT SNOW
      Model           = RU-AirfieldD1_S
      Animation       = RU-AirfieldD1_S.RU-AirfieldD1_S
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
    End
    ConditionState = DOOR_1_WAITING_OPEN DAMAGED NIGHT SNOW
      Model           = RU-AirfieldD1DS
      Animation       = RU-AirfieldD1DS.RU-AirfieldD1DS
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
    End
    ConditionState = DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE NIGHT SNOW
      Model           = RU-AirfieldD1DS
      Animation       = RU-AirfieldD1DS.RU-AirfieldD1DS
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
    End
    
    ;**************************************************************************************************************************
    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ;for this draw module
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = RU-AirfieldD1
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
    
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = RU-AirfieldD1
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT SNOW
    
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = RU-AirfieldD1
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT SNOW
    
    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    ;**************************************************************************************************************************

    
  End

  ; ----------------- door #2 -------------------
  Draw                = W3DModelDraw ModuleTag_04
    DefaultConditionState
      Model           = RU-AirfieldD2
      Animation       = RU-AirfieldD2.RU-AirfieldD2
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End

    ConditionState = DAMAGED
      Model           = RU-AirfieldD2_D
      Animation       = RU-AirfieldD2_D.RU-AirfieldD2_D
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End
    ConditionState = REALLYDAMAGED RUBBLE
      Model           = RU-AirfieldD2_D
      Animation       = RU-AirfieldD2_D.RU-AirfieldD2_D
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End
    
; ------------- SNOW ------------------        
    ConditionState  = SNOW
      Model           = RU-AirfieldD2_S
      Animation       = RU-AirfieldD2_S.RU-AirfieldD2_S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End
    ConditionState = DAMAGED SNOW
      Model           = RU-AirfieldD2DS
      Animation       = RU-AirfieldD2DS.RU-AirfieldD2DS
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End
    ConditionState = REALLYDAMAGED RUBBLE SNOW
      Model           = RU-AirfieldD2DS
      Animation       = RU-AirfieldD2DS.RU-AirfieldD2DS
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End
    
; ------------- NIGHT ------------------       

    ConditionState = NIGHT
      Model           = RU-AirfieldD2
      Animation       = RU-AirfieldD2.RU-AirfieldD2
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End
    ConditionState = DAMAGED NIGHT
      Model           = RU-AirfieldD2_D
      Animation       = RU-AirfieldD2_D.RU-AirfieldD2_D
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End
    ConditionState = REALLYDAMAGED RUBBLE NIGHT
      Model           = RU-AirfieldD2_D
      Animation       = RU-AirfieldD2_D.RU-AirfieldD2_D
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End
    
; ------------- NIGHT SNOW------------------       
    
    ConditionState = NIGHT SNOW
      Model           = RU-AirfieldD2_S
      Animation       = RU-AirfieldD2_S.RU-AirfieldD2_S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End
    ConditionState = DAMAGED NIGHT SNOW
      Model           = RU-AirfieldD2DS
      Animation       = RU-AirfieldD2DS.RU-AirfieldD2DS
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End
    ConditionState = REALLYDAMAGED RUBBLE NIGHT SNOW
      Model           = RU-AirfieldD2DS
      Animation       = RU-AirfieldD2DS.RU-AirfieldD2DS
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End
    
    ConditionState    = DOOR_2_OPENING
      Model           = RU-AirfieldD2
      Animation       = RU-AirfieldD2.RU-AirfieldD2
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End   
    ConditionState = DOOR_2_OPENING DAMAGED
      Model           = RU-AirfieldD2_D
      Animation       = RU-AirfieldD2_D.RU-AirfieldD2_D
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End
    ConditionState = DOOR_2_OPENING REALLYDAMAGED RUBBLE
      Model           = RU-AirfieldD2_D
      Animation       = RU-AirfieldD2_D.RU-AirfieldD2_D
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End
    
; ------------- SNOW ------------------        
    ConditionState  = DOOR_2_OPENING SNOW
      Model           = RU-AirfieldD2_S
      Animation       = RU-AirfieldD2_S.RU-AirfieldD2_S
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End
    ConditionState = DOOR_2_OPENING DAMAGED SNOW
      Model           = RU-AirfieldD2DS
      Animation       = RU-AirfieldD2DS.RU-AirfieldD2DS
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End
    ConditionState = DOOR_2_OPENING REALLYDAMAGED RUBBLE SNOW
      Model           = RU-AirfieldD2DS
      Animation       = RU-AirfieldD2DS.RU-AirfieldD2DS
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End
    
; ------------- NIGHT ------------------       

    ConditionState = DOOR_2_OPENING NIGHT
      Model           = RU-AirfieldD2
      Animation       = RU-AirfieldD2.RU-AirfieldD2
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End
    ConditionState = DOOR_2_OPENING DAMAGED NIGHT
      Model           = RU-AirfieldD2_D
      Animation       = RU-AirfieldD2_D.RU-AirfieldD2_D
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End
    ConditionState = DOOR_2_OPENING REALLYDAMAGED RUBBLE NIGHT
      Model           = RU-AirfieldD2_D
      Animation       = RU-AirfieldD2_D.RU-AirfieldD2_D
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End
    
; ------------- NIGHT SNOW------------------       
    
    ConditionState = DOOR_2_OPENING NIGHT SNOW
      Model           = RU-AirfieldD2_S
      Animation       = RU-AirfieldD2_S.RU-AirfieldD2_S
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End
    ConditionState = DOOR_2_OPENING DAMAGED NIGHT SNOW
      Model           = RU-AirfieldD2DS
      Animation       = RU-AirfieldD2DS.RU-AirfieldD2DS
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End
    ConditionState = DOOR_2_OPENING REALLYDAMAGED RUBBLE NIGHT SNOW
      Model           = RU-AirfieldD2DS
      Animation       = RU-AirfieldD2DS.RU-AirfieldD2DS
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End
;--------------------------------------------------------------------------------------------------------------------------------------
    ConditionState    = DOOR_2_CLOSING
      Model           = RU-AirfieldD2
      Animation       = RU-AirfieldD2.RU-AirfieldD2
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End
    ConditionState = DOOR_2_CLOSING DAMAGED
      Model           = RU-AirfieldD2_D
      Animation       = RU-AirfieldD2_D.RU-AirfieldD2_D
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End
    ConditionState = DOOR_2_CLOSING REALLYDAMAGED RUBBLE
      Model           = RU-AirfieldD2_D
      Animation       = RU-AirfieldD2_D.RU-AirfieldD2_D
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End
    
; ------------- SNOW ------------------        
    ConditionState  = DOOR_2_CLOSING SNOW
      Model           = RU-AirfieldD2_S
      Animation       = RU-AirfieldD2_S.RU-AirfieldD2_S
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End
    ConditionState = DOOR_2_CLOSING DAMAGED SNOW
      Model           = RU-AirfieldD2DS
      Animation       = RU-AirfieldD2DS.RU-AirfieldD2DS
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End
    ConditionState = DOOR_2_CLOSING REALLYDAMAGED RUBBLE SNOW
      Model           = RU-AirfieldD2DS
      Animation       = RU-AirfieldD2DS.RU-AirfieldD2DS
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End
    
; ------------- NIGHT ------------------       

    ConditionState = DOOR_2_CLOSING NIGHT
      Model           = RU-AirfieldD2
      Animation       = RU-AirfieldD2_D.RU-AirfieldD2
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End
    ConditionState = DOOR_2_CLOSING DAMAGED NIGHT
      Model           = RU-AirfieldD2_D
      Animation       = RU-AirfieldD2_D.RU-AirfieldD2_D
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End
    ConditionState = DOOR_2_CLOSING REALLYDAMAGED RUBBLE NIGHT
      Model           = RU-AirfieldD2_D
      Animation       = RU-AirfieldD2_D.RU-AirfieldD2_D
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End
    
; ------------- NIGHT SNOW------------------       
    
    ConditionState = DOOR_2_CLOSING NIGHT SNOW
      Model           = RU-AirfieldD2_S
      Animation       = RU-AirfieldD2_S.RU-AirfieldD2_S
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End
    ConditionState = DOOR_2_CLOSING DAMAGED NIGHT SNOW
      Model           = RU-AirfieldD2DS
      Animation       = RU-AirfieldD2DS.RU-AirfieldD2DS
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End
    ConditionState = DOOR_2_CLOSING REALLYDAMAGED RUBBLE NIGHT SNOW
      Model           = RU-AirfieldD2DS
      Animation       = RU-AirfieldD2DS.RU-AirfieldD2DS
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End
;-------------------------------------------------------------------------------------------------------------------------------------
    ConditionState    = DOOR_2_WAITING_OPEN
      Model           = RU-AirfieldD2
      Animation       = RU-AirfieldD2.RU-AirfieldD2
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
    End
    ConditionState = DOOR_2_WAITING_OPEN DAMAGED
      Model           = RU-AirfieldD2_D
      Animation       = RU-AirfieldD2_D.RU-AirfieldD2_D
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
    End
    ConditionState = DOOR_2_WAITING_OPEN REALLYDAMAGED RUBBLE
      Model           = RU-AirfieldD2_D
      Animation       = RU-AirfieldD2_D.RU-AirfieldD2_D
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
    End
    
; ------------- SNOW ------------------        
    ConditionState  = DOOR_2_WAITING_OPEN SNOW
      Model           = RU-AirfieldD2_S
      Animation       = RU-AirfieldD2_S.RU-AirfieldD2_S
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
    End
    ConditionState = DOOR_2_WAITING_OPEN DAMAGED SNOW
      Model           = RU-AirfieldD2DS
      Animation       = RU-AirfieldD2DS.RU-AirfieldD2DS
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
    End
    ConditionState = DOOR_2_WAITING_OPEN REALLYDAMAGED RUBBLE SNOW
      Model           = RU-AirfieldD2DS
      Animation       = RU-AirfieldD2DS.RU-AirfieldD2DS
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
    End
    
; ------------- NIGHT ------------------       

    ConditionState = DOOR_2_WAITING_OPEN NIGHT
      Model           = RU-AirfieldD2
      Animation       = RU-AirfieldD2_D.RU-AirfieldD2
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
    End
    ConditionState = DOOR_2_WAITING_OPEN DAMAGED NIGHT
      Model           = RU-AirfieldD2_D
      Animation       = RU-AirfieldD2_D.RU-AirfieldD2_D
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
    End
    ConditionState = DOOR_2_WAITING_OPEN REALLYDAMAGED RUBBLE NIGHT
      Model           = RU-AirfieldD2_D
      Animation       = RU-AirfieldD2_D.RU-AirfieldD2_D
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
    End
    
; ------------- NIGHT SNOW------------------       
    
    ConditionState = DOOR_2_WAITING_OPEN NIGHT SNOW
      Model           = RU-AirfieldD2_S
      Animation       = RU-AirfieldD2_S.RU-AirfieldD2_S
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
    End
    ConditionState = DOOR_2_WAITING_OPEN DAMAGED NIGHT SNOW
      Model           = RU-AirfieldD2DS
      Animation       = RU-AirfieldD2DS.RU-AirfieldD2DS
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
    End
    ConditionState = DOOR_2_WAITING_OPEN REALLYDAMAGED RUBBLE NIGHT SNOW
      Model           = RU-AirfieldD2DS
      Animation       = RU-AirfieldD2DS.RU-AirfieldD2DS
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
    End
    

    ;**************************************************************************************************************************
    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ;for this draw module
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = RU-AirfieldD2
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
    
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = RU-AirfieldD2
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT SNOW
    
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = RU-AirfieldD2
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT SNOW
    
    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    ;**************************************************************************************************************************      
  End
  
  ; ----------------- door #3 -------------------
  Draw                = W3DModelDraw ModuleTag_05
    DefaultConditionState
      Model           = RU-AirfieldD3
      Animation       = RU-AirfieldD3.RU-AirfieldD3
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End

    ConditionState = DAMAGED
      Model           = RU-AirfieldD3_D
      Animation       = RU-AirfieldD3_D.RU-AirfieldD3_D
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End
    ConditionState = REALLYDAMAGED RUBBLE
      Model           = RU-AirfieldD3_D
      Animation       = RU-AirfieldD3_D.RU-AirfieldD3_D
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End
    
; ------------- SNOW ------------------        
    ConditionState  = SNOW
      Model           = RU-AirfieldD3_S
      Animation       = RU-AirfieldD3_S.RU-AirfieldD3_S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End
    ConditionState = DAMAGED SNOW
      Model           = RU-AirfieldD3DS
      Animation       = RU-AirfieldD3DS.RU-AirfieldD3DS
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End
    ConditionState = REALLYDAMAGED RUBBLE SNOW
      Model           = RU-AirfieldD3DS
      Animation       = RU-AirfieldD3DS.RU-AirfieldD3DS
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End
    
; ------------- NIGHT ------------------       

    ConditionState = NIGHT
      Model           = RU-AirfieldD3
      Animation       = RU-AirfieldD3.RU-AirfieldD3
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End
    ConditionState = DAMAGED NIGHT
      Model           = RU-AirfieldD3_D
      Animation       = RU-AirfieldD3_D.RU-AirfieldD3_D
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End
    ConditionState = REALLYDAMAGED RUBBLE NIGHT
      Model           = RU-AirfieldD3_D
      Animation       = RU-AirfieldD3_D.RU-AirfieldD3_D
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End
    
; ------------- NIGHT SNOW------------------       
    
    ConditionState = NIGHT SNOW
      Model           = RU-AirfieldD3_S
      Animation       = RU-AirfieldD3_S.RU-AirfieldD3_S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End
    ConditionState = DAMAGED NIGHT SNOW
      Model           = RU-AirfieldD3DS
      Animation       = RU-AirfieldD3DS.RU-AirfieldD3DS
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End
    ConditionState = REALLYDAMAGED RUBBLE NIGHT SNOW
      Model           = RU-AirfieldD3DS
      Animation       = RU-AirfieldD3DS.RU-AirfieldD3DS
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End
    
    ConditionState    = DOOR_3_OPENING
      Model           = RU-AirfieldD3
      Animation       = RU-AirfieldD3.RU-AirfieldD3
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End   
    ConditionState = DOOR_3_OPENING DAMAGED
      Model           = RU-AirfieldD3_D
      Animation       = RU-AirfieldD3_D.RU-AirfieldD3_D
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End
    ConditionState = DOOR_3_OPENING REALLYDAMAGED RUBBLE
      Model           = RU-AirfieldD3_D
      Animation       = RU-AirfieldD3_D.RU-AirfieldD3_D
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End
    
; ------------- SNOW ------------------        
    ConditionState  = DOOR_3_OPENING SNOW
      Model           = RU-AirfieldD3_S
      Animation       = RU-AirfieldD3_S.RU-AirfieldD3_S
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End
    ConditionState = DOOR_3_OPENING DAMAGED SNOW
      Model           = RU-AirfieldD3DS
      Animation       = RU-AirfieldD3DS.RU-AirfieldD3DS
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End
    ConditionState = DOOR_3_OPENING REALLYDAMAGED RUBBLE SNOW
      Model           = RU-AirfieldD3DS
      Animation       = RU-AirfieldD3DS.RU-AirfieldD3DS
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End
    
; ------------- NIGHT ------------------       

    ConditionState = DOOR_3_OPENING NIGHT
      Model           = RU-AirfieldD3
      Animation       = RU-AirfieldD3.RU-AirfieldD3
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End
    ConditionState = DOOR_3_OPENING DAMAGED NIGHT
      Model           = RU-AirfieldD3_D
      Animation       = RU-AirfieldD3_D.RU-AirfieldD3_D
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End
    ConditionState = DOOR_3_OPENING REALLYDAMAGED RUBBLE NIGHT
      Model           = RU-AirfieldD3_D
      Animation       = RU-AirfieldD3_D.RU-AirfieldD3_D
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End
    
; ------------- NIGHT SNOW------------------       
    
    ConditionState = DOOR_3_OPENING NIGHT SNOW
      Model           = RU-AirfieldD3_S
      Animation       = RU-AirfieldD3_S.RU-AirfieldD3_S
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End
    ConditionState = DOOR_3_OPENING DAMAGED NIGHT SNOW
      Model           = RU-AirfieldD3DS
      Animation       = RU-AirfieldD3DS.RU-AirfieldD3DS
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End
    ConditionState = DOOR_3_OPENING REALLYDAMAGED RUBBLE NIGHT SNOW
      Model           = RU-AirfieldD3DS
      Animation       = RU-AirfieldD3DS.RU-AirfieldD3DS
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End
;--------------------------------------------------------------------------------------------------------------------------------------
    ConditionState    = DOOR_3_CLOSING
      Model           = RU-AirfieldD3
      Animation       = RU-AirfieldD3.RU-AirfieldD3
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End
    ConditionState = DOOR_3_CLOSING DAMAGED
      Model           = RU-AirfieldD3_D
      Animation       = RU-AirfieldD3_D.RU-AirfieldD3_D
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End
    ConditionState = DOOR_3_CLOSING REALLYDAMAGED RUBBLE
      Model           = RU-AirfieldD3_D
      Animation       = RU-AirfieldD3_D.RU-AirfieldD3_D
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End
    
; ------------- SNOW ------------------        
    ConditionState  = DOOR_3_CLOSING SNOW
      Model           = RU-AirfieldD3_S
      Animation       = RU-AirfieldD3_S.RU-AirfieldD3_S
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End
    ConditionState = DOOR_3_CLOSING DAMAGED SNOW
      Model           = RU-AirfieldD3DS
      Animation       = RU-AirfieldD3DS.RU-AirfieldD3DS
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End
    ConditionState = DOOR_3_CLOSING REALLYDAMAGED RUBBLE SNOW
      Model           = RU-AirfieldD3DS
      Animation       = RU-AirfieldD3DS.RU-AirfieldD3DS
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End
    
; ------------- NIGHT ------------------       

    ConditionState = DOOR_3_CLOSING NIGHT
      Model           = RU-AirfieldD3
      Animation       = RU-AirfieldD3.RU-AirfieldD3
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End
    ConditionState = DOOR_3_CLOSING DAMAGED NIGHT
      Model           = RU-AirfieldD3_D
      Animation       = RU-AirfieldD3_D.RU-AirfieldD3_D
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End
    ConditionState = DOOR_3_CLOSING REALLYDAMAGED RUBBLE NIGHT
      Model           = RU-AirfieldD3_D
      Animation       = RU-AirfieldD3_D.RU-AirfieldD3_D
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End
    
; ------------- NIGHT SNOW------------------       
    
    ConditionState = DOOR_3_CLOSING NIGHT SNOW
      Model           = RU-AirfieldD3_S
      Animation       = RU-AirfieldD3_S.RU-AirfieldD3_S
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End
    ConditionState = DOOR_3_CLOSING DAMAGED NIGHT SNOW
      Model           = RU-AirfieldD3DS
      Animation       = RU-AirfieldD3DS.RU-AirfieldD3DS
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End
    ConditionState = DOOR_3_CLOSING REALLYDAMAGED RUBBLE NIGHT SNOW
      Model           = RU-AirfieldD3DS
      Animation       = RU-AirfieldD3DS.RU-AirfieldD3DS
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End
;-------------------------------------------------------------------------------------------------------------------------------------
    ConditionState    = DOOR_3_WAITING_OPEN
      Model           = RU-AirfieldD3
      Animation       = RU-AirfieldD3.RU-AirfieldD3
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
    End
    ConditionState = DOOR_3_WAITING_OPEN DAMAGED
      Model           = RU-AirfieldD3_D
      Animation       = RU-AirfieldD3_D.RU-AirfieldD3_D
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
    End
    ConditionState = DOOR_3_WAITING_OPEN REALLYDAMAGED RUBBLE
      Model           = RU-AirfieldD3_D
      Animation       = RU-AirfieldD3_D.RU-AirfieldD3_D
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
    End
    
; ------------- SNOW ------------------        
    ConditionState  = DOOR_3_WAITING_OPEN SNOW
      Model           = RU-AirfieldD3_S
      Animation       = RU-AirfieldD3_S.RU-AirfieldD3_S
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
    End
    ConditionState = DOOR_3_WAITING_OPEN DAMAGED SNOW
      Model           = RU-AirfieldD3DS
      Animation       = RU-AirfieldD3DS.RU-AirfieldD3DS
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
    End
    ConditionState = DOOR_3_WAITING_OPEN REALLYDAMAGED RUBBLE SNOW
      Model           = RU-AirfieldD3DS
      Animation       = RU-AirfieldD3DS.RU-AirfieldD3DS
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
    End
    
; ------------- NIGHT ------------------       

    ConditionState = DOOR_3_WAITING_OPEN NIGHT
      Model           = RU-AirfieldD3
      Animation       = RU-AirfieldD3.RU-AirfieldD3
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
    End
    ConditionState = DOOR_3_WAITING_OPEN DAMAGED NIGHT
      Model           = RU-AirfieldD3_D
      Animation       = RU-AirfieldD3_D.RU-AirfieldD3_D
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
    End
    ConditionState = DOOR_3_WAITING_OPEN REALLYDAMAGED RUBBLE NIGHT
      Model           = RU-AirfieldD3_D
      Animation       = RU-AirfieldD3_D.RU-AirfieldD3_D
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
    End
    
; ------------- NIGHT SNOW------------------       
    
    ConditionState = DOOR_3_WAITING_OPEN NIGHT SNOW
      Model           = RU-AirfieldD3_S
      Animation       = RU-AirfieldD3_S.RU-AirfieldD3_S
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
    End
    ConditionState = DOOR_3_WAITING_OPEN DAMAGED NIGHT SNOW
      Model           = RU-AirfieldD3DS
      Animation       = RU-AirfieldD3DS.RU-AirfieldD3DS
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
    End
    ConditionState = DOOR_3_WAITING_OPEN REALLYDAMAGED RUBBLE NIGHT SNOW
      Model           = RU-AirfieldD3DS
      Animation       = RU-AirfieldD3DS.RU-AirfieldD3DS
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
    End

    ;**************************************************************************************************************************
    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ;for this draw module
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = RU-AirfieldD3
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
    
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = RU-AirfieldD3
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT SNOW
    
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = RU-AirfieldD3
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT SNOW
    
    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    ;**************************************************************************************************************************    

    
  End

  ; ----------------- door #4 -------------------
  Draw                = W3DModelDraw ModuleTag_06
    DefaultConditionState
      Model           = RU-AirfieldD4
      Animation       = RU-AirfieldD4.RU-AirfieldD4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End

    ConditionState = DAMAGED
      Model           = RU-AirfieldD4_D
      Animation       = RU-AirfieldD4_D.RU-AirfieldD4_D
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End
    ConditionState = REALLYDAMAGED RUBBLE
      Model           = RU-AirfieldD4_D
      Animation       = RU-AirfieldD4_D.RU-AirfieldD4_D
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End
    
; ------------- SNOW ------------------        
    ConditionState  = SNOW
      Model           = RU-AirfieldD4_S
      Animation       = RU-AirfieldD4_S.RU-AirfieldD4_S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End
    ConditionState = DAMAGED SNOW
      Model           = RU-AirfieldD4DS
      Animation       = RU-AirfieldD4DS.RU-AirfieldD4DS
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End
    ConditionState = REALLYDAMAGED RUBBLE SNOW
      Model           = RU-AirfieldD4DS
      Animation       = RU-AirfieldD4DS.RU-AirfieldD4DS
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End
    
; ------------- NIGHT ------------------       

    ConditionState = NIGHT
      Model           = RU-AirfieldD4
      Animation       = RU-AirfieldD4.RU-AirfieldD4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End
    ConditionState = DAMAGED NIGHT
      Model           = RU-AirfieldD4_D
      Animation       = RU-AirfieldD4_D.RU-AirfieldD4_D
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End
    ConditionState = REALLYDAMAGED RUBBLE NIGHT
      Model           = RU-AirfieldD4_D
      Animation       = RU-AirfieldD4_D.RU-AirfieldD4_D
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End
    
; ------------- NIGHT SNOW------------------       
    
    ConditionState = NIGHT SNOW
      Model           = RU-AirfieldD4_S
      Animation       = RU-AirfieldD4_S.RU-AirfieldD4_S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End
    ConditionState = DAMAGED NIGHT SNOW
      Model           = RU-AirfieldD4DS
      Animation       = RU-AirfieldD4DS.RU-AirfieldD4DS
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End
    ConditionState = REALLYDAMAGED RUBBLE NIGHT SNOW
      Model           = RU-AirfieldD4DS
      Animation       = RU-AirfieldD4DS.RU-AirfieldD4DS
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End
    
    ConditionState    = DOOR_4_OPENING
      Model           = RU-AirfieldD4
      Animation       = RU-AirfieldD4.RU-AirfieldD4
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End   
    ConditionState = DOOR_4_OPENING DAMAGED
      Model           = RU-AirfieldD4_D
      Animation       = RU-AirfieldD4_D.RU-AirfieldD4_D
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End
    ConditionState = DOOR_4_OPENING REALLYDAMAGED RUBBLE
      Model           = RU-AirfieldD4_D
      Animation       = RU-AirfieldD4_D.RU-AirfieldD4_D
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End
    
; ------------- SNOW ------------------        
    ConditionState  = DOOR_4_OPENING SNOW
      Model           = RU-AirfieldD4_S
      Animation       = RU-AirfieldD4_S.RU-AirfieldD4_S
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End
    ConditionState = DOOR_4_OPENING DAMAGED SNOW
      Model           = RU-AirfieldD4DS
      Animation       = RU-AirfieldD4DS.RU-AirfieldD4DS
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End
    ConditionState = DOOR_4_OPENING REALLYDAMAGED RUBBLE SNOW
      Model           = RU-AirfieldD4DS
      Animation       = RU-AirfieldD4DS.RU-AirfieldD4DS
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End
    
; ------------- NIGHT ------------------       

    ConditionState = DOOR_4_OPENING NIGHT
      Model           = RU-AirfieldD4
      Animation       = RU-AirfieldD4.RU-AirfieldD4
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End
    ConditionState = DOOR_4_OPENING DAMAGED NIGHT
      Model           = RU-AirfieldD4_D
      Animation       = RU-AirfieldD4_D.RU-AirfieldD4_D
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End
    ConditionState = DOOR_4_OPENING REALLYDAMAGED RUBBLE NIGHT
      Model           = RU-AirfieldD4_D
      Animation       = RU-AirfieldD4_D.RU-AirfieldD4_D
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End
    
; ------------- NIGHT SNOW------------------       
    
    ConditionState = DOOR_4_OPENING NIGHT SNOW
      Model           = RU-AirfieldD4_S
      Animation       = RU-AirfieldD4_S.RU-AirfieldD4_S
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End
    ConditionState = DOOR_4_OPENING DAMAGED NIGHT SNOW
      Model           = RU-AirfieldD4DS
      Animation       = RU-AirfieldD4DS.RU-AirfieldD4DS
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End
    ConditionState = DOOR_4_OPENING REALLYDAMAGED RUBBLE NIGHT SNOW
      Model           = RU-AirfieldD4DS
      Animation       = RU-AirfieldD4DS.RU-AirfieldD4DS
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End
;--------------------------------------------------------------------------------------------------------------------------------------
    ConditionState    = DOOR_4_CLOSING
      Model           = RU-AirfieldD4
      Animation       = RU-AirfieldD4.RU-AirfieldD4
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End
    ConditionState = DOOR_4_CLOSING DAMAGED
      Model           = RU-AirfieldD4_D
      Animation       = RU-AirfieldD4_D.RU-AirfieldD4_D
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End
    ConditionState = DOOR_4_CLOSING REALLYDAMAGED RUBBLE
      Model           = RU-AirfieldD4_D
      Animation       = RU-AirfieldD4_D.RU-AirfieldD4_D
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End
    
; ------------- SNOW ------------------        
    ConditionState  = DOOR_4_CLOSING SNOW
      Model           = RU-AirfieldD4_S
      Animation       = RU-AirfieldD4_S.RU-AirfieldD4_S
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End
    ConditionState = DOOR_4_CLOSING DAMAGED SNOW
      Model           = RU-AirfieldD4DS
      Animation       = RU-AirfieldD4DS.RU-AirfieldD4DS
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End
    ConditionState = DOOR_4_CLOSING REALLYDAMAGED RUBBLE SNOW
      Model           = RU-AirfieldD4DS
      Animation       = RU-AirfieldD4DS.RU-AirfieldD4DS
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End
    
; ------------- NIGHT ------------------       

    ConditionState = DOOR_4_CLOSING NIGHT
      Model           = RU-AirfieldD4
      Animation       = RU-AirfieldD4.RU-AirfieldD4
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End
    ConditionState = DOOR_4_CLOSING DAMAGED NIGHT
      Model           = RU-AirfieldD4_D
      Animation       = RU-AirfieldD4_D.RU-AirfieldD4_D
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End
    ConditionState = DOOR_4_CLOSING REALLYDAMAGED RUBBLE NIGHT
      Model           = RU-AirfieldD4_D
      Animation       = RU-AirfieldD4_D.RU-AirfieldD4_D
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End
    
; ------------- NIGHT SNOW------------------       
    
    ConditionState = DOOR_4_CLOSING NIGHT SNOW
      Model           = RU-AirfieldD4_S
      Animation       = RU-AirfieldD4_S.RU-AirfieldD4_S
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End
    ConditionState = DOOR_4_CLOSING DAMAGED NIGHT SNOW
      Model           = RU-AirfieldD4DS
      Animation       = RU-AirfieldD4DS.RU-AirfieldD4DS
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End
    ConditionState = DOOR_4_CLOSING REALLYDAMAGED RUBBLE NIGHT SNOW
      Model           = RU-AirfieldD4DS
      Animation       = RU-AirfieldD4DS.RU-AirfieldD4DS
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End
;-------------------------------------------------------------------------------------------------------------------------------------
    ConditionState    = DOOR_4_WAITING_OPEN
      Model           = RU-AirfieldD4
      Animation       = RU-AirfieldD4.RU-AirfieldD4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
    End
    ConditionState = DOOR_4_WAITING_OPEN DAMAGED
      Model           = RU-AirfieldD4_D
      Animation       = RU-AirfieldD4_D.RU-AirfieldD4_D
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
    End
    ConditionState = DOOR_4_WAITING_OPEN REALLYDAMAGED RUBBLE
      Model           = RU-AirfieldD4_D
      Animation       = RU-AirfieldD4_D.RU-AirfieldD4_D
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
    End
    
; ------------- SNOW ------------------        
    ConditionState  = DOOR_4_WAITING_OPEN SNOW
      Model           = RU-AirfieldD4_S
      Animation       = RU-AirfieldD4_S.RU-AirfieldD4_S
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
    End
    ConditionState = DOOR_4_WAITING_OPEN DAMAGED SNOW
      Model           = RU-AirfieldD4DS
      Animation       = RU-AirfieldD4DS.RU-AirfieldD4DS
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
    End
    ConditionState = DOOR_4_WAITING_OPEN REALLYDAMAGED RUBBLE SNOW
      Model           = RU-AirfieldD4DS
      Animation       = RU-AirfieldD4DS.RU-AirfieldD4DS
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
    End
    
; ------------- NIGHT ------------------       

    ConditionState = DOOR_4_WAITING_OPEN NIGHT
      Model           = RU-AirfieldD4
      Animation       = RU-AirfieldD4.RU-AirfieldD4
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
    End
    ConditionState = DOOR_4_WAITING_OPEN DAMAGED NIGHT
      Model           = RU-AirfieldD4_D
      Animation       = RU-AirfieldD4_D.RU-AirfieldD4_D
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
    End
    ConditionState = DOOR_4_WAITING_OPEN REALLYDAMAGED RUBBLE NIGHT
      Model           = RU-AirfieldD4_D
      Animation       = RU-AirfieldD4_D.RU-AirfieldD4_D
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
    End
    
; ------------- NIGHT SNOW------------------       
    
    ConditionState = DOOR_4_WAITING_OPEN NIGHT SNOW
      Model           = RU-AirfieldD4_S
      Animation       = RU-AirfieldD4_S.RU-AirfieldD4_S
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
    End
    ConditionState = DOOR_4_WAITING_OPEN DAMAGED NIGHT SNOW
      Model           = RU-AirfieldD4DS
      Animation       = RU-AirfieldD4DS.RU-AirfieldD4DS
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
    End
    ConditionState = DOOR_4_WAITING_OPEN REALLYDAMAGED RUBBLE NIGHT SNOW
      Model           = RU-AirfieldD4DS
      Animation       = RU-AirfieldD4DS.RU-AirfieldD4DS
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
    End
    

    ;**************************************************************************************************************************
    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ;for this draw module
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = RU-AirfieldD4
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
    
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = RU-AirfieldD4
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT SNOW
    
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = RU-AirfieldD4
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT SNOW
    
    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    ;**************************************************************************************************************************      
  End

 ; ------------ construction-zone fence -----------------
  Draw = W3DModelDraw ModuleTag_07
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = RU-Airfield_A4
      Animation       = RU-Airfield_A4.RU-Airfield_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
    End
    ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED 
      Model           = RU-Airf_A4N
      Animation       = RU-Airf_A4N.RU-Airf_A4N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
    End
    ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED 
      Model           = RU-Airfield_A4S
      Animation       = RU-Airfield_A4S.RU-Airfield_A4S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
    End
    ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED 
      Model           = RU-Airf_A4SN
      Animation       = RU-Airf_A4SN.RU-Airf_A4SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = RU-Airfield_A4
      Animation       = RU-Airfield_A4.RU-Airfield_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = RU-Airf_A4N
      Animation       = RU-Airf_A4N.RU-Airf_A4N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = RU-Airfield_A4S
      Animation       = RU-Airfield_A4S.RU-Airfield_A4S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = RU-Airf_A4SN
      Animation       = RU-Airf_A4SN.RU-Airf_A4SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = RU-Airfield_A4
      Animation       = RU-Airfield_A4.RU-Airfield_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = RU-Airf_A4N
      Animation       = RU-Airf_A4N.RU-Airf_A4N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = RU-Airfield_A4S
      Animation       = RU-Airfield_A4S.RU-Airfield_A4S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = RU-Airf_A4SN
      Animation       = RU-Airf_A4SN.RU-Airf_A4SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ under-construction scaffolding -----------------
  Draw = W3DModelDraw ModuleTag_08
  AnimationsRequirePower = No
    MinLODRequired = MEDIUM
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = RU-Airfield_A6
      Animation       = RU-Airfield_A6.RU-Airfield_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = DUSTFX01 BuildUpBlueSpark
      ParticleSysBone = DUSTFX02 BuildUpBlueSpark
      ParticleSysBone = DUSTFX03 BuildUpBlueSpark
      ParticleSysBone = DUSTFX04 BuildUpBlueSpark
      ParticleSysBone = DUSTFX05 BuildUpBlueSpark
      ParticleSysBone = DUSTFX06 BuildUpBlueSpark
      ParticleSysBone = DUSTFX07 BuildUpBlueSpark
      ParticleSysBone = DUSTFX08 BuildUpBlueSpark 
      ParticleSysBone = DUSTFX09 BuildUpBlueSpark
    End
    ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      Model           = RU-Airfield_A6
      Animation       = RU-Airfield_A6.RU-Airfield_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = DUSTFX01 BuildUpBlueSpark
      ParticleSysBone = DUSTFX02 BuildUpBlueSpark
      ParticleSysBone = DUSTFX03 BuildUpBlueSpark
      ParticleSysBone = DUSTFX04 BuildUpBlueSpark
      ParticleSysBone = DUSTFX05 BuildUpBlueSpark
      ParticleSysBone = DUSTFX06 BuildUpBlueSpark
      ParticleSysBone = DUSTFX07 BuildUpBlueSpark
      ParticleSysBone = DUSTFX08 BuildUpBlueSpark 
      ParticleSysBone = DUSTFX09 BuildUpBlueSpark
    End
    ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      Model           = RU-Airfield_A6S
      Animation       = RU-Airfield_A6S.RU-Airfield_A6S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = DUSTFX01 BuildUpBlueSpark
      ParticleSysBone = DUSTFX02 BuildUpBlueSpark
      ParticleSysBone = DUSTFX03 BuildUpBlueSpark
      ParticleSysBone = DUSTFX04 BuildUpBlueSpark
      ParticleSysBone = DUSTFX05 BuildUpBlueSpark
      ParticleSysBone = DUSTFX06 BuildUpBlueSpark
      ParticleSysBone = DUSTFX07 BuildUpBlueSpark
      ParticleSysBone = DUSTFX08 BuildUpBlueSpark 
      ParticleSysBone = DUSTFX09 BuildUpBlueSpark
    End
    ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      Model           = RU-Airfield_A6S
      Animation       = RU-Airfield_A6S.RU-Airfield_A6S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = DUSTFX01 BuildUpBlueSpark
      ParticleSysBone = DUSTFX02 BuildUpBlueSpark
      ParticleSysBone = DUSTFX03 BuildUpBlueSpark
      ParticleSysBone = DUSTFX04 BuildUpBlueSpark
      ParticleSysBone = DUSTFX05 BuildUpBlueSpark
      ParticleSysBone = DUSTFX06 BuildUpBlueSpark
      ParticleSysBone = DUSTFX07 BuildUpBlueSpark
      ParticleSysBone = DUSTFX08 BuildUpBlueSpark 
      ParticleSysBone = DUSTFX09 BuildUpBlueSpark
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = RU-Airfield_A6
      Animation       = RU-Airfield_A6.RU-Airfield_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = RU-Airfield_A6
      Animation       = RU-Airfield_A6.RU-Airfield_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = RU-Airfield_A6
      Animation       = RU-Airfield_A6.RU-Airfield_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = RU-Airfield_A6
      Animation       = RU-Airfield_A6.RU-Airfield_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = RU-Airfield_A6
      Animation       = RU-Airfield_A6.RU-Airfield_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = RU-Airfield_A6
      Animation       = RU-Airfield_A6.RU-Airfield_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = RU-Airfield_A6
      Animation       = RU-Airfield_A6.RU-Airfield_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = RU-Airfield_A6
      Animation       = RU-Airfield_A6.RU-Airfield_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End


  ; ------------ being-constructed crane -----------------
  Draw = W3DModelDraw ModuleTag_09
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SOLD
      Model           = NONE
    End

    ConditionState  = ACTIVELY_BEING_CONSTRUCTED
      Model           = NBAirfield_A5
      Animation       = NBAirfield_A5.NBAirfield_A5
      AnimationMode   = LOOP
      TransitionKey  = UP_DAY
    End

    ConditionState  = NIGHT ACTIVELY_BEING_CONSTRUCTED
      Model           = NBAirfield_A5N
      Animation       = NBAirfield_A5N.NBAirfield_A5N
      AnimationMode   = LOOP
      TransitionKey  = UP_NIGHT
    End

    ConditionState  = SNOW ACTIVELY_BEING_CONSTRUCTED
      Model           = NBAirfield_A5S
      Animation       = NBAirfield_A5S.NBAirfield_A5S
      AnimationMode   = LOOP
      TransitionKey  = UP_SNOW
    End

    ConditionState  = SNOW NIGHT ACTIVELY_BEING_CONSTRUCTED
      Model           = NBAirfield_A5S
      Animation       = NBAirfield_A5S.NBAirfield_A5S
      AnimationMode   = LOOP
      TransitionKey  = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model            = NBAirfield_AB
      Animation       = NBAirfield_AB.NBAirfield_AB
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End

    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model            = NBAirfield_ABN
      Animation       = NBAirfield_ABN.NBAirfield_ABN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model            = NBAirfield_ABS
      Animation       = NBAirfield_ABS.NBAirfield_ABS
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model            = NBAirfield_ABS
      Animation       = NBAirfield_ABS.NBAirfield_ABS
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model            = NBAirfield_AB
      Animation       = NBAirfield_AB.NBAirfield_AB
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End

    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model            = NBAirfield_ABN
      Animation       = NBAirfield_ABN.NBAirfield_ABN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model            = NBAirfield_ABS
      Animation       = NBAirfield_ABS.NBAirfield_ABS
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model            = NBAirfield_ABS
      Animation       = NBAirfield_ABS.NBAirfield_ABS
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End
  ; Damage smoke
  Draw = W3DModelDraw ModuleTag_10
    ; day
    ConditionState    = NONE
      Model           = None
    End
    ConditionState    = DAMAGED
      Model           = RU-Airfield_FX
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
    End
    AliasConditionState = REALLYDAMAGED RUBBLE
  End
  PlacementViewAngle = -45

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Airfield
  Side             = Boss
  EditorSorting    = STRUCTURE
  Prerequisites
    Object = Boss_SupplyCenter
  End
  BuildCost        = 1000
  BuildTime        = 30.0           ; in seconds
  EnergyProduction = -1
  CommandSet       = Boss_ChinaAirfieldCommandSet
  VisionRange     = 200.0           ; Shroud clearing distance
  ShroudClearingRange = 200
  ArmorSet
    Conditions      = None
    Armor           = StructureArmor
    DamageFX        = StructureDamageFXNoShake
  End
  ExperienceValue     = 150 150 150 150  ; Experience point value at each level

  ; *** AUDIO Parameters ***
  VoiceSelect = AirfieldChinaSelect
  SoundOnDamaged        = BuildingDamagedStateLight
  SoundOnReallyDamaged  = BuildingDestroy

  UnitSpecificSounds
    UnderConstruction     = UnderConstructionLoop
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority   = STRUCTURE
  KindOf          = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE CAPTURABLE FS_TECHNOLOGY MP_COUNT_FOR_VICTORY FS_FACTORY FS_AIRFIELD AUTO_RALLYPOINT
  Body            = StructureBody ModuleTag_09
    MaxHealth       = 250000.0
    InitialHealth   = 250000.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 1700
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
  End

  Behavior = BaseRegenerateUpdate ModuleTag_1301
    ;No data
  End 

  ; Behavior             = CreateObjectDie ModuleTag_16112
    ; CreationList  = OCL_AmericanRangerDebris04
    ; ExemptStatus  = UNDER_CONSTRUCTION
  ; End

  Behavior = ParkingPlaceBehavior ModuleTag_10
    HealAmountPerSecond     = 10
    NumRows                 = 2
    NumCols                 = 2
    HasRunways              = Yes
    ApproachHeight          = 50
    ParkInHangars           = Yes
  End

  Behavior = ProductionUpdate ModuleTag_11
    NumDoorAnimations            = 4
    DoorOpeningTime              = 2000  ;in mSeconds
    DoorWaitOpenTime             = 3000  ;in mSeconds
    DoorCloseTime                = 2000  ;in mSeconds
    ConstructionCompleteDuration = 1000  ;in mSeconds
  End

  Behavior = DestroyDie ModuleTag_12
    ;nothing
  End
  Behavior             = CreateObjectDie ModuleTag_13
    CreationList  = OCL_ABPowerPlantExplode
  End
  Behavior             = FXListDie ModuleTag_14
    DeathFX       = FX_StructureMediumDeath
  End

  ; Behavior = GenerateMinefieldBehavior     ModuleTag_15
    ; TriggeredBy           = Upgrade_ChinaMines
    ; MineName              = ChinaStandardMine
    ; SmartBorder           = Yes
    ; AlwaysCircular        = Yes

    ; Upgradable            = Yes
    ; UpgradedTriggeredBy   = Upgrade_ChinaEMPMines
    ; UpgradedMineName      = ChinaEMPMine
  ; End

  Behavior = FlammableUpdate ModuleTag_17
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 5       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = TransitionDamageFX ModuleTag_18
    ;-------------DESIGNED FOR MEDIUM SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionMediumExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionMediumShockwave
  End
  
  Behavior = CommandSetUpgrade ModuleTag_19
    TriggeredBy = Upgrade_ChinaWarFactoryupCommandSet
    RemovesUpgrades = Upgrade_ChinaWarFactorydownCommandSet
    CommandSet = Boss_ChinaAirfieldtechCommandSet
  End

  Behavior = CommandSetUpgrade ModuleTag_20
    TriggeredBy = Upgrade_ChinaWarFactorydownCommandSet
    RemovesUpgrades = Upgrade_ChinaWarFactoryupCommandSet Upgrade_ChinaWarFactorydownCommandSet
    CommandSet = Boss_ChinaAirfieldCommandSet
  End
  
  Behavior = PreorderCreate ModuleTag_PreorderCreate
  End

  ; Behavior = CommandSetUpgrade ModuleTag_25
    ; CommandSet = Boss_ChinaAirfieldCommandSetUpgrade
    ; TriggeredBy = Upgrade_ChinaMines
  ; End

  ; Geometry            = BOX
  ; GeometryMajorRadius = 83.0
  ; GeometryMinorRadius = 76.0
  ; GeometryHeight      = 25.0
  ; GeometryIsSmall     = No
  ; Shadow          = SHADOW_VOLUME
  ; BuildCompletion = PLACED_BY_PLAYER
  
  Geometry            = BOX
  GeometryMajorRadius = 122.0
  GeometryMinorRadius = 63.0
  GeometryHeight      = 25.0
  GeometryIsSmall     = No
  FactoryExitWidth    = 40
  Shadow          = SHADOW_VOLUME
  BuildCompletion = PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
Object Boss_ScudStorm

  ; *** ART Parameters ***
  SelectPortrait         = BBScud
  ButtonImage            = BBScud
  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes
    ProjectileBoneFeedbackEnabledSlots = SECONDARY ; WeaponLaunchBone will be shown/hidden, not just used for firing offset

    ; day
    ConditionState = NONE ; lying around
      Model         = BBScudStrm_A1
      Animation     = BBScudStrm_A1.BBScudStrm_A1
      AnimationMode = MANUAL
      Flags         = START_FRAME_FIRST
      WeaponLaunchBone = SECONDARY WeaponA
      ShowSubObject = WeaponA01 WeaponA02 WeaponA03 WeaponA04 WeaponA05 WeaponA06 WeaponA07 WeaponA08 WeaponA09 
      TransitionKey = Trans_READY

      ParticleSysBone      = SteamM01 Boss_SteamLarge
      ParticleSysBone      = SteamS01 SteamMedium
    End

    TransitionState = Trans_READY Trans_ATTACKING ; from lying around to straight up
      Model         = BBScudStrm_A1
      Animation     = BBScudStrm_A1.BBScudStrm_A1
      AnimationMode = ONCE
      Flags         = MAINTAIN_FRAME_ACROSS_STATES
      WeaponLaunchBone = SECONDARY WeaponA

      ParticleSysBone      = SteamM01 Boss_SteamLarge
      ParticleSysBone      = SteamS01 SteamMedium

      ParticleSysBone      = FXBone01 ScudStormBuildingGoo
      ParticleSysBone      = FXBone02 ScudStormBuildingGoo
      ParticleSysBone      = FXBone03 ScudStormBuildingGoo
    End

    ConditionState = ATTACKING  ; Projectile feedback code selectively hiding missiles as they shoot
      Model         = UBScudStrm_A2
      Animation     = UBScudStrm_A2.UBScudStrm_A2
      AnimationMode = MANUAL
      Flags         = START_FRAME_FIRST
      WeaponLaunchBone = SECONDARY WeaponA
      TransitionKey = Trans_ATTACKING

      ParticleSysBone      = SteamM01 Boss_SteamLarge
      ParticleSysBone      = SteamS01 SteamMedium

      ParticleSysBone      = FXBone01 ScudStormBuildingGoo
      ParticleSysBone      = FXBone02 ScudStormBuildingGoo
      ParticleSysBone      = FXBone03 ScudStormBuildingGoo
    End
    AliasConditionState = ATTACKING FIRING_B
    AliasConditionState = ATTACKING BETWEEN_FIRING_SHOTS_B

    TransitionState = Trans_ATTACKING Trans_READY ; empty arms going underground, coming up with presents for bad people
      Model         = BBScudStrm_A3
      Animation     = BBScudStrm_A3.BBScudStrm_A3
      AnimationMode = ONCE
      Flags         = MAINTAIN_FRAME_ACROSS_STATES2

      ParticleSysBone      = SteamM01 SteamVent
      ParticleSysBone      = SteamS01 SteamVent
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = BBScudStrm_A1
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = BBScudStrm_A1D
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = BBScudStrm_A1D
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End

    ;-------------------------------------------------------------------------------------------------------------------------
    ; day
    ConditionState = DAMAGED
      Model         = BBScudStrm_A1D
      Animation     = BBScudStrm_A1D.BBScudStrm_A1D
      AnimationMode = MANUAL
      Flags         = START_FRAME_FIRST
      WeaponLaunchBone = SECONDARY WeaponA
      ShowSubObject = WeaponA01 WeaponA02 WeaponA03 WeaponA04 WeaponA05 WeaponA06 WeaponA07 WeaponA08 WeaponA09 
      TransitionKey = Trans_READY_DAMAGED

      ParticleSysBone      = SteamM01 Boss_SteamLarge
      ParticleSysBone      = SteamS01 SteamMedium
    End

    TransitionState = Trans_READY_DAMAGED Trans_ATTACKING_DAMAGED
      Model         = BBScudStrm_A1D
      Animation     = BBScudStrm_A1D.BBScudStrm_A1D
      AnimationMode = ONCE
      Flags         = MAINTAIN_FRAME_ACROSS_STATES
      WeaponLaunchBone = SECONDARY WeaponA

      ParticleSysBone      = SteamM01 Boss_SteamLarge
      ParticleSysBone      = SteamS01 SteamMedium

      ParticleSysBone      = FXBone01 ScudStormBuildingGoo
      ParticleSysBone      = FXBone02 ScudStormBuildingGoo
      ParticleSysBone      = FXBone03 ScudStormBuildingGoo
    End

    ConditionState = ATTACKING DAMAGED
      Model         = UBScudStrm_DA2
      Animation     = UBScudStrm_DA2.UBScudStrm_DA2
      AnimationMode = MANUAL
      Flags         = START_FRAME_FIRST
      WeaponLaunchBone = SECONDARY WeaponA
      TransitionKey = Trans_ATTACKING_DAMAGED

      ParticleSysBone      = SteamM01 Boss_SteamLarge
      ParticleSysBone      = SteamS01 SteamMedium

      ParticleSysBone      = FXBone01 ScudStormBuildingGoo
      ParticleSysBone      = FXBone02 ScudStormBuildingGoo
      ParticleSysBone      = FXBone03 ScudStormBuildingGoo
    End
    AliasConditionState = ATTACKING FIRING_B DAMAGED
    AliasConditionState = ATTACKING BETWEEN_FIRING_SHOTS_B DAMAGED

    TransitionState = Trans_ATTACKING_DAMAGED Trans_READY_DAMAGED
      Model         = BBScudStrm_A3D
      Animation     = BBScudStrm_A3D.BBScudStrm_A3D
      AnimationMode = ONCE
      Flags         = MAINTAIN_FRAME_ACROSS_STATES2

      ParticleSysBone      = SteamM01 SteamVent
      ParticleSysBone      = SteamS01 SteamVent
    End

    ;-------------------------------------------------------------------------------------------------------------------------
    ConditionState = REALLYDAMAGED RUBBLE
      Model         = BBScudStrm_A1D
      Animation     = BBScudStrm_A1D.BBScudStrm_A1D
      AnimationMode = MANUAL
      Flags         = START_FRAME_FIRST
      WeaponLaunchBone = SECONDARY WeaponA
      ShowSubObject = WeaponA01 WeaponA02 WeaponA03 WeaponA04 WeaponA05 WeaponA06 WeaponA07 WeaponA08 WeaponA09 
      TransitionKey = Trans_READY_REALLYDAMAGED

      ParticleSysBone      = SteamM01 Boss_SteamLarge
      ParticleSysBone      = SteamS01 SteamMedium
    End

    TransitionState = Trans_READY_REALLYDAMAGED Trans_ATTACKING_REALLYDAMAGED
      Model         = BBScudStrm_A1D
      Animation     = BBScudStrm_A1D.BBScudStrm_A1D
      AnimationMode = ONCE
      Flags         = MAINTAIN_FRAME_ACROSS_STATES
      WeaponLaunchBone = SECONDARY WeaponA

      ParticleSysBone      = SteamM01 Boss_SteamLarge
      ParticleSysBone      = SteamS01 SteamMedium

      ParticleSysBone      = FXBone01 ScudStormBuildingGoo
      ParticleSysBone      = FXBone02 ScudStormBuildingGoo
      ParticleSysBone      = FXBone03 ScudStormBuildingGoo
    End

    ConditionState = ATTACKING REALLYDAMAGED RUBBLE
      Model         = UBScudStrm_EA2
      Animation     = UBScudStrm_EA2.UBScudStrm_EA2
      AnimationMode = MANUAL
      Flags         = START_FRAME_FIRST
      WeaponLaunchBone = SECONDARY WeaponA
      TransitionKey = Trans_ATTACKING_REALLYDAMAGED

      ParticleSysBone      = SteamM01 SteamLarge
      ParticleSysBone      = SteamS01 SteamMedium

      ParticleSysBone      = FXBone01 ScudStormBuildingGoo
      ParticleSysBone      = FXBone02 ScudStormBuildingGoo
      ParticleSysBone      = FXBone03 ScudStormBuildingGoo
    End
    AliasConditionState = ATTACKING FIRING_B REALLYDAMAGED RUBBLE
    AliasConditionState = ATTACKING BETWEEN_FIRING_SHOTS_B REALLYDAMAGED RUBBLE

    TransitionState = Trans_ATTACKING_REALLYDAMAGED Trans_READY_REALLYDAMAGED
      Model         = BBScudStrm_A3D
      Animation     = BBScudStrm_A3D.BBScudStrm_A3D
      AnimationMode = ONCE
      Flags         = MAINTAIN_FRAME_ACROSS_STATES2

      ParticleSysBone      = SteamM01 SteamVent
      ParticleSysBone      = SteamS01 SteamVent
    End
    
        ;-------------------------------------------------------------------------------------------------------------------------
        ;  SNOW
    ConditionState =  SNOW ; from underground to lying around
      Model         = BBScudStrm_A1
      Animation     = BBScudStrm_A1.BBScudStrm_A1
      AnimationMode = MANUAL
      Flags         = START_FRAME_FIRST
      WeaponLaunchBone = SECONDARY WeaponA
      ShowSubObject = WeaponA01 WeaponA02 WeaponA03 WeaponA04 WeaponA05 WeaponA06 WeaponA07 WeaponA08 WeaponA09 
      TransitionKey = Trans_READY_SNOW

      ParticleSysBone      = SteamM01 Boss_SteamLarge
      ParticleSysBone      = SteamS01 SteamMedium
    End

    TransitionState = Trans_READY_SNOW Trans_ATTACKING_SNOW
      Model         = BBScudStrm_A1
      Animation     = BBScudStrm_A1.BBScudStrm_A1
      AnimationMode = ONCE
      Flags         = MAINTAIN_FRAME_ACROSS_STATES
      WeaponLaunchBone = SECONDARY WeaponA

      ParticleSysBone      = SteamM01 SteamLarge
      ParticleSysBone      = SteamS01 SteamMedium

      ParticleSysBone      = FXBone01 ScudStormBuildingGoo
      ParticleSysBone      = FXBone02 ScudStormBuildingGoo
      ParticleSysBone      = FXBone03 ScudStormBuildingGoo
    End

    ConditionState = ATTACKING  SNOW ; Projectile feedback code selectively hiding missiles as they shoot
      Model         = UBScudStrm_A2S
      Animation     = UBScudStrm_A2S.UBScudStrm_A2S
      AnimationMode = MANUAL
      Flags         = START_FRAME_FIRST
      WeaponLaunchBone = SECONDARY WeaponA
      TransitionKey = Trans_ATTACKING_SNOW

      ParticleSysBone      = SteamM01 Boss_SteamLarge
      ParticleSysBone      = SteamS01 SteamMedium

      ParticleSysBone      = FXBone01 ScudStormBuildingGoo
      ParticleSysBone      = FXBone02 ScudStormBuildingGoo
      ParticleSysBone      = FXBone03 ScudStormBuildingGoo
    End
    AliasConditionState = ATTACKING FIRING_B  SNOW
    AliasConditionState = ATTACKING BETWEEN_FIRING_SHOTS_B  SNOW

    TransitionState = Trans_ATTACKING_SNOW Trans_READY_SNOW ; empty arms going underground
      Model         = BBScudStrm_A3
      Animation     = BBScudStrm_A3.BBScudStrm_A3
      AnimationMode = ONCE
      Flags         = MAINTAIN_FRAME_ACROSS_STATES2

      ParticleSysBone      = SteamM01 SteamVent
      ParticleSysBone      = SteamS01 SteamVent
    End

    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED  SNOW
      Model              = BBScudStrm_A1
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED  SNOW
      Model              = BBScudStrm_A1D
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED  SNOW
      Model              = BBScudStrm_A1D
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End

    ;-------------------------------------------------------------------------------------------------------------------------
    ConditionState = DAMAGED SNOW
      Model         = BBScudStrm_A1D
      Animation     = BBScudStrm_A1D.BBScudStrm_A1D
      AnimationMode = MANUAL
      Flags         = START_FRAME_FIRST
      WeaponLaunchBone = SECONDARY WeaponA
      ShowSubObject = WeaponA01 WeaponA02 WeaponA03 WeaponA04 WeaponA05 WeaponA06 WeaponA07 WeaponA08 WeaponA09 
      TransitionKey = Trans_READY_DAMAGED_SNOW

      ParticleSysBone      = SteamM01 Boss_SteamLarge
      ParticleSysBone      = SteamS01 SteamMedium
    End

    TransitionState = Trans_READY_DAMAGED_SNOW Trans_ATTACKING_DAMAGED_SNOW
      Model         = BBScudStrm_A1D
      Animation     = BBScudStrm_A1D.BBScudStrm_A1D
      AnimationMode = ONCE
      Flags         = MAINTAIN_FRAME_ACROSS_STATES
      WeaponLaunchBone = SECONDARY WeaponA

      ParticleSysBone      = SteamM01 Boss_SteamLarge
      ParticleSysBone      = SteamS01 SteamMedium

      ParticleSysBone      = FXBone01 ScudStormBuildingGoo
      ParticleSysBone      = FXBone02 ScudStormBuildingGoo
      ParticleSysBone      = FXBone03 ScudStormBuildingGoo
    End

    ConditionState = ATTACKING DAMAGED SNOW
      Model         = UBScudStrm_DA2
      Animation     = UBScudStrm_DA2.UBScudStrm_DA2
      AnimationMode = MANUAL
      Flags         = START_FRAME_FIRST
      WeaponLaunchBone = SECONDARY WeaponA
      TransitionKey = Trans_ATTACKING_DAMAGED_SNOW

      ParticleSysBone      = SteamM01 Boss_SteamLarge
      ParticleSysBone      = SteamS01 SteamMedium

      ParticleSysBone      = FXBone01 ScudStormBuildingGoo
      ParticleSysBone      = FXBone02 ScudStormBuildingGoo
      ParticleSysBone      = FXBone03 ScudStormBuildingGoo
    End
    AliasConditionState = ATTACKING FIRING_B DAMAGED SNOW
    AliasConditionState = ATTACKING BETWEEN_FIRING_SHOTS_B DAMAGED SNOW

    TransitionState = Trans_ATTACKING_DAMAGED_SNOW Trans_READY_DAMAGED_SNOW
      Model         = BBScudStrm_A3D
      Animation     = BBScudStrm_A3D.BBScudStrm_A3D
      AnimationMode = ONCE
      Flags         = MAINTAIN_FRAME_ACROSS_STATES2

      ParticleSysBone      = SteamM01 SteamVent
      ParticleSysBone      = SteamS01 SteamVent
    End
       
    ;-------------------------------------------------------------------------------------------------------------------------
    
    ConditionState = REALLYDAMAGED RUBBLE SNOW
      Model         = BBScudStrm_A1D
      Animation     = BBScudStrm_A1D.BBScudStrm_A1D
      AnimationMode = MANUAL
      Flags         = START_FRAME_FIRST
      WeaponLaunchBone = SECONDARY WeaponA
      ShowSubObject = WeaponA01 WeaponA02 WeaponA03 WeaponA04 WeaponA05 WeaponA06 WeaponA07 WeaponA08 WeaponA09 
      TransitionKey = Trans_READY_REALLYDAMAGED_SNOW

      ParticleSysBone      = SteamM01 Boss_SteamLarge
      ParticleSysBone      = SteamS01 SteamMedium
    End

    TransitionState = Trans_READY_REALLYDAMAGED_SNOW Trans_ATTACKING_REALLYDAMAGED_SNOW
      Model         = BBScudStrm_A1D
      Animation     = BBScudStrm_A1D.BBScudStrm_A1D
      AnimationMode = ONCE
      Flags         = MAINTAIN_FRAME_ACROSS_STATES
      WeaponLaunchBone = SECONDARY WeaponA

      ParticleSysBone      = SteamM01 Boss_SteamLarge
      ParticleSysBone      = SteamS01 SteamMedium

      ParticleSysBone      = FXBone01 ScudStormBuildingGoo
      ParticleSysBone      = FXBone02 ScudStormBuildingGoo
      ParticleSysBone      = FXBone03 ScudStormBuildingGoo
    End


    ConditionState = ATTACKING REALLYDAMAGED RUBBLE SNOW
      Model         = UBScudStrm_EA2
      Animation     = UBScudStrm_EA2.UBScudStrm_EA2
      AnimationMode = MANUAL
      Flags         = START_FRAME_FIRST
      WeaponLaunchBone = SECONDARY WeaponA
      TransitionKey = Trans_ATTACKING_REALLYDAMAGED_SNOW

      ParticleSysBone      = SteamM01 Boss_SteamLarge
      ParticleSysBone      = SteamS01 SteamMedium

      ParticleSysBone      = FXBone01 ScudStormBuildingGoo
      ParticleSysBone      = FXBone02 ScudStormBuildingGoo
      ParticleSysBone      = FXBone03 ScudStormBuildingGoo
    End
    AliasConditionState = ATTACKING FIRING_B REALLYDAMAGED RUBBLE SNOW
    AliasConditionState = ATTACKING BETWEEN_FIRING_SHOTS_B REALLYDAMAGED RUBBLE SNOW

    TransitionState = Trans_ATTACKING_REALLYDAMAGED_SNOW Trans_READY_REALLYDAMAGED_SNOW
      Model         = BBScudStrm_A3D
      Animation     = BBScudStrm_A3D.BBScudStrm_A3D
      AnimationMode = ONCE
      Flags         = MAINTAIN_FRAME_ACROSS_STATES2

      ParticleSysBone      = SteamM01 SteamVent
      ParticleSysBone      = SteamS01 SteamVent
    End
    
    ;-------------------------------------------------------------------------------------------------------------------------
        ; NIGHT
    ConditionState = NIGHT ; from underground to lying around
      Model         = BBScudStrm_A1
      Animation     = BBScudStrm_A1.BBScudStrm_A1
      AnimationMode = MANUAL
      Flags         = START_FRAME_FIRST
      WeaponLaunchBone = SECONDARY WeaponA
      ShowSubObject = WeaponA01 WeaponA02 WeaponA03 WeaponA04 WeaponA05 WeaponA06 WeaponA07 WeaponA08 WeaponA09 
      TransitionKey = Trans_READY_NIGHT

      ParticleSysBone      = SteamM01 Boss_SteamLarge
      ParticleSysBone      = SteamS01 SteamMedium
    End

    TransitionState = Trans_READY_NIGHT Trans_ATTACKING_NIGHT
      Model         = BBScudStrm_A1
      Animation     = BBScudStrm_A1.BBScudStrm_A1
      AnimationMode = ONCE
      Flags         = MAINTAIN_FRAME_ACROSS_STATES
      WeaponLaunchBone = SECONDARY WeaponA

      ParticleSysBone      = SteamM01 SteamLarge
      ParticleSysBone      = SteamS01 SteamMedium

      ParticleSysBone      = FXBone01 ScudStormBuildingGoo
      ParticleSysBone      = FXBone02 ScudStormBuildingGoo
      ParticleSysBone      = FXBone03 ScudStormBuildingGoo
    End

    ConditionState = ATTACKING NIGHT  ; Projectile feedback code selectively hiding missiles as they shoot
      Model         = UBScudStrm_A2
      Animation     = UBScudStrm_A2.UBScudStrm_A2
      AnimationMode = MANUAL
      Flags         = START_FRAME_FIRST
      WeaponLaunchBone = SECONDARY WeaponA
      TransitionKey = Trans_ATTACKING_NIGHT

      ParticleSysBone      = SteamM01 Boss_SteamLarge
      ParticleSysBone      = SteamS01 SteamMedium

      ParticleSysBone      = FXBone01 ScudStormBuildingGoo
      ParticleSysBone      = FXBone02 ScudStormBuildingGoo
      ParticleSysBone      = FXBone03 ScudStormBuildingGoo
    End
    AliasConditionState = ATTACKING FIRING_B NIGHT
    AliasConditionState = ATTACKING BETWEEN_FIRING_SHOTS_B NIGHT

    TransitionState = Trans_ATTACKING_NIGHT Trans_READY_NIGHT ; empty arms going underground
      Model         = BBScudStrm_A3
      Animation     = BBScudStrm_A3.BBScudStrm_A3
      AnimationMode = ONCE
      Flags         = MAINTAIN_FRAME_ACROSS_STATES2

      ParticleSysBone      = SteamM01 SteamVent
      ParticleSysBone      = SteamS01 SteamVent
    End

    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
      Model              = BBScudStrm_A1
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT
      Model              = BBScudStrm_A1D
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT
      Model              = BBScudStrm_A1D
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End

    ;-------------------------------------------------------------------------------------------------------------------------
    ConditionState = DAMAGED NIGHT
      Model         = BBScudStrm_A1D
      Animation     = BBScudStrm_A1D.BBScudStrm_A1D
      AnimationMode = MANUAL
      Flags         = START_FRAME_FIRST
      WeaponLaunchBone = SECONDARY WeaponA
      ShowSubObject = WeaponA01 WeaponA02 WeaponA03 WeaponA04 WeaponA05 WeaponA06 WeaponA07 WeaponA08 WeaponA09 
      TransitionKey = Trans_READY_DAMAGED_NIGHT

      ParticleSysBone      = SteamM01 Boss_SteamLarge
      ParticleSysBone      = SteamS01 SteamMedium
    End

    TransitionState = Trans_READY_DAMAGED_NIGHT Trans_ATTACKING_DAMAGED_NIGHT
      Model         = BBScudStrm_A1D
      Animation     = BBScudStrm_A1D.BBScudStrm_A1D
      AnimationMode = ONCE
      Flags         = MAINTAIN_FRAME_ACROSS_STATES
      WeaponLaunchBone = SECONDARY WeaponA

      ParticleSysBone      = SteamM01 Boss_SteamLarge
      ParticleSysBone      = SteamS01 SteamMedium

      ParticleSysBone      = FXBone01 ScudStormBuildingGoo
      ParticleSysBone      = FXBone02 ScudStormBuildingGoo
      ParticleSysBone      = FXBone03 ScudStormBuildingGoo
    End

    ConditionState = ATTACKING DAMAGED NIGHT
      Model         = UBScudStrm_DA2N
      Animation     = UBScudStrm_DA2N.UBScudStrm_DA2N
      AnimationMode = MANUAL
      Flags         = START_FRAME_FIRST
      WeaponLaunchBone = SECONDARY WeaponA
      TransitionKey = Trans_ATTACKING_DAMAGED_NIGHT

      ParticleSysBone      = SteamM01 Boss_SteamLarge
      ParticleSysBone      = SteamS01 SteamMedium

      ParticleSysBone      = FXBone01 ScudStormBuildingGoo
      ParticleSysBone      = FXBone02 ScudStormBuildingGoo
      ParticleSysBone      = FXBone03 ScudStormBuildingGoo
    End
    AliasConditionState = ATTACKING FIRING_B NIGHT DAMAGED
    AliasConditionState = ATTACKING BETWEEN_FIRING_SHOTS_B NIGHT DAMAGED

    TransitionState = Trans_ATTACKING_DAMAGED_NIGHT Trans_READY_DAMAGED_NIGHT
      Model         = BBScudStrm_A3D
      Animation     = BBScudStrm_A3D.BBScudStrm_A3D
      AnimationMode = ONCE
      Flags         = MAINTAIN_FRAME_ACROSS_STATES2

      ParticleSysBone      = SteamM01 SteamVent
      ParticleSysBone      = SteamS01 SteamVent
    End
       
    ;-------------------------------------------------------------------------------------------------------------------------
    
    ConditionState = REALLYDAMAGED RUBBLE NIGHT
      Model         = BBScudStrm_A1D
      Animation     = BBScudStrm_A1D.BBScudStrm_A1D
      AnimationMode = MANUAL
      Flags         = START_FRAME_FIRST
      WeaponLaunchBone = SECONDARY WeaponA
      ShowSubObject = WeaponA01 WeaponA02 WeaponA03 WeaponA04 WeaponA05 WeaponA06 WeaponA07 WeaponA08 WeaponA09 
      TransitionKey = Trans_READY_REALLYDAMAGED_NIGHT

      ParticleSysBone      = SteamM01 Boss_SteamLarge
      ParticleSysBone      = SteamS01 SteamMedium
    End

    TransitionState = Trans_READY_REALLYDAMAGED_NIGHT Trans_ATTACKING_REALLYDAMAGED_NIGHT
      Model         = BBScudStrm_A1D
      Animation     = BBScudStrm_A1D.BBScudStrm_A1D
      AnimationMode = ONCE
      Flags         = MAINTAIN_FRAME_ACROSS_STATES
      WeaponLaunchBone = SECONDARY WeaponA

      ParticleSysBone      = SteamM01 SteamLarge
      ParticleSysBone      = SteamS01 SteamMedium

      ParticleSysBone      = FXBone01 ScudStormBuildingGoo
      ParticleSysBone      = FXBone02 ScudStormBuildingGoo
      ParticleSysBone      = FXBone03 ScudStormBuildingGoo
    End


    ConditionState = ATTACKING REALLYDAMAGED RUBBLE NIGHT
      Model         = UBScudStrm_EA2N
      Animation     = UBScudStrm_EA2N.UBScudStrm_EA2N
      AnimationMode = MANUAL
      Flags         = START_FRAME_FIRST
      WeaponLaunchBone = SECONDARY WeaponA
      TransitionKey = Trans_ATTACKING_REALLYDAMAGED_NIGHT

      ParticleSysBone      = SteamM01 Boss_SteamLarge
      ParticleSysBone      = SteamS01 SteamMedium

      ParticleSysBone      = FXBone01 ScudStormBuildingGoo
      ParticleSysBone      = FXBone02 ScudStormBuildingGoo
      ParticleSysBone      = FXBone03 ScudStormBuildingGoo
    End
    AliasConditionState = ATTACKING FIRING_B NIGHT REALLYDAMAGED RUBBLE
    AliasConditionState = ATTACKING BETWEEN_FIRING_SHOTS_B NIGHT REALLYDAMAGED RUBBLE

    TransitionState = Trans_ATTACKING_REALLYDAMAGED_NIGHT Trans_READY_REALLYDAMAGED_NIGHT
      Model         = BBScudStrm_A3D
      Animation     = BBScudStrm_A3D.BBScudStrm_A3D
      AnimationMode = ONCE
      Flags         = MAINTAIN_FRAME_ACROSS_STATES2

      ParticleSysBone      = SteamM01 SteamVent
      ParticleSysBone      = SteamS01 SteamVent
    End
    
        ;-------------------------------------------------------------------------------------------------------------------------
        ; NIGHT SNOW
    ConditionState = NIGHT SNOW ; from underground to lying around
      Model         = BBScudStrm_A1
      Animation     = BBScudStrm_A1.BBScudStrm_A1
      AnimationMode = MANUAL
      Flags         = START_FRAME_FIRST
      WeaponLaunchBone = SECONDARY WeaponA
      ShowSubObject = WeaponA01 WeaponA02 WeaponA03 WeaponA04 WeaponA05 WeaponA06 WeaponA07 WeaponA08 WeaponA09 
      TransitionKey = Trans_READY_NIGHTSNOW

      ParticleSysBone      = SteamM01 Boss_SteamLarge
      ParticleSysBone      = SteamS01 SteamMedium
    End

    TransitionState = Trans_READY_NIGHTSNOW Trans_ATTACKING_NIGHTSNOW
      Model         = BBScudStrm_A1
      Animation     = BBScudStrm_A1.BBScudStrm_A1
      AnimationMode = ONCE
      Flags         = MAINTAIN_FRAME_ACROSS_STATES
      WeaponLaunchBone = SECONDARY WeaponA

      ParticleSysBone      = SteamM01 Boss_SteamLarge
      ParticleSysBone      = SteamS01 SteamMedium

      ParticleSysBone      = FXBone01 ScudStormBuildingGoo
      ParticleSysBone      = FXBone02 ScudStormBuildingGoo
      ParticleSysBone      = FXBone03 ScudStormBuildingGoo
    End

    ConditionState = ATTACKING NIGHT SNOW ; Projectile feedback code selectively hiding missiles as they shoot
      Model         = UBScudStrm_A2NS
      Animation     = UBScudStrm_A2NS.UBScudStrm_A2NS
      AnimationMode = MANUAL
      Flags         = START_FRAME_FIRST
      WeaponLaunchBone = SECONDARY WeaponA
      TransitionKey = Trans_ATTACKING_NIGHTSNOW

      ParticleSysBone      = SteamM01 Boss_SteamLarge
      ParticleSysBone      = SteamS01 SteamMedium

      ParticleSysBone      = FXBone01 ScudStormBuildingGoo
      ParticleSysBone      = FXBone02 ScudStormBuildingGoo
      ParticleSysBone      = FXBone03 ScudStormBuildingGoo
    End
    AliasConditionState = ATTACKING FIRING_B NIGHT SNOW
    AliasConditionState = ATTACKING BETWEEN_FIRING_SHOTS_B NIGHT SNOW

    TransitionState = Trans_ATTACKING_NIGHTSNOW Trans_READY_NIGHTSNOW ; empty arms going underground
      Model         = BBScudStrm_A3
      Animation     = BBScudStrm_A3.BBScudStrm_A3
      AnimationMode = ONCE
      Flags         = MAINTAIN_FRAME_ACROSS_STATES2

      ParticleSysBone      = SteamM01 SteamVent
      ParticleSysBone      = SteamS01 SteamVent
    End

    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
      Model              = BBScudStrm_A1
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT SNOW
      Model              = BBScudStrm_A1D
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT SNOW
      Model              = BBScudStrm_A1D
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End

    ;-------------------------------------------------------------------------------------------------------------------------
    ConditionState = DAMAGED NIGHT SNOW
      Model         = BBScudStrm_A1
      Animation     = BBScudStrm_A1.BBScudStrm_A1
      AnimationMode = MANUAL
      Flags         = START_FRAME_FIRST
      WeaponLaunchBone = SECONDARY WeaponA
      ShowSubObject = WeaponA01 WeaponA02 WeaponA03 WeaponA04 WeaponA05 WeaponA06 WeaponA07 WeaponA08 WeaponA09 
      TransitionKey = Trans_READY_DAMAGED_NIGHTSNOW

      ParticleSysBone      = SteamM01 Boss_SteamLarge
      ParticleSysBone      = SteamS01 SteamMedium
    End

    TransitionState = Trans_READY_DAMAGED_NIGHTSNOW Trans_ATTACKING_DAMAGED_NIGHTSNOW
      Model         = BBScudStrm_A1D
      Animation     = BBScudStrm_A1D.BBScudStrm_A1D
      AnimationMode = ONCE
      Flags         = MAINTAIN_FRAME_ACROSS_STATES
      WeaponLaunchBone = SECONDARY WeaponA

      ParticleSysBone      = SteamM01 Boss_SteamLarge
      ParticleSysBone      = SteamS01 SteamMedium

      ParticleSysBone      = FXBone01 ScudStormBuildingGoo
      ParticleSysBone      = FXBone02 ScudStormBuildingGoo
      ParticleSysBone      = FXBone03 ScudStormBuildingGoo
    End

    ConditionState = ATTACKING DAMAGED NIGHT SNOW
      Model         = UBScudStrm_DA2N
      Animation     = UBScudStrm_DA2N.UBScudStrm_DA2N
      AnimationMode = MANUAL
      Flags         = START_FRAME_FIRST
      WeaponLaunchBone = SECONDARY WeaponA
      TransitionKey = Trans_ATTACKING_DAMAGED_NIGHTSNOW

      ParticleSysBone      = SteamM01 Boss_SteamLarge
      ParticleSysBone      = SteamS01 SteamMedium

      ParticleSysBone      = FXBone01 ScudStormBuildingGoo
      ParticleSysBone      = FXBone02 ScudStormBuildingGoo
      ParticleSysBone      = FXBone03 ScudStormBuildingGoo
    End
    AliasConditionState = ATTACKING FIRING_B NIGHT DAMAGED SNOW
    AliasConditionState = ATTACKING BETWEEN_FIRING_SHOTS_B NIGHT DAMAGED SNOW

    TransitionState = Trans_ATTACKING_DAMAGED_NIGHTSNOW Trans_READY_DAMAGED_NIGHTSNOW
      Model         = BBScudStrm_A3D
      Animation     = BBScudStrm_A3D.BBScudStrm_A3D
      AnimationMode = ONCE
      Flags         = MAINTAIN_FRAME_ACROSS_STATES2

      ParticleSysBone      = SteamM01 SteamVent
      ParticleSysBone      = SteamS01 SteamVent
    End
       
    ;-------------------------------------------------------------------------------------------------------------------------
    
    ConditionState = REALLYDAMAGED RUBBLE NIGHT SNOW
      Model         = BBScudStrm_A1D
      Animation     = BBScudStrm_A1D.BBScudStrm_A1D
      AnimationMode = MANUAL
      Flags         = START_FRAME_FIRST
      WeaponLaunchBone = SECONDARY WeaponA
      ShowSubObject = WeaponA01 WeaponA02 WeaponA03 WeaponA04 WeaponA05 WeaponA06 WeaponA07 WeaponA08 WeaponA09 
      TransitionKey = Trans_READY_REALLYDAMAGED_NIGHTSNOW

      ParticleSysBone      = SteamM01 Boss_SteamLarge
      ParticleSysBone      = SteamS01 SteamMedium
    End

    TransitionState = Trans_READY_REALLYDAMAGED_NIGHTSNOW Trans_ATTACKING_REALLYDAMAGED_NIGHTSNOW
      Model         = BBScudStrm_A1D
      Animation     = BBScudStrm_A1D.BBScudStrm_A1D
      AnimationMode = ONCE
      Flags         = MAINTAIN_FRAME_ACROSS_STATES
      WeaponLaunchBone = SECONDARY WeaponA

      ParticleSysBone      = SteamM01 SteamLarge
      ParticleSysBone      = SteamS01 SteamMedium

      ParticleSysBone      = FXBone01 ScudStormBuildingGoo
      ParticleSysBone      = FXBone02 ScudStormBuildingGoo
      ParticleSysBone      = FXBone03 ScudStormBuildingGoo
    End


    ConditionState = ATTACKING REALLYDAMAGED RUBBLE NIGHT SNOW
      Model         = UBScudStrm_EA2N
      Animation     = UBScudStrm_EA2N.UBScudStrm_EA2N
      AnimationMode = MANUAL
      Flags         = START_FRAME_FIRST
      WeaponLaunchBone = SECONDARY WeaponA
      TransitionKey = Trans_ATTACKING_REALLYDAMAGED_NIGHTSNOW

      ParticleSysBone      = SteamM01 Boss_SteamLarge
      ParticleSysBone      = SteamS01 SteamMedium

      ParticleSysBone      = FXBone01 ScudStormBuildingGoo
      ParticleSysBone      = FXBone02 ScudStormBuildingGoo
      ParticleSysBone      = FXBone03 ScudStormBuildingGoo
    End
    AliasConditionState = ATTACKING FIRING_B NIGHT REALLYDAMAGED RUBBLE SNOW
    AliasConditionState = ATTACKING BETWEEN_FIRING_SHOTS_B NIGHT REALLYDAMAGED RUBBLE SNOW

    TransitionState = Trans_ATTACKING_REALLYDAMAGED_NIGHTSNOW Trans_READY_REALLYDAMAGED_NIGHTSNOW
      Model         = BBScudStrm_A3D
      Animation     = BBScudStrm_A3D.BBScudStrm_A3D
      AnimationMode = ONCE
      Flags         = MAINTAIN_FRAME_ACROSS_STATES2

      ParticleSysBone      = SteamM01 SteamVent
      ParticleSysBone      = SteamS01 SteamVent
    End
    
    
    ConditionState       = SOLD
      Model              = NONE
    End    
    AliasConditionState       = SOLD DAMAGED
    AliasConditionState       = SOLD REALLYDAMAGED
    AliasConditionState       = SOLD SNOW
    AliasConditionState       = SOLD DAMAGED SNOW
    AliasConditionState       = SOLD REALLYDAMAGED SNOW
    AliasConditionState       = SOLD NIGHT
    AliasConditionState       = SOLD DAMAGED NIGHT
    AliasConditionState       = SOLD REALLYDAMAGED NIGHT
    AliasConditionState       = SOLD NIGHT SNOW
    AliasConditionState       = SOLD DAMAGED NIGHT SNOW
    AliasConditionState       = SOLD REALLYDAMAGED NIGHT SNOW
  End
   
  ; ------------ construction-zone fence -----------------
  Draw = W3DModelDraw ModuleTag_05
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = UBScudStrm_AB
      Animation       = UBScudStrm_AB.UBScudStrm_AB
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
    End
    ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = UBScudStrm_ABN
      Animation       = UBScudStrm_ABN.UBScudStrm_ABN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
    End
    ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = UBScudStrm_ABS
      Animation       = UBScudStrm_ABS.UBScudStrm_ABS
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
    End
    ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = UBScudStrm_ABSN
      Animation       = UBScudStrm_ABSN.UBScudStrm_ABSN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = UBScudStrm_AB
      Animation       = UBScudStrm_AB.UBScudStrm_AB
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = UBScudStrm_ABN
      Animation       = UBScudStrm_ABN.UBScudStrm_ABN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = UBScudStrm_ABS
      Animation       = UBScudStrm_ABS.UBScudStrm_ABS
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = UBScudStrm_ABSN
      Animation       = UBScudStrm_ABSN.UBScudStrm_ABSN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = UBScudStrm_AB
      Animation       = UBScudStrm_AB.UBScudStrm_AB
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = UBScudStrm_ABN
      Animation       = UBScudStrm_ABN.UBScudStrm_ABN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = UBScudStrm_ABS
      Animation       = UBScudStrm_ABS.UBScudStrm_ABS
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = UBScudStrm_ABSN
      Animation       = UBScudStrm_ABSN.UBScudStrm_ABSN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ under-construction scaffolding -----------------
  Draw = W3DModelDraw ModuleTag_06
  AnimationsRequirePower = No
    MinLODRequired = MEDIUM
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = UBScudStrm_AC
      Animation       = UBScudStrm_AC.UBScudStrm_AC
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Dust01 BuildingDust
      ParticleSysBone = Smoke01 BuildUpSmoke
      ParticleSysBone = Smoke02 BuildUpSmoke
      ParticleSysBone = Smoke03 BuildUpSmoke
      ParticleSysBone = Smoke04 BuildUpSmoke
    End
    ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      Model           = UBScudStrm_ACN
      Animation       = UBScudStrm_ACN.UBScudStrm_ACN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = Dust01 BuildingDust
      ParticleSysBone = Smoke01 BuildUpSmoke
      ParticleSysBone = Smoke02 BuildUpSmoke
      ParticleSysBone = Smoke03 BuildUpSmoke
      ParticleSysBone = Smoke04 BuildUpSmoke
    End    
    ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      Model           = UBScudStrm_ACS
      Animation       = UBScudStrm_ACS.UBScudStrm_ACS
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = Dust01 BuildingSnowDust
      ParticleSysBone = Smoke01 BuildUpSnowSmoke
      ParticleSysBone = Smoke02 BuildUpSnowSmoke
      ParticleSysBone = Smoke03 BuildUpSnowSmoke
      ParticleSysBone = Smoke04 BuildUpSnowSmoke
    End   
    ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      Model           = UBScudStrm_ACSN
      Animation       = UBScudStrm_ACSN.UBScudStrm_ACSN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = Dust01 BuildingNightSnowDust
      ParticleSysBone = Smoke01 BuildUpNightSnowSmoke
      ParticleSysBone = Smoke02 BuildUpNightSnowSmoke
      ParticleSysBone = Smoke03 BuildUpNightSnowSmoke
      ParticleSysBone = Smoke04 BuildUpNightSnowSmoke
    End 
    TransitionState   = DOWN_DEFAULT UP_DAY
     Model            = UBScudStrm_AC
      Animation       = UBScudStrm_AC.UBScudStrm_AC
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
     Model            = UBScudStrm_ACN
      Animation       = UBScudStrm_ACN.UBScudStrm_ACN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
     Model            = UBScudStrm_ACS
      Animation       = UBScudStrm_ACS.UBScudStrm_ACS
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
     Model            = UBScudStrm_ACSN
      Animation       = UBScudStrm_ACSN.UBScudStrm_ACSN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = UBScudStrm_AC
      Animation       = UBScudStrm_AC.UBScudStrm_AC
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = UBScudStrm_ACN
      Animation       = UBScudStrm_ACN.UBScudStrm_ACN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = UBScudStrm_ACS
      Animation       = UBScudStrm_ACS.UBScudStrm_ACS
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = UBScudStrm_ACSN
      Animation       = UBScudStrm_ACSN.UBScudStrm_ACSN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  PlacementViewAngle = -45

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:ScudStorm
  Side = Boss
  EditorSorting    = STRUCTURE
  Prerequisites
    Object = Boss_TechCentr
	Object = Boss_EnergyPlant
  End
  BuildCost        = 50000
  BuildTime        = 60.0           ; in seconds
  EnergyProduction = -10
  CommandSet       = Boss_GLAScudStormCommandSet
  VisionRange     = 200.0           ; Shroud clearing distance
  ShroudClearingRange = 200
  ShroudRevealToAllRange = 60  ; Reveals shroud to all players at a specific amount which can be different. 
                               ; Using same value? Then use KINDOF_REVEAL_TO_ALL instead!
  WeaponSet
    Conditions = None
    Weapon = PRIMARY ScudStormPrimaryDummyWeapon
    AutoChooseSources = PRIMARY NONE
    Weapon = SECONDARY Boss_ScudStormWeapon
    AutoChooseSources = SECONDARY NONE
  End
  ArmorSet
    Conditions      = None
    Armor           = StructureArmorTough
    DamageFX        = StructureDamageFXNoShake
  End
  ExperienceValue     = 400 400 400 400  ; Experience point value at each level
  ;MaxSimultaneousOfType = DeterminedBySuperweaponRestriction ; Normally unlimited, but can be selected by players in multiplayer games
  ;MaxSimultaneousLinkKey = Superweapon  ; Count all superweapons **AND THE GLA SCUD STORM REBUILD HOLE** as one "type" for MaxSimultaneousOfType

  ; *** AUDIO Parameters ***
  VoiceSelect = ScudStormSelect
  SoundOnDamaged        = BuildingDamagedStateLight
  SoundOnReallyDamaged  = BuildingDestroy

  UnitSpecificSounds
    UnderConstruction     = UnderConstructionLoop
  End

  UnitSpecificSounds
  ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    TurretMoveStart = NoSound
    TurretMoveLoop = NoSound ;These aren't playing properly, will revisit (mp) TurretMoveLoopLoud
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority   = STRUCTURE
  KindOf          = PRELOAD POWERED STRUCTURE SELECTABLE IMMOBILE CAPTURABLE FS_TECHNOLOGY MP_COUNT_FOR_VICTORY SCORE_CREATE FS_SUPERWEAPON
  Body            = StructureBody ModuleTag_07
    MaxHealth       = 4000.0
    InitialHealth   = 4000.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 4200
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
  End

  Behavior = BaseRegenerateUpdate ModuleTag_1301
    ;No data
  End 
  Behavior = AIUpdateInterface ModuleTag_09
  End

  Behavior    = OCLSpecialPower ModuleTag_10
    SpecialPowerTemplate = SuperweaponScudStorm
    OCL                  = Boss_SUPERWEAPON_ScudStorm
  End
  Behavior = SpecialPowerCreate ModuleTag_11
    ;nothing
  End

  Behavior = DestroyDie ModuleTag_12
    ;nothing
  End
  Behavior = FireWeaponWhenDeadBehavior ModuleTag_14
    DeathWeapon = ChinaPowerPlantDeathWeapon
    StartsActive  = Yes
  End


  Behavior = FlammableUpdate ModuleTag_16
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 5       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = RadiusDecalUpdate ModuleTag_17
    ; nothing
  End

  Behavior = TransitionDamageFX ModuleTag_18
    ;-------------DESIGNED FOR MEDIUM SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionMediumExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionMediumShockwave
  End

  Behavior        = FXListDie ModuleTag_19
    DeathFX       = FX_BuildingDie
  End

  Behavior = GenerateMinefieldBehavior     ModuleTag_20
    TriggeredBy           = Upgrade_ChinaMines
    MineName              = ChinaStandardMine
    SmartBorder           = Yes
    AlwaysCircular        = Yes

    Upgradable            = Yes
    UpgradedTriggeredBy   = Upgrade_ChinaEMPMines
    UpgradedMineName      = ChinaEMPMine
  End

  Behavior = CommandSetUpgrade ModuleTag_21
    CommandSet = Boss_GLAScudStormCommandSetUpgrade
    TriggeredBy = Upgrade_ChinaMines
  End

  Behavior = ProductionUpdate ModuleTag_2200
    ; nothing
  End

  Geometry            = BOX
  GeometryMajorRadius = 71.0
  GeometryMinorRadius = 67.0
  GeometryHeight      = 25.0
  GeometryIsSmall     = No
  Shadow          = SHADOW_VOLUME
  BuildCompletion = PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
Object Boss_IonMissileLauncher

  ; *** ART Parameters ***
  SelectPortrait         = SNNeonR
  ButtonImage            = SNNeonR
  SelectPortrait = SNNeonR
  ButtonImage            = SNNeonR

  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes
    ; day
    ConditionState      = NONE
      Model             = NBNMissle
    End
    ConditionState      = SOLD
      Model             = NONE
    End  
    ConditionState      = SOLD SNOW
      Model             = NONE

    End   
    ConditionState      = SOLD NIGHT
      Model             = NONE
    End    
    ConditionState      = SOLD NIGHT SNOW
      Model             = NONE
    End     
    
    
    ConditionState      = DAMAGED
      Model             = NBNMissle_D
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
    End
     ConditionState     = REALLYDAMAGED RUBBLE
      Model             = NBNMissle_E
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
    End 
    ConditionState      = AWAITING_CONSTRUCTION
      Model             = None
    End
    ConditionState      = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model             = NBNMissle
      Flags             = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    END   
    ConditionState      = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model             = NBNMissle_D
      Flags             = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    END   
    ConditionState      = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED RUBBLE
      Model             = NBNMissle_E
      Flags             = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    END   
    ConditionState      = DOOR_1_OPENING
      Model             = NBNMissle_A2
      Animation         = NBNMissle_A2.NBNMissle_A2
      AnimationMode     = ONCE
      Flags             = MAINTAIN_FRAME_ACROSS_STATES
    End   
    ConditionState      = DOOR_1_WAITING_OPEN
      Model             = NBNMissle_A2
      Animation         = NBNMissle_A2.NBNMissle_A2
      AnimationMode     = MANUAL
      Flags             = START_FRAME_LAST PRISTINE_BONE_POS_IN_FINAL_FRAME
      WeaponLaunchBone  = PRIMARY RockPos
      ParticleSysBone   = Steam01 BigMissileSteam
      ParticleSysBone   = Steam02 BigMissileSteam
    End   
    ConditionState      = DOOR_1_WAITING_TO_CLOSE
      Model             = NBNMissle_A3
      Animation         = NBNMissle_A3.NBNMissle_A3
      AnimationMode     = MANUAL
      Flags             = START_FRAME_FIRST
      WeaponLaunchBone  = PRIMARY RockPos
    End   
    ConditionState      = DOOR_1_CLOSING
      Model             = NBNMissle_A3
      Animation         = NBNMissle_A3.NBNMissle_A3
      AnimationMode     = ONCE
      Flags             = MAINTAIN_FRAME_ACROSS_STATES2
    End   
    ConditionState      = DOOR_1_OPENING DAMAGED 
      Model             = NBNMissle_A2D
      Animation         = NBNMissle_A2D.NBNMissle_A2D
      AnimationMode     = ONCE
      Flags             = MAINTAIN_FRAME_ACROSS_STATES
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire

      ParticleSysBone   = Steam01 BigMissileSteam
      ParticleSysBone   = Steam02 BigMissileSteam
    End   
    ConditionState      = DOOR_1_WAITING_OPEN DAMAGED 
      Model             = NBNMissle_A2D
      Animation         = NBNMissle_A2D.NBNMissle_A2D
      AnimationMode     = MANUAL
      Flags             = START_FRAME_LAST PRISTINE_BONE_POS_IN_FINAL_FRAME
      WeaponLaunchBone  = PRIMARY RockPos
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
      ParticleSysBone   = Steam01 BigMissileSteam
      ParticleSysBone   = Steam02 BigMissileSteam
    End   
    ConditionState      = DOOR_1_WAITING_TO_CLOSE DAMAGED 
      Model             = NBNMissle_A3D
      Animation         = NBNMissle_A3D.NBNMissle_A3D
      AnimationMode     = MANUAL
      Flags             = START_FRAME_FIRST
      WeaponLaunchBone  = PRIMARY RockPos
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
    End   
    ConditionState      = DOOR_1_CLOSING DAMAGED 
      Model             = NBNMissle_A3D
      Animation         = NBNMissle_A3D.NBNMissle_A3D
      AnimationMode     = ONCE
      Flags             = MAINTAIN_FRAME_ACROSS_STATES2
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
    End   
    ConditionState      = DOOR_1_OPENING REALLYDAMAGED RUBBLE 
      Model             = NBNMissle_A2E
      Animation         = NBNMissle_A2E.NBNMissle_A2E
      AnimationMode     = ONCE
      Flags             = MAINTAIN_FRAME_ACROSS_STATES
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
      ParticleSysBone   = Steam01 BigMissileSteam
      ParticleSysBone   = Steam02 BigMissileSteam
    End   
    ConditionState      = DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE 
      Model             = NBNMissle_A2E
      Animation         = NBNMissle_A2E.NBNMissle_A2E
      AnimationMode     = MANUAL
      Flags             = START_FRAME_LAST PRISTINE_BONE_POS_IN_FINAL_FRAME
      WeaponLaunchBone  = PRIMARY RockPos
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
      ParticleSysBone   = Steam01 BigMissileSteam
      ParticleSysBone   = Steam02 BigMissileSteam
    End   
    ConditionState      = DOOR_1_WAITING_TO_CLOSE REALLYDAMAGED RUBBLE 
      Model             = NBNMissle_A3E
      Animation         = NBNMissle_A3E.NBNMissle_A3E
      AnimationMode     = MANUAL
      Flags             = START_FRAME_FIRST
      WeaponLaunchBone  = PRIMARY RockPos
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
    End   
    ConditionState      = DOOR_1_CLOSING REALLYDAMAGED RUBBLE 
      Model             = NBNMissle_A3E
      Animation         = NBNMissle_A3E.NBNMissle_A3E
      AnimationMode     = ONCE
      Flags             = MAINTAIN_FRAME_ACROSS_STATES2
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
    End   

    ; night
    ConditionState      = NIGHT
      Model             = NBNMissle_N
    End
    ConditionState      = DAMAGED NIGHT
      Model             = NBNMissle_DN
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
    End
     ConditionState     = REALLYDAMAGED RUBBLE NIGHT
      Model             = NBNMissle_EN
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
    End
    ConditionState      = AWAITING_CONSTRUCTION NIGHT
      Model             = None
    End
    ConditionState      = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
      Model             = NBNMissle_N
      Flags             = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    END       
    ConditionState      = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
      Model             = NBNMissle_DN
      Flags             = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    END       
    ConditionState      = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
      Model             = NBNMissle_EN
      Flags             = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    END       
    ConditionState      = DOOR_1_OPENING NIGHT
      Model             = NBNMissle_A2N
      Animation         = NBNMissle_A2N.NBNMissle_A2N
      AnimationMode     = ONCE
      Flags             = MAINTAIN_FRAME_ACROSS_STATES
    End   
    ConditionState      = DOOR_1_WAITING_OPEN NIGHT
      Model             = NBNMissle_A2N
      Animation         = NBNMissle_A2N.NBNMissle_A2N
      AnimationMode     = MANUAL
      Flags             = START_FRAME_LAST PRISTINE_BONE_POS_IN_FINAL_FRAME
      WeaponLaunchBone  = PRIMARY RockPos
      ParticleSysBone   = Steam01 BigMissileSteam
      ParticleSysBone   = Steam02 BigMissileSteam
    End   
    ConditionState      = DOOR_1_WAITING_TO_CLOSE NIGHT
      Model             = NBNMissle_A3N
      Animation         = NBNMissle_A3N.NBNMissle_A3N
      AnimationMode     = MANUAL
      Flags             = START_FRAME_FIRST
      WeaponLaunchBone  = PRIMARY RockPos
    End   
    ConditionState      = DOOR_1_CLOSING NIGHT
      Model             = NBNMissle_A3N
      Animation         = NBNMissle_A3N.NBNMissle_A3N
      AnimationMode     = ONCE
      Flags             = MAINTAIN_FRAME_ACROSS_STATES2
    End   
    ConditionState      = DOOR_1_OPENING DAMAGED NIGHT
      Model             = NBNMissle_A2DN
      Animation         = NBNMissle_A2DN.NBNMissle_A2DN
      AnimationMode     = ONCE
      Flags             = MAINTAIN_FRAME_ACROSS_STATES
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
      ParticleSysBone   = Steam01 BigMissileSteam
      ParticleSysBone   = Steam02 BigMissileSteam
    End   
    ConditionState      = DOOR_1_WAITING_OPEN DAMAGED NIGHT
      Model             = NBNMissle_A2DN
      Animation         = NBNMissle_A2DN.NBNMissle_A2DN
      AnimationMode     = MANUAL
      Flags             = START_FRAME_LAST PRISTINE_BONE_POS_IN_FINAL_FRAME
      WeaponLaunchBone  = PRIMARY RockPos
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
      ParticleSysBone   = Steam01 BigMissileSteam
      ParticleSysBone   = Steam02 BigMissileSteam
    End   
    ConditionState      = DOOR_1_WAITING_TO_CLOSE DAMAGED NIGHT
      Model             = NBNMissle_A3DN
      Animation         = NBNMissle_A3DN.NBNMissle_A3DN
      AnimationMode     = MANUAL
      Flags             = START_FRAME_FIRST
      WeaponLaunchBone  = PRIMARY RockPos
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
    End   
    ConditionState      = DOOR_1_CLOSING DAMAGED NIGHT
      Model             = NBNMissle_A3DN
      Animation         = NBNMissle_A3DN.NBNMissle_A3DN
      AnimationMode     = ONCE
      Flags             = MAINTAIN_FRAME_ACROSS_STATES2
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
    End   
    ConditionState      = DOOR_1_OPENING REALLYDAMAGED RUBBLE NIGHT
      Model             = NBNMissle_A2EN
      Animation         = NBNMissle_A2EN.NBNMissle_A2EN
      AnimationMode     = ONCE
      Flags             = MAINTAIN_FRAME_ACROSS_STATES
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
      ParticleSysBone   = Steam01 BigMissileSteam
      ParticleSysBone   = Steam02 BigMissileSteam
    End   
    ConditionState      = DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE NIGHT
      Model             = NBNMissle_A2EN
      Animation         = NBNMissle_A2EN.NBNMissle_A2EN
      AnimationMode     = MANUAL
      Flags             = START_FRAME_LAST PRISTINE_BONE_POS_IN_FINAL_FRAME
      WeaponLaunchBone  = PRIMARY RockPos
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
      ParticleSysBone   = Steam01 BigMissileSteam
      ParticleSysBone   = Steam02 BigMissileSteam
    End   
    ConditionState      = DOOR_1_WAITING_TO_CLOSE REALLYDAMAGED RUBBLE NIGHT
      Model             = NBNMissle_A3EN
      Animation         = NBNMissle_A3EN.NBNMissle_A3EN
      AnimationMode     = MANUAL
      Flags             = START_FRAME_FIRST
      WeaponLaunchBone  = PRIMARY RockPos
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
    End   
    ConditionState      = DOOR_1_CLOSING REALLYDAMAGED RUBBLE NIGHT
      Model             = NBNMissle_A3EN
      Animation         = NBNMissle_A3EN.NBNMissle_A3EN
      AnimationMode     = ONCE
      Flags             = MAINTAIN_FRAME_ACROSS_STATES2
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
    End   
    
    ;-------------- SNOW! --------------------
    
        ConditionState      = SNOW
      Model             = NBNMissle_S
    End
    
    ConditionState      = DAMAGED SNOW
      Model             = NBNMissle_DS
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
    End
     ConditionState     = REALLYDAMAGED RUBBLE SNOW
      Model             = NBNMissle_ES
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
    End 
    ConditionState      = AWAITING_CONSTRUCTION SNOW
      Model             = None
    End
    ConditionState      = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model             = NBNMissle_S
      Flags             = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    END   
    ConditionState      = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
      Model             = NBNMissle_DS
      Flags             = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    END   
    ConditionState      = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
      Model             = NBNMissle_ES
      Flags             = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    END   
    ConditionState      = DOOR_1_OPENING SNOW
      Model             = NBNMissle_A2S
      Animation         = NBNMissle_A2S.NBNMissle_A2S
      AnimationMode     = ONCE
      Flags             = MAINTAIN_FRAME_ACROSS_STATES
    End   
    ConditionState      = DOOR_1_WAITING_OPEN SNOW
      Model             = NBNMissle_A2S
      Animation         = NBNMissle_A2S.NBNMissle_A2S
      AnimationMode     = MANUAL
      Flags             = START_FRAME_LAST PRISTINE_BONE_POS_IN_FINAL_FRAME
      WeaponLaunchBone  = PRIMARY RockPos
      ParticleSysBone   = Steam01 BigMissileSteam
      ParticleSysBone   = Steam02 BigMissileSteam
    End   
    ConditionState      = DOOR_1_WAITING_TO_CLOSE SNOW
      Model             = NBNMissle_A3S
      Animation         = NBNMissle_A3S.NBNMissle_A3S
      AnimationMode     = MANUAL
      Flags             = START_FRAME_FIRST
      WeaponLaunchBone  = PRIMARY RockPos
    End   
    ConditionState      = DOOR_1_CLOSING SNOW
      Model             = NBNMissle_A3S
      Animation         = NBNMissle_A3S.NBNMissle_A3S
      AnimationMode     = ONCE
      Flags             = MAINTAIN_FRAME_ACROSS_STATES2
    End   
    ConditionState      = DOOR_1_OPENING DAMAGED SNOW
      Model             = NBNMissle_A2DS
      Animation         = NBNMissle_A2DS.NBNMissle_A2DS
      AnimationMode     = ONCE
      Flags             = MAINTAIN_FRAME_ACROSS_STATES
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
      ParticleSysBone   = Steam01 BigMissileSteam
      ParticleSysBone   = Steam02 BigMissileSteam
    End   
    ConditionState      = DOOR_1_WAITING_OPEN DAMAGED SNOW
      Model             = NBNMissle_A2DS
      Animation         = NBNMissle_A2DS.NBNMissle_A2DS
      AnimationMode     = MANUAL
      Flags             = START_FRAME_LAST PRISTINE_BONE_POS_IN_FINAL_FRAME
      WeaponLaunchBone  = PRIMARY RockPos
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
      ParticleSysBone   = Steam01 BigMissileSteam
      ParticleSysBone   = Steam02 BigMissileSteam
    End   
    ConditionState      = DOOR_1_WAITING_TO_CLOSE DAMAGED SNOW
      Model             = NBNMissle_A3DS
      Animation         = NBNMissle_A3DS.NBNMissle_A3DS
      AnimationMode     = MANUAL
      Flags             = START_FRAME_FIRST
      WeaponLaunchBone  = PRIMARY RockPos
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
    End   
    ConditionState      = DOOR_1_CLOSING DAMAGED SNOW
      Model             = NBNMissle_A3DS
      Animation         = NBNMissle_A3DS.NBNMissle_A3DS
      AnimationMode     = ONCE
      Flags             = MAINTAIN_FRAME_ACROSS_STATES2
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
    End   
    ConditionState      = DOOR_1_OPENING REALLYDAMAGED RUBBLE SNOW
      Model             = NBNMissle_A2ES
      Animation         = NBNMissle_A2ES.NBNMissle_A2ES
      AnimationMode     = ONCE
      Flags             = MAINTAIN_FRAME_ACROSS_STATES
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
      ParticleSysBone   = Steam01 BigMissileSteam
      ParticleSysBone   = Steam02 BigMissileSteam
    End   
    ConditionState      = DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE SNOW
      Model             = NBNMissle_A2ES
      Animation         = NBNMissle_A2ES.NBNMissle_A2ES
      AnimationMode     = MANUAL
      Flags             = START_FRAME_LAST PRISTINE_BONE_POS_IN_FINAL_FRAME
      WeaponLaunchBone  = PRIMARY RockPos
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
      ParticleSysBone   = Steam01 BigMissileSteam
      ParticleSysBone   = Steam02 BigMissileSteam
    End   
    ConditionState      = DOOR_1_WAITING_TO_CLOSE REALLYDAMAGED RUBBLE SNOW
      Model             = NBNMissle_A3ES
      Animation         = NBNMissle_A3ES.NBNMissle_A3ES
      AnimationMode     = MANUAL
      Flags             = START_FRAME_FIRST
      WeaponLaunchBone  = PRIMARY RockPos
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
    End   
    ConditionState      = DOOR_1_CLOSING REALLYDAMAGED RUBBLE SNOW
      Model             = NBNMissle_A3ES
      Animation         = NBNMissle_A3ES.NBNMissle_A3ES
      AnimationMode     = ONCE
      Flags             = MAINTAIN_FRAME_ACROSS_STATES2
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
    End   

    ; night
    ConditionState      = NIGHT SNOW
      Model             = NBNMissle_NS
    End
    ConditionState      = DAMAGED NIGHT SNOW
      Model             = NBNMissle_DNS
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
    End
     ConditionState     = REALLYDAMAGED RUBBLE NIGHT SNOW
      Model             = NBNMissle_ENS
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
    End
    ConditionState      = AWAITING_CONSTRUCTION NIGHT SNOW
      Model             = None
    End
    ConditionState      = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
      Model             = NBNMissle_NS
      Flags             = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    END       
    ConditionState      = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
      Model             = NBNMissle_DNS
      Flags             = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    END       
    ConditionState      = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
      Model             = NBNMissle_ENS
      Flags             = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    END       
    ConditionState      = DOOR_1_OPENING NIGHT SNOW
      Model             = NBNMissle_A2NS
      Animation         = NBNMissle_A2NS.NBNMissle_A2NS
      AnimationMode     = ONCE
      Flags             = MAINTAIN_FRAME_ACROSS_STATES
    End   
    ConditionState      = DOOR_1_WAITING_OPEN NIGHT SNOW
      Model             = NBNMissle_A2NS
      Animation         = NBNMissle_A2NS.NBNMissle_A2NS
      AnimationMode     = MANUAL
      Flags             = START_FRAME_LAST PRISTINE_BONE_POS_IN_FINAL_FRAME
      WeaponLaunchBone  = PRIMARY RockPos
      ParticleSysBone   = Steam01 BigMissileSteam
      ParticleSysBone   = Steam02 BigMissileSteam
    End   
    ConditionState      = DOOR_1_WAITING_TO_CLOSE NIGHT SNOW
      Model             = NBNMissle_A3NS
      Animation         = NBNMissle_A3NS.NBNMissle_A3NS
      AnimationMode     = MANUAL
      Flags             = START_FRAME_FIRST
      WeaponLaunchBone  = PRIMARY RockPos
    End   
    ConditionState      = DOOR_1_CLOSING NIGHT SNOW
      Model             = NBNMissle_A3NS
      Animation         = NBNMissle_A3NS.NBNMissle_A3NS
      AnimationMode     = ONCE
      Flags             = MAINTAIN_FRAME_ACROSS_STATES2
    End   
    ConditionState      = DOOR_1_OPENING DAMAGED NIGHT SNOW
      Model             = NBNMissle_A2DNS
      Animation         = NBNMissle_A2DNS.NBNMissle_A2DNS
      AnimationMode     = ONCE
      Flags             = MAINTAIN_FRAME_ACROSS_STATES
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
      ParticleSysBone   = Steam01 BigMissileSteam
      ParticleSysBone   = Steam02 BigMissileSteam
    End   
    ConditionState      = DOOR_1_WAITING_OPEN DAMAGED NIGHT SNOW
      Model             = NBNMissle_A2DNS
      Animation         = NBNMissle_A2DNS.NBNMissle_A2DNS
      AnimationMode     = MANUAL
      Flags             = START_FRAME_LAST PRISTINE_BONE_POS_IN_FINAL_FRAME
      WeaponLaunchBone  = PRIMARY RockPos
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
      ParticleSysBone   = Steam01 BigMissileSteam
      ParticleSysBone   = Steam02 BigMissileSteam
    End   
    ConditionState      = DOOR_1_WAITING_TO_CLOSE DAMAGED NIGHT SNOW
      Model             = NBNMissle_A3DNS
      Animation         = NBNMissle_A3DNS.NBNMissle_A3DNS
      AnimationMode     = MANUAL
      Flags             = START_FRAME_FIRST
      WeaponLaunchBone  = PRIMARY RockPos
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
    End   
    ConditionState      = DOOR_1_CLOSING DAMAGED NIGHT SNOW
      Model             = NBNMissle_A3DNS
      Animation         = NBNMissle_A3DNS.NBNMissle_A3DNS
      AnimationMode     = ONCE
      Flags             = MAINTAIN_FRAME_ACROSS_STATES2
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
    End   
    ConditionState      = DOOR_1_OPENING REALLYDAMAGED RUBBLE NIGHT SNOW
      Model             = NBNMissle_A2ENS
      Animation         = NBNMissle_A2ENS.NBNMissle_A2ENS
      AnimationMode     = ONCE
      Flags             = MAINTAIN_FRAME_ACROSS_STATES
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
      ParticleSysBone   = Steam01 BigMissileSteam
      ParticleSysBone   = Steam02 BigMissileSteam
    End   
    ConditionState      = DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE NIGHT SNOW
      Model             = NBNMissle_A2ENS
      Animation         = NBNMissle_A2ENS.NBNMissle_A2ENS
      AnimationMode     = MANUAL
      Flags             = START_FRAME_LAST PRISTINE_BONE_POS_IN_FINAL_FRAME
      WeaponLaunchBone  = PRIMARY RockPos
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
      ParticleSysBone   = Steam01 BigMissileSteam
      ParticleSysBone   = Steam02 BigMissileSteam
    End   
    ConditionState      = DOOR_1_WAITING_TO_CLOSE REALLYDAMAGED RUBBLE NIGHT SNOW
      Model             = NBNMissle_A3ENS
      Animation         = NBNMissle_A3ENS.NBNMissle_A3ENS
      AnimationMode     = MANUAL
      Flags             = START_FRAME_FIRST
      WeaponLaunchBone  = PRIMARY RockPos
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
    End   
    ConditionState      = DOOR_1_CLOSING REALLYDAMAGED RUBBLE NIGHT SNOW
      Model             = NBNMissle_A3ENS
      Animation         = NBNMissle_A3ENS.NBNMissle_A3ENSS
      AnimationMode     = ONCE
      Flags             = MAINTAIN_FRAME_ACROSS_STATES2
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
    End     
  End

  ; ------------ construction-zone fence -----------------
  Draw = W3DModelDraw ModuleTag_02
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = NBNMissle_A4
      Animation       = NBNMissle_A4.NBNMissle_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
    End
    ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = NBNMissle_A4N
      Animation       = NBNMissle_A4N.NBNMissle_A4N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
    End
    ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = NBNMissle_A4S
      Animation       = NBNMissle_A4S.NBNMissle_A4S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
    End
    ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = NBNMissle_A4SN
      Animation       = NBNMissle_A4SN.NBNMissle_A4SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = NBNMissle_A4
      Animation       = NBNMissle_A4.NBNMissle_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = NBNMissle_A4N
      Animation       = NBNMissle_A4N.NBNMissle_A4N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = NBNMissle_A4S
      Animation       = NBNMissle_A4S.NBNMissle_A4S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = NBNMissle_A4SN
      Animation       = NBNMissle_A4SN.NBNMissle_A4SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = NBNMissle_A4
      Animation       = NBNMissle_A4.NBNMissle_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = NBNMissle_A4N
      Animation       = NBNMissle_A4N.NBNMissle_A4N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = NBNMissle_A4S
      Animation       = NBNMissle_A4S.NBNMissle_A4S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = NBNMissle_A4SN
      Animation       = NBNMissle_A4SN.NBNMissle_A4SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ under-construction scaffolding -----------------
  Draw = W3DModelDraw ModuleTag_03
  AnimationsRequirePower = No
    MinLODRequired = MEDIUM
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = NBNMissle_A6
      Animation       = NBNMissle_A6.NBNMissle_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Dust01 BuildingDustChina
      ParticleSysBone = Smoke01 BuildUpSmokeChina
      ParticleSysBone = Smoke02 BuildUpSmokeChina
      ParticleSysBone = Smoke03 BuildUpSmokeChina
      ParticleSysBone = Smoke04 BuildUpSmokeChina
      ParticleSysBone = Smoke05 BuildUpSmokeChina
    End
    ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      Model           = NBNMissle_A6N
      Animation       = NBNMissle_A6N.NBNMissle_A6N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = Dust01 BuildingDustChina
      ParticleSysBone = Smoke01 BuildUpSmokeChina
      ParticleSysBone = Smoke02 BuildUpSmokeChina
      ParticleSysBone = Smoke03 BuildUpSmokeChina
      ParticleSysBone = Smoke04 BuildUpSmokeChina
      ParticleSysBone = Smoke05 BuildUpSmokeChina
    End
    ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      Model           = NBNMissle_A6S
      Animation       = NBNMissle_A6S.NBNMissle_A6S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = Dust01 BuildingSnowDust
      ParticleSysBone = Smoke01 BuildUpSnowSmoke
      ParticleSysBone = Smoke02 BuildUpSnowSmoke
      ParticleSysBone = Smoke03 BuildUpSnowSmoke
      ParticleSysBone = Smoke04 BuildUpSnowSmoke
      ParticleSysBone = Smoke05 BuildUpSnowSmoke
    End
    ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      Model           = NBNMissle_A6SN
      Animation       = NBNMissle_A6SN.NBNMissle_A6SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = Dust01 BuildingSnowDust
      ParticleSysBone = Smoke01 BuildUpSnowSmoke
      ParticleSysBone = Smoke02 BuildUpSnowSmoke
      ParticleSysBone = Smoke03 BuildUpSnowSmoke
      ParticleSysBone = Smoke04 BuildUpSnowSmoke
      ParticleSysBone = Smoke05 BuildUpSnowSmoke
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = NBNMissle_A6
      Animation       = NBNMissle_A6.NBNMissle_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = NBNMissle_A6N
      Animation       = NBNMissle_A6N.NBNMissle_A6N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = NBNMissle_A6S
      Animation       = NBNMissle_A6S.NBNMissle_A6S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = NBNMissle_A6SN
      Animation       = NBNMissle_A6SN.NBNMissle_A6SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End 
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model            = NBNMissle_A6
      Animation       = NBNMissle_A6.NBNMissle_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model            = NBNMissle_A6N
      Animation       = NBNMissle_A6N.NBNMissle_A6N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model            = NBNMissle_A6S
      Animation       = NBNMissle_A6S.NBNMissle_A6S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model            = NBNMissle_A6SN
      Animation       = NBNMissle_A6SN.NBNMissle_A6SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ being-constructed crane -----------------
  Draw = W3DModelDraw ModuleTag_04
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SOLD
      Model           = NONE
    End

    ConditionState  = ACTIVELY_BEING_CONSTRUCTED
      Model         = NBNMissle_A5
      Animation     = NBNMissle_A5.NBNMissle_A5
      AnimationMode = LOOP
      TransitionKey = UP_DAY
    End

    ConditionState  = NIGHT ACTIVELY_BEING_CONSTRUCTED
      Model         = NBNMissle_A5N
      Animation     = NBNMissle_A5N.NBNMissle_A5N
      AnimationMode = LOOP
      TransitionKey = UP_NIGHT
    End
    ConditionState  = SNOW ACTIVELY_BEING_CONSTRUCTED
      Model         = NBNMissle_A5S
      Animation     = NBNMissle_A5S.NBNMissle_A5S
      AnimationMode = LOOP
      TransitionKey = UP_SNOW
    End
    ConditionState  = SNOW NIGHT ACTIVELY_BEING_CONSTRUCTED
      Model         = NBNMissle_A5SN
      Animation     = NBNMissle_A5SN.NBNMissle_A5SN
      AnimationMode = LOOP
      TransitionKey = UP_SNOWNIGHT
    End
    TransitionState = DOWN_DEFAULT UP_DAY
      Model         = NBNMissle_AB
      Animation     = NBNMissle_AB.NBNMissle_AB
      AnimationMode = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags         = START_FRAME_FIRST
    End

    TransitionState = DOWN_DEFAULT UP_NIGHT
      Model         = NBNMissle_ABN
      Animation     = NBNMissle_ABN.NBNMissle_ABN
      AnimationMode = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags         = START_FRAME_FIRST
    End
    TransitionState = DOWN_DEFAULT UP_SNOW
      Model         = NBNMissle_ABS
      Animation     = NBNMissle_ABS.NBNMissle_ABS
      AnimationMode = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags         = START_FRAME_FIRST
    End
    TransitionState = DOWN_DEFAULT UP_SNOWNIGHT
      Model         = NBNMissle_ABSN
      Animation     = NBNMissle_ABSN.NBNMissle_ABSN
      AnimationMode = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags         = START_FRAME_FIRST
    End
    TransitionState = UP_DAY DOWN_DEFAULT
      Model         = NBNMissle_AB
      Animation     = NBNMissle_AB.NBNMissle_AB
      AnimationMode = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags         = START_FRAME_LAST
    End
    TransitionState = UP_NIGHT DOWN_DEFAULT
      Model         = NBNMissle_ABN
      Animation     = NBNMissle_ABN.NBNMissle_ABN
      AnimationMode = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags         = START_FRAME_LAST
    End
    TransitionState = UP_SNOW DOWN_DEFAULT
      Model         = NBNMissle_ABS
      Animation     = NBNMissle_ABS.NBNMissle_ABS
      AnimationMode = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags         = START_FRAME_LAST
    End
    TransitionState = UP_SNOWNIGHT DOWN_DEFAULT
      Model         = NBNMissle_ABSN
      Animation     = NBNMissle_ABSN.NBNMissle_ABSN
      AnimationMode = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags         = START_FRAME_LAST
    End 
  End

  ; Blinking lights
  Draw = W3DModelDraw ModuleTag_05
    OkToChangeModelColor = Yes
    ; day
    ConditionState    = NONE
      Model           = NBNMissle_AC
      Animation       = NONE
    End
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = NBNMissle_AC
      Flags           = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState    = AWAITING_CONSTRUCTION
      Model           = NONE
    End
    ConditionState    = DOOR_1_OPENING
      Model           = NBNMissle_AC
      Animation       = NBNMissle_AC.NBNMissle_AC
      AnimationMode   = LOOP
      Flags           = START_FRAME_FIRST
    End   
    ConditionState    = DOOR_1_WAITING_OPEN
      Model           = NBNMissle_AC
      Animation       = NBNMissle_AC.NBNMissle_AC
      AnimationMode   = LOOP
      Flags           = START_FRAME_LAST
    End
    ConditionState    = DOOR_1_WAITING_TO_CLOSE
      Model           = NBNMissle_AC
      Animation       = NBNMissle_AC.NBNMissle_AC
      AnimationMode   = LOOP
      Flags           = START_FRAME_FIRST
      ;WeaponLaunchBone = PRIMARY RockPos
    End   
    ConditionState    = DOOR_1_CLOSING
      Model           = NBNMissle_AC
      Animation       = NBNMissle_AC.NBNMissle_AC
      AnimationMode   = LOOP
      Flags           = START_FRAME_FIRST
    End
  End

  PlacementViewAngle = -135

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:IonMissile
  Side = Boss
  EditorSorting    = STRUCTURE
  Prerequisites
    Object = Boss_TechCentr
  End
  BuildCost        = 5000
  BuildTime        = 60.0            ; in seconds
  EnergyProduction = -10
  VisionRange      = 200.0           ; Shroud clearing distance
  ShroudClearingRange = 200
  ShroudRevealToAllRange = 60  ; Reveals shroud to all players at a specific amount which can be different. 
                               ; Using same value? Then use KINDOF_REVEAL_TO_ALL instead!
  CommandSet       = Boss_ChinaNuclearMissileCommandSet
  ArmorSet
    Conditions      = None
    Armor           = StructureArmorTough
    DamageFX        = StructureDamageFXNoShake
  End
  ExperienceValue     = 400 400 400 400  ; Experience point value at each level
  MaxSimultaneousOfType = DeterminedBySuperweaponRestriction ; Normally unlimited, but can be selected by players in multiplayer games
  MaxSimultaneousLinkKey = Superweapon  ; Count all superweapons **AND THE GLA SCUD STORM REBUILD HOLE** as one "type" for MaxSimultaneousOfType

  ; *** AUDIO Parameters ***
  VoiceSelect = NuclearMissileSelect
  SoundOnDamaged        = BuildingDamagedStateLight
  SoundOnReallyDamaged  = BuildingDestroy

  UnitSpecificSounds
    UnderConstruction     = UnderConstructionLoop
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority   = STRUCTURE
  KindOf          = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE CAPTURABLE FS_TECHNOLOGY POWERED MP_COUNT_FOR_VICTORY FS_SUPERWEAPON
  Body            = StructureBody ModuleTag_06
    MaxHealth       = 4000.0
    InitialHealth   = 4000.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 4200
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
  End

  Behavior    = OCLSpecialPower ModuleTag_07
    SpecialPowerTemplate = SuperweaponIonMissile
    OCL                  = SUPERWEAPON_IonMissile
  End
  Behavior = SpecialPowerCreate ModuleTag_08
    ;nothing
  End
  Behavior = MissileLauncherBuildingUpdate ModuleTag_09
    SpecialPowerTemplate = SuperweaponIonMissile
    DoorOpenTime         = 8000
    DoorWaitOpenTime     = 2000
    DoorCloseTime        = 8000

    ; FXLists to play at transitions:
    DoorOpeningFX        = ChinaNuclearMissileLauncherDoorOpen
    ;DoorOpenFX           = FX_ABPowerPlantExplode
    DoorWaitingToCloseFX = ChinaNuclearMissileLauncherLaunch
    ;DoorClosingFX        = FX_ABPowerPlantExplode
    ;DoorClosedFX         = FX_ABPowerPlantExplode

    ; looping sound to play while open:
    DoorOpenIdleAudio = BuildingNeutronMissileHiss
  End

  Behavior = ProductionUpdate ModuleTag_10
    DisabledTypesToProcess = DISABLED_HELD DISABLED_UNDERPOWERED
  End

  Behavior = DestroyDie ModuleTag_11
    ;Nothing
  End

  Behavior = FireWeaponWhenDeadBehavior ModuleTag_12
    DeathWeapon = ChinaPowerPlantDeathWeapon
    StartsActive  = Yes
  End

  Behavior = GenerateMinefieldBehavior     ModuleTag_13
    TriggeredBy           = Upgrade_ChinaMines
    MineName              = ChinaStandardMine
    SmartBorder           = Yes
    AlwaysCircular        = Yes

    Upgradable            = Yes
    UpgradedTriggeredBy   = Upgrade_ChinaEMPMines
    UpgradedMineName      = ChinaEMPMine
  End

  Behavior = BaseRegenerateUpdate ModuleTag_1301
    ;No data
  End 

  Behavior             = CreateObjectDie ModuleTag_16112
    CreationList  = OCL_AmericanRangerDebris06
    ExemptStatus  = UNDER_CONSTRUCTION
  End

  Behavior = FlammableUpdate ModuleTag_14
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 5       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = TransitionDamageFX ModuleTag_15
    ;-------------DESIGNED FOR MEDIUM SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionMediumExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionMediumShockwave
  End
  
  Behavior             = CreateObjectDie ModuleTag_20
    CreationList  = OCL_LargeStructureDebris
  End
  
  Behavior        = FXListDie ModuleTag_21
    ExemptStatus  = UNDER_CONSTRUCTION
    DeathFX       = FX_NukeGLA
  End

  Behavior = CommandSetUpgrade ModuleTag_25
    CommandSet = Boss_ChinaNuclearMissileCommandSetUpgrade
    TriggeredBy = Upgrade_ChinaMines
  End
  
  
  Geometry            = BOX
  GeometryMajorRadius = 45.0
  GeometryMinorRadius = 55.0
  GeometryHeight      = 64.0
  GeometryIsSmall     = No
  Shadow          = SHADOW_VOLUME
  BuildCompletion = PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
Object Boss_SpeakerTower

  ; *** ART Parameters ***
  SelectPortrait         = SNPropSpeaker_L
  ButtonImage            = SNPropSpeaker
  UpgradeCameo1 =  Upgrade_ChinaSubliminalMessaging
  Draw                   = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes

    ; day
    ConditionState = NONE
      Model         = NBPTower
      Animation     = NBPTower.NBPTower
      AnimationMode = LOOP
    End
    ConditionState = DAMAGED
      Model         = NBPTower_D
      Animation     = NBPTower_D.NBPTower_D
      AnimationMode = LOOP
      ParticleSysBone = Smoke01 SmolderingSmoke
    End
    ConditionState = REALLYDAMAGED RUBBLE
      Model         = NBPTower_E
      Animation     = NBPTower_E.NBPTower_E
      AnimationMode = LOOP
      ParticleSysBone = Smoke01 SmolderingSmoke
      ParticleSysBone = Smoke02 SmolderingSmoke
      ParticleSysBone = Flame01 SmolderingFire
      ParticleSysBone = Flame01 SmolderingFlameCore
      ParticleSysBone = Spark01 LiveWireSparks
    End
    
    ; day Snow
    ConditionState  =  SNOW
      Model         = NBPTower_S
      Animation     = NBPTower_S.NBPTower_S
      AnimationMode = LOOP
    End
    ConditionState  = DAMAGED SNOW
      Model         = NBPTower_DS
      Animation     = NBPTower_DS.NBPTower_DS
      AnimationMode = LOOP
      ParticleSysBone = Smoke01 SmolderingSmoke
    End
    ConditionState  = REALLYDAMAGED RUBBLE SNOW
      Model         = NBPTower_ES
      Animation     = NBPTower_ES.NBPTower_ES
      AnimationMode = LOOP
      ParticleSysBone = Smoke01 SmolderingSmoke
      ParticleSysBone = Smoke02 SmolderingSmoke
      ParticleSysBone = Flame01 SmolderingFire
      ParticleSysBone = Flame01 SmolderingFlameCore
      ParticleSysBone = Spark01 LiveWireSparks
    End

    ; night
    ConditionState = NIGHT
      Model         = NBPTower_N
      Animation     = NBPTower_N.NBPTower_N
      AnimationMode = LOOP
    End 
    ConditionState = NIGHT DAMAGED
      Model         = NBPTower_DN
      Animation     = NBPTower_DN.NBPTower_DN
      AnimationMode = LOOP
    End
    ConditionState = NIGHT REALLYDAMAGED RUBBLE
      Model         = NBPTower_EN
      Animation     = NBPTower_EN.NBPTower_EN
      AnimationMode = LOOP
    End

    
    ;Snow Night
    
    ConditionState = NIGHT SNOW
      Model         = NBPTower_NS
      Animation     = NBPTower_NS.NBPTower_NS
      AnimationMode = LOOP
    End 
    
    ConditionState = NIGHT SNOW DAMAGED
      Model         = NBPTower_DNS
      Animation     = NBPTower_DNS.NBPTower_DNS
      AnimationMode = LOOP
    End 
    
    ConditionState = NIGHT SNOW REALLYDAMAGED RUBBLE
      Model         = NBPTower_ENS
      Animation     = NBPTower_ENS.NBPTower_ENS
      AnimationMode = LOOP
    End 
    
    ;**************************************************************************************************************************
    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ;for this draw module
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = NBPTower
      Animation          = NBPTower.NBPTower
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = NBPTower_D
      Animation          = NBPTower_D.NBPTower_D
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = NBPTower_E
      Animation          = NBPTower_E.NBPTower_E
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
      Model              = NBPTower_N
      Animation          = NBPTower_N.NBPTower_N
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
      Model              = NBPTower_DN
      Animation          = NBPTower_DN.NBPTower_DN
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
      Model              = NBPTower_EN
      Animation          = NBPTower_EN.NBPTower_EN
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model              = NBPTower_S
      Animation          = NBPTower_S.NBPTower_S
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
      Model              = NBPTower_DS
      Animation          = NBPTower_DS.NBPTower_DS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
      Model              = NBPTower_ES
      Animation          = NBPTower_ES.NBPTower_ES
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
      Model              = NBPTower_NS
      Animation          = NBPTower_NS.NBPTower_NS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
      Model              = NBPTower_DNS
      Animation          = NBPTower_DNS.NBPTower_DNS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
      Model              = NBPTower_ENS
      Animation          = NBPTower_ENS.NBPTower_ENS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End

    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    ;**************************************************************************************************************************   

    
  End   
    
  ; ------------ construction-zone fence -----------------
  Draw = W3DModelDraw ModuleTag_02
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = NBPTower_A4
      Animation       = NBPTower_A4.NBPTower_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
    End
    ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = NBPTower_A4N
      Animation       = NBPTower_A4N.NBPTower_A4N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
    End
    ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = NBPTower_A4S
      Animation       = NBPTower_A4S.NBPTower_A4S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
    End
    ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = NBPTower_A4SN
      Animation       = NBPTower_A4SN.NBPTower_A4SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = NBPTower_A4
      Animation       = NBPTower_A4.NBPTower_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = NBPTower_A4N
      Animation       = NBPTower_A4N.NBPTower_A4N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = NBPTower_A4S
      Animation       = NBPTower_A4S.NBPTower_A4S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = NBPTower_A4SN
      Animation       = NBPTower_A4SN.NBPTower_A4SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = NBPTower_A4
      Animation       = NBPTower_A4.NBPTower_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = NBPTower_A4N
      Animation       = NBPTower_A4N.NBPTower_A4N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = NBPTower_A4S
      Animation       = NBPTower_A4S.NBPTower_A4S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = NBPTower_A4SN
      Animation       = NBPTower_A4SN.NBPTower_A4SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ under-construction scaffolding -----------------
  Draw = W3DModelDraw ModuleTag_03
  AnimationsRequirePower = No
    MinLODRequired = MEDIUM
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = NBPTower_A6
      Animation       = NBPTower_A6.NBPTower_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
    End
    ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      Model           = NBPTower_A6N
      Animation       = NBPTower_A6N.NBPTower_A6N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
    End
    ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      Model           = NBPTower_A6S
      Animation       = NBPTower_A6S.NBPTower_A6S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
    End
    ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      Model           = NBPTower_A6SN
      Animation       = NBPTower_A6SN.NBPTower_A6SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
     Model            = NBPTower_A6
      Animation       = NBPTower_A6.NBPTower_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
     Model            = NBPTower_A6N
      Animation       = NBPTower_A6N.NBPTower_A6N
      AnimationMode   = ONCE

      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
     Model            = NBPTower_A6S
      Animation       = NBPTower_A6S.NBPTower_A6S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
     Model            = NBPTower_A6SN
      Animation       = NBPTower_A6SN.NBPTower_A6SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = NBPTower_A6
      Animation       = NBPTower_A6.NBPTower_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = NBPTower_A6N
      Animation       = NBPTower_A6N.NBPTower_A6N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = NBPTower_A6S
      Animation       = NBPTower_A6S.NBPTower_A6S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = NBPTower_A6SN
      Animation       = NBPTower_A6SN.NBPTower_A6SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ being-constructed crane -----------------
  Draw = W3DModelDraw ModuleTag_04
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SOLD
      Model           = NONE
    End

    ConditionState    = ACTIVELY_BEING_CONSTRUCTED
      Model           = NBPTower_A5
      Animation       = NBPTower_A5.NBPTower_A5
      AnimationMode   = LOOP
      TransitionKey   = UP_DAY
    End

    ConditionState    = NIGHT ACTIVELY_BEING_CONSTRUCTED
      Model           = NBPTower_A5N
      Animation       = NBPTower_A5N.NBPTower_A5N
      AnimationMode   = LOOP
      TransitionKey   = UP_NIGHT
    End
    ConditionState    = SNOW ACTIVELY_BEING_CONSTRUCTED
      Model           = NBPTower_A5S
      Animation       = NBPTower_A5S.NBPTower_A5S
      AnimationMode   = LOOP
      TransitionKey   = UP_SNOW
    End
    ConditionState    = SNOW NIGHT ACTIVELY_BEING_CONSTRUCTED
      Model           = NBPTower_A5SN
      Animation       = NBPTower_A5SN.NBPTower_A5SN
      AnimationMode   = LOOP
      TransitionKey   = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = NBPTower_AB
      Animation       = NBPTower_AB.NBPTower_AB
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End

    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = NBPTower_ABN
      Animation       = NBPTower_ABN.NBPTower_ABN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = NBPTower_ABS
      Animation       = NBPTower_ABS.NBPTower_ABS
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = NBPTower_ABSN
      Animation       = NBPTower_ABSN.NBPTower_ABSN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = NBPTower_AB
      Animation       = NBPTower_AB.NBPTower_AB
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = NBPTower_ABN
      Animation       = NBPTower_ABN.NBPTower_ABN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = NBPTower_ABS
      Animation       = NBPTower_ABS.NBPTower_ABS
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = NBPTower_ABSN
      Animation       = NBPTower_ABSN.NBPTower_ABSN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End
  
  PlacementViewAngle     = -45

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:SpeakerTower
  Side                = Boss
  EditorSorting       = STRUCTURE
  BuildCost           = 500
  BuildTime           = 10.0           ; in seconds
  EnergyProduction    = -1
  VisionRange         = 200.0           ; Shroud clearing distance
  ShroudClearingRange = 200
  ArmorSet
    Conditions        = None
    Armor             = StructureArmor
    DamageFX          = StructureDamageFXNoShake
  End
  Prerequisites
    Object            = Boss_Airfield Boss_WarFactory
  End
  CommandSet          = ChinaSpeakerTowerCommandSet
  ExperienceValue     = 50 50 50 50  ; Experience point value at each level

  ; *** AUDIO Parameters ***
  VoiceSelect     = SpeakerTowerSelect
  SoundOnDamaged        = BuildingDamagedStateLight
  SoundOnReallyDamaged  = BuildingDestroy

  UnitSpecificSounds
    UnderConstruction     = UnderConstructionLoop
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority   = STRUCTURE
  KindOf          = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE FS_BASE_DEFENSE POWERED IMMUNE_TO_CAPTURE MP_COUNT_FOR_VICTORY

  Body            = StructureBody ModuleTag_05
    MaxHealth     = 300.0
    InitialHealth = 300.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 500
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
  End
  Behavior        = PropagandaTowerBehavior ModuleTag_06
    Radius                = 150.0
    DelayBetweenUpdates   = 2000 ; in milliseconds
    HealPercentEachSecond = 2%   ; get this % of max health every second 
    PulseFX               = FX_PropagandaTowerPropagandaPulse ;plays as often as DelayBetweenUpdates
    UpgradeRequired       = Upgrade_ChinaSubliminalMessaging
    UpgradedHealPercentEachSecond = 4%   ; get this % of max health every second 
    UpgradedPulseFX       = FX_PropagandaTowerSubliminalPulse ;plays as often as DelayBetweenUpdates
  End
  Behavior        = DestroyDie ModuleTag_07
    ;<NO DATA>
  End
  Behavior        = CreateObjectDie ModuleTag_08
    CreationList  = OCL_ABPowerPlantExplode
  End
  Behavior        = FXListDie ModuleTag_09
    DeathFX       = FX_StructureTinyDeath
  End
  Behavior        = ProductionUpdate ModuleTag_10
    ;<NO DATA> But is required if we have any Object-level Upgrades!
  End

  Behavior                = GenerateMinefieldBehavior ModuleTag_11
    TriggeredBy           = Upgrade_ChinaMines
    MineName              = ChinaStandardMine
    SmartBorder           = Yes
    AlwaysCircular        = Yes

    Upgradable            = Yes
    UpgradedTriggeredBy   = Upgrade_ChinaEMPMines
    UpgradedMineName      = ChinaEMPMine
  End

  Behavior             = FlammableUpdate ModuleTag_13
    AflameDuration     = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 5       ; taking this much damage...
    AflameDamageDelay  = 500       ; this often.
  End

  Behavior = TransitionDamageFX ModuleTag_14
    ;-------------DESIGNED FOR TINY SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionTinySmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionTinySmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionTinyExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionTinyShockwave
  End

  Behavior = CommandSetUpgrade ModuleTag_25
    CommandSet = ChinaSpeakerTowerCommandSetUpgrade
    TriggeredBy = Upgrade_ChinaMines
  End
  
  Behavior = BaseRegenerateUpdate ModuleTag_1301
    ;No data
  End 

  Geometry             = BOX
  GeometryMajorRadius  = 6.0
  GeometryMinorRadius  = 6.0
  GeometryHeight       = 51.0
  GeometryIsSmall      = No
  Shadow               = SHADOW_VOLUME
  BuildCompletion      = PLACED_BY_PLAYER

End

; -----------------------------------------------------------------------------
Object Boss_TunnelNetwork

  ; *** ART Parameters ***
  SelectPortrait         = Legin
  ButtonImage            = Legin

  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes
    
    DefaultConditionState
      Model             = BBUndTunn
      Turret            = TURRETEL01
      WeaponFireFXBone  = PRIMARY MUZZLE01
      WeaponMuzzleFlash = PRIMARY MUZZLE01
      WeaponFireFXBone  = SECONDARY MUZZLE01
      WeaponMuzzleFlash = SECONDARY MUZZLE01
    End
    ConditionState      = DAMAGED
      Model             = BBUndTunn_D
    End
    ConditionState      = REALLYDAMAGED RUBBLE
      Model             = BBUndTunn_E
      ParticleSysBone   = Steam01 SteamVent
    End
    
    
    ConditionState      = SNOW
      Model             = BBUndTunn_S
    End
    ConditionState      = DAMAGED SNOW
      Model             = BBUndTunn_DS
    End
    ConditionState      = REALLYDAMAGED RUBBLE SNOW
      Model             = BBUndTunn_ES
      ParticleSysBone   = Steam01 SteamVent
    End
    
    
    
    
    ConditionState      = NIGHT
      Model             = BBUndTunn
    End
    ConditionState      = DAMAGED NIGHT
      Model             = BBUndTunn_D
    End
    ConditionState      = REALLYDAMAGED RUBBLE NIGHT
      Model             = BBUndTunn_E
      ParticleSysBone   = Steam01 SteamVent
    End
    
    
    ConditionState      = SNOW NIGHT
      Model             = BBUndTunn_S
    End
    ConditionState      = DAMAGED SNOW NIGHT
      Model             = BBUndTunn_DS
    End
    ConditionState      = REALLYDAMAGED RUBBLE SNOW NIGHT
      Model             = BBUndTunn_ES
      ParticleSysBone   = Steam01 SteamVent
    End

    ;**************************************************************************************************************************
    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ;for this draw module
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = BBUndTunn
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = BBUndTunn_D
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = BBUndTunn_E
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
      Model              = BBUndTunn
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
      Model              = BBUndTunn_D
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
      Model              = BBUndTunn_E
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model              = BBUndTunn_S
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
      Model              = BBUndTunn_DS
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
      Model              = BBUndTunn_ES
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
      Model              = BBUndTunn_S
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
      Model              = BBUndTunn_DS
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
      Model              = BBUndTunn_ES
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End

    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    ;**************************************************************************************************************************
    
  End
  
  ; ------------ construction-zone fence -----------------
  Draw = W3DModelDraw ModuleTag_02
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = UBUndTunn_A4
      Animation       = UBUndTunn_A4.UBUndTunn_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
    End
    ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = UBUndTunn_A4N
      Animation       = UBUndTunn_A4N.UBUndTunn_A4N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
    End
    ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = UBUndTunn_A4S
      Animation       = UBUndTunn_A4S.UBUndTunn_A4S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
    End
    ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = UBUndTunn_A4SN
      Animation       = UBUndTunn_A4SN.UBUndTunn_A4SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = UBUndTunn_A4
      Animation       = UBUndTunn_A4.UBUndTunn_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = UBUndTunn_A4N
      Animation       = UBUndTunn_A4N.UBUndTunn_A4N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = UBUndTunn_A4S
      Animation       = UBUndTunn_A4S.UBUndTunn_A4S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = UBUndTunn_A4SN
      Animation       = UBUndTunn_A4SN.UBUndTunn_A4SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = UBUndTunn_A4
      Animation       = UBUndTunn_A4.UBUndTunn_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = UBUndTunn_A4N
      Animation       = UBUndTunn_A4N.UBUndTunn_A4N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = UBUndTunn_A4S
      Animation       = UBUndTunn_A4S.UBUndTunn_A4S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = UBUndTunn_A4SN
      Animation       = UBUndTunn_A4SN.UBUndTunn_A4SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ under-construction scaffolding -----------------
  Draw = W3DModelDraw ModuleTag_03
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    =  PARTIALLY_CONSTRUCTED 
      Model           = UBUndTunn_A6
      Animation       = UBUndTunn_A6.UBUndTunn_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
    End
    ConditionState    = NIGHT  PARTIALLY_CONSTRUCTED 
      Model           = UBUndTunn_A6N
      Animation       = UBUndTunn_A6N.UBUndTunn_A6N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
    End
    ConditionState    = SNOW  PARTIALLY_CONSTRUCTED 
      Model           = UBUndTunn_A6S
      Animation       = UBUndTunn_A6S.UBUndTunn_A6S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
    End
    ConditionState    = SNOW NIGHT  PARTIALLY_CONSTRUCTED 
      Model           = UBUndTunn_A6SN
      Animation       = UBUndTunn_A6SN.UBUndTunn_A6SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = UBUndTunn_A6
      Animation       = UBUndTunn_A6.UBUndTunn_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = UBUndTunn_A6N
      Animation       = UBUndTunn_A6N.UBUndTunn_A6N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = UBUndTunn_A6S
      Animation       = UBUndTunn_A6S.UBUndTunn_A6S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = UBUndTunn_A6SN
      Animation       = UBUndTunn_A6SN.UBUndTunn_A6SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = UBUndTunn_A6
      Animation       = UBUndTunn_A6.UBUndTunn_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = UBUndTunn_A6N
      Animation       = UBUndTunn_A6N.UBUndTunn_A6N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = UBUndTunn_A6S
      Animation       = UBUndTunn_A6S.UBUndTunn_A6S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = UBUndTunn_A6SN
      Animation       = UBUndTunn_A6SN.UBUndTunn_A6SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  PlacementViewAngle = -135

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:TunnelNetwork
  Side = Boss
  EditorSorting    = STRUCTURE
  Prerequisites
    Object = Boss_Barracks
  End
  BuildCost        = 800
  RefundValue      = 100 ; With nothing (or zero) listed, we sell for half price. 
  BuildTime        = 5.0           ; in seconds
  EnergyProduction = 0
  VisionRange     = 200.0           ; Shroud clearing distance
  ShroudClearingRange = 200
  ArmorSet
    Conditions      = None
    Armor           = StructureArmor
    DamageFX        = StructureDamageFXNoShake
  End
  WeaponSet
    Conditions = None 
    Weapon                  = PRIMARY   GattlingTankGun
    Weapon                  = SECONDARY GattlingTankGunAir
  End

  CommandSet       = Boss_GLATunnelNetworkCommandSet
  ExperienceValue     = 100 100 100 100  ; Experience point value at each level

  ; *** AUDIO Parameters ***
  VoiceSelect = TunnelNetworkSelect
  SoundOnDamaged        = BuildingDamagedStateLight
  SoundOnReallyDamaged  = BuildingDestroy
  SoundEnter = GarrisonEnter
  SoundExit = GarrisonExit

  UnitSpecificSounds
    UnderConstruction     = UnderConstructionLoop
    TurretMoveLoop        = NoSound
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority   = STRUCTURE
  KindOf          = PRELOAD STRUCTURE SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT IMMOBILE FS_BASE_DEFENSE IMMUNE_TO_CAPTURE SCORE_CREATE AUTO_RALLYPOINT
  Body            = StructureBody ModuleTag_04
    MaxHealth       = 1100.0
    InitialHealth   = 1100.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 1200
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
  End

  Behavior = StealthDetectorUpdate ModuleTag_13
    DetectionRate     = 500   ; how often to rescan for stealthed things in my sight (msec)
    DetectionRange   = 150   ;Dustin, enable this for independant balancing!
    CanDetectWhileGarrisoned  = No ;Garrisoned means being in a structure that you units can shoot out of.
    CanDetectWhileContained   = No ;Contained means being in a transport or tunnel network.
  End

  Behavior = AIUpdateInterface ModuleTag_0356
    Turret
      ControlledWeaponSlots = PRIMARY SECONDARY
      TurretTurnRate      = 180   // turn rate, in degrees per sec
      TurretPitchRate     = 180
      AllowsPitch         = Yes
      FiresWhileTurning   = Yes
      NaturalTurretPitch  = 45 ; this keeps it aimed half way between land and sky
                               ; since you never know from whence cometh danger
    End
    AutoAcquireEnemiesWhenIdle = Yes
    MoodAttackCheckRate        = 250
  End

  Behavior = TunnelContain ModuleTag_05
    TimeForFullHeal     = 5000   ;(in milliseconds)
  End

  ;Kris: Removed this module from because units exiting the container would extract information 
  ;from the wrong exit interface. And we don't appear to need it for the spawns because they
  ;use OpenContain instead.
  ;Behavior = DefaultProductionExitUpdate ModuleTag_06
  ;  UnitCreatePoint   = X:  5.0  Y:  0.0   Z:0.0
  ;  NaturalRallyPoint = X: 35.0  Y:  0.0   Z:0.0
  ;End

  Behavior            = SpawnBehavior ModuleTag_07
    SpawnNumber       = 2
    SpawnReplaceDelay = 9999
    ;**FIX**
    SpawnTemplateName = Boss_InfantryTankHunter
    OneShot           = Yes
    CanReclaimOrphans = No
    SlavesHaveFreeWill = Yes
  End
  Behavior             = RebuildHoleExposeDie ModuleTag_09
    HoleName      = GLAHoleTunnelNetwork
    HoleMaxHealth = 500.0
  End
  Behavior = DestroyDie ModuleTag_10
    ;nothing
  End
  Behavior             = CreateObjectDie ModuleTag_11
    CreationList  = OCL_ABTunnelNetworkDebris
  End
  Behavior             = FXListDie ModuleTag_12
    DeathFX       = FX_StructureSmallDeath
  End

  Behavior = FlammableUpdate ModuleTag_15

    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 5       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = TransitionDamageFX ModuleTag_20
    ;-------------DESIGNED FOR SMALL SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
  End

  Behavior = CommandSetUpgrade ModuleTag_21
    CommandSet = Boss_GLATunnelNetworkCommandSetUpgrade
    TriggeredBy = Upgrade_ChinaMines
  End

  Behavior = GenerateMinefieldBehavior     ModuleTag_22
    TriggeredBy           = Upgrade_ChinaMines
    MineName              = ChinaStandardMine
    SmartBorder           = Yes
    AlwaysCircular        = Yes

    Upgradable            = Yes
    UpgradedTriggeredBy   = Upgrade_ChinaEMPMines
    UpgradedMineName      = ChinaEMPMine
  End

  Behavior = ProductionUpdate ModuleTag_23
    ; nothing
  End

  Behavior = BaseRegenerateUpdate ModuleTag_1301
    ;No data
  End 

  Geometry = CYLINDER
  GeometryMajorRadius = 25.0
  GeometryHeight = 20.0    
  GeometryIsSmall     = No
  Shadow          = SHADOW_VOLUME
  BuildCompletion = PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
Object Boss_SupplyCenter

  ; *** ART Parameters ***
  SelectPortrait         = SBSupplyCenter
  ButtonImage            = SBSupplyCenter


  ; Draw = W3DModelDraw ModuleTag_01

    ; OkToChangeModelColor = Yes
    ; ;Day
    ; ConditionState = NONE
      ; Model = BBSupply
    ; End
    ; ConditionState = DAMAGED
      ; Model = BBSupply_D
    ; End
    ; ConditionState = REALLYDAMAGED RUBBLE
      ; Model = BBSupply_E
    ; End    

    ; ;Night
    ; ConditionState = NIGHT
      ; Model = BBSupply
    ; End  
    ; ConditionState = NIGHT DAMAGED
      ; Model = BBSupply_D
    ; End  
    ; ConditionState = NIGHT REALLYDAMAGED RUBBLE
      ; Model = BBSupply_E
    ; End  


    ; ConditionState = SNOW
      ; Model = BBSupply_S
    ; End
    ; ConditionState = DAMAGED SNOW
      ; Model = BBSupply_SD
    ; End
    ; ConditionState = REALLYDAMAGED RUBBLE SNOW
      ; Model = BBSupply_SE
    ; End

    ; ;Snow Night
    ; ConditionState = SNOW NIGHT
      ; Model = BBSupply_S
    ; End
    ; ConditionState = DAMAGED SNOW NIGHT
      ; Model = BBSupply_SD
    ; End
    ; ConditionState = REALLYDAMAGED RUBBLE SNOW NIGHT
      ; Model = BBSupply_SE
    ; End



; ;**************************************************************************************************************************
    ; ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ; ;for this draw module
    ; ConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      ; Model = BBSupply
      ; Flags = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      ; Model = BBSupply_D
      ; Flags = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      ; Model = BBSupply_E
      ; Flags = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
      ; Model = BBSupply
      ; Flags = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
      ; Model = BBSupply_D
      ; Flags = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
      ; Model = BBSupply_E
      ; Flags = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      ; Model = BBSupply_S
      ; Flags = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
      ; Model = BBSupply_SD
      ; Flags = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
      ; Model = BBSupply_SE
      ; Flags = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
      ; Model = BBSupply_S
      ; Flags = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
      ; Model = BBSupply_SD
      ; Flags = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
      ; Model = BBSupply_SE
      ; Flags = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End

    ; ConditionState = AWAITING_CONSTRUCTION 
      ; Model = NONE
    ; End
    ; AliasConditionState = AWAITING_CONSTRUCTION DAMAGED
    ; AliasConditionState = AWAITING_CONSTRUCTION REALLYDAMAGED
    ; AliasConditionState = AWAITING_CONSTRUCTION NIGHT
    ; AliasConditionState = AWAITING_CONSTRUCTION NIGHT DAMAGED
    ; AliasConditionState = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    ; AliasConditionState = AWAITING_CONSTRUCTION SNOW
    ; AliasConditionState = AWAITING_CONSTRUCTION SNOW DAMAGED
    ; AliasConditionState = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    ; AliasConditionState = AWAITING_CONSTRUCTION NIGHT SNOW
    ; AliasConditionState = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    ; AliasConditionState = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    ; AliasConditionState = SOLD 
    ; AliasConditionState = SOLD DAMAGED
    ; AliasConditionState = SOLD REALLYDAMAGED
    ; AliasConditionState = SOLD NIGHT
    ; AliasConditionState = SOLD NIGHT DAMAGED
    ; AliasConditionState = SOLD NIGHT REALLYDAMAGED
    ; AliasConditionState = SOLD SNOW
    ; AliasConditionState = SOLD SNOW DAMAGED
    ; AliasConditionState = SOLD SNOW REALLYDAMAGED
    ; AliasConditionState = SOLD NIGHT SNOW
    ; AliasConditionState = SOLD NIGHT SNOW DAMAGED
    ; AliasConditionState = SOLD NIGHT SNOW REALLYDAMAGED

; ;**************************************************************************************************************************
  ; End
          
  ; ; ------------ construction-zone fence -----------------
  ; Draw = W3DModelDraw ModuleTag_02
  ; AnimationsRequirePower = No
    ; DefaultConditionState
      ; Model           = None
      ; TransitionKey   = DOWN_DEFAULT
    ; End
    ; ConditionState    = NIGHT
      ; Model           = None
      ; TransitionKey   = DOWN_DEFAULT
    ; End
    ; ConditionState    = SNOW
      ; Model           = None
      ; TransitionKey   = DOWN_DEFAULT
    ; End
    ; ConditionState    = SNOW NIGHT
      ; Model           = None
      ; TransitionKey   = DOWN_DEFAULT
    ; End
    ; ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      ; Model           = NBSupCent_A4
      ; Animation       = NBSupCent_A4.NBSupCent_A4
      ; AnimationMode   = MANUAL
      ; Flags           = START_FRAME_LAST
      ; TransitionKey   = UP_DAY
    ; End
    ; ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      ; Model           = NBSupCent_A4N
      ; Animation       = NBSupCent_A4N.NBSupCent_A4N
      ; AnimationMode   = MANUAL
      ; Flags           = START_FRAME_LAST
      ; TransitionKey   = UP_NIGHT
    ; End
    ; ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      ; Model           = NBSupCent_A4S
      ; Animation       = NBSupCent_A4S.NBSupCent_A4S
      ; AnimationMode   = MANUAL
      ; Flags           = START_FRAME_LAST
      ; TransitionKey   = UP_SNOW
    ; End
    ; ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      ; Model           = NBSupCent_A4SN
      ; Animation       = NBSupCent_A4SN.NBSupCent_A4SN
      ; AnimationMode   = MANUAL
      ; Flags           = START_FRAME_LAST
      ; TransitionKey   = UP_SNOWNIGHT
    ; End
    ; TransitionState   = DOWN_DEFAULT UP_DAY
      ; Model           = NBSupCent_A4
      ; Animation       = NBSupCent_A4.NBSupCent_A4
      ; AnimationMode   = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags           = START_FRAME_FIRST
    ; End
    ; TransitionState   = DOWN_DEFAULT UP_NIGHT
      ; Model           = NBSupCent_A4N
      ; Animation       = NBSupCent_A4N.NBSupCent_A4N
      ; AnimationMode   = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags           = START_FRAME_FIRST
    ; End
    ; TransitionState   = DOWN_DEFAULT UP_SNOW
      ; Model           = NBSupCent_A4S
      ; Animation       = NBSupCent_A4S.NBSupCent_A4S
      ; AnimationMode   = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags           = START_FRAME_FIRST
    ; End
    ; TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      ; Model           = NBSupCent_A4SN
      ; Animation       = NBSupCent_A4SN.NBSupCent_A4SN
      ; AnimationMode   = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags           = START_FRAME_FIRST
    ; End
    ; TransitionState   = UP_DAY DOWN_DEFAULT
      ; Model           = NBSupCent_A4
      ; Animation       = NBSupCent_A4.NBSupCent_A4
      ; AnimationMode   = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      ; Flags           = START_FRAME_LAST
    ; End
    ; TransitionState   = UP_NIGHT DOWN_DEFAULT
      ; Model           = NBSupCent_A4N
      ; Animation       = NBSupCent_A4N.NBSupCent_A4N
      ; AnimationMode   = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      ; Flags           = START_FRAME_LAST
    ; End
    ; TransitionState   = UP_SNOW DOWN_DEFAULT
      ; Model           = NBSupCent_A4S
      ; Animation       = NBSupCent_A4S.NBSupCent_A4S
      ; AnimationMode   = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      ; Flags           = START_FRAME_LAST
    ; End
    ; TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      ; Model           = NBSupCent_A4SN
      ; Animation       = NBSupCent_A4SN.NBSupCent_A4SN
      ; AnimationMode   = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      ; Flags           = START_FRAME_LAST
    ; End
  ; End

  ; ; ------------ under-construction scaffolding -----------------
  ; Draw = W3DModelDraw ModuleTag_03
  ; AnimationsRequirePower = No
    ; MinLODRequired = MEDIUM
    ; DefaultConditionState
      ; Model           = None
      ; TransitionKey   = DOWN_DEFAULT
    ; End
    ; ConditionState    = NIGHT
      ; Model           = None
      ; TransitionKey   = DOWN_DEFAULT
    ; End
    ; ConditionState    = SNOW
      ; Model           = None
      ; TransitionKey   = DOWN_DEFAULT
    ; End
    ; ConditionState    = SNOW NIGHT
      ; Model           = None
      ; TransitionKey   = DOWN_DEFAULT
    ; End
    ; ConditionState    = PARTIALLY_CONSTRUCTED
      ; Model           = NBSupCent_A6
      ; Animation       = NBSupCent_A6.NBSupCent_A6
      ; AnimationMode   = MANUAL
      ; Flags           = START_FRAME_LAST
      ; TransitionKey   = UP_DAY
      ; ParticleSysBone = Dust01 BuildingDustChina
      ; ParticleSysBone = Smoke01 BuildUpSmokeChina
      ; ParticleSysBone = Smoke02 BuildUpSmokeChina
      ; ParticleSysBone = Smoke03 BuildUpSmokeChina
      ; ParticleSysBone = Smoke04 BuildUpSmokeChina
      ; ParticleSysBone = Smoke05 BuildUpSmokeChina
    ; End
    ; ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      ; Model           = NBSupCent_A6N
      ; Animation       = NBSupCent_A6N.NBSupCent_A6N
      ; AnimationMode   = MANUAL
      ; Flags           = START_FRAME_LAST
      ; TransitionKey   = UP_NIGHT
      ; ParticleSysBone = Dust01 BuildingDustChina
      ; ParticleSysBone = Smoke01 BuildUpSmokeChina
      ; ParticleSysBone = Smoke02 BuildUpSmokeChina
      ; ParticleSysBone = Smoke03 BuildUpSmokeChina
      ; ParticleSysBone = Smoke04 BuildUpSmokeChina
      ; ParticleSysBone = Smoke05 BuildUpSmokeChina
    ; End
    ; ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      ; Model           = NBSupCent_A6S
      ; Animation       = NBSupCent_A6S.NBSupCent_A6S
      ; AnimationMode   = MANUAL
      ; Flags           = START_FRAME_LAST
      ; TransitionKey   = UP_SNOW
      ; ParticleSysBone = Dust01 BuildingSnowDust
      ; ParticleSysBone = Smoke01 BuildUpSnowSmoke
      ; ParticleSysBone = Smoke02 BuildUpSnowSmoke
      ; ParticleSysBone = Smoke03 BuildUpSnowSmoke
      ; ParticleSysBone = Smoke04 BuildUpSnowSmoke
      ; ParticleSysBone = Smoke05 BuildUpSnowSmoke
    ; End
    ; ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      ; Model           = NBSupCent_A6SN
      ; Animation       = NBSupCent_A6SN.NBSupCent_A6SN
      ; AnimationMode   = MANUAL
      ; Flags           = START_FRAME_LAST
      ; TransitionKey   = UP_SNOWNIGHT
      ; ParticleSysBone = Dust01 BuildingNightSnowDust
      ; ParticleSysBone = Smoke01 BuildUpNightSnowSmoke
      ; ParticleSysBone = Smoke02 BuildUpNightSnowSmoke
      ; ParticleSysBone = Smoke03 BuildUpNightSnowSmoke
      ; ParticleSysBone = Smoke04 BuildUpNightSnowSmoke
      ; ParticleSysBone = Smoke05 BuildUpNightSnowSmoke
    ; End
    ; TransitionState   = DOWN_DEFAULT UP_DAY
     ; Model            = NBSupCent_A6
      ; Animation       = NBSupCent_A6.NBSupCent_A6
      ; AnimationMode   = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags           = START_FRAME_FIRST
    ; End
    ; TransitionState   = DOWN_DEFAULT UP_NIGHT
     ; Model            = NBSupCent_A6N
      ; Animation       = NBSupCent_A6N.NBSupCent_A6N
      ; AnimationMode   = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags           = START_FRAME_FIRST
    ; End
    ; TransitionState   = DOWN_DEFAULT UP_SNOW
     ; Model            = NBSupCent_A6S
      ; Animation       = NBSupCent_A6S.NBSupCent_A6S
      ; AnimationMode   = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags           = START_FRAME_FIRST
    ; End
    ; TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
     ; Model            = NBSupCent_A6SN
      ; Animation       = NBSupCent_A6SN.NBSupCent_A6SN
      ; AnimationMode   = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags           = START_FRAME_FIRST
    ; End
    ; TransitionState   = UP_DAY DOWN_DEFAULT
      ; Model           = NBSupCent_A6
      ; Animation       = NBSupCent_A6.NBSupCent_A6
      ; AnimationMode   = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      ; Flags           = START_FRAME_LAST
    ; End    
    ; TransitionState   = UP_NIGHT DOWN_DEFAULT
      ; Model           = NBSupCent_A6N
      ; Animation       = NBSupCent_A6N.NBSupCent_A6N
      ; AnimationMode   = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      ; Flags           = START_FRAME_LAST
    ; End
    ; TransitionState   = UP_SNOW DOWN_DEFAULT
      ; Model           = NBSupCent_A6S
      ; Animation       = NBSupCent_A6S.NBSupCent_A6S
      ; AnimationMode   = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      ; Flags           = START_FRAME_LAST
    ; End
    ; TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      ; Model           = NBSupCent_A6SN
      ; Animation       = NBSupCent_A6SN.NBSupCent_A6SN
      ; AnimationMode   = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      ; Flags           = START_FRAME_LAST
    ; End
  ; End

  ; ; ------------ being-constructed crane -----------------
  ; Draw = W3DModelDraw ModuleTag_04
  ; AnimationsRequirePower = No
    ; DefaultConditionState
      ; Model           = None
      ; TransitionKey   = DOWN_DEFAULT
    ; End
    ; ConditionState    = NIGHT
      ; Model           = None
      ; TransitionKey   = DOWN_DEFAULT
    ; End
    ; ConditionState    = SNOW
      ; Model           = None
      ; TransitionKey   = DOWN_DEFAULT
    ; End
    ; ConditionState    = SNOW NIGHT
      ; Model           = None
      ; TransitionKey   = DOWN_DEFAULT
    ; End
    ; ConditionState    = SOLD
      ; Model           = NONE
    ; End

    ; ConditionState  = ACTIVELY_BEING_CONSTRUCTED
      ; Model           = NBSupCent_A5
      ; Animation       = NBSupCent_A5.NBSupCent_A5
      ; AnimationMode   = LOOP
      ; TransitionKey  = UP_DAY
    ; End

    ; ConditionState  = NIGHT ACTIVELY_BEING_CONSTRUCTED
      ; Model           = NBSupCent_A5N
      ; Animation       = NBSupCent_A5N.NBSupCent_A5N
      ; AnimationMode   = LOOP
      ; TransitionKey  = UP_NIGHT
    ; End
    ; ConditionState  = SNOW ACTIVELY_BEING_CONSTRUCTED
      ; Model           = NBSupCent_A5S
      ; Animation       = NBSupCent_A5S.NBSupCent_A5S
      ; AnimationMode   = LOOP
      ; TransitionKey  = UP_SNOW
    ; End
    ; ConditionState  = SNOW NIGHT ACTIVELY_BEING_CONSTRUCTED
      ; Model           = NBSupCent_A5SN
      ; Animation       = NBSupCent_A5SN.NBSupCent_A5SN
      ; AnimationMode   = LOOP
      ; TransitionKey  = UP_SNOWNIGHT
    ; End
    ; TransitionState   = DOWN_DEFAULT UP_DAY
      ; Model            = NBSupCent_AB
      ; Animation       = NBSupCent_AB.NBSupCent_AB
      ; AnimationMode   = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags           = START_FRAME_FIRST
    ; End

    ; TransitionState   = DOWN_DEFAULT UP_NIGHT
      ; Model            = NBSupCent_ABN
      ; Animation       = NBSupCent_ABN.NBSupCent_ABN
      ; AnimationMode   = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags           = START_FRAME_FIRST
    ; End
    ; TransitionState   = DOWN_DEFAULT UP_SNOW
      ; Model            = NBSupCent_ABS
      ; Animation       = NBSupCent_ABS.NBSupCent_ABS
      ; AnimationMode   = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags           = START_FRAME_FIRST
    ; End
    ; TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      ; Model            = NBSupCent_ABSN
      ; Animation       = NBSupCent_ABSN.NBSupCent_ABSN
      ; AnimationMode   = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags           = START_FRAME_FIRST
    ; End
    ; TransitionState   = UP_DAY DOWN_DEFAULT
      ; Model            = NBSupCent_AB
      ; Animation       = NBSupCent_AB.NBSupCent_AB
      ; AnimationMode   = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      ; Flags           = START_FRAME_LAST
    ; End
    ; TransitionState   = UP_NIGHT DOWN_DEFAULT
      ; Model            = NBSupCent_ABN
      ; Animation       = NBSupCent_ABN.NBSupCent_ABN
      ; AnimationMode   = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      ; Flags           = START_FRAME_LAST
    ; End
    ; TransitionState   = UP_SNOW DOWN_DEFAULT
      ; Model            = NBSupCent_ABS
      ; Animation       = NBSupCent_ABS.NBSupCent_ABS
      ; AnimationMode   = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      ; Flags           = START_FRAME_LAST
    ; End
    ; TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      ; Model            = NBSupCent_ABSN
      ; Animation       = NBSupCent_ABSN.NBSupCent_ABSN
      ; AnimationMode   = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      ; Flags           = START_FRAME_LAST
    ; End
  ; End
  
  
  ; Draw = W3DModelDraw ModuleTag_NightLights01
    ; OkToChangeModelColor = Yes

  ; ;Day
    ; ConditionState = NONE
      ; Model = None
    ; End
    ; ConditionState = DAMAGED
      ; Model = None
    ; End
    ; ConditionState = REALLYDAMAGED RUBBLE
      ; Model = None
    ; End   

    ; ;Night
    ; ConditionState = NIGHT
      ; Model = NBSupply_N
    ; End  
    ; ConditionState = NIGHT DAMAGED
      ; Model = NBSupply_ND
    ; End  
    ; ConditionState = NIGHT REALLYDAMAGED RUBBLE
      ; Model = NBSupply_NE
    ; End  

    ; ;Snow
    ; ConditionState = SNOW
      ; Model = None
    ; End
    ; ConditionState = DAMAGED SNOW
      ; Model = None
    ; End
    ; ConditionState = REALLYDAMAGED RUBBLE SNOW
      ; Model = None
    ; End

    ; ;Snow Night
    ; ConditionState = SNOW NIGHT
      ; Model = NBSupply_N
    ; End
    ; ConditionState = DAMAGED SNOW NIGHT
      ; Model = NBSupply_ND
    ; End
    ; ConditionState = REALLYDAMAGED RUBBLE SNOW NIGHT
      ; Model = NBSupply_NE
    ; End

    ; ConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      ; Model = None
      ; Flags = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      ; Model = None
      ; Flags = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      ; Model = None
      ; Flags = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
      ; Model = NBSupply_N
      ; Flags = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
      ; Model = NBSupply_ND
      ; Flags = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
      ; Model = NBSupply_NE
      ; Flags = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      ; Model = None
      ; Flags = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
      ; Model = None
      ; Flags = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
      ; Model = None
      ; Flags = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
      ; Model = NBSupply_N
      ; Flags = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
      ; Model = NBSupply_ND
      ; Flags = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
      ; Model = NBSupply_NE
      ; Flags = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    
    
    ; ConditionState = AWAITING_CONSTRUCTION 
      ; Model = NONE
    ; End

    ; AliasConditionState = AWAITING_CONSTRUCTION DAMAGED
    ; AliasConditionState = AWAITING_CONSTRUCTION REALLYDAMAGED
    ; AliasConditionState = AWAITING_CONSTRUCTION NIGHT
    ; AliasConditionState = AWAITING_CONSTRUCTION NIGHT DAMAGED
    ; AliasConditionState = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    ; AliasConditionState = AWAITING_CONSTRUCTION SNOW
    ; AliasConditionState = AWAITING_CONSTRUCTION SNOW DAMAGED
    ; AliasConditionState = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    ; AliasConditionState = AWAITING_CONSTRUCTION NIGHT SNOW
    ; AliasConditionState = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    ; AliasConditionState = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    ; AliasConditionState = SOLD 
    ; AliasConditionState = SOLD DAMAGED
    ; AliasConditionState = SOLD REALLYDAMAGED
    ; AliasConditionState = SOLD NIGHT
    ; AliasConditionState = SOLD NIGHT DAMAGED
    ; AliasConditionState = SOLD NIGHT REALLYDAMAGED
    ; AliasConditionState = SOLD SNOW
    ; AliasConditionState = SOLD SNOW DAMAGED
    ; AliasConditionState = SOLD SNOW REALLYDAMAGED
    ; AliasConditionState = SOLD NIGHT SNOW
    ; AliasConditionState = SOLD NIGHT SNOW DAMAGED
    ; AliasConditionState = SOLD NIGHT SNOW REALLYDAMAGED
  ; End

  ; PlacementViewAngle = -45
  
  Draw = W3DModelDraw ModuleTag_01
  
    OkToChangeModelColor = Yes
    ExtraPublicBone      = HeliPark01
    
    DefaultConditionState
      Model              = RBHelipad
      Animation          = RBHelipad.RBHelipad
      AnimationMode      = LOOP
    End
    AliasConditionState = NIGHT
    
    ConditionState       = DAMAGED
      Model              = RBHelipad_D
      Animation          = RBHelipad_D.RBHelipad_D
      AnimationMode      = LOOP
      ParticleSysBone    = Smoke04 SmolderingSmoke
      ParticleSysBone    = Smoke02 SmolderingSmoke
    End
    AliasConditionState = DAMAGED NIGHT
    AliasConditionState = DAMAGED SNOW
    AliasConditionState = DAMAGED NIGHT SNOW
    
    ConditionState = REALLYDAMAGED RUBBLE
      Model              = RBHelipad_D
      Animation          = RBHelipad_D.RBHelipad_D
      AnimationMode      = LOOP
      ParticleSysBone    = Smoke01 SmolderingSmoke
      ParticleSysBone    = Smoke02 SmolderingFire
      ParticleSysBone    = Smoke02 SmolderingSmoke
      ParticleSysBone    = Smoke03 SmolderingSmoke
      ParticleSysBone    = Smoke04 SmolderingFire
      ParticleSysBone    = Smoke04 SmolderingSmoke
    End
    AliasConditionState = REALLYDAMAGED RUBBLE NIGHT
    AliasConditionState = REALLYDAMAGED RUBBLE SNOW
    AliasConditionState = REALLYDAMAGED RUBBLE NIGHT SNOW

    ConditionState = SNOW
      Model              = RBHelipad_S
      Animation          = RBHelipad_S.RBHelipad_S
      AnimationMode      = LOOP
    End
    AliasConditionState = NIGHT SNOW
    
    ;**************************************************************************************************************************

    ConditionState      = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model             = RBHelipad
      Flags             = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
    
    ConditionState      = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model             = RBHelipad_D
      Flags             = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED

    ConditionState      = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model             = RBHelipad_D
      Flags             = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED

    ConditionState      = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model             = RBHelipad_S
      Flags             = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    ;**************************************************************************************************************************
  End
  
  ; ------------ construction-zone fence -----------------
  Draw = W3DModelDraw ModuleTag_02
  AnimationsRequirePower = No

    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    AliasConditionState = NIGHT
    AliasConditionState = SNOW
    AliasConditionState = SNOW NIGHT

    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = RBHelipad_BF
      Animation       = RBHelipad_BF.RBHelipad_BF
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
    End
    AliasConditionState = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
    AliasConditionState = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
    AliasConditionState = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED

    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = RBHelipad_BF
      Animation       = RBHelipad_BF.RBHelipad_BF
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = RBHelipad_BF
      Animation       = RBHelipad_BF.RBHelipad_BF
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_LAST
    End

  End

; ------------ under-construction scaffolding -----------------
  Draw = W3DModelDraw ModuleTag_03
  AnimationsRequirePower = No
    MinLODRequired = MEDIUM
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    AliasConditionState = NIGHT
    AliasConditionState = SNOW
    AliasConditionState = SNOW NIGHT

    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = RBHelipad_SC
      Animation       = RBHelipad_SC.RBHelipad_SC
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Smoke01 BuildUpSmokeChina
      ParticleSysBone = Smoke02 BuildUpSmokeChina
      ParticleSysBone = Smoke03 BuildUpSmokeChina
    End
    AliasConditionState = NIGHT PARTIALLY_CONSTRUCTED
    AliasConditionState = SNOW PARTIALLY_CONSTRUCTED
    AliasConditionState = SNOW NIGHT PARTIALLY_CONSTRUCTED

    TransitionState   = DOWN_DEFAULT UP_DAY
     Model            = RBHelipad_SC
      Animation       = RBHelipad_SC.RBHelipad_SC
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = RBHelipad_SC
      Animation       = RBHelipad_SC.RBHelipad_SC
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_LAST
    End

  End

  PlacementViewAngle = -45

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:SupplyCenter
  Side             = Boss
  EditorSorting    = STRUCTURE
  Prerequisites
    Object = Boss_PowerPlant 
  End
  BuildCost        = 1700
  RefundValue      = 450 ; With nothing (or zero) listed, we sell for half price. 
  BuildTime        = 12.0           ; in seconds
  EnergyProduction = -1
  CommandSet       = Boss_ChinaSupplyCenterCommandSet
  VisionRange     = 200.0           ; Shroud clearing distance
  ShroudClearingRange = 200
  ArmorSet
    Conditions      = None
    Armor           = StructureArmor
    DamageFX        = StructureDamageFXNoShake
  End
  ExperienceValue     = 200 200 200 200  ; Experience point value at each level

  ; *** AUDIO Parameters ***
  VoiceSelect = SupplyCenterChinaSelect
  SoundOnDamaged        = BuildingDamagedStateLight
  SoundOnReallyDamaged  = BuildingDestroy

  UnitSpecificSounds
    UnderConstruction     = UnderConstructionLoop
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority       = STRUCTURE
  KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE CASH_GENERATOR SCORE CAPTURABLE AUTO_RALLYPOINT MP_COUNT_FOR_VICTORY CANNOT_BUILD_NEAR_SUPPLIES FS_SUPPLY_CENTER
  Body                = StructureBody ModuleTag_05
    MaxHealth       = 2000.0
    InitialHealth   = 2000.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 2200
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
  End
  Behavior = SupplyCenterCreate ModuleTag_06
    ;nothing
  End
  Behavior = DestroyDie ModuleTag_07
    ;nothing
  End
  Behavior        = CreateObjectDie ModuleTag_08
    CreationList  = OCL_SmallStructureDebris
  End
  ; Behavior        = CreateObjectDie ModuleTag_08A
    ; CreationList  = Boss_OCL_AmericanRangerDebris03
    ; ExemptStatus  = UNDER_CONSTRUCTION
  ; End
  Behavior        = FXListDie ModuleTag_09
    DeathFX       = FX_StructureSmallDeath
  End
  Behavior = ProductionUpdate ModuleTag_10
  End
  Behavior = SupplyCenterProductionExitUpdate ModuleTag_11
    UnitCreatePoint   = X:-16.2  Y:  0.407   Z:0.0
    NaturalRallyPoint = X:-16.2  Y:  0.407   Z:0.0;NaturalRallyPointX must always match GeometryMajorRadius! -ML
  End

  Behavior            = SpawnBehavior ModuleTag_12
    SpawnNumber       = 1
    SpawnReplaceDelay = 9999
    ;SpawnTemplateName = Boss_VehicleSupplyTruck
	SpawnTemplateName = Boss_RussiaCopterMi26
    OneShot           = Yes
    CanReclaimOrphans = No
    SlavesHaveFreeWill = Yes
  End

  Behavior = SupplyCenterDockUpdate ModuleTag_13
    AllowsPassthrough = No ;You can't drive through this guy while docking.  Use this when the dock points are all outside
    NumberApproachPositions = -1 ; This is a Boneless dock, so this means infinite can approach
  End

  Behavior = GenerateMinefieldBehavior     ModuleTag_14
    TriggeredBy           = Upgrade_ChinaMines
    MineName              = ChinaStandardMine
    SmartBorder           = Yes
    AlwaysCircular        = Yes

    Upgradable            = Yes
    UpgradedTriggeredBy   = Upgrade_ChinaEMPMines
    UpgradedMineName      = ChinaEMPMine
  End

  Behavior = FlammableUpdate ModuleTag_16
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 5       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = TransitionDamageFX ModuleTag_17
    ;-------------DESIGNED FOR SMALL SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
  End

  Behavior = CommandSetUpgrade ModuleTag_25
    CommandSet = Boss_ChinaSupplyCenterCommandSetUpgrade
    TriggeredBy = Upgrade_ChinaMines
  End
  
  Behavior = BaseRegenerateUpdate ModuleTag_AutoRepair01
    ;No data
  End 

  ; Behavior             = CreateObjectDie ModuleTag_170
    ; CreationList  = OCL_AmericanRangerDebris04
    ; ExemptStatus  = UNDER_CONSTRUCTION
  ; End

  Geometry            = BOX
  GeometryMajorRadius = 52.0
  GeometryMinorRadius = 47.0
  GeometryHeight      = 30.0
  GeometryIsSmall     = No
  Shadow              = SHADOW_VOLUME
  BuildCompletion     = PLACED_BY_PLAYER
  
  ; Geometry            = BOX
  ; GeometryMajorRadius = 43.0
  ; GeometryMinorRadius = 41.0
  ; GeometryHeight      = 50.0
  ; GeometryIsSmall     = No
  ; Shadow          = SHADOW_VOLUME
  ; BuildCompletion = PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
Object Boss_Barracks

  ; *** ART Parameters ***
  SelectPortrait         = SNBarracks_L
  ButtonImage            = SNBarracks
  
  
  ; Draw = W3DModelDraw ModuleTag_01
    ; OkToChangeModelColor = Yes
 
; ; day
    ; ConditionState = NONE
      ; Model = NBBarracks
      ; ParticleSysBone= Fire01 SmolderingFire
      ; Animation     = NBBarracks.NBBarracks
      ; AnimationMode = LOOP
    ; End
  
    ; ConditionState = DAMAGED
      ; Model = NBBarracks_D
      ; ParticleSysBone= Fire01 SmolderingFire
      ; Animation     = NBBarracks_D.NBBarracks_D
      ; AnimationMode = LOOP
    ; End
    
    ; ConditionState = REALLYDAMAGED RUBBLE
      ; Model = NBBarracks_E
      ; ParticleSysBone= Fire01 SmolderingFire
      ; Animation     = NBBarracks_E.NBBarracks_E
      ; AnimationMode = LOOP
    ; End
    
; ; day SNOW

    ; ConditionState = SNOW
      ; Model = NBBarracks_S
      ; ParticleSysBone= Fire01 SmolderingFire
      ; Animation     = NBBarracks_S.NBBarracks_S
      ; AnimationMode = LOOP
    ; End
  
    ; ConditionState = DAMAGED SNOW
      ; Model = NBBarracks_DS
      ; ParticleSysBone= Fire01 SmolderingFire
      ; Animation     = NBBarracks_DS.NBBarracks_DS
      ; AnimationMode = LOOP
    ; End
    
    ; ConditionState = REALLYDAMAGED RUBBLE SNOW
      ; Model = NBBarracks_ES
      ; ParticleSysBone= Fire01 SmolderingFire
      ; Animation     = NBBarracks_ES.NBBarracks_ES
      ; AnimationMode = LOOP
    ; End

  
; ; night
    ; ConditionState = NIGHT
      ; Model         = NBBarracks_N
      ; ParticleSysBone= Fire01 SmolderingFire
      ; Animation     = NBBarracks_N.NBBarracks_N
      ; AnimationMode = LOOP
    ; End  
    
    ; ConditionState = DAMAGED NIGHT
      ; Model = NBBarracks_DN
      ; ParticleSysBone= Fire01 SmolderingFire
      ; Animation     = NBBarracks_DN.NBBarracks_DN
      ; AnimationMode = LOOP
    ; End
    
    ; ConditionState = REALLYDAMAGED RUBBLE NIGHT
      ; Model = NBBarracks_EN
      ; ParticleSysBone= Fire01 SmolderingFire
      ; Animation     = NBBarracks_EN.NBBarracks_EN
      ; AnimationMode = LOOP
    ; End
    
; ; night snow   
    ; ConditionState = NIGHT SNOW
      ; Model         = NBBarracks_NS
      ; ParticleSysBone= Fire01 SmolderingFire
      ; Animation     = NBBarracks_NS.NBBarracks_NS
      ; AnimationMode = LOOP
    ; End  
    
    ; ConditionState = DAMAGED NIGHT SNOW
      ; Model = NBBarracks_DNS
      ; ParticleSysBone= Fire01 SmolderingFire
      ; Animation     = NBBarracks_DNS.NBBarracks_DNS
      ; AnimationMode = LOOP
    ; End
    
    ; ConditionState = REALLYDAMAGED RUBBLE NIGHT SNOW
      ; Model = NBBarracks_ENS
      ; ParticleSysBone= Fire01 SmolderingFire
      ; Animation     = NBBarracks_ENS.NBBarracks_ENS
      ; AnimationMode = LOOP
    ; End
    
    
    ; ;**************************************************************************************************************************
    ; ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ; ;for this draw module
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      ; Model              = NBBarracks
      ; Animation          = NBBarracks.NBBarracks
      ; AnimationMode      = LOOP
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      ; Model              = NBBarracks_D
      ; Animation          = NBBarracks_D.NBBarracks_D
      ; AnimationMode      = LOOP
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      ; Model              = NBBarracks_E
      ; Animation          = NBBarracks_E.NBBarracks_E
      ; AnimationMode      = LOOP
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
      ; Model              = NBBarracks_N
      ; Animation          = NBBarracks_N.NBBarracks_N
      ; AnimationMode      = LOOP
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
      ; Model              = NBBarracks_DN
      ; Animation          = NBBarracks_DN.NBBarracks_DN
      ; AnimationMode      = LOOP
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
      ; Model              = NBBarracks_EN
      ; Animation          = NBBarracks_EN.NBBarracks_EN
      ; AnimationMode      = LOOP
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      ; Model              = NBBarracks_S
      ; Animation          = NBBarracks_S.NBBarracks_S
      ; AnimationMode      = LOOP
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
      ; Model              = NBBarracks_DS
      ; Animation          = NBBarracks_DS.NBBarracks_DS
      ; AnimationMode      = LOOP
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
      ; Model              = NBBarracks_ES
      ; Animation          = NBBarracks_ES.NBBarracks_ES
      ; AnimationMode      = LOOP
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
      ; Model              = NBBarracks_NS
      ; Animation          = NBBarracks_NS.NBBarracks_NS
      ; AnimationMode      = LOOP
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
      ; Model              = NBBarracks_DNS
      ; Animation          = NBBarracks_DNS.NBBarracks_DNS
      ; AnimationMode      = LOOP
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
      ; Model              = NBBarracks_ENS
      ; Animation          = NBBarracks_ENS.NBBarracks_ENS
      ; AnimationMode      = LOOP
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End

    ; ConditionState       = AWAITING_CONSTRUCTION 
      ; Model              = NONE
    ; End
    ; AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    ; AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    ; AliasConditionState  = SOLD 
    ; AliasConditionState  = SOLD DAMAGED
    ; AliasConditionState  = SOLD REALLYDAMAGED
    ; AliasConditionState  = SOLD NIGHT
    ; AliasConditionState  = SOLD NIGHT DAMAGED
    ; AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    ; AliasConditionState  = SOLD SNOW
    ; AliasConditionState  = SOLD SNOW DAMAGED
    ; AliasConditionState  = SOLD SNOW REALLYDAMAGED
    ; AliasConditionState  = SOLD NIGHT SNOW
    ; AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    ; AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    ; ;**************************************************************************************************************************  
  ; End  
    
  ; ; ------------ construction-zone fence -----------------
  ; Draw = W3DModelDraw ModuleTag_02
  ; AnimationsRequirePower = No
    ; DefaultConditionState
      ; Model           = None
      ; TransitionKey   = DOWN_DEFAULT
    ; End
    ; ConditionState    = NIGHT
      ; Model           = None
      ; TransitionKey   = DOWN_DEFAULT
    ; End
    ; ConditionState    = SNOW
      ; Model           = None
      ; TransitionKey   = DOWN_DEFAULT
    ; End
    ; ConditionState    = SNOW NIGHT
      ; Model           = None
      ; TransitionKey   = DOWN_DEFAULT
    ; End
    ; ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      ; Model           = NBBarracks_A4
      ; Animation       = NBBarracks_A4.NBBarracks_A4
      ; AnimationMode   = MANUAL
      ; Flags           = START_FRAME_LAST
      ; TransitionKey   = UP_DAY
    ; End
    ; ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      ; Model           = NBBarracks_A4N
      ; Animation       = NBBarracks_A4N.NBBarracks_A4N
      ; AnimationMode   = MANUAL
      ; Flags           = START_FRAME_LAST
      ; TransitionKey   = UP_NIGHT
    ; End
    ; ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      ; Model           = NBBarracks_A4S
      ; Animation       = NBBarracks_A4S.NBBarracks_A4S
      ; AnimationMode   = MANUAL
      ; Flags           = START_FRAME_LAST
      ; TransitionKey   = UP_SNOW
    ; End
    ; ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      ; Model           = NBBarracks_A4SN
      ; Animation       = NBBarracks_A4SN.NBBarracks_A4SN
      ; AnimationMode   = MANUAL
      ; Flags           = START_FRAME_LAST
      ; TransitionKey   = UP_SNOWNIGHT
    ; End
    ; TransitionState   = DOWN_DEFAULT UP_DAY
      ; Model           = NBBarracks_A4
      ; Animation       = NBBarracks_A4.NBBarracks_A4
      ; AnimationMode   = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags           = START_FRAME_FIRST
    ; End
    ; TransitionState   = DOWN_DEFAULT UP_NIGHT
      ; Model           = NBBarracks_A4N
      ; Animation       = NBBarracks_A4N.NBBarracks_A4N
      ; AnimationMode   = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags           = START_FRAME_FIRST
    ; End
    ; TransitionState   = DOWN_DEFAULT UP_SNOW
      ; Model           = NBBarracks_A4S
      ; Animation       = NBBarracks_A4S.NBBarracks_A4S
      ; AnimationMode   = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags           = START_FRAME_FIRST
    ; End
    ; TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      ; Model           = NBBarracks_A4SN
      ; Animation       = NBBarracks_A4SN.NBBarracks_A4SN
      ; AnimationMode   = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags           = START_FRAME_FIRST
    ; End
    ; TransitionState   = UP_DAY DOWN_DEFAULT
      ; Model           = NBBarracks_A4
      ; Animation       = NBBarracks_A4.NBBarracks_A4
      ; AnimationMode   = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
     ; Flags           = START_FRAME_LAST
    ; End
    ; TransitionState   = UP_NIGHT DOWN_DEFAULT
      ; Model           = NBBarracks_A4N
      ; Animation       = NBBarracks_A4N.NBBarracks_A4N
      ; AnimationMode   = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
     ; Flags           = START_FRAME_LAST
    ; End
    ; TransitionState   = UP_SNOW DOWN_DEFAULT
      ; Model           = NBBarracks_A4S
      ; Animation       = NBBarracks_A4S.NBBarracks_A4S
      ; AnimationMode   = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
     ; Flags           = START_FRAME_LAST
    ; End
    ; TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      ; Model           = NBBarracks_A4SN
      ; Animation       = NBBarracks_A4SN.NBBarracks_A4SN
      ; AnimationMode   = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
     ; Flags           = START_FRAME_LAST
    ; End
  ; End

  ; ; ------------ under-construction scaffolding -----------------
  ; Draw = W3DModelDraw ModuleTag_03
  ; AnimationsRequirePower = No
    ; MinLODRequired = MEDIUM
    ; DefaultConditionState
      ; Model           = None
      ; TransitionKey   = DOWN_DEFAULT
    ; End
    ; ConditionState    = NIGHT
      ; Model           = None
      ; TransitionKey   = DOWN_DEFAULT
    ; End
    ; ConditionState    = SNOW
      ; Model           = None
      ; TransitionKey   = DOWN_DEFAULT
    ; End
    ; ConditionState    = SNOW NIGHT
      ; Model           = None
      ; TransitionKey   = DOWN_DEFAULT
    ; End
    ; ConditionState    = PARTIALLY_CONSTRUCTED
      ; Model           = NBBarracks_A6
      ; Animation       = NBBarracks_A6.NBBarracks_A6
      ; AnimationMode   = MANUAL
      ; Flags           = START_FRAME_LAST
      ; TransitionKey   = UP_DAY
      ; ParticleSysBone = Dust01 BuildingDustChina
      ; ParticleSysBone = Smoke01 BuildUpSmokeChina
      ; ParticleSysBone = Smoke02 BuildUpSmokeChina
      ; ParticleSysBone = Smoke03 BuildUpSmokeChina
      ; ParticleSysBone = Smoke04 BuildUpSmokeChina
      ; ParticleSysBone = Smoke05 BuildUpSmokeChina
    ; End
    ; ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      ; Model           = NBBarracks_A6N
      ; Animation       = NBBarracks_A6N.NBBarracks_A6N
      ; AnimationMode   = MANUAL
      ; Flags           = START_FRAME_LAST
      ; TransitionKey   = UP_NIGHT
      ; ParticleSysBone = Dust01 BuildingDustChina
      ; ParticleSysBone = Smoke01 BuildUpSmokeChina
      ; ParticleSysBone = Smoke02 BuildUpSmokeChina
      ; ParticleSysBone = Smoke03 BuildUpSmokeChina
      ; ParticleSysBone = Smoke04 BuildUpSmokeChina
      ; ParticleSysBone = Smoke05 BuildUpSmokeChina
    ; End
    ; ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      ; Model           = NBBarracks_A6S
      ; Animation       = NBBarracks_A6S.NBBarracks_A6S
      ; AnimationMode   = MANUAL
      ; Flags           = START_FRAME_LAST
      ; TransitionKey   = UP_SNOW
      ; ParticleSysBone = Dust01 BuildingSnowDust
      ; ParticleSysBone = Smoke01 BuildUpSnowSmoke
      ; ParticleSysBone = Smoke02 BuildUpSnowSmoke
      ; ParticleSysBone = Smoke03 BuildUpSnowSmoke
      ; ParticleSysBone = Smoke04 BuildUpSnowSmoke
      ; ParticleSysBone = Smoke05 BuildUpSnowSmoke
    ; End
    ; ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      ; Model           = NBBarracks_A6SN
      ; Animation       = NBBarracks_A6SN.NBBarracks_A6SN
      ; AnimationMode   = MANUAL
      ; Flags           = START_FRAME_LAST
      ; TransitionKey   = UP_SNOWNIGHT
      ; ParticleSysBone = Dust01 BuildingNightSnowDust
      ; ParticleSysBone = Smoke01 BuildUpNightSnowSmoke
      ; ParticleSysBone = Smoke02 BuildUpNightSnowSmoke
      ; ParticleSysBone = Smoke03 BuildUpNightSnowSmoke
      ; ParticleSysBone = Smoke04 BuildUpNightSnowSmoke
      ; ParticleSysBone = Smoke05 BuildUpNightSnowSmoke
    ; End
    ; TransitionState   = DOWN_DEFAULT UP_DAY
     ; Model            = NBBarracks_A6
      ; Animation       = NBBarracks_A6.NBBarracks_A6
      ; AnimationMode   = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags           = START_FRAME_FIRST
    ; End
    ; TransitionState   = DOWN_DEFAULT UP_NIGHT
     ; Model            = NBBarracks_A6N
      ; Animation       = NBBarracks_A6N.NBBarracks_A6N
      ; AnimationMode   = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags           = START_FRAME_FIRST
    ; End
    ; TransitionState   = DOWN_DEFAULT UP_SNOW
     ; Model            = NBBarracks_A6S
      ; Animation       = NBBarracks_A6S.NBBarracks_A6S
      ; AnimationMode   = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags           = START_FRAME_FIRST
    ; End
    ; TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
     ; Model            = NBBarracks_A6SN
      ; Animation       = NBBarracks_A6SN.NBBarracks_A6SN
      ; AnimationMode   = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags           = START_FRAME_FIRST
    ; End
    ; TransitionState   = UP_DAY DOWN_DEFAULT
      ; Model           = NBBarracks_A6
      ; Animation       = NBBarracks_A6.NBBarracks_A6
      ; AnimationMode   = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      ; Flags           = START_FRAME_LAST
    ; End
    ; TransitionState   = UP_NIGHT DOWN_DEFAULT
      ; Model           = NBBarracks_A6N
      ; Animation       = NBBarracks_A6N.NBBarracks_A6N
      ; AnimationMode   = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      ; Flags           = START_FRAME_LAST
    ; End
    ; TransitionState   = UP_SNOW DOWN_DEFAULT
      ; Model           = NBBarracks_A6S
      ; Animation       = NBBarracks_A6S.NBBarracks_A6S
      ; AnimationMode   = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      ; Flags           = START_FRAME_LAST
    ; End
    ; TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      ; Model           = NBBarracks_A6SN
      ; Animation       = NBBarracks_A6SN.NBBarracks_A6SN
      ; AnimationMode   = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      ; Flags           = START_FRAME_LAST
    ; End
  ; End

  ; ; ------------ being-constructed crane -----------------
  ; Draw = W3DModelDraw ModuleTag_04
  ; AnimationsRequirePower = No
    ; DefaultConditionState
      ; Model           = None
      ; TransitionKey   = DOWN_DEFAULT
    ; End
    ; ConditionState    = NIGHT
      ; Model           = None
      ; TransitionKey   = DOWN_DEFAULT
    ; End
    ; ConditionState    = SNOW
      ; Model           = None
      ; TransitionKey   = DOWN_DEFAULT
    ; End
    ; ConditionState    = SNOW NIGHT
      ; Model           = None
      ; TransitionKey   = DOWN_DEFAULT
    ; End
    ; ConditionState    = SOLD
      ; Model           = NONE
    ; End

    ; ConditionState  = ACTIVELY_BEING_CONSTRUCTED
      ; Model           = NBBarracks_A5
      ; Animation       = NBBarracks_A5.NBBarracks_A5
      ; AnimationMode   = LOOP
      ; TransitionKey  = UP_DAY
    ; End

    ; ConditionState  = NIGHT ACTIVELY_BEING_CONSTRUCTED
      ; Model           = NBBarracks_A5N
      ; Animation       = NBBarracks_A5N.NBBarracks_A5N
      ; AnimationMode   = LOOP
      ; TransitionKey  = UP_NIGHT
    ; End
    ; ConditionState  = SNOW ACTIVELY_BEING_CONSTRUCTED
      ; Model           = NBBarracks_A5S
      ; Animation       = NBBarracks_A5S.NBBarracks_A5S
      ; AnimationMode   = LOOP
      ; TransitionKey  = UP_SNOW
    ; End
    ; ConditionState  = SNOW NIGHT ACTIVELY_BEING_CONSTRUCTED
      ; Model           = NBBarracks_A5SN
      ; Animation       = NBBarracks_A5SN.NBBarracks_A5SN
      ; AnimationMode   = LOOP
      ; TransitionKey  = UP_SNOWNIGHT
    ; End
    ; TransitionState   = DOWN_DEFAULT UP_DAY
      ; Model            = NBBarracks_AB
      ; Animation       = NBBarracks_AB.NBBarracks_AB
      ; AnimationMode   = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags           = START_FRAME_FIRST
    ; End

    ; TransitionState   = DOWN_DEFAULT UP_NIGHT
      ; Model            = NBBarracks_ABN
      ; Animation       = NBBarracks_ABN.NBBarracks_ABN
      ; AnimationMode   = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags           = START_FRAME_FIRST
    ; End
    ; TransitionState   = DOWN_DEFAULT UP_SNOW
      ; Model            = NBBarracks_ABS
      ; Animation       = NBBarracks_ABS.NBBarracks_ABS
      ; AnimationMode   = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags           = START_FRAME_FIRST
    ; End
    ; TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      ; Model            = NBBarracks_ABSN
      ; Animation       = NBBarracks_ABSN.NBBarracks_ABSN
      ; AnimationMode   = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags           = START_FRAME_FIRST
    ; End
    ; TransitionState   = UP_DAY DOWN_DEFAULT
      ; Model            = NBBarracks_AB
      ; Animation       = NBBarracks_AB.NBBarracks_AB
      ; AnimationMode   = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      ; Flags           = START_FRAME_LAST
    ; End
    ; TransitionState   = UP_NIGHT DOWN_DEFAULT
      ; Model            = NBBarracks_ABN
      ; Animation       = NBBarracks_ABN.NBBarracks_ABN
      ; AnimationMode   = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      ; Flags           = START_FRAME_LAST
    ; End
    ; TransitionState   = UP_SNOW DOWN_DEFAULT
      ; Model            = NBBarracks_ABS
      ; Animation       = NBBarracks_ABS.NBBarracks_ABS
      ; AnimationMode   = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      ; Flags           = START_FRAME_LAST
    ; End
    ; TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      ; Model            = NBBarracks_ABSN
      ; Animation       = NBBarracks_ABSN.NBBarracks_ABSN
      ; AnimationMode   = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      ; Flags           = START_FRAME_LAST
    ; End
  ; End
  
  ; PlacementViewAngle = -135
  
  Draw = W3DModelDraw ModuleTag_01
  
    OkToChangeModelColor = Yes
    
    DefaultConditionState
      Model              = RBBarracks
      Animation          = RBBarracks.RBBarracks
      AnimationMode      = LOOP
    End
    AliasConditionState = NIGHT
    
    ConditionState       = DAMAGED
      Model              = RBBarracks_D
      Animation          = RBBarracks_D.RBBarracks_D
      AnimationMode      = LOOP
      ParticleSysBone    = Smoke01 SmolderingSmoke
      ParticleSysBone    = Smoke01 SmolderingFire
      ParticleSysBone    = Smoke02 SmolderingSmoke

    End
    AliasConditionState = DAMAGED NIGHT
    AliasConditionState = DAMAGED SNOW
    AliasConditionState = DAMAGED NIGHT SNOW
    
    ConditionState = REALLYDAMAGED RUBBLE
      Model              = RBBarracks_D
      Animation          = RBBarracks_D.RBBarracks_D
      AnimationMode      = LOOP
      ParticleSysBone    = Smoke01 SmolderingSmoke
      ParticleSysBone    = Smoke01 SmolderingFire
      ParticleSysBone    = Smoke02 SmolderingFire
      ParticleSysBone    = Smoke02 SmolderingSmoke
    End
    AliasConditionState = REALLYDAMAGED RUBBLE NIGHT
    AliasConditionState = REALLYDAMAGED RUBBLE SNOW
    AliasConditionState = REALLYDAMAGED RUBBLE NIGHT SNOW

    ConditionState = SNOW
      Model              = RBBarracks_S
      Animation          = RBBarracks_S.RBBarracks_S
      AnimationMode      = LOOP
    End
    AliasConditionState = NIGHT SNOW
    
    ;**************************************************************************************************************************

    ConditionState      = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model             = RBBarracks
      Flags             = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
    
    ConditionState      = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model             = RBBarracks_D
      Flags             = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED

    ConditionState      = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model             = RBBarracks_D
      Flags             = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED

    ConditionState      = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model             = RBBarracks_S
      Flags             = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    ;**************************************************************************************************************************
  End
  
  ; ------------ construction-zone fence -----------------
  Draw = W3DModelDraw ModuleTag_02
  AnimationsRequirePower = No

    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    AliasConditionState = NIGHT
    AliasConditionState = SNOW
    AliasConditionState = SNOW NIGHT

    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = RBBarracks_BF
      Animation       = RBBarracks_BF.RBBarracks_BF
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
    End
    AliasConditionState = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
    AliasConditionState = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
    AliasConditionState = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED

    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = RBBarracks_BF
      Animation       = RBBarracks_BF.RBBarracks_BF
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = RBBarracks_BF
      Animation       = RBBarracks_BF.RBBarracks_BF
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_LAST
    End

  End

; ------------ under-construction scaffolding -----------------
  Draw = W3DModelDraw ModuleTag_03
  AnimationsRequirePower = No
    MinLODRequired = MEDIUM
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    AliasConditionState = NIGHT
    AliasConditionState = SNOW
    AliasConditionState = SNOW NIGHT

    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = RBBarracks_SC
      Animation       = RBBarracks_SC.RBBarracks_SC
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Smoke01 BuildUpSmokeChina
      ParticleSysBone = Smoke02 BuildUpSmokeChina
      ParticleSysBone = Smoke03 BuildUpSmokeChina
    End
    AliasConditionState = NIGHT PARTIALLY_CONSTRUCTED
    AliasConditionState = SNOW PARTIALLY_CONSTRUCTED
    AliasConditionState = SNOW NIGHT PARTIALLY_CONSTRUCTED

    TransitionState   = DOWN_DEFAULT UP_DAY
     Model            = RBBarracks_SC
      Animation       = RBBarracks_SC.RBBarracks_SC
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = RBBarracks_SC
      Animation       = RBBarracks_SC.RBBarracks_SC
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_LAST
    End

  End
  
  PlacementViewAngle = -45

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Barracks
  Side             = Boss
  EditorSorting    = STRUCTURE
  BuildCost        = 500
  BuildTime        = 10.0           ; in seconds
  EnergyProduction = 0
  CommandSet       = Boss_ChinaBarracksCommandSet
  VisionRange      = 150.0           ; Shroud clearing distance
  ShroudClearingRange = 150
  ArmorSet
    Conditions      = None
    Armor           = StructureArmor
    DamageFX        = StructureDamageFXNoShake
  End
  ExperienceValue     = 100 100 100 100  ; Experience point value at each level

  ; *** AUDIO Parameters ***
  VoiceSelect = BarracksChinaSelect
  SoundOnDamaged        = BuildingDamagedStateLight
  SoundOnReallyDamaged  = BuildingDestroy

  UnitSpecificSounds
    UnderConstruction     = UnderConstructionLoop
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority   = STRUCTURE
  KindOf          = PRELOAD STRUCTURE SELECTABLE IMMOBILE HEAL_PAD SCORE CAPTURABLE FS_FACTORY AUTO_RALLYPOINT MP_COUNT_FOR_VICTORY FS_BARRACKS
  Body            = StructureBody ModuleTag_05
    MaxHealth     = 1000.0
    InitialHealth = 1000.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 1200
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
  End

  Behavior = HealContain ModuleTag_06
    ContainMax          = 10 ;way bigger than the # of objects we can have  
    TimeForFullHeal     = 2000   ;(in milliseconds)
    AllowInsideKindOf   = INFANTRY
    AllowAlliesInside   = Yes
    AllowNeutralInside  = No
    AllowEnemiesInside  = No
  End

  Behavior = DestroyDie ModuleTag_07
    ;nothing
  End
  Behavior             = CreateObjectDie ModuleTag_08
    CreationList  = OCL_LargeStructureDebris
  End
  Behavior             = FXListDie ModuleTag_09
    DeathFX       = FX_StructureSmallDeath
  End 

  Behavior = ProductionUpdate ModuleTag_10
    ; 
	QuantityModifier = Boss_RussiaInfantryConscript 4
	QuantityModifier = Boss_RussiaInfantryRPGConscript 4
	QuantityModifier = Boss_RussiaInfantryVDVParaTrooper 3
	QuantityModifier = Boss_RussiaInfantryVDVRPGParaTrooper 3
	QuantityModifier = Boss_RussianSpecOps 3
	; 
	QuantityModifier = Boss_RussiaInfantryConscriptPlatoon 20
	QuantityModifier = Boss_RussiaInfantryRPGConscriptPlatoon 10
	QuantityModifier = Boss_RussiaInfantryVDVParaTrooperPlatoon 15
	QuantityModifier = Boss_RussiaInfantryVDVRPGParaTrooperPlatoon 10
	; 
	QuantityModifier = Boss_RussiaInfantryConscriptCompany 80
	QuantityModifier = Boss_RussiaInfantryRPGConscriptCompany 20
	QuantityModifier = Boss_RussiaInfantryVDVParaTrooperCompany 60
	QuantityModifier = Boss_RussiaInfantryVDVRPGParaTrooperCompany 18
	;     
	QuantityModifier = Boss_InfantryPathfinderPair 2
	QuantityModifier = Boss_RussianSpecOpsPlatoon 16
  End
  
  Behavior = QueueProductionExitUpdate ModuleTag_11
    UnitCreatePoint   = X: 12.0  Y: -9.3  Z:0.0
    NaturalRallyPoint = X: 50.0  Y: -9.3  Z:0.0
    ExitDelay = 300 ; Mainly for the multiple produced Red Guard.  Make them come out one at a time.
  End

  Behavior = GenerateMinefieldBehavior     ModuleTag_12
    TriggeredBy           = Upgrade_ChinaMines
    MineName              = ChinaStandardMine
    SmartBorder           = Yes
    AlwaysCircular        = Yes

    Upgradable            = Yes
    UpgradedTriggeredBy   = Upgrade_ChinaEMPMines
    UpgradedMineName      = ChinaEMPMine
  End

  Behavior = FlammableUpdate ModuleTag_14
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 5       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = TransitionDamageFX ModuleTag_15
    ;-------------DESIGNED FOR SMALL SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
  End
  
  Behavior = CommandSetUpgrade ModuleTag_17
    TriggeredBy = Upgrade_ChinaWarFactoryupCommandSet
    RemovesUpgrades = Upgrade_ChinaWarFactorydownCommandSet
    CommandSet = Boss_ChinaBarrackstechCommandSet
  End

  Behavior = CommandSetUpgrade ModuleTag_18
    TriggeredBy = Upgrade_ChinaWarFactorydownCommandSet
    RemovesUpgrades = Upgrade_ChinaWarFactoryupCommandSet Upgrade_ChinaWarFactorydownCommandSet
    CommandSet = Boss_ChinaBarracksCommandSet
  End

  Behavior = ProductionUpdate ModuleTag_19
    MaxQueueEntries = 1; For the command set switching upgrade
  End

  Behavior = CommandSetUpgrade ModuleTag_25
    CommandSet = Boss_ChinaBarracksCommandSetUpgrade
    TriggeredBy = Upgrade_ChinaMines
  End

  ; Behavior = BaseRegenerateUpdate ModuleTag_1301
    ; ;No data
  ; End 

  ; Behavior             = CreateObjectDie ModuleTag_16112
    ; CreationList  = OCL_AmericanRangerDebris03
    ; ExemptStatus  = UNDER_CONSTRUCTION
  ; End

  Geometry            = BOX
  GeometryMajorRadius = 48.0
  GeometryMinorRadius = 56.0
  GeometryHeight      = 35.0
  GeometryIsSmall     = No
  FactoryExitWidth    = 25 
  Shadow          = SHADOW_VOLUME
  BuildCompletion = PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
Object Boss_WarFactory

  ; *** ART Parameters ***
  SelectPortrait         = SNWarFact_L
  ButtonImage            = SNWarFact

  ; ; ------------ the main factory itself -----------------
  ; Draw                = W3DModelDraw ModuleTag_01
    ; OkToChangeModelColor = Yes
    ; ; day
    ; DefaultConditionState
      ; Model           = BBWarFact2
      ; ParticleSysBone = Smokeoil01 SmolderingSmoke
      ; ParticleSysBone = Smokeoil02 SmolderingSmoke
      ; ParticleSysBone = Smokeoil03 SmolderingSmoke
    ; End
    ; ConditionState    = DAMAGED
      ; Model           = BBWarFact_D
      ; ParticleSysBone = Smokeoil01 SmolderingSmoke
      ; ParticleSysBone = Smokeoil02 SmolderingSmoke
      ; ParticleSysBone = Smokeoil03 SmolderingSmoke
      ; ParticleSysBone = Smoke01 SmolderingSmoke
      ; ParticleSysBone = Smoke02 SmolderingSmoke
      ; ParticleSysBone = Smoke03 SmolderingSmoke
      ; ParticleSysBone = Smoke04 SmolderingSmoke
      ; ParticleSysBone = Smoke05 SmolderingSmoke
      ; ParticleSysBone = Fire01  SmolderingFire
      ; ParticleSysBone = Fire01  SmolderingFlameCore
      ; ParticleSysBone = Fire02  SmolderingFire
      ; ParticleSysBone = Fire02  SmolderingFlameCore
    ; End
    ; ConditionState    = REALLYDAMAGED RUBBLE
      ; Model           = BBWarFact_E
      ; ParticleSysBone = Smokeoil01 SmolderingSmoke
      ; ParticleSysBone = Smokeoil02 SmolderingSmoke
      ; ParticleSysBone = Smokeoil03 SmolderingSmoke
      ; ParticleSysBone = Smoke01 SmolderingSmoke
      ; ParticleSysBone = Smoke02 SmolderingSmoke
      ; ParticleSysBone = Smoke03 SmolderingSmoke
      ; ParticleSysBone = Smoke04 SmolderingSmoke
      ; ParticleSysBone = Smoke05 SmolderingSmoke
      ; ParticleSysBone = Smoke06 SmolderingSmoke
      ; ParticleSysBone = Smoke07 SmolderingSmoke
      ; ParticleSysBone = Fire01  SmolderingFire
      ; ParticleSysBone = Fire01  SmolderingFlameCore
      ; ParticleSysBone = Fire02  SmolderingFire
      ; ParticleSysBone = Fire02  SmolderingFlameCore
      ; ParticleSysBone = Fire03  SmolderingFire
      ; ParticleSysBone = Fire03  SmolderingFlameCore
    ; End
    
    ; ConditionState    = SNOW
      ; Model           = BBWarFact_S
      ; ParticleSysBone = Smokeoil01 SmolderingSmoke
      ; ParticleSysBone = Smokeoil02 SmolderingSmoke
      ; ParticleSysBone = Smokeoil03 SmolderingSmoke
    ; End
    ; ConditionState = DAMAGED SNOW
      ; Model           = BBWarFact_DS
      ; ParticleSysBone = Smokeoil01 SmolderingSmoke
      ; ParticleSysBone = Smokeoil02 SmolderingSmoke
      ; ParticleSysBone = Smokeoil03 SmolderingSmoke
      ; ParticleSysBone = Smoke01 SmolderingSmoke
      ; ParticleSysBone = Smoke02 SmolderingSmoke
      ; ParticleSysBone = Smoke03 SmolderingSmoke
      ; ParticleSysBone = Smoke04 SmolderingSmoke
      ; ParticleSysBone = Smoke05 SmolderingSmoke
      ; ParticleSysBone = Fire01  SmolderingFire
      ; ParticleSysBone = Fire01  SmolderingFlameCore
      ; ParticleSysBone = Fire02  SmolderingFire
      ; ParticleSysBone = Fire02  SmolderingFlameCore
    ; End
    ; ConditionState = REALLYDAMAGED RUBBLE SNOW
      ; Model           = BBWarFact_ES
      ; ParticleSysBone = Smokeoil01 SmolderingSmoke
      ; ParticleSysBone = Smokeoil02 SmolderingSmoke
      ; ParticleSysBone = Smokeoil03 SmolderingSmoke
      ; ParticleSysBone = Smoke01 SmolderingSmoke
      ; ParticleSysBone = Smoke02 SmolderingSmoke
      ; ParticleSysBone = Smoke03 SmolderingSmoke
      ; ParticleSysBone = Smoke04 SmolderingSmoke
      ; ParticleSysBone = Smoke05 SmolderingSmoke
      ; ParticleSysBone = Smoke06 SmolderingSmoke
      ; ParticleSysBone = Smoke07 SmolderingSmoke
      ; ParticleSysBone = Fire01  SmolderingFire
      ; ParticleSysBone = Fire01  SmolderingFlameCore
      ; ParticleSysBone = Fire02  SmolderingFire
      ; ParticleSysBone = Fire02  SmolderingFlameCore
      ; ParticleSysBone = Fire03  SmolderingFire
      ; ParticleSysBone = Fire03  SmolderingFlameCore
    ; End
    

    ; ; night **********************************************
    ; ConditionState  = NIGHT
      ; Model           = BBWarFact2
      ; ParticleSysBone = Smokeoil01 SmolderingSmoke
      ; ParticleSysBone = Smokeoil02 SmolderingSmoke
      ; ParticleSysBone = Smokeoil03 SmolderingSmoke   
    ; End
    ; ConditionState    = DAMAGED NIGHT
      ; Model           = BBWarFact_D
      ; ParticleSysBone = Smokeoil01 SmolderingSmoke
      ; ParticleSysBone = Smokeoil02 SmolderingSmoke
      ; ParticleSysBone = Smokeoil03 SmolderingSmoke
      ; ParticleSysBone = Smoke01 SmolderingSmoke
      ; ParticleSysBone = Smoke02 SmolderingSmoke
      ; ParticleSysBone = Smoke03 SmolderingSmoke
      ; ParticleSysBone = Smoke04 SmolderingSmoke
      ; ParticleSysBone = Smoke05 SmolderingSmoke
      ; ParticleSysBone = Fire01  SmolderingFire
      ; ParticleSysBone = Fire01  SmolderingFlameCore
      ; ParticleSysBone = Fire02  SmolderingFire
      ; ParticleSysBone = Fire02  SmolderingFlameCore
    ; End
    ; ConditionState    = REALLYDAMAGED RUBBLE NIGHT
      ; Model           = BBWarFact_E
      ; ParticleSysBone = Smokeoil01 SmolderingSmoke
      ; ParticleSysBone = Smokeoil02 SmolderingSmoke
      ; ParticleSysBone = Smokeoil03 SmolderingSmoke
      ; ParticleSysBone = Smoke01 SmolderingSmoke
      ; ParticleSysBone = Smoke02 SmolderingSmoke
      ; ParticleSysBone = Smoke03 SmolderingSmoke
      ; ParticleSysBone = Smoke04 SmolderingSmoke
      ; ParticleSysBone = Smoke05 SmolderingSmoke
      ; ParticleSysBone = Smoke06 SmolderingSmoke
      ; ParticleSysBone = Smoke07 SmolderingSmoke
      ; ParticleSysBone = Fire01  SmolderingFire
      ; ParticleSysBone = Fire01  SmolderingFlameCore
      ; ParticleSysBone = Fire02  SmolderingFire
      ; ParticleSysBone = Fire02  SmolderingFlameCore
      ; ParticleSysBone = Fire03  SmolderingFire
      ; ParticleSysBone = Fire03  SmolderingFlameCore
    ; End
        
    ; ; night   SNOW
      ; ConditionState = NIGHT SNOW
      ; Model           = BBWarFact_S
      ; ParticleSysBone = Smokeoil01 SmolderingSmoke
      ; ParticleSysBone = Smokeoil02 SmolderingSmoke
      ; ParticleSysBone = Smokeoil03 SmolderingSmoke
    ; End
    ; ConditionState = DAMAGED NIGHT SNOW
      ; Model           = BBWarFact_DS
      ; ParticleSysBone = Smokeoil01 SmolderingSmoke
      ; ParticleSysBone = Smokeoil02 SmolderingSmoke
      ; ParticleSysBone = Smokeoil03 SmolderingSmoke
      ; ParticleSysBone = Smoke01 SmolderingSmoke
      ; ParticleSysBone = Smoke02 SmolderingSmoke
      ; ParticleSysBone = Smoke03 SmolderingSmoke
      ; ParticleSysBone = Smoke04 SmolderingSmoke
      ; ParticleSysBone = Smoke05 SmolderingSmoke
      ; ParticleSysBone = Fire01  SmolderingFire
      ; ParticleSysBone = Fire01  SmolderingFlameCore
      ; ParticleSysBone = Fire02  SmolderingFire
      ; ParticleSysBone = Fire02  SmolderingFlameCore
    ; End
    ; ConditionState = REALLYDAMAGED RUBBLE NIGHT SNOW
      ; Model           = BBWarFact_ES
      ; ParticleSysBone = Smokeoil01 SmolderingSmoke
      ; ParticleSysBone = Smokeoil02 SmolderingSmoke
      ; ParticleSysBone = Smokeoil03 SmolderingSmoke
      ; ParticleSysBone = Smoke01 SmolderingSmoke
      ; ParticleSysBone = Smoke02 SmolderingSmoke
      ; ParticleSysBone = Smoke03 SmolderingSmoke
      ; ParticleSysBone = Smoke04 SmolderingSmoke
      ; ParticleSysBone = Smoke05 SmolderingSmoke
      ; ParticleSysBone = Smoke06 SmolderingSmoke
      ; ParticleSysBone = Smoke07 SmolderingSmoke
      ; ParticleSysBone = Fire01  SmolderingFire
      ; ParticleSysBone = Fire01  SmolderingFlameCore
      ; ParticleSysBone = Fire02  SmolderingFire
      ; ParticleSysBone = Fire02  SmolderingFlameCore
      ; ParticleSysBone = Fire03  SmolderingFire
      ; ParticleSysBone = Fire03  SmolderingFlameCore
    ; End
    
    
    ; ;**************************************************************************************************************************
    ; ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ; ;for this draw module
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      ; Model              = BBWarFact2
      ; ;Animation          = NBWarFact.NBWarFact
      ; ;AnimationMode      = LOOP
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      ; Model              = BBWarFact_D
      ; ;Animation          = NBWarFact_D.NBWarFact_D
      ; ;AnimationMode      = LOOP
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      ; Model              = BBWarFact_E
      ; ;Animation          = NBWarFact_E.NBWarFact_E
      ; ;AnimationMode      = LOOP
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
      ; Model              = BBWarFact2
      ; ;Animation          = NBWarFact_N.NBWarFact_N
      ; ;AnimationMode      = LOOP
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
      ; Model              = BBWarFact_D
      ; ;Animation          = NBWarFact_DN.NBWarFact_DN
      ; ;AnimationMode      = LOOP
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
      ; Model              = BBWarFact_E
      ; ;Animation          = NBWarFact_EN.NBWarFact_EN
      ; ;AnimationMode      = LOOP
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      ; Model              = BBWarFact2
      ; ;Animation          = NBWarFact_S.NBWarFact_S
      ; ;AnimationMode      = LOOP
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
      ; Model              = BBWarFact_D
      ; ;Animation          = NBWarFact_DS.NBWarFact_DS
      ; ;AnimationMode      = LOOP
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
      ; Model              = BBWarFact_E
      ; ;Animation          = NBWarFact_ES.NBWarFact_ES
      ; ;AnimationMode      = LOOP
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
      ; Model              = BBWarFact2
      ; ;Animation          = NBWarFact_NS.NBWarFact_NS
      ; ;AnimationMode      = LOOP
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
      ; Model              = BBWarFact_D
      ; ;Animation          = NBWarFact_DNS.NBWarFact_DNS
      ; ;AnimationMode      = LOOP
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
      ; Model              = BBWarFact_E
      ; ;Animation          = NBWarFact_ENS.NBWarFact_ENS
      ; ;AnimationMode      = LOOP
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End

    ; ConditionState       = AWAITING_CONSTRUCTION 
      ; Model              = NONE
    ; End
    ; AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    ; AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    ; AliasConditionState  = SOLD 
    ; AliasConditionState  = SOLD DAMAGED
    ; AliasConditionState  = SOLD REALLYDAMAGED
    ; AliasConditionState  = SOLD NIGHT
    ; AliasConditionState  = SOLD NIGHT DAMAGED
    ; AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    ; AliasConditionState  = SOLD SNOW
    ; AliasConditionState  = SOLD SNOW DAMAGED
    ; AliasConditionState  = SOLD SNOW REALLYDAMAGED
    ; AliasConditionState  = SOLD NIGHT SNOW
    ; AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    ; AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    ; ;**************************************************************************************************************************


  ; End
  
  ; ; ------------------ the construction crane ------------
  ; Draw                   = W3DModelDraw ModuleTag_02
    ; OkToChangeModelColor = Yes
    ; ConditionState       = None
      ; Model              = NBWarFact_A1
      ; Animation          = NBWarFact_A1.NBWarFact_A1
      ; AnimationMode      = LOOP
      ; WaitForStateToFinishIfPossible = TransitionFinishBeforeSwitch
    ; End
    ; ConditionState       = DAMAGED
      ; Model              = NBWarFact_A1D
      ; Animation          = NBWarFact_A1D.NBWarFact_A1D
      ; AnimationMode      = LOOP
      ; WaitForStateToFinishIfPossible = TransitionFinishBeforeSwitch
    ; End
    ; ConditionState       = REALLYDAMAGED RUBBLE
      ; Model              = NBWarFact_A1E
      ; Animation          = NBWarFact_A1E.NBWarFact_A1E
      ; AnimationMode      = LOOP
      ; WaitForStateToFinishIfPossible = TransitionFinishBeforeSwitch
    ; End
    ; ConditionState       = ACTIVELY_CONSTRUCTING
      ; Model              = NBWarFact_A2
      ; Animation          = NBWarFact_A2.NBWarFact_A2
      ; AnimationMode      = ONCE
      ; TransitionKey      = TransitionFinishBeforeSwitch
    ; End
    ; ConditionState       = ACTIVELY_CONSTRUCTING DAMAGED
      ; Model              = NBWarFact_A2D
      ; Animation          = NBWarFact_A2D.NBWarFact_A2D
      ; AnimationMode      = ONCE
      ; TransitionKey      = TransitionFinishBeforeSwitch
    ; End
    ; ConditionState       = ACTIVELY_CONSTRUCTING REALLYDAMAGED RUBBLE
      ; Model              = NBWarFact_A2E
      ; Animation          = NBWarFact_A2E.NBWarFact_A2E
      ; AnimationMode      = ONCE
      ; TransitionKey      = TransitionFinishBeforeSwitch
    ; End
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      ; Model              = NBWarFact_A1
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState       = SOLD DAMAGED REALLYDAMAGED RUBBLE
      ; Model              = NONE
    ; End
  ; End


  ; ; ------------ construction-zone fence -----------------
  ; Draw                = W3DModelDraw ModuleTag_03
  ; AnimationsRequirePower = No
    ; DefaultConditionState
      ; Model           = None
      ; TransitionKey   = DOWN_DEFAULT
    ; End
    ; ConditionState    = NIGHT
      ; Model           = None
      ; TransitionKey   = DOWN_DEFAULT
    ; End
    ; ConditionState    = SNOW
      ; Model           = None
      ; TransitionKey   = DOWN_DEFAULT
    ; End
    ; ConditionState    = SNOW NIGHT
      ; Model           = None
      ; TransitionKey   = DOWN_DEFAULT
    ; End
    ; ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      ; Model           = NBWarFact_A4
      ; Animation       = NBWarFact_A4.NBWarFact_A4
      ; AnimationMode   = MANUAL
      ; Flags           = START_FRAME_LAST
      ; TransitionKey   = UP_DAY
      ; ParticleSysBone = Smoke01 SmolderingSmoke
      ; ParticleSysBone =  Fire01 SmolderingFire
      ; ParticleSysBone = Smoke02 SmolderingSmoke
      ; ParticleSysBone =  Fire02 SmolderingFire
    ; End
    ; ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      ; Model           = NBWarFact_A4N
      ; Animation       = NBWarFact_A4N.NBWarFact_A4N
      ; AnimationMode   = MANUAL
      ; Flags           = START_FRAME_LAST
      ; TransitionKey   = UP_NIGHT
      ; ParticleSysBone = Smoke01 SmolderingSmoke
      ; ParticleSysBone =  Fire01 SmolderingFire
      ; ParticleSysBone = Smoke02 SmolderingSmoke
      ; ParticleSysBone =  Fire02 SmolderingFire
    ; End
    ; ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      ; Model           = NBWarFact_A4S
      ; Animation       = NBWarFact_A4S.NBWarFact_A4S
      ; AnimationMode   = MANUAL
      ; Flags           = START_FRAME_LAST
      ; TransitionKey   = UP_SNOW
      ; ParticleSysBone = Smoke01 SmolderingSmoke
      ; ParticleSysBone =  Fire01 SmolderingFire
      ; ParticleSysBone = Smoke02 SmolderingSmoke
      ; ParticleSysBone =  Fire02 SmolderingFire
    ; End
    ; ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      ; Model           = NBWarFact_A4SN
      ; Animation       = NBWarFact_A4SN.NBWarFact_A4SN
      ; AnimationMode   = MANUAL
      ; Flags           = START_FRAME_LAST
      ; TransitionKey   = UP_SNOWNIGHT
      ; ParticleSysBone = Smoke01 SmolderingSmoke
      ; ParticleSysBone =  Fire01 SmolderingFire
      ; ParticleSysBone = Smoke02 SmolderingSmoke
      ; ParticleSysBone =  Fire02 SmolderingFire
    ; End
    ; TransitionState   = DOWN_DEFAULT UP_DAY
      ; Model           = NBWarFact_A4
      ; Animation       = NBWarFact_A4.NBWarFact_A4
      ; AnimationMode   = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags           = START_FRAME_FIRST
    ; End
    ; TransitionState   = DOWN_DEFAULT UP_NIGHT
      ; Model           = NBWarFact_A4N
      ; Animation       = NBWarFact_A4N.NBWarFact_A4N
      ; AnimationMode   = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags           = START_FRAME_FIRST
    ; End
    ; TransitionState   = DOWN_DEFAULT UP_SNOW
      ; Model           = NBWarFact_A4S
      ; Animation       = NBWarFact_A4S.NBWarFact_A4S
      ; AnimationMode   = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags           = START_FRAME_FIRST
    ; End
    ; TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      ; Model           = NBWarFact_A4SN
      ; Animation       = NBWarFact_A4SN.NBWarFact_A4SN
      ; AnimationMode   = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags           = START_FRAME_FIRST
    ; End
    ; TransitionState   = UP_DAY DOWN_DEFAULT
      ; Model           = NBWarFact_A4
      ; Animation       = NBWarFact_A4.NBWarFact_A4
      ; AnimationMode   = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      ; Flags           = START_FRAME_LAST
    ; End
    ; TransitionState   = UP_NIGHT DOWN_DEFAULT
      ; Model           = NBWarFact_A4N
      ; Animation       = NBWarFact_A4N.NBWarFact_A4N
      ; AnimationMode   = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      ; Flags           = START_FRAME_LAST
    ; End
    ; TransitionState   = UP_SNOW DOWN_DEFAULT
      ; Model           = NBWarFact_A4S
      ; Animation       = NBWarFact_A4S.NBWarFact_A4S
      ; AnimationMode   = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      ; Flags           = START_FRAME_LAST
    ; End
    ; TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      ; Model           = NBWarFact_A4SN
      ; Animation       = NBWarFact_A4SN.NBWarFact_A4SN
      ; AnimationMode   = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      ; Flags           = START_FRAME_LAST
    ; End
  ; End

  ; ; ------------ under-construction scaffolding -----------------
  ; Draw                 = W3DModelDraw ModuleTag_04
  ; AnimationsRequirePower = No
    ; MinLODRequired = MEDIUM
    ; DefaultConditionState
      ; Model            = None
      ; TransitionKey    = DOWN_DEFAULT
    ; End
    ; ConditionState     = NIGHT
      ; Model            = None
      ; TransitionKey    = DOWN_DEFAULT
    ; End
    ; ConditionState     = SNOW
      ; Model            = None
      ; TransitionKey    = DOWN_DEFAULT
    ; End
    ; ConditionState     = SNOW NIGHT
      ; Model            = None
      ; TransitionKey    = DOWN_DEFAULT
    ; End
    ; ConditionState     = PARTIALLY_CONSTRUCTED
      ; Model            = NBWarFact_A6
      ; Animation        = NBWarFact_A6.NBWarFact_A6
      ; AnimationMode    = MANUAL
      ; Flags            = START_FRAME_LAST
      ; TransitionKey    = UP_DAY
      ; ParticleSysBone  = Dust01 BuildingDustChina
      ; ParticleSysBone  = Smoke01 BuildUpSmokeChina
      ; ParticleSysBone  = Smoke02 BuildUpSmokeChina
      ; ParticleSysBone  = Smoke03 BuildUpSmokeChina
      ; ParticleSysBone  = Smoke04 BuildUpSmokeChina
      ; ParticleSysBone  = Smoke05 BuildUpSmokeChina
    ; End
    ; ConditionState     = NIGHT PARTIALLY_CONSTRUCTED
      ; Model            = NBWarFact_A6N
      ; Animation        = NBWarFact_A6N.NBWarFact_A6N
      ; AnimationMode    = MANUAL
      ; Flags            = START_FRAME_LAST
      ; TransitionKey    = UP_NIGHT
      ; ParticleSysBone  = Dust01 BuildingDustChina
      ; ParticleSysBone  = Smoke01 BuildUpSmokeChina
      ; ParticleSysBone  = Smoke02 BuildUpSmokeChina
      ; ParticleSysBone  = Smoke03 BuildUpSmokeChina
      ; ParticleSysBone  = Smoke04 BuildUpSmokeChina
      ; ParticleSysBone  = Smoke05 BuildUpSmokeChina
    ; End
    ; ConditionState     = SNOW PARTIALLY_CONSTRUCTED
      ; Model            = NBWarFact_A6S
      ; Animation        = NBWarFact_A6S.NBWarFact_A6S
      ; AnimationMode    = MANUAL
      ; Flags            = START_FRAME_LAST
      ; TransitionKey    = UP_SNOW
      ; ParticleSysBone  = Dust01 BuildingSnowDust
      ; ParticleSysBone  = Smoke01 BuildUpSnowSmoke
      ; ParticleSysBone  = Smoke02 BuildUpSnowSmoke
      ; ParticleSysBone  = Smoke03 BuildUpSnowSmoke
      ; ParticleSysBone  = Smoke04 BuildUpSnowSmoke
      ; ParticleSysBone  = Smoke05 BuildUpSnowSmoke
    ; End
    ; ConditionState     = SNOW NIGHT PARTIALLY_CONSTRUCTED
      ; Model            = NBWarFact_A6SN
      ; Animation        = NBWarFact_A6SN.NBWarFact_A6SN
      ; AnimationMode    = MANUAL
      ; Flags            = START_FRAME_LAST
      ; TransitionKey    = UP_SNOWNIGHT
      ; ParticleSysBone  = Dust01 BuildingNightSnowDust
      ; ParticleSysBone  = Smoke01 BuildUpNightSnowSmoke
      ; ParticleSysBone  = Smoke02 BuildUpNightSnowSmoke
      ; ParticleSysBone  = Smoke03 BuildUpNightSnowSmoke
      ; ParticleSysBone  = Smoke04 BuildUpNightSnowSmoke
      ; ParticleSysBone  = Smoke05 BuildUpNightSnowSmoke
    ; End
    ; TransitionState    = DOWN_DEFAULT UP_DAY
     ; Model             = NBWarFact_A6
      ; Animation        = NBWarFact_A6.NBWarFact_A6
      ; AnimationMode    = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags            = START_FRAME_FIRST
    ; End
    ; TransitionState    = DOWN_DEFAULT UP_NIGHT
     ; Model             = NBWarFact_A6N
      ; Animation        = NBWarFact_A6N.NBWarFact_A6N
      ; AnimationMode    = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags            = START_FRAME_FIRST
    ; End
    ; TransitionState    = DOWN_DEFAULT UP_SNOW
     ; Model             = NBWarFact_A6S
      ; Animation        = NBWarFact_A6S.NBWarFact_A6S
      ; AnimationMode    = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags            = START_FRAME_FIRST
    ; End
    ; TransitionState    = DOWN_DEFAULT UP_SNOWNIGHT
     ; Model             = NBWarFact_A6SN
      ; Animation        = NBWarFact_A6SN.NBWarFact_A6SN
      ; AnimationMode    = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags            = START_FRAME_FIRST
    ; End
    ; TransitionState    = UP_DAY DOWN_DEFAULT
      ; Model            = NBWarFact_A6
      ; Animation        = NBWarFact_A6.NBWarFact_A6
      ; AnimationMode    = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      ; Flags            = START_FRAME_LAST
    ; End
    ; TransitionState    = UP_NIGHT DOWN_DEFAULT
      ; Model            = NBWarFact_A6N
      ; Animation        = NBWarFact_A6N.NBWarFact_A6N
      ; AnimationMode    = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      ; Flags            = START_FRAME_LAST
    ; End
    ; TransitionState    = UP_SNOW DOWN_DEFAULT
      ; Model            = NBWarFact_A6S
      ; Animation        = NBWarFact_A6S.NBWarFact_A6S
      ; AnimationMode    = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      ; Flags            = START_FRAME_LAST
    ; End
    ; TransitionState    = UP_SNOWNIGHT DOWN_DEFAULT
      ; Model            = NBWarFact_A6SN
      ; Animation        = NBWarFact_A6SN.NBWarFact_A6SN
      ; AnimationMode    = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      ; Flags            = START_FRAME_LAST
    ; End
  ; End


  ; ; ----------------- the factory door -------------------
  ; Draw = W3DModelDraw ModuleTag_06
    ; DefaultConditionState
      ; Model           = NBWarFact_A8
      ; Animation       = NBWarFact_A8.NBWarFact_A8
      ; AnimationMode   = MANUAL
      ; Flags           = START_FRAME_FIRST
    ; End
    ; AliasConditionState = NIGHT 
    ; AliasConditionState = SNOW
    ; AliasConditionState = NIGHT SNOW

    ; ConditionState    = DAMAGED
      ; Model           = NBWarFact_A8D
      ; Animation       = NBWarFact_A8D.NBWarFact_A8D
      ; AnimationMode   = MANUAL
      ; Flags           = START_FRAME_FIRST
    ; End
    ; AliasConditionState = NIGHT DAMAGED
    ; AliasConditionState = SNOW DAMAGED
    ; AliasConditionState = NIGHT SNOW DAMAGED

    ; ConditionState    = REALLYDAMAGED RUBBLE
      ; Model           = NBWarFact_A8E
      ; Animation       = NBWarFact_A8E.NBWarFact_A8E
      ; AnimationMode   = MANUAL
      ; Flags           = START_FRAME_FIRST
    ; End
    ; AliasConditionState = NIGHT REALLYDAMAGED RUBBLE
    ; AliasConditionState = SNOW REALLYDAMAGED RUBBLE
    ; AliasConditionState = NIGHT SNOW REALLYDAMAGED RUBBLE
    
    ; ConditionState    = DOOR_1_OPENING
      ; Model           = NBWarFact_A8
      ; Animation       = NBWarFact_A8.NBWarFact_A8
      ; AnimationMode   = ONCE
      ; Flags           = START_FRAME_FIRST
    ; End  
    ; AliasConditionState = NIGHT DOOR_1_OPENING
    ; AliasConditionState = SNOW DOOR_1_OPENING
    ; AliasConditionState = NIGHT SNOW DOOR_1_OPENING
     

    ; ConditionState    = DOOR_1_OPENING DAMAGED
      ; Model           = NBWarFact_A8D
      ; Animation       = NBWarFact_A8D.NBWarFact_A8D
      ; AnimationMode   = ONCE
      ; Flags           = START_FRAME_FIRST
   ; End   
   ; AliasConditionState = NIGHT DOOR_1_OPENING DAMAGED
   ; AliasConditionState = SNOW DOOR_1_OPENING DAMAGED
   ; AliasConditionState = NIGHT SNOW DOOR_1_OPENING DAMAGED

    ; ConditionState    = DOOR_1_OPENING REALLYDAMAGED RUBBLE
      ; Model           = NBWarFact_A8E
      ; Animation       = NBWarFact_A8E.NBWarFact_A8E
      ; AnimationMode   = ONCE
      ; Flags           = START_FRAME_FIRST
    ; End
    ; AliasConditionState = NIGHT DOOR_1_OPENING REALLYDAMAGED RUBBLE
    ; AliasConditionState = SNOW DOOR_1_OPENING REALLYDAMAGED RUBBLE
    ; AliasConditionState = NIGHT SNOW DOOR_1_OPENING REALLYDAMAGED RUBBLE

    ; ConditionState    = DOOR_1_CLOSING
      ; Model           = NBWarFact_A8
      ; Animation       = NBWarFact_A8.NBWarFact_A8
      ; AnimationMode   = ONCE_BACKWARDS
      ; Flags           = START_FRAME_LAST
    ; End   
    ; AliasConditionState = NIGHT DOOR_1_CLOSING
    ; AliasConditionState = SNOW DOOR_1_CLOSING
    ; AliasConditionState = NIGHT SNOW DOOR_1_CLOSING
    

    ; ConditionState    = DOOR_1_CLOSING DAMAGED
      ; Model           = NBWarFact_A8D
      ; Animation       = NBWarFact_A8D.NBWarFact_A8D
      ; AnimationMode   = ONCE_BACKWARDS
      ; Flags           = START_FRAME_LAST
    ; End   
    ; AliasConditionState = NIGHT DOOR_1_CLOSING DAMAGED
    ; AliasConditionState = SNOW DOOR_1_CLOSING DAMAGED
    ; AliasConditionState = NIGHT SNOW DOOR_1_CLOSING DAMAGED

    ; ConditionState    = DOOR_1_CLOSING REALLYDAMAGED RUBBLE
      ; Model           = NBWarFact_A8E
      ; Animation       = NBWarFact_A8E.NBWarFact_A8E
      ; AnimationMode   = ONCE_BACKWARDS
      ; Flags           = START_FRAME_LAST
    ; End   
    ; AliasConditionState = NIGHT DOOR_1_CLOSING REALLYDAMAGED RUBBLE
    ; AliasConditionState = SNOW DOOR_1_CLOSING REALLYDAMAGED RUBBLE
    ; AliasConditionState = NIGHT SNOW DOOR_1_CLOSING REALLYDAMAGED RUBBLE

    ; ConditionState    = DOOR_1_WAITING_OPEN
      ; Model           = NBWarFact_A8
      ; Animation       = NBWarFact_A8.NBWarFact_A8
      ; AnimationMode   = MANUAL
      ; Flags           = START_FRAME_LAST
    ; End  
    ; AliasConditionState = NIGHT DOOR_1_WAITING_OPEN
    ; AliasConditionState = SNOW DOOR_1_WAITING_OPEN
    ; AliasConditionState = NIGHT SNOW DOOR_1_WAITING_OPEN
     

    ; ConditionState    = DOOR_1_WAITING_OPEN DAMAGED
      ; Model           = NBWarFact_A8D
      ; Animation       = NBWarFact_A8D.NBWarFact_A8D
      ; AnimationMode   = MANUAL
      ; Flags           = START_FRAME_LAST
    ; End   
    ; AliasConditionState = NIGHT DOOR_1_WAITING_OPEN DAMAGED
    ; AliasConditionState = SNOW DOOR_1_WAITING_OPEN DAMAGED
    ; AliasConditionState = NIGHT SNOW DOOR_1_WAITING_OPEN DAMAGED

    ; ConditionState    = DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE
      ; Model           = NBWarFact_A8E
      ; Animation       = NBWarFact_A8E.NBWarFact_A8E
      ; AnimationMode   = MANUAL
      ; Flags           = START_FRAME_LAST
    ; End   
    ; AliasConditionState = NIGHT DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE
    ; AliasConditionState = SNOW DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE
    ; AliasConditionState = NIGHT SNOW DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE
    
    
    ; ;**************************************************************************************************************************
    ; ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ; ;for this draw module
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      ; Model              = NBWarFact_A8
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
    
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      ; Model              = NBWarFact_A8D
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
    
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      ; Model              = NBWarFact_A8E
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED

    
    
    ; ConditionState       = AWAITING_CONSTRUCTION 
      ; Model              = NONE
    ; End
    ; AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    ; AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    ; AliasConditionState  = SOLD 
    ; AliasConditionState  = SOLD DAMAGED
    ; AliasConditionState  = SOLD REALLYDAMAGED
    ; AliasConditionState  = SOLD NIGHT
    ; AliasConditionState  = SOLD NIGHT DAMAGED
    ; AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    ; AliasConditionState  = SOLD SNOW
    ; AliasConditionState  = SOLD SNOW DAMAGED
    ; AliasConditionState  = SOLD SNOW REALLYDAMAGED
    ; AliasConditionState  = SOLD NIGHT SNOW
    ; AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    ; AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    ; ;**************************************************************************************************************************
    
    
  ; End

  ; ; ------------ being-constructed crane -----------------
  ; Draw = W3DModelDraw ModuleTag_07
  ; AnimationsRequirePower = No
    ; DefaultConditionState
      ; Model           = None
      ; TransitionKey   = DOWN_DEFAULT
    ; End
    ; ConditionState    = NIGHT
      ; Model           = None
      ; TransitionKey   = DOWN_DEFAULT
    ; End
    ; ConditionState    = SNOW
      ; Model           = None
      ; TransitionKey   = DOWN_DEFAULT
    ; End
    ; ConditionState    = SNOW NIGHT
      ; Model           = None
      ; TransitionKey   = DOWN_DEFAULT
    ; End
    ; ConditionState    = SOLD
      ; Model           = NONE
    ; End

    ; ConditionState  = ACTIVELY_BEING_CONSTRUCTED
      ; Model           = NBWarFact_A5
      ; Animation       = NBWarFact_A5.NBWarFact_A5
      ; AnimationMode   = LOOP
      ; TransitionKey  = UP_DAY
    ; End

    ; ConditionState  = NIGHT ACTIVELY_BEING_CONSTRUCTED
      ; Model           = NBWarFact_A5N
      ; Animation       = NBWarFact_A5N.NBWarFact_A5N
      ; AnimationMode   = LOOP
      ; TransitionKey  = UP_NIGHT
    ; End

    ; ConditionState  = SNOW ACTIVELY_BEING_CONSTRUCTED
      ; Model           = NBWarFact_A5S
      ; Animation       = NBWarFact_A5S.NBWarFact_A5S
      ; AnimationMode   = LOOP
      ; TransitionKey  = UP_SNOW
    ; End
    ; ConditionState  = SNOW NIGHT ACTIVELY_BEING_CONSTRUCTED
      ; Model           = NBWarFact_A5SN
      ; Animation       = NBWarFact_A5SN.NBWarFact_A5SN
      ; AnimationMode   = LOOP
      ; TransitionKey  = UP_SNOWNIGHT
    ; End
    ; TransitionState   = DOWN_DEFAULT UP_DAY
      ; Model            = NBWarFact_AB
      ; Animation       = NBWarFact_AB.NBWarFact_AB
      ; AnimationMode   = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags           = START_FRAME_FIRST
    ; End

    ; TransitionState   = DOWN_DEFAULT UP_NIGHT
      ; Model            = NBWarFact_ABN
      ; Animation       = NBWarFact_ABN.NBWarFact_ABN
      ; AnimationMode   = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags           = START_FRAME_FIRST
    ; End
    ; TransitionState   = DOWN_DEFAULT UP_SNOW
      ; Model            = NBWarFact_ABS
      ; Animation       = NBWarFact_ABS.NBWarFact_ABS
      ; AnimationMode   = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags           = START_FRAME_FIRST
    ; End
    ; TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      ; Model            = NBWarFact_ABSN
      ; Animation       = NBWarFact_ABSN.NBWarFact_ABSN
      ; AnimationMode   = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags           = START_FRAME_FIRST
    ; End
    ; TransitionState   = UP_DAY DOWN_DEFAULT
      ; Model            = NBWarFact_AB
      ; Animation       = NBWarFact_AB.NBWarFact_AB
      ; AnimationMode   = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      ; Flags           = START_FRAME_LAST
    ; End
    ; TransitionState   = UP_NIGHT DOWN_DEFAULT
      ; Model            = NBWarFact_ABN
      ; Animation       = NBWarFact_ABN.NBWarFact_ABN
      ; AnimationMode   = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      ; Flags           = START_FRAME_LAST
    ; End
    ; TransitionState   = UP_SNOW DOWN_DEFAULT
      ; Model            = NBWarFact_ABS
      ; Animation       = NBWarFact_ABS.NBWarFact_ABS
      ; AnimationMode   = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      ; Flags           = START_FRAME_LAST
    ; End
    ; TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      ; Model            = NBWarFact_ABSN
      ; Animation       = NBWarFact_ABSN.NBWarFact_ABSN
      ; AnimationMode   = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      ; Flags           = START_FRAME_LAST
    ; End
  ; End

  ; PlacementViewAngle = -135
  
  Draw                   = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes
    
    ; DAY ************************************
    ConditionState       = NONE
      Model              = RBIndstrial
      HideSubObject      = FAN01 FAN02 FAN03 FAN04 FAN05 GREENLIGHT01
      ParticleSysBone    = Smoke01 SteamVent_Black
      ParticleSysBone    = Smoke02 SteamVent_Black
      ParticleSysBone    = Smoke03 SteamVent_Black
      ParticleSysBone    = Smoke04 SteamVent_Black
      ParticleSysBone    = Smoke05 SteamVentSmall_Black
      ParticleSysBone    = Smoke06 SteamVentSmall_Black
      ParticleSysBone    = Smoke07 SteamVentSmall_Black
    End
    AliasConditionState = NIGHT
    
    ConditionState       = DAMAGED
      Model              = RBIndstrial_D
      HideSubObject      = FAN01 FAN02 FAN03 FAN04 FAN05 GREENLIGHT01
      ParticleSysBone    = Smoke01 SteamVent_Black
      ParticleSysBone    = Smoke02 SteamVent_Black
      ParticleSysBone    = Smoke03 SteamVent_Black
      ParticleSysBone    = Smoke04 SteamVent_Black
      ParticleSysBone    = Smoke05 SteamVentSmall_Black
      ParticleSysBone    = Smoke06 SteamVentSmall_Black
      ParticleSysBone    = Smoke07 SteamVentSmall_Black
      ParticleSysBone    = Smoke06 SmolderingFire
      ParticleSysBone    = Smoke04 SmolderingSmoke
      ParticleSysBone    = Smoke05 SmolderingSmoke
      ParticleSysBone    = Smoke06 SmolderingSmoke
      ParticleSysBone    = Smoke07 SmolderingFire
      ParticleSysBone    = Smoke07 SmolderingSmoke
      ParticleSysBone    = Fire01 SmolderingFire
      ParticleSysBone    = Fire01 SmolderingSmoke
      ParticleSysBone    = Fire02 SmolderingFire
      ParticleSysBone    = Fire02 SmolderingSmoke
      ParticleSysBone    = Fire03 SmolderingFire
      ParticleSysBone    = Fire03 SmolderingSmoke
      ParticleSysBone    = Fire04 SmolderingFire
      ParticleSysBone    = Fire04 SmolderingSmoke
    End
    AliasConditionState = DAMAGED NIGHT
    AliasConditionState = DAMAGED SNOW
    AliasConditionState = DAMAGED NIGHT SNOW
    
    ConditionState = REALLYDAMAGED RUBBLE
      Model              = RBIndstrial_D
      HideSubObject      = FAN01 FAN02 FAN03 FAN04 FAN05 GREENLIGHT01
      ParticleSysBone    = Smoke01 SteamVent_Black
      ParticleSysBone    = Smoke02 SteamVent_Black
      ParticleSysBone    = Smoke03 SteamVent_Black
      ParticleSysBone    = Smoke04 SteamVent_Black
      ParticleSysBone    = Smoke05 SteamVentSmall_Black
      ParticleSysBone    = Smoke06 SteamVentSmall_Black
      ParticleSysBone    = Smoke07 SteamVentSmall_Black
      ParticleSysBone    = Smoke04 SmolderingFire
      ParticleSysBone    = Smoke05 SmolderingFire
      ParticleSysBone    = Smoke06 SmolderingFire
      ParticleSysBone    = Smoke04 SmolderingSmoke
      ParticleSysBone    = Smoke05 SmolderingSmoke
      ParticleSysBone    = Smoke06 SmolderingSmoke
      ParticleSysBone    = Smoke07 SmolderingFire
      ParticleSysBone    = Smoke07 SmolderingSmoke
      ParticleSysBone    = Fire01 SmolderingFire
      ParticleSysBone    = Fire01 SmolderingSmoke
      ParticleSysBone    = Fire02 SmolderingFire
      ParticleSysBone    = Fire02 SmolderingSmoke
      ParticleSysBone    = Fire03 SmolderingFire
      ParticleSysBone    = Fire03 SmolderingSmoke
      ParticleSysBone    = Fire04 SmolderingFire
      ParticleSysBone    = Fire04 SmolderingSmoke
    End
    AliasConditionState = REALLYDAMAGED RUBBLE NIGHT
    AliasConditionState = REALLYDAMAGED RUBBLE SNOW
    AliasConditionState = REALLYDAMAGED RUBBLE NIGHT SNOW

    ConditionState = SNOW
      Model              = RBIndstrial_S
      HideSubObject      = FAN01 FAN02 FAN03 FAN04 FAN05 GREENLIGHT01
      ParticleSysBone    = Smoke01 SteamVent_Black
      ParticleSysBone    = Smoke02 SteamVent_Black
      ParticleSysBone    = Smoke03 SteamVent_Black
      ParticleSysBone    = Smoke04 SteamVent_Black
      ParticleSysBone    = Smoke05 SteamVentSmall_Black
      ParticleSysBone    = Smoke06 SteamVentSmall_Black
      ParticleSysBone    = Smoke07 SteamVentSmall_Black
    End
    AliasConditionState = NIGHT SNOW
    
        ;;;; Door Animations
    
    ConditionState    = DOOR_1_OPENING
      Model           = RBIndstrial
      Animation       = RBIndstrial.RBIndstrial
      Flags           = MAINTAIN_FRAME_ACROSS_STATES
      ShowSubObject   = GreenLight01
      HideSubObject   = FAN01 FAN02 FAN03 FAN04 FAN05
      ParticleSysBone = Smoke01 SteamVent_Black
      ParticleSysBone = Smoke02 SteamVent_Black
      ParticleSysBone = Smoke03 SteamVent_Black
      ParticleSysBone = Smoke04 SteamVent_Black
      ParticleSysBone = Smoke05 SteamVentSmall_Black
      ParticleSysBone = Smoke06 SteamVentSmall_Black
      ParticleSysBone = Smoke07 SteamVentSmall_Black
    End   
    AliasConditionState = NIGHT DOOR_1_OPENING
    
    ConditionState    = DOOR_1_OPENING DAMAGED
      Model           = RBIndstrial_D
      Animation       = RBIndstrial_D.RBIndstrial_D
      Flags           = MAINTAIN_FRAME_ACROSS_STATES
      ShowSubObject   = GreenLight01
      HideSubObject   = FAN01 FAN02 FAN03 FAN04 FAN05
      ParticleSysBone = Smoke01 SteamVent_Black
      ParticleSysBone = Smoke02 SteamVent_Black
      ParticleSysBone = Smoke03 SteamVent_Black
      ParticleSysBone = Smoke04 SteamVent_Black
      ParticleSysBone = Smoke05 SteamVentSmall_Black
      ParticleSysBone = Smoke06 SteamVentSmall_Black
      ParticleSysBone = Smoke07 SteamVentSmall_Black
      ParticleSysBone = Smoke06 SmolderingFire
      ParticleSysBone = Smoke04 SmolderingSmoke
      ParticleSysBone = Smoke05 SmolderingSmoke
      ParticleSysBone = Smoke06 SmolderingSmoke
      ParticleSysBone = Smoke07 SmolderingFire
      ParticleSysBone = Smoke07 SmolderingSmoke
      ParticleSysBone = Fire01 SmolderingFire
      ParticleSysBone = Fire01 SmolderingSmoke
      ParticleSysBone = Fire02 SmolderingFire
      ParticleSysBone = Fire02 SmolderingSmoke
      ParticleSysBone = Fire03 SmolderingFire
      ParticleSysBone = Fire03 SmolderingSmoke
      ParticleSysBone = Fire04 SmolderingFire
      ParticleSysBone = Fire04 SmolderingSmoke
      AnimationMode   = ONCE
    End   
    AliasConditionState = DOOR_1_OPENING REALLYDAMAGED RUBBLE
    AliasConditionState = NIGHT DOOR_1_OPENING DAMAGED
    AliasConditionState = NIGHT DOOR_1_OPENING REALLYDAMAGED RUBBLE
    
    ConditionState    = DOOR_1_OPENING SNOW
      Model           = RBIndstrial_S
      Animation       = RBIndstrial_S.RBIndstrial_S
      ShowSubObject   = GreenLight01
      HideSubObject   = FAN01 FAN02 FAN03 FAN04 FAN05
      ParticleSysBone = Smoke01 SteamVent_Black
      ParticleSysBone = Smoke02 SteamVent_Black
      ParticleSysBone = Smoke03 SteamVent_Black
      ParticleSysBone = Smoke04 SteamVent_Black
      ParticleSysBone = Smoke05 SteamVentSmall_Black
      ParticleSysBone = Smoke06 SteamVentSmall_Black
      ParticleSysBone = Smoke07 SteamVentSmall_Black
      AnimationMode   = ONCE
    End   
    AliasConditionState = NIGHT DOOR_1_OPENING SNOW
    
    ConditionState    = DOOR_1_WAITING_OPEN
      Model           = RBIndstrial
      Animation       = RBIndstrial.RBIndstrial
      HideSubObject   = FAN01 FAN02 FAN03 FAN04 FAN05 GREENLIGHT01
      ParticleSysBone = Smoke01 SteamVent_Black
      ParticleSysBone = Smoke02 SteamVent_Black
      ParticleSysBone = Smoke03 SteamVent_Black
      ParticleSysBone = Smoke04 SteamVent_Black
      ParticleSysBone = Smoke05 SteamVentSmall_Black
      ParticleSysBone = Smoke06 SteamVentSmall_Black
      ParticleSysBone = Smoke07 SteamVentSmall_Black
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
    End   
    AliasConditionState = NIGHT DOOR_1_WAITING_OPEN
     
    ConditionState    = DOOR_1_WAITING_OPEN DAMAGED
      Model           = RBIndstrial_D
      Animation       = RBIndstrial_D.RBIndstrial_D
      HideSubObject   = FAN01 FAN02 FAN03 FAN04 FAN05 GREENLIGHT01
      ParticleSysBone = Smoke01 SteamVent_Black
      ParticleSysBone = Smoke02 SteamVent_Black
      ParticleSysBone = Smoke03 SteamVent_Black
      ParticleSysBone = Smoke04 SteamVent_Black
      ParticleSysBone = Smoke05 SteamVentSmall_Black
      ParticleSysBone = Smoke06 SteamVentSmall_Black
      ParticleSysBone = Smoke07 SteamVentSmall_Black
      ParticleSysBone = Smoke06 SmolderingFire
      ParticleSysBone = Smoke04 SmolderingSmoke
      ParticleSysBone = Smoke05 SmolderingSmoke
      ParticleSysBone = Smoke06 SmolderingSmoke
      ParticleSysBone = Smoke07 SmolderingFire
      ParticleSysBone = Smoke07 SmolderingSmoke
      ParticleSysBone = Fire01 SmolderingFire
      ParticleSysBone = Fire01 SmolderingSmoke
      ParticleSysBone = Fire02 SmolderingFire
      ParticleSysBone = Fire02 SmolderingSmoke
      ParticleSysBone = Fire03 SmolderingFire
      ParticleSysBone = Fire03 SmolderingSmoke
      ParticleSysBone = Fire04 SmolderingFire
      ParticleSysBone = Fire04 SmolderingSmoke
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
    End   
    AliasConditionState = DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE
    AliasConditionState = NIGHT DOOR_1_WAITING_OPEN DAMAGED
    AliasConditionState = NIGHT DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE
    
    ConditionState    = DOOR_1_OPENING DAMAGED SNOW
      Model           = RBIndstrial_D
      Animation       = RBIndstrial_D.RBIndstrial_D
      HideSubObject   = FAN01 FAN02 FAN03 FAN04 FAN05 GREENLIGHT01
      ParticleSysBone = Smoke01 SteamVent_Black
      ParticleSysBone = Smoke02 SteamVent_Black
      ParticleSysBone = Smoke03 SteamVent_Black
      ParticleSysBone = Smoke04 SteamVent_Black
      ParticleSysBone = Smoke05 SteamVentSmall_Black
      ParticleSysBone = Smoke06 SteamVentSmall_Black
      ParticleSysBone = Smoke07 SteamVentSmall_Black
      ParticleSysBone = Smoke06 SmolderingFire
      ParticleSysBone = Smoke04 SmolderingSmoke
      ParticleSysBone = Smoke05 SmolderingSmoke
      ParticleSysBone = Smoke06 SmolderingSmoke
      ParticleSysBone = Smoke07 SmolderingFire
      ParticleSysBone = Smoke07 SmolderingSmoke
      ParticleSysBone = Fire01 SmolderingFire
      ParticleSysBone = Fire01 SmolderingSmoke
      ParticleSysBone = Fire02 SmolderingFire
      ParticleSysBone = Fire02 SmolderingSmoke
      ParticleSysBone = Fire03 SmolderingFire
      ParticleSysBone = Fire03 SmolderingSmoke
      ParticleSysBone = Fire04 SmolderingFire
      ParticleSysBone = Fire04 SmolderingSmoke
      AnimationMode   = ONCE
    End   
    AliasConditionState = SNOW DOOR_1_OPENING REALLYDAMAGED RUBBLE
    AliasConditionState = NIGHT DOOR_1_OPENING DAMAGED SNOW
    AliasConditionState = NIGHT SNOW DOOR_1_OPENING REALLYDAMAGED RUBBLE
    
    ConditionState    = DOOR_1_WAITING_OPEN SNOW
      Model           = RBIndstrial_S
      Animation       = RBIndstrial_S.RBIndstrial_S
      HideSubObject   = FAN01 FAN02 FAN03 FAN04 FAN05 GREENLIGHT01
      ParticleSysBone = Smoke01 SteamVent_Black
      ParticleSysBone = Smoke02 SteamVent_Black
      ParticleSysBone = Smoke03 SteamVent_Black
      ParticleSysBone = Smoke04 SteamVent_Black
      ParticleSysBone = Smoke05 SteamVentSmall_Black
      ParticleSysBone = Smoke06 SteamVentSmall_Black
      ParticleSysBone = Smoke07 SteamVentSmall_Black
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
    End   
    AliasConditionState = NIGHT DOOR_1_WAITING_OPEN SNOW
    
    ConditionState    = DOOR_1_WAITING_OPEN DAMAGED SNOW
      Model           = RBIndstrial_D
      Animation       = RBIndstrial_D.RBIndstrial_D
      HideSubObject   = FAN01 FAN02 FAN03 FAN04 FAN05 GREENLIGHT01
      ParticleSysBone = Smoke01 SteamVent_Black
      ParticleSysBone = Smoke02 SteamVent_Black
      ParticleSysBone = Smoke03 SteamVent_Black
      ParticleSysBone = Smoke04 SteamVent_Black
      ParticleSysBone = Smoke05 SteamVentSmall_Black
      ParticleSysBone = Smoke06 SteamVentSmall_Black
      ParticleSysBone = Smoke07 SteamVentSmall_Black
      ParticleSysBone = Smoke06 SmolderingFire
      ParticleSysBone = Smoke04 SmolderingSmoke
      ParticleSysBone = Smoke05 SmolderingSmoke
      ParticleSysBone = Smoke06 SmolderingSmoke
      ParticleSysBone = Smoke07 SmolderingFire
      ParticleSysBone = Smoke07 SmolderingSmoke
      ParticleSysBone = Fire01 SmolderingFire
      ParticleSysBone = Fire01 SmolderingSmoke
      ParticleSysBone = Fire02 SmolderingFire
      ParticleSysBone = Fire02 SmolderingSmoke
      ParticleSysBone = Fire03 SmolderingFire
      ParticleSysBone = Fire03 SmolderingSmoke
      ParticleSysBone = Fire04 SmolderingFire
      ParticleSysBone = Fire04 SmolderingSmoke
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
    End   
    AliasConditionState = SNOW DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE
    AliasConditionState = NIGHT DOOR_1_WAITING_OPEN DAMAGED SNOW
    AliasConditionState = NIGHT SNOW DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE
    
    ConditionState    = DOOR_1_CLOSING
      Model           = RBIndstrial
      Animation       = RBIndstrial.RBIndstrial
      HideSubObject   = FAN01 FAN02 FAN03 FAN04 FAN05 GREENLIGHT01
      ParticleSysBone = Smoke01 SteamVent_Black
      ParticleSysBone = Smoke02 SteamVent_Black
      ParticleSysBone = Smoke03 SteamVent_Black
      ParticleSysBone = Smoke04 SteamVent_Black
      ParticleSysBone = Smoke05 SteamVentSmall_Black
      ParticleSysBone = Smoke06 SteamVentSmall_Black
      ParticleSysBone = Smoke07 SteamVentSmall_Black
      AnimationMode   = ONCE_BACKWARDS
    End
    AliasConditionState = NIGHT DOOR_1_CLOSING
    
    ConditionState    = DOOR_1_CLOSING DAMAGED
      Model           = RBIndstrial_D
      Animation       = RBIndstrial_D.RBIndstrial_D
      HideSubObject   = FAN01 FAN02 FAN03 FAN04 FAN05 GREENLIGHT01
      ParticleSysBone = Smoke01 SteamVent_Black
      ParticleSysBone = Smoke02 SteamVent_Black
      ParticleSysBone = Smoke03 SteamVent_Black
      ParticleSysBone = Smoke04 SteamVent_Black
      ParticleSysBone = Smoke05 SteamVentSmall_Black
      ParticleSysBone = Smoke06 SteamVentSmall_Black
      ParticleSysBone = Smoke07 SteamVentSmall_Black
      ParticleSysBone = Smoke06 SmolderingFire
      ParticleSysBone = Smoke04 SmolderingSmoke
      ParticleSysBone = Smoke05 SmolderingSmoke
      ParticleSysBone = Smoke06 SmolderingSmoke
      ParticleSysBone = Smoke07 SmolderingFire
      ParticleSysBone = Smoke07 SmolderingSmoke
      ParticleSysBone = Fire01 SmolderingFire
      ParticleSysBone = Fire01 SmolderingSmoke
      ParticleSysBone = Fire02 SmolderingFire
      ParticleSysBone = Fire02 SmolderingSmoke
      ParticleSysBone = Fire03 SmolderingFire
      ParticleSysBone = Fire03 SmolderingSmoke
      ParticleSysBone = Fire04 SmolderingFire
      ParticleSysBone = Fire04 SmolderingSmoke
      AnimationMode   = ONCE_BACKWARDS
    End   
    AliasConditionState = DOOR_1_CLOSING REALLYDAMAGED RUBBLE
    AliasConditionState = NIGHT DOOR_1_CLOSING DAMAGED
    AliasConditionState = NIGHT DOOR_1_CLOSING REALLYDAMAGED RUBBLE
    
    ConditionState    = DOOR_1_CLOSING SNOW
      Model           = RBIndstrial_S
      Animation       = RBIndstrial_S.RBIndstrial_S
      HideSubObject   = FAN01 FAN02 FAN03 FAN04 FAN05 GREENLIGHT01
      ParticleSysBone = Smoke01 SteamVent_Black
      ParticleSysBone = Smoke02 SteamVent_Black
      ParticleSysBone = Smoke03 SteamVent_Black
      ParticleSysBone = Smoke04 SteamVent_Black
      ParticleSysBone = Smoke05 SteamVentSmall_Black
      ParticleSysBone = Smoke06 SteamVentSmall_Black
      ParticleSysBone = Smoke07 SteamVentSmall_Black
      AnimationMode   = ONCE_BACKWARDS
    End   
    AliasConditionState = NIGHT DOOR_1_CLOSING SNOW
    
    ConditionState    = DOOR_1_CLOSING DAMAGED SNOW
      Model           = RBIndstrial_D
      Animation       = RBIndstrial_D.RBIndstrial_D
      HideSubObject   = FAN01 FAN02 FAN03 FAN04 FAN05 GREENLIGHT01
      ParticleSysBone = Smoke01 SteamVent_Black
      ParticleSysBone = Smoke02 SteamVent_Black
      ParticleSysBone = Smoke03 SteamVent_Black
      ParticleSysBone = Smoke04 SteamVent_Black
      ParticleSysBone = Smoke05 SteamVentSmall_Black
      ParticleSysBone = Smoke06 SteamVentSmall_Black
      ParticleSysBone = Smoke07 SteamVentSmall_Black
      ParticleSysBone = Smoke06 SmolderingFire
      ParticleSysBone = Smoke04 SmolderingSmoke
      ParticleSysBone = Smoke05 SmolderingSmoke
      ParticleSysBone = Smoke06 SmolderingSmoke
      ParticleSysBone = Smoke07 SmolderingFire
      ParticleSysBone = Smoke07 SmolderingSmoke
      ParticleSysBone = Fire01 SmolderingFire
      ParticleSysBone = Fire01 SmolderingSmoke
      ParticleSysBone = Fire02 SmolderingFire
      ParticleSysBone = Fire02 SmolderingSmoke
      ParticleSysBone = Fire03 SmolderingFire
      ParticleSysBone = Fire03 SmolderingSmoke
      ParticleSysBone = Fire04 SmolderingFire
      ParticleSysBone = Fire04 SmolderingSmoke
      AnimationMode   = ONCE_BACKWARDS
    End   
    AliasConditionState = SNOW DOOR_1_CLOSING REALLYDAMAGED RUBBLE
    AliasConditionState = NIGHT DOOR_1_CLOSING DAMAGED SNOW
    AliasConditionState = NIGHT SNOW DOOR_1_CLOSING REALLYDAMAGED RUBBLE
    
    ;**************************************************************************************************************************

    ConditionState      = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model             = RBIndstrial
      HideSubObject     = FAN01 FAN02 FAN03 FAN04 FAN05 GREENLIGHT01
      Flags             = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
    
    ConditionState      = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model             = RBIndstrial_D
      HideSubObject     = FAN01 FAN02 FAN03 FAN04 FAN05 GREENLIGHT01
      Flags             = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED

    ConditionState      = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model             = RBIndstrial_D
      HideSubObject     = FAN01 FAN02 FAN03 FAN04 FAN05 GREENLIGHT01
      Flags             = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED

    ConditionState      = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model             = RBIndstrial_S
      HideSubObject     = FAN01 FAN02 FAN03 FAN04 FAN05 GREENLIGHT01
      Flags             = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    ;**************************************************************************************************************************
  End

  Draw                   = W3DModelDraw ModuleTag_Fans01
    OkToChangeModelColor = Yes
    
    ; DAY ************************************
    ConditionState       = NONE
      Model              = RBIndstrial
      Animation          = RBIndstrial.RBIndstrial
      AnimationMode      = LOOP
      Flags              = MAINTAIN_FRAME_ACROSS_STATES
      HideSubObject      = BASE GREENLIGHT01
    End
    AliasConditionState = NIGHT
    
    ConditionState       = DAMAGED
      Model              = RBIndstrial_D
      Animation          = RBIndstrial_D.RBIndstrial_D
      AnimationMode      = LOOP
      Flags              = MAINTAIN_FRAME_ACROSS_STATES
      HideSubObject      = BASE GREENLIGHT01
    End
    AliasConditionState = DAMAGED NIGHT
    AliasConditionState = DAMAGED SNOW
    AliasConditionState = DAMAGED NIGHT SNOW    
    AliasConditionState = REALLYDAMAGED RUBBLE
    AliasConditionState = REALLYDAMAGED RUBBLE NIGHT
    AliasConditionState = REALLYDAMAGED RUBBLE SNOW
    AliasConditionState = REALLYDAMAGED RUBBLE NIGHT SNOW

    ConditionState = SNOW
      Model              = RBIndstrial_S
      Animation          = RBIndstrial_S.RBIndstrial_S
      AnimationMode      = LOOP
      Flags              = MAINTAIN_FRAME_ACROSS_STATES
      HideSubObject      = BASE GREENLIGHT01
    End
    AliasConditionState = NIGHT SNOW
    
    ;**************************************************************************************************************************

    ConditionState      = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model             = RBIndstrial
      Animation         = RBIndstrial.RBIndstrial
      AnimationMode     = LOOP
      Flags             = MAINTAIN_FRAME_ACROSS_STATES
      HideSubObject     = BASE GREENLIGHT01
      Flags             = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
    
    ConditionState      = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model             = RBIndstrial_D
      Animation         = RBIndstrial_D.RBIndstrial_D
      AnimationMode     = LOOP
      Flags             = MAINTAIN_FRAME_ACROSS_STATES
      HideSubObject     = BASE GREENLIGHT01
      Flags             = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED

    ConditionState      = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model             = RBIndstrial_S
      Animation         = RBIndstrial_S.RBIndstrial_S
      AnimationMode     = LOOP
      Flags             = MAINTAIN_FRAME_ACROSS_STATES
      HideSubObject     = BASE GREENLIGHT01
      Flags             = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    ;**************************************************************************************************************************
  End

  ; ------------ construction-zone fence -----------------
  Draw = W3DModelDraw ModuleTag_02
  AnimationsRequirePower = No

    DefaultConditionState
      Model           = None
      HideSubObject   = BASE
      TransitionKey   = DOWN_DEFAULT
    End
    AliasConditionState = NIGHT
    AliasConditionState = SNOW
    AliasConditionState = SNOW NIGHT

    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = RBIndstrial_BF
      Animation       = RBIndstrial_BF.RBIndstrial_BF
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
    End
    AliasConditionState = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
    AliasConditionState = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
    AliasConditionState = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED

    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = RBIndstrial_BF
      Animation       = RBIndstrial_BF.RBIndstrial_BF
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = RBIndstrial_BF
      Animation       = RBIndstrial_BF.RBIndstrial_BF
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_LAST
    End

  End

; ------------ under-construction scaffolding -----------------
  Draw = W3DModelDraw ModuleTag_03
  AnimationsRequirePower = No
    MinLODRequired = MEDIUM
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    AliasConditionState = NIGHT
    AliasConditionState = SNOW
    AliasConditionState = SNOW NIGHT

    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = RBIndstrial_SC
      Animation       = RBIndstrial_SC.RBIndstrial_SC
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Smoke01 BuildUpSmokeChina
      ParticleSysBone = Smoke02 BuildUpSmokeChina
      ParticleSysBone = Smoke03 BuildUpSmokeChina
    End
    AliasConditionState = NIGHT PARTIALLY_CONSTRUCTED
    AliasConditionState = SNOW PARTIALLY_CONSTRUCTED
    AliasConditionState = SNOW NIGHT PARTIALLY_CONSTRUCTED

    TransitionState   = DOWN_DEFAULT UP_DAY
     Model            = RBIndstrial_SC
      Animation       = RBIndstrial_SC.RBIndstrial_SC
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = RBIndstrial_SC
      Animation       = RBIndstrial_SC.RBIndstrial_SC
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_LAST
    End

  End

  Draw = W3DModelDraw ModuleTag_NightCondition01
  
    OkToChangeModelColor = Yes
    
    ; DAY ************************************
    DefaultConditionState
      Model             = RBIndstrial_N
    End
    AliasConditionState = NIGHT  
    
    ;**************************************************************************************************************************
    ConditionState      = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model             = RBIndstrial_N
      Flags             = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT

    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD NIGHT
  End
  
  Draw = W3DModelDraw ModuleTag_ExitBone01
    DefaultConditionState
      Model  = RBIndstrial_B
    End
  End
  
  PlacementViewAngle = -135

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:WarFactory
  Side             = Boss
  EditorSorting    = STRUCTURE
  Prerequisites
    Object = Boss_SupplyCenter
  End
  BuildCost        = 2000
  BuildTime        = 15.0           ; in seconds
  EnergyProduction = -15
  CommandSet       = Boss_ChinaWarFactoryCommandSet
  VisionRange      = 200.0           ; Shroud clearing distance
  ShroudClearingRange = 200
  ArmorSet
    Conditions      = None
    Armor           = StructureArmor
    DamageFX        = StructureDamageFXNoShake
  End
  ExperienceValue     = 200 200 200 200  ; Experience point value at each level

  ; *** AUDIO Parameters ***
  VoiceSelect = WarFactoryChinaSelect
  SoundOnDamaged        = BuildingDamagedStateLight
  SoundOnReallyDamaged  = BuildingDestroy

  UnitSpecificSounds
    UnderConstruction     = UnderConstructionLoop
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority   = STRUCTURE
  KindOf          = PRELOAD STRUCTURE SELECTABLE IMMOBILE REPAIR_PAD SCORE CAPTURABLE FS_FACTORY AUTO_RALLYPOINT MP_COUNT_FOR_VICTORY FS_WARFACTORY
  Body            = StructureBody ModuleTag_08
    MaxHealth       = 2000.0
    InitialHealth   = 2000.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 2200
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
  End

  Behavior = DestroyDie ModuleTag_09
    ;nothing
  End
  Behavior             = CreateObjectDie ModuleTag_10
    CreationList  = OCL_LargeStructureDebris
  End
  Behavior             = FXListDie ModuleTag_11
    DeathFX       = FX_StructureMediumDeath
  End

  Behavior = ProductionUpdate ModuleTag_12
    NumDoorAnimations            = 1
    DoorOpeningTime              = 4000  ;in mSeconds
    DoorWaitOpenTime             = 2000  ;in mSeconds
    DoorCloseTime                = 5000  ;in mSeconds
    ConstructionCompleteDuration = 1500  ;in mSeconds
  End
  Behavior = DefaultProductionExitUpdate ModuleTag_13
    UnitCreatePoint   = X: -10.0 Y:10.0   Z:0.0
    NaturalRallyPoint = X: 78.0  Y:10.0   Z:0.0   ;NaturalRallyPointX must always match GeometryMajorRadius! -ML
  End
  Behavior = CommandSetUpgrade ModuleTag_17
    TriggeredBy = Upgrade_ChinaWarFactoryupCommandSet
    RemovesUpgrades = Upgrade_ChinaWarFactorydownCommandSet
    CommandSet = Boss_ChinaWarFactorytechCommandSet
  End

  Behavior = CommandSetUpgrade ModuleTag_18
    TriggeredBy = Upgrade_ChinaWarFactorydownCommandSet
    RemovesUpgrades = Upgrade_ChinaWarFactoryupCommandSet Upgrade_ChinaWarFactorydownCommandSet
    CommandSet = Boss_ChinaWarFactoryCommandSet
  End

  Behavior = ProductionUpdate ModuleTag_19
    MaxQueueEntries = 1; For the command set switching upgrade
  End

  ; Behavior = CommandSetUpgrade ModuleTag_20
    ; TriggeredBy = Upgrade_ChinaWarFactoryupCommandSetUpgrade
    ; RemovesUpgrades = Upgrade_ChinaWarFactorydownCommandSetUpgrade
    ; CommandSet = Boss_ChinaWarFactorytechCommandSetUpgrade
  ; End

  ; Behavior = CommandSetUpgrade ModuleTag_21
    ; TriggeredBy = Upgrade_ChinaWarFactorydownCommandSetUpgrade
    ; RemovesUpgrades = Upgrade_ChinaWarFactoryupCommandSetUpgrade Upgrade_ChinaWarFactorydownCommandSetUpgrade
    ; CommandSet = Boss_ChinaWarFactoryCommandSetUpgrade
  ; End
  
  Behavior = RepairDockUpdate ModuleTag_14
    TimeForFullHeal   = 5000   ;(in milliseconds)     
    NumberApproachPositions = 5
  End

  Behavior = FlammableUpdate ModuleTag_16
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 5       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  ; Behavior = GenerateMinefieldBehavior     ModuleTag_22
    ; TriggeredBy           = Upgrade_ChinaMines
    ; MineName              = ChinaStandardMine
    ; SmartBorder           = Yes
    ; AlwaysCircular        = Yes

    ; Upgradable            = Yes
    ; UpgradedTriggeredBy   = Upgrade_ChinaEMPMines
    ; UpgradedMineName      = ChinaEMPMine
  ; End

  Behavior = TransitionDamageFX ModuleTag_23
    ;-------------DESIGNED FOR MEDIUM SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionMediumExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionMediumShockwave
  End

  ; Behavior = CommandSetUpgrade ModuleTag_25
    ; CommandSet = Boss_ChinaWarFactoryCommandSetUpgrade
    ; TriggeredBy = Upgrade_ChinaMines
  ; End

  Behavior = BaseRegenerateUpdate ModuleTag_1301
    ;No data
  End 

  ; Behavior             = CreateObjectDie ModuleTag_16112
    ; CreationList  = OCL_AmericanRangerDebris04
    ; ExemptStatus  = UNDER_CONSTRUCTION
  ; End

  ; Behavior    = OCLSpecialPower ModuleTag_FakeGym
    ; SpecialPowerTemplate = SuperweaponFakeSalvageBomb
    ; OCL                  = SUPERWEAPON_FakeSalvageBomb
    ; CreateLocation       = CREATE_AT_EDGE_NEAR_SOURCE
  ; End

  Geometry            = BOX
  GeometryMajorRadius = 78.0
  GeometryMinorRadius = 66.0
  GeometryHeight      = 55.0
  GeometryIsSmall     = No
  Shadow              = SHADOW_VOLUME
  BuildCompletion     = PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
Object Boss_PatriotBattery

  ; *** ART Parameters ***
  SelectPortrait         = SAPatriot_L
  ButtonImage            = SAPatriot
  Draw = W3DModelDraw ModuleTag_01

    OkToChangeModelColor = Yes

    DefaultConditionState
      Model             = ABPatriot
      Turret            = TURRET01
      TurretPitch       = TURRETEL
      WeaponLaunchBone  = PRIMARY   WeaponA
      WeaponLaunchBone  = SECONDARY WeaponA
      WeaponLaunchBone  = TERTIARY  WeaponA
      WeaponFireFXBone  = PRIMARY   WeaponA
      WeaponFireFXBone  = SECONDARY WeaponA
      WeaponFireFXBone  = TERTIARY  WeaponA
    End
    AliasConditionState = NIGHT
    
    ConditionState      = DAMAGED
      Model             = ABPatriot_D
    End
    AliasConditionState = DAMAGED NIGHT
    
    ConditionState      = REALLYDAMAGED RUBBLE
      Model             = ABPatriot_E
    End
    AliasConditionState = REALLYDAMAGED RUBBLE NIGHT
    
    
    ConditionState      = SNOW
      Model             = ABPatriot_S
    End
    AliasConditionState = SNOW NIGHT
    
    ConditionState      = DAMAGED SNOW
      Model             = ABPatriot_DS
    End
    AliasConditionState = SNOW NIGHT DAMAGED
    
    ConditionState      = REALLYDAMAGED RUBBLE SNOW
      Model             = ABPatriot_ES
    End
    AliasConditionState = SNOW NIGHT REALLYDAMAGED RUBBLE
   
    ;**************************************************************************************************************************
    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ;for this draw module
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = ABPatriot
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
    

    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model              = ABPatriot_S
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
    
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = ABPatriot_D
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT
    
    
    
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED SNOW
      Model              = ABPatriot_DS
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT SNOW
    
    
    
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = ABPatriot_E
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT
    
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED SNOW
      Model              = ABPatriot_ES
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT SNOW
    
    
    
    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    ;**************************************************************************************************************************
       

    
  End

  ; ------------ construction-zone fence -----------------
  Draw = W3DModelDraw ModuleTag_02
    AnimationsRequirePower = No ; Do not pause the construction anims when low power disabled
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABPatriot_A4
      Animation       = ABPatriot_A4.ABPatriot_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
    End
    ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABPatriot_A4N
      Animation       = ABPatriot_A4N.ABPatriot_A4N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
    End
    ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABPatriot_A4S
      Animation       = ABPatriot_A4S.ABPatriot_A4S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
    End
    ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABPatriot_A4SN
      Animation       = ABPatriot_A4SN.ABPatriot_A4SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = ABPatriot_A4
      Animation       = ABPatriot_A4.ABPatriot_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = ABPatriot_A4N
      Animation       = ABPatriot_A4N.ABPatriot_A4N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = ABPatriot_A4S
      Animation       = ABPatriot_A4S.ABPatriot_A4S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = ABPatriot_A4SN
      Animation       = ABPatriot_A4SN.ABPatriot_A4SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = ABPatriot_A4
      Animation       = ABPatriot_A4.ABPatriot_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = ABPatriot_A4N
      Animation       = ABPatriot_A4N.ABPatriot_A4N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = ABPatriot_A4S
      Animation       = ABPatriot_A4S.ABPatriot_A4S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = ABPatriot_A4SN
      Animation       = ABPatriot_A4SN.ABPatriot_A4SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ under-construction scaffolding -----------------
  Draw = W3DModelDraw ModuleTag_03
    AnimationsRequirePower = No ; Do not pause the construction anims when low power disabled
    MinLODRequired = MEDIUM
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = ABPatriot_A6
      Animation       = ABPatriot_A6.ABPatriot_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
    End
    ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      Model           = ABPatriot_A6N
      Animation       = ABPatriot_A6N.ABPatriot_A6N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
    End
    ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      Model           = ABPatriot_A6S
      Animation       = ABPatriot_A6S.ABPatriot_A6S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
    End
    ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      Model           = ABPatriot_A6SN
      Animation       = ABPatriot_A6SN.ABPatriot_A6SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = ABPatriot_A6
      Animation       = ABPatriot_A6.ABPatriot_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = ABPatriot_A6N
      Animation       = ABPatriot_A6N.ABPatriot_A6N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = ABPatriot_A6S
      Animation       = ABPatriot_A6S.ABPatriot_A6S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = ABPatriot_A6SN
      Animation       = ABPatriot_A6SN.ABPatriot_A6SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = ABPatriot_A6
      Animation       = ABPatriot_A6.ABPatriot_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = ABPatriot_A6N
      Animation       = ABPatriot_A6N.ABPatriot_A6N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = ABPatriot_A6S
      Animation       = ABPatriot_A6S.ABPatriot_A6S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = ABPatriot_A6SN
      Animation       = ABPatriot_A6SN.ABPatriot_A6SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  PlacementViewAngle = -45

  ; ***DESIGN parameters ***
  DisplayName       = OBJECT:PatriotBattery
  Side              = Boss
  EditorSorting     = STRUCTURE
  Prerequisites
    Object = Boss_PowerPlant
  End
  BuildCost        = 1000
  BuildTime        = 25.0           ; in seconds
  EnergyProduction = -3
  WeaponSet
    Conditions          = None 
    Weapon              = PRIMARY     PatriotMissileWeapon
    Weapon              = SECONDARY   PatriotMissileAssistWeapon
    Weapon              = TERTIARY    PatriotMissileWeaponAir
    AutoChooseSources   = PRIMARY     FROM_PLAYER FROM_AI FROM_SCRIPT
    AutoChooseSources   = SECONDARY   NONE
    AutoChooseSources   = TERTIARY    FROM_PLAYER FROM_AI FROM_SCRIPT  
    PreferredAgainst    = PRIMARY     VEHICLE INFANTRY
    PreferredAgainst    = SECONDARY   BALLISTIC_MISSILE AIRCRAFT
    PreferredAgainst    = TERTIARY    BALLISTIC_MISSILE AIRCRAFT
    ShareWeaponReloadTime = Yes
  End
  VisionRange    = 360.0           ; Shroud clearing distance AND targeting range
  ShroudClearingRange = 360
  ArmorSet
    Conditions      = None
    Armor           = BaseDefenseArmor
    DamageFX        = StructureDamageFXNoShake
  End
  CommandSet        = Boss_AmericaPatriotBatteryCommandSet
  ExperienceValue     = 200 200 200 200  ; Experience point value at each level

  ;Behavior = AIUpdateInterface ModuleTag_20
  ;  AutoAcquireEnemiesWhenIdle = Yes ;ATTACK_BUILDINGS
  ;  MoodAttackCheckRate        = 250
  ;End

  ; *** AUDIO Parameters ***
  VoiceSelect = PatriotBatterySelect
  SoundOnDamaged        = BuildingDamagedStateLight
  SoundOnReallyDamaged  = BuildingDestroy

  UnitSpecificSounds
    UnderConstruction     = UnderConstructionLoop
  End

  UnitSpecificSounds
  ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    TurretMoveStart = NoSound
    TurretMoveLoop = NoSound ;These aren't playing properly, will revisit (mp) TurretMoveLoopLoud
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority   = STRUCTURE
  KindOf          = PRELOAD STRUCTURE SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT IMMOBILE SCORE FS_TECHNOLOGY POWERED FS_BASE_DEFENSE IMMUNE_TO_CAPTURE
  Body            = StructureBody ModuleTag_04
    MaxHealth     = 1000.0
    InitialHealth = 1000.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 1200
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
  End
 
  Behavior = StealthDetectorUpdate ModuleTag_13
    DetectionRate     = 500   ; how often to rescan for stealthed things in my sight (msec)
    DetectionRange   =  200 ;Dustin, enable this for independant balancing!
    CanDetectWhileGarrisoned  = No ;Garrisoned means being in a structure that you units can shoot out of.
    CanDetectWhileContained   = No ;Contained means being in a transport or tunnel network.
  End

  Behavior = BaseRegenerateUpdate ModuleTag_05
    ;No data
  End 
  Behavior = AIUpdateInterface ModuleTag_06
    Turret
      TurretTurnRate        = 180   // turn rate, in degrees per sec
      TurretPitchRate       = 180
      AllowsPitch           = Yes
      NaturalTurretPitch    = 45   
      GroundUnitPitch       = 40
      MinPhysicalPitch      = -20
      ControlledWeaponSlots = PRIMARY SECONDARY TERTIARY
      MinIdleScanInterval   = 250    ; in milliseconds
      MaxIdleScanInterval   = 250    ; in milliseconds
      MinIdleScanAngle      = 0       ; in degrees off the natural turret angle
      MaxIdleScanAngle      = 360     ; in degrees off the natural turret angle
    End

    AutoAcquireEnemiesWhenIdle = Yes ;ATTACK_BUILDINGS; defensive weapon
    MoodAttackCheckRate        = 250
  End

  Behavior = AssistedTargetingUpdate ModuleTag_07
    AssistingClipSize = 4                       ; How many shots to make when asked by someone of my kind who has a RequestAssistRange weapon
    AssistingWeaponSlot = SECONDARY             ; And the weapon to use.  Should have huge range and no natural clip.
    LaserFromAssisted = Boss_PatriotBinaryDataStream ; Stream to draw from the requestor to me
    LaserToTarget = Boss_PatriotBinaryDataStream     ; Stream to draw from me to the target
  End

  Behavior = DestroyDie ModuleTag_08
    ;nothing
  End
  ; Behavior             = CreateObjectDie ModuleTag_09
    ; CreationList  = OCL_AmericanRangerDebris03
    ; ExemptStatus  = UNDER_CONSTRUCTION
  ; End
  Behavior             = FXListDie ModuleTag_10
    DeathFX       = FX_StructureTinyDeath
  End

  Behavior = FlammableUpdate ModuleTag_12
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 5       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = TransitionDamageFX ModuleTag_14
    ;-------------DESIGNED FOR TINY SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionTinySmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionTinySmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionTinyExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionTinyShockwave
  End

  Behavior = CommandSetUpgrade ModuleTag_15
    CommandSet = Boss_AmericaPatriotBatteryCommandSetUpgrade
    TriggeredBy = Upgrade_ChinaMines
  End

  Behavior = GenerateMinefieldBehavior     ModuleTag_16
    TriggeredBy           = Upgrade_ChinaMines
    MineName              = ChinaStandardMine
    SmartBorder           = Yes
    AlwaysCircular        = Yes

    Upgradable            = Yes
    UpgradedTriggeredBy   = Upgrade_ChinaEMPMines
    UpgradedMineName      = ChinaEMPMine
  End

  Behavior = ProductionUpdate ModuleTag_17
    ; nothing
  End

  Behavior             = RebuildHoleExposeDie ModuleTag_09011
    HoleName      = GLAHoleTunnelNetwork
    HoleMaxHealth = 500.0
  End

  Geometry            = CYLINDER
  GeometryMajorRadius = 12.0
  GeometryMinorRadius = 1.0
  GeometryHeight      = 14.0
  GeometryIsSmall     = No
  Shadow          = SHADOW_VOLUME
  BuildCompletion = PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
Object BossFireBase

  ; *** ART Parameters ***
  SelectPortrait         = SBFirebase
  ButtonImage            = SBFirebase
  Draw = W3DModelDraw ModuleTag_01

    IgnoreConditionStates = NIGHT

    OkToChangeModelColor = Yes

    ExtraPublicBone = STATION01
    ExtraPublicBone = STATION02
    ExtraPublicBone = STATION03
    ExtraPublicBone = STATION04


    DefaultConditionState
      Model              = BBBunker
    End

    ConditionState      = DAMAGED
      Model             = BBBunker_D
    End

    ConditionState      = REALLYDAMAGED RUBBLE
      Model             = BBBunker_D
    End

    ConditionState      = SNOW
      Model             = BBBunker_s
    End

    ConditionState      = DAMAGED SNOW
      Model             = BBBunker_sd
    End

    ConditionState      = REALLYDAMAGED RUBBLE SNOW
      Model             = BBBunker_sd
    End

    ;**************************************************************************************************************************
    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ;for this draw module

    ConditionState       = AWAITING_CONSTRUCTION
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = SOLD
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    ;**************************************************************************************************************************

    ConditionState       = PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = BBBunker
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End

    ConditionState       = PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model              = BBBunker_s
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End

    ConditionState       = PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = BBBunker_D
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End

    ConditionState       = PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED SNOW
      Model              = BBBunker_sd
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End

    ConditionState       = PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED RUBBLE
      Model              = BBBunker_D
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End

    ConditionState       = PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED RUBBLE SNOW
      Model              = BBBunker_sd
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End

    ;**************************************************************************************************************************
  End




  ; ------------ construction-zone fence -----------------
  Draw                = W3DModelDraw ModuleTag_02
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABSupDrop_A4
      Animation       = ABSupDrop_A4.ABSupDrop_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
    End
    ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABSupDrop_A4N
      Animation       = ABSupDrop_A4N.ABSupDrop_A4N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
    End
    ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABSupDrop_A4S
      Animation       = ABSupDrop_A4S.ABSupDrop_A4S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
    End
    ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABSupDrop_A4SN
      Animation       = ABSupDrop_A4SN.ABSupDrop_A4SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = ABSupDrop_A4
      Animation       = ABSupDrop_A4.ABSupDrop_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = ABSupDrop_A4N
      Animation       = ABSupDrop_A4N.ABSupDrop_A4N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = ABSupDrop_A4S
      Animation       = ABSupDrop_A4S.ABSupDrop_A4S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = ABSupDrop_A4SN
      Animation       = ABSupDrop_A4SN.ABSupDrop_A4SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = ABSupDrop_A4
      Animation       = ABSupDrop_A4.ABSupDrop_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = ABSupDrop_A4N
      Animation       = ABSupDrop_A4N.ABSupDrop_A4N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = ABSupDrop_A4S
      Animation       = ABSupDrop_A4S.ABSupDrop_A4S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = ABSupDrop_A4SN
      Animation       = ABSupDrop_A4SN.ABSupDrop_A4SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ under-construction scaffolding -----------------
  Draw                = W3DModelDraw ModuleTag_03
  AnimationsRequirePower = No
    MinLODRequired    = MEDIUM
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = ABSupDrop_A6
      Animation       = ABSupDrop_A6.ABSupDrop_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      Model           = ABSupDrop_A6N
      Animation       = ABSupDrop_A6N.ABSupDrop_A6N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      Model           = ABSupDrop_A6S
      Animation       = ABSupDrop_A6S.ABSupDrop_A6S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      Model           = ABSupDrop_A6SN
      Animation       = ABSupDrop_A6SN.ABSupDrop_A6SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
     Model            = ABSupDrop_A6
      Animation       = ABSupDrop_A6.ABSupDrop_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
     Model            = ABSupDrop_A6N
      Animation       = ABSupDrop_A6N.ABSupDrop_A6N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
     Model            = ABSupDrop_A6S
      Animation       = ABSupDrop_A6S.ABSupDrop_A6S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
     Model            = ABSupDrop_A6SN
      Animation       = ABSupDrop_A6SN.ABSupDrop_A6SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = ABSupDrop_A6
      Animation       = ABSupDrop_A6.ABSupDrop_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = ABSupDrop_A6N
      Animation       = ABSupDrop_A6N.ABSupDrop_A6N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = ABSupDrop_A6S
      Animation       = ABSupDrop_A6S.ABSupDrop_A6S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = ABSupDrop_A6SN
      Animation       = ABSupDrop_A6SN.ABSupDrop_A6SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End
  PlacementViewAngle = -45



  ; ***DESIGN parameters ***
  DisplayName       = OBJECT:FireBase
  Side              = Boss
  EditorSorting     = STRUCTURE
  Prerequisites
    Object = Boss_PowerPlant
  End
  BuildCost        = 1400
  BuildTime        = 20.0           ; in seconds
  EnergyProduction = -2

  VisionRange    = 360.0           ; Shroud clearing distance AND targeting range
  ShroudClearingRange = 360
  ArmorSet
    Conditions      = None
    Armor           = FireBaseArmor
    DamageFX        = StructureDamageFXNoShake
  End
  CommandSet        = BossFireBaseCommandSet
  ExperienceValue     = 200 200 200 200  ; Experience point value at each level

  ; *** AUDIO Parameters ***
  VoiceSelect = FireBaseSelect
  SoundOnDamaged        = BuildingDamagedStateLight
  SoundOnReallyDamaged  = BuildingDestroy

  UnitSpecificSounds
    UnderConstruction     = UnderConstructionLoop
  End

  UnitSpecificSounds
  ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    TurretMoveStart = NoSound
    TurretMoveLoop = NoSound ;These aren't playing properly, will revisit (mp) TurretMoveLoopLoud
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority   = STRUCTURE
  KindOf          = PRELOAD STRUCTURE SELECTABLE CAN_ATTACK IMMOBILE SCORE FS_TECHNOLOGY FS_BASE_DEFENSE IMMUNE_TO_CAPTURE GARRISONABLE_UNTIL_DESTROYED


  Body                 = HiveStructureBody ModuleTag_04;
    MaxHealth          = 1200.0
    InitialHealth      = 1200.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 1200
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
    ;**Careful with these damage types -- because area damage types will already
    ;**damage slaves.
    ;PropagateDamageTypesToSlavesWhenExisting = NONE +SMALL_ARMS +SNIPER +POISON +RADIATION +SURRENDER
    ;SwallowDamageTypesIfSlavesNotExisting = NONE +SNIPER +POISON +SURRENDER; Take no damage if no one to pass this to
  End

 
  Behavior = BaseRegenerateUpdate ModuleTag_05
    ;No data
  End 

  Behavior = GarrisonContain ModuleTag_07
    ContainMax                    = 4
    EnterSound                    = GarrisonEnter
    ExitSound                     = GarrisonExit
    ImmuneToClearBuildingAttacks  = Yes
    DamagePercentToUnits          = 100%

    IsEnclosingContainer          = no

  End

  Behavior = SpawnPointProductionExitUpdate ModuleTag_05ty
    SpawnPointBoneName = SpawnPoint
  End

  Behavior                = SpawnBehavior ModuleTag_06to
    SpawnNumber           = 4
    SpawnReplaceDelay     = 1 ;msec
    SpawnTemplateName     = BossSentryMachineGun
    CanReclaimOrphans     = No
    SpawnedRequireSpawner = Yes
    SlavesHaveFreeWill = No
  End

  Behavior = DestroyDie ModuleTag_08
    ;nothing
  End
  Behavior        = RebuildHoleExposeDie ModuleTag_08976
    HoleName      = GLAHoleStingerSite
    HoleMaxHealth = 500.0
  End

  Behavior             = FXListDie ModuleTag_10
    DeathFX       = FX_StructureMediumDeath
  End

  Behavior = ProductionUpdate ModuleTag_16
  End

  Behavior = FlammableUpdate ModuleTag_12
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 5       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior                  = CreateObjectDie ModuleTag_13809u
    CreationList       = OCL_LargeStructureDebris
  End

  Behavior = CommandSetUpgrade ModuleTag_2578
    CommandSet = BossFireBaseCommandSet2
    TriggeredBy = Upgrade_ChinaMines
  End

  Behavior = GenerateMinefieldBehavior     ModuleTag_13
    TriggeredBy           = Upgrade_ChinaMines
    MineName              = ChinaStandardMine
    SmartBorder           = Yes
    AlwaysCircular        = Yes

    Upgradable            = Yes
    UpgradedTriggeredBy   = Upgrade_ChinaEMPMines
    UpgradedMineName      = ChinaEMPMine
  End

  Behavior = BaseRegenerateUpdate ModuleTag_0567
    ;No data
  End 


  Behavior = TransitionDamageFX ModuleTag_14
    ;-------------DESIGNED FOR TINY SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionTinySmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionTinySmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionTinyExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionTinyShockwave
  End

  Behavior = StealthDetectorUpdate ModuleTag_1367
    DetectionRate     = 500   ; how often to rescan for stealthed things in my sight (msec)
    DetectionRange   =  200 ;Dustin, enable this for independant balancing!
    CanDetectWhileGarrisoned  = No ;Garrisoned means being in a structure that you units can shoot out of.
    CanDetectWhileContained   = No ;Contained means being in a transport or tunnel network.
  End

  Geometry            = BOX
  GeometryMajorRadius = 26.0
  GeometryMinorRadius = 26.0
  GeometryHeight      = 15.0
  GeometryIsSmall     = No
  Shadow          = SHADOW_VOLUME
  BuildCompletion = PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
Object BossSentryMachineGun

  ; *** ART Parameters ***
  SelectPortrait         = SAPatriot_L
  ButtonImage            = SAPatriot
  
  ;UpgradeCameo1 = NONE
  ;UpgradeCameo2 = NONE
  ;UpgradeCameo3 = NONE
  ;UpgradeCameo4 = NONE
  ;UpgradeCameo5 = NONE

  Draw = W3DTankDraw ModuleTag_01

    OkToChangeModelColor = Yes

    DefaultConditionState
      Model = BBFactGun
      Turret             = TURRET01
      TurretPitch        = TURRETEL01
      WeaponLaunchBone   = PRIMARY WEAPONA01
      WeaponFireFXBone   = PRIMARY WEAPONA01
      WeaponMuzzleFlash  = PRIMARY WEAPONA01
      WeaponRecoilBone   = PRIMARY WEAPONA01
      WeaponLaunchBone   = TERTIARY WEAPONA01
      WeaponFireFXBone   = TERTIARY WEAPONA01
      WeaponMuzzleFlash  = TERTIARY WEAPONA01
      WeaponRecoilBone   = TERTIARY WEAPONA01
    End
    ConditionState                    = REALLYDAMAGED
      Model = BBFactGun_d
      Turret             = TURRET01
      TurretPitch        = TURRETEL01
      WeaponLaunchBone   = PRIMARY WEAPONA01
      WeaponFireFXBone   = PRIMARY WEAPONA01
      WeaponMuzzleFlash  = PRIMARY WEAPONA01
      WeaponRecoilBone   = PRIMARY WEAPONA01
      WeaponLaunchBone   = TERTIARY WEAPONA01
      WeaponFireFXBone   = TERTIARY WEAPONA01
      WeaponMuzzleFlash  = TERTIARY WEAPONA01
      WeaponRecoilBone   = TERTIARY WEAPONA01
    End
    ConditionState                    = RUBBLE
      Model = BBFactGun_d
      Turret             = TURRET01
      TurretPitch        = TURRETEL01
      WeaponLaunchBone   = PRIMARY WEAPONA01
      WeaponFireFXBone   = PRIMARY WEAPONA01
      WeaponMuzzleFlash  = PRIMARY WEAPONA01
      WeaponRecoilBone   = PRIMARY WEAPONA01
      WeaponLaunchBone   = TERTIARY WEAPONA01
      WeaponFireFXBone   = TERTIARY WEAPONA01
      WeaponMuzzleFlash  = TERTIARY WEAPONA01
      WeaponRecoilBone   = TERTIARY WEAPONA01
    End
    TreadAnimationRate   = 4.0  ; amount of tread texture to move per second
  End

  ; ***DESIGN parameters ***
  DisplayName        = OBJECT:SentryDrone
  Side               = Boss
  EditorSorting      = VEHICLE
  TransportSlotCount = 1                 ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions          = None 
    Weapon              = PRIMARY     BaseBossMissileWeapon
    Weapon              = TERTIARY    BaseBossMissileWeaponAir
    AutoChooseSources   = PRIMARY     FROM_PLAYER FROM_AI FROM_SCRIPT
    AutoChooseSources   = TERTIARY    FROM_PLAYER FROM_AI FROM_SCRIPT  
    PreferredAgainst    = PRIMARY     VEHICLE INFANTRY
    PreferredAgainst    = TERTIARY    BALLISTIC_MISSILE AIRCRAFT
  End
  ArmorSet
    Conditions     = None
    Armor          = InvulnerableAllArmor ; We can't be hurt on the field.  We share damage from the Overlord with his damage module
  End
  VisionRange     = 200
  ExperienceValue = 50 50 50 50   ;Experience point value at each level
  ExperienceRequired = 0 0 0 0  ;Experience points needed to gain each level
  IsTrainable = No             ;Can gain experience
  CrusherLevel           = 0  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet    = GenericCommandSet

  ; *** ENGINEERING Parameters ***
  RadarPriority = STRUCTURE
  KindOf = PRELOAD PORTABLE_STRUCTURE CAN_ATTACK CLICK_THROUGH SPAWNS_ARE_THE_WEAPONS IGNORED_IN_GUI
  
  Body = ActiveBody ModuleTag_02
    MaxHealth       = 3000.0
    InitialHealth   = 3000.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 480
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 50.0
  End

  Behavior = SlowDeathBehavior ModuleTag_07
    DeathTypes = ALL -CRUSHED -SPLATTED
    DestructionDelay  = 500
    DestructionDelayVariance  = 100
    FX  = INITIAL  FX_GenericTankDeathEffect
    OCL = MIDPOINT OCL_AmericaVehicleSentryDroneDie
    FX =  FINAL FX_AmericaVehicleTomahawkDeathExplosion
  End

  Behavior = DestroyDie ModuleTag_08
    DeathTypes = NONE +CRUSHED +SPLATTED
  End

  Behavior = FXListDie ModuleTag_09
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End

  Behavior = TransitionDamageFX ModuleTag_10
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_11
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End
  Behavior = StealthDetectorUpdate ModuleTag_12
    DetectionRate            = 900   ; how often to rescan for stealthed things in my sight (msec)
    DetectionRange           = 225 ;Dustin, enable this for independant balancing!
  End

  Behavior = BaseRegenerateUpdate ModuleTag_13
    ;No data
  End 

  Behavior = AIUpdateInterface ModuleTag_06yug
    Turret
      TurretTurnRate        = 200   // turn rate, in degrees per sec
      TurretPitchRate       = 210
      AllowsPitch           = Yes
      NaturalTurretPitch    = 45   
      GroundUnitPitch       = 40
      MinPhysicalPitch      = -20
      ControlledWeaponSlots = PRIMARY TERTIARY
      MinIdleScanInterval   = 250    ; in milliseconds
      MaxIdleScanInterval   = 250    ; in milliseconds
      MinIdleScanAngle      = 0       ; in degrees off the natural turret angle
      MaxIdleScanAngle      = 360     ; in degrees off the natural turret angle
    End
    AutoAcquireEnemiesWhenIdle = Yes ;ATTACK_BUILDINGS; defensive weapon
  End

  Geometry = BOX
  GeometryMajorRadius = 9.0
  GeometryMinorRadius = 7.0
  GeometryHeight = 11.5     
  GeometryIsSmall = Yes 
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object Boss_Bunkerold

  ; *** ART Parameters ***
  SelectPortrait         = SNBunker_L
  ButtonImage            = SNBunker
  Draw                   = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes
   
   
    ;day
    ConditionState       = NONE
      Model              = BBBunker
    End
    ConditionState       = DAMAGED
      Model              = NBBunker_D
        ParticleSysBone      = Fire01  SmolderingFire
        ParticleSysBone      = Smoke01 SmolderingSmoke
        ParticleSysBone      = Fire01  SmolderingFlameCore
        ParticleSysBone      = Fire02  SmolderingFire
        ParticleSysBone      = Smoke02 SmolderingSmoke
        ParticleSysBone      = Fire02  SmolderingFlameCore
    End
    ConditionState       = REALLYDAMAGED RUBBLE
      Model              = NBBunker_E
      ParticleSysBone        = Fire01 SmolderingFire
      ParticleSysBone        = Fire01 SmolderingFlameCore
      ParticleSysBone        = Fire02 SmolderingFire
      ParticleSysBone        = Fire02 SmolderingFlameCore
      ParticleSysBone        = Fire03 SmolderingFire
      ParticleSysBone        = Fire03 SmolderingFlameCore
      ParticleSysBone        = Fire04 SmolderingFire
      ParticleSysBone        = Fire04 SmolderingFlameCore
      ParticleSysBone        = Fire05 SmolderingFire
      ParticleSysBone        = Fire05 SmolderingFlameCore
      ParticleSysBone        = Smoke01  SmolderingSmoke
      ParticleSysBone        = Smoke02 SmolderingSmoke
      ParticleSysBone        = Smoke03 SmolderingSmoke
      ParticleSysBone        = Smoke04 SmolderingSmoke
      ParticleSysBone        = Smoke05 SmolderingSmoke
    End
    
    ConditionState       = GARRISONED
      Model              = NBBunker_G
    End
    ConditionState       = DAMAGED GARRISONED
      Model              = NBBunker_DG
        ParticleSysBone      = Fire01  SmolderingFire
        ParticleSysBone      = Smoke01 SmolderingSmoke
        ParticleSysBone      = Fire01  SmolderingFlameCore
        ParticleSysBone      = Fire02  SmolderingFire
        ParticleSysBone      = Smoke02 SmolderingSmoke
        ParticleSysBone      = Fire02  SmolderingFlameCore
    End
    ConditionState       = REALLYDAMAGED RUBBLE GARRISONED
      Model              = NBBunker_EG
      ParticleSysBone        = Fire01 SmolderingFire
      ParticleSysBone        = Fire01 SmolderingFlameCore
      ParticleSysBone        = Fire02 SmolderingFire
      ParticleSysBone        = Fire02 SmolderingFlameCore
      ParticleSysBone        = Fire03 SmolderingFire
      ParticleSysBone        = Fire03 SmolderingFlameCore
      ParticleSysBone        = Fire04 SmolderingFire
      ParticleSysBone        = Fire04 SmolderingFlameCore
      ParticleSysBone        = Fire05 SmolderingFire
      ParticleSysBone        = Fire05 SmolderingFlameCore
      ParticleSysBone        = Smoke01  SmolderingSmoke
      ParticleSysBone        = Smoke02 SmolderingSmoke
      ParticleSysBone        = Smoke03 SmolderingSmoke
      ParticleSysBone        = Smoke04 SmolderingSmoke
      ParticleSysBone        = Smoke05 SmolderingSmoke
    End
    
    
    
    ConditionState       = SNOW
      Model              = NBBunker_S
    End
    ConditionState       = DAMAGED SNOW
      Model              = NBBunker_DS
        ParticleSysBone      = Fire01  SmolderingFire
        ParticleSysBone      = Smoke01 SmolderingSmoke
        ParticleSysBone      = Fire01  SmolderingFlameCore
        ParticleSysBone      = Fire02  SmolderingFire
        ParticleSysBone      = Smoke02 SmolderingSmoke
        ParticleSysBone      = Fire02  SmolderingFlameCore
    End
    ConditionState       = REALLYDAMAGED RUBBLE SNOW
      Model              = NBBunker_ES
      ParticleSysBone        = Fire01 SmolderingFire
      ParticleSysBone        = Fire01 SmolderingFlameCore
      ParticleSysBone        = Fire02 SmolderingFire
      ParticleSysBone        = Fire02 SmolderingFlameCore
      ParticleSysBone        = Fire03 SmolderingFire
      ParticleSysBone        = Fire03 SmolderingFlameCore
      ParticleSysBone        = Fire04 SmolderingFire
      ParticleSysBone        = Fire04 SmolderingFlameCore
      ParticleSysBone        = Fire05 SmolderingFire
      ParticleSysBone        = Fire05 SmolderingFlameCore
      ParticleSysBone        = Smoke01  SmolderingSmoke
      ParticleSysBone        = Smoke02 SmolderingSmoke
      ParticleSysBone        = Smoke03 SmolderingSmoke
      ParticleSysBone        = Smoke04 SmolderingSmoke
      ParticleSysBone        = Smoke05 SmolderingSmoke
    End
    
    
    ConditionState       = SNOW GARRISONED
      Model              = NBBunker_SG
    End
    ConditionState       = DAMAGED SNOW GARRISONED
      Model              = NBBunker_DSG
        ParticleSysBone      = Fire01  SmolderingFire
        ParticleSysBone      = Smoke01 SmolderingSmoke
        ParticleSysBone      = Fire01  SmolderingFlameCore
        ParticleSysBone      = Fire02  SmolderingFire
        ParticleSysBone      = Smoke02 SmolderingSmoke
        ParticleSysBone      = Fire02  SmolderingFlameCore
    End
    ConditionState       = REALLYDAMAGED RUBBLE SNOW GARRISONED
      Model              = NBBunker_ESG
      ParticleSysBone        = Fire01 SmolderingFire
      ParticleSysBone        = Fire01 SmolderingFlameCore
      ParticleSysBone        = Fire02 SmolderingFire
      ParticleSysBone        = Fire02 SmolderingFlameCore
      ParticleSysBone        = Fire03 SmolderingFire
      ParticleSysBone        = Fire03 SmolderingFlameCore
      ParticleSysBone        = Fire04 SmolderingFire
      ParticleSysBone        = Fire04 SmolderingFlameCore
      ParticleSysBone        = Fire05 SmolderingFire
      ParticleSysBone        = Fire05 SmolderingFlameCore
      ParticleSysBone        = Smoke01  SmolderingSmoke
      ParticleSysBone        = Smoke02 SmolderingSmoke
      ParticleSysBone        = Smoke03 SmolderingSmoke
      ParticleSysBone        = Smoke04 SmolderingSmoke
      ParticleSysBone        = Smoke05 SmolderingSmoke
    End
    



   ;night
    ConditionState       = NIGHT
      Model              = NBBunker_N
    End
    ConditionState       = DAMAGED NIGHT
      Model              = NBBunker_DN
      ParticleSysBone        = Fire01  SmolderingFire
      ParticleSysBone        = Smoke01 SmolderingSmoke
      ParticleSysBone        = Fire01  SmolderingFlameCore
      ParticleSysBone        = Fire02  SmolderingFire
      ParticleSysBone        = Smoke02 SmolderingSmoke
      ParticleSysBone        = Fire02  SmolderingFlameCore
    End
    ConditionState       = REALLYDAMAGED RUBBLE NIGHT
      Model              = NBBunker_EN
      ParticleSysBone        = Fire01 SmolderingFire
      ParticleSysBone        = Fire01 SmolderingFlameCore
      ParticleSysBone        = Fire02 SmolderingFire
      ParticleSysBone        = Fire02 SmolderingFlameCore
      ParticleSysBone        = Fire03 SmolderingFire
      ParticleSysBone        = Fire03 SmolderingFlameCore
      ParticleSysBone        = Fire04 SmolderingFire
      ParticleSysBone        = Fire04 SmolderingFlameCore
      ParticleSysBone        = Fire05 SmolderingFire
      ParticleSysBone        = Fire05 SmolderingFlameCore
      ParticleSysBone        = Smoke01  SmolderingSmoke
      ParticleSysBone        = Smoke02 SmolderingSmoke
      ParticleSysBone        = Smoke03 SmolderingSmoke
      ParticleSysBone        = Smoke04 SmolderingSmoke
      ParticleSysBone        = Smoke05 SmolderingSmoke
    End
    
    ;night
    ConditionState       = NIGHT GARRISONED
      Model              = NBBunker_NG
    End
    ConditionState       = DAMAGED NIGHT GARRISONED
      Model              = NBBunker_DNG
      ParticleSysBone        = Fire01  SmolderingFire
      ParticleSysBone        = Smoke01 SmolderingSmoke
      ParticleSysBone        = Fire01  SmolderingFlameCore
      ParticleSysBone        = Fire02  SmolderingFire
      ParticleSysBone        = Smoke02 SmolderingSmoke
      ParticleSysBone        = Fire02  SmolderingFlameCore
    End
    ConditionState       = REALLYDAMAGED RUBBLE NIGHT GARRISONED
      Model              = NBBunker_ENG
      ParticleSysBone        = Fire01 SmolderingFire
      ParticleSysBone        = Fire01 SmolderingFlameCore
      ParticleSysBone        = Fire02 SmolderingFire
      ParticleSysBone        = Fire02 SmolderingFlameCore
      ParticleSysBone        = Fire03 SmolderingFire
      ParticleSysBone        = Fire03 SmolderingFlameCore
      ParticleSysBone        = Fire04 SmolderingFire
      ParticleSysBone        = Fire04 SmolderingFlameCore
      ParticleSysBone        = Fire05 SmolderingFire
      ParticleSysBone        = Fire05 SmolderingFlameCore
      ParticleSysBone        = Smoke01  SmolderingSmoke
      ParticleSysBone        = Smoke02 SmolderingSmoke
      ParticleSysBone        = Smoke03 SmolderingSmoke
      ParticleSysBone        = Smoke04 SmolderingSmoke
      ParticleSysBone        = Smoke05 SmolderingSmoke
    End
    
    
    
    
    ;night snow
    ConditionState       = NIGHT SNOW
      Model              = NBBunker_NS
    End
    ConditionState       = DAMAGED NIGHT SNOW
      Model              = NBBunker_DNS
      ParticleSysBone        = Fire01  SmolderingFire
      ParticleSysBone        = Smoke01 SmolderingSmoke
      ParticleSysBone        = Fire01  SmolderingFlameCore
      ParticleSysBone        = Fire02  SmolderingFire
      ParticleSysBone        = Smoke02 SmolderingSmoke
      ParticleSysBone        = Fire02  SmolderingFlameCore
    End
    ConditionState       = REALLYDAMAGED RUBBLE NIGHT SNOW
      Model              = NBBunker_ENS
      ParticleSysBone        = Fire01 SmolderingFire
      ParticleSysBone        = Fire01 SmolderingFlameCore
      ParticleSysBone        = Fire02 SmolderingFire
      ParticleSysBone        = Fire02 SmolderingFlameCore
      ParticleSysBone        = Fire03 SmolderingFire
      ParticleSysBone        = Fire03 SmolderingFlameCore
      ParticleSysBone        = Fire04 SmolderingFire
      ParticleSysBone        = Fire04 SmolderingFlameCore
      ParticleSysBone        = Fire05 SmolderingFire
      ParticleSysBone        = Fire05 SmolderingFlameCore
      ParticleSysBone        = Smoke01  SmolderingSmoke
      ParticleSysBone        = Smoke02 SmolderingSmoke
      ParticleSysBone        = Smoke03 SmolderingSmoke
      ParticleSysBone        = Smoke04 SmolderingSmoke
      ParticleSysBone        = Smoke05 SmolderingSmoke
    End
    
    
       ;night snow
    ConditionState       = NIGHT SNOW GARRISONED
      Model              = NBBunker_NSG
    End
    ConditionState       = DAMAGED NIGHT SNOW GARRISONED
      Model              = NBBunker_DNSG
      ParticleSysBone        = Fire01  SmolderingFire
      ParticleSysBone        = Smoke01 SmolderingSmoke
      ParticleSysBone        = Fire01  SmolderingFlameCore
      ParticleSysBone        = Fire02  SmolderingFire
      ParticleSysBone        = Smoke02 SmolderingSmoke
      ParticleSysBone        = Fire02  SmolderingFlameCore
    End
    ConditionState       = REALLYDAMAGED RUBBLE NIGHT SNOW GARRISONED
      Model              = NBBunker_ENSG
      ParticleSysBone        = Fire01 SmolderingFire
      ParticleSysBone        = Fire01 SmolderingFlameCore
      ParticleSysBone        = Fire02 SmolderingFire
      ParticleSysBone        = Fire02 SmolderingFlameCore
      ParticleSysBone        = Fire03 SmolderingFire
      ParticleSysBone        = Fire03 SmolderingFlameCore
      ParticleSysBone        = Fire04 SmolderingFire
      ParticleSysBone        = Fire04 SmolderingFlameCore
      ParticleSysBone        = Fire05 SmolderingFire
      ParticleSysBone        = Fire05 SmolderingFlameCore
      ParticleSysBone        = Smoke01  SmolderingSmoke
      ParticleSysBone        = Smoke02 SmolderingSmoke
      ParticleSysBone        = Smoke03 SmolderingSmoke
      ParticleSysBone        = Smoke04 SmolderingSmoke
      ParticleSysBone        = Smoke05 SmolderingSmoke
    End
    
    
        ;**************************************************************************************************************************
    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ;for this draw module
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = NBBunker
      ;Animation          = NBBunker.NBBunker
      ;AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = NBBunker_D
      ;Animation          = NBBunker_D.NBBunker_D
      ;AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = NBBunker_E
      ;Animation          = NBBunker_E.NBBunker_E
      ;AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
      Model              = NBBunker_N
      ;Animation          = NBBunker_N.NBBunker_N
      ;AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
      Model              = NBBunker_DN
      ;Animation          = NBBunker_DN.NBBunker_DN
      ;AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
      Model              = NBBunker_EN
      ;Animation          = NBBunker_EN.NBBunker_EN
      ;AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model              = NBBunker_S
      ;Animation          = NBBunker_S.NBBunker_S
      ;AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
      Model              = NBBunker_DS
      ;Animation          = NBBunker_DS.NBBunker_DS
      ;AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
      Model              = NBBunker_ES
      ;Animation          = NBBunker_ES.NBBunker_ES
      ;AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
      Model              = NBBunker_NS
      ;Animation          = NBBunker_NS.NBBunker_NS
      ;AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
      Model              = NBBunker_DNS
      ;Animation          = NBBunker_DNS.NBBunker_DNS
      ;AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
      Model              = NBBunker_ENS
     ; Animation          = NBBunker_ENS.NBBunker_ENS
     ; AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End

    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD GARRISONED
    AliasConditionState  = SOLD DAMAGED GARRISONED
    AliasConditionState  = SOLD REALLYDAMAGED GARRISONED
    AliasConditionState  = SOLD NIGHT GARRISONED
    AliasConditionState  = SOLD NIGHT DAMAGED GARRISONED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED GARRISONED
    AliasConditionState  = SOLD SNOW GARRISONED
    AliasConditionState  = SOLD SNOW DAMAGED GARRISONED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED GARRISONED
    AliasConditionState  = SOLD NIGHT SNOW GARRISONED
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED GARRISONED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED GARRISONED
    ;**************************************************************************************************************************

    
  End  
    
  ; ------------ construction-zone fence -----------------
  Draw = W3DModelDraw ModuleTag_02
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = NBBunker_A4
      Animation       = NBBunker_A4.NBBunker_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
    End
    ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = NBBunker_A4N
      Animation       = NBBunker_A4N.NBBunker_A4N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
    End
    ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = NBBunker_A4S
      Animation       = NBBunker_A4S.NBBunker_A4S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
    End
    ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = NBBunker_A4SN
      Animation       = NBBunker_A4SN.NBBunker_A4SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = NBBunker_A4
      Animation       = NBBunker_A4.NBBunker_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = NBBunker_A4N
      Animation       = NBBunker_A4N.NBBunker_A4N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = NBBunker_A4S
      Animation       = NBBunker_A4S.NBBunker_A4S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = NBBunker_A4SN
      Animation       = NBBunker_A4SN.NBBunker_A4SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = NBBunker_A4
      Animation       = NBBunker_A4.NBBunker_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = NBBunker_A4N
      Animation       = NBBunker_A4N.NBBunker_A4N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = NBBunker_A4S
      Animation       = NBBunker_A4S.NBBunker_A4S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = NBBunker_A4SN
      Animation       = NBBunker_A4SN.NBBunker_A4SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ under-construction scaffolding -----------------
  Draw = W3DModelDraw ModuleTag_03
  AnimationsRequirePower = No
    MinLODRequired = MEDIUM
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = NBBunker_A6
      Animation       = NBBunker_A6.NBBunker_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Smoke01 BuildUpSmokeChina
      ParticleSysBone = Smoke02 BuildUpSmokeChina
      ParticleSysBone = Smoke03 BuildUpSmokeChina
      ParticleSysBone = Smoke04 BuildUpSmokeChina
    End
    ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      Model           = NBBunker_A6N
      Animation       = NBBunker_A6N.NBBunker_A6N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = Smoke01 BuildUpSmokeChina
      ParticleSysBone = Smoke02 BuildUpSmokeChina
      ParticleSysBone = Smoke03 BuildUpSmokeChina
      ParticleSysBone = Smoke04 BuildUpSmokeChina
    End
    ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      Model           = NBBunker_A6S
      Animation       = NBBunker_A6S.NBBunker_A6S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = Smoke01 BuildUpSnowSmoke
      ParticleSysBone = Smoke02 BuildUpSnowSmoke
      ParticleSysBone = Smoke03 BuildUpSnowSmoke
      ParticleSysBone = Smoke04 BuildUpSnowSmoke
    End
    ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      Model           = NBBunker_A6SN
      Animation       = NBBunker_A6SN.NBBunker_A6SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = Smoke01 BuildUpNightSnowSmoke
      ParticleSysBone = Smoke02 BuildUpNightSnowSmoke
      ParticleSysBone = Smoke03 BuildUpNightSnowSmoke
      ParticleSysBone = Smoke04 BuildUpNightSnowSmoke
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
     Model            = NBBunker_A6
      Animation       = NBBunker_A6.NBBunker_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
     Model            = NBBunker_A6N
      Animation       = NBBunker_A6N.NBBunker_A6N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
     Model            = NBBunker_A6S
      Animation       = NBBunker_A6S.NBBunker_A6S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
     Model            = NBBunker_A6SN
      Animation       = NBBunker_A6SN.NBBunker_A6SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = NBBunker_A6
      Animation       = NBBunker_A6.NBBunker_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = NBBunker_A6N
      Animation       = NBBunker_A6N.NBBunker_A6N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = NBBunker_A6S
      Animation       = NBBunker_A6S.NBBunker_A6S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = NBBunker_A6SN
      Animation       = NBBunker_A6SN.NBBunker_A6SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ being-constructed crane -----------------
  Draw = W3DModelDraw ModuleTag_04
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SOLD
      Model           = NONE
    End

    ConditionState  = ACTIVELY_BEING_CONSTRUCTED
      Model           = NBBunker_A5
      Animation       = NBBunker_A5.NBBunker_A5
      AnimationMode   = LOOP
      TransitionKey  = UP_DAY
    End

    ConditionState  = NIGHT ACTIVELY_BEING_CONSTRUCTED
      Model           = NBBunker_A5N
      Animation       = NBBunker_A5N.NBBunker_A5N
      AnimationMode   = LOOP
      TransitionKey  = UP_NIGHT
    End
    ConditionState  = SNOW ACTIVELY_BEING_CONSTRUCTED
      Model           = NBBunker_A5S
      Animation       = NBBunker_A5S.NBBunker_A5S
      AnimationMode   = LOOP
      TransitionKey  = UP_SNOW
    End
    ConditionState  = SNOW NIGHT ACTIVELY_BEING_CONSTRUCTED
      Model           = NBBunker_A5SN
      Animation       = NBBunker_A5SN.NBBunker_A5SN
      AnimationMode   = LOOP
      TransitionKey  = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model            = NBBunker_AB
      Animation       = NBBunker_AB.NBBunker_AB
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End

    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model            = NBBunker_ABN
      Animation       = NBBunker_ABN.NBBunker_ABN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model            = NBBunker_ABS
      Animation       = NBBunker_ABS.NBBunker_ABS
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model            = NBBunker_ABSN
      Animation       = NBBunker_ABSN.NBBunker_ABSN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model            = NBBunker_AB
      Animation       = NBBunker_AB.NBBunker_AB
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model            = NBBunker_ABN
      Animation       = NBBunker_ABN.NBBunker_ABN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model            = NBBunker_ABS
      Animation       = NBBunker_ABS.NBBunker_ABS
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model            = NBBunker_ABSN
      Animation       = NBBunker_ABSN.NBBunker_ABSN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End
  
  PlacementViewAngle     = -135

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Bunker
  Side = Boss
  EditorSorting     = STRUCTURE
  Prerequisites
    Object = Boss_Barracks
  End
  BuildCost         = 400
  BuildTime         = 5.0           ; in seconds
  EnergyProduction  = 0
  VisionRange       = 300.0         ; Shroud clearing distance
  ShroudClearingRange = 200
  ArmorSet
    Conditions      = None
    Armor           = StructureArmor
    DamageFX        = StructureDamageFXNoShake
  End
  CommandSet       = ChinaBunkerCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect       = BunkerSelect
  SoundOnDamaged        = BuildingDamagedStateLight
  SoundOnReallyDamaged  = BuildingDestroy

  UnitSpecificSounds
    UnderConstruction     = UnderConstructionLoop
  End

  ; *** ENGINEERING Parameters ***
  KindOf            = PRELOAD STRUCTURE SELECTABLE STICK_TO_TERRAIN_SLOPE IMMOBILE SCORE FS_BASE_DEFENSE GARRISONABLE_UNTIL_DESTROYED IMMUNE_TO_CAPTURE
  Body              = StructureBody ModuleTag_05
    MaxHealth       = 1000.0
    InitialHealth   = 1000.0
  End

  ExperienceValue     = 20 20 20 20  ; Experience point value at each level

  Behavior = GarrisonContain ModuleTag_08
    ContainMax                    = 5
    EnterSound                    = GarrisonEnter
    ExitSound                     = GarrisonExit
    ImmuneToClearBuildingAttacks  = Yes
  End

  Behavior = GenerateMinefieldBehavior     ModuleTag_09
    TriggeredBy           = Upgrade_ChinaMines
    MineName              = ChinaStandardMine
    SmartBorder           = Yes
    AlwaysCircular        = Yes

    Upgradable            = Yes
    UpgradedTriggeredBy   = Upgrade_ChinaEMPMines
    UpgradedMineName      = ChinaEMPMine
  End

  Behavior = ProductionUpdate ModuleTag_10
    ; nothing, but is required if we have any Object-level Upgrades!
  End

  Behavior = FlammableUpdate ModuleTag_12
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 5       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End
  
  Behavior             = CreateObjectDie ModuleTag_13
    CreationList  = OCL_LargeStructureDebris
  End
  Behavior             = FXListDie ModuleTag_14
    DeathFX       = FX_StructureSmallDeath
  End
  Behavior = DestroyDie ModuleTag_06
    ;nothing
  End

  Behavior = TransitionDamageFX ModuleTag_15
    ;-------------DESIGNED FOR SMALL SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
  End
  
  Behavior = CommandSetUpgrade ModuleTag_25
    CommandSet = ChinaBunkerCommandSetUpgrade
    TriggeredBy = Upgrade_ChinaMines
  End

  Behavior = BaseRegenerateUpdate ModuleTag_1301
    ;No data
  End 
  

  Geometry            = BOX
  GeometryMajorRadius = 16.0
  GeometryMinorRadius = 16.0
  GeometryHeight      = 20.0
  GeometryIsSmall     = No
  Shadow              = SHADOW_VOLUME
  BuildCompletion     = PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
Object Boss_GattlingCannonOld

  ; *** ART Parameters ***
  SelectPortrait         = SNGatTower_L
  ButtonImage            = SNGatTower
  UpgradeCameo1           = Upgrade_ChinaChainGuns
  Draw                    = W3DModelDraw ModuleTag_01
    OkToChangeModelColor  = Yes

;--------------------- IDLE --------------------------------------------------
;-------------------------------------------------------------------------------    
    
    ; DAY
    DefaultConditionState
      Model               = NBGattling
      Animation           = NBGattling_A2.NBGattling_A2
      AnimationMode       = MANUAL
      Turret              = TURRET
      TurretPitch         = TURRETEL
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      WeaponFireFXBone    = SECONDARY Muzzle
      WeaponMuzzleFlash   = SECONDARY MuzzleFX
    End
    ConditionState        = USING_WEAPON_B
      Model               = NBGattling
      Animation           = NBGattling_A2.NBGattling_A2
      AnimationMode       = MANUAL
      Turret              = TURRET
      TurretPitch         = TURRETEL
      WeaponFireFXBone    = SECONDARY Muzzle
      WeaponMuzzleFlash   = SECONDARY MuzzleFX
    End
    ConditionState        = DAMAGED
      Model               = NBGattling_D
      Animation           = NBGattling_A2.NBGattling_A2
      AnimationMode       = MANUAL
      Turret              = TURRET
      TurretPitch         = TURRETEL
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      ParticleSysBone     = SmokeM01 SmokeFactionMedium
      ParticleSysBone     = SparkM01 SparksMedium
    End
    ConditionState        = USING_WEAPON_B DAMAGED
      Model               = NBGattling_D
      Animation           = NBGattling_A2.NBGattling_A2
      AnimationMode       = MANUAL
      Turret              = TURRET
      TurretPitch         = TURRETEL
      WeaponFireFXBone    = SECONDARY Muzzle
      WeaponMuzzleFlash   = SECONDARY MuzzleFX
      ParticleSysBone     = SmokeM01 SmokeFactionMedium
      ParticleSysBone     = SparkM01 SparksMedium
    End
    ConditionState        = REALLYDAMAGED RUBBLE
      Model               = NBGattling_E
      Animation           = NBGattling_A2.NBGattling_A2
      AnimationMode       = MANUAL
      Turret              = TURRET
      TurretPitch         = TURRETEL
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      ParticleSysBone     = Smoke01 SmokeFactionMedium
      ParticleSysBone     = Smoke02 SmokeFactionMedium
      ParticleSysBone     = Smoke03 SmokeFactionMedium
      ParticleSysBone     = SparkM01 SparksMedium
      ParticleSysBone     = SparkM02 SparksMedium
    End

    ConditionState        = USING_WEAPON_B REALLYDAMAGED RUBBLE
      Model               = NBGattling_E
      Animation           = NBGattling_A2.NBGattling_A2
      AnimationMode       = MANUAL
      Turret              = TURRET
      TurretPitch         = TURRETEL
      WeaponFireFXBone    = SECONDARY Muzzle
      WeaponMuzzleFlash   = SECONDARY MuzzleFX
      ParticleSysBone     = Smoke01 SmokeFactionMedium
      ParticleSysBone     = Smoke02 SmokeFactionMedium
      ParticleSysBone     = Smoke03 SmokeFactionMedium
      ParticleSysBone     = SparkM01 SparksMedium
      ParticleSysBone     = SparkM02 SparksMedium
    End


    ; NIGHT    ---------------------------------------------------------------
    ConditionState        = NIGHT
      Model               = NBGattling_N
      Animation           = NBGattling_A2.NBGattling_A2
      AnimationMode       = MANUAL
      Turret              = TURRET
      TurretPitch         = TURRETEL
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
    End
    ConditionState        = USING_WEAPON_B NIGHT
      Model               = NBGattling_N
      Animation           = NBGattling_A2.NBGattling_A2
      AnimationMode       = MANUAL
      Turret              = TURRET
      TurretPitch         = TURRETEL
      WeaponFireFXBone    = SECONDARY Muzzle
      WeaponMuzzleFlash   = SECONDARY MuzzleFX
    End
    ConditionState        = DAMAGED NIGHT
      Model               = NBGattling_DN
      Animation           = NBGattling_A2.NBGattling_A2
      AnimationMode       = MANUAL
      Turret              = TURRET
      TurretPitch         = TURRETEL
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      ParticleSysBone     = SmokeM01 SmokeFactionMedium
      ParticleSysBone     = SparkM01 SparksMedium
    End
    ConditionState        = USING_WEAPON_B DAMAGED NIGHT
      Model               = NBGattling_DN
      Animation           = NBGattling_A2.NBGattling_A2
      AnimationMode       = MANUAL
      Turret              = TURRET
      TurretPitch         = TURRETEL
      WeaponFireFXBone    = SECONDARY Muzzle
      WeaponMuzzleFlash   = SECONDARY MuzzleFX
      ParticleSysBone     = SmokeM01 SmokeFactionMedium
      ParticleSysBone     = SparkM01 SparksMedium
    End
    ConditionState        = REALLYDAMAGED RUBBLE NIGHT
      Model               = NBGattling_EN
      Animation           = NBGattling_A2.NBGattling_A2
      AnimationMode       = MANUAL
      Turret              = TURRET
      TurretPitch         = TURRETEL
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      ParticleSysBone     = Smoke01 SmokeFactionMedium
      ParticleSysBone     = Smoke02 SmokeFactionMedium
      ParticleSysBone     = Smoke03 SmokeFactionMedium
      ParticleSysBone     = SparkM01 SparksMedium
      ParticleSysBone     = SparkM02 SparksMedium
    End
    ConditionState        = USING_WEAPON_B REALLYDAMAGED RUBBLE NIGHT
      Model               = NBGattling_EN
      Animation           = NBGattling_A2.NBGattling_A2
      AnimationMode       = MANUAL
      Turret              = TURRET
      TurretPitch         = TURRETEL
      WeaponFireFXBone    = SECONDARY Muzzle
      WeaponMuzzleFlash   = SECONDARY MuzzleFX
      ParticleSysBone     = Smoke01 SmokeFactionMedium
      ParticleSysBone     = Smoke02 SmokeFactionMedium
      ParticleSysBone     = Smoke03 SmokeFactionMedium
      ParticleSysBone     = SparkM01 SparksMedium
      ParticleSysBone     = SparkM02 SparksMedium
    End


    ;SNOW    ---------------------------------------------------------------
    ConditionState        = SNOW
      Model               = NBGattling_S
      Animation           = NBGattling_A2.NBGattling_A2
      AnimationMode       = MANUAL
      Turret              = TURRET
      TurretPitch         = TURRETEL
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
    End
    ConditionState        = USING_WEAPON_B SNOW
      Model               = NBGattling_S
      Animation           = NBGattling_A2.NBGattling_A2
      AnimationMode       = MANUAL
      Turret              = TURRET
      TurretPitch         = TURRETEL
      WeaponFireFXBone    = SECONDARY Muzzle
      WeaponMuzzleFlash   = SECONDARY MuzzleFX
    End

    ConditionState        = DAMAGED SNOW
      Model               = NBGattling_DS
      Animation           = NBGattling_A2.NBGattling_A2
      AnimationMode       = MANUAL
      Turret              = TURRET
      TurretPitch         = TURRETEL
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      ParticleSysBone     = SmokeM01 SmokeFactionMedium
      ParticleSysBone     = SparkM01 SparksMedium
    End
    ConditionState        = USING_WEAPON_B DAMAGED SNOW
      Model               = NBGattling_DS
      Animation           = NBGattling_A2.NBGattling_A2
      AnimationMode       = MANUAL
      Turret              = TURRET
      TurretPitch         = TURRETEL
      WeaponFireFXBone    = SECONDARY Muzzle
      WeaponMuzzleFlash   = SECONDARY MuzzleFX
      ParticleSysBone     = SmokeM01 SmokeFactionMedium
      ParticleSysBone     = SparkM01 SparksMedium
    End

    ConditionState        = REALLYDAMAGED RUBBLE SNOW
      Model               = NBGattling_ES
      Animation           = NBGattling_A2.NBGattling_A2
      AnimationMode       = MANUAL
      Turret              = TURRET
      TurretPitch         = TURRETEL
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      ParticleSysBone     = Smoke01 SmokeFactionMedium
      ParticleSysBone     = Smoke02 SmokeFactionMedium
      ParticleSysBone     = Smoke03 SmokeFactionMedium
      ParticleSysBone     = SparkM01 SparksMedium
      ParticleSysBone     = SparkM02 SparksMedium
    End
    ConditionState        = USING_WEAPON_B REALLYDAMAGED RUBBLE SNOW
      Model               = NBGattling_ES
      Animation           = NBGattling_A2.NBGattling_A2
      AnimationMode       = MANUAL
      Turret              = TURRET
      TurretPitch         = TURRETEL
      WeaponFireFXBone    = SECONDARY Muzzle
      WeaponMuzzleFlash   = SECONDARY MuzzleFX
      ParticleSysBone     = Smoke01 SmokeFactionMedium
      ParticleSysBone     = Smoke02 SmokeFactionMedium
      ParticleSysBone     = Smoke03 SmokeFactionMedium
      ParticleSysBone     = SparkM01 SparksMedium
      ParticleSysBone     = SparkM02 SparksMedium
    End


    ; NIGHT SNOW    ---------------------------------------------------------------
    ConditionState        = NIGHT SNOW
      Model               = NBGattling_NS
      Animation           = NBGattling_A2.NBGattling_A2
      AnimationMode       = MANUAL
      Turret              = TURRET
      TurretPitch         = TURRETEL
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
    End
    ConditionState        = USING_WEAPON_B NIGHT SNOW
      Model               = NBGattling_NS
      Animation           = NBGattling_A2.NBGattling_A2
      AnimationMode       = MANUAL
      Turret              = TURRET
      TurretPitch         = TURRETEL
      WeaponFireFXBone    = SECONDARY Muzzle
      WeaponMuzzleFlash   = SECONDARY MuzzleFX
    End

    ConditionState        = DAMAGED NIGHT SNOW
      Model               = NBGattling_DNS
      Animation           = NBGattling_A2.NBGattling_A2
      AnimationMode       = MANUAL
      Turret              = TURRET
      TurretPitch         = TURRETEL
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      ParticleSysBone     = SmokeM01 SmokeFactionMedium
      ParticleSysBone     = SparkM01 SparksMedium
    End
    ConditionState        = USING_WEAPON_B DAMAGED NIGHT SNOW
      Model               = NBGattling_DNS
      Animation           = NBGattling_A2.NBGattling_A2
      AnimationMode       = MANUAL
      Turret              = TURRET
      TurretPitch         = TURRETEL
      WeaponFireFXBone    = SECONDARY Muzzle
      WeaponMuzzleFlash   = SECONDARY MuzzleFX
      ParticleSysBone     = SmokeM01 SmokeFactionMedium
      ParticleSysBone     = SparkM01 SparksMedium
    End

    ConditionState        = REALLYDAMAGED RUBBLE NIGHT SNOW
      Model               = NBGattling_ENS
      Animation           = NBGattling_A2.NBGattling_A2
      AnimationMode       = MANUAL
      Turret              = TURRET
      TurretPitch         = TURRETEL
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      ParticleSysBone     = Smoke01 SmokeFactionMedium
      ParticleSysBone     = Smoke02 SmokeFactionMedium
      ParticleSysBone     = Smoke03 SmokeFactionMedium
      ParticleSysBone     = SparkM01 SparksMedium
      ParticleSysBone     = SparkM02 SparksMedium
    End
    ConditionState        = USING_WEAPON_B REALLYDAMAGED RUBBLE NIGHT SNOW
      Model               = NBGattling_ENS
      Animation           = NBGattling_A2.NBGattling_A2
      AnimationMode       = MANUAL
      Turret              = TURRET
      TurretPitch         = TURRETEL
      WeaponFireFXBone    = SECONDARY Muzzle
      WeaponMuzzleFlash   = SECONDARY MuzzleFX
      ParticleSysBone     = Smoke01 SmokeFactionMedium
      ParticleSysBone     = Smoke02 SmokeFactionMedium
      ParticleSysBone     = Smoke03 SmokeFactionMedium
      ParticleSysBone     = SparkM01 SparksMedium
      ParticleSysBone     = SparkM02 SparksMedium
    End

;---------------- ATTACKING ----------------------------------
;-------------------------------------------------------------
   ; DAY   
   ConditionState        = ATTACKING
      Model               = NBGattling
      Animation           = NBGattling_A2.NBGattling_A2
      AnimationMode       = LOOP
      AnimationSpeedFactorRange = 0.5 0.5 ;set this state to animate  s l o w l y
    End
    ConditionState        = ATTACKING DAMAGED
      Model               = NBGattling_D
      Animation           = NBGattling_A2.NBGattling_A2
      AnimationMode       = LOOP
      AnimationSpeedFactorRange = 0.5 0.5 ;set this state to animate  s l o w l y
    End
    ConditionState        = ATTACKING REALLYDAMAGED
      Model               = NBGattling_E
      Animation           = NBGattling_A2.NBGattling_A2
      AnimationMode       = LOOP
      AnimationSpeedFactorRange = 0.5 0.5 ;set this state to animate  s l o w l y
    End
    
    
    
    ;NIGHT     ---------------------------------------------------------------
    ConditionState        = ATTACKING NIGHT
      Model               = NBGattling_N
      Animation           = NBGattling_A2.NBGattling_A2
      AnimationMode       = LOOP
      AnimationSpeedFactorRange = 0.5 0.5 ;set this state to animate  s l o w l y
    End
    
    ConditionState        = ATTACKING DAMAGED NIGHT
      Model               = NBGattling_DN
      Animation           = NBGattling_A2.NBGattling_A2
      AnimationMode       = LOOP
      AnimationSpeedFactorRange = 0.5 0.5 ;set this state to animate  s l o w l y
    End
    
    ConditionState        = ATTACKING REALLYDAMAGED NIGHT
      Model               = NBGattling_EN
      Animation           = NBGattling_A2.NBGattling_A2
      AnimationMode       = LOOP
      AnimationSpeedFactorRange = 0.5 0.5 ;set this state to animate  s l o w l y
    End
    
    
    
    
    ;SNOW     ---------------------------------------------------------------
    ConditionState        = ATTACKING SNOW
      Model               = NBGattling_S
      Animation           = NBGattling_A2.NBGattling_A2
      AnimationMode       = LOOP
      AnimationSpeedFactorRange = 0.5 0.5 ;set this state to animate  s l o w l y
    End
    
    ConditionState        = ATTACKING DAMAGED SNOW
      Model               = NBGattling_DS
      Animation           = NBGattling_A2.NBGattling_A2
      AnimationMode       = LOOP
      AnimationSpeedFactorRange = 0.5 0.5 ;set this state to animate  s l o w l y
    End
    
    ConditionState        = ATTACKING REALLYDAMAGED SNOW
      Model               = NBGattling_ES
      Animation           = NBGattling_A2.NBGattling_A2
      AnimationMode       = LOOP
      AnimationSpeedFactorRange = 0.5 0.5 ;set this state to animate  s l o w l y
    End
    
    
    
    ;SNOW NIGHT  ---------------------------------------------------------------
    ConditionState        = ATTACKING NIGHT SNOW
      Model               = NBGattling_NS
      Animation           = NBGattling_A2.NBGattling_A2
      AnimationMode       = LOOP
      AnimationSpeedFactorRange = 0.5 0.5 ;set this state to animate  s l o w l y
    End
    
    ConditionState        = ATTACKING DAMAGED SNOW NIGHT
      Model               = NBGattling_DNS
      Animation           = NBGattling_A2.NBGattling_A2
      AnimationMode       = LOOP
      AnimationSpeedFactorRange = 0.5 0.5 ;set this state to animate  s l o w l y
    End
    
    ConditionState        = ATTACKING REALLYDAMAGED NIGHT SNOW
      Model               = NBGattling_ENS
      Animation           = NBGattling_A2.NBGattling_A2
      AnimationMode       = LOOP
      AnimationSpeedFactorRange = 0.5 0.5 ;set this state to animate  s l o w l y
    End
    
;---------------- CONTINUOUS_FIRE_SLOW -----------------------
;-------------------------------------------------------------
   ; DAY   
   ConditionState        = CONTINUOUS_FIRE_SLOW ATTACKING
      Model               = NBGattling
      Animation           = NBGattling_A2.NBGattling_A2
      AnimationMode       = LOOP
      AnimationSpeedFactorRange = 0.8 0.8 ;set this state to animate  s l o w l y
    End
    ConditionState        = CONTINUOUS_FIRE_SLOW DAMAGED ATTACKING
      Model               = NBGattling_D
      Animation           = NBGattling_A2.NBGattling_A2
      AnimationMode       = LOOP
      AnimationSpeedFactorRange = 0.8 0.8 ;set this state to animate  s l o w l y
    End
    ConditionState        = CONTINUOUS_FIRE_SLOW REALLYDAMAGED ATTACKING
      Model               = NBGattling_E
      Animation           = NBGattling_A2.NBGattling_A2
      AnimationMode       = LOOP
      AnimationSpeedFactorRange = 0.8 0.8 ;set this state to animate  s l o w l y
    End
    
    
    
    ;NIGHT     ---------------------------------------------------------------
    ConditionState        = CONTINUOUS_FIRE_SLOW NIGHT ATTACKING
      Model               = NBGattling_N
      Animation           = NBGattling_A2.NBGattling_A2
      AnimationMode       = LOOP
      AnimationSpeedFactorRange = 0.8 0.8 ;set this state to animate  s l o w l y
    End
    
    ConditionState        = CONTINUOUS_FIRE_SLOW DAMAGED NIGHT ATTACKING
      Model               = NBGattling_DN
      Animation           = NBGattling_A2.NBGattling_A2
      AnimationMode       = LOOP
      AnimationSpeedFactorRange = 0.8 0.8 ;set this state to animate  s l o w l y
    End
    
    ConditionState        = CONTINUOUS_FIRE_SLOW REALLYDAMAGED NIGHT ATTACKING
      Model               = NBGattling_EN
      Animation           = NBGattling_A2.NBGattling_A2
      AnimationMode       = LOOP
      AnimationSpeedFactorRange = 0.8 0.8 ;set this state to animate  s l o w l y
    End
    
    
    
    
    ;SNOW     ---------------------------------------------------------------
    ConditionState        = CONTINUOUS_FIRE_SLOW SNOW ATTACKING
      Model               = NBGattling_S
      Animation           = NBGattling_A2.NBGattling_A2
      AnimationMode       = LOOP
      AnimationSpeedFactorRange = 0.8 0.8 ;set this state to animate  s l o w l y
    End
    
    ConditionState        = CONTINUOUS_FIRE_SLOW DAMAGED SNOW ATTACKING
      Model               = NBGattling_DS
      Animation           = NBGattling_A2.NBGattling_A2
      AnimationMode       = LOOP
      AnimationSpeedFactorRange = 0.8 0.8 ;set this state to animate  s l o w l y
    End
    
    ConditionState        = CONTINUOUS_FIRE_SLOW REALLYDAMAGED SNOW ATTACKING
      Model               = NBGattling_ES
      Animation           = NBGattling_A2.NBGattling_A2
      AnimationMode       = LOOP
      AnimationSpeedFactorRange = 0.8 0.8 ;set this state to animate  s l o w l y
    End
    
    
    
    ;SNOW NIGHT  ---------------------------------------------------------------
    ConditionState        = CONTINUOUS_FIRE_SLOW NIGHT SNOW ATTACKING
      Model               = NBGattling_NS
      Animation           = NBGattling_A2.NBGattling_A2
      AnimationMode       = LOOP
      AnimationSpeedFactorRange = 0.8 0.8 ;set this state to animate  s l o w l y
    End
    
    ConditionState        = CONTINUOUS_FIRE_SLOW DAMAGED SNOW NIGHT ATTACKING
      Model               = NBGattling_DNS
      Animation           = NBGattling_A2.NBGattling_A2
      AnimationMode       = LOOP
      AnimationSpeedFactorRange = 0.8 0.8 ;set this state to animate  s l o w l y
    End
    
    ConditionState        = CONTINUOUS_FIRE_SLOW REALLYDAMAGED NIGHT SNOW ATTACKING
      Model               = NBGattling_ENS
      Animation           = NBGattling_A2.NBGattling_A2
      AnimationMode       = LOOP
      AnimationSpeedFactorRange = 0.8 0.8 ;set this state to animate  s l o w l y
    End
    
    
    
    
;------------- CONTINUOUS_FIRE_MEAN ------------------------
;-----------------------------------------------------------
    ;DAY
    ConditionState       = CONTINUOUS_FIRE_MEAN ATTACKING
      Model               = NBGattling
      Animation           = NBGattling_A2.NBGattling_A2
      AnimationMode       = LOOP
      AnimationSpeedFactorRange = 1.5 1.5 ;set this state to animate  medium-fast
    End
     ConditionState       = CONTINUOUS_FIRE_MEAN DAMAGED ATTACKING
      Model               = NBGattling_D
      Animation           = NBGattling_A2.NBGattling_A2
      AnimationMode       = LOOP
      AnimationSpeedFactorRange = 1.5 1.5 ;set this state to animate  medium-fast
    End
    ConditionState       = CONTINUOUS_FIRE_MEAN REALLYDAMAGED ATTACKING
      Model               = NBGattling_E
      Animation           = NBGattling_A2.NBGattling_A2
      AnimationMode       = LOOP
      AnimationSpeedFactorRange = 1.5 1.5 ;set this state to animate  medium-fast
    End
    
    
    
    ;NIGHT    ---------------------------------------------------------------
    ConditionState       = CONTINUOUS_FIRE_MEAN NIGHT ATTACKING
      Model               = NBGattling_N
      Animation           = NBGattling_A2.NBGattling_A2
      AnimationMode       = LOOP
      AnimationSpeedFactorRange = 1.5 1.5 ;set this state to animate  medium-fast
    End
    ConditionState       = CONTINUOUS_FIRE_MEAN DAMAGED NIGHT ATTACKING
      Model               = NBGattling_DN
      Animation           = NBGattling_A2.NBGattling_A2
      AnimationMode       = LOOP
      AnimationSpeedFactorRange = 1.5 1.5 ;set this state to animate  medium-fast
    End
    ConditionState        = CONTINUOUS_FIRE_MEAN REALLYDAMAGED NIGHT ATTACKING
      Model               = NBGattling_EN
      Animation           = NBGattling_A2.NBGattling_A2
      AnimationMode       = LOOP
      AnimationSpeedFactorRange = 1.5 1.5 ;set this state to animate  vryfst
    End
    
    
    ;SNOW    ---------------------------------------------------------------
    ConditionState       = CONTINUOUS_FIRE_MEAN SNOW ATTACKING
      Model               = NBGattling_S
      Animation           = NBGattling_A2.NBGattling_A2
      AnimationMode       = LOOP
      AnimationSpeedFactorRange = 1.5 1.5 ;set this state to animate  medium-fast
    End
    ConditionState       = CONTINUOUS_FIRE_MEAN DAMAGED SNOW ATTACKING
      Model               = NBGattling_DS
      Animation           = NBGattling_A2.NBGattling_A2
      AnimationMode       = LOOP
      AnimationSpeedFactorRange = 1.5 1.5 ;set this state to animate  medium-fast
    End
    ConditionState        = CONTINUOUS_FIRE_MEAN REALLYDAMAGED SNOW ATTACKING
      Model               = NBGattling_ES
      Animation           = NBGattling_A2.NBGattling_A2
      AnimationMode       = LOOP
      AnimationSpeedFactorRange = 1.5 1.5 ;set this state to animate  vryfst
    End
      
    
    ;NIGHT SNOW ---------------------------------------------------------------
    ConditionState       = CONTINUOUS_FIRE_MEAN NIGHT SNOW ATTACKING
      Model               = NBGattling_NS
      Animation           = NBGattling_A2.NBGattling_A2
      AnimationMode       = LOOP
      AnimationSpeedFactorRange = 1.5 1.5 ;set this state to animate  medium-fast
    End
    ConditionState       = CONTINUOUS_FIRE_MEAN DAMAGED SNOW NIGHT ATTACKING
      Model               = NBGattling_DNS
      Animation           = NBGattling_A2.NBGattling_A2
      AnimationMode       = LOOP
      AnimationSpeedFactorRange = 1.5 1.5 ;set this state to animate  medium-fast
    End
    ConditionState       = CONTINUOUS_FIRE_MEAN REALLYDAMAGED NIGHT SNOW ATTACKING
      Model               = NBGattling_ENS
      Animation           = NBGattling_A2.NBGattling_A2
      AnimationMode       = LOOP
      AnimationSpeedFactorRange = 1.5 1.5 ;set this state to animate  medium-fast
    End
    





;------------- CONTINUOUS_FIRE_FAST ------------------------
    ;DAY  
    ConditionState        = CONTINUOUS_FIRE_FAST ATTACKING
      Model               = NBGattling
      Animation           = NBGattling_A2.NBGattling_A2
      AnimationMode       = LOOP
      AnimationSpeedFactorRange = 3.0 3.0 ;set this state to animate  vryfst
      ParticleSysBone    = Muzzle01 GattlingMuzzleSmoke
      ParticleSysBone    = Muzzle02 GattlingMuzzleSmoke
    End
    ConditionState        = CONTINUOUS_FIRE_FAST DAMAGED ATTACKING
      Model               = NBGattling_D
      Animation           = NBGattling_A2.NBGattling_A2
      AnimationMode       = LOOP
      AnimationSpeedFactorRange = 3.0 3.0 ;set this state to animate  vryfst
      ParticleSysBone    = Muzzle01 GattlingMuzzleSmoke
      ParticleSysBone    = Muzzle02 GattlingMuzzleSmoke
    End
    ConditionState        = CONTINUOUS_FIRE_FAST REALLYDAMAGED ATTACKING
      Model               = NBGattling_E
      Animation           = NBGattling_A2.NBGattling_A2
      AnimationMode       = LOOP
      AnimationSpeedFactorRange = 3.0 3.0 ;set this state to animate  vryfst
      ParticleSysBone    = Muzzle01 GattlingMuzzleSmoke
      ParticleSysBone    = Muzzle02 GattlingMuzzleSmoke
    End
    
    
    
    ;NIGHT     ---------------------------------------------------------------
    ConditionState        = CONTINUOUS_FIRE_FAST NIGHT ATTACKING
      Model               = NBGattling_N
      Animation           = NBGattling_A2.NBGattling_A2
      AnimationMode       = LOOP
      AnimationSpeedFactorRange = 3.0 3.0 ;set this state to animate  vryfst
      ParticleSysBone    = Muzzle01 GattlingMuzzleSmoke
      ParticleSysBone    = Muzzle02 GattlingMuzzleSmoke
    End
    ConditionState        = CONTINUOUS_FIRE_FAST DAMAGED NIGHT ATTACKING
      Model               = NBGattling_DN
      Animation           = NBGattling_A2.NBGattling_A2
      AnimationMode       = LOOP
      AnimationSpeedFactorRange = 3.0 3.0 ;set this state to animate  vryfst
      ParticleSysBone    = Muzzle01 GattlingMuzzleSmoke
      ParticleSysBone    = Muzzle02 GattlingMuzzleSmoke
    End
     ConditionState       = CONTINUOUS_FIRE_FAST REALLYDAMAGED NIGHT ATTACKING
      Model               = NBGattling_EN
      Animation           = NBGattling_A2.NBGattling_A2
      AnimationMode       = LOOP
      AnimationSpeedFactorRange = 3.0 3.0 ;set this state to animate  vryfst
      ParticleSysBone    = Muzzle01 GattlingMuzzleSmoke
      ParticleSysBone    = Muzzle02 GattlingMuzzleSmoke
    End
    
    
    ;SNOW      ---------------------------------------------------------------
    ConditionState        = CONTINUOUS_FIRE_FAST SNOW ATTACKING
      Model               = NBGattling_S
      Animation           = NBGattling_A2.NBGattling_A2
      AnimationMode       = LOOP
      AnimationSpeedFactorRange = 3.0 3.0 ;set this state to animate  vryfst
      ParticleSysBone    = Muzzle01 GattlingMuzzleSmoke
      ParticleSysBone    = Muzzle02 GattlingMuzzleSmoke
    End
    ConditionState        = CONTINUOUS_FIRE_FAST DAMAGED SNOW ATTACKING
      Model               = NBGattling_NS
      Animation           = NBGattling_A2.NBGattling_A2
      AnimationMode       = LOOP
      AnimationSpeedFactorRange = 3.0 3.0 ;set this state to animate  vryfst
      ParticleSysBone    = Muzzle01 GattlingMuzzleSmoke
      ParticleSysBone    = Muzzle02 GattlingMuzzleSmoke
    End
    ConditionState       = CONTINUOUS_FIRE_FAST REALLYDAMAGED SNOW ATTACKING
      Model               = NBGattling_ES
      Animation           = NBGattling_A2.NBGattling_A2
      AnimationMode       = LOOP
      AnimationSpeedFactorRange = 3.0 3.0 ;set this state to animate  vryfst
      ParticleSysBone    = Muzzle01 GattlingMuzzleSmoke
      ParticleSysBone    = Muzzle02 GattlingMuzzleSmoke
    End
    
    
    ;NIGHT SNOW ---------------------------------------------------------------
    ConditionState        = CONTINUOUS_FIRE_FAST NIGHT SNOW ATTACKING
      Model               = NBGattling_NS
      Animation           = NBGattling_A2.NBGattling_A2

      AnimationMode       = LOOP
      AnimationSpeedFactorRange = 3.0 3.0 ;set this state to animate  vryfst
      ParticleSysBone    = Muzzle01 GattlingMuzzleSmoke
      ParticleSysBone    = Muzzle02 GattlingMuzzleSmoke
    End
    ConditionState        = CONTINUOUS_FIRE_FAST DAMAGED SNOW NIGHT ATTACKING
      Model               = NBGattling_DNS
      Animation           = NBGattling_A2.NBGattling_A2
      AnimationMode       = LOOP
      AnimationSpeedFactorRange = 3.0 3.0 ;set this state to animate  vryfst
      ParticleSysBone    = Muzzle01 GattlingMuzzleSmoke
      ParticleSysBone    = Muzzle02 GattlingMuzzleSmoke
    End
    ConditionState        = CONTINUOUS_FIRE_FAST REALLYDAMAGED NIGHT SNOW ATTACKING
      Model               = NBGattling_ENS
      Animation           = NBGattling_A2.NBGattling_A2
      AnimationMode       = LOOP
      AnimationSpeedFactorRange = 3.0 3.0 ;set this state to animate  vryfst
      ParticleSysBone    = Muzzle01 GattlingMuzzleSmoke
      ParticleSysBone    = Muzzle02 GattlingMuzzleSmoke  
    End
    


    
       ;**************************************************************************************************************************
    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ;for this draw module
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = NBGattling
      Animation          = NBGattling_A2.NBGattling_A2
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = NBGattling_D
      Animation          = NBGattling_A2.NBGattling_A2
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = NBGattling_E
      Animation          = NBGattling_A2.NBGattling_A2
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
      Model              = NBGattling_N
      Animation          = NBGattling_A2.NBGattling_A2
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
      Model              = NBGattling_DN
      Animation          = NBGattling_A2.NBGattling_A2
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
      Model              = NBGattling_EN
      Animation          = NBGattling_A2.NBGattling_A2
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model              = NBGattling_S
      Animation          = NBGattling_A2.NBGattling_A2
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
      Model              = NBGattling_DS
      Animation          = NBGattling_A2.NBGattling_A2
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
      Model              = NBGattling_ES
      Animation          = NBGattling_A2.NBGattling_A2
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
      Model              = NBGattling_NS
      Animation          = NBGattling_A2.NBGattling_A2
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
      Model              = NBGattling_DNS
      Animation          = NBGattling_A2.NBGattling_A2
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
      Model              = NBGattling_ENS
      Animation          = NBGattling_A2.NBGattling_A2
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End

    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    ;**************************************************************************************************************************
   
  End
  
  


  ; ------------ construction-zone fence -----------------
  Draw = W3DModelDraw ModuleTag_02
  AnimationsRequirePower = No

    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = NBGattling_A4
      Animation       = NBGattling_A4.NBGattling_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
    End
    ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = NBGattling_A4N
      Animation       = NBGattling_A4N.NBGattling_A4N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
    End
    ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = NBGattling_A4S
      Animation       = NBGattling_A4S.NBGattling_A4S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
    End
    ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = NBGattling_A4SN
      Animation       = NBGattling_A4SN.NBGattling_A4SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = NBGattling_A4
      Animation       = NBGattling_A4.NBGattling_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = NBGattling_A4N
      Animation       = NBGattling_A4N.NBGattling_A4N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = NBGattling_A4S
      Animation       = NBGattling_A4S.NBGattling_A4S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = NBGattling_A4SN
      Animation       = NBGattling_A4SN.NBGattling_A4SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = NBGattling_A4
      Animation       = NBGattling_A4.NBGattling_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = NBGattling_A4N
      Animation       = NBGattling_A4N.NBGattling_A4N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = NBGattling_A4S
      Animation       = NBGattling_A4S.NBGattling_A4S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = NBGattling_A4SN
      Animation       = NBGattling_A4SN.NBGattling_A4SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ under-construction scaffolding -----------------
  Draw = W3DModelDraw ModuleTag_03
  AnimationsRequirePower = No
    MinLODRequired = MEDIUM
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = NBGattling_A6
      Animation       = NBGattling_A6.NBGattling_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Smoke01 BuildUpSmokeChina
      ParticleSysBone = Smoke02 BuildUpSmokeChina
      ParticleSysBone = Smoke03 BuildUpSmokeChina
    End
    ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      Model           = NBGattling_A6N
      Animation       = NBGattling_A6N.NBGattling_A6N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = Smoke01 BuildUpSmokeChina
      ParticleSysBone = Smoke02 BuildUpSmokeChina
      ParticleSysBone = Smoke03 BuildUpSmokeChina
    End
    ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      Model           = NBGattling_A6S
      Animation       = NBGattling_A6S.NBGattling_A6S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = Smoke01 BuildUpSnowSmoke
      ParticleSysBone = Smoke02 BuildUpSnowSmoke
      ParticleSysBone = Smoke03 BuildUpSnowSmoke
    End
    ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      Model           = NBGattling_A6SN
      Animation       = NBGattling_A6SN.NBGattling_A6SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = Smoke01 BuildUpNightSnowSmoke
      ParticleSysBone = Smoke02 BuildUpNightSnowSmoke
      ParticleSysBone = Smoke03 BuildUpNightSnowSmoke
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
     Model            = NBGattling_A6
      Animation       = NBGattling_A6.NBGattling_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
     Model            = NBGattling_A6N
      Animation       = NBGattling_A6N.NBGattling_A6N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
     Model            = NBGattling_A6S
      Animation       = NBGattling_A6S.NBGattling_A6S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
     Model            = NBGattling_A6SN
      Animation       = NBGattling_A6SN.NBGattling_A6SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = NBGattling_A6
      Animation       = NBGattling_A6.NBGattling_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = NBGattling_A6N
      Animation       = NBGattling_A6N.NBGattling_A6N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = NBGattling_A6S
      Animation       = NBGattling_A6S.NBGattling_A6S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = NBGattling_A6SN
      Animation       = NBGattling_A6SN.NBGattling_A6SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  PlacementViewAngle = -45

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:GattlingCannon
  Side             = Boss
  EditorSorting    = STRUCTURE
  Prerequisites
    Object         = Boss_Barracks
  End
  BuildCost        = 1200
  BuildTime        = 25.0           ; in seconds
  EnergyProduction = -3

  ExperienceValue     = 200 200 200 200  ; Experience point value at each level

  WeaponSet
    Conditions          = None 
    Weapon              = PRIMARY GattlingBuildingGun
    AutoChooseSources   = PRIMARY FROM_PLAYER FROM_AI FROM_SCRIPT
    Weapon              = SECONDARY GattlingBuildingGunAir
    AutoChooseSources   = SECONDARY FROM_PLAYER FROM_AI FROM_SCRIPT
    PreferredAgainst    = SECONDARY BALLISTIC_MISSILE AIRCRAFT
  End
  
  VisionRange      = 360.0           ; Shroud clearing distance AND targeting range
  ShroudClearingRange = 360
  
  ArmorSet
    Conditions     = None
    Armor          = BaseDefenseArmor
    DamageFX       = StructureDamageFXNoShake
  End
  CommandSet       = ChinaGattlingCannonCommandSet

  ;Behavior = AIUpdateInterface ModuleTag_20
  ;  AutoAcquireEnemiesWhenIdle = Yes ;ATTACK_BUILDINGS
  ;  MoodAttackCheckRate        = 250
  ;End

  ; *** AUDIO Parameters ***
  VoiceSelect      = GattlingCannonSelect
  SoundOnDamaged        = BuildingDamagedStateLight
  SoundOnReallyDamaged  = BuildingDestroy

  UnitSpecificSounds
    UnderConstruction     = UnderConstructionLoop
    VoiceRapidFire        = NoSound
  End

  UnitSpecificSounds
    TurretMoveStart = NoSound
    TurretMoveLoop  = NoSound ;These aren't playing properly (mdp) TurretMoveLoopLoud
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority     = STRUCTURE
  KindOf            = PRELOAD STRUCTURE SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT IMMOBILE SCORE FS_BASE_DEFENSE POWERED IMMUNE_TO_CAPTURE
  Body              = StructureBody ModuleTag_05
    MaxHealth       = 1000.0
    InitialHealth   = 1000.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 1200
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
  End

  Behavior = StealthDetectorUpdate ModuleTag_13
    DetectionRate     = 500   ; how often to rescan for stealthed things in my sight (msec)
    DetectionRange   = 200   ;Dustin, enable this for independant balancing!
    CanDetectWhileGarrisoned  = No ;Garrisoned means being in a structure that you units can shoot out of.
    CanDetectWhileContained   = No ;Contained means being in a transport or tunnel network.
  End

  Behavior = GenerateMinefieldBehavior     ModuleTag_04
    TriggeredBy           = Upgrade_ChinaMines
    MineName              = ChinaStandardMine
    SmartBorder           = Yes
    AlwaysCircular        = Yes

    Upgradable            = Yes
    UpgradedTriggeredBy   = Upgrade_ChinaEMPMines
    UpgradedMineName      = ChinaEMPMine
  End

  Behavior = AIUpdateInterface ModuleTag_06
    Turret
      ControlledWeaponSlots = PRIMARY SECONDARY
      TurretTurnRate      = 180   // turn rate, in degrees per sec
      TurretPitchRate     = 180
      AllowsPitch         = Yes
      FiresWhileTurning   = Yes
      NaturalTurretPitch  = 45 ; this keeps it aimed half way between land and sky
      MinIdleScanInterval   = 250    ; in milliseconds
      MaxIdleScanInterval   = 250   ; in milliseconds
      MinIdleScanAngle      = 0       ; in degrees off the natural turret angle
      MaxIdleScanAngle      = 360     ; in degrees off the natural turret angle
    End
    AutoAcquireEnemiesWhenIdle = Yes ;ATTACK_BUILDINGS; defensive weapon
    MoodAttackCheckRate        = 250
  End

  Behavior = ProductionUpdate ModuleTag_07
    ; nothing, but is required if we have any Object-level Upgrades!
  End

  Behavior             = DestroyDie ModuleTag_08
    ;nothing
  End
  Behavior             = FXListDie ModuleTag_09
    DeathFX       = FX_StructureTinyDeath
  End

  Behavior = ProductionUpdate ModuleTag_10
    ; nothing
  End
  
  Behavior        = CreateObjectDie ModuleTag_11
    CreationList  = OCL_LargeStructureDebris
  End

  Behavior = FlammableUpdate ModuleTag_12
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 5       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = TransitionDamageFX ModuleTag_14
    ;-------------DESIGNED FOR TINY SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionTinySmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionTinySmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionTinyExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionTinyShockwave
  End

  Behavior = WeaponBonusUpgrade ModuleTag_15
    TriggeredBy = Upgrade_ChinaChainGuns
  End

  Behavior = CommandSetUpgrade ModuleTag_25
    CommandSet = ChinaGattlingCannonCommandSetUpgrade
    TriggeredBy = Upgrade_ChinaMines
  End
  
  Behavior = BaseRegenerateUpdate ModuleTag_1301
    ;No data
  End 

  Behavior             = RebuildHoleExposeDie ModuleTag_09001
    HoleName      = GLAHoleTunnelNetwork
    HoleMaxHealth = 400.0
  End

  Geometry            = BOX
  GeometryMajorRadius = 8.0
  GeometryMinorRadius = 8.0
  GeometryHeight      = 20.0
  GeometryIsSmall     = No      
  Shadow              = SHADOW_VOLUME
  BuildCompletion     = PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
; Object Boss_VehicleSupplyTruck

  ; ; *** ART Parameters ***
  ; SelectPortrait         = SNHelix_L
  ; ButtonImage            = SNHelix
  
  ; UpgradeCameo1 = Upgrade_AmericaCountermeasures
  ; UpgradeCameo2 = Upgrade_AmericaAdvancedTraining

    ; Draw = W3DOverlordAircraftDraw  ModuleTag_01; Works with the dependencyModelDraw of the upgrade portable structures 

      ; ParticlesAttachedToAnimatedBones = Yes

    ; DefaultConditionState
      ; Model = NVHELIX
      ; Animation = NVHELIX.NVHELIX
      ; AnimationMode = LOOP
      ; WeaponFireFXBone    = PRIMARY Muzzle03
      ; WeaponMuzzleFlash   = PRIMARY TurretFX03
      ; HideSubObject       = BombWing
    ; End

    ; ConditionState = MOVING
      ; ParticleSysBone = SMOKE01 HelixExhaust
      ; ParticleSysBone = SMOKE02 HelixExhaust
    ; End

    ; ConditionState = REALLYDAMAGED
      ; Model = NVHELIX_d
      ; Animation = NVHELIX_d.NVHELIX_d
      ; AnimationMode = LOOP
    ; End
    ; ConditionState = REALLYDAMAGED MOVING
      ; Model = NVHELIX_d
      ; Animation = NVHELIX_d.NVHELIX_d
      ; AnimationMode = LOOP
      ; ParticleSysBone = SMOKE01 HelixExhaust
      ; ParticleSysBone = SMOKE02 HelixExhaust
    ; End

    ; ConditionState = RUBBLE
      ; Model = NVHELIX_d
      ; Animation = NVHELIX_d.NVHELIX_d
      ; AnimationMode = LOOP
    ; End
    ; ConditionState = RUBBLE MOVING
      ; Model = NVHELIX_d
      ; Animation = NVHELIX_d.NVHELIX_d
      ; AnimationMode = LOOP
      ; ParticleSysBone = SMOKE01 HelixExhaust
      ; ParticleSysBone = SMOKE02 HelixExhaust
    ; End

    ; ConditionState = RUBBLE SPECIAL_DAMAGED
      ; Model = NVHELIX_d 
    ; End

    ; OkToChangeModelColor = Yes
  ; End

  ; Draw = W3DModelDraw                         ModuleTag_02 ; Cargo net 
    ; ConditionState = NONE
      ; Model = None  ; Nothing here
      ; TransitionKey = TRANS_Empty
      ; WaitForStateToFinishIfPossible = TRANS_Unloading
    ; End

    ; ConditionState = DYING 
      ; Model = None  ; Nothing here
    ; End
    ; AliasConditionState = RUBBLE
    ; AliasConditionState = CARRYING RUBBLE
    ; AliasConditionState = DOCKING RUBBLE
    ; AliasConditionState = DOCKING CARRYING RUBBLE
 
     ; ConditionState = CARRYING
      ; Model = AVChinook_A ;Carrying a full wobbly net of stuff
      ; Animation = AVChinook_A.AVChinook_A
      ; AnimationMode = LOOP
      ; TransitionKey = TRANS_Full
      ; WaitForStateToFinishIfPossible = TRANS_PickingUp
    ; End

    ; ConditionState = DOCKING
      ; Model = AVChinook_A1MSH ;Lowering an empty net, pulling up with stuff
      ; Animation = AVChinook_A1SK.AVChinook_A1
      ; AnimationMode = ONCE_BACKWARDS
      ; Flags = START_FRAME_LAST
      ; AnimationSpeedFactorRange = .75 .75
      ; TransitionKey = TRANS_PickingUp
      ; WaitForStateToFinishIfPossible = TRANS_Unloading  ;Trick.  Without hardcoding the difference between what we are docking with, need to use DOCKING for both.
    ; End

    ; ConditionState = DOCKING CARRYING
      ; Model = AVChinook_A1MSH ; Lowering a full net, letting stuff fall out, and pulling up an empty net
      ; Animation = AVChinook_A1SK.AVChinook_A1
      ; AnimationMode = ONCE
      ; AnimationSpeedFactorRange = 2.75 2.75
      ; TransitionKey = TRANS_Unloading
      ; WaitForStateToFinishIfPossible = TRANS_PickingUp  ;Trick.  Without hardcoding the difference between what we are docking with, need to use DOCKING for both.
    ; End
  ; End

  ; ; ***DESIGN parameters ***
  ; DisplayName         = OBJECT:Helix
  ; EditorSorting       = VEHICLE
  ; Side                = Boss
  ; TransportSlotCount  = 0                 ;how many "slots" we take in a transport (0 == not transportable)
  ; VisionRange         = 300.0 
  ; ShroudClearingRange = 600
  ; BuildCost           = 1000
  ; BuildTime           = 10.0          ;in seconds  
  ; ExperienceValue     = 50 50 50 50 ;Experience point value at each level
  ; IsTrainable         = No  
  ; CommandSet          = AmericaVehicleChinookCommandSet
  ; ArmorSet
    ; Conditions      = None
    ; Armor           = ChinookArmor
    ; DamageFX        = None
  ; End
  ; ArmorSet 
    ; Conditions        = PLAYER_UPGRADE
    ; Armor             = ChinookArmor
    ; DamageFX          = None
  ; End

  ; WeaponSet
    ; Conditions          = None 
    ; ;----------------------------
    ; Weapon              = PRIMARY     SupplyHelixMinigunWeapon
    ; PreferredAgainst    = PRIMARY     INFANTRY
    ; AutoChooseSources   = PRIMARY     FROM_PLAYER FROM_SCRIPT FROM_AI
    ; ;----------------------------
  ; End

  ; ; *** AUDIO Parameters ***
  ; VoiceSelect     = HelixVoiceSelect
  ; VoiceMove       = HelixVoiceMove
  ; VoiceAttack     = HelixVoiceAttack
  ; SoundAmbient    = HelixAmbientLoop
  ; SoundEnter      = HumveeEnter
  ; SoundExit       = HumveeExit
  ; UnitSpecificSounds
    ; VoiceCreate         = HelixVoiceCreate
    ; VoiceUnload         = HelixVoiceUnload
    ; VoiceGarrison       = HelixVoiceMove
  ; End

  ; ; *** ENGINEERING Parameters ***
  ; RadarPriority   = UNIT
  ; ; note that, although Chinooks aren't produced at helipads, we want to set this KINDOF so that they can land at
  ; ; (well, "near" actually) an Airfield to get healed...
  ; ; also note that we should NOT set CAN_ATTACK for chinooks. they can't attack. so there.
  ; KindOf          = PRELOAD CAN_CAST_REFLECTIONS SELECTABLE VEHICLE TRANSPORT AIRCRAFT HARVESTER SCORE PRODUCED_AT_HELIPAD CAN_ATTACK 

  ; Body = ActiveBody ModuleTag_03
    ; MaxHealth       = 300.0
    ; InitialHealth   = 300.0
  ; End

  ; Behavior = FXListDie ModuleTag_05
    ; DeathFX = FX_HelicopterStartDeath
  ; End

  ; Behavior                       = TransitionDamageFX ModuleTag_06
    ; ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuousDown
    ; ReallyDamagedFXList1         = Loc: X:0 Y:0 Z:0 FXList:FX_ComancheDamageTransition
  ; End

  ; Behavior = ChinookAIUpdate ModuleTag_07
    ; MaxBoxes                = 10
    ; SupplyCenterActionDelay = 2950 ;3000     ; ms for whole thing (one transaction)
    ; SupplyWarehouseActionDelay = 1250 ;1250  ; 875 ; ms per box (many small transactions)
    ; SupplyWarehouseScanDistance = 700 ;350 ; Max distance to look for a warehouse, or we go home.  (Direct dock command on warehouse overrides, and no max on Center Scan)
    ; SuppliesDepletedVoice = ChinookVoiceSuppliesDepleted
    ; NumRopes                = 4
    ; ; these define how long we can wait, once a guy is on-rope, before throwing another
    ; ; guy onto that same rope. (Hint: you don't want to use zero.) Omit entirely
    ; ; and we'll wait for each guy to clear before spawning another.
    ; PerRopeDelayMin         = 900
    ; PerRopeDelayMax         = 1500
    ; RopeWidth               = 0.5
    ; RopeColor               = R:0 G:0 B:0
    ; RopeWobbleLen           = 10
    ; RopeWobbleAmplitude     = 0.25
    ; RopeWobbleRate          = 180
    ; RopeFinalHeight         = 10    ; stop this far above ground
    ; RappelSpeed             = 30
    ; MinDropHeight           = 40    ; if dropping into a tall bldg, go at least this far above it
    ; UpgradedSupplyBoost     = 60    ; increase in value of the crates when supply lines has been upgraded
  ; End
  ; Locomotor = SET_NORMAL    HelixLocomotor
  ; Locomotor = SET_TAXIING   BasicHelicopterTaxiLocomotor

  ; Behavior = TransportContain ModuleTag_08
    ; Slots                 = 8
    ; DamagePercentToUnits  = 100%
    ; AllowInsideKindOf     = INFANTRY VEHICLE
    ; ForbidInsideKindOf    = AIRCRAFT HUGE_VEHICLE
    ; ExitDelay             = 100
    ; NumberOfExitPaths     = 1
  ; End
  ; Behavior = PhysicsBehavior ModuleTag_09
    ; Mass = 50.0
  ; End
  ; Behavior = HelicopterSlowDeathBehavior ModuleTag_10
    ; DestructionDelay                = 99999999        ; the destruction delay
    ; SpiralOrbitTurnRate             = 80.0           ; in degrees per second, bigger # = tighter spiral
    ; SpiralOrbitForwardSpeed         = 110.0           ; bigger # = larger spiral
    ; SpiralOrbitForwardSpeedDamping  = .9999           ; smaller #'s = slow down faster
    ; MaxBraking                      = 210   ; max braking we can use during death spiral (lower num = wilder spiral)
    ; SoundDeathLoop                  = HelixDamagedLoop
    ; MinSelfSpin                     = 40                     ; in degrees per second
    ; MaxSelfSpin                     = 120                     ; in degrees per second
    ; SelfSpinUpdateDelay             = 300                     ; in milliseconds
    ; SelfSpinUpdateAmount            = 5                      ; in degrees
    ; FallHowFast                     = 8.0%                   ; fraction of gravity, lower = take longer to fall
    ; MinBladeFlyOffDelay             = 1000                    ; in milliseconds
    ; MaxBladeFlyOffDelay             = 1000                    ; in milliseconds
    ; AttachParticle                  = SootySmokeTrail
    ; AttachParticleBone              = Propeller02
    ; BladeObjectName                 = HelixBlades
    ; BladeBoneName                   = Propeller01
    ; FXBlade                         = FX_HelicopterBladeExplosion
    ; OCLBlade                        = OCL_HelicopterBladeExplosion
    ; FXHitGround                     = FX_HelicopterHitGround
    ; OCLHitGround                    = OCL_HelicopterHitGround
    ; FXFinalBlowUp                   = FX_HelixHelicopterBlowUpBig
    ; OCLFinalBlowUp                  = OCL_HelixBlades
    ; DelayFromGroundToFinalDeath     = 30
    ; FinalRubbleObject               = HelixRubbleHull
  ; End

  ; Behavior = FlammableUpdate ModuleTag_21
    ; AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    ; AflameDamageAmount = 3       ; taking this much damage...
    ; AflameDamageDelay = 500       ; this often.
  ; End

  ; Behavior                = ArmorUpgrade ModuleTag_Armor01
    ; TriggeredBy           = Upgrade_AmericaCountermeasures
  ; End

  ; Behavior                = CountermeasuresBehavior ModuleTag_100
    ; TriggeredBy           = Upgrade_AmericaCountermeasures
    ; FlareTemplateName     = CountermeasureFlare
    ; FlareBoneBaseName     = Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
    ; VolleySize            = 2     ; Number of flares launched per volley (requires bones)
    ; VolleyArcAngle        = 60.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
    ; VolleyVelocityFactor  = 2.0   ; Shoots out flares at a stronger velocity with a higher value.
    ; DelayBetweenVolleys   = 1000  ; Time between flare volleys
    ; NumberOfVolleys       = 3     ; Number of times the volleys will fire before reloading
    ; ReloadTime            = 4000  ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
    ; EvasionRate           = 30%   ; With active flares, the specified percentage will be diverted.
    ; ReactionLaunchLatency = 0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
    ; MissileDecoyDelay     = 200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
  ; End

  ; Behavior = ExperienceScalarUpgrade ModuleTag_0300
    ; TriggeredBy = Upgrade_AmericaAdvancedTraining
    ; AddXPScalar = 1.0 ;Increases experience gained by an additional 100%
  ; End

  ; Geometry              = CYLINDER
  ; GeometryMajorRadius   = 30.0
  ; GeometryHeight        = 27.0   
  ; Scale = 0.95  
  ; GeometryIsSmall       = No
  ; Shadow                = SHADOW_VOLUME    
  ; ShadowSizeX           = 89  ; minimum elevation angle above horizon. Used to limit shadow length

; End


;------------------------------------------------------------------------------
Object Boss_RussiaEWCopterKa27

  ; *** ART Parameters ***
  SelectPortrait         = SNHelix_L
  ButtonImage            = SNHelix
  
  UpgradeCameo1 = Upgrade_AmericaCountermeasures
  UpgradeCameo2 = Upgrade_AmericaAdvancedTraining

    Draw = W3DOverlordAircraftDraw  ModuleTag_01; Works with the dependencyModelDraw of the upgrade portable structures 

      ParticlesAttachedToAnimatedBones = Yes

    DefaultConditionState
      Model = NVHELIX
      Animation = NVHELIX.NVHELIX
      AnimationMode = LOOP
      WeaponFireFXBone    = PRIMARY Muzzle03
      WeaponMuzzleFlash   = PRIMARY TurretFX03
      HideSubObject       = BombWing
    End

    ConditionState = MOVING
      ParticleSysBone = SMOKE01 HelixExhaust
      ParticleSysBone = SMOKE02 HelixExhaust
    End

    ConditionState = REALLYDAMAGED
      Model = NVHELIX_d
      Animation = NVHELIX_d.NVHELIX_d
      AnimationMode = LOOP
    End
    ConditionState = REALLYDAMAGED MOVING
      Model = NVHELIX_d
      Animation = NVHELIX_d.NVHELIX_d
      AnimationMode = LOOP
      ParticleSysBone = SMOKE01 HelixExhaust
      ParticleSysBone = SMOKE02 HelixExhaust
    End

    ConditionState = RUBBLE
      Model = NVHELIX_d
      Animation = NVHELIX_d.NVHELIX_d
      AnimationMode = LOOP
    End
    ConditionState = RUBBLE MOVING
      Model = NVHELIX_d
      Animation = NVHELIX_d.NVHELIX_d
      AnimationMode = LOOP
      ParticleSysBone = SMOKE01 HelixExhaust
      ParticleSysBone = SMOKE02 HelixExhaust
    End

    ConditionState = RUBBLE SPECIAL_DAMAGED
      Model = NVHELIX_d 
    End

    OkToChangeModelColor = Yes
  End

  Draw = W3DModelDraw                         ModuleTag_02 ; Cargo net 
    ConditionState = NONE
      Model = None  ; Nothing here
      TransitionKey = TRANS_Empty
      WaitForStateToFinishIfPossible = TRANS_Unloading
    End

    ConditionState = DYING 
      Model = None  ; Nothing here
    End
    AliasConditionState = RUBBLE
    AliasConditionState = CARRYING RUBBLE
    AliasConditionState = DOCKING RUBBLE
    AliasConditionState = DOCKING CARRYING RUBBLE
 
     ConditionState = CARRYING
      Model = AVChinook_A ;Carrying a full wobbly net of stuff
      Animation = AVChinook_A.AVChinook_A
      AnimationMode = LOOP
      TransitionKey = TRANS_Full
      WaitForStateToFinishIfPossible = TRANS_PickingUp
    End

    ConditionState = DOCKING
      Model = AVChinook_A1MSH ;Lowering an empty net, pulling up with stuff
      Animation = AVChinook_A1SK.AVChinook_A1
      AnimationMode = ONCE_BACKWARDS
      Flags = START_FRAME_LAST
      AnimationSpeedFactorRange = .75 .75
      TransitionKey = TRANS_PickingUp
      WaitForStateToFinishIfPossible = TRANS_Unloading  ;Trick.  Without hardcoding the difference between what we are docking with, need to use DOCKING for both.
    End

    ConditionState = DOCKING CARRYING
      Model = AVChinook_A1MSH ; Lowering a full net, letting stuff fall out, and pulling up an empty net
      Animation = AVChinook_A1SK.AVChinook_A1
      AnimationMode = ONCE
      AnimationSpeedFactorRange = 2.75 2.75
      TransitionKey = TRANS_Unloading
      WaitForStateToFinishIfPossible = TRANS_PickingUp  ;Trick.  Without hardcoding the difference between what we are docking with, need to use DOCKING for both.
    End
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Helix
  EditorSorting       = VEHICLE
  Side                = Boss
  TransportSlotCount  = 0                 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange         = 500.0 
  ShroudClearingRange = 500
  BuildCost           = 10000
  BuildTime           = 10.0          ;in seconds  
  ExperienceValue     = 50 50 50 50 ;Experience point value at each level
  IsTrainable         = No  
  CommandSet          = Boss_RussiaEWCopterKa27CommandSet
  
  Prerequisites
    Object = Boss_Airfield
	Object = Boss_TechCentr
	Object = Boss_RussiaSatelliteCenter
  End
  
  ArmorSet
    Conditions      = None
    Armor           = ChinookArmor
    DamageFX        = None
  End
  ArmorSet 
    Conditions        = PLAYER_UPGRADE
    Armor             = ChinookArmor
    DamageFX          = None
  End

  WeaponSet
    Conditions          = None 
    Weapon              = PRIMARY     SupplyHelixMinigunWeapon
    PreferredAgainst    = PRIMARY     INFANTRY
    AutoChooseSources   = PRIMARY     FROM_PLAYER FROM_SCRIPT FROM_AI
	Weapon              = SECONDARY TargetingBlockerFieldWeapon
    AutoChooseSources   = SECONDARY NONE
  End

  ; *** AUDIO Parameters ***
  VoiceSelect     = HelixVoiceSelect
  VoiceMove       = HelixVoiceMove
  VoiceAttack     = HelixVoiceAttack
  SoundAmbient    = HelixAmbientLoop
  ;SoundEnter      = HumveeEnter
  ;SoundExit       = HumveeExit
  UnitSpecificSounds
    VoiceCreate         = HelixVoiceCreate
    ;VoiceUnload         = HelixVoiceUnload
    ;VoiceGarrison       = HelixVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority   = UNIT
  ; note that, although Chinooks aren't produced at helipads, we want to set this KINDOF so that they can land at
  ; (well, "near" actually) an Airfield to get healed...
  ; also note that we should NOT set CAN_ATTACK for chinooks. they can't attack. so there.
  KindOf          = PRELOAD CAN_CAST_REFLECTIONS SELECTABLE VEHICLE AIRCRAFT SCORE PRODUCED_AT_HELIPAD CAN_ATTACK 

  Body = ActiveBody ModuleTag_03
    MaxHealth       = 300.0
    InitialHealth   = 300.0
  End

  Behavior = FXListDie ModuleTag_05
    DeathFX = FX_HelicopterStartDeath
  End

  Behavior                       = TransitionDamageFX ModuleTag_06
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuousDown
    ReallyDamagedFXList1         = Loc: X:0 Y:0 Z:0 FXList:FX_ComancheDamageTransition
  End

  Behavior = ChinookAIUpdate ModuleTag_07
    ; MaxBoxes                = 10
    ; SupplyCenterActionDelay = 2950 ;3000     ; ms for whole thing (one transaction)
    ; SupplyWarehouseActionDelay = 1250 ;1250  ; 875 ; ms per box (many small transactions)
    ; SupplyWarehouseScanDistance = 700 ;350 ; Max distance to look for a warehouse, or we go home.  (Direct dock command on warehouse overrides, and no max on Center Scan)
    ; SuppliesDepletedVoice = ChinookVoiceSuppliesDepleted
    ; NumRopes                = 4
    ; ; these define how long we can wait, once a guy is on-rope, before throwing another
    ; ; guy onto that same rope. (Hint: you don't want to use zero.) Omit entirely
    ; ; and we'll wait for each guy to clear before spawning another.
    ; PerRopeDelayMin         = 900
    ; PerRopeDelayMax         = 1500
    ; RopeWidth               = 0.5
    ; RopeColor               = R:0 G:0 B:0
    ; RopeWobbleLen           = 10
    ; RopeWobbleAmplitude     = 0.25
    ; RopeWobbleRate          = 180
    ; RopeFinalHeight         = 10    ; stop this far above ground
    ; RappelSpeed             = 30
    ; MinDropHeight           = 40    ; if dropping into a tall bldg, go at least this far above it
    ; UpgradedSupplyBoost     = 60    ; increase in value of the crates when supply lines has been upgraded
	AutoAcquireEnemiesWhenIdle = Yes
    RotorWashParticleSystem = HelixRotorWashRing
  End
  
  Locomotor = SET_NORMAL    HelixLocomotor
  Locomotor = SET_TAXIING   BasicHelicopterTaxiLocomotor

  ; Behavior = TransportContain ModuleTag_08
    ; Slots                 = 8
    ; DamagePercentToUnits  = 100%
    ; AllowInsideKindOf     = INFANTRY VEHICLE
    ; ForbidInsideKindOf    = AIRCRAFT HUGE_VEHICLE
    ; ExitDelay             = 100
    ; NumberOfExitPaths     = 1
  ; End
  Behavior = PhysicsBehavior ModuleTag_09
    Mass = 50.0
  End
  Behavior = HelicopterSlowDeathBehavior ModuleTag_10
    DestructionDelay                = 99999999        ; the destruction delay
    SpiralOrbitTurnRate             = 80.0           ; in degrees per second, bigger # = tighter spiral
    SpiralOrbitForwardSpeed         = 110.0           ; bigger # = larger spiral
    SpiralOrbitForwardSpeedDamping  = .9999           ; smaller #'s = slow down faster
    MaxBraking                      = 210   ; max braking we can use during death spiral (lower num = wilder spiral)
    SoundDeathLoop                  = HelixDamagedLoop
    MinSelfSpin                     = 40                     ; in degrees per second
    MaxSelfSpin                     = 120                     ; in degrees per second
    SelfSpinUpdateDelay             = 300                     ; in milliseconds
    SelfSpinUpdateAmount            = 5                      ; in degrees
    FallHowFast                     = 8.0%                   ; fraction of gravity, lower = take longer to fall
    MinBladeFlyOffDelay             = 1000                    ; in milliseconds
    MaxBladeFlyOffDelay             = 1000                    ; in milliseconds
    AttachParticle                  = SootySmokeTrail
    AttachParticleBone              = Propeller02
    BladeObjectName                 = HelixBlades
    BladeBoneName                   = Propeller01
    FXBlade                         = FX_HelicopterBladeExplosion
    OCLBlade                        = OCL_HelicopterBladeExplosion
    FXHitGround                     = FX_HelicopterHitGround
    OCLHitGround                    = OCL_HelicopterHitGround
    FXFinalBlowUp                   = FX_HelixHelicopterBlowUpBig
    OCLFinalBlowUp                  = OCL_HelixBlades
    DelayFromGroundToFinalDeath     = 30
    FinalRubbleObject               = HelixRubbleHull
  End
  
  Behavior = SpecialAbility ModuleTag_11
    SpecialPowerTemplate      = SpecialAbilityBlackLotusDisableVehicleHack
    UpdateModuleStartsAttack  = Yes
    InitiateSound           = DisturberVoiceAttack
  End
  Behavior = SpecialAbilityUpdate ModuleTag_12
    SpecialPowerTemplate    = SpecialAbilityBlackLotusDisableVehicleHack
    StartAbilityRange       = 15000.0
    UnpackTime              = 1000 ;6730 ;animation time is 6730 (changing this will scale anim speed)
    PackTime                = 1000 ;2800 ;animation time is 5800 (changing this will scale anim speed)
    PreparationTime         = 1000
    EffectDuration          = 120000
    DisableFXParticleSystem = DisabledEffectBinaryShower0
    SpecialObject           = BinaryDataStream
    PackSound               = BlackLotusPack
    UnpackSound             = BlackLotusUnpack
    TriggerSound            = BlackLotusTrigger
    PrepSoundLoop           = BlackLotusPrepLoop
    AwardXPForTriggering    = 0
  End
  
  Behavior = SpecialAbility ModuleTag_13
    SpecialPowerTemplate      = SpecialAbilityMicrowaveDisableBuilding
    UpdateModuleStartsAttack  = Yes
    InitiateSound           = DisturberVoiceAttack
  End
  Behavior = SpecialAbilityUpdate ModuleTag_14
    SpecialPowerTemplate    = SpecialAbilityMicrowaveDisableBuilding
    StartAbilityRange       = 10000.0
    UnpackTime              = 5000
    PackTime                = 5000
    PreparationTime         = 5000
    EffectDuration          = 60000
    DisableFXParticleSystem = DisabledEffectBinaryShower0
    SpecialObject           = BinaryDataStream
    PackSound               = BlackLotusPack
    UnpackSound             = BlackLotusUnpack
    TriggerSound            = BlackLotusTrigger
    PrepSoundLoop           = BlackLotusPrepLoop
    AwardXPForTriggering    = 0
  End
  
  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior                = ArmorUpgrade ModuleTag_Armor01
    TriggeredBy           = Upgrade_AmericaCountermeasures
  End

  Behavior                = CountermeasuresBehavior ModuleTag_100
    TriggeredBy           = Upgrade_AmericaCountermeasures
    FlareTemplateName     = CountermeasureFlare
    FlareBoneBaseName     = Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
    VolleySize            = 2     ; Number of flares launched per volley (requires bones)
    VolleyArcAngle        = 60.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
    VolleyVelocityFactor  = 2.0   ; Shoots out flares at a stronger velocity with a higher value.
    DelayBetweenVolleys   = 1000  ; Time between flare volleys
    NumberOfVolleys       = 3     ; Number of times the volleys will fire before reloading
    ReloadTime            = 4000  ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
    EvasionRate           = 30%   ; With active flares, the specified percentage will be diverted.
    ReactionLaunchLatency = 0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
    MissileDecoyDelay     = 200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
  End

  Behavior = ExperienceScalarUpgrade ModuleTag_0300
    TriggeredBy = Upgrade_AmericaAdvancedTraining
    AddXPScalar = 1.0 ;Increases experience gained by an additional 100%
  End

  Geometry              = CYLINDER
  GeometryMajorRadius   = 30.0
  GeometryHeight        = 27.0   
  Scale                 = 0.95  
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME    
  ShadowSizeX           = 89  ; minimum elevation angle above horizon. Used to limit shadow length

End













































;--------------------------------
Object Boss_JetSpectreGunship

  ; *** ART Parameters ***

  Draw = W3DOverlordAircraftDraw ModuleTag_01 ; Works with the dependencyModelDraw of the upgrade portable structures



    ;----NORMAL-------------
    DefaultConditionState
      Model           = AVSGunship
      WeaponFireFXBone    = PRIMARY MUZZLE
      WeaponFireFXBone    = SECONDARY MUZZLE
      WeaponMuzzleFlash   = PRIMARY MUZZLEFX
      WeaponMuzzleFlash   = SECONDARY MUZZLEFX
    End

    ConditionState    = DOOR_1_OPENING
      Model           = AVSGunship                 
      Animation       = AVSGunship.AVSGunship    
      AnimationMode   = ONCE
      Flags           = MAINTAIN_FRAME_ACROSS_STATES
      ParticleSysBone = WingTip01 SpectreContrail
      ParticleSysBone = WingTip02 SpectreContrail
    End

    ConditionState    = DOOR_1_CLOSING
      Model           = AVSGunship                 
      Animation       = AVSGunship.AVSGunship    
      AnimationMode   = ONCE_BACKWARDS
      Flags           = MAINTAIN_FRAME_ACROSS_STATES
      ParticleSysBone = WingTip01 JetContrailThin
      ParticleSysBone = WingTip02 JetContrailThin
      ParticleSysBone = Engine01 SpectreAfterburnerTrail
      ParticleSysBone = Engine02 SpectreAfterburnerTrail
      ParticleSysBone = Engine01 SpectreEngineFlare
      ParticleSysBone = Engine02 SpectreEngineFlare
    End


    ;----DAMAGED-------------
    ConditionState    = DOOR_1_OPENING DAMAGED
      Model           = AVSGunship_D                 
      Animation       = AVSGunship_D.AVSGunship_D    
      AnimationMode   = ONCE
      Flags           = MAINTAIN_FRAME_ACROSS_STATES
      ParticleSysBone = WingTip01 SpectreContrail
      ParticleSysBone = WingTip02 SpectreContrail
      ParticleSysBone = Smoke01 JetFireLarge
      ParticleSysBone = Smoke02 JetFireLarge
      ParticleSysBone = Smoke01 JetSmokeLarge
      ParticleSysBone = Smoke02 JetSmokeLarge
    End

    ConditionState    = DOOR_1_CLOSING DAMAGED
      Model           = AVSGunship_D                 
      Animation       = AVSGunship_D.AVSGunship_D    
      AnimationMode   = ONCE_BACKWARDS
      Flags           = MAINTAIN_FRAME_ACROSS_STATES
      ParticleSysBone = WingTip01 JetContrailThin
      ParticleSysBone = WingTip02 JetContrailThin
      ParticleSysBone = Engine01 SpectreAfterburnerTrail
      ParticleSysBone = Engine02 SpectreAfterburnerTrail
      ParticleSysBone = Engine01 SpectreEngineFlare
      ParticleSysBone = Engine02 SpectreEngineFlare
      ParticleSysBone = Smoke01 JetFireLarge
      ParticleSysBone = Smoke02 JetFireLarge
      ParticleSysBone = Smoke01 JetSmokeLarge
      ParticleSysBone = Smoke02 JetSmokeLarge
    End


    ;----REALLY DAMAGED-------------
    ConditionState    = DOOR_1_OPENING REALLYDAMAGED
      Model           = AVSGunship_D                 
      Animation       = AVSGunship_D.AVSGunship_D    
      AnimationMode   = ONCE
      Flags           = MAINTAIN_FRAME_ACROSS_STATES
      ParticleSysBone = WingTip01 SpectreContrail
      ParticleSysBone = WingTip02 SpectreContrail
      ParticleSysBone = Smoke01 SpectreGunshipFireLarge
      ParticleSysBone = Smoke02 SpectreGunshipFireLarge
      ParticleSysBone = Smoke03 SpectreGunshipFireLarge
      ParticleSysBone = Smoke04 SpectreGunshipFireLarge
      ParticleSysBone = Smoke05 SpectreGunshipFireLarge
      ParticleSysBone = Smoke01 JetSmokeLarge
      ParticleSysBone = Smoke02 SpectreSmokeLarge
      ParticleSysBone = Smoke03 JetSmokeLarge
      ParticleSysBone = Smoke04 SpectreSmokeLarge
    End

    ConditionState    = DOOR_1_CLOSING REALLYDAMAGED
      Model           = AVSGunship_D                 
      Animation       = AVSGunship_D.AVSGunship_D    
      AnimationMode   = ONCE_BACKWARDS
      Flags           = MAINTAIN_FRAME_ACROSS_STATES
      ParticleSysBone = WingTip01 JetContrailThin
      ParticleSysBone = WingTip02 JetContrailThin
      ParticleSysBone = Engine01 SpectreAfterburnerTrail
      ParticleSysBone = Engine02 SpectreAfterburnerTrail
      ParticleSysBone = Engine01 SpectreEngineFlare
      ParticleSysBone = Engine02 SpectreEngineFlare
      ParticleSysBone = Smoke01 SpectreGunshipFireLarge
      ParticleSysBone = Smoke02 SpectreGunshipFireLarge
      ParticleSysBone = Smoke03 SpectreGunshipFireLarge
      ParticleSysBone = Smoke04 SpectreGunshipFireLarge
      ParticleSysBone = Smoke05 SpectreGunshipFireLarge
      ParticleSysBone = Smoke01 JetSmokeLarge
      ParticleSysBone = Smoke02 SpectreSmokeLarge
      ParticleSysBone = Smoke03 JetSmokeLarge
      ParticleSysBone = Smoke04 SpectreSmokeLarge
    End


    ConditionState = RUBBLE
      Model           = AVSGunship_D1
      ParticleSysBone = Smoke01 SpectreGunshipFireLarge
      ParticleSysBone = Smoke05 SpectreGunshipFireLarge
      ParticleSysBone = Smoke03 SpectreGunshipFireLarge
      ParticleSysBone = Smoke04 SpectreGunshipFireLarge
      ParticleSysBone = Smoke01 SpectreSmokeLarge
      ParticleSysBone = Smoke03 SpectreSmokeLarge
      ParticleSysBone = Smoke02 SpectreSmokeLarge
      ParticleSysBone = Smoke05 SpectreSmokeLarge
    End
    AliasConditionState = REALLYDAMAGED RUBBLE
    AliasConditionState = REALLYDAMAGED RUBBLE DOOR_1_CLOSING
    AliasConditionState = REALLYDAMAGED RUBBLE DOOR_1_OPENING
  


   OkToChangeModelColor = Yes

   ParticlesAttachedToAnimatedBones = Yes 


 End



  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:SpectreGunship
  EditorSorting       = VEHICLE
  Side                = Boss
  TransportSlotCount  = 0                 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange         = 300.0 
  ShroudClearingRange = 300
  Prerequisites
    Object = Boss_Airfield
  End

  ArmorSet
    Conditions      = None
    Armor           = SpectreGunshipArmor
    DamageFX        = None
  End
  ArmorSet
    Conditions            = PLAYER_UPGRADE
    Armor                 = CountermeasuresSpectreGunshipArmor
    DamageFX              = None
  End


  WeaponSet
    Conditions          = None 
    Weapon              = PRIMARY   SpectreHowitzerGun
  End

  ExperienceValue = 50 100 150 400    ;Experience point value at each level
  ExperienceRequired = 0 150 450 900  ;Experience points needed to gain each level
  IsTrainable = No             ;Not Player built, so no veterancy..............................

  ; *** AUDIO Parameters ***
  VoiceSelect         = SpectreGunshipVoiceSelect
  VoiceAttack         = SpectreGunshipVoiceAttack
  VoiceMove         = SpectreGunshipVoiceMove
  SoundAmbient = SpectreGunshipAmbientLoop
  SoundAmbientRubble    = NoSound
  UnitSpecificSounds
    Afterburner    = SpectreGunshipAfterburnerLoop
    HowitzerFire   = SpectreHowitzerWeapon
  End


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD CAN_ATTACK VEHICLE AIRCRAFT SCORE SELECTABLE EMP_HARDENED

  Body = ActiveBody ModuleTag_03
    MaxHealth       = 600.0
    InitialHealth   = 600.0
  End

  ExperienceValue     = 40 40 40 40  ; Experience point value at each level

  Behavior                          = JetSlowDeathBehavior ModuleTag_04
    DestructionDelay                = 99999999  ; destruction will happen when we
    RollRate                        = 0.0
    RollRateDelta                   = 100%      ;each frame, rollrate = rollrate * rollrateDelta
    PitchRate                       = 0.0
    FallHowFast                     = 110.0%    ;Bigger is faster (can be over 100%,it's a fraction of gravity)
    FXInitialDeath                  = FX_SpectreGunshipExplosionLight
    OCLInitialDeath                 = None
    DelaySecondaryFromInitialDeath  = 500       ; in milliseconds
    FXSecondary                     = FX_spectreDeathExplosion
    OCLSecondary                    = None
    FXHitGround                     = FX_spectreGunshipDeathExplosion
    OCLHitGround                    = OCL_A10DeathHitGround
    DelayFinalBlowUpFromHitGround   = 200       ; in milliseconds
  ; FXFinalBlowUp                   = FX_spectreGunshipDeathExplosion
    OCLFinalBlowUp                  = OCL_SpectreDeathFinalBlowUp
  End

  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 500.0
  End

  ;SCRIPTED SUPPORT: These special power is triggered directly 
  ;from the transport without creating a transport. This is done 
  ;via new code support and CreateLocation USE_OWNER_OBJECT -- 
  ;which also prevents creating the payload transport.

  Behavior = AIUpdateInterface ModuleTag_07
    ForbidPlayerCommands = Yes ; this AIUpdate will only do command if from script or AI, not player
  End
  Locomotor = SET_PANIC SpectreGunshipTransitLocomotor
  Locomotor = SET_NORMAL SpectreGunshipOrbitLocomotor

  Behavior = SpecialAbility ModuleTag_32 
    SpecialPowerTemplate = SuperweaponSpectreGunship
    UpdateModuleStartsAttack = Yes
  End


  Behavior = SpectreGunshipUpdate ModuleTag_10
    GattlingStrafeFXParticleSystem  = SpectreGattlingArmsSmoke
    SpecialPowerTemplate            = SuperweaponSpectreGunship
    HowitzerWeaponTemplate          = SpectreHowitzerGun
    GattlingTemplateName            = SpectreGunshipGattlingCannon 
    RandomOffsetForHowitzer = 20     
    TargetingReticleRadius  = 25
    OrbitInsertionSlope     = 0.7   ; steepness of orbit entry
    GunshipOrbitRadius      = 250
    HowitzerFiringRate      = 300   ; how long between each attempted shot of howitzer
    HowitzerFollowLag       = 400 ;600   ; how long after gattling acquires target can howitzer shoot same
    StrafingIncrement       = 20    ; how far apart is each shot of the gattling as it strafes
    AttackAreaRadius        = 200
    OrbitTime               = 15000 ;20000 ;32000 ; thirty-two seconds

    AttackAreaDecal
      Texture           = SCCSpecTarg
      Style             = SHADOW_ALPHA_DECAL
      OpacityMin        = 25%
      OpacityMax        = 50%
      OpacityThrobTime  = 1500
      Color             = R:127 G:177 B:222 A:255 
      OnlyVisibleToOwningPlayer = Yes
    End
    TargetingReticleDecal
      Texture           = SCCSpecRet
      Style             = SHADOW_ALPHA_DECAL
      OpacityMin        = 50%
      OpacityMax        = 100%
      OpacityThrobTime  = 300
      Color             = R:127 G:177 B:222 A:255 
      OnlyVisibleToOwningPlayer = Yes
    End
  End





  Behavior = HelixContain ModuleTag_09
    Slots                     = 1
    DamagePercentToUnits      = 100%
    AllowInsideKindOf         = PORTABLE_STRUCTURE
    PassengersAllowedToFire   = Yes
  End


  Behavior = FlammableUpdate ModuleTag_08
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior                = ArmorUpgrade ModuleTag_Armor01
    TriggeredBy           = Upgrade_AmericaCountermeasures
  End

  Behavior                = CountermeasuresBehavior ModuleTag_11
    TriggeredBy           = Upgrade_AmericaCountermeasures
    FlareTemplateName     = CountermeasureFlare
    FlareBoneBaseName     = Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
    VolleySize            = 4     ; Number of flares launched per volley (requires bones)
    VolleyArcAngle        = 90.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
    VolleyVelocityFactor  = 2.0   ; Shoots out flares at a stronger velocity with a higher value.
    DelayBetweenVolleys   = 1000  ; Time between flare volleys
    NumberOfVolleys       = 5     ; Number of times the volleys will fire before reloading
    ReloadTime            = 0     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
    EvasionRate           = 50%   ; With active flares, the specified percentage will be diverted.
    ReactionLaunchLatency = 0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
    MissileDecoyDelay     = 200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
  End

;;;;;;;;  ClientUpdate             = AnimatedParticleSysBoneClientUpdate ModuleTag_Client01
;;;;;;;;  End                  ; This allows the wingtip trails to stay stuck to the retractable wings
  

  Geometry = Box
  GeometryIsSmall = No
  GeometryMajorRadius = 40.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 10.0
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length

End


;------------------------------------------------------------------------------
Object Boss_ShahedSuicideDrone

  ; *** ART Parameters ***
  SelectPortrait         = SAHellFire
  ButtonImage            = SAHellFire

  Draw                   = W3DModelDraw ModuleTag_01
    ProjectileBoneFeedbackEnabledSlots = PRIMARY ; WeaponLaunchBone will be shown/hidden, not just used for firing offset
    DefaultConditionState
      Model               = AVHellBomber
      HideSubObject       = BurnerFX01 BurnerFX02
      WeaponLaunchBone = PRIMARY WeaponA
    End
    ConditionState        = JETEXHAUST
      ; exhaust
      ParticleSysBone     = Engine01 TowMissileExhaust
    End
    ConditionState        = JETEXHAUST JETAFTERBURNER
      ; exhaust
      ParticleSysBone     = Engine01 TowMissileExhaust
      ; afterburner
      ShowSubObject       = BurnerFX01 BurnerFX02
      ParticleSysBone     = Engine01 JetLenzflare
    End
    ConditionState        = REALLYDAMAGED
      Model               = AVHellBomber_D
      ; damage
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 TowMissileExhaust
    End
    ConditionState        = REALLYDAMAGED JETEXHAUST
      Model               = AVHellBomber_D
      ; damage
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 TowMissileExhaust
      ; exhaust
      ParticleSysBone     = Engine01 TowMissileExhaust
    End
    ConditionState        = REALLYDAMAGED JETEXHAUST JETAFTERBURNER
      Model               = AVHellBomber_D
      ; damage
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 TowMissileExhaust
      ; afterburner
      ShowSubObject       = BurnerFX01 BurnerFX02
      ParticleSysBone     = Engine01 JetLenzflare
      ParticleSysBone     = Engine02 JetLenzflare
      ; exhaust
      ParticleSysBone     = Engine01 TowMissileExhaust
    End
    ConditionState        = RUBBLE
      Model               = AVRaptor_D1
      HideSubObject       = None
      ShowSubObject       = None
    End
    ConditionState        = RUBBLE JETEXHAUST JETAFTERBURNER
      Model               = AVHellDrone_D1
      ;HideSubObject is needed cause there're inherited from default condition state
      HideSubObject       = None
      ShowSubObject       = None
      ParticleSysBone     = Engine01 TowMissileExhaust
      ParticleSysBone     = Engine02 TowMissileExhaust
      ; exhaust
      ParticleSysBone     = Engine01 TowMissileExhaust
    End
    OkToChangeModelColor = Yes
  End

  ; ***DESIGN parameters ***
  DisplayName             = OBJECT:Shahed
  EditorSorting           = VEHICLE
  Side                    = Boss
  TransportSlotCount      = 0 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange             = 200.0
  ShroudClearingRange     = 400

  WeaponSet 
    Conditions      = None 
    Weapon          = PRIMARY  ShahedSuicideWeapon
  End
  
  ArmorSet
    Conditions            = None
    Armor                 = AirplaneArmor
    DamageFX              = None
  End

  BuildCost               = 2000
  BuildTime               = 10
  ExperienceValue         = 50 50 100 150  ;Experience point value at each level
  ExperienceRequired      = 0 100 200 400   ;Experience points needed to gain each level
  IsTrainable             = Yes             ;Can gain experience
  CrusherLevel           = 1  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet              = GenericCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect            = RaptorVoiceSelect
  VoiceMove              = RaptorVoiceMove
  VoiceAttack            = RaptorVoiceAttack
  VoiceAttackAir         = RaptorVoiceAttackAir
  VoiceGuard             = RaptorVoiceAirPatrol
  SoundAmbient           = RaptorAmbientLoop
  SoundAmbientRubble     = NoSound
  ; SoundMoveLoop          = RaptorAmbientLoop  ; don't want sound while sitting at airfield
  ; SoundAmbient           = NoSound
  UnitSpecificSounds
    VoiceCreate          = RaptorVoiceCreate
    SoundEject           = PilotSoundEject
    VoiceEject           = PilotVoiceEject
    Afterburner          = RaptorAfterburner
    VoiceLowFuel         = RaptorVoiceLowFuel
    VoiceGarrison        = RaptorVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority          = UNIT
  KindOf                 = PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT
  Body                   = ActiveBody ModuleTag_02
    MaxHealth            = 600.0
    InitialHealth        = 600.0
  End

  Behavior = SlowDeathBehavior ModuleTag_05
    DeathTypes = ALL -SUICIDED -POISONED -POISONED_BETA -POISONED_GAMMA
    DestructionDelay = 100
    FX = INITIAL WeaponFX_BombTruckDefaultBombDetonation
    OCL = MIDPOINT OCL_WingedMissileDeathEffectSimple
  End

  ; Behavior                          = JetSlowDeathBehavior ModuleTag_05
    ; FXOnGroundDeath                 = FX_JetOnGroundDeath
    ; OCLOnGroundDeath                = OCL_RaptorDeathFinalBlowUp
    ; DestructionDelay                = 99999999; destruction will happen when we
    ; RollRate                        = 0.2
    ; RollRateDelta                   = 100% ;each frame, rollrate = rollrate * rollrateDelta
    ; PitchRate                       = 0.0
    ; FallHowFast                     = 110.0%  ;Bigger is faster (can be over 100%,it's a fraction of gravity)
    ; FXInitialDeath                  = FX_RaptorDeathInitial
    ; OCLInitialDeath                 = OCL_RaptorDeathInitial
    ; DelaySecondaryFromInitialDeath  = 500  ; in milliseconds
    ; FXSecondary                     = FX_JetDeathSecondary
    ; OCLSecondary                    = OCL_RaptorDeathSecondary
    ; FXHitGround                     = FX_JetDeathHitGround
    ; OCLHitGround                    = OCL_RaptorDeathHitGround
    ; DelayFinalBlowUpFromHitGround   = 200 ; in milliseconds
    ; FXFinalBlowUp                   = FX_JetDeathFinalBlowUp
    ; OCLFinalBlowUp                  = OCL_RaptorDeathFinalBlowUp
; ;   DeathLoopSound                  = MICAL NEEDS TO MAKE ME
  ; End
  
  Behavior = DestroyDie ModuleTag_06
    DeathTypes = NONE +SUICIDED
  End
  
  Behavior               = PhysicsBehavior ModuleTag_07
    Mass                 = 500.0
  End
  Behavior                 = TransitionDamageFX ModuleTag_08
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes Psys:SmokeSmallContinuous01
    ReallyDamagedFXList1         = Loc: X:0 Y:0 Z:0 FXList:FX_MIGDamageTransition
  End

  Behavior = JetAIUpdate ModuleTag_09
    OutOfAmmoDamagePerSecond  = 10%  ; amount of damage to take per SEC (not per frame) when out of ammo
                                    ; note that it's expressed as a percent of max health, not an absolute
    TakeoffDistForMaxLift     = 0%   ; larger numbers give more lift sooner when taking off
    TakeoffPause              = 500
    MinHeight                 = 5
    ParkingOffset             = 3             ; scooch it a little forward so the tail doesn't hit the doors
    ReturnToBaseIdleTime      = 10000         ; if idle for this long, return to base, even if not out of ammo
  End
  Locomotor = SET_NORMAL RaptorJetLocomotor
  Locomotor = SET_TAXIING BasicJetTaxiLocomotor

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End
  Geometry                 = Box
  GeometryIsSmall          = Yes
  GeometryMajorRadius      = 14.0
  GeometryMinorRadius      = 7.0
  GeometryHeight           = 5.0
  Shadow                   = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length.
End

;------------------------------------------------------------------------------
; Object Boss_JetAurora

  ; ; *** ART Parameters ***
  ; SelectPortrait         = SAHellFire
  ; ButtonImage            = SAHellFire

  ; UpgradeCameo1 = Upgrade_AmericaAdvancedTraining
  ; UpgradeCameo2 = Upgrade_AmericaCountermeasures
  ; ;UpgradeCameo4 = NONE
  ; ;UpgradeCameo5 = NONE

  ; Draw                   = W3DModelDraw ModuleTag_01

    ; ProjectileBoneFeedbackEnabledSlots = PRIMARY ; WeaponLaunchBone will be shown/hidden, not just used for firing offset

    ; DefaultConditionState
      ; Model               = AVHellBomber
      ; HideSubObject       = BurnerFX01 BurnerFX02
      ; WeaponLaunchBone = PRIMARY WeaponA
    ; End

    ; ConditionState        = JETEXHAUST
      ; ; exhaust
      ; ParticleSysBone     = Engine01 TowMissileExhaust
    ; End

    ; ConditionState        = JETEXHAUST JETAFTERBURNER
      ; ; exhaust
      ; ParticleSysBone     = Engine01 TowMissileExhaust
      ; ; afterburner
      ; ShowSubObject       = BurnerFX01 BurnerFX02
      ; ParticleSysBone     = Engine01 JetLenzflare
    ; End

    ; ConditionState        = REALLYDAMAGED
      ; Model               = AVHellBomber_D
      ; ; damage
      ; ParticleSysBone     = Smoke01 JetSmoke
      ; ParticleSysBone     = Engine01 TowMissileExhaust
    ; End

    ; ConditionState        = REALLYDAMAGED JETEXHAUST
      ; Model               = AVHellBomber_D
      ; ; damage
      ; ParticleSysBone     = Smoke01 JetSmoke
      ; ParticleSysBone     = Engine01 TowMissileExhaust
      ; ; exhaust
      ; ParticleSysBone     = Engine01 TowMissileExhaust
    ; End

    ; ConditionState        = REALLYDAMAGED JETEXHAUST JETAFTERBURNER
      ; Model               = AVHellBomber_D
      ; ; damage
      ; ParticleSysBone     = Smoke01 JetSmoke
      ; ParticleSysBone     = Engine01 TowMissileExhaust
      ; ; afterburner
      ; ShowSubObject       = BurnerFX01 BurnerFX02
      ; ParticleSysBone     = Engine01 JetLenzflare
      ; ParticleSysBone     = Engine02 JetLenzflare
      ; ; exhaust
      ; ParticleSysBone     = Engine01 TowMissileExhaust
    ; End

    ; ConditionState        = RUBBLE
      ; Model               = AVRaptor_D1
      ; HideSubObject       = None
      ; ShowSubObject       = None
    ; End

    ; ConditionState        = RUBBLE JETEXHAUST JETAFTERBURNER
      ; Model               = AVHellDrone_D1
      ; ;HideSubObject is needed cause there're inherited from default condition state
      ; HideSubObject       = None
      ; ShowSubObject       = None
      ; ParticleSysBone     = Engine01 TowMissileExhaust
      ; ParticleSysBone     = Engine02 TowMissileExhaust
      ; ; exhaust
      ; ParticleSysBone     = Engine01 TowMissileExhaust
    ; End

    ; OkToChangeModelColor = Yes

  ; End

  ; ; ***DESIGN parameters ***
  ; DisplayName             = OBJECT:HellBomber
  ; EditorSorting           = VEHICLE
  ; Side                    = Boss
  ; TransportSlotCount      = 0 ;how many "slots" we take in a transport (0 == not transportable)
  ; VisionRange             = 200.0
  ; ShroudClearingRange     = 400

  ; WeaponSet
    ; Conditions            = None
    ; ; -----
    ; Weapon              = PRIMARY     HellBombWeaponBB
  ; End
  ; WeaponSet
    ; Conditions            = PLAYER_UPGRADE
    ; ; -----
    ; Weapon              = PRIMARY     HellBombWeaponBB
  ; End
  ; ArmorSet
    ; Conditions            = None
    ; Armor                 = AirplaneArmor
    ; DamageFX              = None
  ; End
  ; ArmorSet
    ; Conditions            = PLAYER_UPGRADE
    ; Armor                 = CountermeasuresAirplaneArmor
    ; DamageFX              = None
  ; End


  ; BuildCost               = 1600
  ; BuildTime               = 20
  ; ExperienceValue         = 50 50 100 150  ;Experience point value at each level
  ; ExperienceRequired      = 0 100 200 400   ;Experience points needed to gain each level
  ; IsTrainable             = Yes             ;Can gain experience
  ; CrusherLevel           = 1  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  ; CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  ; CommandSet              = AmericaJetHellbomberCommandSet

  ; ; *** AUDIO Parameters ***
  ; VoiceSelect            = RaptorVoiceSelect
  ; VoiceMove              = RaptorVoiceMove
  ; VoiceAttack            = RaptorVoiceAttack
  ; VoiceAttackAir         = RaptorVoiceAttackAir
  ; VoiceGuard             = RaptorVoiceAirPatrol
  ; SoundAmbient           = RaptorAmbientLoop
  ; SoundAmbientRubble     = NoSound
  ; ; SoundMoveLoop          = RaptorAmbientLoop  ; don't want sound while sitting at airfield
  ; ; SoundAmbient           = NoSound
  ; UnitSpecificSounds
    ; VoiceCreate          = RaptorVoiceCreate
    ; SoundEject           = PilotSoundEject
    ; VoiceEject           = PilotVoiceEject
    ; Afterburner          = RaptorAfterburner
    ; VoiceLowFuel         = RaptorVoiceLowFuel
    ; VoiceGarrison        = RaptorVoiceMove
  ; End

  ; ; *** ENGINEERING Parameters ***
  ; RadarPriority          = UNIT
  ; KindOf                 = PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT
  ; Body                   = ActiveBody ModuleTag_02
    ; MaxHealth            = 280.0
    ; InitialHealth        = 280.0
  ; End

  ; Behavior                = ArmorUpgrade ModuleTag_Armor01
    ; TriggeredBy           = Upgrade_AmericaCountermeasures
  ; End

  ; Behavior                = CountermeasuresBehavior ModuleTag_10
    ; TriggeredBy           = Upgrade_AmericaCountermeasures
    ; FlareTemplateName     = CountermeasureFlare
    ; FlareBoneBaseName     = Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
    ; VolleySize            = 3     ; Number of flares launched per volley (requires bones)
    ; VolleyArcAngle        = 90.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
    ; VolleyVelocityFactor  = 1.0   ; Shoots out flares at a stronger velocity with a higher value.
    ; DelayBetweenVolleys   = 1000  ; Time between flare volleys
    ; NumberOfVolleys       = 3     ; Number of times the volleys will fire before reloading
    ; ReloadTime            = 0     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
    ; EvasionRate           = 30%   ; With active flares, the specified percentage will be diverted.
    ; ReactionLaunchLatency = 0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
    ; MissileDecoyDelay     = 200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
  ; End

  ; Behavior = ExperienceScalarUpgrade ModuleTag_04
    ; TriggeredBy = Upgrade_AmericaAdvancedTraining
    ; AddXPScalar = 1.0 ;Increases experience gained by an additional 100%
  ; End

  ; Behavior                          = JetSlowDeathBehavior ModuleTag_05
    ; FXOnGroundDeath                 = FX_JetOnGroundDeath
    ; OCLOnGroundDeath                = OCL_RaptorDeathFinalBlowUp
    ; DestructionDelay                = 99999999; destruction will happen when we
    ; RollRate                        = 0.2
    ; RollRateDelta                   = 100% ;each frame, rollrate = rollrate * rollrateDelta
    ; PitchRate                       = 0.0
    ; FallHowFast                     = 110.0%  ;Bigger is faster (can be over 100%,it's a fraction of gravity)
    ; FXInitialDeath                  = FX_RaptorDeathInitial
    ; OCLInitialDeath                 = OCL_RaptorDeathInitial
    ; DelaySecondaryFromInitialDeath  = 500  ; in milliseconds
    ; FXSecondary                     = FX_JetDeathSecondary
    ; OCLSecondary                    = OCL_RaptorDeathSecondary
    ; FXHitGround                     = FX_JetDeathHitGround
    ; OCLHitGround                    = OCL_RaptorDeathHitGround
    ; DelayFinalBlowUpFromHitGround   = 200 ; in milliseconds
    ; FXFinalBlowUp                   = FX_JetDeathFinalBlowUp
    ; OCLFinalBlowUp                  = OCL_RaptorDeathFinalBlowUp
; ;   DeathLoopSound                  = MICAL NEEDS TO MAKE ME
  ; End
  ; Behavior                    = EjectPilotDie ModuleTag_06
    ; ExemptStatus         = HIJACKED
    ; GroundCreationList = OCL_EjectPilotOnGround
    ; AirCreationList = OCL_EjectPilotViaParachute
    ; VeterancyLevels =  ALL -REGULAR ;only vet+ gives pilot
  ; End

  ; Behavior               = PhysicsBehavior ModuleTag_07
    ; Mass                 = 500.0
  ; End

  ; Behavior                 = TransitionDamageFX ModuleTag_08
    ; ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes Psys:SmokeSmallContinuous01
    ; ReallyDamagedFXList1         = Loc: X:0 Y:0 Z:0 FXList:FX_MIGDamageTransition
  ; End

  ; Behavior = JetAIUpdate ModuleTag_09
    ; OutOfAmmoDamagePerSecond  = 10%  ; amount of damage to take per SEC (not per frame) when out of ammo
                                    ; ; note that it's expressed as a percent of max health, not an absolute
    ; TakeoffDistForMaxLift     = 0%   ; larger numbers give more lift sooner when taking off
    ; TakeoffPause              = 500
    ; MinHeight                 = 5
    ; ParkingOffset             = 3             ; scooch it a little forward so the tail doesn't hit the doors
    ; ReturnToBaseIdleTime      = 10000         ; if idle for this long, return to base, even if not out of ammo
  ; End
  ; Locomotor = SET_NORMAL RaptorJetLocomotor
  ; Locomotor = SET_TAXIING BasicJetTaxiLocomotor

  ; Behavior = FlammableUpdate ModuleTag_21
    ; AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    ; AflameDamageAmount = 3       ; taking this much damage...
    ; AflameDamageDelay = 500       ; this often.
  ; End


  ; Geometry                 = Box
  ; GeometryIsSmall          = Yes
  ; GeometryMajorRadius      = 14.0
  ; GeometryMinorRadius      = 7.0
  ; GeometryHeight           = 5.0
  ; Shadow                   = SHADOW_VOLUME
  ; ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length.

; End

;----------------------------------------------------------------------------------------------------------
Object Boss_VehicleHelix

  ; *** ART Parameters ***
  SelectPortrait         = Venom_L
  ButtonImage            = Venom

  UpgradeCameo1 = Upgrade_AmericaCountermeasures
  UpgradeCameo2 = Upgrade_AmericaAdvancedTraining

    Draw = W3DOverlordAircraftDraw  ModuleTag_01; Works with the dependencyModelDraw of the upgrade portable structures

      ParticlesAttachedToAnimatedBones = Yes

    DefaultConditionState
      Model = Venom1
      Animation = Venom1.Venom1
      AnimationMode = LOOP
      HideSubObject = ADDEDBONE2 ADDEDBONE4 ADDEDBONE07 ADDEDBONE08 ADDEDBONE11 ADDEDBONE12 ADDEDBONE17 ADDEDBONE18 ADDEDBONE34 ADDEDBONE35
      ShowSubObject = BARREL01 BARREL02 BARREL03 BARREL04 BARREL05 BARREL06 BARREL07 BARREL08 BARREL09 BARREL10
      Turret              = TURRET
      TurretPitch         = TURRETEL
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      WeaponFireFXBone    = SECONDARY Muzzle
      WeaponMuzzleFlash   = SECONDARY MuzzleFX
    End

    ConditionState = MOVING
      ParticleSysBone = SMOKE01 HelixExhaust
      ParticleSysBone = SMOKE02 HelixExhaust
    End

    ConditionState = REALLYDAMAGED
      Model = Venom1_d
      Animation = Venom1_d.Venom1_d
      AnimationMode = LOOP
      HideSubObject = ADDEDBONE2 ADDEDBONE4 ADDEDBONE07 ADDEDBONE08 ADDEDBONE11 ADDEDBONE12 ADDEDBONE17 ADDEDBONE18 ADDEDBONE34 ADDEDBONE35
      Turret              = TURRET
      ShowSubObject = BARREL01 BARREL02 BARREL03 BARREL04 BARREL05 BARREL06 BARREL07 BARREL08 BARREL09 BARREL10
      TurretPitch         = TURRETEL
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      WeaponFireFXBone    = SECONDARY Muzzle
      WeaponMuzzleFlash   = SECONDARY MuzzleFX
    End
    ConditionState = REALLYDAMAGED MOVING
      Model = Venom1_d
      Animation = Venom1_d.Venom1_d
      AnimationMode = LOOP
      HideSubObject = ADDEDBONE2 ADDEDBONE4 ADDEDBONE07 ADDEDBONE08 ADDEDBONE11 ADDEDBONE12 ADDEDBONE17 ADDEDBONE18 ADDEDBONE34 ADDEDBONE35
      ParticleSysBone = SMOKE01 HelixExhaust
      ShowSubObject = BARREL01 BARREL02 BARREL03 BARREL04 BARREL05 BARREL06 BARREL07 BARREL08 BARREL09 BARREL10
      ParticleSysBone = SMOKE02 HelixExhaust
      Turret              = TURRET
      TurretPitch         = TURRETEL
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      WeaponFireFXBone    = SECONDARY Muzzle
      WeaponMuzzleFlash   = SECONDARY MuzzleFX
    End

    ConditionState = RUBBLE
      Model = Venom1_d
      Animation = Venom1_d.Venom1_d
      AnimationMode = LOOP
      HideSubObject = ADDEDBONE2 ADDEDBONE4 ADDEDBONE07 ADDEDBONE08 ADDEDBONE11 ADDEDBONE12 ADDEDBONE17 ADDEDBONE18 ADDEDBONE34 ADDEDBONE35
      Turret              = TURRET
      ShowSubObject = BARREL01 BARREL02 BARREL03 BARREL04 BARREL05 BARREL06 BARREL07 BARREL08 BARREL09 BARREL10
      TurretPitch         = TURRETEL
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      WeaponFireFXBone    = SECONDARY Muzzle
      WeaponMuzzleFlash   = SECONDARY MuzzleFX
    End

    ConditionState = RUBBLE MOVING
      Model = Venom1_d
      Animation = Venom1_d.Venom1_d
      AnimationMode = LOOP
      ShowSubObject = BARREL01 BARREL04 BARREL07 BARREL08 BARREL010 BARREL02 BARREL03 BARREL05 BARREL06 BARREL09      HideSubObject = ADDEDBONE2 ADDEDBONE4 ADDEDBONE7 ADDEDBONE8 ADDEDBONE11 ADDEDBONE12 ADDEDBONE17 ADDEDBONE18 ADDEDBONE34 ADDEDBONE35      ParticleSysBone = SMOKE01 HelixExhaust
      HideSubObject = ADDEDBONE2 ADDEDBONE4 ADDEDBONE07 ADDEDBONE08 ADDEDBONE11 ADDEDBONE12 ADDEDBONE17 ADDEDBONE18 ADDEDBONE34 ADDEDBONE35      Turret              = TURRET
      ParticleSysBone = SMOKE02 HelixExhaust
      Turret              = TURRET
      TurretPitch         = TURRETEL
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      WeaponFireFXBone    = SECONDARY Muzzle
      WeaponMuzzleFlash   = SECONDARY MuzzleFX
    End

    ConditionState = RUBBLE SPECIAL_DAMAGED
      Model = Venom1_d
    End

    OkToChangeModelColor = Yes
  End


  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Venom
  EditorSorting       = VEHICLE
  Side                = Boss
  TransportSlotCount  = 0                 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange         = 200.0
  ShroudClearingRange = 600
  BuildCost           = 1800
  BuildTime           = 10.0          ;in seconds
  ExperienceValue     = 50 100 150 200 ;Experience point value at each level
  ExperienceRequired  = 0 100 200 400  ;Experience points needed to gain each level
  IsTrainable         = Yes
  CommandSet          = ChinaVenomCommandSet


  ArmorSet
    Conditions      = None
    Armor           = ChinookArmor
    DamageFX        = None
  End


  WeaponSet
    Conditions          = None
    ;----------------------------
    Weapon              = PRIMARY     VenomGattlingGun
    Weapon              = SECONDARY   VenomGattlingGun
    ;----------------------------
  End

  ; *** AUDIO Parameters ***
  VoiceSelect     = HelixVoiceSelect
  VoiceMove       = HelixVoiceMove
  VoiceAttack     = HelixVoiceAttack
  SoundAmbient    = HelixAmbientLoop
  SoundEnter      = HumveeEnter
  SoundExit       = HumveeExit
  UnitSpecificSounds
    VoiceCreate         = HelixVoiceCreate
    VoiceUnload         = HelixVoiceUnload
    VoiceGarrison       = HelixVoiceMove
  End



  ; *** ENGINEERING Parameters ***
  RadarPriority   = UNIT
  KindOf = PRELOAD CAN_CAST_REFLECTIONS SELECTABLE VEHICLE HUGE_VEHICLE TRANSPORT AIRCRAFT SCORE PRODUCED_AT_HELIPAD CAN_ATTACK

  Body = ActiveBody ModuleTag_03
    MaxHealth       = 350.0
    InitialHealth   = 350.0
  End

  Behavior = AIUpdateInterface ModuleTag_04
    Turret
      ControlledWeaponSlots = PRIMARY SECONDARY
      TurretTurnRate      = 120   // turn rate, in degrees per sec
      TurretPitchRate     = 120
      AllowsPitch         = Yes
    End
    AutoAcquireEnemiesWhenIdle = Yes
  End

  Behavior = FXListDie ModuleTag_05
    DeathFX = FX_HelicopterStartDeath
  End

  Behavior                       = TransitionDamageFX ModuleTag_06
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuousDown
    ReallyDamagedFXList1         = Loc: X:0 Y:0 Z:0 FXList:FX_ComancheDamageTransition
  End

  Behavior = ChinookAIUpdate ModuleTag_07
     AutoAcquireEnemiesWhenIdle = Yes
     RotorWashParticleSystem = HelixRotorWashRing
  End
  Locomotor = SET_NORMAL    VenomLocomotor
  Locomotor = SET_TAXIING   BasicHelicopterTaxiLocomotor


  Behavior = PhysicsBehavior ModuleTag_09
    Mass = 50.0
  End

  Behavior = HelicopterSlowDeathBehavior ModuleTag_10
    DestructionDelay                = 99999999        ; the destruction delay
    SpiralOrbitTurnRate             = 80.0           ; in degrees per second, bigger # = tighter spiral
    SpiralOrbitForwardSpeed         = 110.0           ; bigger # = larger spiral
    SpiralOrbitForwardSpeedDamping  = .9999           ; smaller #'s = slow down faster
    MaxBraking                      = 210   ; max braking we can use during death spiral (lower num = wilder spiral)
    SoundDeathLoop                  = HelixDamagedLoop
    MinSelfSpin                     = 40                     ; in degrees per second
    MaxSelfSpin                     = 120                     ; in degrees per second
    SelfSpinUpdateDelay             = 300                     ; in milliseconds
    SelfSpinUpdateAmount            = 5                      ; in degrees
    FallHowFast                     = 8.0%                   ; fraction of gravity, lower = take longer to fall
    MinBladeFlyOffDelay             = 1000                    ; in milliseconds
    MaxBladeFlyOffDelay             = 1000                    ; in milliseconds
    AttachParticle                  = SootySmokeTrail
    AttachParticleBone              = Propeller02
    BladeObjectName                 = HelixBlades
    BladeBoneName                   = Propeller01
    FXBlade                         = FX_HelicopterBladeExplosion
    OCLBlade                        = OCL_HelicopterBladeExplosion
    FXHitGround                     = FX_HelicopterHitGround
    OCLHitGround                    = OCL_HelicopterHitGround
    FXFinalBlowUp                   = FX_HelixHelicopterBlowUpBig
    OCLFinalBlowUp                  = OCL_HelixBlades
    DelayFromGroundToFinalDeath     = 30
    FinalRubbleObject               = HelixRubbleHull
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3        ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = TransportContain ModuleTag_0800
    PassengersAllowedToFire = Yes
    Slots                 = 6
    DamagePercentToUnits  = 100%
    AllowInsideKindOf     = INFANTRY VEHICLE
    ForbidInsideKindOf    = AIRCRAFT HUGE_VEHICLE
    ExitDelay             = 100
    NumberOfExitPaths     = 1
    GoAggressiveOnExit = Yes ; AI Will tell people to set their mood to Aggressive on exiting
    ArmedRidersUpgradeMyWeaponSet = Yes
  End

  Behavior = ExperienceScalarUpgrade ModuleTag_0300
    TriggeredBy = Upgrade_AmericaAdvancedTraining
    AddXPScalar = 1.0 ;Increases experience gained by an additional 100%
  End

  Behavior                = CountermeasuresBehavior ModuleTag_100
    TriggeredBy           = Upgrade_AmericaCountermeasures
    FlareTemplateName     = CountermeasureFlare
    FlareBoneBaseName     = Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
    VolleySize            = 2     ; Number of flares launched per volley (requires bones)
    VolleyArcAngle        = 60.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
    VolleyVelocityFactor  = 2.0   ; Shoots out flares at a stronger velocity with a higher value.
    DelayBetweenVolleys   = 1000  ; Time between flare volleys
    NumberOfVolleys       = 3     ; Number of times the volleys will fire before reloading
    ReloadTime            = 4000  ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
    EvasionRate           = 30%   ; With active flares, the specified percentage will be diverted.
    ReactionLaunchLatency = 0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
    MissileDecoyDelay     = 200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
  End

  Geometry              = CYLINDER
  GeometryMajorRadius   = 45.0
  GeometryMinorRadius   = 45.0
  GeometryHeight        = 10.0
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
  ShadowSizeX           = 89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object Boss_JetMIG

  ; *** ART Parameters ***
  SelectPortrait         = SAJSF_L
  ButtonImage            = SAJSF

  UpgradeCameo1 = Upgrade_AmericaLaserMissiles
  UpgradeCameo2 = Upgrade_AmericaAdvancedTraining
  UpgradeCameo3 = Upgrade_ChinaAircraftArmor

  Draw                   = W3DModelDraw ModuleTag_01

    DefaultConditionState
      Model               = AVF35A
      HideSubObject       = BurnerFX01 BurnerFX02
      WeaponLaunchBone = PRIMARY WeaponA
      WeaponFireFXBone = PRIMARY WeaponA
      WeaponMuzzleFlash = PRIMARY WeaponA
    End

    ConditionState        = JETEXHAUST
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = JETEXHAUST JETAFTERBURNER
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ; afterburner
      ShowSubObject       = BurnerFX01 BurnerFX02
      ParticleSysBone     = Engine01 JetLenzflare
      ParticleSysBone     = Engine02 JetLenzflare
    End

    ConditionState        = REALLYDAMAGED
      Model               = AVF35A_D
      ; damage
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
      WeaponLaunchBone = PRIMARY WeaponA
      WeaponFireFXBone = PRIMARY WeaponA
      WeaponMuzzleFlash = PRIMARY WeaponA
    End

    ConditionState        = REALLYDAMAGED JETEXHAUST
      Model               = AVF35A_D
      ; damage
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = REALLYDAMAGED JETEXHAUST JETAFTERBURNER
      Model               = AVF35A_D
      ; damage
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
      ; afterburner
      ShowSubObject       = BurnerFX01 BurnerFX02
      ParticleSysBone     = Engine01 JetLenzflare
      ParticleSysBone     = Engine02 JetLenzflare
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = RUBBLE
      Model               = AVF35A_D
      HideSubObject       = None
      ShowSubObject       = None
    End

    ConditionState        = RUBBLE JETEXHAUST JETAFTERBURNER
      Model               = AVF35A_D
      ;HideSubObject is needed cause there're inherited from default condition state
      HideSubObject       = None
      ShowSubObject       = None
      ParticleSysBone     = Engine01 JetExhaust
      ParticleSysBone     = Engine02 JetExhaust
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    OkToChangeModelColor = Yes

  End

  ; ***DESIGN parameters ***
  DisplayName             = OBJECT:JSF
  EditorSorting           = VEHICLE
  Side                    = Boss
  TransportSlotCount      = 0 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange             = 180.0
  ShroudClearingRange     = 400
  WeaponSet
    Conditions          = None
    Weapon              = PRIMARY     JSFMissileWeapon
    PreferredAgainst    = PRIMARY     INFANTRY VEHICLE STRUCTURE AIRCRAFT
  End
  WeaponSet
    Conditions          = PLAYER_UPGRADE
    Weapon              = PRIMARY JSFLaserGuidedMissileWeapon
    PreferredAgainst    = PRIMARY     INFANTRY VEHICLE STRUCTURE AIRCRAFT
  End
  ArmorSet
    Conditions            = None
    Armor                 = AirplaneArmor
    DamageFX              = None
  End
  ArmorSet
    Conditions            = PLAYER_UPGRADE
    Armor                 = CountermeasuresAirplaneArmor
    DamageFX              = None
  End
  BuildCost               = 8000
  BuildTime               = 18
  ExperienceValue         = 50 50 100 150  ;Experience point value at each level
  ExperienceRequired      = 0 100 200 400   ;Experience points needed to gain each level
  IsTrainable             = Yes             ;Can gain experience
  CrusherLevel           = 1  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet              = GenericJetCommandSet

 ; *** AUDIO Parameters ***
  VoiceSelect            = KingRaptorVoiceSelect
  VoiceMove              = RaptorVoiceMove
  VoiceAttack            = RaptorVoiceAttack
  VoiceAttackAir         = RaptorVoiceAttackAir
  VoiceGuard             = RaptorVoiceAirPatrol
  SoundAmbient           = RaptorAmbientLoop
  SoundAmbientRubble     = NoSound
  ; SoundMoveLoop          = RaptorAmbientLoop  ; don't want sound while sitting at airfield
  ; SoundAmbient           = NoSound
  UnitSpecificSounds
    VoiceCreate          = KingRaptorVoiceCreate
    SoundEject           = PilotSoundEject
    VoiceEject           = PilotVoiceEject
    Afterburner          = RaptorAfterburner
    VoiceLowFuel         = RaptorVoiceLowFuel
    VoiceGarrison        = RaptorVoiceMove
  End
  ; For
  ; For now, it is better to have some sound than no sound cause there is a bug in
  ; what triggers the sound move loop sound, and the multiplayer test is only days away
  ; SoundMoveLoop          = RaptorAmbientLoop  ; don't want sound while sitting at airfield
  ; SoundAmbient           = NoSound

  ; *** ENGINEERING Parameters ***
  RadarPriority          = UNIT
  KindOf                 = PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT
  Body                   = ActiveBody ModuleTag_02
    MaxHealth            = 1200.0
    InitialHealth        = 1200.0
  End
  Behavior = ExperienceScalarUpgrade ModuleTag_03
    TriggeredBy = Upgrade_AmericaAdvancedTraining
    AddXPScalar = 1.0 ;Increases experience gained by an additional 100%
  End
  Behavior                          = JetSlowDeathBehavior ModuleTag_04
    FXOnGroundDeath                 = FX_JetOnGroundDeath
    OCLOnGroundDeath                = OCL_RaptorDeathFinalBlowUp
    DestructionDelay                = 99999999; destruction will happen when we
    RollRate                        = 0.2
    RollRateDelta                   = 100% ;each frame, rollrate = rollrate * rollrateDelta
    PitchRate                       = 0.0
    FallHowFast                     = 110.0%  ;Bigger is faster (can be over 100%,it's a fraction of gravity)
    FXInitialDeath                  = FX_JetDeathInitial
    OCLInitialDeath                 = OCL_RaptorDeathInitial
    DelaySecondaryFromInitialDeath  = 500  ; in milliseconds
    FXSecondary                     = FX_JetDeathSecondary
    OCLSecondary                    = OCL_RaptorDeathSecondary
    FXHitGround                     = FX_JetDeathHitGround
    OCLHitGround                    = OCL_RaptorDeathHitGround
    DelayFinalBlowUpFromHitGround   = 200 ; in milliseconds
    FXFinalBlowUp                   = FX_JetDeathFinalBlowUp
    OCLFinalBlowUp                  = OCL_RaptorDeathFinalBlowUp
;   DeathLoopSound                  = MICAL NEEDS TO MAKE ME
  End
  Behavior = EjectPilotDie ModuleTag_05
    GroundCreationList = OCL_EjectPilotOnGround
    AirCreationList = OCL_EjectPilotViaParachute
    ExemptStatus = HIJACKED
    VeterancyLevels =  ALL -REGULAR ;only vet+ gives pilot
  End

  Behavior = PhysicsBehavior ModuleTag_06
    Mass = 500.0
  End

  Behavior = JetAIUpdate ModuleTag_07
    OutOfAmmoDamagePerSecond = 1%  ; amount of damage to take per SEC (not per frame) when out of ammo
                                    ; note that it's expressed as a percent of max health, not an absolute
    TakeoffDistForMaxLift     = 0%   ; larger numbers give more lift sooner when taking off
    TakeoffPause           = 500
    MinHeight              = 5
    ReturnToBaseIdleTime   = 10000         ; if idle for this long, return to base, even if not out of ammo
  End

  Behavior = WeaponSetUpgrade ModuleTag_08
    TriggeredBy = Upgrade_AmericaLaserMissiles
  End

  Behavior = ExperienceScalarUpgrade ModuleTag_09
    TriggeredBy = Upgrade_AmericaAdvancedTraining
    AddXPScalar = 1.0 ;Increases experience gained by an additional 100%
  End

  Behavior                = ArmorUpgrade ModuleTag_Armor01
    TriggeredBy           = Upgrade_AmericaCountermeasures
  End

  Behavior                = CountermeasuresBehavior ModuleTag_10011
    TriggeredBy           = Upgrade_AmericaCountermeasures
    FlareTemplateName     = CountermeasureFlare
    FlareBoneBaseName     = Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
    VolleySize            = 2     ; Number of flares launched per volley (requires bones)
    VolleyArcAngle        = 60.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
    VolleyVelocityFactor  = 2.0   ; Shoots out flares at a stronger velocity with a higher value.
    DelayBetweenVolleys   = 1000  ; Time between flare volleys
    NumberOfVolleys       = 3     ; Number of times the volleys will fire before reloading
    ReloadTime            = 0     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
    EvasionRate           = 30%   ; With active flares, the specified percentage will be diverted.
    ReactionLaunchLatency = 0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
    MissileDecoyDelay     = 200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
  End

  Locomotor = SET_NORMAL RaptorJetLocomotor
  Locomotor = SET_TAXIING BasicJetTaxiLocomotor

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior                 = TransitionDamageFX ModuleTag_22
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes Psys:SmokeSmallContinuous01
    ReallyDamagedFXList1         = Loc: X:0 Y:0 Z:0 FXList:FX_MIGDamageTransition
  End

  Behavior = PointDefenseLaserUpdate ModuleTag_Laser_One
    WeaponTemplate        = AirF_PointDefenseLaser
    PrimaryTargetTypes    = BALLISTIC_MISSILE SMALL_MISSILE
    ScanRate              = 0
    ScanRange             = 200.0
    PredictTargetVelocityFactor = 1.0
  End

  Behavior        = MaxHealthUpgrade ModuleTag_10
    TriggeredBy   = Upgrade_ChinaAircraftArmor
    AddMaxHealth  = 40.0
    ChangeType    = ADD_CURRENT_HEALTH_TOO   ;Choices are PRESERVE_RATIO, ADD_CURRENT_HEALTH_TOO, and SAME_CURRENTHEALTH
  End

  Geometry                 = Box
  GeometryIsSmall          = Yes
  GeometryMajorRadius      = 14.0
  GeometryMinorRadius      = 7.0
  GeometryHeight           = 5.0
  Shadow                   = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length.

End

;------------------------------------------------------------------------------
Object Boss_JetRaptor

  ; *** ART Parameters ***
  SelectPortrait         = SAKingRap_L
  ButtonImage            = SAKingRap
  
  UpgradeCameo1 = Upgrade_AmericaLaserMissiles
  UpgradeCameo2 = Upgrade_AmericaAdvancedTraining
  ;UpgradeCameo3 = NONE
  ;UpgradeCameo4 = NONE
  ;UpgradeCameo5 = NONE
  
  Draw                   = W3DModelDraw ModuleTag_01
    ExtraPublicBone = WeaponA01
    DefaultConditionState
      Model               = AVRaptorAG
      HideSubObject       = BurnerFX01 BurnerFX02
      WeaponLaunchBone = PRIMARY WeaponA
    End

    ConditionState        = JETEXHAUST
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = JETEXHAUST JETAFTERBURNER
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ; afterburner
      ShowSubObject       = BurnerFX01 BurnerFX02
      ParticleSysBone     = Engine01 JetLenzflare
      ParticleSysBone     = Engine02 JetLenzflare
    End

    ConditionState        = REALLYDAMAGED
      Model               = AVRaptorAG_D
      ; damage
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
    End
    
    ConditionState        = REALLYDAMAGED JETEXHAUST
      Model               = AVRaptorAG_D
      ; damage
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = REALLYDAMAGED JETEXHAUST JETAFTERBURNER
      Model               = AVRaptorAG_D
      ; damage
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
      ; afterburner
      ShowSubObject       = BurnerFX01 BurnerFX02
      ParticleSysBone     = Engine01 JetLenzflare
      ParticleSysBone     = Engine02 JetLenzflare
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = RUBBLE
      Model               = AVRaptor_D1B
      HideSubObject       = None 
      ShowSubObject       = None
    End

    ConditionState        = RUBBLE JETEXHAUST JETAFTERBURNER
      Model               = AVRaptor_D1B
      ;HideSubObject is needed cause there're inherited from default condition state      
      HideSubObject       = None 
      ShowSubObject       = None
      ParticleSysBone     = Engine01 JetExhaust
      ParticleSysBone     = Engine02 JetExhaust
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    OkToChangeModelColor = Yes

  End

  ; ***DESIGN parameters ***
  DisplayName             = OBJECT:KingRaptor
  EditorSorting           = VEHICLE
  Side                    = Boss
  TransportSlotCount      = 0 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange             = 180.0 
  ShroudClearingRange     = 400
  Prerequisites
    Object                = Boss_Airfield
  End

  WeaponSet
    Conditions            = None 
    Weapon                = PRIMARY AirF_RaptorJetMissileWeapon
  End
  WeaponSet
    Conditions            = PLAYER_UPGRADE 
    Weapon                = PRIMARY AirF_RaptorJetLaserGuidedMissileWeapon
  End
  ArmorSet
    Conditions            = None
    Armor                 = AirplaneArmor
    DamageFX              = None
  End

  BuildCost               = 3000
  BuildTime               = 20   
  ExperienceValue         = 50 50 100 150  ;Experience point value at each level
  ExperienceRequired      = 0 100 200 400   ;Experience points needed to gain each level
  IsTrainable             = Yes             ;Can gain experience
  CrusherLevel           = 1  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet              = AmericaJetRaptorCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect            = RaptorVoiceSelect
  VoiceMove              = RaptorVoiceMove
  VoiceAttack            = RaptorVoiceAttack
  VoiceAttackAir         = RaptorVoiceAttackAir
  VoiceGuard             = RaptorVoiceAirPatrol
  SoundAmbient           = RaptorAmbientLoop
  SoundAmbientRubble     = NoSound
  ; SoundMoveLoop          = RaptorAmbientLoop  ; don't want sound while sitting at airfield
  ; SoundAmbient           = NoSound
  UnitSpecificSounds
    VoiceCreate          = RaptorVoiceCreate
    SoundEject           = PilotSoundEject
    VoiceEject           = PilotVoiceEject
    Afterburner          = RaptorAfterburner
    VoiceLowFuel         = RaptorVoiceLowFuel
    VoiceGarrison        = RaptorVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority          = UNIT
  KindOf                 = PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT
  Body                   = ActiveBody ModuleTag_02
    MaxHealth            = 1000.0
    InitialHealth        = 1000.0
  End

  Behavior                = WeaponSetUpgrade ModuleTag_03
    TriggeredBy          = Upgrade_AmericaLaserMissiles
  End
  Behavior = ExperienceScalarUpgrade ModuleTag_04
    TriggeredBy = Upgrade_AmericaAdvancedTraining
    AddXPScalar = 1.0 ;Increases experience gained by an additional 100%
  End

  Behavior                          = JetSlowDeathBehavior ModuleTag_05
    FXOnGroundDeath                 = FX_JetOnGroundDeath
    OCLOnGroundDeath                = OCL_RaptorDeathFinalBlowUp
    DestructionDelay                = 99999999; destruction will happen when we
    RollRate                        = 0.2
    RollRateDelta                   = 100% ;each frame, rollrate = rollrate * rollrateDelta
    PitchRate                       = 0.0
    FallHowFast                     = 110.0%  ;Bigger is faster (can be over 100%,it's a fraction of gravity)
    FXInitialDeath                  = FX_RaptorDeathInitial
    OCLInitialDeath                 = OCL_RaptorDeathInitial
    DelaySecondaryFromInitialDeath  = 500  ; in milliseconds
    FXSecondary                     = FX_JetDeathSecondary
    OCLSecondary                    = OCL_RaptorDeathSecondary
    FXHitGround                     = FX_JetDeathHitGround
    OCLHitGround                    = OCL_RaptorDeathHitGround
    DelayFinalBlowUpFromHitGround   = 200 ; in milliseconds
    FXFinalBlowUp                   = FX_JetDeathFinalBlowUp
    OCLFinalBlowUp                  = OCL_RaptorDeathFinalBlowUp
;   DeathLoopSound                  = MICAL NEEDS TO MAKE ME
  End
  Behavior                    = EjectPilotDie ModuleTag_06
    ExemptStatus         = HIJACKED
    GroundCreationList = OCL_EjectPilotOnGround
    AirCreationList = OCL_EjectPilotViaParachute
    VeterancyLevels =  ALL -REGULAR ;only vet+ gives pilot
  End
  
  Behavior               = PhysicsBehavior ModuleTag_07
    Mass                 = 500.0
  End

  Behavior                 = TransitionDamageFX ModuleTag_08
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes Psys:SmokeSmallContinuous01
    ReallyDamagedFXList1         = Loc: X:0 Y:0 Z:0 FXList:FX_MIGDamageTransition
  End

  Behavior = JetAIUpdate ModuleTag_09
    OutOfAmmoDamagePerSecond  = 10%  ; amount of damage to take per SEC (not per frame) when out of ammo
                                    ; note that it's expressed as a percent of max health, not an absolute
    TakeoffDistForMaxLift     = 0%   ; larger numbers give more lift sooner when taking off
    TakeoffPause              = 500
    MinHeight                 = 5
    ParkingOffset             = 3             ; scooch it a little forward so the tail doesn't hit the doors
    ReturnToBaseIdleTime      = 10000         ; if idle for this long, return to base, even if not out of ammo
  End
  Locomotor = SET_NORMAL RaptorJetLocomotor
  Locomotor = SET_TAXIING BasicJetTaxiLocomotor

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End
  Behavior = PointDefenseLaserUpdate ModuleTag_22
    WeaponTemplate        = AirF_RaptorPointDefenseLaser
    PrimaryTargetTypes    = BALLISTIC_MISSILE SMALL_MISSILE
    ScanRate              = 10
    ScanRange             = 200.0
    PredictTargetVelocityFactor = 2.0
  End
  Behavior = StealthDetectorUpdate ModuleTag_24
    DetectionRate   = 500   ; how often to rescan for stealthed things in my sight (msec)
    ;DetectionRange = ??? ;Dustin, enable this for independant balancing!
    CanDetectWhileGarrisoned  = No ;Garrisoned means being in a structure that you units can shoot out of.
    CanDetectWhileContained   = No ;Contained means being in a transport or tunnel network.
  End


  Geometry                 = Box
  GeometryIsSmall          = Yes
  GeometryMajorRadius      = 14.0
  GeometryMinorRadius      = 7.0
  GeometryHeight           = 5.0
  Shadow                   = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length.

End

;------------------------------------------------------------------------------
Object Boss_VehicleCombatChinook

  ; *** ART Parameters ***
  SelectPortrait         = SAComChinok_L
  ButtonImage            = SAComChinok

  Draw = W3DModelDraw                         ModuleTag_01 ; Helicopter

    ExtraPublicBone = RopeStart
    ExtraPublicBone = RopeEnd

    DefaultConditionState
      Model = AVChinookAG
      Animation = AVChinookAG.AVChinookAG
      AnimationMode = LOOP
    End

    ConditionState = REALLYDAMAGED
      Model = AVChinookAG_d
      Animation = AVChinookAG_d.AVChinookAG_d
      AnimationMode = LOOP
    End

    ConditionState = RUBBLE
      Model = AVChinookAG_d
      Animation = AVChinookAG_d.AVChinookAG_d
      AnimationMode = LOOP
    End

    ConditionState = RUBBLE SPECIAL_DAMAGED
      Model = AVChinookAG_d
      HideSubObject = Props01
      HideSubObject = Props02
    End

    OkToChangeModelColor = Yes
  End

  Draw = W3DModelDraw                         ModuleTag_02 ; Cargo net
    ConditionState = NONE
      Model = None  ; Nothing here
      TransitionKey = TRANS_Empty
      WaitForStateToFinishIfPossible = TRANS_Unloading
    End

    ConditionState = DYING
      Model = None  ; Nothing here
    End
    AliasConditionState = RUBBLE
    AliasConditionState = CARRYING RUBBLE
    AliasConditionState = DOCKING RUBBLE
    AliasConditionState = DOCKING CARRYING RUBBLE

     ConditionState = CARRYING
      Model = AVChinook_A ;Carrying a full wobbly net of stuff
      Animation = AVChinook_A.AVChinook_A
      AnimationMode = LOOP
      TransitionKey = TRANS_Full
      WaitForStateToFinishIfPossible = TRANS_PickingUp
    End

    ConditionState = DOCKING
      Model = AVChinook_A1MSH ;Lowering an empty net, pulling up with stuff
      Animation = AVChinook_A1SK.AVChinook_A1
      AnimationMode = ONCE_BACKWARDS
      Flags = START_FRAME_LAST
      AnimationSpeedFactorRange = .75 .75
      TransitionKey = TRANS_PickingUp
      WaitForStateToFinishIfPossible = TRANS_Unloading  ;Trick.  Without hardcoding the difference between what we are docking with, need to use DOCKING for both.
    End

    ConditionState = DOCKING CARRYING
      Model = AVChinook_A1MSH ; Lowering a full net, letting stuff fall out, and pulling up an empty net
      Animation = AVChinook_A1SK.AVChinook_A1
      AnimationMode = ONCE
      AnimationSpeedFactorRange = 2.75 2.75
      TransitionKey = TRANS_Unloading
      WaitForStateToFinishIfPossible = TRANS_PickingUp  ;Trick.  Without hardcoding the difference between what we are docking with, need to use DOCKING for both.
    End
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:AirF_Chinook
  EditorSorting       = VEHICLE
  Side                = Boss
  TransportSlotCount  = 0                 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange         = 300.0
  ShroudClearingRange = 600
  BuildCost           = 1200
  BuildTime           = 15.0          ;in seconds
  Prerequisites
    Object = Boss_Airfield
  End
  ExperienceValue     = 60 60 60 60 ;Experience point value at each level
  IsTrainable         = No
  CommandSet          = AmericaVehicleChinookCommandSet
  WeaponSet
    Conditions          = None
    Weapon              = PRIMARY     NONE
  End
  WeaponSet
    Conditions          = PLAYER_UPGRADE
    Weapon              = PRIMARY     ListeningOutpostUpgradedDummyWeapon
  End
  ArmorSet
    Conditions      = None
    Armor           = ChinookArmor
    DamageFX        = None
  End

  ; *** AUDIO Parameters ***
  VoiceSelect     = CombatChinookVoiceSelect
  VoiceMove       = ChinookVoiceMove
  VoiceAttack     = CombatChinookVoiceAttack
  SoundAmbient    = ChinookAmbientLoop
  SoundAmbientRubble    = NoSound
  SoundEnter      = HumveeEnter
  SoundExit       = HumveeExit
  UnitSpecificSounds
    VoiceCreate         = CombatChinookVoiceCreate
    VoiceSupply         = ChinookVoiceSupply
    VoiceUnload         = ChinookVoiceUnload
    VoiceCombatDrop     = ChinookVoiceCombatDrop
    VoiceClearBuilding  = RangerVoiceClearBuilding ;Special combat drop that clears buildings!
    VoiceGarrison       = ChinookVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority   = UNIT
  ; note that, although Chinooks aren't produced at helipads, we want to set this KINDOF so that they can land at
  ; (well, "near" actually) an Airfield to get healed...
  ; also note that we should NOT set CAN_ATTACK for chinooks. they can't attack. so there.
  KindOf          = PRELOAD CAN_CAST_REFLECTIONS SELECTABLE VEHICLE TRANSPORT AIRCRAFT HARVESTER SCORE PRODUCED_AT_HELIPAD CAN_ATTACK


  Behavior = AIUpdateInterface ModuleTag_04
    AutoAcquireEnemiesWhenIdle = No ATTACK_BUILDINGS Stealthed
  End

  Body = ActiveBody ModuleTag_03
    MaxHealth       = 350.0
    InitialHealth   = 350.0
  End

  Behavior = FXListDie ModuleTag_05
    DeathFX = FX_HelicopterStartDeath
  End

  Behavior                       = TransitionDamageFX ModuleTag_06
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuousDown
    ReallyDamagedFXList1         = Loc: X:0 Y:0 Z:0 FXList:FX_ComancheDamageTransition
  End

  Behavior = ChinookAIUpdate ModuleTag_07
    MaxBoxes                = 10
    SupplyCenterActionDelay = 3000     ; ms for whole thing (one transaction)
    SupplyWarehouseActionDelay = 1250  ; 875 ; ms per box (many small transactions)
    SupplyWarehouseScanDistance = 700 ;350 ; Max distance to look for a warehouse, or we go home.  (Direct dock command on warehouse overrides, and no max on Center Scan)
    SuppliesDepletedVoice = ChinookVoiceSuppliesDepleted
    NumRopes                = 4
    ; these define how long we can wait, once a guy is on-rope, before throwing another
    ; guy onto that same rope. (Hint: you don't want to use zero.) Omit entirely
    ; and we'll wait for each guy to clear before spawning another.
    PerRopeDelayMin         = 900
    PerRopeDelayMax         = 1500
    RopeWidth               = 0.5
    RopeColor               = R:0 G:0 B:0
    RopeWobbleLen           = 10
    RopeWobbleAmplitude     = 0.25
    RopeWobbleRate          = 180
    RopeFinalHeight         = 10    ; stop this far above ground
    RappelSpeed             = 30
    MinDropHeight           = 40      ; if dropping into a tall bldg, go at least this far above it
    UpgradedSupplyBoost     = 60    ; increase in value of the crates when supply lines has been upgraded
  End
  Locomotor = SET_NORMAL    ChinookLocomotor
  Locomotor = SET_TAXIING   BasicHelicopterTaxiLocomotor

  Behavior = TransportContain ModuleTag_08
    PassengersAllowedToFire = Yes
    Slots                 = 8
    DamagePercentToUnits  = 100%
    AllowInsideKindOf     = INFANTRY VEHICLE
    ForbidInsideKindOf    = AIRCRAFT HUGE_VEHICLE
    ExitDelay             = 100
    NumberOfExitPaths     = 1
    GoAggressiveOnExit = Yes ; AI Will tell people to set their mood to Aggressive on exiting
    ArmedRidersUpgradeMyWeaponSet = Yes
  End

  Behavior = PhysicsBehavior ModuleTag_09
    Mass = 50.0
  End
  Behavior = HelicopterSlowDeathBehavior ModuleTag_10
    DestructionDelay                = 99999999        ; the destruction delay
    SpiralOrbitTurnRate             = 140.0           ; in degrees per second, bigger # = tighter spiral
    SpiralOrbitForwardSpeed         = 350.0           ; bigger # = larger spiral
    SpiralOrbitForwardSpeedDamping  = .9999           ; smaller #'s = slow down faster
    MaxBraking                      = 190   ; max braking we can use during death spiral (lower num = wilder spiral)
    SoundDeathLoop                  = ComancheDamagedLoop
    MinSelfSpin                     = 100                     ; in degrees per second
    MaxSelfSpin                     = 300                     ; in degrees per second
    SelfSpinUpdateDelay             = 100                     ; in milliseconds
    SelfSpinUpdateAmount            = 10                      ; in degrees
    FallHowFast                     = 12.0%                   ; fraction of gravity, lower = take longer to fall
    MinBladeFlyOffDelay             = 1500                    ; in milliseconds
    MaxBladeFlyOffDelay             = 1500                    ; in milliseconds
    AttachParticle                  = SootySmokeTrail
    AttachParticleBone              = Propeller02
    BladeObjectName                 = ComancheBlades
    BladeBoneName                   = Propeller01
    FXBlade                         = FX_HelicopterBladeExplosion
    OCLBlade                        = OCL_HelicopterBladeExplosion
    FXHitGround                     = FX_HelicopterHitGround
    OCLHitGround                    = OCL_HelicopterHitGround
    FXFinalBlowUp                   = FX_GroundedHelicopterBlowUp
    OCLFinalBlowUp                  = OCL_GroundedHelicopterBlowUp
    DelayFromGroundToFinalDeath     = 30
    FinalRubbleObject               = ChinookRubbleHull
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = PointDefenseLaserUpdate ModuleTag_Laser_One
    WeaponTemplate        = AirF_PointDefenseLaser
    PrimaryTargetTypes    = BALLISTIC_MISSILE SMALL_MISSILE
    ScanRate              = 33
    ScanRange             = 250.0
    PredictTargetVelocityFactor = 1.0
  End

  Geometry              = BOX
  GeometryMajorRadius   = 20.0
  GeometryMinorRadius   = 6.0
  GeometryHeight        = 12.0
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
  ShadowSizeX           = 89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object Boss_InfantryColonelBurton

  ; *** ART Parameters ***
  SelectPortrait         = BossBurton
  ButtonImage            = BossBurton

  UpgradeCameo1 = Upgrade_AmericaAdvancedTraining
  UpgradeCameo2 = Upgrade_AmericaChemicalSuits

  Draw = W3DModelDraw ModuleTag_01
  OkToChangeModelColor = Yes

    ; idle
    DefaultConditionState
      Model               = AIHERO_SKN
      IdleAnimation       = AIHERO_SKL.AIHERO_STA 0 25
      IdleAnimation       = AIHERO_SKL.AIHERO_IDA
      IdleAnimation       = AIHERO_SKL.AIHERO_IDB
      AnimationMode       = ONCE
      TransitionKey       = TRANS_Stand
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      WeaponMuzzleFlash   = SECONDARY NONE
      WeaponFireFXBone    = TERTIARY Muzzle
      WeaponMuzzleFlash   = TERTIARY MuzzleFX
      WeaponLaunchBone    = TERTIARY Muzzle
      HideSubObject     = MUZZLEFX01
    End
 
    
    ; injured idle
    ConditionState        = REALLYDAMAGED
      IdleAnimation       = AIHERO_SKL.AIHERO_ISTA 0 30
      IdleAnimation       = AIHERO_SKL.AIHERO_IIDA
      IdleAnimation       = AIHERO_SKL.AIHERO_IIDB
      AnimationMode       = ONCE
      TransitionKey       = TRANS_StandInjured
    End


    TransitionState     = TRANS_Stand TRANS_StandInjured
      Animation         = AIHERO_SKL.AIHERO_ISTAHIT
      AnimationMode     = ONCE
    End
    
    ; moving
    ConditionState        = MOVING
      Animation           = AIHERO_SKL.AIHERO_RNA 26
      AnimationMode       = LOOP
      Flags               = RANDOMSTART
      TransitionKey       = TRANS_Walking
      ParticleSysBone     = None InfantryDustTrails
      HideSubObject     = MUZZLEFX01
    End
    AliasConditionState = MOVING FIRING_A
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_A
    AliasConditionState = MOVING RELOADING_A
    AliasConditionState = MOVING FIRING_B
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_B
    AliasConditionState = MOVING RELOADING_B

    ; injured moving
    ConditionState     = MOVING REALLYDAMAGED
      Animation        = AIHERO_SKL.AIHERO_IRNA 26
      AnimationMode    = LOOP
      Flags            = RANDOMSTART
      TransitionKey    = TRANS_WalkingInjured
      ParticleSysBone  = None InfantryDustTrails
      HideSubObject     = MUZZLEFX01
    End
    AliasConditionState = MOVING FIRING_A REALLYDAMAGED
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
    AliasConditionState = MOVING RELOADING_A REALLYDAMAGED
    AliasConditionState = MOVING FIRING_B REALLYDAMAGED
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_B REALLYDAMAGED
    AliasConditionState = MOVING RELOADING_B REALLYDAMAGED

    ; Firing animation
    ConditionState      = FIRING_A
      Animation         = AIHERO_SKL.AIHERO_ATA
      AnimationMode     = ONCE
      AnimationSpeedFactorRange = 1.5 1.5
      TransitionKey     = TRANS_FiringA
    End

    ConditionState      = BETWEEN_FIRING_SHOTS_A
      Animation         = AIHERO_SKL.AIHERO_ATA
      AnimationMode     = MANUAL
      Flags             = START_FRAME_LAST
      WaitForStateToFinishIfPossible = TRANS_FiringA
    End
    AliasConditionState = RELOADING_A

    ; Injured Firing animation
    ConditionState      = FIRING_A REALLYDAMAGED
      Animation         = AIHERO_SKL.AIHERO_IATA
      AnimationMode     = ONCE
      AnimationSpeedFactorRange = 1.5 1.5
      TransitionKey     = TRANS_FiringAInjured
    End

    ConditionState      = BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
      Animation         = AIHERO_SKL.AIHERO_IATA
      AnimationMode     = MANUAL
      Flags             = START_FRAME_LAST
      WaitForStateToFinishIfPossible = TRANS_FiringAInjured
    End
    AliasConditionState = RELOADING_A REALLYDAMAGED

    TransitionState     = TRANS_FiringA TRANS_FiringAInjured
      Animation         = AIHERO_SKL.AIHERO_IATAHIT
      AnimationMode     = ONCE
    End

    ; Placing charge animation
    ConditionState      = UNPACKING
      Animation         = AIHERO_SKL.AIHERO_ATB1
      AnimationMode     = ONCE
    End
    AliasConditionState = MOVING UNPACKING

    ; Injured Placing charge animation
    ConditionState      = UNPACKING REALLYDAMAGED
      Animation         = AIHERO_SKL.AIHERO_IATB1
      AnimationMode     = ONCE
    End
    AliasConditionState = MOVING UNPACKING REALLYDAMAGED

    ; Stab animations
    ConditionState      = PREATTACK_B 
      Animation         = AIHERO_SKL.AIHERO_ATC
      AnimationMode     = ONCE
      TransitionKey     = TRANS_Stabbing
      HideSubObject     = MUZZLEFX01
    End
    AliasConditionState = PREATTACK_B MOVING
    AliasConditionState = PREATTACK_B FIRING_B
    AliasConditionState = PREATTACK_B BETWEEN_FIRING_SHOTS_B

    ConditionState      = FIRING_B
      Animation         = AIHERO_SKL.AIHERO_ATC
      AnimationMode     = MANUAL
      Flags             = START_FRAME_LAST
      TransitionKey     = TRANS_Stabbing
      HideSubObject     = MUZZLEFX01
    End
    AliasConditionState = BETWEEN_FIRING_SHOTS_B
    AliasConditionState = RELOADING_B

    TransitionState     = TRANS_Stabbing TRANS_Stand
      Animation         = AIHERO_SKL.AIHERO_ATC2
      AnimationMode     = ONCE
    End

    ; Injured Stab animations
    ConditionState      = PREATTACK_B REALLYDAMAGED 
      Animation         = AIHERO_SKL.AIHERO_IATC1
      AnimationMode     = ONCE
      TransitionKey     = TRANS_StabbingInjured
      HideSubObject     = MUZZLEFX01
    End
    AliasConditionState = PREATTACK_B MOVING REALLYDAMAGED
    AliasConditionState = PREATTACK_B FIRING_B REALLYDAMAGED
    AliasConditionState = PREATTACK_B BETWEEN_FIRING_SHOTS_B REALLYDAMAGED

    ConditionState      = FIRING_B REALLYDAMAGED
      Animation         = AIHERO_SKL.AIHERO_IATC2
      AnimationMode     = MANUAL
      Flags             = START_FRAME_LAST
      TransitionKey     = TRANS_StabbingInjured
      HideSubObject     = MUZZLEFX01
    End
    AliasConditionState = BETWEEN_FIRING_SHOTS_B REALLYDAMAGED
    AliasConditionState = RELOADING_B REALLYDAMAGED

    TransitionState     = TRANS_StabbingInjured TRANS_StandInjured
      Animation         = AIHERO_SKL.AIHERO_IATC2
      AnimationMode     = ONCE
    End

    ; cheering
    ConditionState      = SPECIAL_CHEERING
      Animation         = AIHERO_SKL.AIHERO_CHA
      AnimationMode     = ONCE
    End
    
    ; injured cheering
    ConditionState      = SPECIAL_CHEERING REALLYDAMAGED
      Animation         = AIHERO_SKL.AIHERO_ICHA
      AnimationMode     = ONCE
    End
    
    ; climbing
    ConditionState      = CLIMBING
      Animation         = AIHERO_SKL.AIHERO_CLMID
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Climbing
    End
    AliasConditionState = RAPPELLING
    AliasConditionState = CLIMBING REALLYDAMAGED
    AliasConditionState = RAPPELLING REALLYDAMAGED

    ConditionState      = CLIMBING MOVING
      Animation         = AIHERO_SKL.AIHERO_CLMUP
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Climbing
    End
    AliasConditionState = CLIMBING MOVING REALLYDAMAGED

    ConditionState      = RAPPELLING MOVING
      Animation         = AIHERO_SKL.AIHERO_CLMUP
      AnimationMode     = LOOP_BACKWARDS
      TransitionKey     = TRANS_Climbing
    End
    AliasConditionState = RAPPELLING MOVING REALLYDAMAGED

; these transitions don't really work well with our code. leave 'em out.
;    TransitionState     = TRANS_Climbing TRANS_Stand
;      Animation         = AIHERO_SKL.AIHERO_CLMST
;      AnimationMode     = ONCE
;    End
;
;    TransitionState     = TRANS_Stand TRANS_Climbing
;      Animation         = AIHERO_SKL.AIHERO_CLMST
;      AnimationMode     = ONCE_BACKWARDS
;    End

    ; dying anims
    ConditionState      = DYING
      Animation         = AIHERO_SKL.AIHERO_DTA
      Animation         = AIHERO_SKL.AIHERO_DTB
      Animation         = AIHero_SKL.AIHero_IDTA
      Animation         = AIHero_SKL.AIHero_IDTB
      AnimationMode     = ONCE
      TransitionKey     = TRANS_Dying
    End
    AliasConditionState = RAPPELLING DYING
    AliasConditionState = CLIMBING DYING

    TransitionState     = TRANS_Dying TRANS_Flailing
      Animation         = AIHERO_SKL.AIHERO_ADTG21
      AnimationMode     = ONCE
    End

    ConditionState      = DYING EXPLODED_FLAILING
      Animation         = AIHERO_SKL.AIHERO_ADTG22
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Flailing
    End

    ConditionState      = DYING EXPLODED_BOUNCING
      Animation         = AIHERO_SKL.AIHERO_ADTG23
      AnimationMode     = ONCE
      TransitionKey     = None
    End

    ; misc anims
    ConditionState      = FREEFALL
      Animation         = AIHERO_SKL.AIHERO_PFL
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Falling
    End
    AliasConditionState = FREEFALL REALLYDAMAGED
    AliasConditionState = FREEFALL DYING

    ConditionState      = PARACHUTING
      Animation         = AIHERO_SKL.AIHERO_PHG
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Chute
    End
    AliasConditionState = PARACHUTING REALLYDAMAGED
    AliasConditionState = PARACHUTING DYING

    TransitionState     = TRANS_Falling TRANS_Chute
      Animation         = AIHERO_SKL.AIHERO_POP
      AnimationMode     = ONCE
      Flags             = PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
    End

    TransitionState     = TRANS_Chute TRANS_Stand
      Animation         = AIHERO_SKL.AIHERO_PTD
      AnimationMode     = ONCE
    End

    TransitionState     = TRANS_Chute TRANS_StandInjured
      Animation         = AIHERO_SKL.AIHERO_PTD
      AnimationMode     = ONCE
    End

  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:ColonelBurton
  Side                = Boss
  EditorSorting       = INFANTRY
  TransportSlotCount  = 1                 ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions          = None 
    Weapon              = PRIMARY     ColonelBurtonSniperRifleWeapon
    Weapon              = SECONDARY   ColonelBurtonKnifeWeapon
    AutoChooseSources   = PRIMARY     FROM_PLAYER FROM_SCRIPT FROM_AI
    AutoChooseSources   = SECONDARY   NONE
    Weapon              = TERTIARY    BurtonGrenade
    AutoChooseSources   = TERTIARY NONE
  End
  ArmorSet
    Conditions      = None
    Armor           = HumanArmor
    DamageFX        = InfantryDamageFX
  End
  ArmorSet
    Conditions      = PLAYER_UPGRADE
    Armor           = ChemSuitHumanArmor
    DamageFX        = InfantryDamageFX
  End

  VisionRange         = 150
  ShroudClearingRange = 500
  Prerequisites
    Object = Boss_Barracks
    Object = Boss_TechCentr
  End
  BuildCost = 2000
  BuildTime = 20.0          ;in seconds  

  ExperienceValue     = 50 100 100 150  ; Experience point value at each level
  ExperienceRequired  = 0 200 300 600   ; Experience points needed to gain each level
  IsTrainable         = Yes             ; Can gain experience
  CrushableLevel      = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet          = AmericaInfantryColonelBurtonCommandSet

  ;MaxSimultaneousOfType = 1

  ; *** AUDIO Parameters ***
  VoiceSelect = ColonelBurtonVoiceSelect
  VoiceMove = ColonelBurtonVoiceMove
  VoiceAttack = ColonelBurtonVoiceAttack
  VoiceFear = ColonelBurtonVoiceFear
  VoiceGuard = ColonelBurtonVoiceMove
  SoundStealthOn = StealthOn
  SoundStealthOff = StealthOff
  
  UnitSpecificSounds
    VoiceMelee = ColonelBurtonVoiceAttackKnife
    VoiceCreate           = ColonelBurtonVoiceCreate
    VoiceGarrison         = ColonelBurtonVoiceGarrison
    VoiceEnter            = ColonelBurtonVoiceMove
    VoiceEnterHostile     = ColonelBurtonVoiceMove
    VoiceGetHealed        = ColonelBurtonVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY SCORE HERO CANNOT_RETALIATE SALVAGER

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 200.0
    InitialHealth   = 200.0
  End

  Behavior                = ArmorUpgrade ModuleTag_Armor01
    TriggeredBy           = Upgrade_AmericaChemicalSuits
  End

  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle = Yes
  End

  Behavior = CommandButtonHuntUpdate  ModuleTag_04 ; allows use of command button hunt script with this unit. 
  End

  Behavior = AutoFindHealingUpdate   ModuleTag_05 ; This update will have the unit go to a healing station if injured. jba 
    ScanRate = 1000 ; once a second.
    ScanRange = 300 ;
    NeverHeal = 0.85 ;  don't heal if we are > 85% healthy.
    AlwaysHeal = 0.25 ; if we get below 25%, find healing right away.
  End

  Locomotor = SET_NORMAL ColonelBurtonGroundLocomotor ColonelBurtonCliffLocomotor

  Behavior = PhysicsBehavior ModuleTag_06
    Mass = 5.0
  End

  Behavior = StealthUpdate ModuleTag_07
    StealthDelay                = 2000 ; msec
    StealthForbiddenConditions  = FIRING_PRIMARY
    HintDetectableConditions    = IS_FIRING_WEAPON 
    FriendlyOpacityMin          = 50.0%
    FriendlyOpacityMax          = 100.0%
    InnateStealth               = Yes
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
    EnemyDetectionEvaEvent      = EnemyColonelBurtonDetected
    OwnDetectionEvaEvent        = OwnColonelBurtonDetected
  End

  Behavior = SpecialAbility ModuleTag_08
    SpecialPowerTemplate = SpecialAbilityColonelBurtonRemoteCharges
    UpdateModuleStartsAttack = Yes
    InitiateSound             = ColonelBurtonVoicePlantRemoteCharge
  End
  Behavior = SpecialAbilityUpdate ModuleTag_09
    SpecialPowerTemplate = SpecialAbilityColonelBurtonRemoteCharges
    StartAbilityRange = 0.0
    PreparationTime = 0
    SpecialObject = RemoteC4Charge
    MaxSpecialObjects = 8
    SpecialObjectsPersistWhenOwnerDies = No ;Charges are removed instantly when owner dies (nobody can detonate).
    AlwaysValidateSpecialObjects = Yes      ;Coupled with the above setting, this one is necessary for code optimization.
    SpecialObjectsPersistent = Yes          ;Charges are persistent till lifetime expires or owner detonates them.
    UniqueSpecialObjectTargets = Yes        ;This prevents multiple charges placed on the same object.
    UnpackTime              = 5500          ;NOTE: Modifying this value will require modifying the delay for ColonelBurtonPlantCharge
    PackTime                = 0
    SkipPackingWithNoTarget = Yes           ;When yes, the packing/unpacking will be ignored when detonating charges.
    FlipOwnerAfterUnpacking = Yes
    FleeRangeAfterCompletion = 100.0         ;Runs away after finishing ability
    UnpackSound               = ColonelBurtonPlantCharge
    LoseStealthOnTrigger      = Yes
    PreTriggerUnstealthTime   = 5000 ; in milliseconds
  End

  Behavior = SpecialAbility ModuleTag_10
    SpecialPowerTemplate = SpecialAbilityColonelBurtonTimedCharges
    UpdateModuleStartsAttack = Yes
    InitiateSound             = ColonelBurtonVoicePlantTimedCharge
  End
  Behavior = SpecialAbilityUpdate ModuleTag_11
    SpecialPowerTemplate = SpecialAbilityColonelBurtonTimedCharges
    StartAbilityRange = 0.0
    PreparationTime = 0
    SpecialObject = TimedC4Charge
    MaxSpecialObjects = 10
    SpecialObjectsPersistWhenOwnerDies = Yes 
    SpecialObjectsPersistent = Yes          ;Charges are persistent till lifetime expires or owner detonates them.
    UniqueSpecialObjectTargets = Yes        ;This prevents multiple charges placed on the same object.
    UnpackTime              = 5500          ;NOTE: Modifying this value will require modifying the delay for ColonelBurtonPlantCharge
    FlipOwnerAfterUnpacking = Yes
    FleeRangeAfterCompletion = 100.0         ;Runs away after finishing ability
    UnpackSound               = ColonelBurtonPlantCharge
    LoseStealthOnTrigger      = Yes
    PreTriggerUnstealthTime   = 5000 ; in milliseconds

  End
 
  Behavior = ExperienceScalarUpgrade ModuleTag_12
    TriggeredBy   = Upgrade_AmericaAdvancedTraining
    AddXPScalar   = 1.0 ;Increases experience gained by an additional 100%
  End


; --- begin Death modules ---
  Behavior = SlowDeathBehavior ModuleTag_Death01
    DeathTypes          = ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA
    SinkDelay           = 6000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_ColonelBurtonDie
  End
  Behavior = SlowDeathBehavior ModuleTag_Death02
    DeathTypes          = NONE +CRUSHED +SPLATTED
    SinkDelay           = 6000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_GIDieCrushed
  End
  Behavior = SlowDeathBehavior ModuleTag_Death03
    DeathTypes          = NONE +EXPLODED
    SinkDelay           = 6000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_ColonelBurtonDie
    FlingForce          = 8
    FlingForceVariance  = 3
    FlingPitch          = 60
    FlingPitchVariance  = 10
  End
  Behavior = SlowDeathBehavior ModuleTag_Death04
    DeathTypes          = NONE +BURNED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByFireUSA
    OCL                 = INITIAL OCL_FlamingInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death05
    DeathTypes          = NONE +POISONED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinUSA
    OCL                 = INITIAL OCL_ToxicInfantry
  End
    Behavior = SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
    DeathTypes          = NONE +POISONED_BETA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinUSA
    OCL                 = INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
  End

  Behavior = SlowDeathBehavior ModuleTag_Death07
    DeathTypes          = NONE +POISONED_GAMMA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinUSA
    OCL                 = INITIAL OCL_ToxicInfantryGamma
  End
; --- end Death modules ---

  Behavior = PoisonedBehavior ModuleTag_18
    PoisonDamageInterval = 100  ; Every this many msec I will retake the poison damage dealt me...
    PoisonDuration = 3000       ; ... for this long after last hit by poison damage
  End
 
  Geometry = CYLINDER
  GeometryMajorRadius = 10.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 12.0
  GeometryIsSmall = Yes
  Scale = 0.9
  Shadow = SHADOW_DECAL
  ShadowSizeX = 14
  ShadowSizeY = 14
  ShadowTexture = ShadowI
  BuildCompletion = APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
Object Boss_InfantryRanger

  ; *** ART Parameters ***
  SelectPortrait          = SARanger_L
  ButtonImage            = SARanger
  
  UpgradeCameo1 = Upgrade_AmericaRangerFlashBangGrenade
  UpgradeCameo2 = Upgrade_AmericaAdvancedTraining
  UpgradeCameo3 = Upgrade_InfantryCaptureBuilding
  UpgradeCameo4 = Upgrade_AmericaChemicalSuits
  UpgradeCameo5 = Upgrade_Nationalism
  
  Draw = W3DModelDraw ModuleTag_01

    OkToChangeModelColor = Yes

    ; this says "we don't use these condition states at all, so completely
    ; ignore them for purposes of matchmaking"... this is useful to help
    ; reduce the number of AliasConditionState clauses you must add in
    ; order to avoid ambiguity in some cases.
    IgnoreConditionStates = PREATTACK_A FIRING_A BETWEEN_FIRING_SHOTS_A RELOADING_A

    ; --- Idle
    DefaultConditionState
      Model             = AIRngr_SKN
      IdleAnimation     = AIRngr_SKL.AIRngr_STA 0 35
      IdleAnimation     = AIRngr_SKL.AIRngr_IDA
      IdleAnimation     = AIRngr_SKL.AIRngr_IDB
      AnimationMode     = ONCE
      WeaponFireFXBone  = PRIMARY Muzzle
      WeaponMuzzleFlash = PRIMARY MuzzleFX
      WeaponFireFXBone  = SECONDARY Muzzle
      WeaponLaunchBone  = SECONDARY Muzzle
      WeaponFireFXBone  = TERTIARY Muzzle     
      WeaponLaunchBone  = TERTIARY Muzzle
      WeaponMuzzleFlash = TERTIARY MuzzleFX
      TransitionKey     = TRANS_Stand
    End

    ConditionState      = REALLYDAMAGED
      IdleAnimation     = AIRngr_SKL.AIRngr_STB 0 35
      IdleAnimation     = AIRngr_SKL.AIRngr_IDC
      IdleAnimation     = AIRngr_SKL.AIRngr_IDD
      AnimationMode     = ONCE
      TransitionKey     = TRANS_StandInjured
    End

    TransitionState     = TRANS_Stand TRANS_StandInjured
      Animation         = AIRngr_SKL.AIRngr_SA2SB
      AnimationMode     = ONCE
    End

    ; --- attacking (Machine Gun)
    ConditionState      = USING_WEAPON_A
      Animation         = AIRngr_SKL.AIRngr_ATA
      AnimationMode     = LOOP
      TransitionKey     = TRANS_FiringA
    End

    ConditionState      = USING_WEAPON_A REALLYDAMAGED
      Animation         = AIRngr_SKL.AIRngr_ATA2
      AnimationMode     = LOOP
      TransitionKey     = TRANS_FiringAInjured
    End

    TransitionState     = TRANS_FiringA TRANS_FiringAInjured
      Animation         = AIRngr_SKL.AIRngr_A2WAA
      AnimationMode     = ONCE
    End

    TransitionState     = TRANS_Stand TRANS_FiringA
      Animation         = AIRngr_SKL.AIRngr_ATAST
      AnimationMode     = ONCE
      AnimationSpeedFactorRange = 4 4
    End

    TransitionState     = TRANS_FiringA TRANS_Stand
      Animation         = AIRngr_SKL.AIRngr_ATAED
      AnimationMode     = ONCE
      AnimationSpeedFactorRange = 4 4
    End

    TransitionState     = TRANS_StandInjured TRANS_FiringAInjured
      Animation         = AIRngr_SKL.AIRngr_S2WAA
      AnimationMode     = ONCE
      AnimationSpeedFactorRange = 4 4
    End

    TransitionState     = TRANS_FiringAInjured TRANS_StandInjured
      Animation         = AIRngr_SKL.AIRngr_WAA2S
      AnimationMode     = ONCE
      AnimationSpeedFactorRange = 4 4
    End
    
    TransitionState     = TRANS_Stand TRANS_Move
      Animation         = AIRngr_SKL.AIRngr_STA2RNA
      AnimationMode     = ONCE
    End

    ; --- attacking (Machine Gun)
    ConditionState      = USING_WEAPON_B
      Animation         = AIRngr_SKL.AIRngr_ATA
      AnimationMode     = LOOP
      TransitionKey     = TRANS_FiringA
    End

    ConditionState      = USING_WEAPON_B REALLYDAMAGED
      Animation         = AIRngr_SKL.AIRngr_ATA2
      AnimationMode     = LOOP
      TransitionKey     = TRANS_FiringAInjured
    End

    TransitionState     = TRANS_FiringB TRANS_FiringAInjured
      Animation         = AIRngr_SKL.AIRngr_A2WAA
      AnimationMode     = ONCE
    End

    TransitionState     = TRANS_Stand TRANS_FiringB
      Animation         = AIRngr_SKL.AIRngr_ATAST
      AnimationMode     = ONCE
      AnimationSpeedFactorRange = 4 4
    End

    TransitionState     = TRANS_FiringB TRANS_Stand
      Animation         = AIRngr_SKL.AIRngr_ATAED
      AnimationMode     = ONCE
      AnimationSpeedFactorRange = 4 4
    End

    TransitionState     = TRANS_StandInjured TRANS_FiringBInjured
      Animation         = AIRngr_SKL.AIRngr_S2WAA
      AnimationMode     = ONCE
      AnimationSpeedFactorRange = 4 4
    End

    TransitionState     = TRANS_FiringBInjured TRANS_StandInjured
      Animation         = AIRngr_SKL.AIRngr_WAA2S
      AnimationMode     = ONCE
      AnimationSpeedFactorRange = 4 4
    End
    
    TransitionState     = TRANS_Stand TRANS_Move
      Animation         = AIRngr_SKL.AIRngr_STA2RNA
      AnimationMode     = ONCE
    End
  
    ; --- attacking (Machine Gun)
    ConditionState      = USING_WEAPON_C
      Animation         = AIRngr_SKL.AIRngr_ATA
      AnimationMode     = LOOP
      TransitionKey     = TRANS_FiringA
    End

    ConditionState      = USING_WEAPON_C REALLYDAMAGED
      Animation         = AIRngr_SKL.AIRngr_ATA2
      AnimationMode     = LOOP
      TransitionKey     = TRANS_FiringAInjured
    End

    TransitionState     = TRANS_FiringC TRANS_FiringAInjured
      Animation         = AIRngr_SKL.AIRngr_A2WAA
      AnimationMode     = ONCE
    End

    TransitionState     = TRANS_Stand TRANS_FiringC
      Animation         = AIRngr_SKL.AIRngr_ATAST
      AnimationMode     = ONCE
      AnimationSpeedFactorRange = 4 4
    End

    TransitionState     = TRANS_FiringC TRANS_Stand
      Animation         = AIRngr_SKL.AIRngr_ATAED
      AnimationMode     = ONCE
      AnimationSpeedFactorRange = 4 4
    End

    TransitionState     = TRANS_StandInjured TRANS_FiringCInjured
      Animation         = AIRngr_SKL.AIRngr_S2WAA
      AnimationMode     = ONCE
      AnimationSpeedFactorRange = 4 4
    End

    TransitionState     = TRANS_FiringCInjured TRANS_StandInjured
      Animation         = AIRngr_SKL.AIRngr_WAA2S
      AnimationMode     = ONCE
      AnimationSpeedFactorRange = 4 4
    End
    
    TransitionState     = TRANS_Stand TRANS_Move
      Animation         = AIRngr_SKL.AIRngr_STA2RNA
      AnimationMode     = ONCE
    End

    ; -- cross-attack transitions

    TransitionState     = TRANS_FiringA TRANS_FiringB
      Animation         = AIRngr_SKL.AIRngr_ATA2AB
      AnimationMode     = ONCE
      AnimationSpeedFactorRange = 4 4
    End

    TransitionState     = TRANS_FiringB TRANS_FiringA
      Animation         = AIRngr_SKL.AIRngr_ATA2AB
      AnimationMode     = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 4 4
    End


    ; --- moving
    ConditionState      = MOVING
      Animation         = AIRngr_SKL.AIRngr_RNA 30
      AnimationMode     = LOOP
      Flags             = RANDOMSTART
      TransitionKey     = TRANS_Move
      ParticleSysBone   = None InfantryDustTrails
    End
    AliasConditionState = MOVING ATTACKING

    ConditionState      = MOVING REALLYDAMAGED
      Animation         = AIRngr_SKL.AIRngr_RNB 30
      AnimationMode     = LOOP
      Flags             = RANDOMSTART
      TransitionKey     = TRANS_Move
    End
    AliasConditionState = MOVING REALLYDAMAGED ATTACKING
    
    ; --- dying anims
    ConditionState      = DYING
      Animation         = AIRngr_SKL.AIRngr_DTA
      Animation         = AIRngr_SKL.AIRngr_DTB
      AnimationMode     = ONCE
      TransitionKey     = None
    End

    TransitionState     = TRANS_Dying TRANS_Flailing
      Animation         = AIRngr_SKL.AIRngr_ADTF1
      AnimationMode     = ONCE
    End

    ConditionState      = DYING EXPLODED_FLAILING
      Animation         = AIRngr_SKL.AIRngr_ADTF2
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Flailing
    End

    ConditionState      = DYING EXPLODED_BOUNCING
      Animation         = AIRngr_SKL.AIRngr_ADTF3
      AnimationMode     = ONCE
      TransitionKey     = None
    End
    AliasConditionState = DYING SPLATTED

    ; --- cheering
    ConditionState      = SPECIAL_CHEERING
      Animation         = AIRngr_SKL.AIRngr_CHA
      AnimationMode     = LOOP
    End

    ConditionState      = SPECIAL_CHEERING REALLYDAMAGED
      Animation         = AIRngr_SKL.AIRngr_CHB
      AnimationMode     = LOOP
    End

    ; ----- PARACHUTING ANIMATIONS
    ConditionState      = FREEFALL
      Animation         = AIRngr_SKL.AIRngr_PFL
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Falling
    End
    AliasConditionState = FREEFALL REALLYDAMAGED
    AliasConditionState = FREEFALL DYING
    ConditionState      = PARACHUTING
      Animation         = AIRngr_SKL.AIRngr_PHG
      AnimationMode     = LOOP
      Flags             = PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
      TransitionKey     = TRANS_Chute
    End
    AliasConditionState = PARACHUTING REALLYDAMAGED
    AliasConditionState = PARACHUTING DYING
    TransitionState     = TRANS_Falling TRANS_Chute
      Animation         = AIRngr_SKL.AIRngr_POP
      AnimationMode     = ONCE
      Flags             = PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
    End
    TransitionState     = TRANS_Chute TRANS_Stand
      Animation         = AIRngr_SKL.AIRngr_PTD
      AnimationMode     = ONCE
    End
    TransitionState     = TRANS_Chute TRANS_StandInjured
      Animation         = AIRngr_SKL.AIRngr_PTD
      AnimationMode     = ONCE
    End

    ; ------- Bldg-capture

    ConditionState      = UNPACKING
      Model             = AIRngr_F_SKN
      Animation         = AIRngr_F_SKL.AIRngr_F_FDP1
      AnimationMode     = ONCE
    End
    AliasConditionState = UNPACKING REALLYDAMAGED


    ConditionState      = RAISING_FLAG
      Model             = AIRngr_F_SKN
      Animation         = AIRngr_F_SKL.AIRngr_F_FDP2
      AnimationMode     = ONCE
      TransitionKey     = TRANS_Raising
    End
    AliasConditionState = RAISING_FLAG REALLYDAMAGED

    ConditionState      = PACKING
      Model             = AIRngr_F_SKN
      Animation         = AIRngr_F_SKL.AIRngr_F_FDP1
      AnimationMode     = ONCE_BACKWARDS
      Flags             = START_FRAME_LAST
      TransitionKey     = TRANS_Packing
    End
    AliasConditionState = PACKING REALLYDAMAGED

    TransitionState     = TRANS_Raising TRANS_Packing
      Model             = AIRngr_F_SKN
      Animation         = AIRngr_F_SKL.AIRngr_F_FDP2
      AnimationMode     = ONCE_BACKWARDS
      Flags             = START_FRAME_LAST
    End

    ; --- RAPPELLING ANIMATIONS
    ConditionState      = RAPPELLING
      Animation         = AIRngr_SKL.AIRngr_RPL1 ;30
      AnimationMode     = LOOP
      Flags             = RANDOMSTART
      TransitionKey     = TRANS_Rappelling
    End
    AliasConditionState = MOVING RAPPELLING

    TransitionState     = TRANS_Rappelling TRANS_Stand
      Animation         = AIRngr_SKL.AIRngr_RPL2
      AnimationMode     = ONCE
    End

    TransitionState     = TRANS_Rappelling TRANS_StandInjured
      Animation         = AIRngr_SKL.AIRngr_RPL2
      AnimationMode     = ONCE
    End

  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Ranger
  Side                = Boss
  EditorSorting       = INFANTRY
  TransportSlotCount  = 1                 ;how many "slots" we take in a transport (0 == not transportable)
  
  WeaponSet
    Conditions = None 
    Weapon = PRIMARY RangerAdvancedCombatRifle
    Weapon              = TERTIARY RangerAdvancedCombatRifleTaunt;RangerTauntWeapon
    AutoChooseSources = TERTIARY FROM_SCRIPT FROM_AI
    ShareWeaponReloadTime = Yes
  End
  WeaponSet
    Conditions = PLAYER_UPGRADE 
    Weapon = PRIMARY RangerAdvancedCombatRifle
    Weapon = SECONDARY RangerFlashBangGrenadeWeapon
    AutoChooseSources = PRIMARY FROM_SCRIPT FROM_AI DEFAULT_SWITCH_WEAPON
    AutoChooseSources = SECONDARY FROM_SCRIPT FROM_AI
    WeaponLockSharedAcrossSets = Yes ; This set is so similar to the default set that it can hold the weapon lock
    Weapon              = TERTIARY RangerAdvancedCombatRifleTaunt;RangerTauntWeapon
    AutoChooseSources = TERTIARY FROM_SCRIPT FROM_AI
    ShareWeaponReloadTime = Yes
 End
  ArmorSet
    Conditions      = None
    Armor           = HumanArmor
    DamageFX        = InfantryDamageFX
  End
  ArmorSet
    Conditions            = PLAYER_UPGRADE
    Armor                 = ChemSuitHumanArmor
    DamageFX              = None
  End
  VisionRange = 100
  ShroudClearingRange = 400
  Prerequisites
    Object = Boss_Barracks
  End
  BuildCost = 225
  BuildTime = 5.0          ;in seconds  
  
  ExperienceValue = 20 20 40 60    ;Experience point value at each level
  ExperienceRequired = 0 40 60 120  ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrushableLevel      = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet          = AmericaInfantryRangerCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = RangerVoiceSelect
  VoiceMove = RangerVoiceMove
  VoiceGuard = RangerVoiceMove
  VoiceAttack = RangerVoiceAttack
  VoiceFear = RangerVoiceFear
  VoiceTaskComplete = RangerVoiceCaptureComplete

  UnitSpecificSounds
    VoiceEnter = RangerVoiceMove
    VoiceEnterHostile = RangerVoiceMove
    VoiceGarrison = RangerVoiceGarrison
    VoiceCreate         = RangerVoiceCreate
    VoiceSubdue         = RangerVoiceSubdue
    VoiceClearBuilding  = RangerVoiceClearBuilding
    VoiceGetHealed      = RangerVoiceMove
    VoicePrimaryWeaponMode = RangerVoiceModeGun
    VoiceSecondaryWeaponMode = RangerVoiceModeFlashBang
  End

  UnitSpecificFX
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    CombatDropKillFX = FX_RangerCombatDropKill
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY CAN_RAPPEL SCORE SALVAGER

  Behavior = CommandButtonHuntUpdate ModuleTag_02
  End

  Body = ActiveBody ModuleTag_03
    MaxHealth       = 180.0
    InitialHealth   = 180.0
  End

  Behavior = ExperienceScalarUpgrade ModuleTag_04
    TriggeredBy = Upgrade_AmericaAdvancedTraining
    AddXPScalar = 1.0 ;Increases experience gained by an additional 100%
  End

  Behavior = AutoFindHealingUpdate   ModuleTag_05 ; This update will have the unit go to a healing station if injured. jba 
    ScanRate = 1000 ; once a second.
    ScanRange = 300 ;
    NeverHeal = 0.85 ;  don't heal if we are > 85% healthy.
    AlwaysHeal = 0.25 ; if we get below 25%, find healing right away.
  End

  Behavior = HordeUpdate ModuleTag_0478
    UpdateRate = 1000    ; how often to recheck horde status (msec)
    RubOffRadius = 60    ; if I am this close to a real hordesman, I will get to be an honorary hordesman
    Radius = 30          ; how close other units must be to us to count towards our horde-ness (~30 feet or so)
    KindOf = INFANTRY    ; what KindOf's must match to count towards horde-ness
    AlliesOnly = Yes     ; do we only count allies towards horde status? 
    ExactMatch = No      ; do we only count units of our exact same type towards horde status? (overrides kindof)
    Count = 5            ; how many units must be within Radius to grant us horde-ness
    Action = HORDE       ; when horde-ing, grant us the HORDE bonus
  End

  Behavior = AIUpdateInterface ModuleTag_06
    AutoAcquireEnemiesWhenIdle = Yes
  End
  Locomotor = SET_NORMAL BasicHumanLocomotor

  Behavior = PhysicsBehavior ModuleTag_07
    Mass = 5.0
  End

  Behavior = ProductionUpdate ModuleTag_08
    ; nothing
  End

  Behavior = CommandButtonHuntUpdate  ModuleTag_09 ; allows use of command button hunt script with this unit. 
  End

  Behavior = WeaponSetUpgrade ModuleTag_10
    TriggeredBy = Upgrade_AmericaRangerFlashBangGrenade
  End
  

; --- begin Death modules ---
  Behavior = SlowDeathBehavior ModuleTag_Death01
    DeathTypes          = ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA
    SinkDelay           = 6000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_RangerDie
  End
  Behavior = SlowDeathBehavior ModuleTag_Death02
    DeathTypes          = NONE +CRUSHED +SPLATTED
    SinkDelay           = 6000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_GIDieCrushed
  End
  Behavior = SlowDeathBehavior ModuleTag_Death03
    DeathTypes          = NONE +EXPLODED
    SinkDelay           = 6000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_RangerDie
    FlingForce          = 8
    FlingForceVariance  = 3
    FlingPitch          = 60
    FlingPitchVariance  = 10
  End
  Behavior = SlowDeathBehavior ModuleTag_Death04
    DeathTypes          = NONE +BURNED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByFireUSA
    OCL                 = INITIAL OCL_FlamingInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death05
    DeathTypes          = NONE +POISONED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinUSA
    OCL                 = INITIAL OCL_ToxicInfantry
  End
  
  Behavior = SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
    DeathTypes          = NONE +POISONED_BETA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinUSA
    OCL                 = INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
  End

  Behavior = SlowDeathBehavior ModuleTag_Death07
    DeathTypes          = NONE +POISONED_GAMMA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinUSA
    OCL                 = INITIAL OCL_ToxicInfantryGamma
  End
; --- end Death modules ---

  Behavior = SquishCollide ModuleTag_12
    ;nothing
  End
  Behavior                = ArmorUpgrade ModuleTag_Armor01
    TriggeredBy           = Upgrade_AmericaChemicalSuits
  End

  Behavior = PoisonedBehavior ModuleTag_17
    PoisonDamageInterval = 100  ; Every this many msec I will retake the poison damage dealt me...
    PoisonDuration = 3000       ; ... for this long after last hit by poison damage
  End
 
  Behavior = SpecialAbility ModuleTag_18
    SpecialPowerTemplate      = SpecialAbilityRangerCaptureBuilding
    UpdateModuleStartsAttack  = Yes
    StartsPaused              = Yes ; Unpaused by upgrade module
    InitiateSound         = RangerVoiceCapture
  End
  Behavior = SpecialAbilityUpdate ModuleTag_19
    SpecialPowerTemplate  = SpecialAbilityRangerCaptureBuilding
    StartAbilityRange  = 5.0
    UnpackTime            = 3000  ; (changing this will scale anim speed)
    PreparationTime       = 20000 ; time to complete hack once prepared (changing this will scale anim speed)
    PackTime              = 2000  ; (changing this will scale anim speed)
    DoCaptureFX           = Yes
    AwardXPForTriggering  = 15
    ;SkillPointsForTriggering = ???  -- Dustin, fill me out if you want different balance values.
  End

  Behavior = UnpauseSpecialPowerUpgrade ModuleTag_20
    SpecialPowerTemplate = SpecialAbilityRangerCaptureBuilding
    TriggeredBy = Upgrade_InfantryCaptureBuilding
  End

  Behavior = LockWeaponCreate ModuleTag_21
    SlotToLock = PRIMARY ; Prevents indeterminate state plus two unpickable weapons equaling no attack.
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 7.0
  GeometryMinorRadius = 7.0
  GeometryHeight = 13.0

  Scale = 0.9
  GeometryIsSmall = Yes
  Shadow = SHADOW_DECAL
  ShadowSizeX = 14;
  ShadowSizeY = 14;
  ShadowTexture = ShadowI;
  BuildCompletion = APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
Object Boss_InfantryPathfinder

    ; *** ART Parameters ***
  SelectPortrait         = ChinaSniper
  ButtonImage            = ChinaSniper
    
  UpgradeCameo1 = Upgrade_AmericaAdvancedTraining
  UpgradeCameo2 = Upgrade_AmericaChemicalSuits

 Draw = W3DModelDraw ModuleTag_01

    OkToChangeModelColor = Yes

    DefaultConditionState
      Model = SNIPER_SKN
      IdleAnimation = AIPFDR_SKL.AIPFDR_STA 
      IdleAnimation = AIPFDR_SKL.AIPFDR_IDA
      AnimationMode = ONCE
      WeaponFireFXBone = PRIMARY Muzzle
      WeaponMuzzleFlash = PRIMARY MuzzleFX
      TransitionKey = TRANS_Standing
    End
    AliasConditionState = REALLYDAMAGED

    ConditionState = MOVING
      Animation = AIPFDR_SKL.AIPFDR_RNA 25
      AnimationMode = LOOP
      Flags = RANDOMSTART
      TransitionKey = TRANS_Standing
      ParticleSysBone   = None InfantryDustTrails
    End
    AliasConditionState = MOVING REALLYDAMAGED

    ConditionState  = FIRING_A 
      Animation     = AIPFDR_SKL.AIPFDR_ATB                 ; recoil in standing position
      AnimationMode = ONCE
      TransitionKey = TRANS_FiringA
    End
    AliasConditionState = FIRING_A MOVING
    AliasConditionState = FIRING_A MOVING REALLYDAMAGED
    AliasConditionState = FIRING_A REALLYDAMAGED

    ConditionState  = BETWEEN_FIRING_SHOTS_A
      Animation     = AIPFDR_SKL.AIPFDR_ATBST               ; motionless in standing position
      AnimationMode = ONCE
      WaitForStateToFinishIfPossible = TRANS_FiringA
    End
    AliasConditionState = BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
    AliasConditionState = RELOADING_A
    AliasConditionState = RELOADING_A REALLYDAMAGED

    ConditionState = DYING
      Animation = AIPFDR_SKL.AIPFDR_DTA
      AnimationMode = ONCE
      TransitionKey = TRANS_Dying
    End
    
    TransitionState = TRANS_Dying TRANS_Flailing
      Animation = AIPFDR_SKL.AIPFDR_ADTA1
      AnimationMode = ONCE
    End

    ConditionState = DYING EXPLODED_FLAILING
      Animation = AIPFDR_SKL.AIPFDR_ADTA2
      AnimationMode = LOOP
      TransitionKey = TRANS_Flailing
    End

    ConditionState = DYING EXPLODED_BOUNCING
      Animation = AIPFDR_SKL.AIPFDR_ADTA3
      AnimationMode = ONCE
      TransitionKey = None
    End

    ConditionState = FREEFALL
      Animation = AIPFDR_SKL.AIPFDR_PFL
      AnimationMode = LOOP
      TransitionKey = TRANS_Falling
    End
    AliasConditionState = FREEFALL DYING

    ConditionState = PARACHUTING
      Animation = AIPFDR_SKL.AIPFDR_PHG
      AnimationMode = LOOP
      Flags = PRISTINE_BONE_POS_IN_FINAL_FRAME  
      ;our bone positions should come from the last frame, rather than the first
      TransitionKey = TRANS_Chute
    End
    AliasConditionState = PARACHUTING DYING


    TransitionState = TRANS_Falling TRANS_Chute
      Animation = AIPFDR_SKL.AIPFDR_POP
      AnimationMode = ONCE
      Flags = PRISTINE_BONE_POS_IN_FINAL_FRAME  
      ;our bone positions should come from the last frame, rather than the first
    End

    TransitionState = TRANS_Chute TRANS_Standing
      Animation = AIPFDR_SKL.AIPFDR_PTD
      AnimationMode = ONCE
    End
  End

  
  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Sniper
  Side = Boss
  EditorSorting = INFANTRY
  TransportSlotCount = 1                 ;how many "slots" we take in a transport (0 == not transportable)
  
  WeaponSet
    Conditions = None 
    Weapon = PRIMARY ChinaSniperRifle
  End
  ArmorSet
    Conditions      = None
    Armor           = HumanArmor
    DamageFX        = InfantryDamageFX
  End
  ArmorSet
    Conditions      = PLAYER_UPGRADE
    Armor           = ChemSuitHumanArmor
    DamageFX        = InfantryDamageFX
  End
  VisionRange = 300
  ShroudClearingRange = 400
  ;Prerequisites
  ;  Science = SCIENCE_PathfinderBoss
  ;End
  BuildCost = 25
  BuildTime = 10.0          ;in seconds  
  
  ExperienceValue = 40 40 60 80    ;Experience point value at each level
  ExperienceRequired = 0 50 100 200  ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrushableLevel      = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet      = GenericCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = RedGuardVoiceSelect
  VoiceMove = RedGuardVoiceMove
  VoiceGuard = RedGuardVoiceMove
  VoiceAttack = RedGuardVoiceAttack
  VoiceGroupSelect = BattleCrySound
  VoiceFear = RedGuardVoiceFear
  VoiceTaskComplete = RedGuardVoiceCaptureComplete
  UnitSpecificSounds
    VoiceMelee      = RedGuardVoiceAttackBayonet
    VoiceGarrison   = RedGuardVoiceGarrison
    VoiceCreate     = RedGuardVoiceCreate
    VoiceSubdue     = RedGuardVoiceSubdue
    VoiceEnter      = RedGuardVoiceMove
    VoiceEnterHostile = RedGuardVoiceMove
    VoiceGetHealed      = RedGuardVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY STEALTH_GARRISON SCORE CANNOT_RETALIATE SALVAGER

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 90.0
    InitialHealth   = 90.0
  End
  Behavior = HordeUpdate ModuleTag_0478
    UpdateRate = 1000    ; how often to recheck horde status (msec)
    RubOffRadius = 60    ; if I am this close to a real hordesman, I will get to be an honorary hordesman
    Radius = 30          ; how close other units must be to us to count towards our horde-ness (~30 feet or so)
    KindOf = INFANTRY    ; what KindOf's must match to count towards horde-ness
    AlliesOnly = Yes     ; do we only count allies towards horde status? 
    ExactMatch = No      ; do we only count units of our exact same type towards horde status? (overrides kindof)
    Count = 5            ; how many units must be within Radius to grant us horde-ness
    Action = HORDE       ; when horde-ing, grant us the HORDE bonus
  End

  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle = Yes Stealthed
    MoodAttackCheckRate        = 250
  End

  Behavior = AutoFindHealingUpdate   ModuleTag_04 ; This update will have the unit go to a healing station if injured. jba 
    ScanRate = 1000 ; once a second.
    ScanRange = 300 ;
    NeverHeal = 0.85 ;  don't heal if we are > 85% healthy.
    AlwaysHeal = 0.25 ; if we get below 25%, find healing right away.
  End

  Locomotor = SET_NORMAL ColonelBurtonGroundLocomotor

  Behavior = ExperienceScalarUpgrade ModuleTag_05
    TriggeredBy = Upgrade_AmericaAdvancedTraining
    AddXPScalar = 1.0 ;Increases experience gained by an additional 100%
  End

  Behavior = PhysicsBehavior ModuleTag_06
    Mass = 5.0
  End
  Behavior = StealthDetectorUpdate ModuleTag_08
    DetectionRate   = 500   ; how often to rescan for stealthed things in my sight (msec)
    ;DetectionRange = ??? ;Dustin, enable this for independant balancing!
    CanDetectWhileGarrisoned  = No ;Garrisoned means being in a structure that you units can shoot out of.
    CanDetectWhileContained   = No ;Contained means being in a transport or tunnel network.
  End
  Behavior = StealthUpdate ModuleTag_09
    StealthDelay                = 1250           ; msec
    StealthForbiddenConditions  = MOVING ; stays stealthy while attacking
    FriendlyOpacityMin          = 30.0%
    FriendlyOpacityMax          = 80.0%
    PulseFrequency              = 500   ; msec
    MoveThresholdSpeed          = 3
    InnateStealth               = Yes
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
  End
 
  Behavior = SquishCollide ModuleTag_10
    ;nothing
  End


; --- begin Death modules ---
  Behavior = SlowDeathBehavior ModuleTag_Death01
    DeathTypes          = ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA 
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_PathfinderDie
  End
  Behavior = SlowDeathBehavior ModuleTag_Death02
    DeathTypes          = NONE +CRUSHED +SPLATTED
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_GIDieCrushed
  End
  Behavior = SlowDeathBehavior ModuleTag_Death03
    DeathTypes          = NONE +EXPLODED
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_PathfinderDie
    FlingForce          = 8
    FlingForceVariance  = 3
    FlingPitch          = 60
    FlingPitchVariance  = 10
  End
  Behavior = SlowDeathBehavior ModuleTag_Death04
    DeathTypes          = NONE +BURNED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByFireChina
    OCL                 = INITIAL OCL_FlamingInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death05
    DeathTypes          = NONE +POISONED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinChina
    OCL                 = INITIAL OCL_ToxicInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
    DeathTypes          = NONE +POISONED_BETA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinChina
    OCL                 = INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
  End

  Behavior = SlowDeathBehavior ModuleTag_Death07
    DeathTypes          = NONE +POISONED_GAMMA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinChina
    OCL                 = INITIAL OCL_ToxicInfantryGamma
  End
; --- end Death modules ---

  Behavior = PoisonedBehavior ModuleTag_13
    PoisonDamageInterval = 100  ; Every this many msec I will retake the poison damage dealt me...
    PoisonDuration = 3000       ; ... for this long after last hit by poison damage
  End

  Behavior = CommandButtonHuntUpdate  ModuleTag_CBHunt ; allows use of command button hunt script with this unit. 
  End

  Behavior                = ArmorUpgrade ModuleTag_Armor01
    TriggeredBy           = Upgrade_AmericaChemicalSuits
  End

  Behavior = ExperienceScalarUpgrade ModuleTag_120
    TriggeredBy   = Upgrade_AmericaAdvancedTraining
    AddXPScalar   = 1.0 ;Increases experience gained by an additional 100%
  End

  Geometry = CYLINDER
  Scale = 0.95
  GeometryMajorRadius = 10.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 12.0
  GeometryIsSmall = Yes
  Shadow = SHADOW_DECAL
  ShadowSizeX = 14;
  ShadowSizeY = 14;
  ShadowTexture = ShadowI;
  BuildCompletion = APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
Object Boss_InfantryBlackLotus

  ; *** ART Parameters ***
  SelectPortrait         = BossLotus
  ButtonImage            = BossLotus

  UpgradeCameo1 = Upgrade_AmericaChemicalSuits
  UpgradeCameo2 = Upgrade_AmericaAdvancedTraining
  
  
  Draw = W3DModelDraw ModuleTag_01

    OkToChangeModelColor = Yes
    
    ; --- idle
    DefaultConditionState
      Model             = NIHERO_SKN
      IdleAnimation     = NIHERO_SKL.NIHERO_STA 0 17
      IdleAnimation     = NIHERO_SKL.NIHero_IDA
      IdleAnimation     = NIHERO_SKL.NIHero_IDB
      AnimationMode     = ONCE
      TransitionKey     = TRANS_Stand
    End

    ConditionState      = REALLYDAMAGED
      IdleAnimation     = NIHERO_SKL.NIHERO_ISTA 0 30
      IdleAnimation     = NIHERO_SKL.NIHero_IIDA
      AnimationMode     = ONCE
      TransitionKey     = TRANS_StandInjured
    End

    TransitionState     = TRANS_Stand TRANS_StandInjured
      Animation         = NIHero_SKL.NIHero_ISTAHIT
      AnimationMode     = ONCE
    End

    ; --- moving
    ConditionState      = MOVING
      Animation         = NIHero_SKL.NIHero_RNA
      AnimationMode     = LOOP
      Flags             = RANDOMSTART
      TransitionKey     = None
      ParticleSysBone   = None InfantryDustTrails
    End
    AliasConditionState = MOVING UNPACKING

    ConditionState      = MOVING REALLYDAMAGED
      Animation         = NIHero_SKL.NIHero_IRNA
      AnimationMode     = LOOP
      Flags             = RANDOMSTART
      TransitionKey     = None
      ParticleSysBone   = None InfantryDustTrails
    End
    AliasConditionState = MOVING UNPACKING REALLYDAMAGED

    ; --- packing states
    ConditionState      = UNPACKING
      ;Preparing to attack (unpacking gear)
      Animation         = NIHero_SKL.NIHero_ATA1
      AnimationMode     = ONCE
    End
    AliasConditionState = UNPACKING FIRING_A

    ConditionState      = FIRING_A
      ;Processing attack (hacking)
      Animation         = NIHero_SKL.NIHero_ATA2
      AnimationMode     = LOOP
      TransitionKey     = TRANS_FiringA
    End

    ConditionState      = PACKING
      ;Completing attack (packing gear)
      Animation         = NIHero_SKL.NIHero_ATA3
      AnimationMode     = ONCE
    End
    AliasConditionState = FIRING_A PACKING 

    TransitionState     = TRANS_FiringA TRANS_FiringAInjured
      Animation         = NIHero_SKL.NIHero_IATAHIT
      AnimationMode     = ONCE
    End

    ; --- injured-packing states
    ConditionState      = UNPACKING REALLYDAMAGED
      ;Preparing to attack (unpacking gear)
      Animation         = NIHero_SKL.NIHero_IATA1
      AnimationMode     = ONCE
    End
    AliasConditionState = UNPACKING FIRING_A REALLYDAMAGED

    ConditionState      = FIRING_A REALLYDAMAGED
      ;Processing attack (hacking)
      Animation         = NIHero_SKL.NIHero_IATA2
      AnimationMode     = LOOP
      TransitionKey     = TRANS_FiringAInjured
    End

    ConditionState      = PACKING REALLYDAMAGED
      ;Completing attack (packing gear)
      Animation         = NIHero_SKL.NIHero_IATA3
      AnimationMode     = ONCE
    End
    AliasConditionState = FIRING_A PACKING REALLYDAMAGED

    ; --- packing-dying states
; code doesn't really support this. Oh well.
;    ConditionState      = DYING RAISING_FLAG
;      Animation         = NIHero_SKL.NIHero_IDTA
;      Animation         = NIHero_SKL.NIHero_IDTB
;      AnimationMode     = ONCE
;    End
;    AliasConditionState = DYING RAISING_FLAG EXPLODED_FLAILING EXPLODED_BOUNCING

    ; --- normal-dying states
    ConditionState      = DYING
      Animation         = NIHero_SKL.NIHero_DTA
      Animation         = NIHero_SKL.NIHero_DTB
      AnimationMode     = ONCE
      TransitionKey     = TRANS_Dying
    End

    TransitionState     = TRANS_Dying TRANS_Flailing
      Animation         = NIHero_SKL.NIHero_ADTF1
      AnimationMode     = ONCE
    End

    ConditionState      = DYING EXPLODED_FLAILING
      Animation         = NIHero_SKL.NIHero_ADTF2
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Flailing
    End

    ConditionState      = DYING EXPLODED_BOUNCING
      Animation         = NIHero_SKL.NIHero_ADTF3
      AnimationMode     = ONCE
      TransitionKey     = None
    End

    ; --- cheering states
    ConditionState      = SPECIAL_CHEERING
      Animation         = NIHERO_SKL.NIHERO_CHA
      AnimationMode     = ONCE
    End

    ConditionState      = SPECIAL_CHEERING REALLYDAMAGED
      Animation         = NIHERO_SKL.NIHERO_ICHA
      AnimationMode     = ONCE
    End

    ; --- falling states
    ConditionState      = FREEFALL
      Animation         = NIHero_SKL.NIHero_PFL
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Falling
    End
    AliasConditionState = FREEFALL REALLYDAMAGED
    AliasConditionState = FREEFALL DYING

    ConditionState      = PARACHUTING
      Animation         = NIHero_SKL.NIHero_PHG
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Chute
    End
    AliasConditionState = PARACHUTING REALLYDAMAGED
    AliasConditionState = PARACHUTING DYING

    TransitionState     = TRANS_Falling TRANS_Chute
      Animation         = NIHero_SKL.NIHero_POP
      AnimationMode     = ONCE
      Flags             = PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
    End

    TransitionState     = TRANS_Chute TRANS_Stand
      Animation         = NIHero_SKL.NIHero_PTD
      AnimationMode     = ONCE
    End

    TransitionState     = TRANS_Chute TRANS_StandInjured
      Animation         = NIHero_SKL.NIHero_PTD
      AnimationMode     = ONCE
    End

  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:BlackLotus
  Side                = Boss
  EditorSorting       = INFANTRY
  TransportSlotCount  = 1                 ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions        = None 
    Weapon            = PRIMARY None
  End
  ArmorSet
    Conditions      = None
    Armor           = HumanArmor
    DamageFX        = InfantryDamageFX
  End
  ArmorSet
    Conditions      = PLAYER_UPGRADE
    Armor           = ChemSuitHumanArmor
    DamageFX        = InfantryDamageFX
  End

  VisionRange         = 300
  ShroudClearingRange = 400
  Prerequisites
    Object = Boss_Barracks
    Object = Boss_TechCentr
  End
  BuildCost             = 2000
  BuildTime             = 20.0          ;in seconds    
  MaxSimultaneousOfType = 1
  CommandSet            = ChinaInfantryBlackLotusCommandSet

  ExperienceValue       = 50 100 150 400    ;Experience point value at each level
  ExperienceRequired    = 0 150 450 900  ;Experience points needed to gain each level
  IsTrainable           = Yes             ;Can gain experience
  CrushableLevel        = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet            = ChinaInfantryBlackLotusCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = BlackLotusVoiceSelect
  VoiceMove = BlackLotusVoiceMove
  VoiceAttack = NoSound
  VoiceGuard = BlackLotusVoiceMove
  VoiceFear = BlackLotusVoiceFear
  VoiceTaskComplete = BlackLotusVoiceCaptureComplete
  SoundStealthOn = StealthOn
  SoundStealthOff = StealthOff
  
  UnitSpecificSounds
    VoiceCreate          = BlackLotusVoiceCreate
    VoiceGarrison = BlackLotusVoiceMove
    VoiceEnter = BlackLotusVoiceMove
    VoiceEnterHostile = BlackLotusVoiceMove
    VoiceStealCashComplete = BlackLotusVoiceCashComplete
    VoiceDisableVehicleComplete = BlackLotusVoiceDisableComplete
    VoiceCaptureBuildingComplete = BlackLotusVoiceCaptureComplete
    VoiceGetHealed      = BlackLotusVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS INFANTRY SCORE HERO CANNOT_RETALIATE SALVAGER

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 150.0
    InitialHealth   = 150.0
  End

  Behavior                = ArmorUpgrade ModuleTag_Armor01
    TriggeredBy           = Upgrade_AmericaChemicalSuits
  End

  Behavior = CommandButtonHuntUpdate  ModuleTag_03 ; allows use of command button hunt script with this unit. 
  End

  Behavior = AIUpdateInterface ModuleTag_04
    AutoAcquireEnemiesWhenIdle = No
  End
  Locomotor = SET_NORMAL BlackLotusLocomotor
  Locomotor = SET_FREEFALL FreeFallLocomotor
  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 5.0
  End
  Behavior = StealthUpdate ModuleTag_07
    StealthDelay                = 2500 ; msec
    StealthForbiddenConditions  = USING_ABILITY
    HintDetectableConditions    = USING_ABILITY
    InnateStealth               = Yes
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
    EnemyDetectionEvaEvent      = EnemyBlackLotusDetected
    OwnDetectionEvaEvent        = OwnBlackLotusDetected
  End

  Behavior = StealthDetectorUpdate ModuleTag_44
    DetectionRate   = 500   ; how often to rescan for stealthed things in my sight (msec)
    ;DetectionRange = ??? ;Dustin, enable this for independant balancing!
    CanDetectWhileGarrisoned  = No ;Garrisoned means being in a structure that you units can shoot out of.
    CanDetectWhileContained   = No ;Contained means being in a transport or tunnel network.
  End

  Behavior = SpecialAbility ModuleTag_08
    SpecialPowerTemplate = SpecialAbilityBlackLotusCaptureBuilding
    UpdateModuleStartsAttack = Yes
    InitiateSound         = BlackLotusVoiceHackBuilding
  End
  Behavior = SpecialAbilityUpdate ModuleTag_09
    SpecialPowerTemplate  = SpecialAbilityBlackLotusCaptureBuilding
    StartAbilityRange     = 150.0
    UnpackTime            = 6730 ;animation time is 6730 (changing this will scale anim speed)
    PackTime              = 2800 ;animation time is 5800 (changing this will scale anim speed)
    PreparationTime       = 6000 ;time to complete hack once prepared (unpacked)
    SpecialObject         = BinaryDataStream
    DoCaptureFX           = Yes
    PackSound             = BlackLotusPack
    UnpackSound           = BlackLotusUnpack
    TriggerSound          = BlackLotusTrigger
    PrepSoundLoop         = BlackLotusPrepLoop
    AwardXPForTriggering  = 20
    ;SkillPointsForTriggering = ???  -- Dustin, fill me out if you want different balance values.
  End
  Behavior = SpecialAbility ModuleTag_10
    SpecialPowerTemplate      = SpecialAbilityBlackLotusDisableVehicleHack
    UpdateModuleStartsAttack  = Yes
    InitiateSound           = BlackLotusVoiceHackVehicle
  End
  Behavior = SpecialAbilityUpdate ModuleTag_11
    SpecialPowerTemplate    = SpecialAbilityBlackLotusDisableVehicleHack
    StartAbilityRange       = 150.0
    UnpackTime              = 2000 ;6730 ;animation time is 6730 (changing this will scale anim speed)
    PackTime                = 1000 ;2800 ;animation time is 5800 (changing this will scale anim speed)
    PreparationTime         = 2000 ;time to complete hack once prepared (unpacked)
    EffectDuration          = 15000 ;duration vehicle is disabled  (30 seconds)
    DisableFXParticleSystem = DisabledEffectBinaryShower0
    SpecialObject           = BinaryDataStream
    PackSound               = BlackLotusPack
    UnpackSound             = BlackLotusUnpack
    TriggerSound            = BlackLotusTrigger
    PrepSoundLoop           = BlackLotusPrepLoop
    AwardXPForTriggering    = 0
    ;SkillPointsForTriggering = ???  -- Dustin, fill me out if you want different balance values.
  End
  Behavior = SpecialAbility ModuleTag_12
    SpecialPowerTemplate      = SpecialAbilityBlackLotusStealCashHack
    UpdateModuleStartsAttack  = Yes
    InitiateSound         = BlackLotusVoiceHackCash
  End
  Behavior = SpecialAbilityUpdate ModuleTag_13
    SpecialPowerTemplate  = SpecialAbilityBlackLotusStealCashHack
    StartAbilityRange     = 150.0
    UnpackTime            = 6730 ;animation time is 6730 (changing this will scale anim speed)
    PackTime              = 5800 ;animation time is 5800 (changing this will scale anim speed)
    PreparationTime       = 6000 ;time to complete hack once prepared (unpacked)
    EffectValue           = 1000 ;amount of cash stolen
    SpecialObject         = BinaryDataStream
    PackSound             = BlackLotusPack
    UnpackSound           = BlackLotusUnpack
    TriggerSound          = BlackLotusTrigger
    PrepSoundLoop         = BlackLotusPrepLoop
    AwardXPForTriggering  = 20
    ;SkillPointsForTriggering = ???  -- Dustin, fill me out if you want different balance values.
  End
 
  ;Hero units can't be squished!
  ;Behavior = SquishCollide ModuleTag_14
  ;  ;nothing
  ;End

  Behavior = ExperienceScalarUpgrade ModuleTag_1000
    TriggeredBy = Upgrade_AmericaAdvancedTraining
    AddXPScalar = 1.0 ;Increases experience gained by an additional 100%
  End


; --- begin Death modules ---
  Behavior = SlowDeathBehavior ModuleTag_Death01
    DeathTypes          = ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA
    SinkDelay           = 6000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_BlackLotusDie
  End
  Behavior = SlowDeathBehavior ModuleTag_Death02
    DeathTypes          = NONE +CRUSHED +SPLATTED
    SinkDelay           = 6000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_GIDieCrushed
  End
  Behavior = SlowDeathBehavior ModuleTag_Death03
    DeathTypes          = NONE +EXPLODED
    SinkDelay           = 6000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_BlackLotusDie
    FlingForce          = 8
    FlingForceVariance  = 3
    FlingPitch          = 60
    FlingPitchVariance  = 10
  End
  Behavior = SlowDeathBehavior ModuleTag_Death04
    DeathTypes          = NONE +BURNED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByFireFemale
    OCL                 = INITIAL OCL_FlamingInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death05
    DeathTypes          = NONE +POISONED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinFemale
    OCL                 = INITIAL OCL_ToxicInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
    DeathTypes          = NONE +POISONED_BETA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinFemale
    OCL                 = INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
  End

  Behavior = SlowDeathBehavior ModuleTag_Death07
    DeathTypes          = NONE +POISONED_GAMMA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinFemale
    OCL                 = INITIAL OCL_ToxicInfantryGamma
  End
; --- end Death modules ---

  Behavior = PoisonedBehavior ModuleTag_17
    PoisonDamageInterval  = 100  ; Every this many msec I will retake the poison damage dealt me...
    PoisonDuration        = 3000       ; ... for this long after last hit by poison damage
  End

  Behavior = SpecialAbility ModuleTag_Mine1
    SpecialPowerTemplate = SpecialAbilityNeutronIED
    UpdateModuleStartsAttack = Yes
    StartsPaused = No
    InitiateSound = BlackLotusVoiceModeMine
  End
  Behavior = SpecialAbilityUpdate ModuleTag_Mine2
    SpecialPowerTemplate = SpecialAbilityNeutronIED
    StartAbilityRange = 3.0
    PreparationTime = 0
    SpecialObject = AgentNeutronIED
    MaxSpecialObjects = 30
    SpecialObjectsPersistWhenOwnerDies = Yes
    SpecialObjectsPersistent = Yes  ;Charges are persistent till lifetime expires or owner detonates them.
    UniqueSpecialObjectTargets = No ;This would prevent multiple charges placed on the same object.
    UnpackTime              = 1500  ;slight delay to drop bomb
    PackTime                = 1000
    UnpackSound             = BlackLotusUnpack
    PackSound               = BoobyTrapInstall
    FlipOwnerAfterUnpacking = No
    FleeRangeAfterCompletion = 100.0
    LoseStealthOnTrigger     = No
    ApproachRequiresLOS      = No ; we are a helicopter, we can see everything
    NeedToFaceTarget         = No ; can drop the bomb at any angle to target
    ;PersistentPrepTime        = 100
    ;PersistenceRequiresRecharge = Yes
  End
 
  Geometry = CYLINDER
  GeometryMajorRadius = 10.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 12.0
  GeometryIsSmall = Yes
  Scale = 0.9
  Shadow = SHADOW_DECAL
  ShadowSizeX = 14;
  ShadowSizeY = 14;
  ShadowTexture = ShadowI;
  BuildCompletion = APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
Object Boss_InfantryTankHunter

  ; *** ART Parameters ***
  SelectPortrait         = SNTankHunter_L
  ButtonImage            = SNTankHunter
  
  UpgradeCameo1 = Upgrade_Nationalism
  UpgradeCameo2 = Upgrade_AmericaAdvancedTraining
  UpgradeCameo3 = Upgrade_AmericaChemicalSuits

  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes
  
  
    DefaultConditionState
      Model             = NIMSST_SKN
      IdleAnimation     = NIMSST_SKL.NIMSST_STA 0 30
      IdleAnimation     = NIMSST_SKL.NIMSST_IDA
      IdleAnimation     = NIMSST_SKL.NIMSST_IDB
      AnimationMode     = ONCE
      AnimationSpeedFactorRange = 0.8 1.2
      TransitionKey     = TRANS_Stand
      WeaponMuzzleFlash = PRIMARY MuzzleFX
      WeaponFireFXBone  = PRIMARY Muzzle
      WeaponLaunchBone  = PRIMARY Muzzle
      WeaponLaunchBone  = SECONDARY Muzzle
    End
    AliasConditionState = REALLYDAMAGED

    ConditionState      = FIRING_A 
      Animation         = NIMSST_SKL.NIMSST_ATA 
      AnimationMode     = ONCE
      TransitionKey     = TRANS_START_FIRING
    End
    AliasConditionState = REALLYDAMAGED FIRING_A
    
    ConditionState      = BETWEEN_FIRING_SHOTS_A
      Animation         = NIMSST_SKL.NIMSST_STA
      AnimationMode     = ONCE
      ; this is basically a trick: this guy has a nontrivial animation for firing,
      ; and a long recycle time between shots. we want him to finish his fire animation
      ; (unless he's ordered to do something else), so this is just a handy trick that
      ; says, "if the previous state had this transition key, allow it to finish before
      ; switching to us, if possible".
      WaitForStateToFinishIfPossible = TRANS_START_FIRING
    End
    AliasConditionState = REALLYDAMAGED BETWEEN_FIRING_SHOTS_A

    ConditionState      = MOVING
      Animation         = NIMSST_SKL.NIMSST_RNA 20
      AnimationMode     = LOOP
      Flags             = RANDOMSTART
      TransitionKey     = None
      ParticleSysBone   = None InfantryDustTrails
    End
    AliasConditionState = REALLYDAMAGED MOVING
    AliasConditionState = MOVING ATTACKING
    AliasConditionState = MOVING ATTACKING REALLYDAMAGED

    ConditionState      = RELOADING_A
      Animation         = NIMSST_SKL.NIMSST_ATA 10
      AnimationMode     = ONCE
      ;WeaponLaunchBone = PRIMARY WeaponA
    End
    AliasConditionState = MOVING RELOADING_A
    AliasConditionState = REALLYDAMAGED MOVING RELOADING_A

    ConditionState      = DYING
      Animation         = NIMSST_SKL.NIMSST_DTA
      Animation         = NIMSST_SKL.NIMSST_DTB
      AnimationSpeedFactorRange = 0.9 1.25
      AnimationMode     = ONCE
      TransitionKey     = TRANS_Dying
    End
    AliasConditionState = DYING RUBBLE

    TransitionState     = TRANS_Dying TRANS_Flailing
      Animation         = NIMSST_SKL.NIMSST_ADTD1
      AnimationMode     = ONCE
    End

    ConditionState      = DYING EXPLODED_FLAILING
      Animation         = NIMSST_SKL.NIMSST_ADTD2
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Flailing
    End

    ConditionState      = DYING EXPLODED_BOUNCING
      Animation         = NIMSST_SKL.NIMSST_ADTD3
      AnimationMode     = ONCE
      TransitionKey     = None
    End

    ;PARACHUTING ANIMATIONS
    ConditionState      = FREEFALL
      Animation         = NIMSST_SKL.NIMSST_POP
      AnimationMode     = ONCE
      TransitionKey     = TRANS_Falling
    End
    AliasConditionState = FREEFALL REALLYDAMAGED
    AliasConditionState = FREEFALL DYING
    
    ConditionState      = PARACHUTING
      Animation         = NIMSST_SKL.NIMSST_PHG
      AnimationMode     = LOOP
      Flags             = PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
      TransitionKey     = TRANS_Chute
    End
    AliasConditionState = PARACHUTING REALLYDAMAGED
    AliasConditionState = PARACHUTING DYING
    
   ; TransitionState     = TRANS_Falling TRANS_Chute
   ;   Animation         = NIMSST_SKL.NIMSST_POP
   ;   AnimationMode     = ONCE
   ;   Flags             = PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
   ; End
    
    TransitionState     = TRANS_Chute TRANS_Stand
      Animation         = NIMSST_SKL.NIMSST_PDN
      AnimationMode     = ONCE
    End

  End


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:TankHunter
  Side = Boss
  EditorSorting = INFANTRY
  TransportSlotCount = 1                 ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions = None 
    Weapon = PRIMARY ChinaInfantryTankHunterMissileLauncher
  End
  ArmorSet
    Conditions      = None
    Armor           = HumanArmor
    DamageFX        = InfantryDamageFX
  End
  ArmorSet
    Conditions      = PLAYER_UPGRADE
    Armor           = ChemSuitHumanArmor
    DamageFX        = InfantryDamageFX
  End

  VisionRange = 150
  ShroudClearingRange = 400
  Prerequisites
    Object = Boss_Barracks
  End
  BuildCost = 20
  BuildTime = 5.0          ;in seconds    

  ExperienceValue = 20 20 40 60    ;Experience point value at each level
  ExperienceRequired = 0 100 200 400  ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrushableLevel         = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet      = ChinaInfantryTankHunterCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = BossGenTankHunterVoiceSelect
  VoiceMove = TankHunterVoiceMove
  VoiceAttack = TankHunterVoiceAttack
  VoiceAttackAir = TankHunterVoiceAttack
  VoiceGuard = TankHunterVoiceMove
  VoiceFear = TankHunterVoiceFear
  UnitSpecificSounds
    VoiceCreate          = TankHunterVoiceCreate
    VoiceGarrison = TankHunterVoiceGarrison
    VoiceEnter = TankHunterVoiceMove
    VoiceEnterHostile = TankHunterVoiceMove
    VoiceGetHealed      = TankHunterVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY SCORE SALVAGER

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 100.0
    InitialHealth   = 100.0
  End

  Behavior                = ArmorUpgrade ModuleTag_Armor01
    TriggeredBy           = Upgrade_AmericaChemicalSuits
  End

  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle = Yes
  End
  Locomotor = SET_NORMAL MissileDefenderLocomotor
  Behavior = HordeUpdate ModuleTag_04
    UpdateRate = 1000    ; how often to recheck horde status (msec)
    RubOffRadius = 60    ; if I am this close to a real hordesman, I will get to be an honorary hordesman
    Radius = 30          ; how close other units must be to us to count towards our horde-ness (~30 feet or so)
    KindOf = INFANTRY    ; what KindOf's must match to count towards horde-ness
    AlliesOnly = Yes     ; do we only count allies towards horde status? 
    ExactMatch = No      ; do we only count units of our exact same type towards horde status? (overrides kindof)
    Count = 5            ; how many units must be within Radius to grant us horde-ness
    Action = HORDE       ; when horde-ing, grant us the HORDE bonus
  End
  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 5.0
  End

  Behavior = SpecialAbility ModuleTag_07
    SpecialPowerTemplate = SpecialAbilityTankHunterTNTAttack
    UpdateModuleStartsAttack = Yes
    InitiateSound = TankHunterVoiceTNT
  End
  Behavior = SpecialAbilityUpdate ModuleTag_08
    SpecialPowerTemplate = SpecialAbilityTankHunterTNTAttack
    StartAbilityRange = 5.0
    PreparationTime = 0
    SpecialObject = TNTStickyBomb
    MaxSpecialObjects = 8
    SpecialObjectsPersistWhenOwnerDies = No ;Charges are removed instantly when owner dies (nobody can detonate).
    SpecialObjectsPersistent = Yes          ;Charges are persistent till lifetime expires or owner detonates them.
    UniqueSpecialObjectTargets = Yes        ;This prevents multiple charges placed on the same object.
    FleeRangeAfterCompletion = 100.0         ;Runs away after finishing ability
  End

 
  Behavior = SquishCollide ModuleTag_09
    ;nothing
  End


; --- begin Death modules ---
  Behavior = SlowDeathBehavior ModuleTag_Death01
    DeathTypes          = ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA
    SinkDelay           = 6000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_TankHunterDie
  End
  Behavior = SlowDeathBehavior ModuleTag_Death02
    DeathTypes          = NONE +CRUSHED +SPLATTED
    SinkDelay           = 6000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_GIDieCrushed
  End
  Behavior = SlowDeathBehavior ModuleTag_Death03
    DeathTypes          = NONE +EXPLODED
    SinkDelay           = 6000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_TankHunterDie
    FlingForce          = 8
    FlingForceVariance  = 3
    FlingPitch          = 60
    FlingPitchVariance  = 10
  End
  Behavior = SlowDeathBehavior ModuleTag_Death04
    DeathTypes          = NONE +BURNED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByFireChina
    OCL                 = INITIAL OCL_FlamingInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death05
    DeathTypes          = NONE +POISONED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinChina
    OCL                 = INITIAL OCL_ToxicInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
    DeathTypes          = NONE +POISONED_BETA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinChina
    OCL                 = INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
  End

  Behavior = SlowDeathBehavior ModuleTag_Death07
    DeathTypes          = NONE +POISONED_GAMMA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinChina
    OCL                 = INITIAL OCL_ToxicInfantryGamma
  End
; --- end Death modules ---

  Behavior = PoisonedBehavior ModuleTag_12
    PoisonDamageInterval = 100  ; Every this many msec I will retake the poison damage dealt me...
    PoisonDuration = 3000       ; ... for this long after last hit by poison damage
  End

  Behavior = ExperienceScalarUpgrade ModuleTag_13
    TriggeredBy   = Upgrade_AmericaAdvancedTraining
    AddXPScalar   = 1.0 ;Increases experience gained by an additional 100%
  End
 
  Geometry = CYLINDER
  GeometryMajorRadius = 10.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 12.0
  GeometryIsSmall = Yes
  Scale = 0.9
  Shadow = SHADOW_DECAL
  ShadowSizeX = 14;
  ShadowSizeY = 14;
  ShadowTexture = ShadowI;
  BuildCompletion = APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
Object Boss_InfantryHacker

  SelectPortrait = Minigun
  ButtonImage = Minigun

  UpgradeCameo1 = Upgrade_AmericaAdvancedTraining
  UpgradeCameo2 = Upgrade_AmericaChemicalSuits

  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes
    DefaultConditionState
      Model = MIGUNNR_SKN
      IdleAnimation = AISTNG_SKL.AISTNG_STA 0 30
      IdleAnimation = AISTNG_SKL.AISTNG_IDA
      IdleAnimation = AISTNG_SKL.AISTNG_IDB
      AnimationMode = ONCE
      AnimationSpeedFactorRange = 0.8 1.2
      TransitionKey = TRANS_Stand
      WeaponMuzzleFlash = PRIMARY MuzzleFX
      WeaponFireFXBone = PRIMARY MuzzleFX
      WeaponLaunchBone = PRIMARY MUZZLE01
    End
    AliasConditionState = REALLYDAMAGED
    ConditionState = FIRING_A
      Animation = AIRngr_SKL.MIGUNNR_ATA
      AnimationMode = LOOP
      TransitionKey = TRANS_Firing
    End
    AliasConditionState = FIRING_A REALLYDAMAGED
    AliasConditionState = BETWEEN_FIRING_SHOTS_A
    AliasConditionState = BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
    TransitionState = TRANS_Stand TRANS_Moving
      Animation = AISTNG_SKL.AISTNG_DR1
      AnimationMode = ONCE
      AnimationSpeedFactorRange = 5.0 5.0
    End
    TransitionState = TRANS_Moving TRANS_Stand
      Animation = AISTNG_SKL.AISTNG_RD2
      AnimationMode = ONCE
      AnimationSpeedFactorRange = 2.0 2.0
    End
    TransitionState = TRANS_Moving TRANS_Firing
      Animation = AISTNG_SKL.AISTNG_RD2
      AnimationMode = ONCE
      AnimationSpeedFactorRange = 2.0 2.0
    End
    TransitionState = TRANS_Firing TRANS_Moving
      Animation = AISTNG_SKL.AISTNG_DR1
      AnimationMode = ONCE
      AnimationSpeedFactorRange = 5.0 5.0
    End
    TransitionState = TRANS_Stand TRANS_Moving
      Animation = AISTNG_SKL.AISTNG_DR1
      AnimationMode = ONCE
      AnimationSpeedFactorRange = 5.0 5.0
    End
    TransitionState = TRANS_Moving TRANS_Stand
      Animation = AISTNG_SKL.AISTNG_RD2
      AnimationMode = ONCE
      AnimationSpeedFactorRange = 2.0 2.0
    End
    TransitionState = TRANS_Moving TRANS_Firing
      Animation = AISTNG_SKL.AISTNG_RD2
      AnimationMode = ONCE
      AnimationSpeedFactorRange = 2.0 2.0
    End
    TransitionState = TRANS_Firing TRANS_Moving
      Animation = AISTNG_SKL.AISTNG_DR1
      AnimationMode = ONCE
      AnimationSpeedFactorRange = 5.0 5.0
    End
    ConditionState = MOVING
      Animation = AISTNG_SKL.AISTNG_RNA
      AnimationMode = LOOP
      Flags = RANDOMSTART
      TransitionKey = TRANS_Moving
      ParticleSysBone = None InfantryDustTrails
    End
    AliasConditionState = MOVING REALLYDAMAGED
    ConditionState = MOVING DYING
      Animation = AISTNG_SKL.AISTNG_DTC
      AnimationSpeedFactorRange = 0.9 1.25
      AnimationMode = ONCE
      TransitionKey = TRANS_Dying
    End
    ConditionState = DYING
      Animation = AISTNG_SKL.AISTNG_DTA
      Animation = AISTNG_SKL.AISTNG_DTB
      AnimationSpeedFactorRange = 0.9 1.25
      AnimationMode = ONCE
      TransitionKey = TRANS_Dying
    End
    TransitionState = TRANS_Dying TRANS_Flailing
      Animation = AISTNG_SKL.AISTNG_ADTF1
      AnimationMode = ONCE
    End
    ConditionState = DYING EXPLODED_FLAILING
      Animation = AISTNG_SKL.AISTNG_ADTF2
      AnimationMode = LOOP
      TransitionKey = TRANS_Flailing
    End
    ConditionState = DYING EXPLODED_BOUNCING
      Animation = AISTNG_SKL.AISTNG_ADTF3
      AnimationMode = ONCE
      TransitionKey = None
    End
    ConditionState = FREEFALL
      Animation = AISTNG_SKL.AISTNG_PFL
      AnimationMode = LOOP
      TransitionKey = TRANS_Falling
    End
    AliasConditionState = FREEFALL REALLYDAMAGED
    AliasConditionState = FREEFALL DYING
    ConditionState = PARACHUTING
      Animation = AISTNG_SKL.AISTNG_PHG
      AnimationMode = LOOP
      Flags = PRISTINE_BONE_POS_IN_FINAL_FRAME
      TransitionKey = TRANS_Chute
    End
    AliasConditionState = PARACHUTING REALLYDAMAGED
    AliasConditionState = PARACHUTING DYING
    TransitionState = TRANS_Falling TRANS_Chute
      Animation = AISTNG_SKL.AISTNG_POP
      AnimationMode = ONCE
    End
    TransitionState = TRANS_Chute TRANS_Stand
      Animation = AISTNG_SKL.AISTNG_PTD
      AnimationMode = ONCE
    End
    ConditionState = SPECIAL_CHEERING
      Animation = AISTNG_SKL.AISTNG_CHA
      AnimationMode = ONCE
    End
  End

  DisplayName = OBJECT:Gunner
  Side = Boss
  EditorSorting = INFANTRY
  TransportSlotCount = 1
  WeaponSet
    Conditions = None
    Weapon = PRIMARY ThirtyCaliber
  End
  ArmorSet
    Conditions = None
    Armor = HumanArmor
    DamageFX = InfantryDamageFX
  End
  ArmorSet
    Conditions      = PLAYER_UPGRADE
    Armor           = ChemSuitHumanArmor
    DamageFX        = InfantryDamageFX
  End
  VisionRange = 200
  ShroudClearingRange = 300

  BuildCost = 450
  BuildTime = 6.0
  ExperienceValue = 20 20 40 60
  ExperienceRequired = 0 100 200 400
  IsTrainable = Yes
  CrushableLevel = 0

  CommandSet = MilitiaInfantryGunnerCommandSet

  VoiceSelect = SiegeSoldierVoiceSelect
  VoiceMove = SiegeSoldierVoiceMove
  VoiceGuard = SiegeSoldierVoiceMove
  VoiceAttack = SiegeSoldierVoiceAttack
  VoiceDefect = SiegeSoldierVoiceCreate
  VoiceFear = NoSound
  UnitSpecificSounds
    VoiceGarrison = SiegeSoldierVoiceMove
    VoiceCreate = SiegeSoldierVoiceCreate
    VoiceEnter = SiegeSoldierVoiceMove
    VoiceGetHealed = SiegeSoldierVoiceMove
  End

  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY SCORE SALVAGER
  Body = ActiveBody ModuleTag_02
    MaxHealth = 230.0
    InitialHealth = 230.0
  End

  Behavior = AIUpdateInterface ModuleTag_04
    AutoAcquireEnemiesWhenIdle = Yes
  End

  Behavior = HordeUpdate ModuleTag_0467
    UpdateRate = 1000    ; how often to recheck horde status (msec)
    RubOffRadius = 60    ; if I am this close to a real hordesman, I will get to be an honorary hordesman
    Radius = 30          ; how close other units must be to us to count towards our horde-ness (~30 feet or so)
    KindOf = INFANTRY    ; what KindOf's must match to count towards horde-ness
    AlliesOnly = Yes     ; do we only count allies towards horde status? 
    ExactMatch = No      ; do we only count units of our exact same type towards horde status? (overrides kindof)
    Count = 5            ; how many units must be within Radius to grant us horde-ness
    Action = HORDE       ; when horde-ing, grant us the HORDE bonus
  End

  Behavior = AutoFindHealingUpdate ModuleTag_05
    ScanRate = 1000
    ScanRange = 300
    NeverHeal = 0.85
    AlwaysHeal = 0.25
  End

  Locomotor = SET_NORMAL SiegeSoldierLocomotor
  Behavior = PhysicsBehavior ModuleTag_06
    Mass = 5.0
  End

  Behavior = SquishCollide ModuleTag_10
  End

  Behavior                = ArmorUpgrade ModuleTag_Armor01
    TriggeredBy           = Upgrade_AmericaChemicalSuits
  End

  Behavior = SlowDeathBehavior ModuleTag_Death01
    DeathTypes = ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -EXTRA_2 -EXTRA_3
    SinkDelay = 6000
    SinkRate = 0.5
    DestructionDelay = 8000
    FX = INITIAL FX_GIDie
  End

  Behavior = SlowDeathBehavior ModuleTag_Death02
    DeathTypes = NONE +CRUSHED +SPLATTED
    SinkDelay = 6000
    SinkRate = 0.5
    DestructionDelay = 8000
    FX = INITIAL FX_GIDieCrushed
  End

  Behavior = ExperienceScalarUpgrade ModuleTag_1201
    TriggeredBy   = Upgrade_AmericaAdvancedTraining
    AddXPScalar   = 1.0 ;Increases experience gained by an additional 100%
  End

  Behavior = SlowDeathBehavior ModuleTag_Death03
    DeathTypes = NONE +EXPLODED
    SinkDelay = 6000
    SinkRate = 0.5
    DestructionDelay = 8000
    FX = INITIAL FX_GIDie
    FlingForce = 8
    FlingForceVariance = 3
    FlingPitch = 60
    FlingPitchVariance = 10
  End

  Behavior = SlowDeathBehavior ModuleTag_Death04
    DeathTypes = NONE +BURNED
    DestructionDelay = 0
    FX = INITIAL FX_GIDie
    OCL = INITIAL OCL_FlamingInfantry
  End

  Behavior = SlowDeathBehavior ModuleTag_Death05
    DeathTypes = NONE +POISONED
    DestructionDelay = 0
    FX = INITIAL FX_GIDie
    OCL = INITIAL OCL_ToxicInfantry
  End

  Behavior = SlowDeathBehavior ModuleTag_Death06
    DeathTypes = NONE +POISONED_BETA
    DestructionDelay = 0
    FX = INITIAL FX_GIDie
    OCL = INITIAL OCL_ToxicInfantryBeta
  End

  Behavior = PoisonedBehavior ModuleTag_13
    PoisonDamageInterval = 100
    PoisonDuration = 3000
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 7.0
  GeometryMinorRadius = 7.0
  GeometryHeight = 12.0
  GeometryIsSmall = Yes
  Scale = 0.9
  Shadow = SHADOW_DECAL
  ShadowSizeX = 14
  ShadowSizeY = 14
  ShadowTexture = ShadowI
  BuildCompletion = APPEARS_AT_RALLY_POINT
End

;----------------------------------------------------------------------------
Object Boss_InfantryJarmenKell

  ; *** ART Parameters ***
  SelectPortrait         = BossJarmen
  ButtonImage            = BossJarmen
  
  UpgradeCameo1 = Upgrade_GLAAPBullets
  UpgradeCameo2 = Upgrade_AmericaAdvancedTraining
  UpgradeCameo3 = Upgrade_AmericaChemicalSuits
  
  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes

    ; --- idle
    DefaultConditionState
      Model             = UIHERO_SKN
      IdleAnimation     = UIHERO_SKL.UIHERO_STA 0 21
      IdleAnimation     = UIHERO_SKL.UIHERO_IDA
      IdleAnimation     = UIHERO_SKL.UIHERO_IDB
      AnimationMode     = ONCE
      WeaponFireFXBone  = PRIMARY Muzzle
      WeaponMuzzleFlash = PRIMARY MuzzleFX
      WeaponFireFXBone  = SECONDARY Muzzle
      WeaponMuzzleFlash = SECONDARY MuzzleFX
      TransitionKey     = TRANS_Stand
    End

    ConditionState      = REALLYDAMAGED
      IdleAnimation     = UIHERO_SKL.UIHERO_ISTA 0 30
      IdleAnimation     = UIHERO_SKL.UIHERO_IIDA
      IdleAnimation     = UIHERO_SKL.UIHERO_IIDB
      AnimationMode     = ONCE
      TransitionKey     = TRANS_StandInjured
    End

    TransitionState     = TRANS_Stand TRANS_StandInjured
      Animation         = UIHERO_SKL.UIHERO_ISTAHIT
      AnimationMode     = ONCE
    End

    ; --- attack

    ConditionState      = FIRING_A 
      Animation         = UIHERO_SKL.UIHERO_ATA 
      AnimationMode     = ONCE
      TransitionKey     = TRANS_FiringA
      AnimationSpeedFactorRange = 1.5 1.5
    End

    ConditionState      = BETWEEN_FIRING_SHOTS_A
      Animation         = UIHERO_SKL.UIHERO_STA
      AnimationMode     = ONCE
      WaitForStateToFinishIfPossible = TRANS_FiringA
    End
    AliasConditionState = RELOADING_A
  
    ConditionState      = FIRING_A REALLYDAMAGED
      Animation         = UIHERO_SKL.UIHERO_IATA2
      AnimationMode     = ONCE
      TransitionKey     = TRANS_FiringAInjured
      AnimationSpeedFactorRange = 1.5 1.5
    End

    ConditionState      = BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
      Animation         = UIHERO_SKL.UIHERO_IATA2
      AnimationMode     = MANUAL
      Flags             = START_FRAME_LAST
      WaitForStateToFinishIfPossible = TRANS_FiringAInjured
    End
    AliasConditionState = RELOADING_A REALLYDAMAGED

    TransitionState     = TRANS_FiringA TRANS_FiringAInjured
      Animation         = UIHERO_SKL.UIHERO_IATAHIT
      AnimationMode     = ONCE
    End

    ; --- moving
    ConditionState      = MOVING
      Animation         = UIHERO_SKL.UIHERO_RNA2 30
      AnimationMode     = LOOP
      Flags             = RANDOMSTART
      TransitionKey     = None
      ParticleSysBone   = None InfantryDustTrails
    End
    AliasConditionState = MOVING FIRING_A
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_A
    AliasConditionState = MOVING RELOADING_A
    AliasConditionState = MOVING DOCKING
    AliasConditionState = MOVING DOCKING_BEGINNING
    AliasConditionState = MOVING DOCKING_ACTIVE

    ConditionState      = MOVING REALLYDAMAGED
      Animation         = UIHERO_SKL.UIHERO_IRNA 30
      AnimationMode     = LOOP
      Flags             = RANDOMSTART
      TransitionKey     = None
      ParticleSysBone   = None InfantryDustTrails
    End
    AliasConditionState = MOVING FIRING_A REALLYDAMAGED
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
    AliasConditionState = MOVING RELOADING_A REALLYDAMAGED
    
    ; --- cheering
    ConditionState      = SPECIAL_CHEERING
      Animation         = UIHERO_SKL.UIHERO_CHA
      AnimationMode     = LOOP
    End

    ConditionState      = SPECIAL_CHEERING REALLYDAMAGED
      Animation         = UIHERO_SKL.UIHERO_ICHA
      AnimationMode     = LOOP
    End
    
    ; --- dying
    ConditionState      = DYING
      Animation         = UIHERO_SKL.UIHERO_DTA
      Animation         = UIHERO_SKL.UIHERO_DTB
      Animation         = UIHERO_SKL.UIHERO_IDTA
      Animation         = UIHERO_SKL.UIHERO_IDTB
      AnimationMode     = ONCE
      TransitionKey     = TRANS_Dying
    End

    TransitionState     = TRANS_Dying TRANS_Flailing
      Animation         = UIHERO_SKL.UIHERO_ADTG21
      AnimationMode     = ONCE
    End

    ConditionState      = DYING EXPLODED_FLAILING
      Animation         = UIHERO_SKL.UIHERO_ADTG22
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Flailing
    End

    ConditionState      = DYING EXPLODED_BOUNCING
      Animation         = UIHERO_SKL.UIHERO_ADTG23
      AnimationMode     = ONCE
      TransitionKey     = None
    End
    
    ; --- falling
    ConditionState      = FREEFALL
      Animation         = UIHERO_SKL.UIHERO_PFL
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Falling
    End
    AliasConditionState = FREEFALL REALLYDAMAGED
    AliasConditionState = FREEFALL DYING

    ConditionState      = PARACHUTING
      Animation         = UIHERO_SKL.UIHERO_PHG
      AnimationMode     = LOOP
      Flags             = PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
      TransitionKey     = TRANS_Chute
    End
    AliasConditionState = PARACHUTING REALLYDAMAGED
    AliasConditionState = PARACHUTING DYING

    TransitionState     = TRANS_Falling TRANS_Chute
      Animation         = UIHERO_SKL.UIHERO_POP
      AnimationMode     = ONCE
      Flags             = PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
    End

    TransitionState     = TRANS_Chute TRANS_Stand
      Animation         = UIHERO_SKL.UIHERO_PTD
      AnimationMode     = ONCE
    End

    TransitionState     = TRANS_Chute TRANS_StandInjured
      Animation         = UIHERO_SKL.UIHERO_PTD
      AnimationMode     = ONCE
    End
    
  End

  ; ***DESIGN parameters ***
  DisplayName           = OBJECT:JarmenKell
  Side                  = Boss
  EditorSorting         = INFANTRY
  TransportSlotCount    = 1                 ;how many "slots" we take in a transport (0 == not transportable)
  MaxSimultaneousOfType = 1
 
  WeaponSet
    Conditions = None 
    Weapon = PRIMARY GLAJarmenKellRifle
    Weapon = SECONDARY GLAJarmenKellVehiclePilotSniperRifle
    AutoChooseSources = SECONDARY NONE
  End

  ArmorSet
    Conditions      = None
    Armor           = HumanArmor
    DamageFX        = InfantryDamageFX
  End
  ArmorSet
    Conditions      = PLAYER_UPGRADE
    Armor           = ChemSuitHumanArmor
    DamageFX        = InfantryDamageFX
  End

  VisionRange         = 200
  ShroudClearingRange = 300
  Prerequisites
    Object = Boss_Barracks
    Object = Boss_TechCentr
  End
  BuildCost = 2000
  BuildTime = 20.0          ;in seconds  

  ExperienceValue     = 50 50 100 150    ;Experience point value at each level
  ExperienceRequired  = 0 100 200 400  ;Experience points needed to gain each level
  IsTrainable         = Yes             ;Can gain experience
  CrushableLevel      = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet          = GLAInfantryJarmenKellCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = JarmenKellVoiceSelect
  VoiceMove = JarmenKellVoiceMove
  VoiceGuard = JarmenKellVoiceMove
  VoiceAttack = JarmenKellVoiceAttack
  VoiceFear = JarmenKellVoiceFear
  SoundStealthOn = StealthOn
  SoundStealthOff = StealthOff
  
  UnitSpecificSounds
    VoiceCreate          = JarmenKellVoiceCreate
    VoiceSnipePilot      = JarmenKellVoiceSnipe
    VoiceGarrison = JarmenKellVoiceGarrison
    VoiceEnter = JarmenKellVoiceMove
    VoiceEnterHostile = JarmenKellVoiceMove
    VoiceGetHealed      = JarmenKellVoiceMove
  End


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY SALVAGER STEALTH_GARRISON SCORE HERO CANNOT_RETALIATE

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 200.0
    InitialHealth   = 200.0
  End

  Behavior                = ArmorUpgrade ModuleTag_Armor01
    TriggeredBy           = Upgrade_AmericaChemicalSuits
  End

  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle = Yes
  End
  Locomotor = SET_NORMAL JarmenKellLocomotor

  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 5.0
  End
  Behavior = StealthUpdate ModuleTag_06
    StealthDelay                = 2000 ; msec
    StealthForbiddenConditions  = ATTACKING
    InnateStealth               = Yes
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
    EnemyDetectionEvaEvent      = EnemyJarmenKellDetected
    OwnDetectionEvaEvent        = OwnJarmenKellDetected
  End

  Behavior = StealthDetectorUpdate ModuleTag_StealthDetect
    DetectionRate             = 750
    DetectionRange            = 150
    CanDetectWhileGarrisoned  = No
    CanDetectWhileContained   = No
  End

  Behavior = CommandButtonHuntUpdate  ModuleTag_07 ; allows use of command button hunt script with this unit. 
  End

  Behavior = WeaponBonusUpgrade ModuleTag_08
    TriggeredBy = Upgrade_GLAAPBullets
  End
 
  ;Hero units can't be squished!
  ;Behavior = SquishCollide ModuleTag_09
  ;  ;nothing
  ;End


; --- begin Death modules ---
  Behavior = SlowDeathBehavior ModuleTag_Death01
    DeathTypes          = ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA
    SinkDelay           = 6000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_JarmenKellDie
  End
  Behavior = SlowDeathBehavior ModuleTag_Death02
    DeathTypes          = NONE +CRUSHED +SPLATTED
    SinkDelay           = 6000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_GIDieCrushed
  End
  Behavior = SlowDeathBehavior ModuleTag_Death03
    DeathTypes          = NONE +EXPLODED
    SinkDelay           = 6000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_JarmenKellDie
    FlingForce          = 8
    FlingForceVariance  = 3
    FlingPitch          = 60
    FlingPitchVariance  = 10
  End
  Behavior = SlowDeathBehavior ModuleTag_Death04
    DeathTypes          = NONE +BURNED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByFireGLA
    OCL                 = INITIAL OCL_FlamingInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death05
    DeathTypes          = NONE +POISONED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinGLA
    OCL                 = INITIAL OCL_ToxicInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
    DeathTypes          = NONE +POISONED_BETA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinGLA
    OCL                 = INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
  End
  Behavior = SlowDeathBehavior ModuleTag_Death07
    DeathTypes          = NONE +POISONED_GAMMA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinGLA
    OCL                 = INITIAL OCL_ToxicInfantryGamma
  End

  Behavior = ExperienceScalarUpgrade ModuleTag_120
    TriggeredBy   = Upgrade_AmericaAdvancedTraining
    AddXPScalar   = 1.0 ;Increases experience gained by an additional 100%
  End

; --- end Death modules ---

  Behavior = PoisonedBehavior ModuleTag_14
    PoisonDamageInterval = 100  ; Every this many msec I will retake the poison damage dealt me...
    PoisonDuration = 3000       ; ... for this long after last hit by poison damage
  End
 
  Geometry = CYLINDER
  GeometryMajorRadius = 10.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 12.0
  GeometryIsSmall = Yes
  Scale = 0.9
  Shadow = SHADOW_DECAL
  ShadowSizeX = 14;
  ShadowSizeY = 14;
  ShadowTexture = ShadowI;
  BuildCompletion = APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
;------------------------------------------------------------------------------
Object Boss_InfantryAngryMobNexus 

  SelectPortrait         = RailTrooper
  ButtonImage            = RailTrooper

  UpgradeCameo1 = Upgrade_AmericaAdvancedTraining
  UpgradeCameo2 = Upgrade_AmericaChemicalSuits

    ; *** ART Parameters ***
  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes

    ;NORMAL STANDING
    DefaultConditionState
      Model = AIRailINF
      IdleAnimation = AITECH_SKL.AITECH_STA 0 21
      ;Regular spice animations
      IdleAnimation = AITECH_SKL.AITECH_IDA
      IdleAnimation = AITECH_SKL.AITECH_IDB
      AnimationMode = ONCE
      WeaponLaunchBone = PRIMARY BIOGUNFX
      TransitionKey = TRANS_Stand
    End

    ; NORMAL ATTACK
    ConditionState = FIRING_A
      Animation = AITECH_SKL.AIRailINF_ATA
      AnimationMode = LOOP
      TransitionKey = TRANS_FiringA
    End
    AliasConditionState = BETWEEN_FIRING_SHOTS_A
    AliasConditionState = RELOADING_A
    AliasConditionState = FIRING_A REALLYDAMAGED
    AliasConditionState = BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
    AliasConditionState = RELOADING_A REALLYDAMAGED

    ConditionState = MOVING
      Animation = AITECH_SKL.AITECH_WKA 15
      AnimationMode = LOOP
      Flags = RANDOMSTART
      TransitionKey = None
      ParticleSysBone     = None InfantryDustTrails
    End

    ConditionState = DYING
      Animation = AITECH_SKL.AITECH_DTA
      Animation = AITECH_SKL.AITECH_DTB
      AnimationMode = ONCE
      TransitionKey = TRANS_Dying
    End

    TransitionState = TRANS_Dying TRANS_Flailing
      Animation = AITECH_SKL.AITECH_ADTD1
      AnimationMode = ONCE
    End

    ConditionState = DYING EXPLODED_FLAILING
      Animation = AITECH_SKL.AITECH_ADTD2
      AnimationMode = LOOP
      TransitionKey = TRANS_Flailing
    End

    ConditionState = DYING EXPLODED_BOUNCING
      Animation = AITECH_SKL.AITECH_ADTD3
      AnimationMode = ONCE
      TransitionKey = None
    End

    ConditionState = SPECIAL_CHEERING
      Animation = AITECH_SKL.AITECH_CHA
      AnimationMode = LOOP
    End

    ;PARACHUTING ANIMATIONS
    ConditionState = FREEFALL
      Animation = AITECH_SKL.AITECH_PFL
      AnimationMode = LOOP
      TransitionKey = TRANS_Falling
    End
    AliasConditionState = FREEFALL REALLYDAMAGED
    AliasConditionState = FREEFALL DYING
    ConditionState = PARACHUTING
      Animation = AITECH_SKL.AITECH_PHG
      AnimationMode = LOOP
      Flags = PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
      TransitionKey = TRANS_Chute
    End
    AliasConditionState = PARACHUTING REALLYDAMAGED
    AliasConditionState = PARACHUTING DYING
    TransitionState = TRANS_Falling TRANS_Chute
      Animation = AITECH_SKL.AITECH_POP
      AnimationMode = ONCE
      Flags = PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
    End
    TransitionState = TRANS_Chute TRANS_Stand
      Animation = AITECH_SKL.AITECH_PDN
      AnimationMode = ONCE
    End

  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:RailTrooper
  Side                = Boss
  EditorSorting       = INFANTRY
  TransportSlotCount  = 1                 ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions = None
    Weapon = PRIMARY RailGunWeapon
  End
  ArmorSet
    Conditions      = None
    Armor           = HazMatHumanArmor
    DamageFX        = InfantryDamageFX
  End
  ArmorSet
    Conditions      = PLAYER_UPGRADE
    Armor           = ChemSuitHumanArmor
    DamageFX        = InfantryDamageFX
  End
  VisionRange = 100
  ShroudClearingRange = 400
  Prerequisites
    Object = Boss_TechCentr;Boss_ParticleCannonUplink
  End
  BuildCost = 1000
  BuildTime = 8.0          ;in seconds

  ExperienceValue = 50 100 150 400    ;Experience point value at each level
  ExperienceRequired = 0 150 450 900  ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrushableLevel      = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet    = ChinaInfantryFlameTrooperCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect   = NoSound
  VoiceMove     = NoSound
  VoiceAttack   = NoSound
  UnitSpecificFX
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS INFANTRY SCORE SALVAGER

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 200.0
    InitialHealth   = 200.0
  End

  Behavior = AIUpdateInterface ModuleTag_05
    AutoAcquireEnemiesWhenIdle = Yes
  End
  Behavior = AutoFindHealingUpdate   ModuleTag_06 ; This update will have the unit go to a healing station if injured. jba
    ScanRate = 1000 ; once a second.
    ScanRange = 300 ;
    NeverHeal = 0.85 ;  don't heal if we are > 85% healthy.
    AlwaysHeal = 0.25 ; if we get below 25%, find healing right away.
  End

  Behavior = HordeUpdate ModuleTag_0478
    UpdateRate = 1000    ; how often to recheck horde status (msec)
    RubOffRadius = 60    ; if I am this close to a real hordesman, I will get to be an honorary hordesman
    Radius = 30          ; how close other units must be to us to count towards our horde-ness (~30 feet or so)
    KindOf = INFANTRY    ; what KindOf's must match to count towards horde-ness
    AlliesOnly = Yes     ; do we only count allies towards horde status? 
    ExactMatch = No      ; do we only count units of our exact same type towards horde status? (overrides kindof)
    Count = 5            ; how many units must be within Radius to grant us horde-ness
    Action = HORDE       ; when horde-ing, grant us the HORDE bonus
  End

  Locomotor = SET_NORMAL FlameTrooperLocomotor

  Behavior = ExperienceScalarUpgrade ModuleTag_07
    TriggeredBy = Upgrade_AmericaAdvancedTraining
    AddXPScalar = 1.0 ;Increases experience gained by an additional 100%
  End

  Behavior = PhysicsBehavior ModuleTag_08
    Mass = 5.0
  End
  Behavior = ProductionUpdate ModuleTag_09
    ; nothing
  End

  Behavior = SquishCollide ModuleTag_10
    ;nothing
  End

; --- begin Death modules ---
  Behavior = SlowDeathBehavior ModuleTag_Death01
    DeathTypes          = ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_RebelDie
;    Weapon              = INITIAL   FlameTrooperDeathWeapon
  End
  Behavior = SlowDeathBehavior ModuleTag_Death02
    DeathTypes          = NONE +CRUSHED +SPLATTED
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_GIDieCrushed
  End
  Behavior = SlowDeathBehavior ModuleTag_Death03
    DeathTypes          = NONE +EXPLODED
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_RebelDie
;    Weapon              = INITIAL   FlameTrooperDeathWeapon
    FlingForce          = 8
    FlingForceVariance  = 3
    FlingPitch          = 60
    FlingPitchVariance  = 10
  End
  Behavior = SlowDeathBehavior ModuleTag_Death04
    DeathTypes          = NONE +BURNED
    DestructionDelay    = 0
    FX                  = INITIAL FX_RebelDie
;    Weapon              = INITIAL   FlameTrooperDeathWeapon
    OCL                 = INITIAL OCL_FlamingInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death05
    DeathTypes          = NONE +POISONED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinGLA
    OCL                 = INITIAL OCL_ToxicInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
    DeathTypes          = NONE +POISONED_BETA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinGLA
    OCL                 = INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
  End
  Behavior = SlowDeathBehavior ModuleTag_Death07
    DeathTypes          = NONE +POISONED_GAMMA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinGLA
    OCL                 = INITIAL OCL_ToxicInfantryGamma
  End

  Behavior = ExperienceScalarUpgrade ModuleTag_120
    TriggeredBy   = Upgrade_AmericaAdvancedTraining
    AddXPScalar   = 1.0 ;Increases experience gained by an additional 100%
  End
; --- end Death modules ---

  Geometry = CYLINDER
  GeometryMajorRadius = 10.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 13.0
  Scale = 0.9
  GeometryIsSmall = Yes
  Shadow = SHADOW_DECAL
  ShadowSizeX = 14;
  ShadowSizeY = 14;
  ShadowTexture = ShadowI;
  BuildCompletion = APPEARS_AT_RALLY_POINT
End














;----------------------------------------------------------
Object Boss_VehicleMLRS

  ; *** ART Parameters ***
  SelectPortrait         = SAM270
  ButtonImage            = SAM270_s

  UpgradeCameo1 = Upgrade_AmericaScoutDrone
  UpgradeCameo2 = Upgrade_AmericaBattleDrone
  UpgradeCameo3 = Upgrade_AmericaAdvancedTraining
  UpgradeCameo4 = Upgrade_AmericaHellfireDrone
  ;UpgradeCameo5 = XXX

  Draw = W3DTankDraw ModuleTag_01
    OkToChangeModelColor = Yes

    ;ProjectileBoneFeedbackEnabledSlots = PRIMARY ; WeaponLaunchBone will be shown/hidden, not just used for firing offset

    DefaultConditionState
      Model = avm270
      Turret = TURRET
      TurretPitch = TURRETEL
      WeaponLaunchBone = PRIMARY WeaponA
      ;WeaponHideShowBone = PRIMARY MISSILE
    End

    ConditionState = REALLYDAMAGED
      Model = avm270_d
    End
    AliasConditionState = RUBBLE

    TrackMarks           = EXTnkTrack.tga

  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:MLRS
  Side = Boss
  EditorSorting   = VEHICLE
  TransportSlotCount = 3                 ;how many "slots" we take in a transport (0 == not transportable)
  BuildCost       = 1200
  BuildTime       = 20.0          ;in seconds
  VisionRange     = 180
  ShroudClearingRange = 200
  Prerequisites
    Object = Boss_WarFactory
  End
  ExperienceValue = 50 50 100 150    ;Experience point value at each level
  ExperienceRequired = 0 200 400 800  ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  WeaponSet
    Conditions = None
    Weapon = PRIMARY MLRSMissileWeapon
  End
  ArmorSet
    Conditions      = None
    Armor           = TruckArmor
    DamageFX        = TankDamageFX
  End
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet      = AmericaVehicleTomahawkCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = TomahawkVoiceSelect
  VoiceMove = TomahawkVoiceMove
  VoiceGuard = TomahawkVoiceMove
  VoiceAttack = TomahawkVoiceAttack
  SoundMoveStart = TomahawkMoveStart
  SoundMoveStartDamaged = TomahawkMoveStart

  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate = TomahawkVoiceCreate
    TurretMoveStart = NoSound
    TurretMoveLoop = TurretMoveLoopLoud
    SoundEject = PilotSoundEject
    VoiceEject = PilotVoiceEject
    VoiceCrush = TomahawkVoiceCrush
    VoiceEnter = TomahawkVoiceMove
    VoiceBombard = TomahawkVoiceAttack
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE DONT_AUTO_CRUSH_INFANTRY CAN_ATTACK CAN_CAST_REFLECTIONS VEHICLE SCORE

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 180.0
    InitialHealth   = 180.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 360
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      TurretTurnRate = 45   ; turn rate, in degrees per sec
      TurretPitchRate = 35
      FirePitch = 45  ; Instead of aiming pitchwise at the target, it will aim here
      AllowsPitch = Yes
      ControlledWeaponSlots = PRIMARY
    End
    AutoAcquireEnemiesWhenIdle = No NotWhileAttacking
  End
  Locomotor = SET_NORMAL TomahawkLocomotor

  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 50.0
  End
  Behavior = SlowDeathBehavior ModuleTag_05
    DeathTypes = ALL -CRUSHED -SPLATTED
    DestructionDelay  = 500
    DestructionDelayVariance  = 100
    FX  = INITIAL  FX_GenericTankDeathEffect
    OCL = MIDPOINT OCL_MLRSDeath
    FX =  FINAL FX_AmericaVehicleTomahawkDeathExplosion
  End

  Behavior = ObjectCreationUpgrade ModuleTag_06
    UpgradeObject = OCL_AmericanBattleDrone
    TriggeredBy   = Upgrade_AmericaBattleDrone
    ConflictsWith = Upgrade_AmericaScoutDrone Upgrade_AmericaHellfireDrone
  End
  Behavior = ObjectCreationUpgrade ModuleTag_07
    UpgradeObject = OCL_AmericanScoutDrone
    TriggeredBy   = Upgrade_AmericaScoutDrone
    ConflictsWith = Upgrade_AmericaBattleDrone Upgrade_AmericaHellfireDrone
  End
  Behavior = ObjectCreationUpgrade ModuleTag_15
    UpgradeObject = OCL_AmericanHellfireDrone
    TriggeredBy   = Upgrade_AmericaHellfireDrone
    ConflictsWith = Upgrade_AmericaBattleDrone Upgrade_AmericaScoutDrone
  End

  Behavior = ProductionUpdate ModuleTag_08
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End

  Behavior = ExperienceScalarUpgrade ModuleTag_09
    TriggeredBy = Upgrade_AmericaAdvancedTraining
    AddXPScalar = 1.0 ;Increases experience gained by an additional 100%
  End

  Behavior = DestroyDie ModuleTag_10
    DeathTypes = NONE +CRUSHED +SPLATTED
  End

  Behavior = FXListDie ModuleTag_11
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End

  Behavior = CreateObjectDie ModuleTag_12
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_CrusaderTank_CrushEffect
  End

  Behavior = CreateCrateDie ModuleTag_SalvageData
    CrateData = SalvageCrateData
  End

  Behavior = EjectPilotDie ModuleTag_13
    DeathTypes = ALL -CRUSHED -SPLATTED
    ExemptStatus = HIJACKED
    VeterancyLevels =  ALL -REGULAR ;only vet+ gives pilot
    GroundCreationList = OCL_EjectPilotOnGround
    AirCreationList = OCL_EjectPilotViaParachute
  End

  Behavior = TransitionDamageFX ModuleTag_14
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Geometry = BOX
  GeometryMajorRadius = 15.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 10.0
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;----------------------------------------------------------
Object Boss_VehicleTomahawk

  ; *** ART Parameters ***
  SelectPortrait         = SACTomahawk_L
  ButtonImage            = SACTomahawk
  
  UpgradeCameo1 = Upgrade_AmericaScoutDrone
  UpgradeCameo2 = Upgrade_AmericaBattleDrone
  UpgradeCameo3 = Upgrade_AmericaAdvancedTraining
  UpgradeCameo4 = Upgrade_AmericaHellfireDrone
  UpgradeCameo5 = Upgrade_GLAJunkRepair
  
  Draw = W3DTankDraw ModuleTag_01
    OkToChangeModelColor = Yes
      
    ProjectileBoneFeedbackEnabledSlots = PRIMARY ; WeaponLaunchBone will be shown/hidden, not just used for firing offset

    DefaultConditionState
      Model = AVTomahawk
      Turret = TURRET
      TurretPitch = TURRETEL
      WeaponLaunchBone = PRIMARY WeaponA
      WeaponHideShowBone = PRIMARY MISSILE
    End

    ConditionState = REALLYDAMAGED
      Model = AVTomahawk_D
    End
    AliasConditionState = RUBBLE

    TrackMarks           = EXTnkTrack.tga

  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Tomahawk
  Side = Boss
  EditorSorting   = VEHICLE
  TransportSlotCount = 3                 ;how many "slots" we take in a transport (0 == not transportable)
  BuildCost       = 3000
  BuildTime       = 14.0          ;in seconds    
  VisionRange     = 200
  ShroudClearingRange = 300
  Prerequisites
    Object = Boss_TechCentr
  End
  ExperienceValue = 50 50 100 150    ;Experience point value at each level
  ExperienceRequired = 0 200 400 800  ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  WeaponSet
    Conditions = None 
    Weapon = PRIMARY TomahawkMissileWeapon
  End
  ArmorSet
    Conditions      = None
    Armor           = TruckArmor
    DamageFX        = TankDamageFX
  End
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet      = AmericaVehicleTomahawkCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = TomahawkVoiceSelect
  VoiceMove = TomahawkVoiceMove
  VoiceGuard = TomahawkVoiceMove
  VoiceAttack = TomahawkVoiceAttack
  SoundMoveStart = TomahawkMoveStart
  SoundMoveStartDamaged = TomahawkMoveStart
  
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate = TomahawkVoiceCreate
    TurretMoveStart = NoSound
    TurretMoveLoop = TurretMoveLoopLoud
    SoundEject = PilotSoundEject
    VoiceEject = PilotVoiceEject
    VoiceCrush = TomahawkVoiceCrush
    VoiceEnter = TomahawkVoiceMove
    VoiceBombard = TomahawkVoiceAttack
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE DONT_AUTO_CRUSH_INFANTRY CAN_ATTACK CAN_CAST_REFLECTIONS VEHICLE SCORE SALVAGER

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 200.0
    InitialHealth   = 200.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 360
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

  Behavior = HordeUpdate ModuleTag_0468
    RubOffRadius = 150    ; if I am this close to a real hordesman, I will get to be an honorary hordesman
    UpdateRate = 1000     ; how often to recheck horde status (msec)
    Radius = 75           ; how close other units must be to us to count towards our horde-ness (~30 feet or so)
    KindOf = VEHICLE      ; what KindOf's must match to count towards horde-ness
    AlliesOnly = Yes      ; do we only count allies towards horde status?
    ExactMatch = Yes      ; do we only count units of our exact same type towards horde status? (overrides kindof)
    Count = 5             ; how many units must be within Radius to grant us horde-ness
    Action = HORDE        ; when horde-ing, grant us the HORDE bonus
  End

  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      TurretTurnRate = 60   ; turn rate, in degrees per sec
      TurretPitchRate = 60
      FirePitch = 70  ; Instead of aiming pitchwise at the target, it will aim here
      AllowsPitch = Yes
      ControlledWeaponSlots = PRIMARY
    End
    AutoAcquireEnemiesWhenIdle = No NotWhileAttacking
  End
  Locomotor = SET_NORMAL TomahawkLocomotor

  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 50.0
  End
  Behavior = SlowDeathBehavior ModuleTag_05
    DeathTypes = ALL -CRUSHED -SPLATTED
    DestructionDelay  = 500
    DestructionDelayVariance  = 100
    FX  = INITIAL  FX_GenericTankDeathEffect
    OCL = MIDPOINT OCL_AmericaVehicleTomahawkDie
    FX =  FINAL FX_AmericaVehicleTomahawkDeathExplosion
  End

  Behavior = ObjectCreationUpgrade ModuleTag_06
    UpgradeObject = OCL_AmericanBattleDrone
    TriggeredBy   = Upgrade_AmericaBattleDrone
    ConflictsWith = Upgrade_AmericaScoutDrone Upgrade_AmericaHellfireDrone
  End
  Behavior = ObjectCreationUpgrade ModuleTag_07
    UpgradeObject = OCL_AmericanScoutDrone
    TriggeredBy   = Upgrade_AmericaScoutDrone
    ConflictsWith = Upgrade_AmericaBattleDrone Upgrade_AmericaHellfireDrone
  End
  Behavior = ObjectCreationUpgrade ModuleTag_15
    UpgradeObject = OCL_AmericanHellfireDrone
    TriggeredBy   = Upgrade_AmericaHellfireDrone
    ConflictsWith = Upgrade_AmericaBattleDrone Upgrade_AmericaScoutDrone
  End

  Behavior = ProductionUpdate ModuleTag_08
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End

  Behavior = ExperienceScalarUpgrade ModuleTag_09
    TriggeredBy = Upgrade_AmericaAdvancedTraining
    AddXPScalar = 1.0 ;Increases experience gained by an additional 100%
  End

  Behavior = DestroyDie ModuleTag_10
    DeathTypes = NONE +CRUSHED +SPLATTED
  End

  Behavior = FXListDie ModuleTag_11
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End

  Behavior = CreateObjectDie ModuleTag_12
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_CrusaderTank_CrushEffect
  End

  Behavior = EjectPilotDie ModuleTag_13
    DeathTypes = ALL -CRUSHED -SPLATTED
    ExemptStatus = HIJACKED
    VeterancyLevels =  ALL -REGULAR ;only vet+ gives pilot
    GroundCreationList = OCL_EjectPilotOnGround
    AirCreationList = OCL_EjectPilotViaParachute
  End
  
  Behavior = TransitionDamageFX ModuleTag_14
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End
  
  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = AutoHealBehavior ModuleTag_0889
    HealingAmount = 2
    HealingDelay = 1000 ; msec
    TriggeredBy = Upgrade_GLAJunkRepair
  End

  Geometry = BOX
  GeometryMajorRadius = 15.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 10.0     
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME 
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length   

End

;------------------------------------------------------------------------------
Object Boss_TankPaladin

  ; *** ART Parameters ***
  SelectPortrait         = HBattlemaster_L
  ButtonImage            = HBattlemaster
  
  UpgradeCameo1 = Upgrade_ChinaOmegaBattleDrone
  UpgradeCameo2 = Upgrade_GLAJunkRepair
  UpgradeCameo3 = Upgrade_ChinaNuclearTanks
  UpgradeCameo4 = Upgrade_AmericaAdvancedTraining
  UpgradeCameo5 = Upgrade_ChinaUraniumShells

  Draw = W3DTankDraw ModuleTag_01
    OkToChangeModelColor = Yes
    DefaultConditionState
      Model               = NVDBMaster
      Turret              = Turret01
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponRecoilBone    = PRIMARY Barrel
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      WeaponLaunchBone    = PRIMARY Muzzle
    End
    ConditionState = REALLYDAMAGED
      Model               = NVDBMaster_D
      Turret              = Turret01
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponRecoilBone    = PRIMARY Barrel
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      WeaponLaunchBone    = PRIMARY Muzzle
    End
    ConditionState = RUBBLE
      Model               = NVDBMaster_D
      Turret              = Turret01
    End

    ConditionState = WEAPONSET_PLAYER_UPGRADE 
      Model               = NVTBMaster
      Turret              = Turret01
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponRecoilBone    = PRIMARY Barrel
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      WeaponLaunchBone    = PRIMARY Muzzle
    End
    ConditionState = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
      Model               = NVTBMaster_D
      Turret              = Turret01
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponRecoilBone    = PRIMARY Barrel
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      WeaponLaunchBone    = PRIMARY Muzzle
    End
    ConditionState = WEAPONSET_PLAYER_UPGRADE RUBBLE
      Model               = NVTBMaster_D
      Turret              = Turret01
    End

    TrackMarks              = EXTnkTrack.tga
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:HeavyBattleMaster
  Side = Boss
  EditorSorting   = VEHICLE
  TransportSlotCount = 3                 ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions = None
    Weapon = PRIMARY BattleMasterTankGunUpgraded
  End
  WeaponSet
    Conditions = PLAYER_UPGRADE
    Weapon = PRIMARY Tank_HeavyBattleMasterTankGun
  End
  ArmorSet
    Conditions      = None
    Armor           = TankArmor
    DamageFX        = TankDamageFX
  End
  BuildCost       = 900
  BuildTime       = 10.0          ;in seconds
  VisionRange     = 150
  ShroudClearingRange = 300

  ExperienceValue = 100 100 200 400    ;Experience point value at each level
  ExperienceRequired = 0 200 300 600 ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet       = Boss_ChinaVehicleHeavyBattleMasterCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = BattleMasterTankVoiceSelect
  VoiceMove = BattleMasterTankVoiceMove
  VoiceGuard = BattleMasterTankVoiceMove
  VoiceAttack = BattleMasterTankVoiceAttack
  SoundMoveStart = BattleMasterTankMoveStart
  SoundMoveStartDamaged = BattleMasterTankMoveStart

  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate          = BattleMasterTankVoiceCreate
    TurretMoveStart = NoSound
    TurretMoveLoop = TurretMoveLoop
    VoiceCrush = BattleMasterTankVoiceCrush
    VoiceEnter = BattleMasterTankVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE SALVAGER

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 500.0
    InitialHealth   = 500.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 800
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      TurretTurnRate = 120   ; turn rate, in degrees per sec
      ControlledWeaponSlots = PRIMARY
    End
    AutoAcquireEnemiesWhenIdle = Yes
  End

  Locomotor = SET_NORMAL BattleMasterLocomotor
  Locomotor = SET_NORMAL_UPGRADED NuclearBattleMasterLocomotor

  Behavior = HordeUpdate ModuleTag_04
    RubOffRadius = 150    ; if I am this close to a real hordesman, I will get to be an honorary hordesman
    UpdateRate = 1000     ; how often to recheck horde status (msec)
    Radius = 75           ; how close other units must be to us to count towards our horde-ness (~30 feet or so)
    KindOf = VEHICLE      ; what KindOf's must match to count towards horde-ness
    AlliesOnly = Yes      ; do we only count allies towards horde status?
    ExactMatch = Yes      ; do we only count units of our exact same type towards horde status? (overrides kindof)
    Count = 5             ; how many units must be within Radius to grant us horde-ness
    Action = HORDE        ; when horde-ing, grant us the HORDE bonus
  End

  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 40.0
  End

  Behavior = FireWeaponWhenDeadBehavior ModuleTag_06
    DeathWeapon   = NuclearTankDeathWeapon
    StartsActive  = No                        ; turned on by upgrade
    TriggeredBy   = Upgrade_ChinaNuclearTanks
  End
  Behavior = LocomotorSetUpgrade ModuleTag_07
    TriggeredBy = Upgrade_ChinaNuclearTanks
  End

  Behavior = ObjectCreationUpgrade ModuleTag_14
    UpgradeObject = OCL_ChinaOmegaBattleDrone
    TriggeredBy   = Upgrade_ChinaOmegaBattleDrone
  End

  Behavior = ProductionUpdate ModuleTag_24
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End

  Behavior    = OCLSpecialPower ModuleTag_Laymines01
    SpecialPowerTemplate = SpecialAbilityLaymines
    OCL                  = OCL_AmericaBattleMines
  End

  Behavior = VeterancyGainCreate ModuleVet_01
    StartingLevel = ELITE
    ScienceRequired = SCIENCE_BattlemasterTraining
  End

  Behavior = ExperienceScalarUpgrade ModuleTag_0800
    TriggeredBy   = Upgrade_AmericaAdvancedTraining
    AddXPScalar   = 1.0 ;Increases experience gained by an additional 100%
  End

  ; A crushing defeat
  Behavior = DestroyDie ModuleTag_08
    DeathTypes = NONE +CRUSHED +SPLATTED
  End
  Behavior = FXListDie ModuleTag_09
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  Behavior = CreateObjectDie ModuleTag_10
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_CrusaderTank_CrushEffect
  End
  Behavior = CreateCrateDie ModuleTag_11
    CrateData = SalvageCrateData
    ;CrateData = EliteTankCrateData
    ;CrateData = HeroicTankCrateData
  End


  Behavior = SlowDeathBehavior ModuleTag_12
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier = 25
    DestructionDelay = 200
    DestructionDelayVariance = 100
    OCL = FINAL    OCL_ChinaTankHeavyBattleMasterDebris
    FX  = FINAL    FX_BattleMasterExplosionOneFinal
  End

  Behavior = TransitionDamageFX ModuleTag_13
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = WeaponSetUpgrade ModuleTag_22
    TriggeredBy = Upgrade_BecomeObjectUpgrade
  End

  Behavior = AutoHealBehavior ModuleTag_0889
    HealingAmount = 2
    HealingDelay = 1000 ; msec
    TriggeredBy = Upgrade_GLAJunkRepair
  End

  Geometry = BOX
  GeometryMajorRadius = 13.0
  GeometryMinorRadius = 9.0
  GeometryHeight = 10
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
;Object Boss_ChinaTankMammothBattleMaster
;
;  ; *** ART Parameters ***
;  SelectPortrait         = MBattlemaster_L
;  ButtonImage            = MBattlemaster
;
;  UpgradeCameo1 = Upgrade_ChinaOmegaBattleDrone
;  UpgradeCameo2 = Upgrade_ChinaUraniumShells
;  UpgradeCameo3 = Upgrade_ChinaNuclearTanks
;  UpgradeCameo4 = Upgrade_AmericaAdvancedTraining
;  UpgradeCameo5 = Upgrade_AmericaCompositeArmor
;
;  Draw = W3DTankDraw ModuleTag_01
;    OkToChangeModelColor = Yes
;    DefaultConditionState
;      Model               = NVTBMaster
;      Turret              = Turret01
;      WeaponFireFXBone    = PRIMARY Muzzle
;      WeaponRecoilBone    = PRIMARY Barrel
;      WeaponMuzzleFlash   = PRIMARY MuzzleFX
;      WeaponLaunchBone    = PRIMARY Muzzle
;    End
;    ConditionState = REALLYDAMAGED
;      Model               = NVTBMaster_D
;      Turret              = Turret01
;      WeaponFireFXBone    = PRIMARY Muzzle
;      WeaponRecoilBone    = PRIMARY Barrel
;      WeaponMuzzleFlash   = PRIMARY MuzzleFX
;      WeaponLaunchBone    = PRIMARY Muzzle
;    End
;    ConditionState = RUBBLE
;      Model               = NVTBMaster_D
;      Turret              = Turret01
;    End
;
;    TrackMarks              = EXTnkTrack.tga
;  End
;
;  ; ***DESIGN parameters ***
;  DisplayName      = OBJECT:MammothBattleMaster
;  Side = Boss
;  EditorSorting   = VEHICLE
;  TransportSlotCount = 3                 ;how many "slots" we take in a transport (0 == not transportable)
;  WeaponSet
;    Conditions = None
;    Weapon = PRIMARY Tank_HeavyBattleMasterTankGun
;  End
;  ArmorSet
;    Conditions      = None
;    Armor           = TankArmor
;    DamageFX        = TankDamageFX
;  End
;  BuildCost       = 800
;  BuildTime       = 12.0          ;in seconds
;  VisionRange     = 150
;  ShroudClearingRange = 300
;
;  ExperienceValue = 100 100 200 400    ;Experience point value at each level
;  ExperienceRequired = 0 200 300 600 ;Experience points needed to gain each level
;  IsTrainable = Yes             ;Can gain experience
;  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
;  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
;  CommandSet       = Tank_ChinaVehicleMammothBattleMasterCommandSet
;
;  ; *** AUDIO Parameters ***
;  VoiceSelect = BattleMasterTankVoiceSelect
;  VoiceMove = BattleMasterTankVoiceMove
;  VoiceGuard = BattleMasterTankVoiceMove
;  VoiceAttack = BattleMasterTankVoiceAttack
;  SoundMoveStart = BattleMasterTankMoveStart
;  SoundMoveStartDamaged = BattleMasterTankMoveStart
;
;  UnitSpecificSounds
;    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
;    VoiceCreate          = BattleMasterTankVoiceCreate
;    TurretMoveStart = NoSound
;    TurretMoveLoop = TurretMoveLoop
;    VoiceCrush = BattleMasterTankVoiceCrush
;    VoiceEnter = BattleMasterTankVoiceMove
;  End
;
;  ; *** ENGINEERING Parameters ***
;  RadarPriority = UNIT
;  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE
;
;  Body = ActiveBody ModuleTag_02
;    MaxHealth       = 400.0
;    InitialHealth   = 400.0
;
;    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
;    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
;    SubdualDamageCap = 800
;    SubdualDamageHealRate = 500
;    SubdualDamageHealAmount = 50
;  End
;
;  Behavior = VeterancyGainCreate ModuleTag_14
;    StartingLevel = VETERAN
;  End
;
;  Behavior = ProductionUpdate ModuleTag_24
;    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
;  End
;
;  Behavior    = OCLSpecialPower ModuleTag_Laymines01
;    SpecialPowerTemplate = SpecialAbilityLaymines
;    OCL                  = OCL_AmericaBattleMines
;  End
;
;  Behavior = ObjectCreationUpgrade ModuleTag_15
;    UpgradeObject = OCL_ChinaOmegaBattleDrone
;    TriggeredBy   = Upgrade_ChinaOmegaBattleDrone
;  End
;
;  Behavior = AIUpdateInterface ModuleTag_03
;    Turret
;      TurretTurnRate = 120   ; turn rate, in degrees per sec
;      ControlledWeaponSlots = PRIMARY
;    End
;    AutoAcquireEnemiesWhenIdle = Yes
;  End
;
;  Locomotor = SET_NORMAL BattleMasterLocomotor
;  Locomotor = SET_NORMAL_UPGRADED NuclearBattleMasterLocomotor
;
;  Behavior = VeterancyGainCreate ModuleVet_01
;    StartingLevel = ELITE
;    ScienceRequired = SCIENCE_BattlemasterTraining
;  End
;
;  Behavior = HordeUpdate ModuleTag_04
;    RubOffRadius = 150    ; if I am this close to a real hordesman, I will get to be an honorary hordesman
;    UpdateRate = 1000     ; how often to recheck horde status (msec)
;    Radius = 75           ; how close other units must be to us to count towards our horde-ness (~30 feet or so)
;    KindOf = VEHICLE      ; what KindOf's must match to count towards horde-ness
;    AlliesOnly = Yes      ; do we only count allies towards horde status?
;    ExactMatch = Yes      ; do we only count units of our exact same type towards horde status? (overrides kindof)
;    Count = 5             ; how many units must be within Radius to grant us horde-ness
;    Action = HORDE        ; when horde-ing, grant us the HORDE bonus
;  End
;
;  Behavior = PhysicsBehavior ModuleTag_05
;    Mass = 40.0
;  End
;
;  Behavior = FireWeaponWhenDeadBehavior ModuleTag_06
;    DeathWeapon   = NuclearTankDeathWeapon
;    StartsActive  = No                        ; turned on by upgrade
;    TriggeredBy   = Upgrade_ChinaNuclearTanks
;  End
;  Behavior = LocomotorSetUpgrade ModuleTag_07
;    TriggeredBy = Upgrade_ChinaNuclearTanks
;  End
;
;  ; A crushing defeat
;  Behavior = DestroyDie ModuleTag_08
;    DeathTypes = NONE +CRUSHED +SPLATTED
;  End
;  Behavior = FXListDie ModuleTag_09
;    DeathTypes = NONE +CRUSHED +SPLATTED
;    DeathFX = FX_CarCrush
;  End
;  Behavior = CreateObjectDie ModuleTag_10
;    DeathTypes = NONE +CRUSHED +SPLATTED
;    CreationList = OCL_CrusaderTank_CrushEffect
;  End
;  Behavior = CreateCrateDie ModuleTag_11
;    CrateData = SalvageCrateData
;    ;CrateData = EliteTankCrateData
;    ;CrateData = HeroicTankCrateData
;  End
;
;
;  Behavior = SlowDeathBehavior ModuleTag_12
;    DeathTypes = ALL -CRUSHED -SPLATTED
;    ProbabilityModifier = 25
;    DestructionDelay = 200
;    DestructionDelayVariance = 100
;    OCL = FINAL    OCL_ChinaTankBattleMasterDebris
;    FX  = FINAL    FX_BattleMasterExplosionOneFinal
;  End
;
;  Behavior = TransitionDamageFX ModuleTag_13
;    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
;    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
;  End
;
;  Behavior = FlammableUpdate ModuleTag_21
;    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
;    AflameDamageAmount = 3       ; taking this much damage...
;    AflameDamageDelay = 500       ; this often.
;  End
;
;  Behavior = ExperienceScalarUpgrade ModuleTag_0800
;    TriggeredBy   = Upgrade_AmericaAdvancedTraining
;    AddXPScalar   = 1.0 ;Increases experience gained by an additional 100%
;  End
;  Behavior = MaxHealthUpgrade ModuleTag_0900
;    TriggeredBy   = Upgrade_AmericaCompositeArmor
;    AddMaxHealth  = 120.0
;    ChangeType    = ADD_CURRENT_HEALTH_TOO   ;Choices are PRESERVE_RATIO, ADD_CURRENT_HEALTH_TOO, and SAME_CURRENTHEALTH
;  End
;
;  Geometry = BOX
;  GeometryMajorRadius = 13.0
;  GeometryMinorRadius = 9.0
;  GeometryHeight = 10
;  GeometryIsSmall = Yes
;  Shadow = SHADOW_VOLUME
;  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length
;
;End
;;;End Project - TipaIvan
;------------------------------------------------------------------------------
;Sentry Drone
Object Boss_VehicleSentryDrone

  ; *** ART Parameters ***
  SelectPortrait         = SAsentry_L
  ButtonImage            = SAsentry
  
  UpgradeCameo1 = Upgrade_AmericaSentryDroneGun
  UpgradeCameo2 = Upgrade_GLAJunkRepair
  ;UpgradeCameo3 = NONE
  ;UpgradeCameo4 = NONE
  ;UpgradeCameo5 = NONE

  Draw = W3DTankDraw ModuleTag_01
    
    InitialRecoilSpeed   = 10
    MaxRecoilDistance    = 1.5
    RecoilSettleSpeed    = 3

    OkToChangeModelColor = Yes

    DefaultConditionState
      Model                           = AVSENTRY
      Animation                       = AVSENTRY.AVSENTRY
      AnimationMode                   = LOOP
      Turret                          = TURRET01
      HideSubObject                   = TURRETUP09  ;Hide controlled turret
      WeaponFireFXBone  = PRIMARY   TurretFX
      WeaponMuzzleFlash = PRIMARY   TurretFX
      WeaponRecoilBone  = PRIMARY   TurretUp
    End
    ConditionState                    = REALLYDAMAGED
      Turret                          = TURRET01
      Model                           = AVSENTRY_D
      Animation                       = AVSENTRY_D.AVSENTRY_D
      AnimationMode                   = LOOP
      HideSubObject                   = TURRETUP09      ;Hide controlled turret
    End
    ConditionState                    = RUBBLE
      Model                           = AVSENTRY_D1
      HideSubObject                   = TURRETUP09      ;Hide controlled turret
    End
    AliasConditionState = RUBBLE WEAPONSET_PLAYER_UPGRADE 
    
    ConditionState = WEAPONSET_PLAYER_UPGRADE
      Model                           = AVSENTRY
      Animation                       = AVSENTRY.AVSENTRY
      AnimationMode                   = LOOP
      ShowSubObject                   = TURRETUP09
    End

    ConditionState = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
      Model                           = AVSENTRY_D
      Animation                       = AVSENTRY_D.AVSENTRY_D
      AnimationMode                   = LOOP
      ShowSubObject                   = TURRETUP09
    End
      TrackMarks           = EXTnkTrack.tga
      TreadDebrisLeft      = SentryDroneTrackDebrisDirtLeft
      TreadDebrisRight     = SentryDroneTrackDebrisDirtRight
      TreadAnimationRate   = 4.0  ; amount of tread texture to move per second
    End

  ; ***DESIGN parameters ***
  DisplayName        = OBJECT:SentryDrone
  Side               = Boss
  EditorSorting      = VEHICLE
  TransportSlotCount = 1                 ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions = None 
    Weapon = PRIMARY None
  End
  WeaponSet
    Conditions = PLAYER_UPGRADE
    Weapon = PRIMARY SentryDroneGun
  End
  ArmorSet
    Conditions      = None
    Armor           = HumveeArmor
    DamageFX        = TruckDamageFX
  End
  BuildCost       = 800
  BuildTime       = 10.0          ;in seconds    
  VisionRange     = 180
  ShroudClearingRange = 350
  Prerequisites
    Object = Boss_CommandCenter
  End

  ExperienceValue = 50 50 100 150   ;Experience point value at each level
  ExperienceRequired = 0 100 150 300  ;Experience points needed to gain each level
  IsTrainable = No             ;Can gain experience
  CrusherLevel           = 0  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet    = AmericaVehicleSentryDroneCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect           = SentryDroneVoiceSelect
  VoiceMove             = SentryDroneVoiceMove
  VoiceGuard            = SentryDroneVoiceMove
  VoiceAttack           = SentryDroneVoiceMove
  SoundMoveStart        = NoSound
  SoundMoveStartDamaged = NoSound
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate         = NoSound
    TurretMoveStart     = NoSound
    TurretMoveLoop      = NoSound
    VoiceEnter          = NoSound
    Deploy              = NoSound
    Undeploy            = NoSound
  End
  Behavior = WeaponSetUpgrade ModuleTag_03
    TriggeredBy = Upgrade_AmericaSentryDroneGun
  End


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS VEHICLE SCORE ATTACK_NEEDS_LINE_OF_SIGHT DRONE SALVAGER
  
  Body = ActiveBody ModuleTag_02
    MaxHealth       = 300.0
    InitialHealth   = 300.0
  End
  Behavior = DeployStyleAIUpdate ModuleTag_04
    Turret
      TurretTurnRate        = 180
      TurretPitchRate       = 180
      FirePitch             = 0            ; Instead of aiming pitchwise at the target, it will aim here
      AllowsPitch           = No
      RecenterTime          = 1000         ; how long to wait during idle before recentering
      ControlledWeaponSlots = PRIMARY
      NaturalTurretAngle    = 0
      InitiallyDisabled     = No
      MinIdleScanInterval   = 250    ; in milliseconds
      MaxIdleScanInterval   = 250    ; in milliseconds
      MinIdleScanAngle      = 0       ; in degrees off the natural turret angle
      MaxIdleScanAngle      = 360     ; in degrees off the natural turret angle
    End
    AutoAcquireEnemiesWhenIdle = Yes Stealthed ; Means "Yes when idle, even if I am stealthed"
    PackTime = 1000
    UnpackTime = 1000
    TurretsFunctionOnlyWhenDeployed = Yes
    TurretsMustCenterBeforePacking = Yes
  End

  Behavior = HordeUpdate ModuleTag_04578
    RubOffRadius = 150    ; if I am this close to a real hordesman, I will get to be an honorary hordesman
    UpdateRate = 1000     ; how often to recheck horde status (msec)
    Radius = 75           ; how close other units must be to us to count towards our horde-ness (~30 feet or so)
    KindOf = VEHICLE      ; what KindOf's must match to count towards horde-ness
    AlliesOnly = Yes      ; do we only count allies towards horde status?
    ExactMatch = Yes      ; do we only count units of our exact same type towards horde status? (overrides kindof)
    Count = 5             ; how many units must be within Radius to grant us horde-ness
    Action = HORDE        ; when horde-ing, grant us the HORDE bonus
  End

  Locomotor = SET_NORMAL SentryLocomotor
  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 50.0
  End
  Behavior = StealthUpdate ModuleTag_06
    StealthDelay                = 2000 ; msec
    StealthForbiddenConditions  = FIRING_PRIMARY MOVING
    HintDetectableConditions    = IS_FIRING_WEAPON 
    FriendlyOpacityMin          = 50.0%
    FriendlyOpacityMax          = 100.0%
    InnateStealth               = Yes
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
  End

  Behavior = SlowDeathBehavior ModuleTag_07
    DeathTypes = ALL -CRUSHED -SPLATTED
    DestructionDelay  = 500
    DestructionDelayVariance  = 100
    FX  = INITIAL  FX_GenericTankDeathEffect
    OCL = MIDPOINT OCL_AmericaVehicleSentryDroneDie
    FX =  FINAL FX_AmericaVehicleTomahawkDeathExplosion
  End

  Behavior = DestroyDie ModuleTag_08
    DeathTypes = NONE +CRUSHED +SPLATTED
  End

  Behavior = FXListDie ModuleTag_09
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End

  Behavior = CreateCrateDie ModuleTag_CratesChange
    CrateData = SalvageCrateData
    ;CrateData = EliteTankCrateData
    ;CrateData = HeroicTankCrateData
  End

  Behavior = TransitionDamageFX ModuleTag_10
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_11
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End
  Behavior = StealthDetectorUpdate ModuleTag_12
    DetectionRate             = 900   ; how often to rescan for stealthed things in my sight (msec)
    ;DetectionRange           = ??? ;Dustin, enable this for independant balancing!
  End

  Behavior = AutoHealBehavior ModuleTag_0889
    HealingAmount = 2
    HealingDelay = 1000 ; msec
    TriggeredBy = Upgrade_GLAJunkRepair
  End

  Geometry = BOX
  GeometryMajorRadius = 9.0
  GeometryMinorRadius = 7.0
  GeometryHeight = 11.5     
  GeometryIsSmall = Yes 
  Scale = 0.8
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length


End

;------------------------------------------------------------------------------
Object Boss_TankAvenger

  ; *** ART Parameters ***
  SelectPortrait         = AssaultHumvee_L
  ButtonImage            = AssaultHumvee

  UpgradeCameo1 = Upgrade_AmericaBattleDrone
  UpgradeCameo2 = Upgrade_AmericaScoutDrone
  UpgradeCameo3 = Upgrade_AmericaAdvancedTraining
  UpgradeCameo4 = Upgrade_AmericaHellfireDrone
  UpgradeCameo5 = Upgrade_GLAJunkRepair

  Draw = W3DTruckDraw ModuleTag_01
    OkToChangeModelColor = Yes

    ConditionState = NONE
      Model = BvHummer
      Turret = Turret
      WeaponFireFXBone = PRIMARY turretfx01
      WeaponMuzzleFlash = PRIMARY TurretFX01
    End

    ConditionState = REALLYDAMAGED
      Model = BvHummer;_D
      Turret = Turret
      WeaponFireFXBone = PRIMARY turretfx01
      WeaponMuzzleFlash = PRIMARY TurretFX01
    End

    TrackMarks = EXTireTrack.tga

    Dust = RocketBuggyDust
    DirtSpray = RocketBuggyDirtSpray
    PowerslideSpray = RocketBuggyDirtPowerSlide

    ; These parameters are only used if the model has a separate suspension,
    ; and the locomotor has HasSuspension = Yes.
    LeftFrontTireBone = Tire01
    RightFrontTireBone = Tire02
    LeftRearTireBone = Tire03
    RightRearTireBone = Tire04
    TireRotationMultiplier = 0.2   ; this * speed = rotation.
    PowerslideRotationAddition = 1.25   ; This speed is added to the rotation speed when powersliding.

  End

  ; ***DESIGN parameters ***
  DisplayName           = OBJECT:AssaultHumvee
  Side                  = Boss
  EditorSorting         = VEHICLE
  TransportSlotCount    = 3                 ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions = None
    Weapon = PRIMARY AssaultHumveeGun
  End
  ArmorSet
    Conditions      = None
    Armor           = HumveeArmor
    DamageFX        = TruckDamageFX
  End
  BuildCost       = 150
  BuildTime       = 8.0          ;in seconds
  VisionRange     = 150
  ShroudClearingRange = 320
  ExperienceValue = 50 50 100 150   ;Experience point value at each level
  ExperienceRequired = 0 100 150 300  ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet      = BOSSAmericaVehicleHumveeCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = HumveeVoiceSelect
  VoiceMove = HumveeVoiceMove
  VoiceGuard = HumveeVoiceMove
  VoiceAttack = HumveeVoiceAttack
  VoiceAttackAir = HumveeVoiceAttackTOW
  SoundMoveStart = HumveeMoveStart
  SoundMoveStartDamaged = HumveeMoveStart
  SoundEnter = HumveeEnter
  SoundExit = HumveeExit

  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    ;TurretMoveStart    = NoSound
    VoiceCreate         = HumveeVoiceCreate
    TurretMoveLoop      = TurretMoveLoop
    SoundEject          = PilotSoundEject
    VoiceEject          = PilotVoiceEject
    VoiceCrush          = HumveeVoiceCrush
  ; Required for the W3DTruckDraw module
    TruckLandingSound = RocketBuggyLand
    TruckPowerslideSound = RocketBuggyPowerslide
    VoiceUnload = HumveeVoiceUnload
    VoiceEnter = HumveeVoiceMove
  End


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE TRANSPORT CLIFF_JUMPER SALVAGER

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 350.0
    InitialHealth   = 350.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 480
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End
  Behavior = TransportAIUpdate ModuleTag_03
    Turret
      TurretTurnRate = 180
      RecenterTime = 5000   ; how long to wait during idle before recentering
      ControlledWeaponSlots = PRIMARY
    End
    AutoAcquireEnemiesWhenIdle = Yes
    MoodAttackCheckRate        = 250
  End
  Locomotor = SET_NORMAL AssaultHumveeLocomotor

  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 50.0
  End

  Behavior = HordeUpdate ModuleTag_04678
    RubOffRadius = 150    ; if I am this close to a real hordesman, I will get to be an honorary hordesman
    UpdateRate = 1000     ; how often to recheck horde status (msec)
    Radius = 75           ; how close other units must be to us to count towards our horde-ness (~30 feet or so)
    KindOf = VEHICLE      ; what KindOf's must match to count towards horde-ness
    AlliesOnly = Yes      ; do we only count allies towards horde status?
    ExactMatch = Yes      ; do we only count units of our exact same type towards horde status? (overrides kindof)
    Count = 5             ; how many units must be within Radius to grant us horde-ness
    Action = HORDE        ; when horde-ing, grant us the HORDE bonus
  End

  Behavior = TransportContain  ModuleTag_05
    PassengersAllowedToFire = Yes
    Slots             = 7
;    EnterSound          = GarrisonEnter
;    ExitSound           = GarrisonExit
    DamagePercentToUnits = 95%
    AllowInsideKindOf  = INFANTRY
    ExitDelay = 250
    NumberOfExitPaths = 3 ; Defaults to 1.  Set 0 to not use ExitStart/ExitEnd, set higher than 1 to use ExitStart01-nn/ExitEnd01-nn
    GoAggressiveOnExit = Yes ; AI Will tell people to set their mood to Aggressive on exiting
  End

  Behavior = ObjectCreationUpgrade ModuleTag_06
    UpgradeObject = OCL_AmericanBattleDrone
    TriggeredBy   = Upgrade_AmericaBattleDrone
    ConflictsWith = Upgrade_AmericaScoutDrone Upgrade_AmericaHellfireDrone
  End
  Behavior = ObjectCreationUpgrade ModuleTag_07
    UpgradeObject = OCL_AmericanScoutDrone
    TriggeredBy   = Upgrade_AmericaScoutDrone
    ConflictsWith = Upgrade_AmericaBattleDrone Upgrade_AmericaHellfireDrone
  End
  Behavior = ObjectCreationUpgrade ModuleTag_14
    UpgradeObject = OCL_AmericanHellfireDrone
    TriggeredBy   = Upgrade_AmericaHellfireDrone
    ConflictsWith = Upgrade_AmericaBattleDrone Upgrade_AmericaScoutDrone
  End
  Behavior = ProductionUpdate ModuleTag_08
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End

  Behavior = ExperienceScalarUpgrade ModuleTag_10
    TriggeredBy = Upgrade_AmericaAdvancedTraining
    AddXPScalar = 1.0 ;Increases experience gained by an additional 100%
  End

  Behavior = SlowDeathBehavior ModuleTag_11
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier = 25
    DestructionDelay = 1
    OCL = INITIAL  OCL_InitialHumveeDebris
    FX  = FINAL    FX_BattleMasterExplosionOneFinal
    OCL = FINAL    OCL_FinalHumveeDebris
  End

  Behavior = DestroyDie ModuleTag_12
    DeathTypes = NONE +CRUSHED +SPLATTED
  End

  Behavior = FXListDie ModuleTag_13
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End

  Behavior = CreateCrateDie ModuleTag_CratesChange
    CrateData = SalvageCrateData
    ;CrateData = EliteTankCrateData
    ;CrateData = HeroicTankCrateData
  End

  Behavior = EjectPilotDie ModuleTag_16
    DeathTypes = ALL -CRUSHED -SPLATTED
    ExemptStatus = HIJACKED
    ; The following added out per hotlist request 10/9 as above ML
    VeterancyLevels =  ALL -REGULAR ;only vet+ gives pilot
    GroundCreationList = OCL_EjectPilotOnGround
    AirCreationList = OCL_EjectPilotViaParachute
  End

  Behavior = TransitionDamageFX ModuleTag_17
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = AutoHealBehavior ModuleTag_0889
    HealingAmount = 2
    HealingDelay = 1000 ; msec
    TriggeredBy = Upgrade_GLAJunkRepair
  End

  Geometry = BOX
  GeometryMajorRadius = 14.0
  GeometryMinorRadius = 7.0
  GeometryHeight = 11.5
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object Boss_TankOverlord

  ; *** ART Parameters ***
  SelectPortrait         = Mamonth
  ButtonImage            = Mamonth
  
  UpgradeCameo1 = Upgrade_GLAJunkRepair
  UpgradeCameo2 = Upgrade_ChinaNuclearTanks
  UpgradeCameo3 = Upgrade_ChinaOverlordBattleBunker
  UpgradeCameo4 = Upgrade_ChinaOverlordGattlingCannon
  UpgradeCameo5 = Upgrade_ChinaOverlordPropagandaTower
  
  
  Draw = W3DOverlordTankDraw ModuleTag_01
    ConditionState        = NONE
      Model               = Mammoth
      Turret              = Turret01
      WeaponFireFXBone    = PRIMARY TurretFX
      WeaponRecoilBone    = PRIMARY Barrel
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      WeaponLaunchBone    = PRIMARY TurretMS
    End
    ConditionState        = REALLYDAMAGED
      Model               = Mammoth;_D;BVMammoth_D
      Turret              = Turret01
      WeaponFireFXBone    = PRIMARY TurretFX
      WeaponRecoilBone    = PRIMARY Barrel
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      WeaponLaunchBone    = PRIMARY TurretMS
    End

    ConditionState        = RUBBLE
      Model               = BVMammoth_D
      Turret              = Turret01
      WeaponFireFXBone    = PRIMARY TurretFX
      WeaponRecoilBone    = PRIMARY Barrel
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      WeaponLaunchBone    = PRIMARY TurretMS
    End

    TrackMarks           = EXTnkTrack.tga
    OkToChangeModelColor = Yes
    TreadAnimationRate = 2.0;  amount of tread texture to move per second
    TreadDriveSpeedFraction = 0.3  ; fraction of locomotor speed below which treads stop moving.
    TreadPivotSpeedFraction = 0.6  ; fraction of locomotor speed below which we allow pivoting.
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:MammothOverlord
  Side                = Boss
  EditorSorting       = VEHICLE
  TransportSlotCount  = 6                 ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions        = None 
    Weapon            = PRIMARY MammothOverlordTankGun
  End
  WeaponSet
    Conditions        = PLAYER_UPGRADE
    Weapon            = PRIMARY MammothOverlordTankGun
    Weapon            = SECONDARY GattlingBuildingGunAirDummy ;Dummy weapon that allows manual targeting of air units outside range; gattling cannon upgrade has been made.
  End
  ArmorSet
    Conditions        = None
    Armor             = TankArmor
    DamageFX          = TankDamageFX
  End
  BuildCost       = 2400
  BuildTime       = 25.0          ;in seconds    
  VisionRange     = 150
  ShroudClearingRange = 200
  Prerequisites
    Object = Boss_TechCentr
  End

  ExperienceValue = 200 200 400 600   ;Experience point value at each level
  ExperienceRequired = 0 400 600 1200  ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 3  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 3  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = ChinaTankOverlordNewCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = OverlordTankVoiceSelect
  SoundMoveStart = OverlordTankMoveStart
  SoundMoveStartDamaged = OverlordTankMoveStart
  VoiceMove = OverlordTankVoiceMove
  VoiceGuard = OverlordTankVoiceMove
  VoiceAttack = OverlordTankVoiceAttack

  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate          = OverlordTankVoiceCreate
    TurretMoveStart = NoSound
    TurretMoveLoop = OverlordTankTurretMoveLoop
    VoiceCrush = OverlordTankVoiceCrush
    VoiceEnter = OverlordTankVoiceMove
    VoiceUnload     = OverlordTankVoiceUnload
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE HUGE_VEHICLE SALVAGER
  
  Body = ActiveBody ModuleTag_02
    MaxHealth       = 1200.0
    InitialHealth   = 1200.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 2200
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

  Behavior = TransportAIUpdate ModuleTag_03
    Turret
      TurretTurnRate = 60 ;30 ;15   // turn rate, in degrees per sec
      ControlledWeaponSlots = PRIMARY
    End
    AutoAcquireEnemiesWhenIdle = Yes
  End

  Behavior = HordeUpdate ModuleTag_04567
    RubOffRadius = 150    ; if I am this close to a real hordesman, I will get to be an honorary hordesman
    UpdateRate = 1000     ; how often to recheck horde status (msec)
    Radius = 75           ; how close other units must be to us to count towards our horde-ness (~30 feet or so)
    KindOf = VEHICLE      ; what KindOf's must match to count towards horde-ness
    AlliesOnly = Yes      ; do we only count allies towards horde status?
    ExactMatch = Yes      ; do we only count units of our exact same type towards horde status? (overrides kindof)
    Count = 5             ; how many units must be within Radius to grant us horde-ness
    Action = HORDE        ; when horde-ing, grant us the HORDE bonus
  End

  Locomotor = SET_NORMAL OverlordLocomotor
  Locomotor = SET_NORMAL_UPGRADED NuclearOverlordLocomotor

  Behavior = FireWeaponWhenDeadBehavior ModuleTag_04
    DeathWeapon   = NuclearTankDeathWeapon
    StartsActive  = No                        ; turned on by upgrade
    TriggeredBy   = Upgrade_ChinaNuclearTanks
  End
  Behavior = LocomotorSetUpgrade ModuleTag_05
    TriggeredBy = Upgrade_ChinaNuclearTanks
  End

  Behavior = ProductionUpdate ModuleTag_99
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End

  Behavior    = OCLSpecialPower ModuleTag_Laymines01
    SpecialPowerTemplate = SpecialAbilityLaymines
    OCL                  = OCL_AmericaBattleMines
  End

  Behavior = ObjectCreationUpgrade ModuleTag_96
    UpgradeObject = OCL_ChinaOmegaBattleDrone
    TriggeredBy   = Upgrade_ChinaOmegaBattleDrone
  End

  Behavior = OverlordContain ModuleTag_06 ; Like Transport, but when full, passes transport queries along to first passenger (redirects like tunnel)
    Slots                 = 1
    DamagePercentToUnits        = 100%
    AllowInsideKindOf     = PORTABLE_STRUCTURE
    PassengersAllowedToFire = Yes
    PassengersInTurret = Yes ; My passengers ride in my turret, that's where the Firepoint bones are
    ExperienceSinkForRider = Yes ; I get the Exp for things my turret friend kills
  End

  Behavior = ObjectCreationUpgrade ModuleTag_07
    UpgradeObject = OCL_OverlordGattlingCannon
    TriggeredBy   = Upgrade_ChinaOverlordGattlingCannon
    ConflictsWith = Upgrade_ChinaOverlordPropagandaTower Upgrade_ChinaOverlordBattleBunker
  End
  Behavior = WeaponSetUpgrade ModuleTag_WeaponSetUpgrade01
    TriggeredBy = Upgrade_ChinaOverlordGattlingCannon
    ConflictsWith = Upgrade_ChinaOverlordPropagandaTower Upgrade_ChinaOverlordBattleBunker
  End
  Behavior = ObjectCreationUpgrade ModuleTag_08
    UpgradeObject = OCL_OverlordPropagandaTower
    TriggeredBy   = Upgrade_ChinaOverlordPropagandaTower
    ConflictsWith = Upgrade_ChinaOverlordGattlingCannon Upgrade_ChinaOverlordBattleBunker
  End
  Behavior = ObjectCreationUpgrade ModuleTag_09
    UpgradeObject = OCL_OverlordBattleBunker
    TriggeredBy   = Upgrade_ChinaOverlordBattleBunker
    ConflictsWith = Upgrade_ChinaOverlordGattlingCannon Upgrade_ChinaOverlordPropagandaTower
  End
  Behavior = ProductionUpdate ModuleTag_10
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End
  Behavior = CommandSetUpgrade ModuleTag_11
    CommandSet = ChinaTankOverlordGattlingCannonCommandSet
    TriggeredBy   = Upgrade_ChinaOverlordGattlingCannon
    ConflictsWith = Upgrade_ChinaOverlordPropagandaTower Upgrade_ChinaOverlordBattleBunker
  End
  Behavior = CommandSetUpgrade ModuleTag_12
    CommandSet = ChinaTankOverlordPropagandaTowerCommandSet
    TriggeredBy   = Upgrade_ChinaOverlordPropagandaTower
    ConflictsWith = Upgrade_ChinaOverlordGattlingCannon Upgrade_ChinaOverlordBattleBunker
  End
  Behavior = CommandSetUpgrade ModuleTag_13
    CommandSet = ChinaTankOverlordBattleBunkerCommandSet
    TriggeredBy   = Upgrade_ChinaOverlordBattleBunker
    ConflictsWith = Upgrade_ChinaOverlordGattlingCannon Upgrade_ChinaOverlordPropagandaTower
  End

  Behavior = PhysicsBehavior ModuleTag_14
    Mass = 50.0
  End

  ; Just explode death
  Behavior = SlowDeathBehavior ModuleTag_16
    ProbabilityModifier = 25
    DestructionDelay = 200
    DestructionDelayVariance = 100
    OCL = FINAL    OCL_ChinaTankOverlordDebris
    FX  = FINAL    FX_OverlordExplosionOneFinal
  End
  Behavior = CreateCrateDie ModuleTag_17
    CrateData = SalvageCrateData
    ;CrateData = EliteTankCrateData
    ;CrateData = HeroicTankCrateData
  End

  Behavior = TransitionDamageFX ModuleTag_18
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_OverlordDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = AutoHealBehavior ModuleTag_0899
    HealingAmount = 1
    HealingDelay = 1000 ; msec
    TriggeredBy = Upgrade_GLAJunkRepair
  End

  Geometry = BOX
  GeometryMajorRadius = 26.0
  GeometryMinorRadius = 13.0
  GeometryHeight = 15.0     
  GeometryIsSmall = No
  Shadow = SHADOW_VOLUME     
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object Boss_TankDragon

  ; *** ART Parameters ***
  SelectPortrait         = SUBattleVan_L
  ButtonImage            = SUBattleVan

  UpgradeCameo1 = Upgrade_GLAJunkRepair
  UpgradeCameo2 = Upgrade_AmericaAdvancedTraining
  UpgradeCameo3 = Upgrade_ChinaOmegaBattleDrone

  Draw = W3DTruckDraw ModuleTag_01
    OkToChangeModelColor = Yes

    DefaultConditionState
      Model = UVBattleVan
      Turret = TURRET
      TurretPitch = TURRETEL
      WeaponFireFXBone = PRIMARY Muzzle
      WeaponMuzzleFlash = PRIMARY MuzzleFX
      WeaponLaunchBone = PRIMARY Muzzle
    End

    ConditionState = REALLYDAMAGED
      Model = UVBattleVan_D
    End

    ConditionState = RUBBLE
      Model = UVBattleVan_D
    End

   TrackMarks = EXTireTrack.tga

    ; These parameters are only used if the model has a separate suspension,
    ; and the locomotor has HasSuspension = Yes.
    LeftFrontTireBone = Tire01
    RightFrontTireBone = Tire02
    LeftRearTireBone = Tire03
    RightRearTireBone = Tire04
    TireRotationMultiplier = 0.2   ; this * speed = rotation.
    PowerslideRotationAddition = 2.5   ; This speed is added to the rotation speed when powersliding.
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:BattleVan
  Side = Boss
  EditorSorting   = VEHICLE
  TransportSlotCount = 3                 ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions = None
    Weapon = PRIMARY BVRPGWeapon
  End
  ArmorSet
    Conditions      = None
    Armor           = TruckArmor
    DamageFX        = TankDamageFX
  End
  BuildCost       = 800
  BuildTime       = 10.0          ;in seconds
  VisionRange     = 200
  ShroudClearingRange = 500
  ExperienceValue        = 100 100 200 400 ;Experience point value at each level
  ExperienceRequired     = 0 200 300 600 ;Experience points needed to gain each level

  IsTrainable     = Yes
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet      = GLABattleVanCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = RadarVanVoiceSelect
  VoiceMove = RadarVanVoiceMove
  VoiceAttack = RadarVanVoiceMove
  SoundMoveStart = RadarVanMoveStart
  SoundMoveStartDamaged = RadarVanMoveStart

  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate     = RadarVanVoiceCreate
    TurretMoveStart = NoSound
    TurretMoveLoop = TurretMoveLoop
  ; Required for the W3DTruckDraw module
    TruckLandingSound = NoSound ;RocketBuggyLand
    TruckPowerslideSound = NoSound ;RocketBuggyPowerslide
    VoiceCrush      = RadarVanVoiceCrush
    VoiceEnter = RadarVanVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS VEHICLE SALVAGER SCORE IGNORES_SELECT_ALL

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 400
    InitialHealth   = 400

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 400
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

  Behavior = HordeUpdate ModuleTag_04667
    RubOffRadius = 150    ; if I am this close to a real hordesman, I will get to be an honorary hordesman
    UpdateRate = 1000     ; how often to recheck horde status (msec)
    Radius = 75           ; how close other units must be to us to count towards our horde-ness (~30 feet or so)
    KindOf = VEHICLE      ; what KindOf's must match to count towards horde-ness
    AlliesOnly = Yes      ; do we only count allies towards horde status?
    ExactMatch = Yes      ; do we only count units of our exact same type towards horde status? (overrides kindof)
    Count = 5             ; how many units must be within Radius to grant us horde-ness
    Action = HORDE        ; when horde-ing, grant us the HORDE bonus
  End

  Behavior = ExperienceScalarUpgrade ModuleTag_081
    TriggeredBy   = Upgrade_AmericaAdvancedTraining
    AddXPScalar   = 1.0 ;Increases experience gained by an additional 100%
  End


  ExperienceValue     = 20 20 20 20  ; Experience point value at each level
  
  Behavior = AutoHealBehavior ModuleTag_08
    HealingAmount = 2
    HealingDelay = 1000 ; msec
    TriggeredBy = Upgrade_GLAJunkRepair
  End

  Behavior = TransportContain  ModuleTag_99
    PassengersAllowedToFire = Yes
    Slots             = 6
    DamagePercentToUnits = 100%
    AllowInsideKindOf  = INFANTRY
    ExitDelay = 250
    NumberOfExitPaths = 5 ; Defaults to 1.  Set 0 to not use ExitStart/ExitEnd, set higher than 1 to use ExitStart01-nn/ExitEnd01-nn
    GoAggressiveOnExit = Yes ; AI Will tell people to set their mood to Aggressive on exiting
    WeaponBonusPassedToPassengers = Yes
    DelayExitInAir = Yes
  End

  Behavior = AIUpdateInterface ModuleTag_09
    Turret
      TurretTurnRate = 100
      TurretPitchRate       = 100
      AllowsPitch           = Yes
      NaturalTurretPitch    = 20
      GroundUnitPitch       = 20
      MinPhysicalPitch      = -20
      ControlledWeaponSlots = PRIMARY
    End
  End
  Locomotor = SET_NORMAL BattleVanLocomotor

  Behavior = PhysicsBehavior ModuleTag_10
    Mass = 50.0
  End

; The default explosion
  Behavior = SlowDeathBehavior  ModuleTag_11
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier = 5
    ModifierBonusPerOverkillPercent = 20%  ; negative means less likely to pick this in the face of much damage, positive means more likely
    DestructionDelay = 0
    DestructionDelayVariance = 200
    FX = FINAL FX_BuggyNewDeathExplosion
    OCL = FINAL OCL_RadarVanDeathEffect
  End


  Behavior = FlammableUpdate ModuleTag_13
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = DestroyDie ModuleTag_14
    DeathTypes = NONE +CRUSHED +SPLATTED
  End
  Behavior = CreateCrateDie ModuleTag_15
    CrateData = SalvageCrateData
    ;CrateData = EliteTankCrateData
    ;CrateData = HeroicTankCrateData
  End

  Behavior = StealthDetectorUpdate ModuleTag_16
    DetectionRate   = 500   ; how often to rescan for stealthed things in my sight (msec)
    ;DetectionRange = ??? ;Dustin, enable this for independant balancing!
    CanDetectWhileGarrisoned  = No ;Garrisoned means being in a structure that you units can shoot out of.
    CanDetectWhileContained   = No ;Contained means being in a transport or tunnel network.
  End

  ; A crushing defeat
  Behavior = FXListDie ModuleTag_17
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  Behavior = CreateObjectDie ModuleTag_18
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_CrusaderTank_CrushEffect
  End

  Behavior                 = TransitionDamageFX ModuleTag_19
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_CrusaderDamageTransition
  End

  Behavior = ObjectCreationUpgrade ModuleTag_96
    UpgradeObject = OCL_ChinaOmegaBattleDrone
    TriggeredBy   = Upgrade_ChinaOmegaBattleDrone
  End

  Behavior    = OCLSpecialPower ModuleTag_Laymines01
    SpecialPowerTemplate = SpecialAbilityLaymines
    OCL                  = OCL_AmericaBattleMines
  End

  Behavior = ProductionUpdate ModuleTag_0800
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End

  Geometry = BOX
  GeometryMajorRadius = 16.0
  GeometryMinorRadius = 6.0
  GeometryHeight = 12.5
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ;minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object Boss_TankGattling

  ; *** ART Parameters ***
  SelectPortrait         = BossLaver;_L
  ButtonImage            = BossLaver
  
  UpgradeCameo1 = Upgrade_ChinaChainGuns
  UpgradeCameo2 = Upgrade_AmericaAdvancedTraining
  UpgradeCameo3 = Upgrade_GLAJunkRepair
  
  Draw = W3DOverlordTruckDraw ModuleTag_01
    OkToChangeModelColor  = Yes
    ExtraPublicBone = TurretFX01
    ExtraPublicBone = TurretFX02
    ExtraPublicBone = TurretFX03
    ExtraPublicBone = LazerSpot01
    ExtraPublicBone = LazerSpot02
    ExtraPublicBone = FIREPOINT01
    DefaultConditionState
      Model               = AVAVNGER
      TurretPitch = TURRETEL01
      Turret = TURRET01
    End
    
    ConditionState        = REALLYDAMAGED
      Model               = AVAVNGER_D
    End
    
    ConditionState        = RUBBLE
      Model               = AVAVNGER_D1
    End
    
    Dust = RocketBuggyDust
    DirtSpray = RocketBuggyDirtSpray
    PowerslideSpray = RocketBuggyDirtPowerSlide

    ; These parameters are only used if the model has a separate suspension, 
    ; and the locomotor has HasSuspension = Yes.
    LeftFrontTireBone = Tire01
    RightFrontTireBone = Tire02
    LeftRearTireBone = Tire03
    RightRearTireBone = Tire04
    TireRotationMultiplier = 0.2   ; this * speed = rotation.
    PowerslideRotationAddition = 0.0   ; This speed is added to the rotation speed when powersliding.
   End
   
  Draw = W3DModelDraw ModuleTag_99

    OkToChangeModelColor        = Yes
    AttachToBoneInAnotherModule = FIREPOINT01

    ; ------------------ basic technical ------------------------
    DefaultConditionState
      Model               = NVOvrlrdTG_G
      Turret              = TURRET01
      TurretPitch         = TURRETEL
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      WeaponFireFXBone    = SECONDARY Muzzle
      WeaponMuzzleFlash   = SECONDARY MuzzleFX
    End
    ConditionState        = USING_WEAPON_B
      Model               = NVOvrlrdTG_G
      Turret              = TURRET01
      TurretPitch         = TURRETEL
      WeaponFireFXBone    = SECONDARY Muzzle
      WeaponMuzzleFlash   = SECONDARY MuzzleFX
    End
    ConditionState        = ATTACKING
      Model               = NVOvrlrdTG_G
      Animation           = NVOvrlrdTG_G.NVOvrlrdTG_G
      AnimationMode       = LOOP
      AnimationSpeedFactorRange = 0.5 0.5 ;set this state to animate  s l o w l y
    End
    ConditionState        = CONTINUOUS_FIRE_SLOW
      Model               = NVOvrlrdTG_G
      Animation           = NVOvrlrdTG_G.NVOvrlrdTG_G
      AnimationMode       = LOOP
      AnimationSpeedFactorRange = 0.8 0.8 ;set this state to animate  s l o w l y
    End
     ConditionState       = CONTINUOUS_FIRE_MEAN
      Model               = NVOvrlrdTG_G
      Animation           = NVOvrlrdTG_G.NVOvrlrdTG_G
      AnimationMode       = LOOP
      AnimationSpeedFactorRange = 1.5 1.5 ;set this state to animate  medium-fast
    End
    ConditionState        = CONTINUOUS_FIRE_FAST
      Model               = NVOvrlrdTG_G
      Animation           = NVOvrlrdTG_G.NVOvrlrdTG_G
      AnimationMode       = LOOP
      AnimationSpeedFactorRange = 3.0 3.0 ;set this state to animate  vryfst
      ParticleSysBone    = Muzzle01 GattlingMuzzleSmoke
      ParticleSysBone    = Muzzle02 GattlingMuzzleSmoke
    End

    ConditionState        = REALLYDAMAGED
      Model               = NVOvrlrdTG_GD
      Turret              = TURRET01
      TurretPitch         = TURRETEL
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      ParticleSysBone     = Smoke01 SmokeFactionMedium
      ParticleSysBone     = Smoke02 SmokeFactionMedium
      ParticleSysBone     = Smoke03 SmokeFactionMedium
      ParticleSysBone     = SparkM01 SparksMedium
      ParticleSysBone     = SparkM02 SparksMedium
    End
    ConditionState        = USING_WEAPON_B REALLYDAMAGED
      Model               = NVOvrlrdTG_GD
      Turret              = TURRET01
      TurretPitch         = TURRETEL
      WeaponFireFXBone    = SECONDARY Muzzle
      WeaponMuzzleFlash   = SECONDARY MuzzleFX
      ParticleSysBone     = Smoke01 SmokeFactionMedium
      ParticleSysBone     = Smoke02 SmokeFactionMedium
      ParticleSysBone     = Smoke03 SmokeFactionMedium
      ParticleSysBone     = SparkM01 SparksMedium
      ParticleSysBone     = SparkM02 SparksMedium
    End
    ConditionState        = ATTACKING REALLYDAMAGED
      Model               = NVOvrlrdTG_GD
      Animation           = NVOvrlrdTG_GD.NVOvrlrdTG_GD
      AnimationMode       = LOOP
      AnimationSpeedFactorRange = 0.5 0.5 ;set this state to animate  s l o w l y
    End
    ConditionState        = CONTINUOUS_FIRE_SLOW REALLYDAMAGED
      Model               = NVOvrlrdTG_GD
      Animation           = NVOvrlrdTG_GD.NVOvrlrdTG_GD
      AnimationMode       = LOOP
      AnimationSpeedFactorRange = 0.8 0.8 ;set this state to animate  s l o w l y
    End
     ConditionState       = CONTINUOUS_FIRE_MEAN REALLYDAMAGED
      Model               = NVOvrlrdTG_GD
      Animation           = NVOvrlrdTG_GD.NVOvrlrdTG_GD
      AnimationMode       = LOOP
      AnimationSpeedFactorRange = 1.5 1.5 ;set this state to animate  medium-fast
    End
    ConditionState        = CONTINUOUS_FIRE_FAST REALLYDAMAGED
      Model               = NVOvrlrdTG_GD
      Animation           = NVOvrlrdTG_GD.NVOvrlrdTG_GD
      AnimationMode       = LOOP
      AnimationSpeedFactorRange = 3.0 3.0 ;set this state to animate  vryfst
      ParticleSysBone    = Muzzle01 GattlingMuzzleSmoke
      ParticleSysBone    = Muzzle02 GattlingMuzzleSmoke
    End
  End

  ; ***DESIGN parameters ***
  DisplayName      = CONTROLBAR:ConstructBossLaver
  Side = Boss
  EditorSorting   = VEHICLE
  TransportSlotCount = 3                 ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions = None 
    Weapon = PRIMARY Tank_GattlingUpgradeGun
    PreferredAgainst    = PRIMARY  VEHICLE STRUCTURE INFANTRY
    Weapon = SECONDARY Lavn_GattlingUpgradeGunAir
    PreferredAgainst    = SECONDARY  AIRCRAFT
    Weapon = TERTIARY AvengerTargetDesignator
    PreferredAgainst = TERTIARY INFANTRY
  End
  ArmorSet
    Conditions      = None
    Armor           = AntiAirVehicle
    DamageFX        = TankDamageFX
  End
  BuildCost       = 1200
  BuildTime       = 10.0          ;in seconds    
  VisionRange     = 150
  ShroudClearingRange = 300

  ExperienceValue        = 100 100 200 400 ;Experience point value at each level
  ExperienceRequired     = 0 200 300 600 ;Experience points needed to gain each level

  IsTrainable     = Yes
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet      = AmericaTankAvengerCommandSet
    
  ; *** AUDIO Parameters ***
  VoiceSelect = AvengerVoiceSelect
  VoiceMove = AvengerVoiceMove
  VoiceGuard = AvengerVoiceMove
  VoiceAttack = AvengerVoicePaint
  VoiceAttackAir = AvengerVoiceAttack
  SoundMoveStart = HumveeMoveStart
  SoundMoveStartDamaged = HumveeMoveStart

  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate     = AvengerVoiceCreate
    TurretMoveLoop = NoSound
    SoundEject = PilotSoundEject
    VoiceEject = PilotVoiceEject
    VoiceCrush = NoSound
    VoiceEnter = AvengerVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE CANNOT_RETALIATE SALVAGER
  
  Body = ActiveBody ModuleTag_02
    MaxHealth       = 280.0
    InitialHealth   = 280.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 1000
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      ControlledWeaponSlots = PRIMARY SECONDARY ;TERTIARY
      TurretTurnRate      = 120   // turn rate, in degrees per sec
      TurretPitchRate     = 120
      AllowsPitch         = Yes
      NaturalTurretPitch  = 45
    End
    AutoAcquireEnemiesWhenIdle = Yes
    MoodAttackCheckRate = 500 ; default is 2000
  End
  Locomotor = SET_NORMAL LaverLocomotor
  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 55.0
  End
  
  ; Turret fly off death
  Behavior = SlowDeathBehavior ModuleTag_05
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier = 50
;    ModifierBonusPerOverkillPercent = 30%  ; negative means less likely to pick this in the face of much damage, positive means more likely
    DestructionDelay = 500
    DestructionDelayVariance = 100
    FX  = INITIAL  FX_GenericTankDeathEffect
    FX  = FINAL    FX_GenericTankDeathExplosion
    OCL = FINAL    OCL_AvengerTankDeathEffect
  End

  Behavior = WeaponBonusUpgrade ModuleTag_0500
    TriggeredBy = Upgrade_ChinaChainGuns
  End

  Behavior = StealthDetectorUpdate ModuleTag_0600
    DetectionRate   = 500   ; how often to rescan for stealthed things in my sight (msec)
    ;DetectionRange = ??? ;   Defaults to VisionRange
    CanDetectWhileContained   = Yes
  End

  Behavior = HordeUpdate ModuleTag_0457
    RubOffRadius = 150    ; if I am this close to a real hordesman, I will get to be an honorary hordesman
    UpdateRate = 1000     ; how often to recheck horde status (msec)
    Radius = 75           ; how close other units must be to us to count towards our horde-ness (~30 feet or so)
    KindOf = VEHICLE      ; what KindOf's must match to count towards horde-ness
    AlliesOnly = Yes      ; do we only count allies towards horde status?
    ExactMatch = Yes      ; do we only count units of our exact same type towards horde status? (overrides kindof)
    Count = 5             ; how many units must be within Radius to grant us horde-ness
    Action = HORDE        ; when horde-ing, grant us the HORDE bonus
  End
  
  ; Catch fire, and explode death
  Behavior = SlowDeathBehavior ModuleTag_06
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier = 50
    DestructionDelay = 2000
    DestructionDelayVariance = 300
    FX  = INITIAL  FX_CrusaderCatchFire
    FX  = FINAL    FX_GenericTankDeathExplosion 
    OCL = FINAL    OCL_AvengerTankDeathEffect
  End

  Behavior = PointDefenseLaserUpdate ModuleTag_Laser_One
    WeaponTemplate        = LaverPointDefenseLaser
    PrimaryTargetTypes    = BALLISTIC_MISSILE SMALL_MISSILE
    ScanRate              = 0
    ScanRange             = 150.0
    PredictTargetVelocityFactor = 1.0
  End

  Behavior = ObjectCreationUpgrade ModuleTag_08
    UpgradeObject = OCL_AmericanBattleDrone
    TriggeredBy   = Upgrade_AmericaBattleDrone
    ConflictsWith = Upgrade_AmericaScoutDrone Upgrade_AmericaHellfireDrone
  End
  Behavior = ObjectCreationUpgrade ModuleTag_09
    UpgradeObject = OCL_AmericanScoutDrone
    TriggeredBy   = Upgrade_AmericaScoutDrone
    ConflictsWith = Upgrade_AmericaBattleDrone Upgrade_AmericaHellfireDrone
  End 
  Behavior = ObjectCreationUpgrade ModuleTag_19
    UpgradeObject = OCL_AmericanHellfireDrone
    TriggeredBy   = Upgrade_AmericaHellfireDrone
    ConflictsWith = Upgrade_AmericaBattleDrone Upgrade_AmericaScoutDrone
  End

  Behavior = ProductionUpdate ModuleTag_10
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End

  Behavior = ExperienceScalarUpgrade ModuleTag_11
    TriggeredBy = Upgrade_AmericaAdvancedTraining
    AddXPScalar = 1.0 ;Increases experience gained by an additional 100%
  End

  Behavior = TransitionDamageFX ModuleTag_12
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = FXListDie ModuleTag_13
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  Behavior = CreateObjectDie ModuleTag_14
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_CrusaderTank_CrushEffect
  End
  Behavior = DestroyDie ModuleTag_15
    DeathTypes = NONE +CRUSHED +SPLATTED
  End
  Behavior = CreateCrateDie ModuleTag_16
    CrateData = SalvageCrateData
    ;CrateData = EliteTankCrateData
    ;CrateData = HeroicTankCrateData
  End
  Behavior = EjectPilotDie ModuleTag_17
    DeathTypes = ALL -CRUSHED -SPLATTED
    ExemptStatus = HIJACKED
    GroundCreationList = OCL_EjectPilotOnGround
    AirCreationList = OCL_EjectPilotViaParachute
    VeterancyLevels =  ALL -REGULAR ;only vet+ gives pilot
  End

  Behavior = FlammableUpdate ModuleTag_22
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = AutoHealBehavior ModuleTag_0889
    HealingAmount = 2
    HealingDelay = 1000 ; msec
    TriggeredBy = Upgrade_GLAJunkRepair
  End

  Geometry = BOX
  GeometryMajorRadius = 15.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 10.0     
  GeometryIsSmall = Yes    
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object Boss_VehicleMobileBarracks

  ; *** ART Parameters ***
  SelectPortrait         = SNMBarracks_L
  ButtonImage            = SNMBarracks

  UpgradeCameo1 = Upgrade_GLAJunkRepair

  Draw                   = W3DTruckDraw ModuleTag_01
    OkToChangeModelColor = Yes
    ConditionState       = NONE
      Model              = NVBAR
      ParticleSysBone   = EXHAUST01 DozerSmokeLight
      ParticleSysBone   = EXHAUST02 DozerSmokeLight
    End
    ConditionState       = REALLYDAMAGED
      Model              = NVBAR_D
      ParticleSysBone   = EXHAUST01 DozerSmokeLight
      ParticleSysBone   = EXHAUST02 DozerSmokeLight
    End
    ConditionState       = RUBBLE
      Model              = NVBAR_D
      ParticleSysBone   = EXHAUST01 DozerSmokeLight
      ParticleSysBone   = EXHAUST02 DozerSmokeLight
    End

    ConditionState       = MOVING
      Model              = NVBAR
      ParticleSysBone   = EXHAUST01 DozerSmokeHeavy
      ParticleSysBone   = EXHAUST02 DozerSmokeHeavy
    End
    ConditionState       = MOVING REALLYDAMAGED
      Model              = NVBAR_D
      ParticleSysBone   = EXHAUST01 DozerSmokeHeavy
      ParticleSysBone   = EXHAUST02 DozerSmokeHeavy
    End
    ConditionState       = MOVING RUBBLE
      Model              = NVBAR_D
      ParticleSysBone   = EXHAUST01 DozerSmokeHeavy
      ParticleSysBone   = EXHAUST02 DozerSmokeHeavy
    End
    CabRotationMultiplier = 1.5

    TrailerRotationMultiplier = 0.2
    CabBone = CAB
    TrailerBone = TRAILER
    RotationDamping = 0.7

    TrackMarks           = EXTireTrack.tga
    Dust                 = RocketBuggyDust
    DirtSpray            = RocketBuggyDirtSpray
    PowerslideSpray      = RocketBuggyDirtPowerSlide
    ; These parameters are only used if the model has a separate suspension,
    ; and the locomotor has HasSuspension = Yes.
    LeftFrontTireBone          = Tire01
    RightFrontTireBone         = Tire02
    MidLeftRearTireBone        = Tire03
    MidRightRearTireBone       = Tire04
    LeftRearTireBone           = Tire05
    RightRearTireBone          = Tire06
    TireRotationMultiplier     = 0.2   ; this * speed = rotation.
    PowerslideRotationAddition = 2.5   ; This speed is added to the rotation speed when powersliding.
  End

  ; ***DESIGN parameters ***
  DisplayName           = OBJECT:MobileBarracks
  Side                  = Boss
  EditorSorting         = VEHICLE
  TransportSlotCount    = 3                 ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions = None
    Weapon = PRIMARY NONE
  End
  ArmorSet
    Conditions      = None
    Armor           = HumveeArmor
    DamageFX        = TruckDamageFX
  End
  BuildCost       = 2200
  BuildTime       = 10.0          ;in seconds
  VisionRange     = 150
  ShroudClearingRange = 320
  ;MaxSimultaneousOfType = 1
  ExperienceValue = 50 50 100 150   ;Experience point value at each level
  ExperienceRequired = 0 100 150 300  ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet      = BossMobileBarracksCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = MobileBarracksVoiceSelect
  VoiceMove = HumveeVoiceMove
  VoiceGuard = HumveeVoiceMove
  VoiceAttack = HumveeVoiceAttack
  VoiceAttackAir = HumveeVoiceAttackTOW
  SoundMoveStart = HumveeMoveStart
  SoundMoveStartDamaged = HumveeMoveStart
  SoundEnter = HumveeEnter
  SoundExit = HumveeExit

  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    ;TurretMoveStart    = NoSound
    VoiceCreate         = HumveeVoiceCreate
    TurretMoveLoop      = TurretMoveLoop
    SoundEject          = PilotSoundEject
    VoiceEject          = PilotVoiceEject
    VoiceCrush          = HumveeVoiceCrush
  ; Required for the W3DTruckDraw module
    TruckLandingSound = RocketBuggyLand
    TruckPowerslideSound = RocketBuggyPowerslide
    VoiceUnload = HumveeVoiceUnload
    VoiceEnter = HumveeVoiceMove
  End


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE TRANSPORT FS_FACTORY FS_BARRACKS SALVAGER

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 240.0
    InitialHealth   = 240.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 480
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End
  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      TurretTurnRate       = 180 ;60   // turn rate, in degrees per sec
      ControlledWeaponSlots= PRIMARY
    End
    AutoAcquireEnemiesWhenIdle = Yes
  End
  Locomotor = SET_NORMAL POWTruckLocomotor

  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 50.0
  End

  Behavior = ObjectCreationUpgrade ModuleTag_22
    UpgradeObject = OCL_ChinaOmegaBattleDrone
    TriggeredBy   = Upgrade_ChinaOmegaBattleDrone
  End

  Behavior = ProductionUpdate ModuleTag_24
  End

  Behavior    = OCLSpecialPower ModuleTag_Laymines01
    SpecialPowerTemplate = SpecialAbilityLaymines
    OCL                  = OCL_AmericaBattleMines
  End

  Behavior = ProductionUpdate ModuleTag_08
  End

  Behavior = HealContain ModuleTag_09
    ContainMax          = 5 ;way bigger than the # of objects we can have
    TimeForFullHeal     = 20000   ;(in milliseconds)
    AllowInsideKindOf   = INFANTRY
    AllowAlliesInside   = Yes
    AllowNeutralInside  = No
    AllowEnemiesInside  = No
  End

  Behavior = DefaultProductionExitUpdate ModuleTag_60
    UnitCreatePoint    = X: -24.79 Y: 0.109 Z: -0.03
    NaturalRallyPoint  = X: -35.306 Y: 0.109 Z: -0.03
  End

  Behavior = SlowDeathBehavior ModuleTag_11
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier = 25
    DestructionDelay = 1
    OCL = INITIAL  OCL_InitialMBDebris
    FX  = FINAL    FX_BattleMasterExplosionOneFinal
    OCL = FINAL    OCL_FinalHumveeDebris
  End

  Behavior = DestroyDie ModuleTag_12
    DeathTypes = NONE +CRUSHED +SPLATTED
  End

  Behavior = FXListDie ModuleTag_13
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End

  Behavior = CreateCrateDie ModuleTag_CratesChange
    CrateData = SalvageCrateData
    ;CrateData = EliteTankCrateData
    ;CrateData = HeroicTankCrateData
  End

  Behavior = AutoHealBehavior ModuleTag_0889
    HealingAmount = 2
    HealingDelay = 1000 ; msec
    TriggeredBy = Upgrade_GLAJunkRepair
  End

  Behavior = EjectPilotDie ModuleTag_16
    DeathTypes = ALL -CRUSHED -SPLATTED
    ExemptStatus = HIJACKED
    ; The following added out per hotlist request 10/9 as above ML
    VeterancyLevels =  ALL -REGULAR ;only vet+ gives pilot
    GroundCreationList = OCL_EjectPilotOnGround
    AirCreationList = OCL_EjectPilotViaParachute
  End

  Behavior = TransitionDamageFX ModuleTag_17
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Geometry = BOX
  GeometryMajorRadius = 20.0
  GeometryMinorRadius = 5.0
  GeometryHeight = 6.9
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length
End

;------------------------------------------------------------------------------
Object Boss_VehicleCombatBikeTerrorist

  ; *** ART Parameters ***
  SelectPortrait         = SBComBike
  ButtonImage            = SBComBike

  UpgradeCameo1 = Upgrade_AmericaBattleDrone
  UpgradeCameo2 = Upgrade_AmericaScoutDrone
  UpgradeCameo3 = Upgrade_AmericaAdvancedTraining
  UpgradeCameo4 = Upgrade_AmericaHellfireDrone
  UpgradeCameo5 = Upgrade_GLAJunkRepair

  Draw = W3DTruckDraw ModuleTag_01
    OkToChangeModelColor = Yes

    ConditionState = NONE
      Model = BattleBike
      WeaponFireFXBone = PRIMARY MuzzleFX_B01;Muzzle_B01
      WeaponMuzzleFlash = PRIMARY MuzzleFX_B01
    End

    ConditionState = REALLYDAMAGED
      Model = BattleBike
      WeaponFireFXBone = PRIMARY MuzzleFX_B01;Muzzle_B01
      WeaponMuzzleFlash = PRIMARY MuzzleFX_B01
    End

    TrackMarks = EXTireTrack03.tga

    Dust = RocketBuggyDust
    DirtSpray = RocketBuggyDirtSpray
    PowerslideSpray = RocketBuggyDirtPowerSlide

    ; These parameters are only used if the model has a separate suspension,
    ; and the locomotor has HasSuspension = Yes.
    LeftFrontTireBone           = Tire01
    LeftRearTireBone            = Tire00
    TireRotationMultiplier = 0.2   ; this * speed = rotation.
    PowerslideRotationAddition = 1.25   ; This speed is added to the rotation speed when powersliding.

  End

  ; ***DESIGN parameters ***
  DisplayName           = OBJECT:SnowMobile
  Side                  = Boss
  EditorSorting         = VEHICLE
  TransportSlotCount    = 2                 ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions = None
    Weapon = PRIMARY SnowMobileMachineGun
  End
  ArmorSet
    Conditions      = None
    Armor           = HumveeArmor
    DamageFX        = TruckDamageFX
  End
  BuildCost       = 600
  BuildTime       = 8.0          ;in seconds
  VisionRange     = 150
  ShroudClearingRange = 320
  ExperienceValue = 50 50 100 150   ;Experience point value at each level
  ExperienceRequired = 0 100 150 300  ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet      = Boss_AmericaVehicleATVCommandSet2

  ; *** AUDIO Parameters ***
  VoiceSelect = RocketBuggyVoiceSelect
  VoiceMove = RocketBuggyVoiceMove
  VoiceAttack = RocketBuggyVoiceAttack
  SoundMoveStart = RocketBuggyMoveStart
  SoundMoveStartDamaged = RocketBuggyMoveStart
  VoiceGuard = RocketBuggyVoiceMove


  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate          = RocketBuggyVoiceCreate
    TurretMoveStart = NoSound
    TurretMoveLoop = TurretMoveLoop  
    TruckLandingSound = RocketBuggyLand
    TruckPowerslideSound = RocketBuggyPowerslide
    VoiceCrush      = RocketBuggyVoiceCrush
    VoiceEnter = RocketBuggyVoiceMove
  End


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE CLIFF_JUMPER SALVAGER

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 150.0
    InitialHealth   = 150.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 220
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End
  Behavior = TransportAIUpdate ModuleTag_03
    Turret
      TurretTurnRate = 0
      RecenterTime = 5000   ; how long to wait during idle before recentering
      ControlledWeaponSlots = PRIMARY
    End
    AutoAcquireEnemiesWhenIdle = Yes
    MoodAttackCheckRate        = 250
  End
  Locomotor = SET_NORMAL SMLocomotor

  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 20.0
  End

  Behavior = ObjectCreationUpgrade ModuleTag_06
    UpgradeObject = OCL_AmericanBattleDrone
    TriggeredBy   = Upgrade_AmericaBattleDrone
    ConflictsWith = Upgrade_AmericaScoutDrone Upgrade_AmericaHellfireDrone
  End
  Behavior = ObjectCreationUpgrade ModuleTag_07
    UpgradeObject = OCL_AmericanScoutDrone
    TriggeredBy   = Upgrade_AmericaScoutDrone
    ConflictsWith = Upgrade_AmericaBattleDrone Upgrade_AmericaHellfireDrone
  End
  Behavior = ObjectCreationUpgrade ModuleTag_14
    UpgradeObject = OCL_AmericanHellfireDrone
    TriggeredBy   = Upgrade_AmericaHellfireDrone
    ConflictsWith = Upgrade_AmericaBattleDrone Upgrade_AmericaScoutDrone
  End

  Behavior = ProductionUpdate ModuleTag_08
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End

  Behavior = ExperienceScalarUpgrade ModuleTag_10
    TriggeredBy = Upgrade_AmericaAdvancedTraining
    AddXPScalar = 1.0 ;Increases experience gained by an additional 100%
  End

  Behavior = SlowDeathBehavior ModuleTag_11
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier = 25
    DestructionDelay = 1
    OCL = INITIAL  FX_BuggyNewDeathExplosion
    FX = INITIAL FX_BuggyNewDeathExplosion
    OCL = FINAL OCL_CombatBikeAirDeathStart
  End

  Behavior = DestroyDie ModuleTag_12
    DeathTypes = NONE +CRUSHED +SPLATTED
  End

  Behavior = FXListDie ModuleTag_13
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End

; This is commented out per hotlist request 10/9 ML
  Behavior = CreateObjectDie ModuleTag_15
    DeathTypes = ALL -CRUSHED -SPLATTED
    CreationList = OCL_AmericanRangerDebris01
    ExemptStatus = HIJACKED
  End

  Behavior = EjectPilotDie ModuleTag_16
    DeathTypes = ALL -CRUSHED -SPLATTED
    ExemptStatus = HIJACKED
    ; The following added out per hotlist request 10/9 as above ML
    VeterancyLevels =  ALL -REGULAR ;only vet+ gives pilot
    GroundCreationList = OCL_EjectPilotOnGround
    AirCreationList = OCL_EjectPilotViaParachute
  End

  Behavior = AutoHealBehavior ModuleTag_080000
    HealingAmount = 2
    HealingDelay = 1000 ; msec
    TriggeredBy = Upgrade_GLAJunkRepair
  End

  Behavior = TransitionDamageFX ModuleTag_17
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = StealthUpdate ModuleTag_05000
    StealthDelay                = 2000 ; msec
    StealthForbiddenConditions  = ATTACKING
    MoveThresholdSpeed          = 2
    InnateStealth               = Yes ;doesnt Require upgrade first
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
  End

  Geometry = BOX
  GeometryMajorRadius = 14.0
  GeometryMinorRadius = 7.0
  GeometryHeight = 11.5
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End


;------------------------------------------------------------------------------
;China Dragon Tank
Object Boss_TankROV

  ; *** ART Parameters ***
  SelectPortrait         = SNROV_L
  ButtonImage            = SNROV

  UpgradeCameo1 = Upgrade_ChinaBlackNapalm
  UpgradeCameo2 = Upgrade_GLAJunkRepair
  ;UpgradeCameo3 = NONE
  ;UpgradeCameo4 = NONE
  ;UpgradeCameo5 = NONE

  Draw = W3DOverlordTankDraw ModuleTag_01
    OkToChangeModelColor = Yes

    DefaultConditionState
      Model = NVROVT
      Turret = Turret01
      WeaponRecoilBone    = PRIMARY Barrel
      WeaponFireFXBone = PRIMARY Muzzle
      WeaponLaunchBone = PRIMARY Muzzle
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
    End
    ConditionState = REALLYDAMAGED
      Model = NVROVT_d
      Turret = Turret01
      WeaponRecoilBone    = PRIMARY Barrel
      WeaponFireFXBone = PRIMARY Muzzle
      WeaponLaunchBone = PRIMARY Muzzle
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
    End
    ConditionState = RUBBLE
      Model = NVROVT_d
      Turret = Turret01
      WeaponRecoilBone    = PRIMARY Barrel
      WeaponFireFXBone = PRIMARY Muzzle
      WeaponLaunchBone = PRIMARY Muzzle
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
    End

    TrackMarks              = EXTnkTrack.tga
    TreadAnimationRate      = 2.0  ; amount of tread texture to move per second
    TreadDriveSpeedFraction = 0.3  ; fraction of locomotor speed below which treads stop moving.
    TreadPivotSpeedFraction = 0.6  ; fraction of locomotor speed below which we allow pivoting.
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:ROV
  Side = Boss
  EditorSorting   = VEHICLE
  TransportSlotCount = 3                 ;how many "slots" we take in a transport (0 == not transportable)

  WeaponSet
    Conditions = None
    Weapon = PRIMARY ROVTankGun
;    Weapon = SECONDARY ROVTankFlameWeapon
;    AutoChooseSources = SECONDARY NONE
  End
  WeaponSet
    Conditions = PLAYER_UPGRADE
    Weapon = PRIMARY ROVTankGunUpgraded
;    Weapon = SECONDARY ROVTankFlameWeaponUpgraded
;    AutoChooseSources = SECONDARY NONE
;    WeaponLockSharedAcrossSets = Yes ; This set is so similar to the default set that it can hold the weapon lock
  End

  ArmorSet
    Conditions      = None
    Armor           = ROVTankArmor
    DamageFX        = TankDamageFX
  End
  BuildCost       = 1200
  BuildTime       = 10.0          ;in seconds
  VisionRange     = 100
  ShroudClearingRange = 200
  Prerequisites
    Object = Boss_WarFactory
  End

  ExperienceValue = 50 50 100 150    ;Experience point value at each level
  ExperienceRequired = 0 100 150 300  ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet    = ChinaTankROVCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = DragonTankVoiceSelect
  VoiceMove = DragonTankVoiceMove
  VoiceGuard = DragonTankVoiceMove
  VoiceAttack = DragonTankVoiceAttack
  SoundMoveStart = DragonTankMoveStart
  SoundMoveStartDamaged = DragonTankMoveStart

  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate     = DragonTankVoiceCreate
    TurretMoveStart = NoSound
    TurretMoveLoop = TurretMoveLoop
    VoiceEnter = DragonTankVoiceMove
    VoiceFlameLocation = DragonTankVoiceFireStorm
  End


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 280.0
    InitialHealth   = 280.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 560
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End
  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      TurretTurnRate = 120
      ControlledWeaponSlots = PRIMARY
    End
    AutoAcquireEnemiesWhenIdle = Yes
  End
  Locomotor = SET_NORMAL ROVLocomotor
  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 50.0
  End

  Behavior = WeaponBonusUpgrade ModuleTag_05
    TriggeredBy = Upgrade_ChinaBlackNapalm
  End

  Behavior = OverlordContain ModuleTag_OverlordContain
    Slots                 = 1
    DamagePercentToUnits  = 100%
    AllowInsideKindOf     = PORTABLE_STRUCTURE
    PassengersAllowedToFire = Yes
    PayloadTemplateName        = Boss_TankROVFlameThrower
    ExperienceSinkForRider = Yes ; I get the Exp for things my turret friend kills
  End

  Behavior = ObjectCreationUpgrade ModuleTag_11
    UpgradeObject = OCL_ChinaOmegaBattleDrone
    TriggeredBy   = Upgrade_ChinaOmegaBattleDrone
  End

  Behavior = ProductionUpdate ModuleTag_24
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End

  Behavior    = OCLSpecialPower ModuleTag_Laymines01
    SpecialPowerTemplate = SpecialAbilityLaymines
    OCL                  = OCL_AmericaBattleMines
  End

  ; A crushing defeat
  Behavior = DestroyDie ModuleTag_06
    DeathTypes = NONE +CRUSHED +SPLATTED
  End
  Behavior = FXListDie ModuleTag_07
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  Behavior = CreateObjectDie ModuleTag_08
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_CrusaderTank_CrushEffect
  End
  Behavior = CreateCrateDie ModuleTag_09
    CrateData = SalvageCrateData
    ;CrateData = EliteTankCrateData
    ;CrateData = HeroicTankCrateData
  End


  ; just explode death
  Behavior = SlowDeathBehavior ModuleTag_10
    DeathTypes = ALL -CRUSHED -SPLATTED
;    ProbabilityModifier = 33
    DestructionDelay = 500
    DestructionDelayVariance = 500
    FX  = INITIAL  FX_BattleMasterExplosionOneFinal
    OCL = FINAL    OCL_DragonDebris
    FX  = FINAL    FX_DragonTankDeathExplosionFinal
  End

  Behavior = AutoHealBehavior ModuleTag_0889
    HealingAmount = 2
    HealingDelay = 1000 ; msec
    TriggeredBy = Upgrade_GLAJunkRepair
  End

  Behavior = FlammableUpdate ModuleTag_12
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = TransitionDamageFX ModuleTag_13
;   ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes Psys:SmokeSmallContinuous01
    ReallyDamagedParticleSystem2 = Bone:Smoke RandomBone:Yes Psys:DragonTransitionFire
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_DragonDamageTransition
  End

  Geometry = BOX
  GeometryMajorRadius = 15.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 3.75   ; Height set to allow clear clipping of projectile stream
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object Boss_TankROVFlameThrower

  ; *** ART Parameters ***
  SelectPortrait         = SNGatTower_L
  ButtonImage            = SNGatTower

  ;UpgradeCameo1 = Upgrade_Nationalism
  UpgradeCameo1 = Upgrade_ChinaBlackNapalm
;  UpgradeCameo2 = Upgrade_ChinaNuclearTanks
  ;UpgradeCameo4 = NONE
;  UpgradeCameo5 = Upgrade_ChinaOverlordGattlingCannon


  Draw                    = W3DDependencyModelDraw ModuleTag_01
    OkToChangeModelColor  = Yes
    AttachToBoneInContainer = FIREPOINT01

    DefaultConditionState
      Model               = NVROVF
      Turret              = Turret02
      WeaponFireFXBone    = PRIMARY WeaponA
      WeaponLaunchBone = PRIMARY WeaponA
    End
    ConditionState        = REALLYDAMAGED
      Model               = NVROVF_D
      Turret              = Turret02
      WeaponFireFXBone    = PRIMARY WeaponA
      WeaponLaunchBone = PRIMARY WeaponA
    End
  End

  ; ***DESIGN parameters ***
  Side             = Boss
  EditorSorting    = SYSTEM
  TransportSlotCount = 1
  WeaponSet
    Conditions = None
    Weapon = PRIMARY ROVTankFlameWeapon
;    Weapon = SECONDARY ROVTankFlameWeapon
;    AutoChooseSources = SECONDARY NONE
  End
  WeaponSet
    Conditions = PLAYER_UPGRADE
    Weapon = PRIMARY ROVTankFlameWeaponUpgraded
;    Weapon = SECONDARY ROVTankFlameWeaponUpgraded
;    AutoChooseSources = SECONDARY NONE
;    WeaponLockSharedAcrossSets = Yes ; This set is so similar to the default set that it can hold the weapon lock
  End

  ArmorSet
    Conditions     = None
    Armor          = InvulnerableAllArmor ; We can't be hurt on the field.  We share damage from the Overlord with his damage module
  End
  VisionRange     = 200

  ; *** AUDIO Parameters ***
  UnitSpecificSounds
    TurretMoveStart = NoSound
    TurretMoveLoop  = NoSound ;TurretMoveLoop
    VoiceRapidFire  = NoSound
  End

  ; *** ENGINEERING Parameters ***
  KindOf            = PRELOAD PORTABLE_STRUCTURE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CLICK_THROUGH IGNORED_IN_GUI
    Body            = StructureBody ModuleTag_02
    MaxHealth       = 100.0
    InitialHealth   = 100.0
  End

  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      ControlledWeaponSlots = PRIMARY
      TurretTurnRate      = 180   // turn rate, in degrees per sec
    End
    AutoAcquireEnemiesWhenIdle = Yes
  End

  Behavior             = DestroyDie ModuleTag_04
    ;nothing
  End

  Behavior = WeaponBonusUpgrade ModuleTag_05
    TriggeredBy = Upgrade_ChinaBlackNapalm
  End

  Behavior = StealthDetectorUpdate ModuleTag_06
    DetectionRate   = 500   ; how often to rescan for stealthed things in my sight (msec)
    ;DetectionRange = ??? ;   Defaults to VisionRange
    CanDetectWhileContained   = Yes
  End

  Geometry            = BOX
  GeometryMajorRadius = 8.0
  GeometryMinorRadius = 8.0
  GeometryHeight      = 9.0
  GeometryIsSmall     = No
  Shadow              = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object Boss_TankAnti-Personel

  SelectPortrait = SACrusader3_L
  ButtonImage = SACrusader3

  UpgradeCameo1 = Upgrade_AmericaBattleDrone
  UpgradeCameo2 = Upgrade_AmericaScoutDrone
  UpgradeCameo3 = Upgrade_AmericaHellfireDrone
  UpgradeCameo4 = Upgrade_AmericaAdvancedTraining
  UpgradeCameo5 = Upgrade_GLAJunkRepair

 Draw = W3DModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
 ConditionState = NONE
  Model = AVCrusader
  Turret = Turret
  WeaponFireFXBone = PRIMARY TurretMS
  WeaponRecoilBone = PRIMARY Barrel
  WeaponMuzzleFlash = PRIMARY TurretFX
  WeaponLaunchBone = PRIMARY TurretMS
  TransitionKey = TRANS_Drive
 End
 ConditionState = MOVING
  Model = AVCrusader
  Turret = Turret
  WeaponFireFXBone = PRIMARY TurretMS
  WeaponRecoilBone = PRIMARY Barrel
  WeaponMuzzleFlash = PRIMARY TurretFX
  WeaponLaunchBone = PRIMARY TurretMS
  TransitionKey = TRANS_Drive
  ParticleSysBone = TreadFX01 QuadCannonDust
  ParticleSysBone = TreadFX02 QuadCannonDust
 End
 ConditionState = REALLYDAMAGED
  Model = AVCrusader_D
  Turret = Turret
  WeaponFireFXBone = PRIMARY TurretMS
  WeaponRecoilBone = PRIMARY Barrel
  WeaponMuzzleFlash = PRIMARY TurretFX
  WeaponLaunchBone = PRIMARY TurretMS
  TransitionKey = TRANS_DriveDamaged
 End
  AliasConditionState = DAMAGED
  AliasConditionState = MOVING DAMAGED
  AliasConditionState = MOVING REALLYDAMAGED
 ConditionState = RUBBLE
  Model = AVCrusader_D
  Turret = Turret
  WeaponFireFXBone = PRIMARY TurretMS
  WeaponRecoilBone = PRIMARY Barrel
  WeaponMuzzleFlash = PRIMARY TurretFX
  WeaponLaunchBone = PRIMARY TurretMS
 End
 ConditionState = WEAPONSET_PLAYER_UPGRADE
  Model = AVCrusader_H
  Turret = Turret
  WeaponFireFXBone = PRIMARY TurretMS
  WeaponRecoilBone = PRIMARY Barrel
  WeaponMuzzleFlash = PRIMARY TurretFX
  WeaponLaunchBone = PRIMARY TurretMS
  TransitionKey = TRANS_Hover
 End
 ConditionState = WEAPONSET_PLAYER_UPGRADE MOVING
  Model = AVCrusader_H
  Turret = Turret
  WeaponFireFXBone = PRIMARY TurretMS
  WeaponRecoilBone = PRIMARY Barrel
  WeaponMuzzleFlash = PRIMARY TurretFX
  WeaponLaunchBone = PRIMARY TurretMS
  ParticleSysBone = TreadFX01 QuadCannonDust
  ParticleSysBone = TreadFX02 QuadCannonDust
  TransitionKey = TRANS_Hover
 End
  TransitionState = TRANS_Drive TRANS_Hover
  Model = AVCrusader_A
  HideSubObject = TurretFX01
  Animation = AVCRUSADER_A.AVCRUSADER_A
  AnimationMode = ONCE
 End
 ConditionState = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
  Model = AVCrusader_H
  Turret = Turret
  WeaponFireFXBone = PRIMARY TurretMS
  WeaponRecoilBone = PRIMARY Barrel
  WeaponMuzzleFlash = PRIMARY TurretFX
  WeaponLaunchBone = PRIMARY TurretMS
  TransitionKey = TRANS_HoverDamaged
 End
  AliasConditionState = WEAPONSET_PLAYER_UPGRADE DAMAGED
  AliasConditionState = WEAPONSET_PLAYER_UPGRADE MOVING DAMAGED
  AliasConditionState = WEAPONSET_PLAYER_UPGRADE MOVING REALLYDAMAGED
 ConditionState = WEAPONSET_PLAYER_UPGRADE RUBBLE
  Model = AVCrusader_H
  Turret = Turret
  WeaponFireFXBone = PRIMARY TurretMS
  WeaponRecoilBone = PRIMARY Barrel
  WeaponMuzzleFlash = PRIMARY TurretFX
  WeaponLaunchBone = PRIMARY TurretMS
 End
  TransitionState = TRANS_DriveDamaged TRANS_HoverDamaged
  Model = AVCrusader_A
  HideSubObject = TurretFX01
  Animation = AVCRUSADER_A.AVCRUSADER_A
  AnimationMode = ONCE
 End
 ConditionState = WEAPONSET_PLAYER_UPGRADE OVER_WATER
  Model = AVCrusader_H
  Turret = Turret
  WeaponFireFXBone = PRIMARY TurretMS
  WeaponRecoilBone = PRIMARY Barrel
  WeaponMuzzleFlash = PRIMARY TurretFX
  WeaponLaunchBone = PRIMARY TurretMS
 End
 ConditionState = WEAPONSET_PLAYER_UPGRADE MOVING OVER_WATER
  Model = AVCrusader_H
  Turret = Turret
  WeaponFireFXBone = PRIMARY TurretMS
  WeaponRecoilBone = PRIMARY Barrel
  WeaponMuzzleFlash = PRIMARY TurretFX
  WeaponLaunchBone = PRIMARY TurretMS
  ParticleSysBone = TreadFX01 AmphibWave
 End
  AliasConditionState = WEAPONSET_PLAYER_UPGRADE MOVING OVER_WATER REALLYDAMAGED
  TrackMarks = EXTnkTrack.tga
 End

  DisplayName = OBJECT:Defender

  Side = Boss
  EditorSorting = VEHICLE
  TransportSlotCount = 3
  WeaponSet
  Conditions = None
  Weapon = PRIMARY DefenderTankGun
  End
  WeaponSet
  Conditions = PLAYER_UPGRADE
  Weapon = PRIMARY DefenderTankScramGun
  End
  ArmorSet
    Conditions           = None
    Armor                = TankArmor
    DamageFX             = TankDamageFX
  End
  BuildCost              = 1200
  BuildTime              = 15.0          ;in seconds
  VisionRange            = 150
  ShroudClearingRange = 300
  ExperienceValue        = 100 100 200 400 ;Experience point value at each level
  ExperienceRequired     = 0 200 300 600 ;Experience points needed to gain each level
  IsTrainable            = Yes  ;Can gain experience
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet             = AmericaTankCrusader2CommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect           = CrusaderTankVoiceSelect
  VoiceMove             = CrusaderTankVoiceMove
  VoiceGuard            = CrusaderTankVoiceMove
  VoiceAttack           = CrusaderTankVoiceAttack
  SoundMoveStart        = CrusaderTankMoveStart
  SoundMoveStartDamaged = CrusaderTankMoveStart
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate         = CrusaderTankVoiceCreate
    VoiceEnter             = CrusaderTankVoiceMove
    TurretMoveStart     = NoSound
    TurretMoveLoop      = TurretMoveLoop
    SoundEject          = PilotSoundEject
    VoiceEject          = PilotVoiceEject
    VoiceCrush          = CrusaderTankVoiceCrush
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority          = UNIT
  KindOf                 = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE SALVAGER

  Body                   = ActiveBody ModuleTag_02
    MaxHealth       = 480
    InitialHealth   = 480

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 960
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      TurretTurnRate       = 180 ;60   // turn rate, in degrees per sec
      ControlledWeaponSlots= PRIMARY
    End
    AutoAcquireEnemiesWhenIdle = Yes
  End
  Locomotor = SET_NORMAL CrusaderLocomotor
  Locomotor = SET_NORMAL_UPGRADED AmphibiousDefenderLocomotor
  Behavior = PhysicsBehavior ModuleTag_04
    Mass                 = 50.0
  End

  Behavior = HordeUpdate ModuleTag_0468
    RubOffRadius = 150    ; if I am this close to a real hordesman, I will get to be an honorary hordesman
    UpdateRate = 1000     ; how often to recheck horde status (msec)
    Radius = 75           ; how close other units must be to us to count towards our horde-ness (~30 feet or so)
    KindOf = VEHICLE      ; what KindOf's must match to count towards horde-ness
    AlliesOnly = Yes      ; do we only count allies towards horde status?
    ExactMatch = Yes      ; do we only count units of our exact same type towards horde status? (overrides kindof)
    Count = 5             ; how many units must be within Radius to grant us horde-ness
    Action = HORDE        ; when horde-ing, grant us the HORDE bonus
  End

  Behavior = ObjectCreationUpgrade ModuleTag_05
    UpgradeObject = OCL_AmericanBattleDrone
    TriggeredBy   = Upgrade_AmericaBattleDrone
    ConflictsWith = Upgrade_AmericaScoutDrone Upgrade_AmericaHellfireDrone
  End
  Behavior = ObjectCreationUpgrade ModuleTag_06
    UpgradeObject = OCL_AmericanScoutDrone
    TriggeredBy   = Upgrade_AmericaScoutDrone
    ConflictsWith = Upgrade_AmericaBattleDrone Upgrade_AmericaHellfireDrone
  End
  Behavior = ObjectCreationUpgrade ModuleTag_20
    UpgradeObject = OCL_AmericanHellfireDrone
    TriggeredBy   = Upgrade_AmericaHellfireDrone
    ConflictsWith = Upgrade_AmericaBattleDrone Upgrade_AmericaScoutDrone
  End
  Behavior = ProductionUpdate ModuleTag_07
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End

  Behavior = ExperienceScalarUpgrade ModuleTag_08
    TriggeredBy   = Upgrade_AmericaAdvancedTraining
    AddXPScalar   = 1.0 ;Increases experience gained by an additional 100%
  End

  ; Turret fly off death
  Behavior = SlowDeathBehavior ModuleTag_10
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier  = 50
    DestructionDelay  = 500
    DestructionDelayVariance  = 100
    FX  = INITIAL  FX_GenericTankDeathEffect
    OCL = MIDPOINT OCL_GenericTankDeathEffect
    FX  = FINAL    FX_GenericTankDeathExplosion
    OCL = FINAL    OCL_CrusaderTurret
  End

  ; Catch fire, and explode death
  Behavior = SlowDeathBehavior ModuleTag_11
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier  = 50
    DestructionDelay  = 2000
    DestructionDelayVariance  = 300
    FX  = INITIAL  FX_CrusaderCatchFire
    OCL = FINAL    OCL_GenericTankDeathEffect
    FX  = FINAL    FX_GenericTankDeathExplosion
  End

  Behavior                 = TransitionDamageFX ModuleTag_12
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = DestroyDie ModuleTag_13
    DeathTypes = NONE +CRUSHED +SPLATTED
  End

  ; A crushing defeat
  Behavior = FXListDie ModuleTag_14
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End

  Behavior = CreateObjectDie ModuleTag_15
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_CrusaderTank_CrushEffect
  End

  Behavior                    = CreateCrateDie ModuleTag_CratesChange
   CrateData             = SalvageCrateData
   ;CrateData             = EliteTankCrateData
   ;CrateData             = HeroicTankCrateData
  End

  Behavior = EjectPilotDie ModuleTag_17
    GroundCreationList = OCL_EjectPilotOnGround
    AirCreationList = OCL_EjectPilotOnGround
    ExemptStatus = HIJACKED
    VeterancyLevels =  ALL -REGULAR ;only vet+ gives pilot
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = LocomotorSetUpgrade ModuleTag_19
    TriggeredBy = Upgrade_BecomeObjectUpgrade
  End

  Behavior = WeaponSetUpgrade ModuleTag_16
    TriggeredBy = Upgrade_BecomeObjectUpgrade
  End

  Behavior = AutoHealBehavior ModuleTag_0889
    HealingAmount = 2
    HealingDelay = 1000 ; msec
    TriggeredBy = Upgrade_GLAJunkRepair
  End

  Geometry               = BOX
  GeometryMajorRadius    = 20.0
  GeometryMinorRadius    = 12.5
  GeometryHeight         = 7.5
  GeometryIsSmall        = Yes
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object Boss_VehicleLandRaider

  SelectPortrait         = SNRaider_L
  ButtonImage            = SNRaider

  ; *** ART Parameters ***
  Draw = W3DOverlordTruckDraw ModuleTag_01
    OkToChangeModelColor = Yes
    ConditionState = NONE
      Model = NVRaiderVar1
      ParticleSysBone     = EXHAUST01 DozerSmokeLight
      ParticleSysBone     = EXHAUST02 DozerSmokeLight
      ParticleSysBone     = EXHAUST03 DozerSmokeLight
      ParticleSysBone     = EXHAUST04 DozerSmokeLight
      ;note, the IRSonar particle system is added in StealthDetectorUpdate.cpp, not here
      HideSubObject       = TURRET01 Barrel01 BarrelAlt01 TURRETUP01 BarrelUP01 BarrelAltUP01 TURRETUP02 BarrelUP02 TURRETEL01 MUZZLEFX01
    End
    ConditionState       = REALLYDAMAGED RUBBLE ; THIS IS VERY IMPORTANT... DO NOT REMOVE 'RUBBLE'
                                                ; @todo find out why a non-animating model like this has such trouble matching                                                ; reallydamaged against moving against rubble, etc.
      Model               = NVRaiderVar1_D
      ParticleSysBone     = EXHAUST01 DozerSmokeLight
      ParticleSysBone     = EXHAUST02 DozerSmokeLight
      ParticleSysBone     = EXHAUST03 DozerSmokeLight
      ParticleSysBone     = EXHAUST04 DozerSmokeLight
      HideSubObject       = TURRET01 Barrel01 BarrelAlt01 TURRETUP01 BarrelUP01 BarrelAltUP01 TURRETUP02 BarrelUP02 TURRETEL01 MUZZLEFX01
    End
    ConditionState = MOVING
      Model = NVRaiderVar1
      ParticleSysBone     = EXHAUST01 DozerSmokeHeavy
      ParticleSysBone     = EXHAUST02 DozerSmokeHeavy
      ParticleSysBone     = EXHAUST03 DozerSmokeHeavy
      ParticleSysBone     = EXHAUST04 DozerSmokeHeavy
      HideSubObject       = TURRET01 Barrel01 BarrelAlt01 TURRETUP01 BarrelUP01 BarrelAltUP01 TURRETUP02 BarrelUP02 TURRETEL01 MUZZLEFX01      ;note, the IRSonar particle system is added in StealthDetectorUpdate.cpp, not here
    End
    ConditionState       = MOVING REALLYDAMAGED RUBBLE ; THIS IS VERY IMPORTANT... DO NOT REMOVE 'RUBBLE'
                                                ; @todo find out why a non-animating model like this has such trouble matching                                                ; reallydamaged against moving against rubble, etc.
      Model               = NVRaiderVar1_D
      ParticleSysBone     = EXHAUST01 DozerSmokeHeavy
      ParticleSysBone     = EXHAUST02 DozerSmokeHeavy
      ParticleSysBone     = EXHAUST03 DozerSmokeHeavy
      ParticleSysBone     = EXHAUST04 DozerSmokeHeavy
      HideSubObject       = TURRET01 Barrel01 BarrelAlt01 TURRETUP01 BarrelUP01 BarrelAltUP01 TURRETUP02 BarrelUP02 TURRETEL01 MUZZLEFX01
    End

    ConditionState = USER_1
      Model = NVRaiderVar1
      Turret              = Turret01
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      ParticleSysBone     = EXHAUST01 DozerSmokeLight
      ParticleSysBone     = EXHAUST02 DozerSmokeLight
      ParticleSysBone     = EXHAUST03 DozerSmokeLight
      ParticleSysBone     = EXHAUST04 DozerSmokeLight
      ;note, the IRSonar particle system is added in StealthDetectorUpdate.cpp, not here
      HideSubObject       = BarrelAlt01 TURRETUP01 BarrelUP01 BarrelAltUP01 TURRETUP02 BarrelUP02 TURRETEL01
      ShowSubObject       = TURRET01 Barrel01 MUZZLEFX01
    End
    ConditionState        = USER_1 CONTINUOUS_FIRE_SLOW
      Model               = NVRaiderVar1
      Turret              = Turret01
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      Animation           = NVRaiderVar1.NVRaiderVar1
      AnimationMode       = LOOP
      AnimationSpeedFactorRange = 2.0 2.0 ;set this state to animate  s l o w l y
      HideSubObject       = BarrelAlt01 TURRETUP01 BarrelUP01 BarrelAltUP01 TURRETUP02 BarrelUP02 TURRETEL01
      ShowSubObject       = TURRET01 Barrel01 MUZZLEFX01
     End
     ConditionState       = USER_1 CONTINUOUS_FIRE_MEAN
      Model               = NVRaiderVar1
      Turret              = Turret01
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      Animation           = NVRaiderVar1.NVRaiderVar1
      AnimationMode       = LOOP
      AnimationSpeedFactorRange = 4.0 4.0 ;set this state to animate  medium-fast
      HideSubObject       = BarrelAlt01 TURRETUP01 BarrelUP01 BarrelAltUP01 TURRETUP02 BarrelUP02 TURRETEL01
      ShowSubObject       = TURRET01 Barrel01 MUZZLEFX01
    End
    ConditionState        = USER_1 CONTINUOUS_FIRE_FAST
      Model               = NVRaiderVar1
      Turret              = Turret01
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      Animation           = NVRaiderVar1.NVRaiderVar1
      AnimationMode       = LOOP
      AnimationSpeedFactorRange = 8.0 8.0 ;set this state to animate  vryfst
      ParticleSysBone    = Muzzle01 GattlingMuzzleSmoke
      HideSubObject       = BarrelAlt01 TURRETUP01 BarrelUP01 BarrelAltUP01 TURRETUP02 BarrelUP02 TURRETEL01
      ShowSubObject       = TURRET01 Barrel01 MUZZLEFX01
    End
    ConditionState        = USER_1 REALLYDAMAGED
      Model               = NVRaiderVar1_D
      Turret              = Turret01
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      ParticleSysBone     = Smoke01 SmokeFactionMedium
      ParticleSysBone     = Smoke02 SmokeFactionMedium
      ParticleSysBone     = Smoke03 SmokeFactionMedium
      HideSubObject       = BarrelAlt01 TURRETUP01 BarrelUP01 BarrelAltUP01 TURRETUP02 BarrelUP02 TURRETEL01
      ShowSubObject       = TURRET01 Barrel01 MUZZLEFX01
    End
    ConditionState        = USER_1 CONTINUOUS_FIRE_SLOW REALLYDAMAGED
      Model               = NVRaiderVar1_D
      Animation           = NVRaiderVar1_D.NVRaiderVar1_D
      Turret              = Turret01
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      AnimationMode       = LOOP
      AnimationSpeedFactorRange = 2.0 2.0 ;set this state to animate  s l o w l y
      HideSubObject       = BarrelAlt01 TURRETUP01 BarrelUP01 BarrelAltUP01 TURRETUP02 BarrelUP02 TURRETEL01
      ShowSubObject       = TURRET01 Barrel01 MUZZLEFX01
    End
     ConditionState       = USER_1 CONTINUOUS_FIRE_MEAN REALLYDAMAGED
      Model               = NVRaiderVar1_D
      Turret              = Turret01
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      Animation           = NVRaiderVar1_D.NVRaiderVar1_D
      AnimationMode       = LOOP
      HideSubObject       = BarrelAlt01 TURRETUP01 BarrelUP01 BarrelAltUP01 TURRETUP02 BarrelUP02 TURRETEL01
      ShowSubObject       = TURRET01 Barrel01 MUZZLEFX01
    End
    ConditionState        = USER_1 CONTINUOUS_FIRE_FAST REALLYDAMAGED
      Model               = NVRaiderVar1_D
      Turret              = Turret01
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      Animation           = NVRaiderVar1_D.NVRaiderVar1_D
      AnimationMode       = LOOP
      AnimationSpeedFactorRange = 8.0 8.0 ;set this state to animate  vryfst
      ParticleSysBone    = Muzzle01 GattlingMuzzleSmoke
      HideSubObject       = BarrelAlt01 TURRETUP01 BarrelUP01 BarrelAltUP01 TURRETUP02 BarrelUP02 TURRETEL01
      ShowSubObject       = TURRET01 Barrel01 MUZZLEFX01
    End
    ConditionState = USER_1 MOVING
      Model               = NVRaiderVar1
      Turret              = Turret01
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      HideSubObject       = TURRET01 Barrel01 BarrelAlt01 TURRETUP01 BarrelUP01 BarrelAltUP01 TURRETUP02 BarrelUP02 TURRETEL01
      ShowSubObject       = TURRET01 Barrel01 MUZZLEFX01
      ParticleSysBone     = EXHAUST01 DozerSmokeHeavy
      ParticleSysBone     = EXHAUST02 DozerSmokeHeavy
      ParticleSysBone     = EXHAUST03 DozerSmokeHeavy
      ParticleSysBone     = EXHAUST04 DozerSmokeHeavy
    End
    ConditionState = USER_1 REALLYDAMAGED RUBBLE MOVING
      Model               = NVRaiderVar1_D
      Turret              = Turret01
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      HideSubObject       = BarrelAlt01 TURRETUP01 BarrelUP01 BarrelAltUP01 TURRETUP02 BarrelUP02 TURRETEL01
      ShowSubObject       = TURRET01 Barrel01 MUZZLEFX01
      ParticleSysBone     = EXHAUST01 DozerSmokeHeavy
      ParticleSysBone     = EXHAUST02 DozerSmokeHeavy
      ParticleSysBone     = EXHAUST03 DozerSmokeHeavy
      ParticleSysBone     = EXHAUST04 DozerSmokeHeavy
    End

    ConditionState = USER_2
      Model = NVRaiderVar1
      Turret              = TURRETUP01
      WeaponFireFXBone    = SECONDARY MUZZLEUP01
      WeaponLaunchBone    = SECONDARY MuzzleUP01
      ParticleSysBone     = EXHAUST01 DozerSmokeLight
      ParticleSysBone     = EXHAUST02 DozerSmokeLight
      ParticleSysBone     = EXHAUST03 DozerSmokeLight
      ParticleSysBone     = EXHAUST04 DozerSmokeLight
      ;note, the IRSonar particle system is added in StealthDetectorUpdate.cpp, not here
      HideSubObject       = BarrelAltUP01 TURRETUP02 BarrelUP02 TURRETEL01 TURRET01 Barrel01 MUZZLEFX01
      ShowSubObject       = TURRETUP01 BarrelUP01 BarrelAlt01
    End
    ConditionState = USER_2 REALLYDAMAGED RUBBLE
      Model = NVRaiderVar1_D
      Turret              = TurretUP01
      WeaponFireFXBone    = SECONDARY MUZZLEUP01
      WeaponLaunchBone    = SECONDARY MuzzleUP01
      ParticleSysBone     = EXHAUST01 DozerSmokeLight
      ParticleSysBone     = EXHAUST02 DozerSmokeLight
      ParticleSysBone     = EXHAUST03 DozerSmokeLight
      ParticleSysBone     = EXHAUST04 DozerSmokeLight
      ;note, the IRSonar particle system is added in StealthDetectorUpdate.cpp, not here
      HideSubObject       = TURRET01 Barrel01 MUZZLEFX01 BarrelAltUP01 TURRETUP02 BarrelUP02 TURRETEL01
      ShowSubObject       = TURRETUP01 BarrelUP01 BarrelAlt01
    End
    ConditionState = USER_2 MOVING
      Model               = NVRaiderVar1
      Turret              = TurretUP01
      WeaponFireFXBone    = SECONDARY MUZZLEUP01
      WeaponLaunchBone    = SECONDARY MuzzleUP01
      HideSubObject       = BarrelAltUP01 TURRETUP02 BarrelUP02 TURRETEL01 TURRET01 Barrel01 MUZZLEFX01
      ShowSubObject       = TURRETUP01 BarrelUP01 BarrelAlt01
      ParticleSysBone     = EXHAUST01 DozerSmokeHeavy
      ParticleSysBone     = EXHAUST02 DozerSmokeHeavy
      ParticleSysBone     = EXHAUST03 DozerSmokeHeavy
      ParticleSysBone     = EXHAUST04 DozerSmokeHeavy
    End
    ConditionState = USER_2 REALLYDAMAGED RUBBLE MOVING
      Model               = NVRaiderVar1_D
      Turret              = TurretUP01
      WeaponFireFXBone    = SECONDARY MUZZLEUP01
      WeaponLaunchBone    = SECONDARY MuzzleUP01
      HideSubObject       = BarrelAltUP01 TURRETUP02 BarrelUP02 TURRETEL01 TURRET01 Barrel01 MUZZLEFX01
      ShowSubObject       = TURRETUP01 BarrelUP01 BarrelAlt01
      ParticleSysBone     = EXHAUST01 DozerSmokeHeavy
      ParticleSysBone     = EXHAUST02 DozerSmokeHeavy
      ParticleSysBone     = EXHAUST03 DozerSmokeHeavy
      ParticleSysBone     = EXHAUST04 DozerSmokeHeavy
    End

    ConditionState = WEAPONSET_PLAYER_UPGRADE
      Model               = NVRaiderVar1
      Turret              = TURRETUP02
      TurretPitch         = TURRETEL01
      WeaponFireFXBone    = TERTIARY BARRELFXUP
      WeaponLaunchBone    = TERTIARY BARRELFXUP
      HideSubObject       = TURRET01 Barrel01 BarrelAlt01 TURRETUP01 BarrelUP01 MUZZLEFX01
      ShowSubObject       = TURRETUP02 BarrelUP02 BarrelAltUP01 TURRETEL01
      ParticleSysBone     = EXHAUST01 DozerSmokeLight
      ParticleSysBone     = EXHAUST02 DozerSmokeLight
      ParticleSysBone     = EXHAUST03 DozerSmokeLight
      ParticleSysBone     = EXHAUST04 DozerSmokeLight
    End
    ConditionState = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED RUBBLE
      Model               = NVRaiderVar1_D
      Turret              = TURRETUP02
      TurretPitch         = TURRETEL01
      WeaponFireFXBone    = TERTIARY BARRELFXUP
      WeaponLaunchBone    = TERTIARY BARRELFXUP
      HideSubObject       = TURRET01 Barrel01 BarrelAlt01 TURRETUP01 BarrelUP01 MUZZLEFX01
      ShowSubObject       = TURRETUP02 BarrelUP02 BarrelAltUP01 TURRETEL01
      ParticleSysBone     = EXHAUST01 DozerSmokeLight
      ParticleSysBone     = EXHAUST02 DozerSmokeLight
      ParticleSysBone     = EXHAUST03 DozerSmokeLight
      ParticleSysBone     = EXHAUST04 DozerSmokeLight
    End
    ConditionState = WEAPONSET_PLAYER_UPGRADE MOVING
      Model               = NVRaiderVar1
      Turret              = TURRETUP02
      TurretPitch         = TURRETEL01
      WeaponFireFXBone    = TERTIARY BARRELFXUP
      WeaponLaunchBone    = TERTIARY BARRELFXUP
      HideSubObject       = TURRET01 Barrel01 BarrelAlt01 TURRETUP01 BarrelUP01 MUZZLEFX01
      ShowSubObject       = TURRETUP02 BarrelUP02 BarrelAltUP01 TURRETEL01
      ParticleSysBone     = EXHAUST01 DozerSmokeHeavy
      ParticleSysBone     = EXHAUST02 DozerSmokeHeavy
      ParticleSysBone     = EXHAUST03 DozerSmokeHeavy
      ParticleSysBone     = EXHAUST04 DozerSmokeHeavy
    End
    ConditionState = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED RUBBLE MOVING
      Model               = NVRaiderVar1_D
      Turret              = TURRETUP02
      TurretPitch         = TURRETEL01
      WeaponFireFXBone    = TERTIARY BARRELFXUP
      WeaponLaunchBone    = TERTIARY BARRELFXUP
      HideSubObject       = TURRET01 Barrel01 BarrelAlt01 TURRETUP01 BarrelUP01 MUZZLEFX01
      ShowSubObject       = TURRETUP02 BarrelUP02 BarrelAltUP01 TURRETEL01
      ParticleSysBone     = EXHAUST01 DozerSmokeHeavy
      ParticleSysBone     = EXHAUST02 DozerSmokeHeavy
      ParticleSysBone     = EXHAUST03 DozerSmokeHeavy
      ParticleSysBone     = EXHAUST04 DozerSmokeHeavy
    End
    TrackMarks = EXTireTrack.tga

    Dust = RocketBuggyDust
    DirtSpray = RocketBuggyDirtSpray
    ; PowerslideSpray = RocketBuggyDirtPowerSlide doesn't powerslide

    ; These parameters are only used if the model has a separate suspension,
    ; and the locomotor has HasSuspension = Yes.
    LeftFrontTireBone     = Wheel01
    RightFrontTireBone    = Wheel02
    LeftRearTireBone      = Wheel03
    RightRearTireBone     = Wheel04

    TireRotationMultiplier      = 0.2   ; this * speed = rotation.
    PowerslideRotationAddition  = 0   ; This vehicle doesn't powerslide.
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:LandRaider
  Side = Boss
  EditorSorting   = VEHICLE
  TransportSlotCount = 4                 ;Just enough to fit into a Chinook.
  WeaponSet
    Conditions        = NONE
    Weapon            = PRIMARY None
  End
  WeaponSet
    Conditions        = PLAYER_UPGRADE
    Weapon            = PRIMARY RaiderGattlingGun
    PreferredAgainst  = PRIMARY INFANTRY VEHICLE STRUCTURE
    AutoChooseSources = PRIMARY NONE
    Weapon            = SECONDARY RaiderArtGun
    PreferredAgainst  = SECONDARY INFANTRY VEHICLE STRUCTURE
    AutoChooseSources = SECONDARY NONE
    Weapon            = TERTIARY RaiderMissile
    PreferredAgainst  = TERTIARY AIRCRAFT
    AutoChooseSources = TERTIARY NONE
  End
  ArmorSet
    Conditions      = None
    Armor           = TankArmor
    DamageFX        = TankDamageFX
  End
  BuildCost       = 600
  BuildTime       = 5.0          ;in seconds
  VisionRange     = 175           ;Needs to see farther and match it's weapon range -- else troop crawlers will get slaughtered against tanks!
  ShroudClearingRange = 400
  Prerequisites
    Object = Boss_WarFactory
  End
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = ChinaVehicleRaiderDefaultCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = TroopCrawlerVoiceSelect
  VoiceMove = TroopCrawlerVoiceMove
  VoiceGuard = TroopCrawlerVoiceMove
  VoiceAttack = TroopCrawlerVoiceAttack
  SoundMoveStart = TroopCrawlerMoveStart
  SoundMoveStartDamaged = TroopCrawlerMoveStart
  SoundEnter = HumveeEnter
  SoundExit = HumveeExit
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate     = TroopCrawlerVoiceCreate
    TurretMoveStart = NoSound
    TurretMoveLoop = TurretMoveLoop
    TruckLandingSound = NoSound ;RocketBuggyLand
    TruckPowerslideSound = NoSound ;RocketBuggyPowerslide
    VoiceCrush = TroopCrawlerVoiceCrush
    VoiceUnload   = TroopCrawlerVoiceUnload
    VoiceEnter = TroopCrawlerVoiceMove
  End


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS VEHICLE SCORE TRANSPORT

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 240.0
    InitialHealth   = 240.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 480
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

  Behavior = AIUpdateInterface ModuleTag_04
    Turret
      TurretTurnRate = 180   ; turn rate, in degrees per sec
      ControlledWeaponSlots = PRIMARY SECONDARY TERTIARY
    End
    AutoAcquireEnemiesWhenIdle = Yes
  End

  Locomotor = SET_NORMAL RaiderLocomotor
  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 50.0
  End

  Behavior = ObjectCreationUpgrade ModuleTag_22
    UpgradeObject = OCL_ChinaOmegaBattleDrone
    TriggeredBy   = Upgrade_ChinaOmegaBattleDrone
  End

  Behavior = ProductionUpdate ModuleTag_24
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End

  Behavior    = OCLSpecialPower ModuleTag_Laymines01
    SpecialPowerTemplate = SpecialAbilityLaymines
    OCL                  = OCL_AmericaBattleMines
  End

;  Behavior = ObjectCreationUpgrade ModuleTag_93
;    UpgradeObject = OCL_RaiderCannon
;    TriggeredBy   = Upgrade_ChinaRaiderCannon
;    ConflictsWith = Upgrade_ChinaRaiderMissiles Upgrade_ChinaRaiderArt
;  End
  Behavior = WeaponSetUpgrade ModuleTag_WeaponSetUpgrade01
    TriggeredBy = Upgrade_ChinaRaiderMissiles Upgrade_ChinaRaiderCannon Upgrade_ChinaRaiderArt
  End

  Behavior = ModelConditionUpgrade ModuleTag_18
    ConditionFlag = USER_1
    TriggeredBy = Upgrade_ChinaRaiderCannon
  End

  Behavior = ModelConditionUpgrade ModuleTag_19
    ConditionFlag = USER_2
    TriggeredBy   = Upgrade_ChinaRaiderArt
  End

;  Behavior = ObjectCreationUpgrade ModuleTag_94
;    UpgradeObject = OCL_RaiderMissiles
;    TriggeredBy   = Upgrade_ChinaRaiderMissiles
;    ConflictsWith = Upgrade_ChinaRaiderCannon Upgrade_ChinaRaiderArt
;  End
;  Behavior = ObjectCreationUpgrade ModuleTag_95
;    UpgradeObject = OCL_RaiderArt
;    TriggeredBy   = Upgrade_ChinaRaiderArt
;    ConflictsWith = Upgrade_ChinaRaiderCannon Upgrade_ChinaRaiderMissiles
;  End
  Behavior = ProductionUpdate ModuleTag_96
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End
  Behavior = CommandSetUpgrade ModuleTag_97
    CommandSet = ChinaVehicleRaiderCannonCommandSet
    TriggeredBy   = Upgrade_ChinaRaiderCannon
    ConflictsWith = Upgrade_ChinaRaiderMissiles Upgrade_ChinaRaiderArt
  End
  Behavior = CommandSetUpgrade ModuleTag_98
    CommandSet = ChinaVehicleRaiderMissileCommandSet
    TriggeredBy   = Upgrade_ChinaRaiderMissiles
    ConflictsWith = Upgrade_ChinaRaiderArt Upgrade_ChinaRaiderCannon
  End
  Behavior = CommandSetUpgrade ModuleTag_99
    CommandSet = ChinaVehicleRaiderArtyCommandSet
    TriggeredBy   = Upgrade_ChinaRaiderArt
    ConflictsWith = Upgrade_ChinaRaiderCannon Upgrade_ChinaRaiderMissiles
  End
  Behavior = TransportContain ModuleTag_06 ; Like Transport, but when full, passes transport queries along to first passenger (redirects like tunnel)
    Slots                 = 4
    DamagePercentToUnits        = 100%
    AllowInsideKindOf     = INFANTRY
;    ArmedRidersUpgradeMyWeaponSet = Yes
    PassengersAllowedToFire = Yes
    PassengersInTurret = No ; My passengers ride in my turret, that's where the Firepoint bones are
  End

  Behavior = SlowDeathBehavior ModuleTag_07
    DeathTypes = ALL -CRUSHED -SPLATTED
    DestructionDelay = 1
    FX  = FINAL    FX_SupplyTruckExplosionOneFinal
    OCL = FINAL    OCL_FinalTroopCrawlerDebris
  End

  Behavior                 = TransitionDamageFX ModuleTag_08
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_NukeCannonDamageTransition
  End

  Behavior = DestroyDie ModuleTag_09
    DeathTypes = NONE +CRUSHED +SPLATTED
  End

  Behavior = FXListDie ModuleTag_10
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End

  ; A crushing defeat
  Behavior = FXListDie ModuleTag_11
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End

  Behavior = CreateCrateDie ModuleTag_12
    CrateData = SalvageCrateData
    ;CrateData = EliteTankCrateData
    ;CrateData = HeroicTankCrateData
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Geometry = BOX
  GeometryMajorRadius = 12.5
  GeometryMinorRadius = 10.0
  GeometryHeight = 5.0
  GeometryIsSmall = No
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object Boss_Blackhawk

  SelectPortrait = blackhawk_L
  ButtonImage = blackhawk

 Draw = W3DModelDraw ModuleTag_01
  ExtraPublicBone = RopeStart
  ExtraPublicBone = RopeEnd
 DefaultConditionState
  Model = AVBlackhawk
  HideSubObject = MissileUpgrade
  Animation = AVBlackhawk.AVBlackhawk
  AnimationMode = LOOP
  WeaponMuzzleFlash = PRIMARY MuzzleFX
  WeaponFireFXBone = PRIMARY Muzzle
  WeaponFireFXBone = SECONDARY Muzzle
  WeaponMuzzleFlash = SECONDARY MuzzleFX01
 End
 ConditionState = REALLYDAMAGED
  Model = AVBlackhawk
  Animation = AVBlackhawk.AVBlackhawk
  AnimationMode = LOOP
 End
 ConditionState = RUBBLE
  Model = AVBlackhawk
  Animation = AVBlackhawk.AVBlackhawk
  AnimationMode = LOOP
 End
 ConditionState = RUBBLE SPECIAL_DAMAGED
  Model = AVBlackhawk
  HideSubObject = AVComanche_Prop
 End
  OkToChangeModelColor = Yes
 End
 Draw = W3DModelDraw ModuleTag_02
 ConditionState = NONE
  Model = None
  TransitionKey = TRANS_Empty
  WaitForStateToFinishIfPossible = TRANS_Unloading
 End
 ConditionState = DYING
  Model = None
 End
  AliasConditionState = RUBBLE
  AliasConditionState = CARRYING RUBBLE
  AliasConditionState = DOCKING RUBBLE
  AliasConditionState = DOCKING CARRYING RUBBLE
 ConditionState = CARRYING
  Model = AVBlackhawk
  Animation = AVBlackhawk.AVBlackhawk
  AnimationMode = LOOP
  TransitionKey = TRANS_Full
  WaitForStateToFinishIfPossible = TRANS_PickingUp
 End
 ConditionState = DOCKING
  Model = AVBlackhawk
  Animation = AVBlackhawk.AVBlackhawk
  AnimationMode = LOOP
  TransitionKey = TRANS_PickingUp
  WaitForStateToFinishIfPossible = TRANS_Unloading
 End
 ConditionState = DOCKING CARRYING
  Model = AVBlackhawk
  Animation = AVBlackhawk.AVBlackhawk
  AnimationMode = LOOP
  TransitionKey = TRANS_Unloading
  WaitForStateToFinishIfPossible = TRANS_PickingUp
 End
End
  DisplayName = OBJECT:Blackhawk
  EditorSorting = VEHICLE
  Side = Boss
  TransportSlotCount = 0
  VisionRange = 300.0
  ShroudClearingRange = 600
  BuildCost = 3500
  BuildTime = 15.0
  Prerequisites
    Object = Boss_Airfield
    Object = Boss_ParticleCannonUplink
  End
  ExperienceValue = 50 50 100 200
  IsTrainable = No
  CommandSet = AmericaVehicleChinook2CommandSet
  WeaponSet
  Conditions = None
  Weapon = PRIMARY BlackhawkCannonWeapon
  PreferredAgainst = PRIMARY INFANTRY PROJECTILE AIRCRAFT
  AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
  Weapon = SECONDARY BlackhawkCannonWeapon
  PreferredAgainst = SECONDARY VEHICLE STRUCTURE AIRCRAFT
  AutoChooseSources = SECONDARY FROM_PLAYER FROM_SCRIPT FROM_AI
  End
  ArmorSet
    Conditions      = None
    Armor           = ComancheArmor
    DamageFX        = None
  End
  ArmorSet
    Conditions            = PLAYER_UPGRADE
    Armor                 = CountermeasuresComancheArmor
    DamageFX              = None
  End

  ; *** AUDIO Parameters ***
  VoiceSelect     = ChinookVoiceSelect
  VoiceMove       = ChinookVoiceMove
  VoiceAttack     = ChinookVoiceAttack
  SoundAmbient    = ChinookAmbientLoop
  SoundAmbientRubble    = NoSound
  SoundEnter      = HumveeEnter
  SoundExit       = HumveeExit
  UnitSpecificSounds
    VoiceCreate         = ChinookVoiceCreate
    VoiceSupply         = ChinookVoiceSupply
    VoiceUnload         = ChinookVoiceUnload
    VoiceCombatDrop     = ChinookVoiceCombatDrop
    VoiceClearBuilding  = RangerVoiceClearBuilding ;Special combat drop that clears buildings!
    VoiceGarrison       = ChinookVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority   = UNIT
  ; note that, although Chinooks aren't produced at helipads, we want to set this KINDOF so that they can land at
  ; (well, "near" actually) an Airfield to get healed...
  ; also note that we should NOT set CAN_ATTACK for chinooks. they can't attack. so there.
  KindOf          = PRELOAD CAN_ATTACK CAN_CAST_REFLECTIONS SELECTABLE VEHICLE TRANSPORT AIRCRAFT HARVESTER SCORE PRODUCED_AT_HELIPAD

  Body = ActiveBody ModuleTag_03
    MaxHealth       = 1000.0
    InitialHealth   = 1000.0
  End

  Behavior = FXListDie ModuleTag_05
    DeathFX = FX_HelicopterStartDeath
  End

  Behavior                       = TransitionDamageFX ModuleTag_06
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuousDown
    ReallyDamagedFXList1         = Loc: X:0 Y:0 Z:0 FXList:FX_ComancheDamageTransition
  End

  Behavior                = ArmorUpgrade ModuleTag_Armor01
    TriggeredBy           = Upgrade_AmericaCountermeasures
  End

  Behavior                = CountermeasuresBehavior ModuleTag_99
    TriggeredBy           = Upgrade_AmericaCountermeasures
    FlareTemplateName     = CountermeasureFlare
    FlareBoneBaseName     = Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
    VolleySize            = 4     ; Number of flares launched per volley (requires bones)
    VolleyArcAngle        = 90.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
    VolleyVelocityFactor  = 1.0   ; Shoots out flares at a stronger velocity with a higher value.
    DelayBetweenVolleys   = 1000  ; Time between flare volleys
    NumberOfVolleys       = 4     ; Number of times the volleys will fire before reloading
    ReloadTime            = 0     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
    EvasionRate           = 90%   ; With active flares, the specified percentage will be diverted.
    ReactionLaunchLatency = 0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
    MissileDecoyDelay     = 200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
  End

  Behavior = ChinookAIUpdate ModuleTag_07
    NumRopes                = 4
    ; these define how long we can wait, once a guy is on-rope, before throwing another
    ; guy onto that same rope. (Hint: you don't want to use zero.) Omit entirely
    ; and we'll wait for each guy to clear before spawning another.
    PerRopeDelayMin         = 900
    PerRopeDelayMax         = 1500
    RopeWidth               = 0.5
    RopeColor               = R:0 G:0 B:0
    RopeWobbleLen           = 10
    RopeWobbleAmplitude     = 0.25
    RopeWobbleRate          = 180
    RopeFinalHeight         = 10    ; stop this far above ground
    RappelSpeed             = 30
    MinDropHeight           = 40    ; if dropping into a tall bldg, go at least this far above it
    UpgradedSupplyBoost     = 60    ; increase in value of the crates when supply lines has been upgraded
  End
  Locomotor = SET_NORMAL    ChinookLocomotor
  Locomotor = SET_TAXIING   BasicHelicopterTaxiLocomotor

  Behavior = TransportContain ModuleTag_08
    Slots                 = 8
    DamagePercentToUnits  = 100%
    AllowInsideKindOf     = INFANTRY
    ForbidInsideKindOf    = AIRCRAFT HUGE_VEHICLE
    ExitDelay             = 100
    NumberOfExitPaths     = 1
  End
  Behavior = PhysicsBehavior ModuleTag_09
    Mass = 50.0
  End
  Behavior = HelicopterSlowDeathBehavior ModuleTag_10
    DestructionDelay                = 99999999        ; the destruction delay
    SpiralOrbitTurnRate             = 140.0           ; in degrees per second, bigger # = tighter spiral
    SpiralOrbitForwardSpeed         = 350.0           ; bigger # = larger spiral
    SpiralOrbitForwardSpeedDamping  = .9999           ; smaller #'s = slow down faster
    MaxBraking                      = 190   ; max braking we can use during death spiral (lower num = wilder spiral)
    SoundDeathLoop                  = ComancheDamagedLoop
    MinSelfSpin                     = 100                     ; in degrees per second
    MaxSelfSpin                     = 300                     ; in degrees per second
    SelfSpinUpdateDelay             = 100                     ; in milliseconds
    SelfSpinUpdateAmount            = 10                      ; in degrees
    FallHowFast                     = 12.0%                   ; fraction of gravity, lower = take longer to fall
    MinBladeFlyOffDelay             = 1500                    ; in milliseconds
    MaxBladeFlyOffDelay             = 1500                    ; in milliseconds
    AttachParticle                  = SootySmokeTrail
    AttachParticleBone              = Propeller02
    BladeObjectName                 = ComancheBlades
    BladeBoneName                   = Propeller
    FXBlade                         = FX_HelicopterBladeExplosion
    OCLBlade                        = OCL_HelicopterBladeExplosion
    FXHitGround                     = FX_HelicopterHitGround
    OCLHitGround                    = OCL_HelicopterHitGround
    FXFinalBlowUp                   = FX_GroundedHelicopterBlowUp
    OCLFinalBlowUp                  = OCL_GroundedHelicopterBlowUp
    DelayFromGroundToFinalDeath     = 30
    FinalRubbleObject               = BlackhawkTankHulk
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Geometry              = BOX
  GeometryMajorRadius   = 25.0
  GeometryMinorRadius   = 12.5
  GeometryHeight        = 2.5
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
  ShadowSizeX           = 89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object Boss_JetIronDragon

  ; *** ART Parameters ***
  SelectPortrait         = IronDragon_L
  ButtonImage            = IronDragon

  UpgradeCameo1 = Upgrade_ChinaAircraftArmor
  UpgradeCameo2 = Upgrade_ChinaNovaBombs
  ;UpgradeCameo3 = NONE
  ;UpgradeCameo4 = NONE
  ;UpgradeCameo5 = NONE

  Draw = W3DModelDraw ModuleTag_01

    ProjectileBoneFeedbackEnabledSlots = PRIMARY ; WeaponLaunchBone will be shown/hidden, not just used for firing offset
    OkToChangeModelColor = Yes

    DefaultConditionState
      Model               = NXStealth
      HideSubObject       = BurnerFX01 BurnerFX02
      WeaponFireFXBone = PRIMARY WeaponA
      WeaponLaunchBone = PRIMARY WeaponA
    End

    ConditionState        = JETEXHAUST
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState       = JETEXHAUST JETAFTERBURNER
      ShowSubObject      = BurnerFX01 BurnerFX02
      ParticleSysBone     = Exhaust01 JetExhaust
      ParticleSysBone     = Exhaust02 JetExhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = REALLYDAMAGED
      Model               = NXStealth_d
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = RUBBLE
      Model               = NXStealth_d
    End

    ConditionState        = REALLYDAMAGED JETEXHAUST
      Model               = NXStealth_d
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = REALLYDAMAGED JETEXHAUST JETAFTERBURNER
      Model               = NXStealth_d
      ShowSubObject       = BurnerFX01 BurnerFX02
      ParticleSysBone     = Engine01 JetExhaust
      ParticleSysBone     = Engine02 JetExhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = RUBBLE JETEXHAUST JETAFTERBURNER
      ; @todo srj -- model missing
      ;Model              = NVMIG_D1B
      Model               = NXStealth_d
      ;HideSubObject is needed cause there're inherited from default condition state
      HideSubObject       = None
      ShowSubObject       = None
      ParticleSysBone     = Engine01 JetExhaust
      ParticleSysBone     = Engine02 JetExhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

  End

  ; ***DESIGN parameters ***
  DisplayName             = OBJECT:IronDragon
  EditorSorting           = VEHICLE
  Side                    = Boss
  TransportSlotCount      = 0          ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange             = 200.0
  ShroudClearingRange     = 300.0

  Prerequisites
    Object                = Boss_Airfield
    Object                = Boss_NuclearMissileLauncher
  End

  WeaponSet
    Conditions        = None
    Weapon            = PRIMARY     IronDragonBombWeapon
;    AutoChooseSources = PRIMARY     NONE
  End

  WeaponSet
    Conditions        = PLAYER_UPGRADE
    Weapon            = PRIMARY     IronDragonNovaBombWeapon
;    AutoChooseSources = PRIMARY     NONE
  End

  ArmorSet
    Conditions           = None
    Armor                = AirplaneArmor
    DamageFX             = None
  End

  BuildCost               = 3000
  BuildTime               = 40
  ExperienceValue         = 50 50 100 150   ;Experience point value at each level
  ExperienceRequired      = 0 100 200 400  ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 1  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet             = ChinaJetMIGCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect             = MigVoiceSelect
  VoiceMove               = MigVoiceMove
  VoiceAttack             = MigVoiceAttack
  VoiceAttackAir          = MigVoiceAttackAir
  VoiceGuard              = MigVoiceAirPatrol
  SoundAmbient            = MigAmbientLoop
  UnitSpecificSounds
    VoiceCreate           = MigVoiceCreate
    Afterburner           = RaptorAfterburner
    VoiceGarrison         = MigVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority          = UNIT
  KindOf                 = PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT
  Body                   = ActiveBody ModuleTag_02
    MaxHealth            = 240.0
    InitialHealth        = 240.0
  End

  Behavior                          = JetSlowDeathBehavior ModuleTag_03
    FXOnGroundDeath                 = FX_JetOnGroundDeath
    OCLOnGroundDeath                = OCL_MIGDeathFinalBlowUp
    DestructionDelay                = 99999999  ; destruction will happen when we
    RollRate                        = 0.2
    RollRateDelta                   = 100%      ;each frame, rollrate = rollrate * rollrateDelta
    PitchRate                       = 0.0
    FallHowFast                     = 110.0%    ;Bigger is faster (can be over 100%,it's a fraction of gravity)
    FXInitialDeath                  = FX_MigDeathInitial
    OCLInitialDeath                 = OCL_MIGDeathInitial
    DelaySecondaryFromInitialDeath  = 500       ; in milliseconds
    FXSecondary                     = FX_JetDeathSecondary
    OCLSecondary                    = OCL_MIGDeathSecondary
    FXHitGround                     = FX_JetDeathHitGround
    OCLHitGround                    = OCL_MIGDeathHitGround
    DelayFinalBlowUpFromHitGround   = 200       ; in milliseconds
    FXFinalBlowUp                   = FX_JetDeathFinalBlowUp
    OCLFinalBlowUp                  = OCL_MIGDeathFinalBlowUp
  End

  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 500.0
  End

  Behavior = JetAIUpdate ModuleTag_06
    OutOfAmmoDamagePerSecond  = 10%     ; amount of damage to take per SEC (not per frame) when out of ammo
                                        ; note that it's expressed as a percent of max health, not an absolute
    TakeoffDistForMaxLift     = 0%   ; larger numbers give more lift sooner when taking off
    TakeoffPause              = 500
    MinHeight                 = 5
    ReturnToBaseIdleTime      = 10000         ; if idle for this long, return to base, even if not out of ammo
  End

  Locomotor = SET_NORMAL IronDragonLocomotor
  Locomotor = SET_TAXIING BasicJetTaxiLocomotor

  Behavior = FlammableUpdate ModuleTag_08
    AflameDuration = 5000        ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500      ; this often.
  End

  Behavior                       = TransitionDamageFX ModuleTag_09
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes Psys:SmokeSmallContinuous01
    ReallyDamagedFXList1         = Loc: X:0 Y:0 Z:0 FXList:FX_MIGDamageTransition
  End

  Behavior        = WeaponSetUpgrade ModuleTag_11
    TriggeredBy   = Upgrade_ChinaNovaBombs
  End

  Behavior        = MaxHealthUpgrade ModuleTag_10
    TriggeredBy   = Upgrade_ChinaAircraftArmor
    AddMaxHealth  = 60.0
    ChangeType    = ADD_CURRENT_HEALTH_TOO   ;Choices are PRESERVE_RATIO, ADD_CURRENT_HEALTH_TOO, and SAME_CURRENTHEALTH
  End

  Geometry                 = Box
  GeometryIsSmall          = Yes
  GeometryMajorRadius      = 14.0
  GeometryMinorRadius      = 7.0
  GeometryHeight           = 5.0
  Shadow                   = SHADOW_VOLUME

  Shadow = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object Boss_VehicleQuad

  ; *** ART Parameters ***
  SelectPortrait         = SUQuad_L
  ButtonImage            = SUQuad

  UpgradeCameo1 = Upgrade_GLAJunkRepair
  ;UpgradeCameo3 = NONE
  ;UpgradeCameo4 = NONE
  ;UpgradeCameo5 = NONE

  Draw = W3DTruckDraw ModuleTag_01

    DefaultConditionState
      Model         = UVQuad
      HideSubObject = POD02
      WeaponFireFXBone = PRIMARY RocketFX01
      WeaponLaunchBone = PRIMARY RocketFX01
    End
    ConditionState  = REALLYDAMAGED
      Model         = UVQuad_d
      HideSubObject = POD02
      WeaponFireFXBone = PRIMARY RocketFX01
      WeaponLaunchBone = PRIMARY RocketFX01
    End
    ConditionState  = RUBBLE
      Model         = UVQuad_d
      HideSubObject = POD02
      WeaponFireFXBone = PRIMARY RocketFX01
      WeaponLaunchBone = PRIMARY RocketFX01
    End

   ;--------Crate Upgrade One----------
    ConditionState  = WEAPONSET_CRATEUPGRADE_ONE
      Model         = UVQuad
      WeaponFireFXBone = PRIMARY RocketFX
      WeaponLaunchBone = PRIMARY RocketFX
    End
    AliasConditionState WEAPONSET_CRATEUPGRADE_TWO
    ConditionState  = WEAPONSET_CRATEUPGRADE_ONE REALLYDAMAGED
      Model         = UVQuad_d
      WeaponFireFXBone = PRIMARY RocketFX
      WeaponLaunchBone = PRIMARY RocketFX
    End
    AliasConditionState REALLYDAMAGED WEAPONSET_CRATEUPGRADE_TWO
    ConditionState  = WEAPONSET_CRATEUPGRADE_ONE RUBBLE
      Model         = UVQuad_d
      WeaponFireFXBone = PRIMARY RocketFX
      WeaponLaunchBone = PRIMARY RocketFX
    End
    AliasConditionState RUBBLE WEAPONSET_CRATEUPGRADE_TWO

    OkToChangeModelColor        = Yes
    TrackMarks                  = EXTireTrack.tga
    Dust                        = TechnicalDust
    DirtSpray                   = RocketBuggyDirtSpray
    PowerslideSpray             = RocketBuggyDirtPowerSlide

    ; These parameters are only used if the model has a separate suspension,
    ; and the locomotor has HasSuspension = Yes.
    LeftFrontTireBone           = Tire02
    RightFrontTireBone          = Tire01
    LeftRearTireBone            = Tire03
    RightRearTireBone           = Tire04
    TireRotationMultiplier      = 0.2        ; this * speed = rotation.
    PowerslideRotationAddition  = 2.5    ; This speed is added to the rotation speed when powersliding.
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Quad
  Side                = Boss
  EditorSorting       = VEHICLE
  TransportSlotCount  = 3                 ;how many "slots" we take in a transport (0 == not transportable)

  WeaponSet
    Conditions = None
    Weapon = PRIMARY QuadRPGWeapon
  End
  WeaponSet
    Conditions = CRATEUPGRADE_ONE
    Weapon = PRIMARY QuadRPGWeaponOne
  End
  ArmorSet
    Conditions      = None
    Armor           = TruckArmor
    DamageFX        = TruckDamageFX
  End
  BuildCost            = 800
  BuildTime            = 10.0          ;in seconds
  VisionRange           = 150
  ShroudClearingRange   = 300
  Prerequisites
    Object = Boss_WarFactory
  End

  ExperienceValue         = 25 25 50 100    ;Experience point value at each level
  ExperienceRequired      = 0 50 75 150  ;Experience points needed to gain each level
  IsTrainable             = Yes             ;Can gain experience
  CrusherLevel            = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel          = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet              = GenericCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = CombatCycleVoiceSelect
  VoiceMove = CombatCycleVoiceMove
  VoiceAttack = CombatCycleVoiceAttack
  SoundMoveStart = CombatBikeMoveStart
  SoundMoveStartDamaged = CombatBikeMoveStart
  VoiceGuard = CombatCycleVoiceMove
  SoundEnter = CombatCycleSwitchRider


  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate          = CombatCycleVoiceCreate
    TurretMoveStart = NoSound
    TurretMoveLoop = TurretMoveLoop
  ; Required for the W3DTruckDraw module
    TruckLandingSound = RocketBuggyLand
    TruckPowerslideSound = CombatBikeMoveStart
    VoiceCrush      = CombatCycleVoiceMove
    VoiceEnter = CombatCycleVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS SALVAGER WEAPON_SALVAGER VEHICLE SCORE CLIFF_JUMPER
  Body = ActiveBody ModuleTag_04
    MaxHealth       = 280
    InitialHealth   = 280

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 360
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End
  Behavior = AIUpdateInterface ModuleTag_05
    Turret
      TurretTurnRate = 0       ; turn rate, in degrees per sec
      ControlledWeaponSlots = PRIMARY
    End
    AutoAcquireEnemiesWhenIdle = Yes
  End

  Behavior = HordeUpdate ModuleTag_0468
    RubOffRadius = 150    ; if I am this close to a real hordesman, I will get to be an honorary hordesman
    UpdateRate = 1000     ; how often to recheck horde status (msec)
    Radius = 75           ; how close other units must be to us to count towards our horde-ness (~30 feet or so)
    KindOf = VEHICLE      ; what KindOf's must match to count towards horde-ness
    AlliesOnly = Yes      ; do we only count allies towards horde status?
    ExactMatch = Yes      ; do we only count units of our exact same type towards horde status? (overrides kindof)
    Count = 5             ; how many units must be within Radius to grant us horde-ness
    Action = HORDE        ; when horde-ing, grant us the HORDE bonus
  End

  Locomotor = SET_NORMAL QuadLocomotor QuadCliffLocomotor
  Behavior = PhysicsBehavior ModuleTag_06
    Mass = 40.0
  End
  Behavior = AutoHealBehavior ModuleTag_07
    HealingAmount = 2
    HealingDelay = 1000 ; msec
    TriggeredBy = Upgrade_GLAJunkRepair
  End

  Behavior = FlammableUpdate ModuleTag_09
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior                 = TransitionDamageFX ModuleTag_10
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = DestroyDie ModuleTag_11
    DeathTypes = NONE +CRUSHED +SPLATTED
  End

  ; A crushing defeat
  Behavior = FXListDie ModuleTag_12
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  Behavior = CreateObjectDie ModuleTag_13
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_TechnicalJeep_CrushEffect
  End
  Behavior = CreateCrateDie ModuleTag_14
    CrateData = SalvageCrateData
    ;CrateData = EliteTankCrateData
    ;CrateData = HeroicTankCrateData
  End

  Behavior = SlowDeathBehavior ModuleTag_15
    DeathTypes = ALL -CRUSHED -SPLATTED
    DestructionDelay = 500
    DestructionDelayVariance = 1500
    OCL = INITIAL OCL_TechnicalAirDeathStart
    FX = INITIAL FX_TechnicalAirDeathGroundPart
    OCL = FINAL OCL_RocketBuggyAirDeath
    FX = FINAL FX_RocketBuggyAirDeathAirPart    ; This happens in the air
  End

  Behavior = WeaponBonusUpgrade ModuleTag_17 ; Not a full weapon set switch, just a number tweak reflected in a weapon.
    TriggeredBy = Upgrade_GLAAPRockets
  End

  Geometry = BOX
  GeometryMajorRadius = 18.0
  GeometryMinorRadius = 9.0
  GeometryHeight = 7.5
  GeometryIsSmall = No
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;----------------------------------------------------------------------------------------------------------
Object Boss_ChinaVehicleVenom

  ; *** ART Parameters ***
  SelectPortrait         = Venom_L
  ButtonImage            = Venom

    Draw = W3DOverlordAircraftDraw  ModuleTag_01; Works with the dependencyModelDraw of the upgrade portable structures

      ParticlesAttachedToAnimatedBones = Yes

    DefaultConditionState
      Model = Venom1
      Animation = Venom1.Venom1
      AnimationMode = LOOP
      HideSubObject = ADDEDBONE2 ADDEDBONE4 ADDEDBONE07 ADDEDBONE08 ADDEDBONE11 ADDEDBONE12 ADDEDBONE17 ADDEDBONE18 ADDEDBONE34 ADDEDBONE35
      ShowSubObject = BARREL01 BARREL02 BARREL03 BARREL04 BARREL05 BARREL06 BARREL07 BARREL08 BARREL09 BARREL10
      Turret              = TURRET
      TurretPitch         = TURRETEL
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      WeaponFireFXBone    = SECONDARY Muzzle
      WeaponMuzzleFlash   = SECONDARY MuzzleFX
    End

    ConditionState = MOVING
      ParticleSysBone = SMOKE01 HelixExhaust
      ParticleSysBone = SMOKE02 HelixExhaust
    End

    ConditionState = REALLYDAMAGED
      Model = Venom1_d
      Animation = Venom1_d.Venom1_d
      AnimationMode = LOOP
      HideSubObject = ADDEDBONE2 ADDEDBONE4 ADDEDBONE07 ADDEDBONE08 ADDEDBONE11 ADDEDBONE12 ADDEDBONE17 ADDEDBONE18 ADDEDBONE34 ADDEDBONE35
      Turret              = TURRET
      ShowSubObject = BARREL01 BARREL02 BARREL03 BARREL04 BARREL05 BARREL06 BARREL07 BARREL08 BARREL09 BARREL10
      TurretPitch         = TURRETEL
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      WeaponFireFXBone    = SECONDARY Muzzle
      WeaponMuzzleFlash   = SECONDARY MuzzleFX
    End
    ConditionState = REALLYDAMAGED MOVING
      Model = Venom1_d
      Animation = Venom1_d.Venom1_d
      AnimationMode = LOOP
      HideSubObject = ADDEDBONE2 ADDEDBONE4 ADDEDBONE07 ADDEDBONE08 ADDEDBONE11 ADDEDBONE12 ADDEDBONE17 ADDEDBONE18 ADDEDBONE34 ADDEDBONE35
      ParticleSysBone = SMOKE01 HelixExhaust
      ShowSubObject = BARREL01 BARREL02 BARREL03 BARREL04 BARREL05 BARREL06 BARREL07 BARREL08 BARREL09 BARREL10
      ParticleSysBone = SMOKE02 HelixExhaust
      Turret              = TURRET
      TurretPitch         = TURRETEL
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      WeaponFireFXBone    = SECONDARY Muzzle
      WeaponMuzzleFlash   = SECONDARY MuzzleFX
    End

    ConditionState = RUBBLE
      Model = Venom1_d
      Animation = Venom1_d.Venom1_d
      AnimationMode = LOOP
      HideSubObject = ADDEDBONE2 ADDEDBONE4 ADDEDBONE07 ADDEDBONE08 ADDEDBONE11 ADDEDBONE12 ADDEDBONE17 ADDEDBONE18 ADDEDBONE34 ADDEDBONE35
      Turret              = TURRET
      ShowSubObject = BARREL01 BARREL02 BARREL03 BARREL04 BARREL05 BARREL06 BARREL07 BARREL08 BARREL09 BARREL10
      TurretPitch         = TURRETEL
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      WeaponFireFXBone    = SECONDARY Muzzle
      WeaponMuzzleFlash   = SECONDARY MuzzleFX
    End

    ConditionState = RUBBLE MOVING
      Model = Venom1_d
      Animation = Venom1_d.Venom1_d
      AnimationMode = LOOP
      ShowSubObject = BARREL01 BARREL04 BARREL07 BARREL08 BARREL010 BARREL02 BARREL03 BARREL05 BARREL06 BARREL09      HideSubObject = ADDEDBONE2 ADDEDBONE4 ADDEDBONE7 ADDEDBONE8 ADDEDBONE11 ADDEDBONE12 ADDEDBONE17 ADDEDBONE18 ADDEDBONE34 ADDEDBONE35      ParticleSysBone = SMOKE01 HelixExhaust
      HideSubObject = ADDEDBONE2 ADDEDBONE4 ADDEDBONE07 ADDEDBONE08 ADDEDBONE11 ADDEDBONE12 ADDEDBONE17 ADDEDBONE18 ADDEDBONE34 ADDEDBONE35      Turret              = TURRET
      ParticleSysBone = SMOKE02 HelixExhaust
      Turret              = TURRET
      TurretPitch         = TURRETEL
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      WeaponFireFXBone    = SECONDARY Muzzle
      WeaponMuzzleFlash   = SECONDARY MuzzleFX
    End

    ConditionState = RUBBLE SPECIAL_DAMAGED
      Model = Venom1_d
    End

    OkToChangeModelColor = Yes
  End


  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Venom
  EditorSorting       = VEHICLE
  Side                = Boss
  TransportSlotCount  = 0                 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange         = 200.0
  ShroudClearingRange = 600
  BuildCost           = 2000
  BuildTime           = 15.0          ;in seconds
  Prerequisites
    Object = Boss_Airfield
  End
  ExperienceValue     = 50 100 150 200 ;Experience point value at each level
  ExperienceRequired  = 0 100 200 400  ;Experience points needed to gain each level
  IsTrainable         = Yes
  CommandSet          = ChinaVenomCommandSet


  ArmorSet
    Conditions      = None
    Armor           = ChinookArmor
    DamageFX        = None
  End


  WeaponSet
    Conditions          = None
    ;----------------------------
    Weapon              = PRIMARY     Infa_VenomGattlingGun
    Weapon              = SECONDARY   Infa_VenomGattlingGun
    ;----------------------------
  End

  ; *** AUDIO Parameters ***
  VoiceSelect     = HelixVoiceSelect
  VoiceMove       = HelixVoiceMove
  VoiceAttack     = HelixVoiceAttack
  SoundAmbient    = HelixAmbientLoop
  SoundEnter      = HumveeEnter
  SoundExit       = HumveeExit
  UnitSpecificSounds
    VoiceCreate         = HelixVoiceCreate
    VoiceUnload         = HelixVoiceUnload
    VoiceGarrison       = HelixVoiceMove
  End



  ; *** ENGINEERING Parameters ***
  RadarPriority   = UNIT
  KindOf = PRELOAD CAN_CAST_REFLECTIONS SELECTABLE VEHICLE HUGE_VEHICLE TRANSPORT AIRCRAFT SCORE PRODUCED_AT_HELIPAD CAN_ATTACK

  Body = ActiveBody ModuleTag_03
    MaxHealth       = 350.0
    InitialHealth   = 350.0
  End

  Behavior = AIUpdateInterface ModuleTag_04
    Turret
      ControlledWeaponSlots = PRIMARY SECONDARY
      TurretTurnRate      = 120   // turn rate, in degrees per sec
      TurretPitchRate     = 120
      AllowsPitch         = Yes
    End
    AutoAcquireEnemiesWhenIdle = Yes
  End

  Behavior = FXListDie ModuleTag_05
    DeathFX = FX_HelicopterStartDeath
  End

  Behavior                       = TransitionDamageFX ModuleTag_06
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuousDown
    ReallyDamagedFXList1         = Loc: X:0 Y:0 Z:0 FXList:FX_ComancheDamageTransition
  End

  Behavior = ChinookAIUpdate ModuleTag_07
     AutoAcquireEnemiesWhenIdle = Yes
     RotorWashParticleSystem = HelixRotorWashRing
  End
  Locomotor = SET_NORMAL    VenomLocomotor
  Locomotor = SET_TAXIING   BasicHelicopterTaxiLocomotor


  Behavior = PhysicsBehavior ModuleTag_09
    Mass = 50.0
  End

  Behavior = HelicopterSlowDeathBehavior ModuleTag_10
    DestructionDelay                = 99999999        ; the destruction delay
    SpiralOrbitTurnRate             = 80.0           ; in degrees per second, bigger # = tighter spiral
    SpiralOrbitForwardSpeed         = 110.0           ; bigger # = larger spiral
    SpiralOrbitForwardSpeedDamping  = .9999           ; smaller #'s = slow down faster
    MaxBraking                      = 210   ; max braking we can use during death spiral (lower num = wilder spiral)
    SoundDeathLoop                  = HelixDamagedLoop
    MinSelfSpin                     = 40                     ; in degrees per second
    MaxSelfSpin                     = 120                     ; in degrees per second
    SelfSpinUpdateDelay             = 300                     ; in milliseconds
    SelfSpinUpdateAmount            = 5                      ; in degrees
    FallHowFast                     = 8.0%                   ; fraction of gravity, lower = take longer to fall
    MinBladeFlyOffDelay             = 1000                    ; in milliseconds
    MaxBladeFlyOffDelay             = 1000                    ; in milliseconds
    AttachParticle                  = SootySmokeTrail
    AttachParticleBone              = Propeller02
    BladeObjectName                 = HelixBlades
    BladeBoneName                   = Propeller01
    FXBlade                         = FX_HelicopterBladeExplosion
    OCLBlade                        = OCL_HelicopterBladeExplosion
    FXHitGround                     = FX_HelicopterHitGround
    OCLHitGround                    = OCL_HelicopterHitGround
    FXFinalBlowUp                   = FX_HelixHelicopterBlowUpBig
    OCLFinalBlowUp                  = OCL_HelixBlades
    DelayFromGroundToFinalDeath     = 30
    FinalRubbleObject               = HelixRubbleHull
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3        ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Geometry              = CYLINDER
  GeometryMajorRadius   = 35.0
  GeometryHeight        = 30.0
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
  ShadowSizeX           = 89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object Boss_VehicleHackTruck

  ; *** ART Parameters ***
  SelectPortrait         = HackTrck_L
  ButtonImage            = HackTrck

  UpgradeCameo1 =  Upgrade_ChinaSatelliteHackOne
  UpgradeCameo2 =  Upgrade_ChinaSatelliteHackTwo
  ;UpgradeCameo3 = NONE
  ;UpgradeCameo4 = NONE
  ;UpgradeCameo5 = NONE

  Draw = W3DTruckDraw ModuleTag_01
    OkToChangeModelColor = Yes
    ConditionState = NONE
      Model = NVHackrTrckB
      Animation           = NVHackrTrckB.NVHackrTrckB
      AnimationMode       = LOOP
      HideSubObject       = Box32 Turret02 Housecolor05 Smalldish01 Housecolor06
      ShowSubObject       = Box31 Turret01 Housecolor04 Smalldish Housecolor03
      ;note, the IRSonar particle system is added in StealthDetectorUpdate.cpp, not here
    End
    ConditionState       = REALLYDAMAGED RUBBLE ; THIS IS VERY IMPORTANT... DO NOT REMOVE 'RUBBLE'
                                                ; @todo find out why a non-animating model like this has such trouble matching
                                                ; reallydamaged against moving against rubble, etc.
      Model              = NVHackrTrckB_D
      Animation           = NVHackrTrckB_D.NVHackrTrckB_D
      AnimationMode       = LOOP
      HideSubObject       = Box32 Turret02 Housecolor05 Smalldish01 Housecolor06
      ShowSubObject       = Box31 Turret01 Housecolor04 Smalldish Housecolor03
    End

    ConditionState = USER_1
      Model = NVHackrTrckB
      Animation           = NVHackrTrckB.NVHackrTrckB
      AnimationMode       = LOOP
      HideSubObject       = Box31 Turret01 Housecolor04 Smalldish01 Housecolor06
      ShowSubObject       = Box32 Turret02 Housecolor05 Smalldish Housecolor03
      ;note, the IRSonar particle system is added in StealthDetectorUpdate.cpp, not here
    End
    ConditionState       = USER_1 REALLYDAMAGED RUBBLE ; THIS IS VERY IMPORTANT... DO NOT REMOVE 'RUBBLE'
                                                ; @todo find out why a non-animating model like this has such trouble matching
                                                ; reallydamaged against moving against rubble, etc.
      Model              = NVHackrTrckB_D
      Animation           = NVHackrTrckB_D.NVHackrTrckB_D
      AnimationMode       = LOOP
      HideSubObject       = Box31 Turret01 Housecolor04 Smalldish01 Housecolor06
      ShowSubObject       = Box32 Turret02 Housecolor05 Smalldish Housecolor03
    End

    ConditionState = USER_2
      Model = NVHackrTrckB
      Animation           = NVHackrTrckB.NVHackrTrckB
      AnimationMode       = LOOP
      HideSubObject       = Box31 Turret01 Housecolor04 Smalldish Housecolor03
      ShowSubObject       = Box32 Turret02 Housecolor05 Smalldish01 Housecolor06
      ;note, the IRSonar particle system is added in StealthDetectorUpdate.cpp, not here
    End
    ConditionState       = USER_2 REALLYDAMAGED RUBBLE ; THIS IS VERY IMPORTANT... DO NOT REMOVE 'RUBBLE'
                                                ; @todo find out why a non-animating model like this has such trouble matching
                                                ; reallydamaged against moving against rubble, etc.
      Model              = NVHackrTrckB_D
      Animation           = NVHackrTrckB_D.NVHackrTrckB_D
      AnimationMode       = LOOP
      HideSubObject       = Box31 Turret01 Housecolor04 Smalldish Housecolor03
      ShowSubObject       = Box32 Turret02 Housecolor05 Smalldish01 Housecolor06
    End

    TrackMarks = EXTireTrack.tga

    Dust = RocketBuggyDust
    DirtSpray = RocketBuggyDirtSpray
    ; PowerslideSpray = RocketBuggyDirtPowerSlide doesn't powerslide

    ; These parameters are only used if the model has a separate suspension,
    ; and the locomotor has HasSuspension = Yes.
    LeftFrontTireBone     = Wheel01
    RightFrontTireBone    = Wheel02
    LeftRearTireBone      = Wheel07
    RightRearTireBone     = Wheel08
    MidLeftFrontTireBone  = Wheel03
    MidRightFrontTireBone = Wheel04
    MidLeftRearTireBone   = Wheel05
    MidRightRearTireBone  = Wheel06

    TireRotationMultiplier      = 0.2   ; this * speed = rotation.
    PowerslideRotationAddition  = 2   ; This vehicle doesn't powerslide.

  End


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:HackerTruck
  Side = Boss
  EditorSorting   = VEHICLE
  TransportSlotCount = 8                 ;Just enough to fit into a Chinook.
  ArmorSet
    Conditions      = None
    Armor           = AssaultCrawlerArmor
    DamageFX        = TankDamageFX
  End
  BuildCost       = 3000
  BuildTime       = 25.0          ;in seconds
  VisionRange     = 175           ;Needs to see farther and match it's weapon range -- else troop crawlers will get slaughtered against tanks!
  ShroudClearingRange = 400
  Prerequisites
    Object = Boss_WarFactory
    Object = Boss_NuclearMissileLauncher
  End
  MaxSimultaneousOfType  = 2
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = Boss_ChinaHackCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = ListeningOutpostVoiceSelect
  VoiceMove = ListeningOutpostVoiceMove
  VoiceGuard = ListeningOutpostVoiceMove
  VoiceAttack = ListeningOutpostVoiceAttack
  SoundMoveStart = RadarVanMoveStart
  SoundMoveStartDamaged = RadarVanMoveStart
  SoundEnter = HumveeEnter
  SoundExit = HumveeExit
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate     = ListeningOutpostVoiceCreate
    TurretMoveStart = NoSound
    TurretMoveLoop = TurretMoveLoop
    TruckLandingSound = NoSound ;RocketBuggyLand
    TruckPowerslideSound = NoSound ;RocketBuggyPowerslide
    VoiceCrush = NoSound
    VoiceUnload   = NoSound ; nothing recorded
    VoiceEnter = ListeningOutpostVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS TRANSPORT VEHICLE SCORE

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 240.0
    InitialHealth   = 240.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 480
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

  Behavior = ProductionUpdate ModuleTag_24
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End

  Behavior    = OCLSpecialPower ModuleTag_Laymines01
    SpecialPowerTemplate = SpecialAbilityLaymines
    OCL                  = OCL_AmericaBattleMines
  End

  Behavior = ObjectCreationUpgrade ModuleTag_13
    UpgradeObject = OCL_ChinaOmegaBattleDrone
    TriggeredBy   = Upgrade_ChinaOmegaBattleDrone
  End

  Behavior = ModelConditionUpgrade ModuleTag_18
    ConditionFlag = USER_1
    TriggeredBy = Upgrade_ChinaSatelliteHackOne
  End

  Behavior = ModelConditionUpgrade ModuleTag_19
    ConditionFlag = USER_2
    TriggeredBy   = Upgrade_ChinaSatelliteHackTwo
  End

;OBSOLETE
;  Behavior = AIUpdateInterface ModuleTag_04
;    Turret
;      ControlledWeaponSlots = PRIMARY
;    End
;  End
; Dude, quit changing this.  He is NOT an AssaultTransport.  The guys don't hop out and attack.  He is a transport.
;  Behavior = AssaultTransportAIUpdate ModuleTag_NewAI
;    MembersGetHealedAtLifeRatio = 0.5
;  End
  Behavior = TransportAIUpdate ModuleTag_CorrectAI
  End

  Locomotor = SET_NORMAL TroopCrawlerLocomotor
  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 50.0
  End
  Behavior = InternetHackContain ModuleTag_06 ; Contain module that gives aiHackInternet command to passengers
    PassengersAllowedToFire = No
    Slots                 = 5
    ScatterNearbyOnExit   = No
    HealthRegen%PerSec    = 10
    DamagePercentToUnits  = 50%
    AllowInsideKindOf     = MONEY_HACKER
    ExitDelay         = 500
    NumberOfExitPaths = 1 ; Defaults to 1.  Set 0 to not use ExitStart/ExitEnd, set higher than 1 to use ExitStart01-nn/ExitEnd01-nn
    GoAggressiveOnExit = No ; AI Will tell people to set their mood to Aggressive on exiting
  End
  Behavior = SlowDeathBehavior ModuleTag_07
    DeathTypes = ALL -CRUSHED -SPLATTED
    DestructionDelay = 1
    FX  = FINAL    FX_SupplyTruckExplosionOneFinal
    OCL = FINAL    OCL_FinalAssaultTroopCrawlerDebris
  End

  Behavior                 = TransitionDamageFX ModuleTag_08
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_NukeCannonDamageTransition
  End

  Behavior = DestroyDie ModuleTag_09
    DeathTypes = NONE +CRUSHED +SPLATTED
  End

  Behavior = FXListDie ModuleTag_10
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End

  ; A crushing defeat
  Behavior = FXListDie ModuleTag_11
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End

  Behavior = CreateCrateDie ModuleTag_12
    CrateData = SalvageCrateData
    ;CrateData = EliteTankCrateData
    ;CrateData = HeroicTankCrateData
  End

  Behavior         = SpyVisionUpdate ModuleTag_15
    NeedsUpgrade  = Yes
    SelfPowered   = Yes        ; No SpecialPower module, turns self on and off on timers (No timers means always on)
    SpyOnKindof   = COMMANDCENTER ; Defaults to ALL
    TriggeredBy   = Upgrade_ChinaSatelliteHackOne
  End

  Behavior         = SpyVisionUpdate ModuleTag_16
    NeedsUpgrade  = Yes
    SelfPowered   = Yes         ; No SpecialPower module, turns self on and off on timers
    SelfPoweredDuration = 24000
    SelfPoweredInterval = 240000
    TriggeredBy   = Upgrade_ChinaSatelliteHackTwo
  End

  Behavior = CommandSetUpgrade ModuleTag_32
    CommandSet = Boss_ChinaHackCommandSetUpgrade
    TriggeredBy = Upgrade_ChinaSatelliteHackOne
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Geometry = BOX
  GeometryMajorRadius = 20.0
  GeometryMinorRadius = 5.0
  GeometryHeight = 5.0
  GeometryIsSmall = No
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object Boss_HelicopterRapier

  ; *** ART Parameters ***
  SelectPortrait         = Rapier
  ButtonImage            = Rapier

  UpgradeCameo1 = Upgrade_AmericaAdvancedTraining
  UpgradeCameo2 = Upgrade_AmericaCountermeasures
  ;UpgradeCameo4 = NONE
  ;UpgradeCameo5 = NONE

  Draw = W3DModelDraw ModuleTag_01
    ProjectileBoneFeedbackEnabledSlots = SECONDARY ; WeaponLaunchBone will be shown/hidden, not just used for firing offset

    DefaultConditionState
      Model                           = NVRapier
      Animation                       = NVRapier.NVRapier
      AnimationMode                   = LOOP
      WeaponMuzzleFlash               = PRIMARY MuzzleFX
      WeaponFireFXBone                = PRIMARY Muzzle
      WeaponLaunchBone                = PRIMARY Muzzle
      WeaponFireFXBone                = SECONDARY WeaponA
      WeaponLaunchBone                = SECONDARY WeaponA
    End

    ConditionState = REALLYDAMAGED
      Model                           = NVRapier_d
      Animation                       = NVRapier_d.NVRapier_d
      AnimationMode                   = LOOP
    End

    ConditionState = RUBBLE
      Model                           = NVRapier_d
      Animation                       = NVRapier_d.NVRapier_d
      AnimationMode                   = LOOP
    End

    ConditionState = RUBBLE SPECIAL_DAMAGED
      Model                           = NVRapier_d
      HideSubObject                   = AVComanche_Prop
    End

    OkToChangeModelColor = Yes
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Rapier
  EditorSorting       = VEHICLE
  Side                = Boss
  TransportSlotCount  = 0                 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange         = 200.0
  ShroudClearingRange = 600
  Prerequisites
    Object            = Boss_Airfield
  End

  WeaponSet
    Conditions          = None
    ; -----
    Weapon              = PRIMARY     30mmGatlingGunWeapon
    PreferredAgainst    = PRIMARY     INFANTRY
    AutoChooseSources   = PRIMARY     FROM_PLAYER FROM_SCRIPT FROM_AI
    ; -----
    Weapon              = SECONDARY   RapierMissileWeapon
    PreferredAgainst    = SECONDARY   VEHICLE STRUCTURE
    AutoChooseSources   = SECONDARY   FROM_PLAYER FROM_SCRIPT FROM_AI
  End
  ArmorSet
    Conditions      = None
    Armor           = ComancheArmor
    DamageFX        = None
  End
  ArmorSet 
    Conditions        = PLAYER_UPGRADE
    Armor             = CountermeasuresComancheArmor
    DamageFX          = None
  End
  BuildCost           = 1500
  BuildTime           = 20              ; in seconds
  ExperienceValue     = 50 50 100 200   ; Experience point value at each level
  ExperienceRequired  = 0 100 200 400   ; Experience points needed to gain each level
  IsTrainable         = Yes             ; Can gain experience
  CommandSet          = Boss_VehicleRapierCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect           = ComancheVoiceSelect
  VoiceMove             = ComancheVoiceMove
  VoiceGuard            = ComancheVoiceMove
  VoiceAttack           = ComancheVoiceAttack
  SoundAmbient          = ComancheAmbientLoop
  SoundAmbientRubble    = NoSound
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate         = ComancheVoiceCreate
    SoundEject          = PilotSoundEject
    VoiceEject          = PilotVoiceEject
    Afterburner         = RaptorAfterburner
    VoiceGarrison       = ComancheVoiceMove
    TurretMoveStart     = NoSound
    TurretMoveLoop      = NoSound
    VoiceFireRocketPods = ComancheVoiceAttackRocket
  End


  ; *** ENGINEERING Parameters ***
  RadarPriority   = UNIT
  KindOf          = PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT PRODUCED_AT_HELIPAD

  Behavior = ExperienceScalarUpgrade ModuleTag_03
    TriggeredBy = Upgrade_AmericaAdvancedTraining
    AddXPScalar = 1.0 ;Increases experience gained by an additional 100%
  End

  Body = ActiveBody ModuleTag_04
    MaxHealth       = 220.0
    InitialHealth   = 220.0
  End

  Behavior = FXListDie ModuleTag_05
    DeathFX = FX_ComancheStartDeath
  End

  Behavior = JetAIUpdate ModuleTag_06
    MinHeight                     = 5
    NeedsRunway                   = No
    KeepsParkingSpaceWhenAirborne = No
    AutoAcquireEnemiesWhenIdle    = Yes
    ; note that comanches do not return to base when idle

    ; this is a bit of a trick... normally, units cannot move-and-fire at
    ; the same time. we need the comanche to be able to. so we give it
    ; a "turret" (invisible) and put the two main weapons on it, but with
    ; no turn rate. voila!
    Turret
      TurretTurnRate = 0      ; this "turret" does not turn
      TurretPitchRate = 0     ; nor does it pitch
      ControlledWeaponSlots = PRIMARY SECONDARY
    End

  End
  Locomotor = SET_NORMAL  ComancheLocomotor
  Locomotor = SET_TAXIING BasicHelicopterTaxiLocomotor

  Behavior = PhysicsBehavior ModuleTag_07
    Mass = 50.0
  End
  Behavior = HelicopterSlowDeathBehavior ModuleTag_08
    DestructionDelay                = 99999999        ; the destruction delay
    SpiralOrbitTurnRate             = 140.0           ; in degrees per second, bigger # = tighter spiral
    SpiralOrbitForwardSpeed         = 350.0           ; bigger # = larger spiral
    SpiralOrbitForwardSpeedDamping  = .9999           ; smaller #'s = slow down faster
    MaxBraking                      = 190   ; max braking we can use during death spiral (lower num = wilder spiral)
    SoundDeathLoop                  = ComancheDamagedLoop
    MinSelfSpin                     = 100                     ; in degrees per second
    MaxSelfSpin                     = 300                     ; in degrees per second
    SelfSpinUpdateDelay             = 100             ; in milliseconds
    SelfSpinUpdateAmount            = 10             ; in degrees
    FallHowFast                     = 12.0%  ; fraction of gravity, lower = take longer to fall
    MinBladeFlyOffDelay             = 1500            ; in milliseconds
    MaxBladeFlyOffDelay             = 1500            ; in milliseconds
    AttachParticle                  = SootySmokeTrail
    AttachParticleBone              = Propeller02
    BladeObjectName                 = ComancheBlades
    BladeBoneName                   = Propeller01
    ; Most things that eject pilots do so immediately upon death,
    ; via use of EjectPilotDie, but Helicopters are a special case...
    ; they need to do so after their blades are ejected.
    OCLEjectPilot                   = OCL_EjectPilotViaParachute
    FXBlade                         = FX_HelicopterBladeExplosion
    OCLBlade                        = OCL_HelicopterBladeExplosion
    FXHitGround                     = FX_HelicopterHitGround
    OCLHitGround                    = OCL_HelicopterHitGround
    FXFinalBlowUp                   = FX_GroundedHelicopterBlowUp
    OCLFinalBlowUp                  = OCL_GroundedHelicopterBlowUp
    DelayFromGroundToFinalDeath     = 1500
    FinalRubbleObject               = ComancheRubbleHull
  End

  Behavior = TransitionDamageFX ModuleTag_09
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuousDown
    ReallyDamagedFXList1         = Loc: X:0 Y:0 Z:0 FXList:FX_ComancheDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior                = ArmorUpgrade ModuleTag_Armor01
    TriggeredBy           = Upgrade_AmericaCountermeasures
  End

  Behavior                = CountermeasuresBehavior ModuleTag_110
    TriggeredBy           = Upgrade_AmericaCountermeasures
    FlareTemplateName     = CountermeasureFlare
    FlareBoneBaseName     = Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
    VolleySize            = 4     ; Number of flares launched per volley (requires bones)
    VolleyArcAngle        = 90.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
    VolleyVelocityFactor  = 2.0   ; Shoots out flares at a stronger velocity with a higher value.
    DelayBetweenVolleys   = 1000  ; Time between flare volleys
    NumberOfVolleys       = 5     ; Number of times the volleys will fire before reloading
    ReloadTime            = 0     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
    EvasionRate           = 30%   ; With active flares, the specified percentage will be diverted.
    ReactionLaunchLatency = 0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
    MissileDecoyDelay     = 200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
  End

  Geometry = BOX
  GeometryMajorRadius = 20.0
  GeometryMinorRadius = 3.0
  GeometryHeight = 25.0
  GeometryIsSmall = No
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object Boss_ChinaOilDerrick

  ; *** ART Parameters ***
  SelectPortrait         = SSTechOilDerrick_L
  ButtonImage            = SSTechOilDerrick_L
  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes

     ; DAY **************************************************************
    ConditionState  = NONE
      Model         = ZBODerrick
      Animation     = ZBODerrick.ZBODerrick
      AnimationMode = LOOP
    End
    ConditionState  = CAPTURED
      Model         = ZBODerrick
      Animation     = ZBODerrick.ZBODerrick
      AnimationMode = LOOP
    End
    
    ; DAMAGED **********************************************************
    ConditionState  = DAMAGED
      Model         = ZBODerrick_D
      Animation     = ZBODerrick_D.ZBODerrick_D
      AnimationMode = LOOP
    End
    ConditionState  = DAMAGED CAPTURED
      Model         = ZBODerrick_D
      Animation     = ZBODerrick_D.ZBODerrick_D
      AnimationMode = LOOP
    End
    
    ; REALLYDAMAGED ****************************************************
    ConditionState  = REALLYDAMAGED
      Model         = ZBODerrick_E
      Animation     = ZBODerrick_E.ZBODerrick_E
      AnimationMode = LOOP
    End
    ConditionState  = REALLYDAMAGED CAPTURED
      Model         = ZBODerrick_E
      Animation     = ZBODerrick_E.ZBODerrick_E
      AnimationMode = LOOP
    End

    ; NIGHT ************************************************************
    ConditionState  = NIGHT
      Model         = ZBODerrick_N
      Animation     = ZBODerrick_N.ZBODerrick_N
      AnimationMode = LOOP
    End
    ConditionState  = NIGHT CAPTURED
      Model         = ZBODerrick_N
      Animation     = ZBODerrick_N.ZBODerrick_N
      AnimationMode = LOOP
    End
    
    ; NIGHT DAMAGED ****************************************************
    ConditionState  = DAMAGED NIGHT
      Model         = ZBODerrick_DN
      Animation     = ZBODerrick_DN.ZBODerrick_DN
      AnimationMode = LOOP
    End
    ConditionState  = DAMAGED NIGHT CAPTURED
      Model         = ZBODerrick_DN
      Animation     = ZBODerrick_DN.ZBODerrick_DN
      AnimationMode = LOOP
    End
    
    ; NIGHT REALLYDAMAGED **********************************************
    ConditionState  = REALLYDAMAGED NIGHT
      Model         = ZBODerrick_EN
      Animation     = ZBODerrick_EN.ZBODerrick_EN
      AnimationMode = LOOP
    End
    ConditionState  = REALLYDAMAGED NIGHT CAPTURED
      Model         = ZBODerrick_EN
      Animation     = ZBODerrick_EN.ZBODerrick_EN
      AnimationMode = LOOP
    End
    
    ; SNOW *************************************************************
    ConditionState  = SNOW
      Model         = ZBODerrick_S
      Animation     = ZBODerrick_S.ZBODerrick_S
      AnimationMode = LOOP
    End
    ConditionState  = SNOW CAPTURED
      Model         = ZBODerrick_S
      Animation     = ZBODerrick_S.ZBODerrick_S
      AnimationMode = LOOP
    End
    
    ; SNOW DAMAGED *****************************************************
    ConditionState  = DAMAGED SNOW
      Model         = ZBODerrick_DS
      Animation     = ZBODerrick_DS.ZBODerrick_DS
      AnimationMode = LOOP
    End
    ConditionState  = DAMAGED SNOW CAPTURED
      Model         = ZBODerrick_DS
      Animation     = ZBODerrick_DS.ZBODerrick_DS
      AnimationMode = LOOP
    End
    
    ; SNOW REALLYDAMAGED ***********************************************
    ConditionState  = REALLYDAMAGED SNOW
      Model         = ZBODerrick_ES
      Animation     = ZBODerrick_ES.ZBODerrick_ES
      AnimationMode = LOOP
    End
    ConditionState  = REALLYDAMAGED SNOW CAPTURED
      Model         = ZBODerrick_ES
      Animation     = ZBODerrick_ES.ZBODerrick_ES
      AnimationMode = LOOP
    End
    
    ; SNOW NIGHT *******************************************************
    ConditionState  = SNOW NIGHT
      Model         = ZBODerrick_NS
      Animation     = ZBODerrick_NS.ZBODerrick_NS
      AnimationMode = LOOP
    End
    ConditionState  = SNOW NIGHT CAPTURED
      Model         = ZBODerrick_NS
      Animation     = ZBODerrick_NS.ZBODerrick_NS
      AnimationMode = LOOP
    End
    
    ; SNOW NIGHT DAMAGED ***********************************************
    ConditionState  = SNOW NIGHT DAMAGED
      Model         = ZBODerrick_DNS
      Animation     = ZBODerrick_DNS.ZBODerrick_DNS
      AnimationMode = LOOP
    End
    ConditionState  = SNOW NIGHT DAMAGED CAPTURED
      Model         = ZBODerrick_DNS
      Animation     = ZBODerrick_DNS.ZBODerrick_DNS
      AnimationMode = LOOP
    End
    
    ; SNOW NIGHT REALLYDAMAGED *****************************************
    ConditionState  = SNOW NIGHT REALLYDAMAGED
      Model         = ZBODerrick_ENS
      Animation     = ZBODerrick_EN.ZBODerrick_ENS
      AnimationMode = LOOP
    End
    ConditionState  = SNOW NIGHT REALLYDAMAGED CAPTURED
      Model         = ZBODerrick_ENS
      Animation     = ZBODerrick_EN.ZBODerrick_ENS
      AnimationMode = LOOP
    End

    ;**************************************************************************************************************************
    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ;for this draw module
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model         = ZBODerrick
      Animation     = ZBODerrick.ZBODerrick
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model         = ZBODerrick_D
      Animation     = ZBODerrick_D.ZBODerrick_D
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model         = ZBODerrick_E
      Animation     = ZBODerrick_E.ZBODerrick_E
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
      Model         = ZBODerrick_N
      Animation     = ZBODerrick_N.ZBODerrick_N
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
      Model         = ZBODerrick_DN
      Animation     = ZBODerrick_DN.ZBODerrick_DN
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
      Model         = ZBODerrick_EN
      Animation     = ZBODerrick_EN.ZBODerrick_EN
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model         = ZBODerrick_S
      Animation     = ZBODerrick_S.ZBODerrick_S
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
      Model         = ZBODerrick_DS
      Animation     = ZBODerrick_DS.ZBODerrick_Ds
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
      Model         = ZBODerrick_ES
      Animation     = ZBODerrick_ES.ZBODerrick_ES
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
      Model         = ZBODerrick_NS
      Animation     = ZBODerrick_NS.ZBODerrick_NS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
      Model         = ZBODerrick_DNS
      Animation     = ZBODerrick_DNS.ZBODerrick_DNS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
      Model         = ZBODerrick_ENS
      Animation     = ZBODerrick_ENS.ZBODerrick_ENS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End

    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    ;**************************************************************************************************************************    
  End

  ; ------------ construction-zone fence -----------------
  Draw = W3DModelDraw ModuleTag_02
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = NBPwrPlant_A4
      Animation       = NBPwrPlant_A4.NBPwrPlant_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
    End
    ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = NBPwrPlant_A4N
      Animation       = NBPwrPlant_A4N.NBPwrPlant_A4N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
    End
    ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = NBPwrPlant_A4S
      Animation       = NBPwrPlant_A4S.NBPwrPlant_A4S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
    End
    ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = NBPwrPlant_A4SN
      Animation       = NBPwrPlant_A4SN.NBPwrPlant_A4SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = NBPwrPlant_A4
      Animation       = NBPwrPlant_A4.NBPwrPlant_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = NBPwrPlant_A4N
      Animation       = NBPwrPlant_A4N.NBPwrPlant_A4N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = NBPwrPlant_A4S
      Animation       = NBPwrPlant_A4S.NBPwrPlant_A4S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = NBPwrPlant_A4SN
      Animation       = NBPwrPlant_A4SN.NBPwrPlant_A4SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = NBPwrPlant_A4
      Animation       = NBPwrPlant_A4.NBPwrPlant_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = NBPwrPlant_A4N

      Animation       = NBPwrPlant_A4N.NBPwrPlant_A4N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = NBPwrPlant_A4S
      Animation       = NBPwrPlant_A4S.NBPwrPlant_A4S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = NBPwrPlant_A4SN
      Animation       = NBPwrPlant_A4SN.NBPwrPlant_A4SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ under-construction scaffolding -----------------
  Draw = W3DModelDraw ModuleTag_03
  AnimationsRequirePower = No
    MinLODRequired = MEDIUM
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = NBPwrPlant_A6
      Animation       = NBPwrPlant_A6.NBPwrPlant_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Dust01 BuildingDustChina
      ParticleSysBone = Smoke01 BuildUpSmokeChina
      ParticleSysBone = Smoke02 BuildUpSmokeChina
      ParticleSysBone = Smoke03 BuildUpSmokeChina
      ParticleSysBone = Smoke04 BuildUpSmokeChina
    End
    ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      Model           = NBPwrPlant_A6N
      Animation       = NBPwrPlant_A6N.NBPwrPlant_A6N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = Dust01 BuildingDustChina
      ParticleSysBone = Smoke01 BuildUpSmokeChina
      ParticleSysBone = Smoke02 BuildUpSmokeChina
      ParticleSysBone = Smoke03 BuildUpSmokeChina
      ParticleSysBone = Smoke04 BuildUpSmokeChina
    End
    ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      Model           = NBPwrPlant_A6S
      Animation       = NBPwrPlant_A6S.NBPwrPlant_A6S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = Dust01 BuildingSnowDust
      ParticleSysBone = Smoke01 BuildUpSnowSmoke
      ParticleSysBone = Smoke02 BuildUpSnowSmoke
      ParticleSysBone = Smoke03 BuildUpSnowSmoke
      ParticleSysBone = Smoke04 BuildUpSnowSmoke
    End
    ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      Model           = NBPwrPlant_A6SN
      Animation       = NBPwrPlant_A6SN.NBPwrPlant_A6SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = Dust01 BuildingNightSnowDust
      ParticleSysBone = Smoke01 BuildUpNightSnowSmoke
      ParticleSysBone = Smoke02 BuildUpNightSnowSmoke
      ParticleSysBone = Smoke03 BuildUpNightSnowSmoke
      ParticleSysBone = Smoke04 BuildUpNightSnowSmoke
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
     Model            = NBPwrPlant_A6
      Animation       = NBPwrPlant_A6.NBPwrPlant_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
     Model            = NBPwrPlant_A6N
      Animation       = NBPwrPlant_A6N.NBPwrPlant_A6N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
     Model            = NBPwrPlant_A6S
      Animation       = NBPwrPlant_A6S.NBPwrPlant_A6S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
     Model            = NBPwrPlant_A6SN
      Animation       = NBPwrPlant_A6SN.NBPwrPlant_A6SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = NBPwrPlant_A6
      Animation       = NBPwrPlant_A6.NBPwrPlant_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = NBPwrPlant_A6N
      Animation       = NBPwrPlant_A6N.NBPwrPlant_A6N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = NBPwrPlant_A6S
      Animation       = NBPwrPlant_A6S.NBPwrPlant_A6S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = NBPwrPlant_A6SN
      Animation       = NBPwrPlant_A6SN.NBPwrPlant_A6SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End
  PlacementViewAngle = -45

  ; ***DESIGN parameters ***
  DisplayName       = OBJECT:OilDerrick
  Side              = Boss
  EditorSorting     = STRUCTURE
  BuildCost        = 5000
  BuildTime        = 30.0           ; in seconds
  EnergyProduction = -2
  VisionRange    = 200.0           ; Shroud clearing distance AND targeting range
  ShroudClearingRange = 200
  ArmorSet
    Conditions      = None
    Armor           = StructureArmor
    DamageFX        = StructureDamageFXNoShake
  End
  Prerequisites
     ; Science = SCIENCE_OilDerrickBoss
     Object = Boss_TechCentr
  End

  ; MaxSimultaneousOfType = 3
  CommandSet        = ChinaOilDerrickCommandSet
  ExperienceValue     = 200 200 200 200  ; Experience point value at each level

  ; *** AUDIO Parameters ***
  VoiceSelect = FireBaseSelect
  SoundOnDamaged        = BuildingDamagedStateLight
  SoundOnReallyDamaged  = BuildingDestroy

  UnitSpecificSounds
    UnderConstruction     = UnderConstructionLoop
  End

  UnitSpecificSounds
  ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    TurretMoveStart = NoSound
    TurretMoveLoop = NoSound ;These aren't playing properly, will revisit (mp) TurretMoveLoopLoud
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority   = STRUCTURE
  KindOf          = PRELOAD STRUCTURE SELECTABLE CAN_ATTACK IMMOBILE SCORE FS_TECHNOLOGY


  Body                 = HiveStructureBody ModuleTag_04;
    MaxHealth          = 10000.0
    InitialHealth      = 10000.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 1200
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
    ;**Careful with these damage types -- because area damage types will already
    ;**damage slaves.
    ;PropagateDamageTypesToSlavesWhenExisting = NONE +SMALL_ARMS +SNIPER +POISON +RADIATION +SURRENDER
    ;SwallowDamageTypesIfSlavesNotExisting = NONE +SNIPER +POISON +SURRENDER; Take no damage if no one to pass this to
  End

 
  Behavior = BaseRegenerateUpdate ModuleTag_1301
    ;No data
  End 

  ; Behavior             = CreateObjectDie ModuleTag_16112
    ; CreationList  = OCL_AmericanRangerDebris02
    ; ExemptStatus  = UNDER_CONSTRUCTION
  ; End

  Behavior = DestroyDie ModuleTag_08
    ;nothing
  End

  Behavior             = FXListDie ModuleTag_10
    DeathFX       = FX_StructureMediumDeath
  End

  Behavior = FlammableUpdate ModuleTag_12
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 5       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior                  = CreateObjectDie ModuleTag_13
    CreationList       = OCL_LargeStructureDebris
  End

  Behavior = TransitionDamageFX ModuleTag_14
    ;-------------DESIGNED FOR TINY SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionTinySmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionTinySmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionTinyExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionTinyShockwave
  End

  Behavior = AutoDepositUpdate ModuleTag_15
    DepositTiming       = 10000   ; in milliseconds
    DepositAmount       = 800   ; cash amount to deposit every DepositTiming
    InitialCaptureBonus = 0  ; no initial bonus
    ActualMoney = Yes 
  End

  Behavior           = OCLSpecialPower ModuleTag_16
    SpecialPowerTemplate = SuperweaponMoneyDrop
    OCL                  = SUPERWEAPON_MoneyDropChina
    CreateLocation       = CREATE_AT_EDGE_NEAR_SOURCE
  End 

  Behavior = GenerateMinefieldBehavior     ModuleTag_1500
    TriggeredBy           = Upgrade_ChinaMines
    MineName              = ChinaStandardMine
    SmartBorder           = Yes
    AlwaysCircular        = Yes

    Upgradable            = Yes
    UpgradedTriggeredBy   = Upgrade_ChinaEMPMines
    UpgradedMineName      = ChinaEMPMine
  End

  Behavior = CommandSetUpgrade ModuleTag_2500
    CommandSet = ChinaOilDerrickCommandSetUpgrade
    TriggeredBy = Upgrade_ChinaMines
  End

  Behavior = ProductionUpdate ModuleTag_10000
  End

  Geometry            = BOX
  GeometryMajorRadius = 26.0
  GeometryMinorRadius = 26.0
  GeometryHeight      = 15.0
  GeometryIsSmall     = No
  Shadow          = SHADOW_VOLUME
  BuildCompletion = PLACED_BY_PLAYER

End

;---------------------------------------------------------------------
Object PyroDefence

  ; *** ART Parameters ***
  SelectPortrait         = SNFlamTwr
  ButtonImage            = SNFlamTwr

  UpgradeCameo1 = Upgrade_ChinaBlackNapalm

  Draw                    = W3DModelDraw ModuleTag_01
    OkToChangeModelColor  = Yes

    ; DAY
    DefaultConditionState 
      Model               = NBNapCannon
      Turret              = TURRET
      TurretPitch         = TURRETEL
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponLaunchBone    = PRIMARY Muzzle
      WeaponFireFXBone    = SECONDARY Muzzle
      WeaponLaunchBone    = SECONDARY Muzzle
    End
    AliasConditionState = NIGHT

    ConditionState        = DAMAGED
      Model               = NBNapCannon_D
      ParticleSysBone     = SmokeM01 SmokeFactionMedium
      ParticleSysBone     = SparkM01 SparksMedium
    End
    AliasConditionState        = DAMAGED NIGHT

    ConditionState        = REALLYDAMAGED RUBBLE
      Model               = NBNapCannon_E
      ParticleSysBone     = Smoke01 SmokeFactionMedium
      ParticleSysBone     = Smoke02 SmokeFactionMedium
      ParticleSysBone     = Smoke03 SmokeFactionMedium
      ParticleSysBone     = SparkM01 SparksMedium
      ParticleSysBone     = SparkM02 SparksMedium
    End
    AliasConditionState        = REALLYDAMAGED RUBBLE NIGHT
        
    ;SNOW    --------------------------------------------------------------- 
    ConditionState         = SNOW
      Model               = NBNapCannon_S
    End
    AliasConditionState         = SNOW NIGHT
    
    ConditionState        = DAMAGED SNOW
      Model               = NBNapCannon_DS
      ParticleSysBone     = SmokeM01 SmokeFactionMedium
      ParticleSysBone     = SparkM01 SparksMedium
    End
    AliasConditionState        = DAMAGED SNOW NIGHT
    
    ConditionState        = REALLYDAMAGED RUBBLE SNOW
      Model               = NBNapCannon_ES
      ParticleSysBone     = Smoke01 SmokeFactionMedium
      ParticleSysBone     = Smoke02 SmokeFactionMedium
      ParticleSysBone     = Smoke03 SmokeFactionMedium
      ParticleSysBone     = SparkM01 SparksMedium
      ParticleSysBone     = SparkM02 SparksMedium
    End
    AliasConditionState        = REALLYDAMAGED RUBBLE SNOW NIGHT
    
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = NBNapCannon
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = NBNapCannon_D
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = NBNapCannon_E
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model              = NBNapCannon_S
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
      Model              = NBNapCannon_DS
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
      Model              = NBNapCannon_ES
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
  End
  
  ; ------------ construction-zone fence -----------------
  Draw = W3DModelDraw ModuleTag_02
  AnimationsRequirePower = No

    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = NBGattling_A4
      Animation       = NBGattling_A4.NBGattling_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
    End
    ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = NBGattling_A4N
      Animation       = NBGattling_A4N.NBGattling_A4N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
    End
    ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = NBGattling_A4S
      Animation       = NBGattling_A4S.NBGattling_A4S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
    End
    ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = NBGattling_A4SN
      Animation       = NBGattling_A4SN.NBGattling_A4SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = NBGattling_A4
      Animation       = NBGattling_A4.NBGattling_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = NBGattling_A4N
      Animation       = NBGattling_A4N.NBGattling_A4N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = NBGattling_A4S
      Animation       = NBGattling_A4S.NBGattling_A4S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = NBGattling_A4SN
      Animation       = NBGattling_A4SN.NBGattling_A4SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = NBGattling_A4
      Animation       = NBGattling_A4.NBGattling_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = NBGattling_A4N
      Animation       = NBGattling_A4N.NBGattling_A4N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = NBGattling_A4S
      Animation       = NBGattling_A4S.NBGattling_A4S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = NBGattling_A4SN
      Animation       = NBGattling_A4SN.NBGattling_A4SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ under-construction scaffolding -----------------
  Draw = W3DModelDraw ModuleTag_03
  AnimationsRequirePower = No
    MinLODRequired = MEDIUM
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = NBGattling_A6
      Animation       = NBGattling_A6.NBGattling_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Smoke01 BuildUpSmokeChina
      ParticleSysBone = Smoke02 BuildUpSmokeChina
      ParticleSysBone = Smoke03 BuildUpSmokeChina
    End
    ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      Model           = NBGattling_A6N
      Animation       = NBGattling_A6N.NBGattling_A6N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = Smoke01 BuildUpSmokeChina
      ParticleSysBone = Smoke02 BuildUpSmokeChina
      ParticleSysBone = Smoke03 BuildUpSmokeChina
    End
    ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      Model           = NBGattling_A6S
      Animation       = NBGattling_A6S.NBGattling_A6S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = Smoke01 BuildUpSnowSmoke
      ParticleSysBone = Smoke02 BuildUpSnowSmoke
      ParticleSysBone = Smoke03 BuildUpSnowSmoke
    End
    ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      Model           = NBGattling_A6SN
      Animation       = NBGattling_A6SN.NBGattling_A6SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = Smoke01 BuildUpNightSnowSmoke
      ParticleSysBone = Smoke02 BuildUpNightSnowSmoke
      ParticleSysBone = Smoke03 BuildUpNightSnowSmoke
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
     Model            = NBGattling_A6
      Animation       = NBGattling_A6.NBGattling_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
     Model            = NBGattling_A6N
      Animation       = NBGattling_A6N.NBGattling_A6N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
     Model            = NBGattling_A6S
      Animation       = NBGattling_A6S.NBGattling_A6S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
     Model            = NBGattling_A6SN
      Animation       = NBGattling_A6SN.NBGattling_A6SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = NBGattling_A6
      Animation       = NBGattling_A6.NBGattling_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = NBGattling_A6N
      Animation       = NBGattling_A6N.NBGattling_A6N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = NBGattling_A6S
      Animation       = NBGattling_A6S.NBGattling_A6S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = NBGattling_A6SN
      Animation       = NBGattling_A6SN.NBGattling_A6SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  PlacementViewAngle = -45


  ; ***DESIGN parameters ***
  DisplayName      = CONTROLBAR:ConstructChinaFireWallDefense
  Side             = Boss
  EditorSorting    = STRUCTURE
  BuildCost        = 1000
  BuildTime        = 16
  EnergyProduction = -1

  ExperienceValue     = 200 200 200 200  ; Experience point value at each level
  Prerequisites
    Object = Boss_PowerPlant 
  End
  WeaponSet
    Conditions = None 
    Weapon = PRIMARY PyroWeapon
    Weapon = SECONDARY PyroWallWeapon
    AutoChooseSources = SECONDARY NONE
  End
  WeaponSet
    Conditions = PLAYER_UPGRADE 
    Weapon = PRIMARY PyroWeaponUpgraded
    Weapon = SECONDARY PyroWallWeaponUpgraded
    AutoChooseSources = SECONDARY NONE
    WeaponLockSharedAcrossSets = Yes
  End
  
  VisionRange      = 360.0
  ShroudClearingRange = 360
  
  ArmorSet
    Conditions     = None
    Armor          = BaseDefenseArmor
    DamageFX       = StructureDamageFXNoShake
  End
  CommandSet       = 12PyroDefenceCommandSet

  ; *** AUDIO Parameters ***
  SoundOnDamaged        = BuildingDamagedStateLight
  SoundOnReallyDamaged  = BuildingDestroy

  UnitSpecificSounds
    UnderConstruction     = UnderConstructionLoop
    VoiceRapidFire        = NoSound
  End

  UnitSpecificSounds
    TurretMoveStart = NoSound
    TurretMoveLoop  = NoSound
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority     = STRUCTURE
  KindOf            = PRELOAD STRUCTURE SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT IMMOBILE SCORE FS_BASE_DEFENSE POWERED IMMUNE_TO_CAPTURE
  Body              = StructureBody ModuleTag_05
    MaxHealth       = 1000.0
    InitialHealth   = 1000.0
    SubdualDamageCap = 1200
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
  End

  Behavior = StealthDetectorUpdate ModuleTag_13
    DetectionRate     = 500   ; how often to rescan for stealthed things in my sight (msec)
    DetectionRange   = 200   ;Dustin, enable this for independant balancing!
    CanDetectWhileGarrisoned  = No ;Garrisoned means being in a structure that you units can shoot out of.
    CanDetectWhileContained   = No ;Contained means being in a transport or tunnel network.
  End

  Behavior = GenerateMinefieldBehavior     ModuleTag_04
    TriggeredBy           = Upgrade_ChinaMines
    MineName              = ChinaStandardMine
    SmartBorder           = Yes
    AlwaysCircular        = Yes

    Upgradable            = Yes
    UpgradedTriggeredBy   = Upgrade_ChinaEMPMines
    UpgradedMineName      = ChinaEMPMine
  End

  Behavior = WeaponSetUpgrade ModuleTag_24
    TriggeredBy = Upgrade_ChinaBlackNapalm
  End

  Behavior = AIUpdateInterface ModuleTag_06
    Turret
      TurretTurnRate = 120
      TurretPitchRate = 120
      AllowsPitch = Yes
      MinPhysicalPitch = -15

      TurretFireAngleSweep = PRIMARY 10
      TurretFireAngleSweep = SECONDARY 60
      TurretSweepSpeedModifier = PRIMARY 0.5    ; Sweep slower than you turn (aim for 30 for art)
      TurretSweepSpeedModifier = SECONDARY 2.0  ; Sweep faster than you turn
      ControlledWeaponSlots = PRIMARY SECONDARY
    End
    AutoAcquireEnemiesWhenIdle = Yes
  End

  Behavior = ProductionUpdate ModuleTag_07
    ; nothing, but is required if we have any Object-level Upgrades!
  End

  Behavior             = DestroyDie ModuleTag_08
    ;nothing
  End
  Behavior             = FXListDie ModuleTag_09
    DeathFX       = FX_StructureTinyDeath
  End

  Behavior = ProductionUpdate ModuleTag_10
    ; nothing
  End
  
  Behavior        = CreateObjectDie ModuleTag_11
    CreationList  = OCL_LargeStructureDebris
  End

  Behavior = FlammableUpdate ModuleTag_12
    AflameDuration = 5000
    AflameDamageAmount = 5
    AflameDamageDelay = 500
  End

  Behavior = TransitionDamageFX ModuleTag_14
    ;-------------DESIGNED FOR TINY SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionTinySmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionTinySmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionTinyExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionTinyShockwave
  End

  Behavior = CommandSetUpgrade ModuleTag_25
    CommandSet = 12PyroDefenceCommandSetUpgrade
    TriggeredBy = Upgrade_ChinaMines
  End

  Behavior = GenerateMinefieldBehavior     ModuleTag_21
    TriggeredBy           = Upgrade_ChinaMines
    MineName              = ChinaStandardMine
    SmartBorder           = Yes
    AlwaysCircular        = Yes

    Upgradable            = Yes
    UpgradedTriggeredBy   = Upgrade_ChinaEMPMines
    UpgradedMineName      = ChinaEMPMine
  End

  Behavior = ProductionUpdate ModuleTag_22
    ; nothing
  End


  Behavior = BaseRegenerateUpdate ModuleTag_070
    ;No data
  End

  Behavior             = RebuildHoleExposeDie ModuleTag_090
    HoleName      = GLAHoleTunnelNetwork
    HoleMaxHealth = 500.0
  End

  Geometry            = BOX
  GeometryMajorRadius = 8.0
  GeometryMinorRadius = 8.0
  GeometryHeight      = 20.0
  GeometryIsSmall     = No      
  Shadow              = SHADOW_VOLUME
  BuildCompletion     = PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
Object Boss_TechCentr

  ; *** ART Parameters ***
  SelectPortrait         = TechCentr
  ButtonImage            = TechCentr

 Draw                   = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes
    ;day
    ConditionState       = NONE
      Model              = CBSECRTLAB
    End
    ConditionState       = DAMAGED
      Model              = CBSECRTLAB_D
      ParticleSysBone    = Smoke01 SmolderingSmoke
      ParticleSysBone    = Smoke02 SmolderingSmoke
      ParticleSysBone    = Smoke03 SmolderingSmoke
      ParticleSysBone    = Fire01 SmolderingFire
    End
    ConditionState       = REALLYDAMAGED RUBBLE
      Model              = CBSECRTLAB_E
      ParticleSysBone    = Smoke01 SmolderingSmoke
      ParticleSysBone    = Smoke02 SmolderingSmoke
;      ParticleSysBone    = Smoke03 SmolderingSmoke
      ParticleSysBone    = Smoke04 SmolderingSmoke
      ParticleSysBone    = Smoke05 SmolderingSmoke
      ParticleSysBone    = Smoke06 SmolderingSmoke
      ParticleSysBone    = Fire01 SmolderingFire
      ParticleSysBone    = Fire02 SmolderingFire
      ParticleSysBone    = Fire03 SmolderingFire
;     ParticleSysBone    = Spark01 
    End 

    ;night
    ConditionState       = NIGHT
      Model              = CBSECRTLAB_N
    End
    ;damaged
    ConditionState       = DAMAGED NIGHT
      Model              = CBSECRTLAB_DN
      ParticleSysBone    = Smoke01 SmolderingSmoke
      ParticleSysBone    = Smoke02 SmolderingSmoke
      ParticleSysBone    = Smoke03 SmolderingSmoke
      ParticleSysBone    = Fire01 SmolderingFire
    End
    ;reallydamaged
    ConditionState       = REALLYDAMAGED RUBBLE NIGHT
      Model              = CBSECRTLAB_EN
      ParticleSysBone    = Smoke01 SmolderingSmoke
      ParticleSysBone    = Smoke02 SmolderingSmoke
;      ParticleSysBone    = Smoke03 SmolderingSmoke
      ParticleSysBone    = Smoke04 SmolderingSmoke
      ParticleSysBone    = Smoke05 SmolderingSmoke
      ParticleSysBone    = Smoke06 SmolderingSmoke
      ParticleSysBone    = Fire01 SmolderingFire
      ParticleSysBone    = Fire02 SmolderingFire
      ParticleSysBone    = Fire03 SmolderingFire
;      ParticleSysBone    = Spark01 
    End 

    ConditionState       = SNOW
      Model              = CBSECRTLAB_S
    End
        ;damaged
    ConditionState       = DAMAGED SNOW
      Model              = CBSECRTLAB_DS
      ParticleSysBone    = Smoke01 SmolderingSmoke
      ParticleSysBone    = Smoke02 SmolderingSmoke
      ParticleSysBone    = Smoke03 SmolderingSmoke
      ParticleSysBone    = Fire01 SmolderingFire
    End
    ;reallydamaged
    ConditionState       = REALLYDAMAGED RUBBLE SNOW
      Model              = CBSECRTLAB_ES
      ParticleSysBone    = Smoke01 SmolderingSmoke
      ParticleSysBone    = Smoke02 SmolderingSmoke
;      ParticleSysBone    = Smoke03 SmolderingSmoke
      ParticleSysBone    = Smoke04 SmolderingSmoke
      ParticleSysBone    = Smoke05 SmolderingSmoke
      ParticleSysBone    = Smoke06 SmolderingSmoke
      ParticleSysBone    = Fire01 SmolderingFire
      ParticleSysBone    = Fire02 SmolderingFire
      ParticleSysBone    = Fire03 SmolderingFire
;      ParticleSysBone    = Spark01 
    End 

    ;night
    ConditionState       = NIGHT SNOW
      Model              = CBSECRTLAB_S
    End
    ;damaged
    ConditionState       = DAMAGED NIGHT SNOW
      Model              = CBSECRTLAB_DS
      ParticleSysBone    = Smoke01 SmolderingSmoke
      ParticleSysBone    = Smoke02 SmolderingSmoke
      ParticleSysBone    = Smoke03 SmolderingSmoke
      ParticleSysBone    = Fire01 SmolderingFire
    End
    ;reallydamaged
    ConditionState       = REALLYDAMAGED RUBBLE NIGHT SNOW
      Model              = CBSECRTLAB_ES
      ParticleSysBone    = Smoke01 SmolderingSmoke
      ParticleSysBone    = Smoke02 SmolderingSmoke
;      ParticleSysBone    = Smoke03 SmolderingSmoke
      ParticleSysBone    = Smoke04 SmolderingSmoke
      ParticleSysBone    = Smoke05 SmolderingSmoke
      ParticleSysBone    = Smoke06 SmolderingSmoke
      ParticleSysBone    = Fire01 SmolderingFire
      ParticleSysBone    = Fire02 SmolderingFire
      ParticleSysBone    = Fire03 SmolderingFire
;      ParticleSysBone    = Spark01 
    End 

    ; day garrisoned
    ConditionState = GARRISONED
      Model         = CBSECRTLAB_G
      Animation     = CBSECRTLAB_G.CBSECRTLAB_G
      AnimationMode = LOOP
    End
    ConditionState = DAMAGED GARRISONED
      Model         = CBSECRTLAB_DG
      Animation     = CBSECRTLAB_DG.CBSECRTLAB_DG
      AnimationMode = LOOP
    End
    
        ; night garrisoned
    ConditionState = NIGHT GARRISONED
      Model         = CBSECRTLAB_NG
      Animation     = CBSECRTLAB_NG.CBSECRTLAB_NG
      AnimationMode = LOOP
    End
    ConditionState = DAMAGED NIGHT GARRISONED
      Model         = CBSECRTLAB_DNG
      Animation     = CBSECRTLAB_DNG.CBSECRTLAB_DNG
      AnimationMode = LOOP
    End

    ; snow garrisoned
    ConditionState = SNOW GARRISONED
      Model         = CBSECRTLAB_SG
      Animation     = CBSECRTLAB_SG.CBSECRTLAB_SG
      AnimationMode = LOOP
    End
    ConditionState = DAMAGED SNOW GARRISONED
      Model         = CBSECRTLAB_DSG
      Animation     = CBSECRTLAB_DSG.CBSECRTLAB_DSG
      AnimationMode = LOOP
    End
    
    ; night snow garrisoned
    ConditionState = SNOW NIGHT GARRISONED
      Model         = CBSECRTLAB_SG
      Animation     = CBSECRTLAB_SG.CBSECRTLAB_SG
      AnimationMode = LOOP
    End
    ConditionState = DAMAGED SNOW NIGHT GARRISONED
      Model         = CBSECRTLAB_DSG
      Animation     = CBSECRTLAB_DSG.CBSECRTLAB_DSG
      AnimationMode = LOOP
    End
    
        ;**************************************************************************************************************************
    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ;for this draw module
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = CBSECRTLAB
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = CBSECRTLAB_D
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = CBSECRTLAB_E
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
      Model              = CBSECRTLAB_N
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
      Model              = CBSECRTLAB_DN
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
      Model              = CBSECRTLAB_EN
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model              = CBSECRTLAB_S
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
      Model              = CBSECRTLAB_DS
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
      Model              = CBSECRTLAB_ES
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
      Model              = CBSECRTLAB_NS
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
      Model              = CBSECRTLAB_DS
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
      Model              = CBSECRTLAB_ES
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End

    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    ;**************************************************************************************************************************

  End  
 
  ; ------------ construction-zone fence -----------------
  Draw                = W3DModelDraw ModuleTag_0300000
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABPwrPlnta_A4
      Animation       = ABPwrPlnta_A4.ABPwrPlnta_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Pit SmolderingFire
      ParticleSysBone = Pit01 SmolderingFire
      ParticleSysBone = Pit SmolderingSmoke
      ParticleSysBone = Pit01 SmolderingSmoke
    End
    ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABPwrPlnta_A4
      Animation       = ABPwrPlnta_A4.ABPwrPlnta_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = Pit SmolderingFire
      ParticleSysBone = Pit01 SmolderingFire
      ParticleSysBone = Pit SmolderingSmoke
      ParticleSysBone = Pit01 SmolderingSmoke
    End
    ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABPwrPlnta_A4
      Animation       = ABPwrPlnta_A4.ABPwrPlnta_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = Pit SmolderingFire
      ParticleSysBone = Pit01 SmolderingFire
      ParticleSysBone = Pit SmolderingSmoke
      ParticleSysBone = Pit01 SmolderingSmoke
    End
    ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABPwrPlnta_A4
      Animation       = ABPwrPlnta_A4.ABPwrPlnta_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = Pit SmolderingFire
      ParticleSysBone = Pit01 SmolderingFire
      ParticleSysBone = Pit SmolderingSmoke
      ParticleSysBone = Pit01 SmolderingSmoke
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = ABPwrPlnta_A4
      Animation       = ABPwrPlnta_A4.ABPwrPlnta_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
      ParticleSysBone = Pit SmolderingFire
      ParticleSysBone = Pit01 SmolderingFire
      ParticleSysBone = Pit SmolderingSmoke
      ParticleSysBone = Pit01 SmolderingSmoke
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = ABPwrPlnta_A4
      Animation       = ABPwrPlnta_A4.ABPwrPlnta_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
      ParticleSysBone = Pit SmolderingFire
      ParticleSysBone = Pit01 SmolderingFire
      ParticleSysBone = Pit SmolderingSmoke
      ParticleSysBone = Pit01 SmolderingSmoke
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = ABPwrPlnta_A4
      Animation       = ABPwrPlnta_A4.ABPwrPlnta_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
      ParticleSysBone = Pit SmolderingFire
      ParticleSysBone = Pit01 SmolderingFire
      ParticleSysBone = Pit SmolderingSmoke
      ParticleSysBone = Pit01 SmolderingSmoke
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = ABPwrPlnta_A4
      Animation       = ABPwrPlnta_A4.ABPwrPlnta_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
      ParticleSysBone = Pit SmolderingFire
      ParticleSysBone = Pit01 SmolderingFire
      ParticleSysBone = Pit SmolderingSmoke
      ParticleSysBone = Pit01 SmolderingSmoke
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = ABPwrPlnta_A4
      Animation       = ABPwrPlnta_A4.ABPwrPlnta_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
      ParticleSysBone = Pit SmolderingFire
      ParticleSysBone = Pit01 SmolderingFire
      ParticleSysBone = Pit SmolderingSmoke
      ParticleSysBone = Pit01 SmolderingSmoke
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = ABPwrPlnta_A4
      Animation       = ABPwrPlnta_A4.ABPwrPlnta_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
      ParticleSysBone = Pit SmolderingFire
      ParticleSysBone = Pit01 SmolderingFire
      ParticleSysBone = Pit SmolderingSmoke
      ParticleSysBone = Pit01 SmolderingSmoke
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = ABPwrPlnta_A4
      Animation       = ABPwrPlnta_A4.ABPwrPlnta_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
      ParticleSysBone = Pit SmolderingFire
      ParticleSysBone = Pit01 SmolderingFire
      ParticleSysBone = Pit SmolderingSmoke
      ParticleSysBone = Pit01 SmolderingSmoke
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = ABPwrPlnta_A4
      Animation       = ABPwrPlnta_A4.ABPwrPlnta_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
      ParticleSysBone = Pit SmolderingFire
      ParticleSysBone = Pit01 SmolderingFire
      ParticleSysBone = Pit SmolderingSmoke
      ParticleSysBone = Pit01 SmolderingSmoke
    End
  End

  ; ------------ under-construction scaffolding -----------------
  Draw                = W3DModelDraw ModuleTag_04
    AnimationsRequirePower = No
    MinLODRequired = MEDIUM
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = ABPwrPlnta_A6
      Animation       = ABPwrPlnta_A6.ABPwrPlnta_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Dust01 BuildingDustChina
      ParticleSysBone = SmokeM01 BuildUpSmokeChina
      ParticleSysBone = SmokeS02 BuildUpSmokeChina
      ParticleSysBone = SparksM01 BuildUpSmokeChina
      ParticleSysBone = SparksM02 BuildUpSmokeChina
      ParticleSysBone = SparksS01 BuildUpSmokeChina
      ParticleSysBone = SparksS02 BuildUpSmokeChina
    End
    ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      Model           = ABPwrPlnta_A6N
      Animation       = ABPwrPlnta_A6N.ABPwrPlnta_A6N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT

      ParticleSysBone = Dust01 BuildingDustChina
      ParticleSysBone = SmokeM01 BuildUpSmokeChina
      ParticleSysBone = SmokeS02 BuildUpSmokeChina
      ParticleSysBone = SparksM01 BuildUpSmokeChina
      ParticleSysBone = SparksM02 BuildUpSmokeChina
      ParticleSysBone = SparksS01 BuildUpSmokeChina
      ParticleSysBone = SparksS02 BuildUpSmokeChina
    End
    ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      Model           = ABPwrPlnta_A6
      Animation       = ABPwrPlnta_A6.ABPwrPlnta_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = Dust01 BuildingSnowDust
      ParticleSysBone = SmokeM01 BuildUpSnowSmoke
      ParticleSysBone = SmokeS02 BuildUpSnowSmoke
      ParticleSysBone = SparksM01 BuildUpSnowSmoke
      ParticleSysBone = SparksM02 BuildUpSnowSmoke
      ParticleSysBone = SparksS01 BuildUpSnowSmoke
      ParticleSysBone = SparksS02 BuildUpSnowSmoke
    End
    ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      Model           = ABPwrPlnta_A6N
      Animation       = ABPwrPlnta_A6N.ABPwrPlnta_A6N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = Dust01 BuildingNightSnowDust
      ParticleSysBone = SmokeM01 BuildUpNightSnowSmoke
      ParticleSysBone = SmokeS02 BuildUpNightSnowSmoke
      ParticleSysBone = SparksM01 BuildUpNightSnowSmoke
      ParticleSysBone = SparksM02 BuildUpNightSnowSmoke
      ParticleSysBone = SparksS01 BuildUpNightSnowSmoke
      ParticleSysBone = SparksS02 BuildUpNightSnowSmoke
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = ABPwrPlnta_A6
      Animation       = ABPwrPlnta_A6.ABPwrPlnta_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = ABPwrPlnta_A6N
      Animation       = ABPwrPlnta_A6N.ABPwrPlnta_A6N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = ABPwrPlnta_A6
      Animation       = ABPwrPlnta_A6.ABPwrPlnta_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = ABPwrPlnta_A6N
      Animation       = ABPwrPlnta_A6N.ABPwrPlnta_A6N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = ABPwrPlnta_A6
      Animation       = ABPwrPlnta_A6.ABPwrPlnta_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = ABPwrPlnta_A6N
      Animation       = ABPwrPlnta_A6N.ABPwrPlnta_A6N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = ABPwrPlnta_A6
      Animation       = ABPwrPlnta_A6.ABPwrPlnta_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = ABPwrPlnta_A6N
      Animation       = ABPwrPlnta_A6N.ABPwrPlnta_A6N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ being-constructed crane -----------------
  Draw = W3DModelDraw ModuleTag_05
    AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    
    ConditionState  = ACTIVELY_BEING_CONSTRUCTED
      Model           = ABPwrPlnta_A5
      Animation       = ABPwrPlnta_A5.ABPwrPlnta_A5
      AnimationMode   = LOOP
      TransitionKey  = UP_DAY
    End

    ConditionState  = NIGHT ACTIVELY_BEING_CONSTRUCTED
      Model           = ABPwrPlnta_A5N
      Animation       = ABPwrPlnta_A5N.ABPwrPlnta_A5N
      AnimationMode   = LOOP
      TransitionKey  = UP_NIGHT
    End
    ConditionState  = SNOW ACTIVELY_BEING_CONSTRUCTED
      Model           = ABPwrPlnta_A5
      Animation       = ABPwrPlnta_A5.ABPwrPlnta_A5
      AnimationMode   = LOOP
      TransitionKey  = UP_SNOW
    End
    ConditionState  = SNOW NIGHT ACTIVELY_BEING_CONSTRUCTED
      Model           = ABPwrPlnta_A5N
      Animation       = ABPwrPlnta_A5N.ABPwrPlnta_A5N
      AnimationMode   = LOOP
      TransitionKey  = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = ABPwrPlnta_A5
      Animation       = ABPwrPlnta_A5.ABPwrPlnta_A5
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End

    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = ABPwrPlnta_A5N
      Animation       = ABPwrPlnta_A5N.ABPwrPlnta_A5N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = ABPwrPlnta_A5
      Animation       = ABPwrPlnta_A5.ABPwrPlnta_A5
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = ABPwrPlnta_A5N
      Animation       = ABPwrPlnta_A5N.ABPwrPlnta_A5N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model            = ABPwrPlnta_AB
      Animation       = ABPwrPlnta_AB.ABPwrPlnta_AB
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model            = ABPwrPlnta_ABN
      Animation       = ABPwrPlnta_ABN.ABPwrPlnta_ABN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model            = ABPwrPlnta_AB
      Animation       = ABPwrPlnta_AB.ABPwrPlnta_AB
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model            = ABPwrPlnta_ABN
      Animation       = ABPwrPlnta_ABN.ABPwrPlnta_ABN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End
  
  PlacementViewAngle  = -45

  ; ***DESIGN parameters ***
  DisplayName         = CONTROLBAR:ConstructChinaTechCentr
  Side                = Boss
  EditorSorting       = STRUCTURE
  Prerequisites
    Object            = Boss_WarFactory Boss_Airfield
    Science = SCIENCE_BOSS
  End
  BuildCost           = 20000
  BuildTime           = 45.0           ; in seconds
  EnergyProduction    = -1
  VisionRange         = 200.0           ; Shroud clearing distance
  MaxSimultaneousOfType = 1
  ShroudClearingRange = 200
  ArmorSet
    Conditions        = None
    Armor             = StructureArmor
    DamageFX          = StructureDamageFXNoShake
  End
  CommandSet          = TechCenterCommandSet
  ExperienceValue     = 200 200 200 200  ; Experience point value at each level


  ; *** AUDIO Parameters ***
  SoundOnDamaged        = BuildingDamagedStateLight
  SoundOnReallyDamaged  = BuildingDestroy

  UnitSpecificSounds
    UnderConstruction     = UnderConstructionLoop
  End

  ; *** ENGINEERING Parameters ***
  KindOf = PRELOAD STRUCTURE GARRISONABLE_UNTIL_DESTROYED SELECTABLE IMMOBILE SCORE IMMUNE_TO_CAPTURE FS_TECHNOLOGY MP_COUNT_FOR_VICTORY FS_ADVANCED_TECH
  Body            = StructureBody ModuleTag_07
    MaxHealth     = 1000.0
    InitialHealth = 1000.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 1200
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
  End

  Behavior = GarrisonContain ModuleTag_0800
    ContainMax                    = 4
    EnterSound                    = GarrisonEnter
    ExitSound                     = GarrisonExit
    ImmuneToClearBuildingAttacks  = Yes
  End

  Behavior = ProductionUpdate ModuleTag_10
    ;<NO DATA>
  End

  Behavior = DestroyDie ModuleTag_12
    ;<NO DATA>
  End
  Behavior  = FXListDie ModuleTag_14
    DeathFX = FX_StructureMediumDeath
  End
  Behavior                = GenerateMinefieldBehavior ModuleTag_15
    TriggeredBy           = Upgrade_ChinaMines
    MineName              = ChinaStandardMine
    SmartBorder           = Yes
    AlwaysCircular        = Yes

    Upgradable            = Yes
    UpgradedTriggeredBy   = Upgrade_ChinaEMPMines
    UpgradedMineName      = ChinaEMPMine
  End

  Behavior             = FlammableUpdate ModuleTag_17
    AflameDuration     = 5000    ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 5       ; taking this much damage...
    AflameDamageDelay  = 500     ; this often.
  End

  Behavior = TransitionDamageFX ModuleTag_18
    ;-------------DESIGNED FOR MEDIUM SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionMediumExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionMediumShockwave
  End

  Behavior = BaseRegenerateUpdate ModuleTag_1301
    ;No data
  End 

  ; Behavior             = CreateObjectDie ModuleTag_16112
    ; CreationList  = OCL_AmericanRangerDebris04
    ; ExemptStatus  = UNDER_CONSTRUCTION
  ; End

  Behavior = CommandSetUpgrade ModuleTag_25
    CommandSet = TechCenterCommandSetUpgrade
    TriggeredBy = Upgrade_ChinaMines
  End
  Behavior = ArmorUpgrade ModuleTag_26
    TriggeredBy = Upgrade_ChinaEMPMines
  End

  Geometry            = BOX
  GeometryMajorRadius = 42.0
  GeometryMinorRadius = 50.0
  GeometryHeight      = 40.0
  GeometryIsSmall     = No
  Shadow              = SHADOW_VOLUME
  BuildCompletion     = PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
Object Boss_GattlingCannon ;AmericaGuardianTurret

  ; *** ART Parameters ***
  SelectPortrait         = SAGuardian_L
  ButtonImage            = SAGuardian
  Draw = W3DModelDraw ModuleTag_01

    OkToChangeModelColor = Yes

    DefaultConditionState
      Model             = ABGardTur
      Turret            = TURRET
      TurretPitch       = TURRETEL
      WeaponRecoilBone   = PRIMARY BARREL01 BARREL02
      WeaponRecoilBone   = SECONDARY BARREL01 BARREL02
;      WeaponMuzzleFlash  = PRIMARY MUZZLEFX
;      WeaponMuzzleFlash  = SECONDARY MUZZLEFX

      WeaponLaunchBone  = PRIMARY   WeaponA01 WeaponA02
      WeaponLaunchBone  = SECONDARY WeaponA01 WeaponA02
      WeaponFireFXBone  = PRIMARY   WeaponA01 WeaponA02
      WeaponFireFXBone  = SECONDARY WeaponA01 WeaponA02
    End
    AliasConditionState = NIGHT

    ConditionState      = DAMAGED
      Model             = ABGardTur_D
    End
    AliasConditionState = DAMAGED NIGHT

    ConditionState      = REALLYDAMAGED RUBBLE
      Model             = ABGardTur_E
    End
    AliasConditionState = REALLYDAMAGED RUBBLE NIGHT


    ConditionState      = SNOW
      Model             = ABGardTur_S
    End
    AliasConditionState = SNOW NIGHT

    ConditionState      = DAMAGED SNOW
      Model             = ABGardTur_DS
    End
    AliasConditionState = SNOW NIGHT DAMAGED

    ConditionState      = REALLYDAMAGED RUBBLE SNOW
      Model             = ABGardTur_ES
    End
    AliasConditionState = SNOW NIGHT REALLYDAMAGED RUBBLE

    ;**************************************************************************************************************************
    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ;for this draw module
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = ABGardTur
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT


    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model              = ABGardTur_S
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = ABGardTur_D
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT



    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED SNOW
      Model              = ABGardTur_DS
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT SNOW



    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = ABGardTur_E
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT

    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED SNOW
      Model              = ABGardTur_ES
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT SNOW



    ConditionState       = AWAITING_CONSTRUCTION
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    ;**************************************************************************************************************************



  End

  ; ------------ construction-zone fence -----------------
  Draw = W3DModelDraw ModuleTag_02
    AnimationsRequirePower = No ; Do not pause the construction anims when low power disabled
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABPatriot_A4
      Animation       = ABPatriot_A4.ABPatriot_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
    End
    ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABPatriot_A4N
      Animation       = ABPatriot_A4N.ABPatriot_A4N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
    End
    ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABPatriot_A4S
      Animation       = ABPatriot_A4S.ABPatriot_A4S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
    End
    ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABPatriot_A4SN
      Animation       = ABPatriot_A4SN.ABPatriot_A4SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = ABPatriot_A4
      Animation       = ABPatriot_A4.ABPatriot_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = ABPatriot_A4N
      Animation       = ABPatriot_A4N.ABPatriot_A4N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = ABPatriot_A4S
      Animation       = ABPatriot_A4S.ABPatriot_A4S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = ABPatriot_A4SN
      Animation       = ABPatriot_A4SN.ABPatriot_A4SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = ABPatriot_A4
      Animation       = ABPatriot_A4.ABPatriot_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = ABPatriot_A4N
      Animation       = ABPatriot_A4N.ABPatriot_A4N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = ABPatriot_A4S
      Animation       = ABPatriot_A4S.ABPatriot_A4S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = ABPatriot_A4SN
      Animation       = ABPatriot_A4SN.ABPatriot_A4SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ under-construction scaffolding -----------------
  Draw = W3DModelDraw ModuleTag_03
    AnimationsRequirePower = No ; Do not pause the construction anims when low power disabled
    MinLODRequired = MEDIUM
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = ABPatriot_A6
      Animation       = ABPatriot_A6.ABPatriot_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
    End
    ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      Model           = ABPatriot_A6N
      Animation       = ABPatriot_A6N.ABPatriot_A6N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
    End
    ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      Model           = ABPatriot_A6S
      Animation       = ABPatriot_A6S.ABPatriot_A6S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
    End
    ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      Model           = ABPatriot_A6SN
      Animation       = ABPatriot_A6SN.ABPatriot_A6SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = ABPatriot_A6
      Animation       = ABPatriot_A6.ABPatriot_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = ABPatriot_A6N
      Animation       = ABPatriot_A6N.ABPatriot_A6N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = ABPatriot_A6S
      Animation       = ABPatriot_A6S.ABPatriot_A6S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = ABPatriot_A6SN
      Animation       = ABPatriot_A6SN.ABPatriot_A6SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = ABPatriot_A6
      Animation       = ABPatriot_A6.ABPatriot_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = ABPatriot_A6N
      Animation       = ABPatriot_A6N.ABPatriot_A6N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = ABPatriot_A6S
      Animation       = ABPatriot_A6S.ABPatriot_A6S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = ABPatriot_A6SN
      Animation       = ABPatriot_A6SN.ABPatriot_A6SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  PlacementViewAngle = -45

  ; ***DESIGN parameters ***
  DisplayName       = CONTROLBAR:ConstructAmericaGuardianTurret;OBJECT:GuardianTurret
  Side              = America
  EditorSorting     = STRUCTURE
  Prerequisites
    Object = Boss_PowerPlant
  End
  BuildCost        = 1200
  BuildTime        = 12.0           ; in seconds
  EnergyProduction = -2
  WeaponSet
    Conditions          = None
    Weapon              = PRIMARY     GuardianTurretGun
    Weapon              = SECONDARY   GuardianTurretGunAssist
    AutoChooseSources   = PRIMARY     FROM_PLAYER FROM_AI FROM_SCRIPT
    AutoChooseSources   = SECONDARY   NONE
    PreferredAgainst    = PRIMARY     VEHICLE INFANTRY
    PreferredAgainst    = SECONDARY   VEHICLE INFANTRY
    ShareWeaponReloadTime = Yes
  End
  VisionRange    = 360.0           ; Shroud clearing distance AND targeting range
  ShroudClearingRange = 360
  ArmorSet
    Conditions      = None
    Armor           = BaseDefenseArmor
    DamageFX        = StructureDamageFXNoShake
  End
  CommandSet        = ChinaGattlingCannonCommandSet;GuardianTurretCommandSet
  ExperienceValue     = 200 200 200 200  ; Experience point value at each level

  ;Behavior = AIUpdateInterface ModuleTag_20
  ;  AutoAcquireEnemiesWhenIdle = Yes ;ATTACK_BUILDINGS
  ;  MoodAttackCheckRate        = 250
  ;End

  ; *** AUDIO Parameters ***
  VoiceSelect = PatriotBatterySelect
  SoundOnDamaged        = BuildingDamagedStateLight
  SoundOnReallyDamaged  = BuildingDestroy

  UnitSpecificSounds
    UnderConstruction     = UnderConstructionLoop
  End

  UnitSpecificSounds
  ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    TurretMoveStart = NoSound
    TurretMoveLoop = NoSound ;These aren't playing properly, will revisit (mp) TurretMoveLoopLoud
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority   = STRUCTURE
  KindOf          = PRELOAD STRUCTURE SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT IMMOBILE SCORE FS_TECHNOLOGY POWERED FS_BASE_DEFENSE IMMUNE_TO_CAPTURE
  Body            = StructureBody ModuleTag_04
    MaxHealth     = 1000.0
    InitialHealth = 1000.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 1200
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
  End

  Behavior = StealthDetectorUpdate ModuleTag_13
    DetectionRate     = 500   ; how often to rescan for stealthed things in my sight (msec)
    DetectionRange   =  200 ;Dustin, enable this for independant balancing!
    CanDetectWhileGarrisoned  = No ;Garrisoned means being in a structure that you units can shoot out of.
    CanDetectWhileContained   = No ;Contained means being in a transport or tunnel network.
  End

  Behavior = ProductionUpdate ModuleTag_0700
    ; nothing, but is required if we have any Object-level Upgrades!
  End

  Behavior = BaseRegenerateUpdate ModuleTag_05
    ;No data
  End
  Behavior = AIUpdateInterface ModuleTag_06
    Turret
      TurretTurnRate       = 180 ;60   // turn rate, in degrees per sec
      ControlledWeaponSlots= PRIMARY SECONDARY
    End
    AutoAcquireEnemiesWhenIdle = Yes ;ATTACK_BUILDINGS; defensive weapon
    MoodAttackCheckRate        = 250
  End

;  Behavior = AIUpdateInterface ModuleTag_06
;    Turret
;      TurretTurnRate        = 180   // turn rate, in degrees per sec
;      TurretPitchRate       = 180
;      AllowsPitch           = Yes
;      NaturalTurretPitch    = 0
;      GroundUnitPitch       = 45
;      MinPhysicalPitch      = -20
;      ControlledWeaponSlots = PRIMARY SECONDARY
;      MinIdleScanInterval   = 250    ; in milliseconds
;      MaxIdleScanInterval   = 250    ; in milliseconds
;      MinIdleScanAngle      = 0       ; in degrees off the natural turret angle
;      MaxIdleScanAngle      = 360     ; in degrees off the natural turret angle
;    End

;    AutoAcquireEnemiesWhenIdle = Yes ;ATTACK_BUILDINGS; defensive weapon
;    MoodAttackCheckRate        = 250
;  End

  Behavior = AssistedTargetingUpdate ModuleTag_07
    AssistingClipSize = 2                       ; How many shots to make when asked by someone of my kind who has a RequestAssistRange weapon
    AssistingWeaponSlot = SECONDARY             ; And the weapon to use.  Should have huge range and no natural clip.
    LaserFromAssisted = PatriotBinaryDataStream ; Stream to draw from the requestor to me
    LaserToTarget = PatriotBinaryDataStream     ; Stream to draw from me to the target
  End

  Behavior = DestroyDie ModuleTag_08
    ;nothing
  End
  ; Behavior             = CreateObjectDie ModuleTag_09
    ; CreationList  = OCL_AmericanRangerDebris03
    ; ExemptStatus  = UNDER_CONSTRUCTION
  ; End
  Behavior             = FXListDie ModuleTag_10
    DeathFX       = FX_StructureTinyDeath
  End

  Behavior = FlammableUpdate ModuleTag_12
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 5       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = TransitionDamageFX ModuleTag_14
    ;-------------DESIGNED FOR TINY SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionTinySmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionTinySmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionTinyExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionTinyShockwave
  End


  Behavior = GenerateMinefieldBehavior     ModuleTag_040
    TriggeredBy           = Upgrade_ChinaMines
    MineName              = ChinaStandardMine
    SmartBorder           = Yes
    AlwaysCircular        = Yes

    Upgradable            = Yes
    UpgradedTriggeredBy   = Upgrade_ChinaEMPMines
    UpgradedMineName      = ChinaEMPMine
  End

  Behavior = CommandSetUpgrade ModuleTag_250
    CommandSet = ChinaGattlingCannonCommandSetUpgrade
    TriggeredBy = Upgrade_ChinaMines
  End

  Behavior             = RebuildHoleExposeDie ModuleTag_09001
    HoleName      = GLAHoleTunnelNetwork
    HoleMaxHealth = 400.0
  End

  Geometry            = CYLINDER
  GeometryMajorRadius = 12.0
  GeometryMinorRadius = 1.0
  GeometryHeight      = 14.0
  GeometryIsSmall     = No
  Shadow          = SHADOW_VOLUME
  BuildCompletion = PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
Object Boss_TankUberlord

  ; *** ART Parameters ***
  SelectPortrait         = Mamonth
  ButtonImage            = Mamonth
  
  UpgradeCameo1 = Upgrade_GLAJunkRepair
  UpgradeCameo2 = Upgrade_ChinaNuclearTanks
  
  
  Draw = W3DOverlordTankDraw ModuleTag_01
    ConditionState        = NONE
      Model               = BVUberBat
      Turret              = Turret01
      WeaponFireFXBone    = PRIMARY TurretFX
      WeaponRecoilBone    = PRIMARY Barrel
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      WeaponLaunchBone    = PRIMARY TurretMS
    End
    ConditionState        = REALLYDAMAGED
      Model               = BVUberBat_D
      Turret              = Turret01
      WeaponFireFXBone    = PRIMARY TurretFX
      WeaponRecoilBone    = PRIMARY Barrel
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      WeaponLaunchBone    = PRIMARY TurretMS
    End

    ConditionState        = RUBBLE
      Model               = BVUberBat_D
      Turret              = Turret01
      WeaponFireFXBone    = PRIMARY TurretFX
      WeaponRecoilBone    = PRIMARY Barrel
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      WeaponLaunchBone    = PRIMARY TurretMS
    End

    TrackMarks           = EXTnkTrack.tga
    OkToChangeModelColor = Yes
    TreadAnimationRate = 2.0;  amount of tread texture to move per second
    TreadDriveSpeedFraction = 0.3  ; fraction of locomotor speed below which treads stop moving.
    TreadPivotSpeedFraction = 0.6  ; fraction of locomotor speed below which we allow pivoting.
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:MammothUberlord
  Side                = Boss
  EditorSorting       = VEHICLE
  TransportSlotCount  = 10                 ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions        = None 
    Weapon            = PRIMARY MammothUberlordTankGun
  End
  ArmorSet
    Conditions        = None
    Armor             = TankArmor
    DamageFX          = TankDamageFX
  End
  BuildCost       = 6200
  BuildTime       = 50.0          ;in seconds    
  VisionRange     = 150
  ShroudClearingRange = 200
  Prerequisites
    Object = Boss_TechCentr
  End

  ExperienceValue = 200 200 400 600   ;Experience point value at each level
  ExperienceRequired = 0 400 600 1200  ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 3  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 3  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = ChinaTankOverlordNewCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = OverlordTankVoiceSelect
  SoundMoveStart = OverlordTankMoveStart
  SoundMoveStartDamaged = OverlordTankMoveStart
  VoiceMove = OverlordTankVoiceMove
  VoiceGuard = OverlordTankVoiceMove
  VoiceAttack = OverlordTankVoiceAttack

  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate          = OverlordTankVoiceCreate
    TurretMoveStart = NoSound
    TurretMoveLoop = OverlordTankTurretMoveLoop
    VoiceCrush = OverlordTankVoiceCrush
    VoiceEnter = OverlordTankVoiceMove
    VoiceUnload     = OverlordTankVoiceUnload
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE HUGE_VEHICLE
  
  Body = ActiveBody ModuleTag_02
    MaxHealth       = 2200.0
    InitialHealth   = 2200.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 2500
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

  Behavior = TransportAIUpdate ModuleTag_03
    Turret
      TurretTurnRate = 60 ;30 ;15   // turn rate, in degrees per sec
      ControlledWeaponSlots = PRIMARY
    End
    AutoAcquireEnemiesWhenIdle = Yes
  End

  Behavior = HordeUpdate ModuleTag_04567
    RubOffRadius = 150    ; if I am this close to a real hordesman, I will get to be an honorary hordesman
    UpdateRate = 1000     ; how often to recheck horde status (msec)
    Radius = 75           ; how close other units must be to us to count towards our horde-ness (~30 feet or so)
    KindOf = VEHICLE      ; what KindOf's must match to count towards horde-ness
    AlliesOnly = Yes      ; do we only count allies towards horde status?
    ExactMatch = Yes      ; do we only count units of our exact same type towards horde status? (overrides kindof)
    Count = 5             ; how many units must be within Radius to grant us horde-ness
    Action = HORDE        ; when horde-ing, grant us the HORDE bonus
  End

  Locomotor = SET_NORMAL OverlordLocomotor
  Locomotor = SET_NORMAL_UPGRADED NuclearOverlordLocomotor

  Behavior = FireWeaponWhenDeadBehavior ModuleTag_04
    DeathWeapon   = NuclearTankDeathWeapon
    StartsActive  = No                        ; turned on by upgrade
    TriggeredBy   = Upgrade_ChinaNuclearTanks
  End
  Behavior = LocomotorSetUpgrade ModuleTag_05
    TriggeredBy = Upgrade_ChinaNuclearTanks
  End

  Behavior = ProductionUpdate ModuleTag_99
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End

  Behavior    = OCLSpecialPower ModuleTag_Laymines01
    SpecialPowerTemplate = SpecialAbilityLaymines
    OCL                  = OCL_AmericaBattleMines
  End

  Behavior = ObjectCreationUpgrade ModuleTag_96
    UpgradeObject = OCL_ChinaOmegaBattleDrone
    TriggeredBy   = Upgrade_ChinaOmegaBattleDrone
  End

  Behavior = OverlordContain ModuleTag_06 ; Like Transport, but when full, passes transport queries along to first passenger (redirects like tunnel)
    Slots                 = 1
    DamagePercentToUnits        = 100%
    AllowInsideKindOf     = PORTABLE_STRUCTURE
    PassengersAllowedToFire = Yes
    PassengersInTurret = Yes ; My passengers ride in my turret, that's where the Firepoint bones are
    ExperienceSinkForRider = Yes ; I get the Exp for things my turret friend kills
  End

  Behavior = PhysicsBehavior ModuleTag_14
    Mass = 50.0
  End

  ; Just explode death
  Behavior = SlowDeathBehavior ModuleTag_16
    ProbabilityModifier = 25
    DestructionDelay = 200
    DestructionDelayVariance = 100
    OCL = FINAL    OCL_ChinaTankOverlordDebris
    FX  = FINAL    FX_OverlordExplosionOneFinal
  End
  Behavior = CreateCrateDie ModuleTag_17
    CrateData = SalvageCrateData
    ;CrateData = EliteTankCrateData
    ;CrateData = HeroicTankCrateData
  End

  Behavior = TransitionDamageFX ModuleTag_18
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_OverlordDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = AutoHealBehavior ModuleTag_0899
    HealingAmount = 1
    HealingDelay = 1000 ; msec
    TriggeredBy = Upgrade_GLAJunkRepair
  End

  Geometry = BOX
  GeometryMajorRadius = 26.0
  GeometryMinorRadius = 13.0
  GeometryHeight = 15.0     
  GeometryIsSmall = No
  Shadow = SHADOW_VOLUME     
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object Boss_VehicleHardArty

  ; *** ART Parameters ***
  SelectPortrait         = HardArty_L
  ButtonImage            = HardArty

  UpgradeCameo1 = Upgrade_AmericaScoutDrone
  UpgradeCameo2 = Upgrade_AmericaBattleDrone
  UpgradeCameo3 = Upgrade_AmericaAdvancedTraining
  UpgradeCameo4 = Upgrade_AmericaHellfireDrone
  UpgradeCameo5 = Upgrade_GLAJunkRepair

  Draw = W3DTruckDraw ModuleTag_Draw01
    
    OkToChangeModelColor = Yes
    ParticlesAttachedToAnimatedBones = Yes

    DefaultConditionState
      Model                           = NVICNC
      WeaponLaunchBone                = PRIMARY Muzzle
      WeaponMuzzleFlash               = PRIMARY MuzzleFx
      WeaponFireFXBone                = PRIMARY Muzzle
      WeaponRecoilBone                = PRIMARY Barrel
      HideSubObject = Wheel05 Wheel06 Wheel07 Wheel08
      ParticleSysBone       = HOUSECOLOR03 DozerSmokeLight
      ParticleSysBone       = HOUSECOLOR07 DozerSmokeLight
    End
    ConditionState                    = RUBBLE
      Model                           = NVICNC_D1
      ParticleSysBone       = HOUSECOLOR03 DozerSmokeLight
      ParticleSysBone       = HOUSECOLOR07 DozerSmokeLight
    End

    ;*** PACKED STATE -- ready to move ***
    ConditionState    = MOVING
      Animation       = NVICNC.NVICNC
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_FIRST
      HideSubObject = Wheel05 Wheel06 Wheel07 Wheel08
      ParticleSysBone       = HOUSECOLOR03 DozerSmokeHeavy
      ParticleSysBone       = HOUSECOLOR07 DozerSmokeHeavy
    End
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_B
    AliasConditionState = BETWEEN_FIRING_SHOTS_B

    ConditionState    = REALLYDAMAGED MOVING
      Model           = NVICNC_D
      Animation       = NVICNC_D.NVICNC_D
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_FIRST
      HideSubObject = Wheel05 Wheel06 Wheel07 Wheel08
      ParticleSysBone       = HOUSECOLOR03 DozerSmokeHeavy
      ParticleSysBone       = HOUSECOLOR07 DozerSmokeHeavy
    End
    AliasConditionState = REALLYDAMAGED MOVING BETWEEN_FIRING_SHOTS_B
     
    ;*** UNPACKING STATE  -- preparing to fire ***
    ConditionState    = UNPACKING
      Animation       = NVICNC.NVICNC
      AnimationMode   = ONCE
      HideSubObject = Wheel05 Wheel06 Wheel07 Wheel08
      ParticleSysBone       = HOUSECOLOR03 DozerSmokeLight
      ParticleSysBone       = HOUSECOLOR07 DozerSmokeLight
    End
    AliasConditionState = UNPACKING BETWEEN_FIRING_SHOTS_B

    ConditionState    = REALLYDAMAGED UNPACKING
      Model           = NVICNC_D
      Animation       = NVICNC_D.NVICNC_D
      AnimationMode   = ONCE
      HideSubObject = Wheel05 Wheel06 Wheel07 Wheel08
      ParticleSysBone       = HOUSECOLOR03 DozerSmokeLight
      ParticleSysBone       = HOUSECOLOR07 DozerSmokeLight
    End
    AliasConditionState = REALLYDAMAGED UNPACKING BETWEEN_FIRING_SHOTS_B

    ;*** PACKING STATE -- preparing to move ***
    ConditionState    = PACKING
      Animation       = NVICNC.NVICNC
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
      HideSubObject = Wheel05 Wheel06 Wheel07 Wheel08
      ParticleSysBone       = HOUSECOLOR03 DozerSmokeLight
      ParticleSysBone       = HOUSECOLOR07 DozerSmokeLight
    End
    AliasConditionState = PACKING BETWEEN_FIRING_SHOTS_B

    ConditionState    = REALLYDAMAGED PACKING
      Model           = NVICNC_D
      Animation       = NVICNC_D.NVICNC_D
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
      HideSubObject = Wheel05 Wheel06 Wheel07 Wheel08
      ParticleSysBone       = HOUSECOLOR03 DozerSmokeLight
      ParticleSysBone       = HOUSECOLOR07 DozerSmokeLight
    End
    AliasConditionState = REALLYDAMAGED PACKING BETWEEN_FIRING_SHOTS_B

    ;*** DEPLOYED STATE -- ready to fire ***
    ConditionState  = DEPLOYED 
      Animation       = NVICNC.NVICNC
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
      HideSubObject = Wheel05 Wheel06 Wheel07 Wheel08
      WeaponRecoilBone = PRIMARY Barrel
    End
    AliasConditionState = DEPLOYED MOVING
    AliasConditionState = DEPLOYED BETWEEN_FIRING_SHOTS_B
    AliasConditionState = DEPLOYED FIRING_B
    AliasConditionState = DEPLOYED RELOADING_B

    ConditionState  = DEPLOYED REALLYDAMAGED
      Model           = NVICNC_D
      Animation       = NVICNC_D.NVICNC_D
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
      HideSubObject = Wheel05 Wheel06 Wheel07 Wheel08
      WeaponRecoilBone = PRIMARY Barrel
    End
    AliasConditionState = DEPLOYED REALLYDAMAGED MOVING
    AliasConditionState = DEPLOYED REALLYDAMAGED BETWEEN_FIRING_SHOTS_B
    AliasConditionState = DEPLOYED REALLYDAMAGED FIRING_B
    AliasConditionState = DEPLOYED REALLYDAMAGED RELOADING_B

    ConditionState                    = AFLAME
      Model                           = NVICNC
      HideSubObject = Wheel05 Wheel06 Wheel07 Wheel08
      ParticleSysBone       = HOUSECOLOR03 DozerSmokeLight
      ParticleSysBone       = HOUSECOLOR07 DozerSmokeLight
      ParticleSysBone = HOUSECOLOR01 TankFireContinious
      ParticleSysBone = CHASSIS TankFireContinious
      ParticleSysBone = HOUSECOLOR07 TankFireContinious
    End
    ConditionState                    = RUBBLE AFLAME
      Model                           = NVICNC_D1
      ParticleSysBone       = HOUSECOLOR03 DozerSmokeLight
      ParticleSysBone       = HOUSECOLOR07 DozerSmokeLight
      ParticleSysBone = HOUSECOLOR01 TankFireContinious
      ParticleSysBone = CHASSIS TankFireContinious
      ParticleSysBone = HOUSECOLOR07 TankFireContinious
    End

    ;*** PACKED STATE -- ready to move ***
    ConditionState    = MOVING AFLAME
      Animation       = NVICNC.NVICNC
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_FIRST
      HideSubObject = Wheel05 Wheel06 Wheel07 Wheel08
      ParticleSysBone       = HOUSECOLOR03 DozerSmokeHeavy
      ParticleSysBone       = HOUSECOLOR07 DozerSmokeHeavy
      ParticleSysBone = HOUSECOLOR01 TankFireContinious
      ParticleSysBone = CHASSIS TankFireContinious
      ParticleSysBone = HOUSECOLOR07 TankFireContinious
    End
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_B AFLAME
    AliasConditionState = BETWEEN_FIRING_SHOTS_B AFLAME

    ConditionState    = REALLYDAMAGED MOVING AFLAME
      Model           = NVICNC_D
      Animation       = NVICNC_D.NVICNC_D
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_FIRST
      HideSubObject = Wheel05 Wheel06 Wheel07 Wheel08
      ParticleSysBone       = HOUSECOLOR03 DozerSmokeHeavy
      ParticleSysBone       = HOUSECOLOR07 DozerSmokeHeavy
      ParticleSysBone = HOUSECOLOR01 TankFireContinious
      ParticleSysBone = CHASSIS TankFireContinious
      ParticleSysBone = HOUSECOLOR07 TankFireContinious
    End
    AliasConditionState = REALLYDAMAGED MOVING BETWEEN_FIRING_SHOTS_B AFLAME
     
    ;*** UNPACKING STATE  -- preparing to fire ***
    ConditionState    = UNPACKING AFLAME
      Animation       = NVICNC.NVICNC
      AnimationMode   = ONCE
      HideSubObject = Wheel05 Wheel06 Wheel07 Wheel08
      ParticleSysBone       = HOUSECOLOR03 DozerSmokeLight
      ParticleSysBone       = HOUSECOLOR07 DozerSmokeLight
      ParticleSysBone = HOUSECOLOR01 TankFireContinious
      ParticleSysBone = CHASSIS TankFireContinious
      ParticleSysBone = HOUSECOLOR07 TankFireContinious
    End
    AliasConditionState = UNPACKING BETWEEN_FIRING_SHOTS_B AFLAME

    ConditionState    = REALLYDAMAGED UNPACKING AFLAME
      Model           = NVICNC_D
      Animation       = NVICNC_D.NVICNC_D
      AnimationMode   = ONCE
      HideSubObject = Wheel05 Wheel06 Wheel07 Wheel08
      ParticleSysBone       = HOUSECOLOR03 DozerSmokeLight
      ParticleSysBone       = HOUSECOLOR07 DozerSmokeLight
      ParticleSysBone = HOUSECOLOR01 TankFireContinious
      ParticleSysBone = CHASSIS TankFireContinious
      ParticleSysBone = HOUSECOLOR07 TankFireContinious
    End
    AliasConditionState = REALLYDAMAGED UNPACKING BETWEEN_FIRING_SHOTS_B AFLAME

    ;*** PACKING STATE -- preparing to move ***
    ConditionState    = PACKING AFLAME
      Animation       = NVICNC.NVICNC
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
      HideSubObject = Wheel05 Wheel06 Wheel07 Wheel08
      ParticleSysBone       = HOUSECOLOR03 DozerSmokeLight
      ParticleSysBone       = HOUSECOLOR07 DozerSmokeLight
      ParticleSysBone = HOUSECOLOR01 TankFireContinious
      ParticleSysBone = CHASSIS TankFireContinious
      ParticleSysBone = HOUSECOLOR07 TankFireContinious
    End
    AliasConditionState = PACKING BETWEEN_FIRING_SHOTS_B AFLAME

    ConditionState    = REALLYDAMAGED PACKING AFLAME
      Model           = NVICNC_D
      Animation       = NVICNC_D.NVICNC_D
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
      HideSubObject = Wheel05 Wheel06 Wheel07 Wheel08
      ParticleSysBone       = HOUSECOLOR03 DozerSmokeLight
      ParticleSysBone       = HOUSECOLOR07 DozerSmokeLight
      ParticleSysBone = HOUSECOLOR01 TankFireContinious
      ParticleSysBone = CHASSIS TankFireContinious
      ParticleSysBone = HOUSECOLOR07 TankFireContinious
    End
    AliasConditionState = REALLYDAMAGED PACKING BETWEEN_FIRING_SHOTS_B AFLAME

    ;*** DEPLOYED STATE -- ready to fire ***
    ConditionState  = DEPLOYED AFLAME
      Animation       = NVICNC.NVICNC
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
      HideSubObject = Wheel05 Wheel06 Wheel07 Wheel08
      WeaponRecoilBone = PRIMARY Barrel
      ParticleSysBone = HOUSECOLOR01 TankFireContinious
      ParticleSysBone = CHASSIS TankFireContinious
      ParticleSysBone = HOUSECOLOR07 TankFireContinious
    End
    AliasConditionState = DEPLOYED MOVING AFLAME
    AliasConditionState = DEPLOYED BETWEEN_FIRING_SHOTS_B AFLAME
    AliasConditionState = DEPLOYED FIRING_B AFLAME
    AliasConditionState = DEPLOYED RELOADING_B AFLAME

    ConditionState  = DEPLOYED REALLYDAMAGED AFLAME
      Model           = NVICNC_D
      Animation       = NVICNC_D.NVICNC_D
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
      HideSubObject = Wheel05 Wheel06 Wheel07 Wheel08
      WeaponRecoilBone = PRIMARY Barrel
      ParticleSysBone = HOUSECOLOR01 TankFireContinious
      ParticleSysBone = CHASSIS TankFireContinious
      ParticleSysBone = HOUSECOLOR07 TankFireContinious
    End
    AliasConditionState = DEPLOYED REALLYDAMAGED MOVING AFLAME
    AliasConditionState = DEPLOYED REALLYDAMAGED BETWEEN_FIRING_SHOTS_B AFLAME
    AliasConditionState = DEPLOYED REALLYDAMAGED FIRING_B AFLAME
    AliasConditionState = DEPLOYED REALLYDAMAGED RELOADING_B AFLAME

    TrackMarks = EXTireTrack.tga

    Dust = RocketBuggyDust
    DirtSpray = RocketBuggyDirtSpray

    LeftFrontTireBone     = Wheel02
    RightFrontTireBone    = Wheel01
    LeftRearTireBone      = Wheel12
    RightRearTireBone     = Wheel11
    MidLeftFrontTireBone  = Wheel04
    MidRightFrontTireBone = Wheel03
    MidLeftRearTireBone   = Wheel10
    MidRightRearTireBone  = Wheel09

    TireRotationMultiplier      = 0.2   ; this * speed = rotation.
    PowerslideRotationAddition  = 0   ; This vehicle doesn't powerslide.
  End

  Draw = W3DTruckDraw ModuleTag_Draw02
    DefaultConditionState
      Model                           = NVICNC_W
    End
    ConditionState = REALLYDAMAGED RUBBLE
      Model                           = NVICNC_WD
    End

    LeftFrontTireBone     = Wheel06
    RightFrontTireBone    = Wheel05
    LeftRearTireBone      = Wheel08
    RightRearTireBone     = Wheel07

    TireRotationMultiplier      = 0.2   ; this * speed = rotation.
    PowerslideRotationAddition  = 0   ; This vehicle doesn't powerslide.
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:ICNukeLauncher
  Side = Boss
  EditorSorting   = VEHICLE
  TransportSlotCount = 0
  BuildCost       = 65000
  BuildTime       = 55.0
  VisionRange         = 175
  ShroudClearingRange = 175
  ;MaxSimultaneousOfType = DeterminedBySuperweaponRestriction ; Normally unlimited, but can be selected by players in multiplayer games
  ;MaxSimultaneousLinkKey = Superweapon  ; Count all superweapons **AND THE GLA SCUD STORM REBUILD HOLE** as one "type" for MaxSimultaneousOfType
  WeaponSet
    Conditions = None 
    ;Weapon = PRIMARY HardArtyCannonGun
	Weapon = PRIMARY SubCruiseMissile
  End

  ArmorSet
    Conditions        = None
    Armor             = SuperTruckArmor
    DamageFX          = TankDamageFX
  End

  Prerequisites
    Object = Boss_TechCentr
    ;Science = SCIENCE_BOSS
    ;Science = SCIENCE_Rank3
  End

  ExperienceValue     = 84 111 148 198
  ExperienceRequired  = 0 251 334 444
  IsTrainable         = Yes
  CrusherLevel   = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel = 3  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  ;CommandSet    = Boss_HardArtyCommandSet
  CommandSet    = Boss_BastionCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect           = StrategicArtilleryVoiceSelect
  VoiceMove             = StrategicArtilleryVoiceMove
  VoiceGuard            = StrategicArtilleryVoiceMove
  VoiceAttack           = StrategicArtilleryVoiceAttack
  SoundMoveStart        = NukeCannonMoveStart
  SoundMoveStartDamaged = NukeCannonMoveStart
  UnitSpecificSounds
    VoiceCreate         = StrategicArtilleryVoiceCreate
    TurretMoveStart     = NoSound
    TurretMoveLoop      = NukeCannonTurretMoveLoop
    VoiceEnter          = StrategicArtilleryVoiceMove
    Deploy              = NukeCannonDeploy
    Undeploy            = NukeCannonUnDeploy
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS VEHICLE SCORE FS_SUPERWEAPON SALVAGER
  
  Body = ActiveBody ModuleTag_02
    MaxHealth       = 700.0
    InitialHealth   = 700.0
    SubdualDamageCap = 1500
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

  Behavior = HordeUpdate ModuleTag_0468
    RubOffRadius = 100    ; if I am this close to a real hordesman, I will get to be an honorary hordesman
    UpdateRate = 900     ; how often to recheck horde status (msec)
    Radius = 75           ; how close other units must be to us to count towards our horde-ness (~30 feet or so)
    KindOf = VEHICLE      ; what KindOf's must match to count towards horde-ness
    AlliesOnly = Yes      ; do we only count allies towards horde status?
    ExactMatch = Yes      ; do we only count units of our exact same type towards horde status? (overrides kindof)
    Count = 10             ; how many units must be within Radius to grant us horde-ness
    Action = HORDE        ; when horde-ing, grant us the HORDE bonus
  End

  Behavior = DeployStyleAIUpdate ModuleTag_04
    AutoAcquireEnemiesWhenIdle = No
    PackTime = 3333
    UnpackTime = 3333
    TurretsFunctionOnlyWhenDeployed = Yes
    TurretsMustCenterBeforePacking = Yes
    ManualDeployAnimations = Yes
  End

  Locomotor = SET_NORMAL ScudLauncherLocomotor

  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 300.0
  End

  Behavior = ObjectCreationUpgrade ModuleTag_0657
    UpgradeObject = OCL_AmericanBattleDrone
    TriggeredBy   = Upgrade_AmericaBattleDrone
    ConflictsWith = Upgrade_AmericaScoutDrone Upgrade_AmericaHellfireDrone
  End
  Behavior = ObjectCreationUpgrade ModuleTag_0709
    UpgradeObject = OCL_AmericanScoutDrone
    TriggeredBy   = Upgrade_AmericaScoutDrone
    ConflictsWith = Upgrade_AmericaBattleDrone Upgrade_AmericaHellfireDrone
  End
  Behavior = ObjectCreationUpgrade ModuleTag_1567
    UpgradeObject = OCL_AmericanHellfireDrone
    TriggeredBy   = Upgrade_AmericaHellfireDrone
    ConflictsWith = Upgrade_AmericaBattleDrone Upgrade_AmericaScoutDrone
  End

  Behavior = ProductionUpdate ModuleTag_08
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End

  Behavior = ExperienceScalarUpgrade ModuleTag_09
    TriggeredBy = Upgrade_AmericaAdvancedTraining
    AddXPScalar = 1.0 ;Increases experience gained by an additional 100%
  End

  Behavior = SlowDeathBehavior ModuleTag_06
    DeathTypes = ALL -POISONED -POISONED_BETA -POISONED_GAMMA -EXTRA_6
    DestructionDelay = 200
    DestructionDelayVariance = 100
    OCL = FINAL    OCL_ChinaVehicleICNukeCannonDie
    FX  = FINAL    FX_OverlordExplosionOneFinal
  End

  Behavior = FireWeaponWhenDeadBehavior ModuleTag_07
    DeathTypes = ALL -POISONED -POISONED_BETA -POISONED_GAMMA -EXTRA_6
    DeathWeapon   = Nuke_NuclearTankDeathWeapon
    StartsActive  = Yes
    ConflictsWith = Upgrade_ChinaIsotopeStability
  End

  Behavior = SlowDeathBehavior ModuleTag_Poisoned
    DeathTypes = NONE +POISONED +POISONED_BETA +POISONED_GAMMA +EXTRA_6
    DestructionDelay = 0
    OCL = FINAL   OCL_ChinaVehicleICNukeCannonDeathEffectSimple
  End

  Behavior = CreateCrateDie ModuleTag_12
    CrateData = SalvageCrateData
  End

  Behavior                 = TransitionDamageFX ModuleTag_10
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_NukeCannonDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 8000
    AflameDamageAmount = 1
    AflameDamageDelay = 500
  End

  Behavior = CommandButtonHuntUpdate  ModuleTag_04B
  End

  Behavior = AutoHealBehavior ModuleTag_0889
    HealingAmount = 2
    HealingDelay = 1000 ; msec
    TriggeredBy = Upgrade_GLAJunkRepair
  End

  Geometry = BOX
  GeometryMajorRadius = 40.0
  GeometryMinorRadius = 12.0
  GeometryHeight = 12.0
  GeometryIsSmall = No
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45    
End


;------------------------------------------------------------------------------
Object Boss_SovietTankT62

  ; *** ART Parameters ***
  SelectPortrait         = SACLeopard_L
  ButtonImage            = SACLeopard
  
  UpgradeCameo1 = Upgrade_AmericaAdvancedTraining
  UpgradeCameo2 = Upgrade_AmericaCompositeArmor
  ;UpgradeCameo3 = Upgrade_AmericaTOWMissile
  ;UpgradeCameo4 = Upgrade_AmericaCompositeArmor
  ;UpgradeCameo5 = Upgrade_AmericaTOWMissile

  Draw = W3DTankDraw ModuleTag_01
    DefaultConditionState
      Model               = GVT-55
      Turret              = Turret01
;      HideSubObject       = ReactiveArmor Reactiveside
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponRecoilBone    = PRIMARY Barrel
      WeaponLaunchBone = PRIMARY Muzzle
    End
    
    ConditionState       = REALLYDAMAGED
      Model              = GVT-55_D
    End
    
    ConditionState       = RUBBLE
      Model              = GVT-55_D
    End

    TrackMarks           = EXTnkTrack.tga
    TreadAnimationRate      = 2.0  ; amount of tread texture to move per second
    TreadDriveSpeedFraction = 0.3  ; fraction of locomotor speed below which treads stop moving.
    TreadPivotSpeedFraction = 0.6  ; fraction of locomotor speed below which we allow pivoting.
    OkToChangeModelColor = Yes
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Crusader
  Side             = Boss
  EditorSorting    = VEHICLE
  TransportSlotCount = 3                 ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions = None 
    Weapon = PRIMARY T55TankGun
    Weapon = SECONDARY M1A2TankMachineGun ;CrusaderMachineGun
    PreferredAgainst = SECONDARY     INFANTRY
  End

  ArmorSet
    Conditions      = None
    Armor           = TankArmor
    DamageFX        = TankDamageFX
  End

  Prerequisites
    Object = Boss_WarFactory Boss_SmallFactory
  End

  BuildCost              = 1000
  BuildTime              = 10.0          ;in seconds    
  VisionRange            = 150
  ShroudClearingRange = 200

  ExperienceValue        = 50 50 100 200 ;Experience point value at each level
  ExperienceRequired     = 0 100 100 200 ;Experience points needed to gain each level
  IsTrainable            = Yes  ;Can gain experience
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet       = Boss_SovietTankT62CommandSet
  
  ; *** AUDIO Parameters ***
  VoiceSelect           = CrusaderTankVoiceSelect
  VoiceMove             = CrusaderTankVoiceMove
  VoiceGuard            = CrusaderTankVoiceMove
  VoiceAttack           = CrusaderTankVoiceAttack
  SoundMoveStart        = CrusaderTankMoveStart
  SoundMoveStartDamaged = CrusaderTankMoveStart
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate         = CrusaderTankVoiceCreate
    VoiceEnter             = CrusaderTankVoiceMove
    TurretMoveStart     = NoSound
    TurretMoveLoop      = TurretMoveLoop
    SoundEject          = PilotSoundEject
    VoiceEject          = PilotVoiceEject
    VoiceCrush          = CrusaderTankVoiceCrush
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority          = UNIT
  KindOf                 = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE HUGE_VEHICLE
  
  Body                   = ActiveBody ModuleTag_02
    MaxHealth       = 500
    InitialHealth   = 500
  End

  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      TurretTurnRate       = 180 ;60   // turn rate, in degrees per sec
      ControlledWeaponSlots= PRIMARY SECONDARY
    End
    AutoAcquireEnemiesWhenIdle = Yes
  End


  Locomotor = SET_NORMAL NuclearBattleMasterLocomotor

  Behavior = PhysicsBehavior ModuleTag_04
    Mass                 = 50.0
  End


  Behavior = HordeUpdate ModuleTag_05
    RubOffRadius = 150    ; if I am this close to a real hordesman, I will get to be an honorary hordesman
    UpdateRate = 1000     ; how often to recheck horde status (msec)
    Radius = 75           ; how close other units must be to us to count towards our horde-ness (~30 feet or so)
    KindOf = VEHICLE      ; what KindOf's must match to count towards horde-ness
    AlliesOnly = Yes      ; do we only count allies towards horde status? 
    ExactMatch = Yes      ; do we only count units of our exact same type towards horde status? (overrides kindof)
    Count = 5             ; how many units must be within Radius to grant us horde-ness
    Action = HORDE        ; when horde-ing, grant us the HORDE bonus
  End


  Behavior = FireWeaponWhenDeadBehavior ModuleTag_06
    DeathWeapon   = NuclearTankDeathWeapon
    StartsActive  = No                        ; turned on by upgrade
    TriggeredBy   = Upgrade_ChinaNuclearTanks
  End



  ; A crushing defeat
  Behavior = DestroyDie ModuleTag_08
    DeathTypes = NONE +CRUSHED +SPLATTED
  End
  Behavior = FXListDie ModuleTag_09
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  Behavior = CreateObjectDie ModuleTag_10
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_CrusaderTank_CrushEffect
  End
  ; Behavior = CreateCrateDie ModuleTag_11
    ; CrateData = SalvageCrateData
    ; ;CrateData = EliteTankCrateData
    ; ;CrateData = HeroicTankCrateData
  ; End


  Behavior = SlowDeathBehavior ModuleTag_12
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier = 25
    DestructionDelay = 200
    DestructionDelayVariance = 100
    OCL = FINAL    OCL_ChinaTankBattleMasterDebris
    FX  = FINAL    FX_BattleMasterExplosionOneFinal
  End

  Behavior = TransitionDamageFX ModuleTag_13
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Geometry               = BOX
  GeometryMajorRadius    = 15.0
  GeometryMinorRadius    = 10.0
  GeometryHeight         = 10.0     
  GeometryIsSmall        = Yes    
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length
  Scale = 1.05
End



;------------------------------------------------------------------------------
Object Boss_UkraineTankLeopard

  ; *** ART Parameters ***
  SelectPortrait         = SATrojan_L
  ButtonImage            = SATrojan


  Draw = W3DTankDraw ModuleTag_01
    DefaultConditionState
      Model               = nvt90
      Turret              = Turret
      WeaponFireFXBone    = PRIMARY TurretMS
      WeaponRecoilBone    = PRIMARY Barrel
      WeaponMuzzleFlash   = PRIMARY TurretFX
      WeaponLaunchBone    = PRIMARY TurretMS
    End
    
    ConditionState       = REALLYDAMAGED
      Model              = nvt90_d
    End
    
    ConditionState       = RUBBLE
      Model              = nvt90_d1
    End

    TrackMarks           = EXTnkTrack.tga
    TreadAnimationRate      = 2.0  ; amount of tread texture to move per second
    TreadDriveSpeedFraction = 0.3  ; fraction of locomotor speed below which treads stop moving.
    TreadPivotSpeedFraction = 0.6  ; fraction of locomotor speed below which we allow pivoting.
    OkToChangeModelColor = Yes
  End
  
  Prerequisites
    Object = Boss_UkraineWarFactory
	Object = Boss_UkraineInternationalHeadquaters
  End
  
  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Crusader
  Side             = Boss
  EditorSorting    = VEHICLE
  TransportSlotCount = 3                 ;how many "slots" we take in a transport (0 == not transportable)
  
  WeaponSet
    Conditions = None 
    Weapon = PRIMARY T90TankGun
    Weapon = SECONDARY M1A2TankMachineGun ;T90CannonGun
    ; Weapon = TERTIARY DozerMineDisarmingWeapon
  End

  ArmorSet
    Conditions      = None
    Armor           = TankArmor
    DamageFX        = TankDamageFX
  End

  BuildCost              = 7000
  BuildTime              = 10.0          ;in seconds    
  VisionRange            = 150
  ShroudClearingRange = 300

  ExperienceValue        = 50 50 100 200 ;Experience point value at each level
  ExperienceRequired     = 0 100 100 200 ;Experience points needed to gain each level
  IsTrainable            = Yes  ;Can gain experience
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet             = GenericCommandSet
  
  ; *** AUDIO Parameters ***
  VoiceSelect           = CrusaderTankVoiceSelect
  VoiceMove             = CrusaderTankVoiceMove
  VoiceGuard            = CrusaderTankVoiceMove
  VoiceAttack           = CrusaderTankVoiceAttack
  SoundMoveStart        = CrusaderTankMoveStart
  SoundMoveStartDamaged = CrusaderTankMoveStart
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate         = CrusaderTankVoiceCreate
    VoiceEnter             = CrusaderTankVoiceMove
    TurretMoveStart     = NoSound
    TurretMoveLoop      = TurretMoveLoop
    SoundEject          = PilotSoundEject
    VoiceEject          = PilotVoiceEject
    VoiceCrush          = CrusaderTankVoiceCrush
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority          = UNIT
  KindOf                 = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE HUGE_VEHICLE
  
  Body                   = ActiveBody ModuleTag_02
    MaxHealth       = 1700
    InitialHealth   = 1700
  End

  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      TurretTurnRate       = 180 ;60   // turn rate, in degrees per sec
      ControlledWeaponSlots= PRIMARY SECONDARY ;TERTIARY
    End
    AutoAcquireEnemiesWhenIdle = Yes
  End

  Locomotor = SET_NORMAL NuclearBattleMasterLocomotor

  Behavior = PhysicsBehavior ModuleTag_04
    Mass                 = 50.0
  End


  ; Turret fly off death
  Behavior = SlowDeathBehavior ModuleTag_10
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier  = 50
    DestructionDelay  = 500
    DestructionDelayVariance  = 100
    FX  = INITIAL  FX_GenericTankDeathEffect
    OCL = MIDPOINT OCL_GenericTankDeathEffect
    FX  = FINAL    FX_GenericTankDeathExplosion
    OCL = FINAL    OCL_CrusaderTurret
  End

  ; Catch fire, and explode death
  Behavior = SlowDeathBehavior ModuleTag_11
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier  = 50
    DestructionDelay  = 2000
    DestructionDelayVariance  = 300
    FX  = INITIAL  FX_CrusaderCatchFire
    OCL = FINAL    OCL_GenericTankDeathEffect  
    FX  = FINAL    FX_GenericTankDeathExplosion
  End

  Behavior                 = TransitionDamageFX ModuleTag_12
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = DestroyDie ModuleTag_13
    DeathTypes = NONE +CRUSHED +SPLATTED
  End

  ; A crushing defeat
  Behavior = FXListDie ModuleTag_14
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End


  ;Behavior = VeterancyGainCreate ModuleTag_19
    ; omit the "ScienceRequired" so that this upgrade always occurs.
    ; Pilots should never (repeat, never) be less than VETERAN status.
    ;StartingLevel = VETERAN
  ;End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Geometry               = BOX
  GeometryMajorRadius    = 15.0
  GeometryMinorRadius    = 10.0
  GeometryHeight         = 10.0     
  GeometryIsSmall        = Yes    
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length
End



;------------------------------------------------------------------------------
Object Boss_AmericaTankAdvCrusader

  ; *** ART Parameters ***
  SelectPortrait         = M1A1_L
  ButtonImage            = M1A1
  
  UpgradeCameo1 = Upgrade_AmericaBattleDrone
  UpgradeCameo2 = Upgrade_AmericaScoutDrone
  UpgradeCameo3 = Upgrade_AmericaAdvancedTraining
  UpgradeCameo4 = Upgrade_AmericaCompositeArmor
  UpgradeCameo5 = Upgrade_AmericaTOWMissile

  Draw = W3DTankDraw ModuleTag_01
    DefaultConditionState
      Model               = AVLeopart3
      Turret              = Turret
      WeaponFireFXBone    = PRIMARY TurretMS
      WeaponRecoilBone    = PRIMARY Barrel
      WeaponMuzzleFlash   = PRIMARY TurretFX
      WeaponLaunchBone    = PRIMARY TurretMS
    End
    
    ConditionState       = REALLYDAMAGED
      Model              = AVLeopart3_D
    End
    
    ConditionState       = RUBBLE
      Model              = AVLeopart3_D
    End

    TrackMarks           = EXTnkTrack.tga
    TreadAnimationRate      = 2.0  ; amount of tread texture to move per second
    TreadDriveSpeedFraction = 0.3  ; fraction of locomotor speed below which treads stop moving.
    TreadPivotSpeedFraction = 0.6  ; fraction of locomotor speed below which we allow pivoting.
    OkToChangeModelColor = Yes
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:M1A1
  Side             = Boss
  EditorSorting    = VEHICLE
  TransportSlotCount = 3                 ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions = None 
    Weapon = PRIMARY CrusaderTankGunAdvCom
    Weapon = SECONDARY M1A2TankMachineGun ;CrusaderMachineGun
    ;Weapon = TERTIARY TOWMissileAirWeapon
    ;PreferredAgainst = TERTIARY     AIRCRAFT
	PreferredAgainst = SECONDARY     INFANTRY
  End

  ArmorSet
    Conditions      = None
    Armor           = TankArmor
    DamageFX        = TankDamageFX
  End

  ;MaxSimultaneousOfType = 5

  BuildCost              = 5000
  BuildTime              = 10.0          ;in seconds    
  VisionRange            = 150
  ShroudClearingRange = 300
  Prerequisites
    Object = Boss_WarFactory
    Object = Boss_TechCentr
  End
  ExperienceValue        = 100 100 200 400 ;Experience point value at each level
  ExperienceRequired     = 0 200 300 600 ;Experience points needed to gain each level
  IsTrainable            = Yes  ;Can gain experience
  CrusherLevel           = 3  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 3  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet             = AmericaTankCrusaderCommandSet
  
  ; *** AUDIO Parameters ***
  VoiceSelect           = CrusaderTankVoiceSelect
  VoiceMove             = CrusaderTankVoiceMove
  VoiceGuard            = CrusaderTankVoiceMove
  VoiceAttack           = CrusaderTankVoiceAttack
  SoundMoveStart        = CrusaderTankMoveStart
  SoundMoveStartDamaged = CrusaderTankMoveStart
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate         = CrusaderTankVoiceCreate
    VoiceEnter             = CrusaderTankVoiceMove
    TurretMoveStart     = NoSound
    TurretMoveLoop      = TurretMoveLoop
    SoundEject          = PilotSoundEject
    VoiceEject          = PilotVoiceEject
    VoiceCrush          = CrusaderTankVoiceCrush
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority          = UNIT
  KindOf                 = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE HUGE_VEHICLE
  
  Body                   = ActiveBody ModuleTag_02
    MaxHealth       = 1200
    InitialHealth   = 1200
  End

  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      TurretTurnRate       = 180 ;60   // turn rate, in degrees per sec
      ControlledWeaponSlots= PRIMARY
    End
    AutoAcquireEnemiesWhenIdle = Yes
  End
  Locomotor            = SET_NORMAL CrusaderLocomotor
  Behavior = PhysicsBehavior ModuleTag_04
    Mass                 = 50.0
  End

  Behavior = ObjectCreationUpgrade ModuleTag_05
    UpgradeObject = OCL_AmericanBattleDrone
    TriggeredBy   = Upgrade_AmericaBattleDrone
  End

  Behavior = ObjectCreationUpgrade ModuleTag_06
    UpgradeObject = OCL_AmericanScoutDrone
    TriggeredBy   = Upgrade_AmericaScoutDrone
  End

  Behavior = ProductionUpdate ModuleTag_07
    MaxQueueEntries = 2; So you can't build multiple upgrades in the same frame
  End

  Behavior = ExperienceScalarUpgrade ModuleTag_08
    TriggeredBy   = Upgrade_AmericaAdvancedTraining
    AddXPScalar   = 1.0 ;Increases experience gained by an additional 100%
  End

  Behavior = MaxHealthUpgrade ModuleTag_09
    TriggeredBy   = Upgrade_AmericaCompositeArmor
    AddMaxHealth  = 400.0
    ChangeType    = ADD_CURRENT_HEALTH_TOO   ;Choices are PRESERVE_RATIO, ADD_CURRENT_HEALTH_TOO, and SAME_CURRENTHEALTH
  End

  ; Turret fly off death
  Behavior = SlowDeathBehavior ModuleTag_10
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier  = 50
    DestructionDelay  = 500
    DestructionDelayVariance  = 100
    FX  = INITIAL  FX_GenericTankDeathEffect
    OCL = MIDPOINT OCL_GenericTankDeathEffect
    FX  = FINAL    FX_GenericTankDeathExplosion
    OCL = FINAL    OCL_CrusaderTurret
  End

  ; Catch fire, and explode death
  Behavior = SlowDeathBehavior ModuleTag_11
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier  = 50
    DestructionDelay  = 2000
    DestructionDelayVariance  = 300
    FX  = INITIAL  FX_CrusaderCatchFire
    OCL = FINAL    OCL_GenericTankDeathEffect  
    FX  = FINAL    FX_GenericTankDeathExplosion
  End

  Behavior                 = TransitionDamageFX ModuleTag_12
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = DestroyDie ModuleTag_13
    DeathTypes = NONE +CRUSHED +SPLATTED
  End

  ; A crushing defeat
  Behavior = FXListDie ModuleTag_14
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End

  Behavior = CreateObjectDie ModuleTag_15
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_CrusaderTank_CrushEffect
  End

  Behavior                    = CreateCrateDie ModuleTag_CratesChange
   CrateData             = SalvageCrateData
   ;CrateData             = EliteTankCrateData
   ;CrateData             = HeroicTankCrateData
  End

  Behavior = EjectPilotDie ModuleTag_17
    GroundCreationList = OCL_EjectPilotOnGround
    AirCreationList = OCL_EjectPilotViaParachute
    ExemptStatus = HIJACKED
    VeterancyLevels =  ALL -REGULAR ;only vet+ gives pilot
  End



  ;Behavior = VeterancyGainCreate ModuleTag_19
    ; omit the "ScienceRequired" so that this upgrade always occurs.
    ; Pilots should never (repeat, never) be less than VETERAN status.
    ;StartingLevel = ELITE
  ;End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Geometry               = BOX
  GeometryMajorRadius    = 15.0
  GeometryMinorRadius    = 10.0
  GeometryHeight         = 10.0     
  GeometryIsSmall        = Yes    
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;----------------------------------------------------------------------------
Object Boss_RussiaVehicleBukM2

  ; *** ART Parameters ***
  SelectPortrait         = SA4TEL
  ButtonImage            = SA4TEL

    Draw = W3DTankTruckDraw ModuleTag_01
    OkToChangeModelColor = Yes

    ProjectileBoneFeedbackEnabledSlots = SECONDARY

    ConditionState      = NONE
      Model             = RU-SA17
      Turret            = TURRET
      TurretPitch       = TURRETEL
      WeaponLaunchBone  = SECONDARY WEAPONA
      WeaponFireFXBone  = SECONDARY WEAPONA 
    End

    ConditionState = REALLYDAMAGED
      Model             = RU-SA17_D
      Turret            = TURRET
      TurretPitch       = TURRETEL
      WeaponLaunchBone  = SECONDARY WEAPONA
      WeaponFireFXBone  = SECONDARY WEAPONA 
    End

    ConditionState = RUBBLE
      Model             = RU-SA17_D
      Turret            = TURRET
      TurretPitch       = TURRETEL
      WeaponLaunchBone  = SECONDARY WEAPONA
      WeaponFireFXBone  = SECONDARY WEAPONA 
    End

    TrackMarks = EXTnkTrack.tga

    TreadAnimationRate = 2.0;  amount of tread texture to move per second
    TreadDriveSpeedFraction = 0.3  ; fraction of locomotor speed below which treads stop moving.
    TreadPivotSpeedFraction = 0.6  ; fraction of locomotor speed below which we allow pivoting.

    Dust = RocketBuggyDust
    DirtSpray = RocketBuggyDirtSpray
  End

  ; ***DESIGN parameters ***
  DisplayName               = OBJECT:SA17
  Side                      = Boss
  EditorSorting             = VEHICLE
  TransportSlotCount        = 4            ;how many "slots" we take in a transport (0 == not transportable)

  WeaponSet
    Conditions          = None 
    Weapon              = SECONDARY SA17MissileWeapon
    PreferredAgainst    = SECONDARY BALLISTIC_MISSILE AIRCRAFT
  End

  ArmorSet
    Conditions    = None
    Armor         = AntiAirVehicleArmor
    DamageFX      = TankDamageFX
  End
  BuildCost       = 15000
  BuildTime       = 25.0          ;in seconds    
  VisionRange     = 800
  ShroudClearingRange = 2000
  Prerequisites
    Object = Boss_WarFactory
    Object = Boss_TechCentr
	Object = Boss_RussiaSatelliteCenter
  End

  ExperienceValue         = 85 85 150 250  ;Experience point value at each level
  ExperienceRequired      = 0 150 275 475   ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet      = Boss_BukM2CommandSet
  
    ; *** AUDIO Parameters ***
  VoiceSelect           = GadflyVoiceSelect
  VoiceMove             = GadflyVoiceMove
  VoiceGuard            = GadflyVoiceMove
  VoiceAttack           = GadflyVoiceAttack
  VoiceAttackAir        = GadflyVoiceAttack
  SoundMoveStart        = GadflyMoveStart
  SoundMoveStartDamaged = GadflyMoveStart
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate         = GadflyVoiceCreate
    Deploy              = GadflyDeploy
    Undeploy            = GadflyUnDeploy
    TurretMoveStart     = NoSound
    TurretMoveLoop      = NoSound
    VoiceEnter          = GadflyVoiceMove
  End
  
  ; *** ENGINEERING Parameters ***
  RadarPriority     = UNIT
  KindOf            = PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS VEHICLE SCORE
  
  Body              = ActiveBody ModuleTag_02
    MaxHealth       = 500.0
    InitialHealth   = 500.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 600
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End
  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      ControlledWeaponSlots = PRIMARY SECONDARY TERTIARY
      TurretTurnRate      = 290   // turn rate, in degrees per sec
      TurretPitchRate     = 205
      AllowsPitch         = Yes
      FiresWhileTurning   = Yes
      NaturalTurretPitch  = 0 ; this keeps it aimed half way between land and sky
                               ; since you never know from whence cometh danger
      MinIdleScanInterval   = 2000    ; in milliseconds
      MaxIdleScanInterval   = 2000    ; in milliseconds
      MinIdleScanAngle      = 0       ; in degrees off the natural turret angle
      MaxIdleScanAngle      = 360     ; in degrees off the natural turret angle
    End
    AutoAcquireEnemiesWhenIdle = Yes
    MoodAttackCheckRate        = 250
  End
  
  Locomotor       = SET_NORMAL GLAGadflyLocomotor
  
  Behavior          = PhysicsBehavior ModuleTag_04
    Mass            = 40.0
  End

;Upgrades----------------------------------------------------------
  ; Behavior = ObjectCreationUpgrade Upgrade_01
    ; UpgradeObject = OCL_AirRadarDrone ;Air units are detecting ground vehicles
    ; TriggeredBy = Upgrade_AirRadarDrone
  ; End
;Deaths-------------------------------------------------------------
  Behavior = SlowDeathBehavior DeathTag_01
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier = 25
    DestructionDelay = 200
    DestructionDelayVariance = 100
    OCL = FINAL    OCL_SA4TELDeathBits
    FX  = FINAL    FX_BattleMasterExplosionOneFinal
  End
  ; A crushing defeat
  Behavior = DestroyDie DeathTag_02
    DeathTypes = NONE +CRUSHED +SPLATTED
  End
  Behavior = FXListDie DeathTag_03
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  Behavior = CreateObjectDie DeathTag_04
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_T90_CrushEffect
  End
  Behavior = CreateCrateDie DeathTag_05
    CrateData = SalvageCrateData
    ;CrateData = EliteTankCrateData
    ;CrateData = HeroicTankCrateData
  End
;Stealth-------------------------------------------------------------
;---------------------------------------------------------------------
   

  Behavior = StealthDetectorUpdate ModuleTag_05
    DetectionRate     = 500   ; how often to rescan for stealthed things in my sight (msec)
    DetectionRange   = 150   ;Dustin, enable this for independant balancing!
    CanDetectWhileGarrisoned  = No ;Garrisoned means being in a structure that you units can shoot out of.
    CanDetectWhileContained   = No ;Contained means being in a transport or tunnel network.
  End

  Behavior = TransitionDamageFX ModuleTag_06
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_07
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  ; Behavior = FireWeaponUpdate ModuleTag_08
    ; Weapon = EarlyAADetectWeapon
    ; ExclusiveWeaponDelay = 500
  ; End

  ; Behavior = GrantUpgradeCreate ModuleTag_09
    ; UpgradeToGrant = Upgrade_AirRadarDrone ;Air units are detecting ground vehicles
  ; End

  ; Behavior = StealthUpdate ModuleStealth_GPSScramblerGenericStealthModule
    ; StealthDelay                = 2000 ; msec
    ; InnateStealth               = Yes
    ; StealthForbiddenConditions  = ATTACKING USING_ABILITY
    ; OrderIdleEnemiesToAttackMeUponReveal  = Yes
    ; RequiredStatus = REASSIGN_PARKING
  ; End

  Geometry            = BOX
  GeometryMajorRadius = 14.0
  GeometryMinorRadius = 9.0
  GeometryHeight      = 14.0     
  GeometryIsSmall     = Yes
  Shadow              = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length    
  Scale = 1.05
End

;---------------------------------------------------------------
Object Boss_ChinaVehicleTyphoonLauncher

  ; *** ART Parameters ***
  SelectPortrait         = typhoon
  ButtonImage            = typhoon_s

  ;UpgradeCameo1 = Upgrade_ChinaOmegaBattleDrone

  Draw = W3DTruckDraw ModuleTag_01
    OkToChangeModelColor = Yes

     DefaultConditionState
      Model = NVTyphoon
      Turret = TURRET
      TurretPitch = TURRETEL
      WeaponLaunchBone = PRIMARY WeaponA
      ParticleSysBone   = EXHAUSTFX01 DozerSmokeLight
    End

    ConditionState      = MOVING
      ParticleSysBone   = EXHAUSTFX01 DozerSmokeHeavy
    End

    ConditionState = REALLYDAMAGED
      Model = NVTyphoon_d
    End
    AliasConditionState = RUBBLE

    TrackMarks = EXTireTrack.tga

    Dust = ScudLauncherDust
    DirtSpray = RocketBuggyDirtSpray
    PowerslideSpray = RocketBuggyDirtPowerSlide

    ; These parameters are only used if the model has a separate suspension,
    ; and the locomotor has HasSuspension = Yes.
    LeftFrontTireBone = Tire01
    RightFrontTireBone = Tire05
    LeftRearTireBone = Tire04
    RightRearTireBone = Tire08
    MidLeftFrontTireBone = Tire02
    MidRightFrontTireBone = Tire06
    MidLeftRearTireBone = Tire03
    MidRightRearTireBone = Tire07

    TireRotationMultiplier = 0.2   ; this * speed = rotation.
    ;PowerslideRotationAddition = 0.0   ; This speed is added to the rotation speed when powersliding.

  End


  ; ***DESIGN parameters ***

  DisplayName     = OBJECT:TyphoonLauncher
  Side = BossGeneral
  EditorSorting   = VEHICLE
  TransportSlotCount = 3                 ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions = None
    Weapon = PRIMARY TyphoonLauncherExplosive
  End
  ArmorSet
    Conditions      = None
    Armor           = TruckArmor
    DamageFX        = TankDamageFX
  End
  BuildCost       = 12000
  BuildTime       = 35.0         ;in seconds
  VisionRange     = 180
  ShroudClearingRange = 1500
  Prerequisites
    Object = Boss_WarFactory
    Object = Boss_TechCentr
  End

  ExperienceValue = 50 50 100 150   ;Experience point value at each level
  ExperienceRequired = 0 200 400 600  ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = ChinaVehicleTyphoonLauncherCommandSet

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK DONT_AUTO_CRUSH_INFANTRY CAN_CAST_REFLECTIONS VEHICLE SCORE

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 220.0
    InitialHealth   = 220.0
  End

  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      TurretTurnRate = 45   ; turn rate, in degrees per sec
      TurretPitchRate = 45
      FirePitch = 55  ; Instead of aiming pitchwise at the target, it will aim here
      AllowsPitch = Yes
      ControlledWeaponSlots = PRIMARY ;SECONDARY
    End
    AutoAcquireEnemiesWhenIdle = No NotWhileAttacking
  End

  Behavior = ObjectCreationUpgrade ModuleTag_22
    UpgradeObject = OCL_ChinaOmegaBattleDrone
    TriggeredBy   = Upgrade_ChinaOmegaBattleDrone
  End

  Behavior = ProductionUpdate ModuleTag_24
  End

  Behavior    = OCLSpecialPower ModuleTag_Laymines01
    SpecialPowerTemplate = SpecialAbilityLaymines
    OCL                  = OCL_AmericaBattleMines
  End

  Behavior = CommandButtonHuntUpdate  ModuleTag_04 ; allows use of command button hunt script with this unit.
  End

  Locomotor = SET_NORMAL TyphoonLocomotor
  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 40.0
  End

  Behavior = TransitionDamageFX ModuleTag_07
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_ScudLauncherDamageTransition
  End

  ; Catch fire, and explode death
  Behavior = SlowDeathBehavior ModuleTag_08
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier = 50
    DestructionDelay = 2000
    DestructionDelayVariance = 300
    FX  = INITIAL  FX_CrusaderCatchFire
    OCL = FINAL    OCL_SCUDLauncherDeathEffect
    FX  = FINAL    FX_ScudLauncherExplosionOneFinal
  End

  ; A crushing defeat
  Behavior = FXListDie ModuleTag_09
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End

  Behavior = CreateObjectDie ModuleTag_10
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_CrusaderTank_CrushEffect
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = DestroyDie ModuleTag_99
    DeathTypes = NONE +CRUSHED +SPLATTED
  End

  Geometry = BOX
  GeometryMajorRadius = 15.0
  GeometryMinorRadius = 8.0
  GeometryHeight = 13
  GeometryIsSmall = No
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object Boss_Soviet122mmCannon

  ; *** ART Parameters ***
  SelectPortrait = T-89_s
  ButtonImage = T-89

  Draw = W3DTankDraw ModuleTag_01
    OkToChangeModelColor = Yes
    ParticlesAttachedToAnimatedBones = Yes
    ExtraPublicBone = CORE
    InitialRecoilSpeed = 120
    MaxRecoilDistance = 3
    RecoilSettleSpeed = 1
    DefaultConditionState
      Model = CWCru2S1
      Turret = TURRET
      TurretPitch = TURRETEL
      WeaponFireFXBone = PRIMARY Muzzle
      WeaponRecoilBone = PRIMARY BARREL
      WeaponLaunchBone = PRIMARY Muzzle
      WeaponFireFXBone = SECONDARY Muzzle
      WeaponRecoilBone = SECONDARY BARREL
      WeaponLaunchBone = SECONDARY Muzzle
    End
    ConditionState = RELOADING_A
      Model = CWCru2S1
      ParticleSysBone = MUZZLE01 CWCgenArtMuzzleFlashBarrelSmoke
    End
    AliasConditionState RELOADING_B
    ConditionState = REALLYDAMAGED
      Model = CWCru2S1_d
    End
    ConditionState = RELOADING_A REALLYDAMAGED
      Model = CWCru2S1_d
      ParticleSysBone = MUZZLE01 CWCgenArtMuzzleFlashBarrelSmoke
    End
    AliasConditionState RELOADING_B REALLYDAMAGED
    ConditionState = RUBBLE
      Model = CWCru2S1_k
    End
    TrackMarks = EXTnkTrack.tga
    TreadAnimationRate = 2.0 ; amount of tread texture to move per second
  End

  ;---------------------------------------
  ; The brakes kick in
  ;---------------------------------------
  Draw = W3DModelDraw ModuleTag_BrakeDraw
    IgnoreConditionStates = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED RUBBLE
    AttachToBoneInAnotherModule = CORE
    ParticlesAttachedToAnimatedBones = Yes
    OkToChangeModelColor = Yes
    ;day, no lights, only if I brake
    ConditionState = NONE
      Model = CWCru2S1_l
      HideSubObject = HLIGHT01 HLIGHT02
      ParticleSysBone = BRAKE01 CWCgenRearLightBraking
      ParticleSysBone = BRAKE02 CWCgenRearLightBraking
    End
    ConditionState = MOVING
      Model = CWCru2S1_l
      HideSubObject = HLIGHT01 HLIGHT02
    End
    ;night, I always have my lights on when I move, and they flash whenever I brake
    ConditionState = NIGHT
      Model = CWCru2S1_l
      ParticleSysBone = BRAKE01 CWCgenRearLight
      ParticleSysBone = BRAKE02 CWCgenRearLight
      ShowSubObject = HLIGHT01 HLIGHT02
      ParticleSysBone = BRAKE01 CWCgenRearLightBraking
      ParticleSysBone = BRAKE02 CWCgenRearLightBraking
    End
    ConditionState = NIGHT MOVING
      Model = CWCru2S1_l
      ParticleSysBone = BRAKE01 CWCgenRearLight
      ParticleSysBone = BRAKE02 CWCgenRearLight
      ShowSubObject = HLIGHT01 HLIGHT02
    End
    ;enemynear, hide those red lights!
    ConditionState = ENEMYNEAR
      Model = CWCru2S1_l
      HideSubObject = HLIGHT01 HLIGHT02
    End
    AliasConditionState = MOVING ENEMYNEAR
    AliasConditionState = NIGHT ENEMYNEAR
    AliasConditionState = NIGHT MOVING ENEMYNEAR
  End

  ;---------------------------------------
  Draw = W3DTruckDraw ModuleTag_TracksDraw
    OkToChangeModelColor = Yes
    ParticlesAttachedToAnimatedBones = Yes
    AttachToBoneInAnotherModule = CORE
    DefaultConditionState
      Model = CWCru2S1_t
    End
    ; These parameters are only used if the model has a separate suspension,
    ; and the locomotor has HasSuspension = Yes.
    RightFrontTireBone = TIRE01
    LeftFrontTireBone = TIRE02
    MidRightFrontTireBone = TIRE03
    MidLeftFrontTireBone = TIRE04
    MidRightMidTireBone = TIRE05
    MidLeftMidTireBone = TIRE06
    MidRightRearTireBone = TIRE07
    MidLeftRearTireBone = TIRE08
    RightRearTireBone = TIRE09
    ;LeftRearTireBone = TIRE10
    TireRotationMultiplier = 0.4 ; this * speed = rotation.
  End

  ; ***DESIGN parameters ***
  DisplayName = OBJECT:Gvozdika
  Side = BossGeneral
  EditorSorting = VEHICLE
  TransportSlotCount = 4 ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions       = None
    Weapon           = PRIMARY Tank_InfernoCannonGun
  End

  ArmorSet
    Conditions = None
    Armor = TankArmor
    DamageFX = TankDamageFX
  End

  BuildCost = 2000
  BuildTime = 15.0 ;in seconds
  VisionRange = 180
  ShroudClearingRange = 550
  Prerequisites
    Object = Boss_WarFactory Boss_SmallFactory
  End

  ExperienceValue = 1100 1650 2200 3300 ;Experience point value at each level
  ExperienceRequired = 0 1067 2134 3735 ;Experience points needed to gain each level
  IsTrainable = Yes ;Can gain experience

  CrusherLevel = 2 ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel = 2 ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = ChinaVehicleInfernoCannonCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = CWCru2S1VoiceSelect
  VoiceMove = CWCru2S1VoiceMove
  VoiceAttack = CWCru2S1VoiceAttack
  VoiceGuard = CWCru2S1VoiceGuard
  SoundMoveLoop = CWCgenOldTreadsMoving
  UnitSpecificSounds
    VoiceCreate = CWCru2S1VoiceCreate
    TurretMoveLoop = CWCgenTurretServo
    VoiceCrush = CWCru2S1VoiceCrush
    VoiceEnter = CWCru2S1VoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = CAN_ATTACK CAN_CAST_REFLECTIONS DONT_AUTO_CRUSH_INFANTRY POWERED PRELOAD SCORE SELECTABLE VEHICLE 

  Body = ActiveBody ModuleTag_02
    MaxHealth = 120.0
    InitialHealth = 120.0
  End

  Behavior = DeployStyleAIUpdate ModuleTag_04
    Turret
      TurretTurnRate = 80
      TurretPitchRate = 80
      AllowsPitch = Yes
      FirePitch = 45
      NaturalTurretPitch = 4
      FiresWhileTurning = No
      RecenterTime = 2500
      ControlledWeaponSlots = PRIMARY
      InitiallyDisabled = Yes
    End
    AutoAcquireEnemiesWhenIdle = No NotWhileAttacking
    PackTime = 2000
    UnpackTime = 2000
    TurretsFunctionOnlyWhenDeployed = Yes
    TurretsMustCenterBeforePacking = Yes
    ResetTurretBeforePacking = Yes
  End

  Locomotor = SET_NORMAL CWCru2S1Locomotor CWCru2S1AmphibiousLocomotor

  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 50.0
  End

  ; Behavior = EnemyNearUpdate ModuleTag_Housecolor
    ; ;nothing
  ; End

  Behavior = StealthDetectorUpdate ModuleTag_DetectStealth_Vehicle01
    CanDetectWhileContained = No ; this is a vehicle ; Can the object detect stealth objects when it is inside an object?
    CanDetectWhileGarrisoned = No ; this is a vehicle ; Can the object detect stealth objects when it is inside an object with a GarrisonContain module?
    DetectionRange = 50 ; 1/2 its visionrange ; The maximum distance that the object can detect enemy stealthed obejcts. Defaults to the object's VisionRange.
    DetectionRate = 1000 ; The time between scanning for stealthed objects.
    ExtraRequiredKindOf = INFANTRY
    ExtraForbiddenKindOf = BOAT
    InitiallyDisabled = No ; Does the detector start off in a disabled state?
  End

; --- begin Death modules ---
  Behavior = TransitionDamageFX ModuleTag_Death01
    DamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenTankDeathSmokeDamaged
    DamagedFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDamageTransition
    ;
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenTankDeathSmokeReallyDamaged
    ReallyDamagedFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDamageTransition
    ;
    RubbleParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenTankDeathSmokeRubble
    RubbleFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDamageTransition
    RubbleFXList2 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDeathRubble1
  End
  Behavior = SlowDeathBehavior ModuleTag_Death02
    DestructionDelay = 18000
    FX = MIDPOINT FX_CWCgenTankDeathRubble2
    ;OCL = MIDPOINT OCL_CWCgenTankDeathTrails
    SinkDelay = 15000
    SinkRate = 4.0
  End
; --- end Death modules ---

  ClientUpdate = AnimatedParticleSysBoneClientUpdate ModuleTag_Client01
  End ; This allows the wingtip trails to stay stuck to the retractable wings

  ; Behavior = LockWeaponCreate ModuleTag_23
    ; SlotToLock = PRIMARY ; Prevents indeterminate state plus two unpickable weapons equaling no attack.
  ; End

  Geometry = BOX
  GeometryMajorRadius = 18.0
  GeometryMinorRadius = 7.5
  GeometryHeight = 7.0
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45 ; minimum elevation angle above horizon. Used to limit shadow length
  Scale = 1.1
End

; ;------------------------------------------------------------------------------
; Object Boss_Soviet122mmCannon

  ; ; *** ART Parameters ***
  ; SelectPortrait         = T-89_s
  ; ButtonImage            = T-89

  ; UpgradeCameo1 = Tank_Upgrade_ChinaTankAutoLoader
  ; UpgradeCameo2 = Upgrade_ChinaOmegaBattleDrone
  ; ;UpgradeCameo3 = NONE
  ; ;UpgradeCameo4 = NONE
  ; ;UpgradeCameo5 = NONE

  ; Draw                    = W3DTankDraw ModuleTag_01
    ; OkToChangeModelColor  = Yes
    ; ConditionState        = NONE
      ; Model               = NVT-89
      ; Turret              = Turret01
      ; TurretPitch         = TurretEL
      ; WeaponFireFXBone    = PRIMARY Muzzle
      ; WeaponMuzzleFlash   = PRIMARY MuzzleFX
      ; WeaponRecoilBone    = PRIMARY Barrel
      ; WeaponLaunchBone    = PRIMARY Muzzle
    ; End

    ; ConditionState        = RUBBLE REALLYDAMAGED
      ; Model               = NVT-89_D
      ; Turret              = Turret01
      ; TurretPitch         = TurretEL
      ; WeaponFireFXBone    = PRIMARY Muzzle
      ; WeaponRecoilBone    = PRIMARY Barrel
      ; WeaponMuzzleFlash   = PRIMARY MuzzleFX
      ; WeaponLaunchBone    = PRIMARY Muzzle
    ; End

    ; TrackMarks           = EXTnkTrack.tga
    ; TreadAnimationRate      = 2.0  ; amount of tread texture to move per second
  ; End

  ; ; ***DESIGN parameters ***
  ; DisplayName        = OBJECT:T-89
  ; Side               = BossGeneral
  ; EditorSorting      = VEHICLE
  ; TransportSlotCount = 3                 ;how many "slots" we take in a transport (0 == not transportable)
  ; WeaponSet
    ; Conditions       = None
    ; Weapon           = PRIMARY Tank_InfernoCannonGun
  ; End
  ; WeaponSet
    ; Conditions       = PLAYER_UPGRADE
    ; Weapon           = PRIMARY Tank_InfernoCannonGunUpgraded
  ; End
  ; ArmorSet
    ; Conditions      = None
    ; Armor           = TankArmor
    ; DamageFX        = TankDamageFX
  ; End
  ; BuildCost          = 2000
  ; BuildTime          = 15.0          ;in seconds
  ; VisionRange        = 180
  ; ShroudClearingRange = 550
  ; Prerequisites
    ; Object           = Boss_WarFactory Boss_SmallFactory
  ; End

  ; ExperienceValue = 50 50 100 150    ;Experience point value at each level
  ; ExperienceRequired = 0 100 200 400  ;Experience points needed to gain each level
  ; IsTrainable = Yes             ;Can gain experience
  ; CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  ; CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  ; CommandSet      = ChinaVehicleInfernoCannonCommandSet

  ; ; *** AUDIO Parameters ***
  ; VoiceSelect       = HowitzerVoiceSelect
  ; VoiceMove         = HowitzerVoiceMove
  ; VoiceGuard        = HowitzerVoiceMove
  ; VoiceAttack       = HowitzerVoiceAttack
  ; SoundMoveStart        = InfernoCannonMoveStart
  ; SoundMoveStartDamaged = InfernoCannonMoveStart
  ; UnitSpecificSounds
    ; VoiceCreate     = HowitzerVoiceCreate
    ; TurretMoveStart = NoSound
    ; TurretMoveLoop  = NoSound
    ; VoiceCrush      = HowitzerVoiceMove
    ; VoiceEnter      = HowitzerVoiceMove
  ; End


  ; ; *** ENGINEERING Parameters ***
  ; RadarPriority     = UNIT
  ; KindOf            = PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS VEHICLE SCORE

  ; Body              = ActiveBody ModuleTag_02
    ; MaxHealth       = 120.0
    ; InitialHealth   = 120.0

    ; ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    ; SubdualDamageCap = 240
    ; SubdualDamageHealRate = 500
    ; SubdualDamageHealAmount = 50
  ; End

  ; Behavior = AIUpdateInterface ModuleTag_04
    ; Turret
      ; TurretTurnRate = 100
      ; TurretPitchRate = 100
      ; AllowsPitch = Yes
      ; FirePitch = 45
      ; ControlledWeaponSlots = PRIMARY
    ; End
    ; AutoAcquireEnemiesWhenIdle = No NotWhileAttacking
  ; End
  ; Locomotor = SET_NORMAL InfernoLocomotor
  ; Behavior = PhysicsBehavior ModuleTag_05
    ; Mass = 50.0
  ; End

  ; ; A crushing defeat
  ; Behavior               = FXListDie ModuleTag_06
    ; DeathTypes = NONE +CRUSHED +SPLATTED
    ; DeathFX         = FX_CarCrush
  ; End
  ; Behavior               = CreateObjectDie ModuleTag_07
    ; DeathTypes = NONE +CRUSHED +SPLATTED
    ; CreationList    = OCL_CrusaderTank_CrushEffect
  ; End
  ; Behavior = SlowDeathBehavior ModuleTag_08
    ; DeathTypes = ALL -CRUSHED -SPLATTED
    ; ProbabilityModifier = 50
    ; DestructionDelay = 2000
    ; DestructionDelayVariance = 300
    ; FX  = INITIAL  FX_CrusaderCatchFire
    ; FX  = FINAL    FX_GenericTankDeathExplosion
    ; OCL = FINAL    OCL_T-89HowitzerDeathEffect
  ; End

  ; Behavior                 = TransitionDamageFX ModuleTag_09
    ; ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
    ; ReallyDamagedFXList1 = Loc: X:-7 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  ; End

  ; Behavior = WeaponSetUpgrade ModuleTag_90
    ; TriggeredBy = Tank_Upgrade_ChinaTankAutoLoader
  ; End

  ; Behavior = ObjectCreationUpgrade ModuleTag_13
    ; UpgradeObject = OCL_ChinaOmegaBattleDrone
    ; TriggeredBy   = Upgrade_ChinaOmegaBattleDrone
  ; End

  ; Behavior = ProductionUpdate ModuleTag_24
    ; MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  ; End

  ; Behavior    = OCLSpecialPower ModuleTag_Laymines01
    ; SpecialPowerTemplate = SpecialAbilityLaymines
    ; OCL                  = OCL_AmericaBattleMines
  ; End

  ; Behavior         = CreateCrateDie ModuleTag_10
    ; CrateData = SalvageCrateData
    ; ;CrateData = EliteTankCrateData
    ; ;CrateData = HeroicTankCrateData
  ; End

  ; Behavior = FlammableUpdate ModuleTag_21
    ; AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    ; AflameDamageAmount = 3       ; taking this much damage...
    ; AflameDamageDelay = 500       ; this often.
  ; End

  ; Behavior = DestroyDie ModuleTag_22
    ; DeathTypes = NONE +CRUSHED +SPLATTED
  ; End

  ; Geometry            = BOX
  ; GeometryMajorRadius = 15.0
  ; GeometryMinorRadius = 10.0
  ; GeometryHeight      = 15.0
  ; GeometryIsSmall     = Yes
  ; Shadow              = SHADOW_VOLUME
  ; ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length
  ; Scale = 1.02
; End

;------------------------------------------------------------------------------
Object Boss_ChinaNavySub

  SelectPortrait = Sub
  ButtonImage    = Sub
 
  ;UpgradeCameo1 = Upgrade_GammaRad
  
  ; *** ART Parameters ***
  Draw                   = W3DTankDraw ModuleTag_01
    OkToChangeModelColor = Yes
	ExtraPublicBone = Turret01
    ConditionState       = NONE
      Model              = NVSub
      Animation          = NVSUB.NVSUB
      AnimationMode      = LOOP
      WeaponFireFXBone   = PRIMARY WEAPONA
      WeaponRecoilBone   = PRIMARY WEAPONA
      ;WeaponFireFXBone   = SECONDARY WEAPONA
	  WeaponFireFXBone   = SECONDARY MISSILE
      ;WeaponRecoilBone   = SECONDARY WEAPONA
	  WeaponRecoilBone   = SECONDARY TURRET01
	  WeaponFireFXBone   = TERTIARY WEAPONA
      WeaponRecoilBone   = TERTIARY WEAPONA
	  HideSubObject                   = Turret01      ;Hide controlled turret
      ShowSubObject                   = TURRETBACK  ;Show pack/unpack animated turret
      Turret                          = Turret01
      TurretPitch                     = Turret01;TurretEL
	  
    End
    ConditionState       = DAMAGED
      Model              = NVSub_D
      Animation          = NVSub_D.NVSub_D
      AnimationMode      = LOOP
      WeaponFireFXBone   = PRIMARY WEAPONA
      WeaponRecoilBone   = PRIMARY WEAPONA
      ;WeaponFireFXBone   = SECONDARY WEAPONA
      ;WeaponRecoilBone   = SECONDARY WEAPONA
	  WeaponFireFXBone   = SECONDARY MISSILE
	  WeaponRecoilBone   = SECONDARY TURRET01
	  WeaponFireFXBone   = TERTIARY WEAPONA
      WeaponRecoilBone   = TERTIARY WEAPONA
	  HideSubObject                   = Turret01      ;Hide controlled turret
      ShowSubObject                   = TURRETFRONT TURRETBACK  ;Show pack/unpack animated turret
      Turret                          = Turret01
      TurretPitch                     = TurretEL
    End
  End

  ; ***DESIGN parameters ***
  DisplayName            = CONTROLBAR:ConstructChinaNavySub
  Side                   = BossGeneral
  EditorSorting          = VEHICLE
  TransportSlotCount     = 0                 ;how many "slots" we take in a transport (0 == not transportable)
  ExperienceValue         = 500 500 1000 1500  ;Experience point value at each level
  ExperienceRequired      = 0 500 1000 2000   ;Experience points needed to gain each level
  IsTrainable             = Yes             ;Can gain experience
  CommandSet             = Boss_SubCommandSet
  ;CommandSet = MilitiaVehiclePatriotSystemCommandSet
  WeaponSet
    Conditions           = None 
    Weapon               = PRIMARY SubShipMissile
    ;Weapon               = SECONDARY SubCruiseMissile
	Weapon               = SECONDARY AkulaLauncherExplosive
	AutoChooseSources    = SECONDARY    NONE
	Weapon               = TERTIARY SubCruiseMissile
    AutoChooseSources    = TERTIARY    NONE
  End
  WeaponSet
    Conditions = PLAYER_UPGRADE
    Weapon               = PRIMARY SubShipMissileUPGRADE
    ;Weapon               = SECONDARY SubCruiseMissileUPGRADE
	Weapon               = SECONDARY AkulaLauncherExplosive
	AutoChooseSources    = SECONDARY    NONE
	Weapon               = TERTIARY SubCruiseMissileUPGRADE
    AutoChooseSources    = TERTIARY    NONE
  End
  ;MaxSimultaneousOfType = 6
  ArmorSet
    Conditions        = None
    Armor             = TankArmor
    DamageFX          = TankDamageFX
  End
  BuildCost = 60000
  BuildTime = 40.0
  VisionRange         = 750
  ShroudClearingRange = 500
  Prerequisites
     Object = Boss_WarFactory
     Object = Boss_TechCentr
	 Object = Boss_EnergyPlant
  End
  ; *** AUDIO Parameters ***
  VoiceSelect           = NukeCannonVoiceAttack ;NukeCannonVoiceSelect
  VoiceMove             = NukeCannonVoiceMove
  VoiceGuard            = NukeCannonVoiceMove
  VoiceAttack           = NukeCannonVoiceAttack
  SoundMoveStart        = BattleshipAmbientLoop
  SoundMoveStartDamaged = BattleshipAmbientLoop
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate         = NukeCannonVoiceCreate
    VoiceEnter          = NukeCannonVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority          = UNIT
  KindOf                 = PRELOAD CAN_CAST_REFLECTIONS VEHICLE SCORE SELECTABLE

  Body = ActiveBody ModuleTag_02
    MaxHealth            = 25000.0
    InitialHealth        = 25000.0
  End

  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      TurretTurnRate     = 360
      TurretPitchRate    = 360
      FirePitch          = 90            ; Instead of aiming pitchwise at the target, it will aim here
      AllowsPitch        = Yes
      RecenterTime       = 0       ; how long to wait during idle before recentering
      ControlledWeaponSlots = PRIMARY SECONDARY
      NaturalTurretAngle = 180  ; this turret points backwards normally
    End
  End

  Locomotor = SET_NORMAL SubLocomotor

  Behavior               = PhysicsBehavior ModuleTag_04
    Mass                 = 3000.0
  End

  Behavior = FireWeaponPower ModuleTag_FireWeapon01
    SpecialPowerTemplate = SpecialPowerSubCruiseMissile
    MaxShotsToFire    = 1
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 5       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = SlowDeathBehavior ModuleTag_58
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier = 25
    SinkDelay           = 19000
    SinkRate            = 1.5     ; in Dist/Sec
    DestructionDelay = 65000
    DestructionDelayVariance = 000
  End

  ; Behavior = WeaponSetUpgrade ModuleTag_WeaponSetUpgrade02011
    ; TriggeredBy = Upgrade_GammaRad
  ; End

  Behavior = StealthUpdate ModuleTag_22
    StealthDelay                = 5000 ; msec
    StealthForbiddenConditions  = ATTACKING
    InnateStealth               = Yes
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
  End

  Geometry               = BOX
  Scale 	         = 0.85
  GeometryMajorRadius    = 75.0
  GeometryMinorRadius    = 15.0
  GeometryHeight         = 40     
  GeometryIsSmall        = No 
  Shadow                 = SHADOW_VOLUME   

End



;----------------------------------------------------------------------
Object Boss_RussiaNavalYard

  ; *** ART Parameters ***
  SelectPortrait = SACWeaponsfact_L
  ButtonImage            = SACWeaponsfact

  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes

    DefaultConditionState
      Model           = 12UNY
      ParticleSysBone = Stack01 SteamVent
      ParticleSysBone = Stack02 SteamVent
    End
    AliasConditionState  = NIGHT
    AliasConditionState  = SNOW
    AliasConditionState  = NIGHT SNOW

    ConditionState = DAMAGED
      Model           = 12UNY_D
      ParticleSysBone = Stack01 SteamVent
      ParticleSysBone = Stack02 SteamVent
      ParticleSysBone = Smoke01 SmolderingSmoke
      ParticleSysBone = Smoke02 SmolderingSmoke
      ParticleSysBone = Fire01 SmolderingFire
      ParticleSysBone = Fire01 SmolderingSmoke
   End
    AliasConditionState  = NIGHT DAMAGED
    AliasConditionState  = SNOW DAMAGED
    AliasConditionState  = NIGHT SNOW DAMAGED

    ConditionState = REALLYDAMAGED RUBBLE
      Model           = 12UNY_E
      ParticleSysBone = Stack01 SteamVent
      ParticleSysBone = Stack02 SteamVent
      ParticleSysBone = Smoke01 SmolderingSmoke
      ParticleSysBone = Smoke02 SmolderingSmoke
      ParticleSysBone = Smoke03 SmolderingSmoke
      ParticleSysBone = Smoke04 SmolderingSmoke
      ParticleSysBone = Fire01 SmolderingFireLarge
      ParticleSysBone = Fire01 SmolderingSmoke
      ParticleSysBone = Fire02 SmolderingFireLarge
      ParticleSysBone = Fire02 SmolderingSmoke
      ParticleSysBone = SPARKS01 LiveWireSparks02
    End
    AliasConditionState  = NIGHT REALLYDAMAGED
    AliasConditionState  = SNOW REALLYDAMAGED
    AliasConditionState  = NIGHT SNOW REALLYDAMAGED

    ;**************************************************************************************************************************
    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ;for this draw module
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = 12UNY
      ParticleSysBone = Stack01 SteamVent
      ParticleSysBone = Stack02 SteamVent
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = 12UNY_D
      ParticleSysBone = Stack01 SteamVent
      ParticleSysBone = Stack02 SteamVent
      ParticleSysBone = Smoke01 SmolderingSmoke
      ParticleSysBone = Smoke02 SmolderingSmoke
      ParticleSysBone = Fire01 SmolderingFire
      ParticleSysBone = Fire01 SmolderingSmoke
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = 12UNY_E
      ParticleSysBone = Stack01 SteamVent
      ParticleSysBone = Stack02 SteamVent
      ParticleSysBone = Smoke01 SmolderingSmoke
      ParticleSysBone = Smoke02 SmolderingSmoke
      ParticleSysBone = Smoke03 SmolderingSmoke
      ParticleSysBone = Smoke04 SmolderingSmoke
      ParticleSysBone = Fire01 SmolderingFireLarge
      ParticleSysBone = Fire01 SmolderingSmoke
      ParticleSysBone = Fire02 SmolderingFireLarge
      ParticleSysBone = Fire02 SmolderingSmoke
      ParticleSysBone = SPARKS01 LiveWireSparks02
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
      Model              = 12UNY
      ParticleSysBone = Stack01 SteamVent
      ParticleSysBone = Stack02 SteamVent
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
      Model              = 12UNY_D
      ParticleSysBone = Stack01 SteamVent
      ParticleSysBone = Stack02 SteamVent
      ParticleSysBone = Smoke01 SmolderingSmoke
      ParticleSysBone = Smoke02 SmolderingSmoke
      ParticleSysBone = Fire01 SmolderingFire
      ParticleSysBone = Fire01 SmolderingSmoke
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
      Model              = 12UNY_E
      ParticleSysBone = Stack01 SteamVent
      ParticleSysBone = Stack02 SteamVent
      ParticleSysBone = Smoke01 SmolderingSmoke
      ParticleSysBone = Smoke02 SmolderingSmoke
      ParticleSysBone = Smoke03 SmolderingSmoke
      ParticleSysBone = Smoke04 SmolderingSmoke
      ParticleSysBone = Fire01 SmolderingFireLarge
      ParticleSysBone = Fire01 SmolderingSmoke
      ParticleSysBone = Fire02 SmolderingFireLarge
      ParticleSysBone = Fire02 SmolderingSmoke
      ParticleSysBone = SPARKS01 LiveWireSparks02
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model              = 12UNY
      ParticleSysBone = Stack01 SteamVent
      ParticleSysBone = Stack02 SteamVent
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
      Model              = 12UNY_D
      ParticleSysBone = Stack01 SteamVent
      ParticleSysBone = Stack02 SteamVent
      ParticleSysBone = Smoke01 SmolderingSmoke
      ParticleSysBone = Smoke02 SmolderingSmoke
      ParticleSysBone = Fire01 SmolderingFire
      ParticleSysBone = Fire01 SmolderingSmoke
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
      Model              = 12UNY_E
      ParticleSysBone = Stack01 SteamVent
      ParticleSysBone = Stack02 SteamVent
      ParticleSysBone = Smoke01 SmolderingSmoke
      ParticleSysBone = Smoke02 SmolderingSmoke
      ParticleSysBone = Smoke03 SmolderingSmoke
      ParticleSysBone = Smoke04 SmolderingSmoke
      ParticleSysBone = Fire01 SmolderingFireLarge
      ParticleSysBone = Fire01 SmolderingSmoke
      ParticleSysBone = Fire02 SmolderingFireLarge
      ParticleSysBone = Fire02 SmolderingSmoke
      ParticleSysBone = SPARKS01 LiveWireSparks02
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
      Model              = 12UNY
      ParticleSysBone = Stack01 SteamVent
      ParticleSysBone = Stack02 SteamVent
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
      Model              = 12UNY_D
      ParticleSysBone = Stack01 SteamVent
      ParticleSysBone = Stack02 SteamVent
      ParticleSysBone = Smoke01 SmolderingSmoke
      ParticleSysBone = Smoke02 SmolderingSmoke
      ParticleSysBone = Fire01 SmolderingFire
      ParticleSysBone = Fire01 SmolderingSmoke
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
      Model              = 12UNY_E
      ParticleSysBone = Stack01 SteamVent
      ParticleSysBone = Stack02 SteamVent
      ParticleSysBone = Smoke01 SmolderingSmoke
      ParticleSysBone = Smoke02 SmolderingSmoke
      ParticleSysBone = Smoke03 SmolderingSmoke
      ParticleSysBone = Smoke04 SmolderingSmoke
      ParticleSysBone = Fire01 SmolderingFireLarge
      ParticleSysBone = Fire01 SmolderingSmoke
      ParticleSysBone = Fire02 SmolderingFireLarge
      ParticleSysBone = Fire02 SmolderingSmoke
      ParticleSysBone = SPARKS01 LiveWireSparks02
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End

    ConditionState       = AWAITING_CONSTRUCTION
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    ;**************************************************************************************************************************


  End

  PlacementViewAngle = -135

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:USANavalYard
  Side             = BossGeneral
  EditorSorting    = STRUCTURE
  Prerequisites
     Object = Boss_WarFactory
  End
  BuildCost        = 2000
  BuildTime        = 12

  EnergyProduction = -1 ;-20
  CommandSet       = Boss_RussiaNavalYardCommandSet
  VisionRange     = 200.0
  ShroudClearingRange = 200
  ArmorSet
    Conditions      = None
    Armor           = StructureArmor
    DamageFX        = StructureDamageFXNoShake
  End
  ExperienceValue     = 200 200 200 200  ; Experience point value at each level

  ; *** AUDIO Parameters ***
  VoiceSelect = WarFactoryUSASelect
  SoundOnDamaged        = BuildingDamagedStateLight
  SoundOnReallyDamaged  = BuildingDestroy

  UnitSpecificSounds
    UnderConstruction     = UnderConstructionLoop
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority   = STRUCTURE
  KindOf          = PRELOAD STRUCTURE SELECTABLE IMMOBILE REPAIR_PAD SCORE CAPTURABLE FS_FACTORY AUTO_RALLYPOINT MP_COUNT_FOR_VICTORY FS_WARFACTORY
  Body            = StructureBody ModuleTag_09
    MaxHealth       = 2000.0
    InitialHealth   = 2000.0
    SubdualDamageCap = 2200
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
  End

  Behavior = ProductionUpdate ModuleTag_10
  ;EMPTY
  End

  Behavior = DefaultProductionExitUpdate ModuleTag_11
    UnitCreatePoint   = X: -255.844  Y:1.194   Z:0.257
    NaturalRallyPoint = X: -306.994  Y:-225.627   Z:0.257
  End

  Behavior = RepairDockUpdate ModuleTag_12
    TimeForFullHeal   = 5000   ;(in milliseconds)
    NumberApproachPositions = 5
  End

  Behavior = BaseRegenerateUpdate ModuleTag_13
    ;No data
  End


  Behavior = TransitionDamageFX ModuleTag_15
    ;-------------DESIGNED FOR MEDIUM SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionMediumExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionMediumShockwave
  End

  ; Behavior             = CreateObjectDie ModuleTag_16
    ; CreationList  = OCL_AmericanRangerDebris05
    ; ExemptStatus  = UNDER_CONSTRUCTION
  ; End

  Behavior = FlammableUpdate ModuleTag_18
    AflameDuration = 5000
    AflameDamageAmount = 5
    AflameDamageDelay = 500
  End

  Behavior             = CreateObjectDie ModuleTag_20
    CreationList  = OCL_LargeStructureDebris
  End

  Behavior             = FXListDie ModuleTag_21
    DeathFX       = FX_StructureMediumDeath
  End

  Behavior             = DestroyDie ModuleTag_22
    ;nothing
  End

  Geometry            = BOX
  GeometryMajorRadius = 10.0
  GeometryMinorRadius = 10.0
  GeometryHeight      = 60.0
  GeometryIsSmall     = No
  FactoryExitWidth    = 25     ; How much space to leave for units exiting.
  Shadow          = SHADOW_VOLUME
  BuildCompletion = PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
Object Boss_SovietTankT55

  SelectPortrait         = SMMilitiaTnk
  ButtonImage            = SMMilitiaTnk

  Draw = W3DOverlordTankDraw ModuleTag_01
    DefaultConditionState
      Model = CVTank
      Turret = Turret01
      WeaponFireFXBone = PRIMARY MuzzleFX
      WeaponRecoilBone = PRIMARY Barrel
      WeaponMuzzleFlash = PRIMARY MuzzleFX
      WeaponLaunchBone = PRIMARY MuzzleFX
    End
    ConditionState = REALLYDAMAGED
      Model = CVTank_D
    End
    ConditionState = RUBBLE
      Model = CVTank_D
    End
    TrackMarks           = EXTnkTrack.tga
    TreadAnimationRate      = 2.0  ; amount of tread texture to move per second
    TreadDriveSpeedFraction = 0.3  ; fraction of locomotor speed below which treads stop moving.
    TreadPivotSpeedFraction = 0.6  ; fraction of locomotor speed below which we allow pivoting.
    OkToChangeModelColor = Yes
  End
  DisplayName = OBJECT:MilitiaTank
  Side = BossGeneral
  EditorSorting = VEHICLE
  TransportSlotCount = 3
  WeaponSet
    Conditions = None
    Weapon = PRIMARY MilitiaTankGun
  End
  WeaponSet
    Conditions        = PLAYER_UPGRADE
    Weapon            = PRIMARY MilitiaTankGun
    Weapon            = SECONDARY MilitiaBuildingAirDummy ;Dummy weapon that allows manual targeting of air units outside range; gattling cannon upgrade has been made.
  End

  ArmorSet
    Conditions = None
    Armor = TankArmor
    DamageFX = TankDamageFX
  End
  BuildCost = 300
  BuildTime = 6.0
  VisionRange = 150
  ShroudClearingRange = 300
  Prerequisites
    Object = Boss_WarFactory Boss_SmallFactory
  End
  ExperienceValue = 100 100 200 400
  ExperienceRequired = 0 200 300 600
  IsTrainable = Yes
  CrusherLevel = 1
  CrushableLevel = 2
  CommandSet = SovietTankT55CommandSet
  VoiceSelect = MilitiaTankVoiceSelect
  VoiceMove = MilitiaTankVoiceMove
  VoiceAttack = MilitiaTankVoiceAttack
  SoundMoveStart = MilitiaTankMoveStart
  SoundMoveStartDamaged = NoSound
  UnitSpecificSounds
    TurretMoveStart = NoSound
    TurretMoveLoop = NoSound
    VoiceCreate = MilitiaTankVoiceCreate
  End
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS VEHICLE HUGE_VEHICLE SCORE ATTACK_NEEDS_LINE_OF_SIGHT
  Body = ActiveBody ModuleTag_02
    MaxHealth = 480
    InitialHealth = 480
  End
  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      TurretTurnRate = 140
      ControlledWeaponSlots = PRIMARY
    End
    AutoAcquireEnemiesWhenIdle = Yes
  End
  Locomotor = SET_NORMAL MilitiaTankLocomotor
  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 50.0
  End
  Behavior = ProductionUpdate ModuleTag_05
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End

  Behavior = OverlordContain ModuleTag_06 ; Like Transport, but when full, passes transport queries along to first passenger (redirects like tunnel)
    Slots                 = 1
    DamagePercentToUnits        = 100%
    AllowInsideKindOf     = PORTABLE_STRUCTURE
    PassengersAllowedToFire = Yes
    PassengersInTurret = No ; My passengers ride in my turret, that's where the Firepoint bones are
    ExperienceSinkForRider = Yes ; I get the Exp for things my turret friend kills
  End

  Behavior = ObjectCreationUpgrade ModuleTag_07
    UpgradeObject = OCL_MilitiaMacGun
    TriggeredBy   = Upgrade_MilitiaMacGun
  End

  Behavior = SlowDeathBehavior ModuleTag_08
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier = 50
    DestructionDelay = 500
    DestructionDelayVariance = 100
    FX = INITIAL FX_GenericTankDeathEffect
    OCL = MIDPOINT OCL_MilitiaTankDeathEffect
    FX = FINAL FX_GenericTankDeathExplosion
  End
  Behavior = SlowDeathBehavior ModuleTag_09
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier = 50
    DestructionDelay = 2000
    DestructionDelayVariance = 300
    FX = INITIAL FX_CrusaderCatchFire
    OCL = FINAL OCL_MilitiaTankDeathEffect
    FX = FINAL FX_GenericTankDeathExplosion
  End
  Behavior = TransitionDamageFX ModuleTag_10
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_CrusaderDamageTransition
  End
  Behavior = DestroyDie ModuleTag_11
    DeathTypes = NONE +CRUSHED +SPLATTED
  End
  Behavior = FXListDie ModuleTag_12
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  Behavior = CreateObjectDie ModuleTag_13
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_CrusaderTank_CrushEffect
  End
  Behavior = CreateCrateDie ModuleTag_CratesChange
   CrateData = SalvageCrateData
  End
  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000
    AflameDamageAmount = 5
    AflameDamageDelay = 500
  End
  Geometry = BOX
  GeometryMajorRadius = 15.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 10.0
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45
  Scale = 1.05
End

;------------------------------------------------------------------------------
Object Boss_RussiaInfantryGunner

  ; *** ART Parameters ***
  SelectPortrait         = SNHeavySoldier_L
  ButtonImage            = SNHeavySoldier

  UpgradeCameo1 = Upgrade_InfantryCaptureBuilding

  Draw = W3DModelDraw ModuleTag_01

    OkToChangeModelColor = Yes

    ; this says "we don't use these condition states at all, so completely
    ; ignore them for purposes of matchmaking"... this is useful to help
    ; reduce the number of AliasConditionState clauses you must add in
    ; order to avoid ambiguity in some cases.
    IgnoreConditionStates = PREATTACK_A FIRING_A BETWEEN_FIRING_SHOTS_A RELOADING_A

    ; ------- Standing-Around Animations

    DefaultConditionState
      Model               = NIFOOTMAN
      IdleAnimation       = NIFOOTMAN_S.NIFOOTMAN_ST 0 35
      IdleAnimation       = NIFOOTMAN_S.NIFOOTMAN_I1
      IdleAnimation       = NIFOOTMAN_S.NIFOOTMAN_I2
      AnimationMode       = ONCE
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      TransitionKey       = TRANS_Stand
    End

    ConditionState        = REALLYDAMAGED
      IdleAnimation       = NIFOOTMAN_S.NIFOOTMAN_ST
      AnimationMode       = ONCE
      TransitionKey       = TRANS_StandDamaged
    End

    ; ------- Machine Gun Animations
    ConditionState      = USING_WEAPON_A
      Animation         = NIFOOTMAN_S.NIFOOTMAN_A1
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Firing
    End

    ConditionState      = USING_WEAPON_A REALLYDAMAGED
      Animation         = NIFOOTMAN_S.NIFOOTMAN_A1
      AnimationMode     = LOOP
      TransitionKey     = TRANS_FiringDamaged
    End

    ; ------- Firing-related Transitions
    TransitionState   = TRANS_Firing TRANS_FiringDamaged
      Animation         = NIFOOTMAN_S.NIFOOTMAN_A1
      AnimationMode   = ONCE
    End

    TransitionState   = TRANS_Stand TRANS_Firing
      Animation         = NIFOOTMAN_S.NIFOOTMAN_A1
      AnimationMode   = ONCE
    End

    TransitionState   = TRANS_Firing TRANS_Stand
      Animation         = NIFOOTMAN_S.NIFOOTMAN_A1
      AnimationMode   = ONCE
    End

    TransitionState   = TRANS_StandDamaged TRANS_FiringDamaged
      Animation         = NIFOOTMAN_S.NIFOOTMAN_A1
      AnimationMode   = ONCE
    End

    TransitionState   = TRANS_FiringDamaged TRANS_StandDamaged
      Animation         = NIFOOTMAN_S.NIFOOTMAN_A1
      AnimationMode   = ONCE
    End

    ; ------------- Damage Transitions --------------------
    TransitionState = TRANS_StandDamaged TRANS_RunDamaged
      Animation = NIFOOTMAN_S.NIFOOTMAN_ST
      AnimationMode = ONCE
      AnimationSpeedFactorRange = 2 2
    End
    TransitionState = TRANS_RunDamaged TRANS_StandDamaged
      Animation = NIFOOTMAN_S.NIFOOTMAN_ST
      AnimationMode = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2 2
      Flags = START_FRAME_LAST
    End
    TransitionState = TRANS_Stand TRANS_StandDamaged
      Animation = NIFOOTMAN_S.NIFOOTMAN_ST
      AnimationMode = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 4 5
      Flags = START_FRAME_LAST
    End

    ; ------- Movement Animations

    ConditionState      = MOVING
      Animation         = NIFOOTMAN_S.NIFOOTMAN_R1 26
      AnimationMode     = LOOP
      Flags             = RANDOMSTART
      TransitionKey     = None
      ParticleSysBone   = None InfantryDustTrails
    End
    AliasConditionState = MOVING ATTACKING

    ConditionState = MOVING REALLYDAMAGED
      Animation         = NIFOOTMAN_S.NIFOOTMAN_W2 28
      AnimationMode     = LOOP
      Flags             = RANDOMSTART
      TransitionKey     = TRANS_RunDamaged
      TransitionKey     = None
    End
    AliasConditionState = MOVING ATTACKING REALLYDAMAGED

    ; ------- Dying Animations

    ConditionState      = DYING
      Animation         = NIFOOTMAN_S.NIFOOTMAN_DB1
      Animation         = NIFOOTMAN_S.NIFOOTMAN_DB3
      Animation         = NIFOOTMAN_S.NIFOOTMAN_DF1
      AnimationMode     = ONCE
      TransitionKey     = TRANS_Dying
    End

    TransitionState     = TRANS_Dying TRANS_Flailing
      Animation         = NIFOOTMAN_S.NIFOOTMAN_DB2
      AnimationMode     = ONCE
    End

    ConditionState      = DYING EXPLODED_FLAILING
      Animation         = NIFOOTMAN_S.NIFOOTMAN_DB2
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Flailing
    End

    ConditionState      = DYING EXPLODED_BOUNCING
      Animation         = NIFOOTMAN_S.NIFOOTMAN_DB2
      AnimationMode     = ONCE
      TransitionKey     = None
    End

  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:HeavyGunner
  Side                = BossGeneral
  EditorSorting       = INFANTRY
  TransportSlotCount  = 1                 ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions = None
    Weapon = PRIMARY HeavyGunnerMachineGun
  End
  ArmorSet
    Conditions      = None
    Armor           = HumanArmor
    DamageFX        = InfantryDamageFX
  End
  VisionRange = 100
  ShroudClearingRange = 200
  Prerequisites
    Object = Boss_Barracks
  End
  BuildCost     = 10
  BuildTime     = 5.0          ;in seconds

  ExperienceValue = 5 5 10 20   ;Experience point value at each level
  ExperienceRequired = 0 20 40 80  ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrushableLevel         = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet    = RussiaInfantryGunnerCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = RedGuardVoiceSelect
  VoiceMove = RedGuardVoiceMove
  VoiceGuard = RedGuardVoiceMove
  VoiceAttack = RedGuardVoiceAttack
  VoiceGroupSelect = BattleCrySound
  VoiceFear = RedGuardVoiceFear
  VoiceTaskComplete = RedGuardVoiceCaptureComplete
  UnitSpecificSounds
    VoiceMelee      = RedGuardVoiceAttackBayonet
    VoiceGarrison   = RedGuardVoiceGarrison
    VoiceCreate     = RedGuardVoiceCreate
    VoiceSubdue     = RedGuardVoiceSubdue
    VoiceEnter      = RedGuardVoiceMove
    VoiceEnterHostile = RedGuardVoiceMove
    VoiceGetHealed      = RedGuardVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY SCORE PARACHUTABLE

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 240.0
    InitialHealth   = 240.0
  End

  Behavior = VeterancyGainCreate ModuleTag_03
    StartingLevel = VETERAN
  End

  Behavior = AIUpdateInterface ModuleTag_04
    AutoAcquireEnemiesWhenIdle = Yes
  End

  Behavior = CommandButtonHuntUpdate  ModuleTag_05 ; allows use of command button hunt script with this unit.
  End

  Locomotor = SET_NORMAL HeavyGunnerLocomotor

  Behavior = HordeUpdate ModuleTag_06
    RubOffRadius = 60    ; if I am this close to a real hordesman, I will get to be an honorary hordesman
    UpdateRate = 1000    ; how often to recheck horde status (msec)
    Radius = 30          ; how close other units must be to us to count towards our horde-ness (~30 feet or so)
    KindOf = INFANTRY    ; what KindOf's must match to count towards horde-ness
    AlliesOnly = Yes     ; do we only count allies towards horde status?
    ExactMatch = No      ; do we only count units of our exact same type towards horde status? (overrides kindof)
    Count = 10           ; how many units must be within Radius to grant us horde-ness
    Action = HORDE       ; when horde-ing, grant us the HORDE bonus
  End

  Behavior = PhysicsBehavior ModuleTag_07
    Mass = 5.0
  End

  Behavior = SquishCollide ModuleTag_10
    ;nothing
  End

; --- begin Death modules ---
  Behavior = SlowDeathBehavior ModuleTag_Death01
    DeathTypes          = ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA
    SinkDelay           = 6000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_RedGuardDie
  End
  Behavior = SlowDeathBehavior ModuleTag_Death02
    DeathTypes          = NONE +CRUSHED +SPLATTED
    SinkDelay           = 6000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_GIDieCrushed
  End
  Behavior = SlowDeathBehavior ModuleTag_Death03
    DeathTypes          = NONE +EXPLODED
    SinkDelay           = 6000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_RedGuardDie
    FlingForce          = 8
    FlingForceVariance  = 3
    FlingPitch          = 60
    FlingPitchVariance  = 10
  End
  Behavior = SlowDeathBehavior ModuleTag_Death04
    DeathTypes          = NONE +BURNED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByFireChina
    OCL                 = INITIAL OCL_FlamingInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death05
    DeathTypes          = NONE +POISONED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinChina
    OCL                 = INITIAL OCL_ToxicInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
    DeathTypes          = NONE +POISONED_BETA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinChina
    OCL                 = INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
  End

  Behavior = SlowDeathBehavior ModuleTag_Death07
    DeathTypes          = NONE +POISONED_GAMMA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinChina
    OCL                 = INITIAL OCL_ToxicInfantryGamma
  End
; --- end Death modules ---

  Behavior = PoisonedBehavior ModuleTag_15
    PoisonDamageInterval = 100  ; Every this many msec I will retake the poison damage dealt me...
    PoisonDuration = 3000       ; ... for this long after last hit by poison damage
  End
  
    Behavior = SpecialAbility ModuleTag_16
    SpecialPowerTemplate      = SpecialAbilityRedGuardCaptureBuilding
    UpdateModuleStartsAttack  = Yes
    StartsPaused              = Yes
    InitiateSound         = RedGuardVoiceCapture
  End
  Behavior = SpecialAbilityUpdate ModuleTag_17
    SpecialPowerTemplate  = SpecialAbilityRedGuardCaptureBuilding
    StartAbilityRange  = 5.0
    UnpackTime            = 3000  ; (changing this will scale anim speed)
    PreparationTime       = 20000 ; time to complete hack once prepared (changing this will scale anim speed)
    PackTime              = 2000  ; (changing this will scale anim speed)
    DoCaptureFX           = Yes
    AwardXPForTriggering  = 4
    ;SkillPointsForTriggering = ???  -- Dustin, fill me out if you want different balance values.
  End

  Behavior = UnpauseSpecialPowerUpgrade ModuleTag_18
    SpecialPowerTemplate = SpecialAbilityRedGuardCaptureBuilding
    TriggeredBy = Upgrade_InfantryCaptureBuilding
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 7.0
  GeometryMinorRadius = 7.0
  GeometryHeight = 12.0
  GeometryIsSmall = Yes
  Scale = 1.2
  Shadow = SHADOW_DECAL
  ShadowSizeX = 14;
  ShadowSizeY = 14;
  ShadowTexture = ShadowI;
  BuildCompletion = APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------

; --- begin Death modules ---
  ; Behavior = TransitionDamageFX ModuleTag_Death01
    ; DamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenTankDeathSmokeDamaged
    ; DamagedFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDamageTransition
    ; ;
    ; ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenTankDeathSmokeReallyDamaged
    ; ReallyDamagedFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDamageTransition
    ; ;
    ; RubbleParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenTankDeathSmokeRubble
    ; RubbleFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDamageTransition
    ; RubbleFXList2 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDeathRubble1
  ; End
  ; Behavior = SlowDeathBehavior ModuleTag_Death02
    ; DestructionDelay = 18000
    ; FX = MIDPOINT FX_CWCgenTankDeathRubble2
    ; ;OCL = MIDPOINT OCL_CWCgenTankDeathTrails
    ; SinkDelay = 15000
    ; SinkRate = 4.0
    ; ;Weapon = MIDPOINT CWCgenVehicleExplodeWeapon
  ; End
; --- end Death modules ---


;------------------------------------------------------------------------------
Object Boss_RussiaRadarVan

  ; *** ART Parameters ***
  SelectPortrait         = NVLOutpost_L
  ButtonImage            = NVLOutpost

  Draw = W3DTruckDraw ModuleTag_01
    OkToChangeModelColor = Yes
    DefaultConditionState
      Model = CWCruUralR
    End
    ConditionState = REALLYDAMAGED
      Model = CWCruUralR_d
    End
    ConditionState = RUBBLE
      Model = CWCruUralR_k
    End
    TrackMarks = EXTireTrack.tga
    Dust = RocketBuggyDust
    DirtSpray = RocketBuggyDirtSpray
    ; These parameters are only used if the model has a separate suspension,
    ; and the locomotor has HasSuspension = Yes.
    LeftFrontTireBone = WHEEL01
    RightFrontTireBone = WHEEL04
    LeftRearTireBone = WHEEL03
    RightRearTireBone = WHEEL06
    MidLeftRearTireBone = WHEEL02
    MidRightRearTireBone = WHEEL05
    TireRotationMultiplier = 0.2 ; this * speed = rotation.
    PowerslideRotationAddition = 0 ; This vehicle doesn't powerslide.
  End

  Draw = W3DModelDraw ModuleTag_01_Radar
    OkToChangeModelColor = Yes
    ConditionState = NONE
      Model = CWCruUralR_1
      Animation = CWCruUralR_1.CWCruUralR_1
      AnimationMode = ONCE
      Flags = RESTART_ANIM_WHEN_COMPLETE
      TransitionKey = Trans_Deployed
    End
    ConditionState = REALLYDAMAGED
      Model = CWCruUralR_1_d
      Animation = CWCruUralR_1_d.CWCruUralR_1_d
      AnimationMode = ONCE
      Flags = RESTART_ANIM_WHEN_COMPLETE
      TransitionKey = Trans_Deployed_ReallyDamaged
    End
    ConditionState = RUBBLE
      Model = CWCruUralR_1_k
      Animation = CWCruUralR_1_k.CWCruUralR_1_k
      AnimationMode = ONCE_BACKWARDS
      Flags = START_FRAME_FIRST
    End

    ConditionState = MOVING
      Model = CWCruUralR_2
      Animation = CWCruUralR_2.CWCruUralR_2
      AnimationMode = ONCE
      TransitionKey = Trans_Moving
      WaitForStateToFinishIfPossible = Trans_Deployed
    End
    ConditionState = REALLYDAMAGED MOVING
      Model = CWCruUralR_2_d
      Animation = CWCruUralR_2_d.CWCruUralR_2_d
      AnimationMode = ONCE
      TransitionKey = Trans_Moving_ReallyDamaged
      WaitForStateToFinishIfPossible = Trans_Deployed_ReallyDamaged
    End
    ConditionState = RUBBLE MOVING
      Model = CWCruUralR_2_k
      Animation = CWCruUralR_2_k.CWCruUralR_2_k
      AnimationMode = ONCE
      Flags = START_FRAME_LAST
    End

    ;**** UNPACKING MODES ***
    TransitionState = Trans_Moving Trans_Deployed
      Model = CWCruUralR_2
      Animation = CWCruUralR_2.CWCruUralR_2
      AnimationMode = ONCE_BACKWARDS
    End
    TransitionState = Trans_Moving_ReallyDamaged Trans_Deployed_ReallyDamaged
      Model = CWCruUralR_2_d
      Animation = CWCruUralR_2_d.CWCruUralR_2_d
      AnimationMode = ONCE_BACKWARDS
    End
  End

  Draw = W3DModelDraw ModuleTag_01_AntiJammer
    OkToChangeModelColor = Yes
    ConditionState = NONE
      Model = None
    End
    ConditionState = USER_1
      Model = CWCruUralR_3
      Animation = CWCruUralR_3.CWCruUralR_3
      AnimationMode = ONCE_BACKWARDS
      Flags = START_FRAME_FIRST
      ShowSubObject = ALARMGREEN
      HideSubObject = ALARMRED
    End
    ConditionState = USER_1 ENEMYNEAR
      Model = CWCruUralR_3
      Animation = CWCruUralR_3.CWCruUralR_3
      AnimationMode = LOOP
      HideSubObject = ALARMGREEN
      ShowSubObject = ALARMRED
    End

  End

  ;---------------------------------------
  ; The brakes kick in
  ;---------------------------------------
  Draw = W3DModelDraw ModuleTag_BrakeDraw

    IgnoreConditionStates = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED RUBBLE

    AttachToBoneInAnotherModule = CORE
    ParticlesAttachedToAnimatedBones = Yes
    OkToChangeModelColor = No

    ;day, no lights, only if I brake

    ConditionState = NONE
      Model = CWCruUralR_l
      HideSubObject = HLIGHT01 HLIGHT02
      ParticleSysBone = BRAKE01 CWCgenRearLightBraking
      ParticleSysBone = BRAKE02 CWCgenRearLightBraking
    End

    ConditionState = MOVING
      Model = CWCruUralR_l
      HideSubObject = HLIGHT01 HLIGHT02
    End

    ;night, I always have my lights on when I move, and they flash whenever I brake

    ConditionState = NIGHT
      Model = CWCruUralR_l
      ParticleSysBone = BRAKE01 CWCgenRearLight
      ParticleSysBone = BRAKE02 CWCgenRearLight
      ShowSubObject = HLIGHT01 HLIGHT02
      ParticleSysBone = BRAKE01 CWCgenRearLightBraking
      ParticleSysBone = BRAKE02 CWCgenRearLightBraking
    End

    ConditionState = NIGHT MOVING
      Model = CWCruUralR_l
      ParticleSysBone = BRAKE01 CWCgenRearLight
      ParticleSysBone = BRAKE02 CWCgenRearLight
      ShowSubObject = HLIGHT01 HLIGHT02
    End

    ;enemynear, hide those red lights!

    ; ConditionState = ENEMYNEAR
      ; Model = CWCruUralR_l
      ; HideSubObject = HLIGHT01 HLIGHT02
    ; End
    ; AliasConditionState = MOVING ENEMYNEAR
    ; AliasConditionState = NIGHT ENEMYNEAR
    ; AliasConditionState = NIGHT MOVING ENEMYNEAR

  End


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:ListeningOutpost
  Side = Boss
  EditorSorting   = VEHICLE
  TransportSlotCount = 6                 ;Just enough to fit into a Chinook.

  ;**********************************************************************
  WeaponSet
    Conditions          = None 
    Weapon              = PRIMARY     NONE
  End
  WeaponSet
    Conditions          = PLAYER_UPGRADE 
    Weapon              = PRIMARY     ListeningOutpostUpgradedDummyWeapon
  End
  ;**********************************************************************

  ArmorSet
    Conditions      = None
    Armor           = TankArmor
    DamageFX        = TankDamageFX
  End
  BuildCost       = 200
  BuildTime       = 15.0          ;in seconds    
  VisionRange     = 400
  ShroudClearingRange = 375
  Prerequisites
    Object = Boss_WarFactory Boss_SmallFactory
	Object = Boss_Barracks
  End
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = RussiaListeningOutpostCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = ListeningOutpostVoiceSelect
  VoiceMove = ListeningOutpostVoiceMove
  VoiceGuard = ListeningOutpostVoiceMove
  VoiceAttack = ListeningOutpostVoiceAttack
  SoundMoveStart = RadarVanMoveStart
  SoundMoveStartDamaged = RadarVanMoveStart
  SoundEnter = HumveeEnter
  SoundExit = HumveeExit
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate     = ListeningOutpostVoiceCreate
    TurretMoveStart = NoSound
    TurretMoveLoop = TurretMoveLoop
    TruckLandingSound = NoSound ;RocketBuggyLand
    TruckPowerslideSound = NoSound ;RocketBuggyPowerslide
    VoiceCrush = NoSound
    VoiceUnload   = NoSound ; nothing recorded
    VoiceEnter = ListeningOutpostVoiceMove
  End


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS TRANSPORT VEHICLE SCORE REVEALS_ENEMY_PATHS CANNOT_RETALIATE
  
  Body = ActiveBody ModuleTag_02
    MaxHealth       = 240.0
    InitialHealth   = 240.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 480
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End
  Behavior = StealthDetectorUpdate ModuleTag_03
    DetectionRate             = 900   ; how often to rescan for stealthed things in my sight (msec)
    DetectionRange            = 300 ;John, enable this for independant balancing!
    CanDetectWhileGarrisoned  = No ;Garrisoned means being in a structure that you units can shoot out of.
    CanDetectWhileContained   = No ;Contained means being in a transport or tunnel network.
    PingSound                 = IRPing
    LoudPingSound             = IRPingLoud
    ;;;IRParticleSysName         = IRDetectSonar
    ;;;IRBrightParticleSysName   = IRDetectSonarBright
    ;;;IRGridParticleSysName     = IRDetectGrid
    IRBeaconParticleSysName   = IRLenzflare
    IRParticleSysBone         = IRFX
  End

  Behavior = TransportAIUpdate ModuleTag_99
    AutoAcquireEnemiesWhenIdle = No ; let the contained do it for themselves
  End

  Behavior = StealthUpdate ModuleTag_04
    StealthDelay                = 2000 ; msec
    StealthForbiddenConditions  = MOVING RIDERS_ATTACKING
    FriendlyOpacityMin          = 50.0%
    FriendlyOpacityMax          = 100.0%
    InnateStealth               = Yes
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
  End

  Locomotor = SET_NORMAL TroopTruckLocomotor ;ListeningOutpostLocomotor
  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 90.0
  End

  ; Behavior = ObjectCreationUpgrade ModuleTag_13
    ; UpgradeObject = OCL_ChinaOmegaBattleDrone
    ; TriggeredBy   = Upgrade_ChinaOmegaBattleDrone
  ; End

  Behavior = ProductionUpdate ModuleTag_24
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End

  ; Behavior    = OCLSpecialPower ModuleTag_Laymines01
    ; SpecialPowerTemplate = SpecialAbilityLaymines
    ; OCL                  = OCL_AmericaBattleMines
  ; End

  Behavior = TransportContain ModuleTag_06
    PassengersAllowedToFire = Yes
    Slots                 = 2
    InitialPayload        = Boss_RussiaInfantryConscript 2
    ScatterNearbyOnExit   = No
    HealthRegen%PerSec    = 10
    DamagePercentToUnits  = 10%
    AllowInsideKindOf     = INFANTRY
    ExitDelay         = 250
    NumberOfExitPaths = 3 ; Defaults to 1.  Set 0 to not use ExitStart/ExitEnd, set higher than 1 to use ExitStart01-nn/ExitEnd01-nn
    GoAggressiveOnExit = Yes ; AI Will tell people to set their mood to Aggressive on exiting
    ArmedRidersUpgradeMyWeaponSet = Yes
  End

  Behavior = SlowDeathBehavior ModuleTag_07
    DeathTypes = ALL -CRUSHED -SPLATTED
    DestructionDelay = 1789
    FX  = INITIAL    FX_SupplyTruckExplosionOneFinal
    OCL = INITIAL    OCL_InitialListeningOutpostDebris
    FX  = FINAL    FX_SupplyTruckExplosionOneFinal
    OCL = FINAL    OCL_FinalListeningOutpostDebris
  End

  Behavior = TransitionDamageFX ModuleTag_08
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_NukeCannonDamageTransition
  End

  Behavior = DestroyDie ModuleTag_09
    DeathTypes = NONE +CRUSHED +SPLATTED
  End

  Behavior = FXListDie ModuleTag_10
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End

  ; A crushing defeat
  Behavior = FXListDie ModuleTag_11
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End

  Behavior = CreateCrateDie ModuleTag_12
    CrateData = SalvageCrateData
    ;CrateData = EliteTankCrateData
    ;CrateData = HeroicTankCrateData
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Geometry = BOX
  GeometryMajorRadius = 17.0
  GeometryMinorRadius = 7.0
  GeometryHeight = 14.0
  GeometryIsSmall = No
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45 ; minimum elevation angle above horizon. Used to limit shadow length
  Scale = 1.05    
End


;------------------------------------------------------------------------------
Object Boss_SovietVehicleStrela10

  ; *** ART Parameters ***
  SelectPortrait         = MT-LB
  ButtonImage            = MT-LB

  Draw = W3DTruckDraw ModuleTag_01
    OkToChangeModelColor = Yes

;    ProjectileBoneFeedbackEnabledSlots = PRIMARY ; WeaponLaunchBone will be shown/hidden, not just used for firing offset

    ConditionState = NONE
      Model               = NVMT-LB
      Turret              = TURRET01
      TurretPitch         = TURRETEL
;      HideSubObject       = TURRETELUP
      WeaponFireFXBone    = PRIMARY WeaponA
      WeaponMuzzleFlash   = PRIMARY WeaponA
      WeaponLaunchBone    = PRIMARY WeaponA
      WeaponFireFXBone    = SECONDARY WeaponA
      WeaponMuzzleFlash   = SECONDARY WeaponA
      WeaponLaunchBone    = SECONDARY WeaponA
      ;note, the IRSonar particle system is added in StealthDetectorUpdate.cpp, not here
    End

    ConditionState       = REALLYDAMAGED RUBBLE ; THIS IS VERY IMPORTANT... DO NOT REMOVE 'RUBBLE'
                                                ; @todo find out why a non-animating model like this has such trouble matching                                                ; reallydamaged against moving against rubble, etc.
      Model               = NVMT-LB_D
      Turret              = TURRET01
      TurretPitch         = TURRETEL
;      HideSubObject       = TURRETELUP
      WeaponFireFXBone    = PRIMARY WeaponA
      WeaponMuzzleFlash   = PRIMARY WeaponA
      WeaponLaunchBone    = PRIMARY WeaponA
      WeaponFireFXBone    = SECONDARY WeaponA
      WeaponMuzzleFlash   = SECONDARY WeaponA
      WeaponLaunchBone    = SECONDARY WeaponA
    End
    
    TrackMarks = EXTireTrack.tga

    Dust = RocketBuggyDust
    DirtSpray = RocketBuggyDirtSpray
    ; PowerslideSpray = RocketBuggyDirtPowerSlide doesn't powerslide

    ; These parameters are only used if the model has a separate suspension,
    ; and the locomotor has HasSuspension = Yes.
    LeftFrontTireBone     = Wheel01
    RightFrontTireBone    = Wheel08
    LeftRearTireBone      = Wheel03
    RightRearTireBone     = Wheel05
    MidLeftFrontTireBone  = Wheel02
    MidRightFrontTireBone = Wheel07
    MidLeftRearTireBone   = Wheel04
    MidRightRearTireBone  = Wheel06

    TireRotationMultiplier      = 0.2   ; this * speed = rotation.
    PowerslideRotationAddition  = 0   ; This vehicle doesn't powerslide.
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:MT-LB
  Side = Boss
  EditorSorting   = VEHICLE
  TransportSlotCount = 8                 ;Just enough to fit into a Chinook.
  WeaponSet
    Conditions = None
    Weapon = PRIMARY Strela10Missile
	PreferredAgainst = PRIMARY AIRCRAFT
  End
  ArmorSet
    Conditions      = None
    Armor           = TankArmor
    DamageFX        = TankDamageFX
  End
  BuildCost       = 1500
  BuildTime       = 20.0          ;in seconds
  VisionRange     = 175           ;Needs to see farther and match it's weapon range -- else troop crawlers will get slaughtered against tanks!
  ShroudClearingRange = 400
  Prerequisites
    Object = Boss_WarFactory Boss_SmallFactory
  End
  ExperienceValue = 50 50 100 150    ;Experience point value at each level
  ExperienceRequired = 0 100 200 400  ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = SovietVehicleStrela10CommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = TroopCrawlerVoiceSelect
  VoiceMove = TroopCrawlerVoiceMove
  VoiceGuard = TroopCrawlerVoiceMove
  VoiceAttack = TroopCrawlerVoiceAttack
  SoundMoveStart = TroopCrawlerMoveStart
  SoundMoveStartDamaged = TroopCrawlerMoveStart
  SoundEnter = HumveeEnter
  SoundExit = HumveeExit
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate     = TroopCrawlerVoiceCreate
    TurretMoveStart = NoSound
    TurretMoveLoop = TurretMoveLoop
    TruckLandingSound = NoSound ;RocketBuggyLand
    TruckPowerslideSound = NoSound ;RocketBuggyPowerslide
    VoiceCrush = TroopCrawlerVoiceCrush
    VoiceUnload   = TroopCrawlerVoiceUnload
    VoiceEnter = TroopCrawlerVoiceMove
  End


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 500.0
    InitialHealth   = 500.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 800
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

  Behavior = AIUpdateInterface ModuleTag_50
    Turret
      TurretTurnRate        = 180   // turn rate, in degrees per sec
      TurretPitchRate       = 180
      AllowsPitch           = Yes
      NaturalTurretPitch  = 45 ; this keeps it aimed half way between land and sky
      GroundUnitPitch       = 0
      MinPhysicalPitch      = -20
      ControlledWeaponSlots = PRIMARY
      MinIdleScanInterval   = 250    ; in milliseconds
      MaxIdleScanInterval   = 250    ; in milliseconds
      MinIdleScanAngle      = 0       ; in degrees off the natural turret angle
      MaxIdleScanAngle      = 360     ; in degrees off the natural turret angle
    End
    AutoAcquireEnemiesWhenIdle = Yes
  End

  Locomotor = SET_NORMAL MT-LBLocomotor
  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 50.0
  End

  Behavior = ObjectCreationUpgrade ModuleTag_13
    UpgradeObject = OCL_ChinaOmegaBattleDrone
    TriggeredBy   = Upgrade_ChinaOmegaBattleDrone
  End

  Behavior = ProductionUpdate ModuleTag_24
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End

  Behavior    = OCLSpecialPower ModuleTag_Laymines01
    SpecialPowerTemplate = SpecialAbilityLaymines
    OCL                  = OCL_AmericaBattleMines
  End

  Behavior = SlowDeathBehavior ModuleTag_07
    DeathTypes = ALL -CRUSHED -SPLATTED
    DestructionDelay = 1
    FX  = FINAL    FX_SupplyTruckExplosionOneFinal
    OCL = FINAL    OCL_FinalTroopCrawlerDebris
  End

  Behavior                 = TransitionDamageFX ModuleTag_08
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_NukeCannonDamageTransition
  End

  Behavior = DestroyDie ModuleTag_09
    DeathTypes = NONE +CRUSHED +SPLATTED
  End

  Behavior = FXListDie ModuleTag_10
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End

  ; A crushing defeat
  Behavior = FXListDie ModuleTag_11
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End

  Behavior = CreateCrateDie ModuleTag_12
    CrateData = SalvageCrateData
    ;CrateData = EliteTankCrateData
    ;CrateData = HeroicTankCrateData
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Geometry = BOX
  GeometryMajorRadius = 20.0
  GeometryMinorRadius = 16.0
  GeometryHeight = 5.0
  GeometryIsSmall = No
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object Boss_RussianVehicleBMPT

  ; *** ART Parameters ***
  SelectPortrait = BombCrub_L
  ButtonImage    = BombCrub
  
  UpgradeCameo1 = Upgrade_AmericaAdvancedTraining
  UpgradeCameo2 = Upgrade_GLAJunkRepair
  UpgradeCameo3 = Upgrade_GLAAPBullets
  ;UpgradeCameo4 = NONE
  ;UpgradeCameo5 = NONE
  
  Draw = W3DTankDraw ModuleTag_01
    OkToChangeModelColor = Yes
    InitialRecoilSpeed = 200.0
    MaxRecoilDistance  = 2.5
    RecoilSettleSpeed  = 20.0
    RecoilDamping      = 0.25
    
    DefaultConditionState        
      Model               = NVTerminator
      Turret              = TURRET01
      TurretPitch         = TURRETEL01
      WeaponMuzzleFlash   = PRIMARY   MuzzleFX
      WeaponFireFXBone    = PRIMARY   Muzzle
 ;     WeaponRecoilBone    = PRIMARY   Barrel
      WeaponMuzzleFlash   = SECONDARY MuzzleFX
      WeaponFireFXBone    = SECONDARY Muzzle
;      WeaponRecoilBone    = SECONDARY Barrel
      WeaponFireFXBone = TERTIARY Ptur
      WeaponLaunchBone = TERTIARY Ptur
    End

    ConditionState        = REALLYDAMAGED RUBBLE         
      Model               = NVTerminator_d
      Turret              = TURRET01
      TurretPitch         = TURRETEL01
      WeaponMuzzleFlash   = PRIMARY   MuzzleFX
      WeaponFireFXBone    = PRIMARY   Muzzle
 ;     WeaponRecoilBone    = PRIMARY   Barrel
      WeaponMuzzleFlash   = SECONDARY MuzzleFX
      WeaponFireFXBone    = SECONDARY Muzzle
;      WeaponRecoilBone    = SECONDARY Barrel
      WeaponFireFXBone = TERTIARY Ptur
      WeaponLaunchBone = TERTIARY Ptur
    End

    TrackMarks              = EXTnkTrack.tga
    TreadAnimationRate      = 2.0  ; amount of tread texture to move per second
    TreadDriveSpeedFraction = 0.3  ; fraction of locomotor speed below which treads stop moving.
    TreadPivotSpeedFraction = 0.6  ; fraction of locomotor speed below which we allow pivoting.
  End

  ; ***DESIGN parameters ***
  DisplayName        = OBJECT:BossLaver
  Side               = Boss
  EditorSorting      = VEHICLE
  TransportSlotCount = 3            ;how many "slots" we take in a transport (0 == not transportable)
;=======================================================================================================
  WeaponSet
    Conditions        = None
   ;-------
    Weapon            = PRIMARY ShilkaMachineGunAntiGround ;[- (AttackRange = 165.0)] ;[ : QuadCannonGun]*
    PreferredAgainst  = PRIMARY INFANTRY VEHICLE
    AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
   ;-------
    Weapon            = SECONDARY ShilkaMachineGunAntiAir ;[- (AttackRange = 380.0)] ;[ : QuadCannonGunUpgradeTwoAir]*
    PreferredAgainst  = SECONDARY VEHICLE AIRCRAFT
    AutoChooseSources = SECONDARY FROM_PLAYER FROM_SCRIPT FROM_AI
    Weapon            = TERTIARY  Boss_BmptMissileWeapon
	PreferredAgainst  = TERTIARY VEHICLE STRUCTURE
    AutoChooseSources = TERTIARY  FROM_PLAYER FROM_SCRIPT FROM_AI
  End
;=======================================================================================================
  ArmorSet
    Conditions      = None
    Armor           = BossLaverArmor ;AntiAirVehicle
    DamageFX        = TankDamageFX
  End
;--------------------------------------------
  BuildCost       = 3000 ;1000 ;950
  BuildTime       = 15.0 ;[ 9.1.18 : 12.0]* ;8.0          ;in seconds 
  Prerequisites
    Object = Boss_WarFactory
	Object = Boss_TechCentr
  End
  VisionRange     = 250.0 ;150.0
  ShroudClearingRange = 300

  ExperienceValue    = 50 50 100 150  ;Experience point value at each level.
  ExperienceRequired = 0 100 150 300  ;Experience points needed to gain each level.
  IsTrainable = Yes
  CrusherLevel   = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = AmericaTankAvengerCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = GattlingTankVoiceSelect
  VoiceMove   = GattlingTankVoiceMove
  VoiceGuard  = GattlingTankVoiceMove
  VoiceAttack = GattlingTankVoiceAttack
 ;----------------------------------------------------------------------
  SoundMoveStart        = ScorpionTankMoveStart ;GattlingTankMoveStart
  SoundMoveStartDamaged = ScorpionTankMoveStart ;GattlingTankMoveStart
 ;----------------------------------------------------------------------
  SoundStealthOn  = StealthOn
  SoundStealthOff = StealthOff
 ;-------------------------------
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate     = GattlingTankVoiceCreate
    TurretMoveStart = NoSound
    TurretMoveLoop  = TurretMoveLoopLoud
    VoiceCrush      = GattlingTankVoiceCrush
    VoiceEnter      = GattlingTankVoiceMove
    VoiceRapidFire  = GattlingTankVoiceRapid
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE CANNOT_RETALIATE SALVAGER
  
  Body = ActiveBody ModuleTag_02
    MaxHealth       = 800.0
    InitialHealth   = 800.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 1000
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      ControlledWeaponSlots = PRIMARY SECONDARY TERTIARY
      TurretTurnRate      = 230   ;turn rate, in degrees per sec
      TurretPitchRate     = 230
      AllowsPitch         = Yes
      FiresWhileTurning   = Yes
      NaturalTurretPitch  = 30 ; this keeps it aimed half way between land and sky
                               ; since you never know from whence cometh danger
    End
    AutoAcquireEnemiesWhenIdle = Yes
    MoodAttackCheckRate        = 250
  End
 ;----------------------------------------
  Locomotor = SET_NORMAL LaverLocomotor
 ;----------------------------------------
  Behavior = PhysicsBehavior ModuleTag_04
    Mass   = 55.0 ;[40.0]*
  End
  ; Catch fire, and explode death
  Behavior = SlowDeathBehavior ModuleTag_05
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier = 411
    DestructionDelay = 150
    DestructionDelayVariance = 250
    OCL = FINAL    OCL_BbmptDeathEffect ;<===================[ :  NVTerminator_d ]
    FX  = FINAL    FX_BattleMasterExplosionOneFinal ;<=======[     9.0-9.1]
  End
;=============================================================================
  ; A crushing defeat
  Behavior = FXListDie ModuleTag_06
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  Behavior = CreateCrateDie ModuleTag_07
    CrateData = SalvageCrateData
    ;CrateData = EliteTankCrateData
    ;CrateData = HeroicTankCrateData
  End
  Behavior = DestroyDie ModuleTag_08
    DeathTypes = NONE +CRUSHED +SPLATTED
  End
  ; Behavior = EjectPilotDie ModuleTag_09
    ; DeathTypes = ALL -CRUSHED -SPLATTED
    ; ExemptStatus = HIJACKED
    ; GroundCreationList = OCL_EjectPilotOnGround
    ; AirCreationList = OCL_EjectPilotViaParachute
    ; VeterancyLevels =  ALL -REGULAR ;only vet+ gives pilot
  ; End
;-------------------------------------------------------------------
  Behavior = HordeUpdate ModuleTag_10
    RubOffRadius = 150    ; if I am this close to a real hordesman, I will get to be an honorary hordesman
    UpdateRate = 1000     ; how often to recheck horde status (msec)
    Radius = 75           ; how close other units must be to us to count towards our horde-ness (~30 feet or so)
    KindOf = VEHICLE      ; what KindOf's must match to count towards horde-ness
    AlliesOnly = Yes      ; do we only count allies towards horde status?
    ExactMatch = Yes      ; do we only count units of our exact same type towards horde status? (overrides kindof)
    Count = 5             ; how many units must be within Radius to grant us horde-ness
    Action = HORDE        ; when horde-ing, grant us the HORDE bonus
  End
;-------------------------------------------------------------------
  Behavior = ProductionUpdate ModuleTag_11
    ;MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End
;-------------------------------------------------------------------
  Behavior = ObjectCreationUpgrade ModuleTag_12
    UpgradeObject = OCL_AmericanBattleDrone
    TriggeredBy   = Upgrade_AmericaBattleDrone
    ConflictsWith = Upgrade_AmericaScoutDrone Upgrade_AmericaHellfireDrone
  End
  Behavior = ObjectCreationUpgrade ModuleTag_13
    UpgradeObject = OCL_AmericanScoutDrone
    TriggeredBy   = Upgrade_AmericaScoutDrone
    ConflictsWith = Upgrade_AmericaBattleDrone Upgrade_AmericaHellfireDrone
  End 
  Behavior = ObjectCreationUpgrade ModuleTag_14
    UpgradeObject = OCL_AmericanHellfireDrone
    TriggeredBy   = Upgrade_AmericaHellfireDrone
    ConflictsWith = Upgrade_AmericaBattleDrone Upgrade_AmericaScoutDrone
  End
;-------------------------------------------------------------------
  Behavior = ExperienceScalarUpgrade ModuleTag_15
    TriggeredBy = Upgrade_AmericaAdvancedTraining
    AddXPScalar = 1.0 ;Increases experience gained by an additional 100%
  End
;-------------------------------------------------------------------
  Behavior = WeaponSetUpgrade ModuleTag_16
    TriggeredBy = Upgrade_GLAAPBullets
  End
;-------------------------------------------------------------------
  Behavior = AutoHealBehavior ModuleTag_17
    HealingAmount = 2
    HealingDelay = 1000 ; msec
    TriggeredBy = Upgrade_GLAJunkRepair
  End
;-------------------------------------------------------------------
  Behavior = TransitionDamageFX ModuleTag_18
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End
  Behavior = FlammableUpdate ModuleTag_19
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End
;-------------------------------------------------------------------
  Behavior = PointDefenseLaserUpdate ModuleTag_Laser_One
    WeaponTemplate        = LaverPointDefenseLaser
    PrimaryTargetTypes    = BALLISTIC_MISSILE SMALL_MISSILE
    ScanRate              = 0
    ScanRange             = 150.0
    PredictTargetVelocityFactor = 1.0
  End

  Geometry            = BOX
  GeometryMajorRadius = 15.0
  GeometryMinorRadius = 10.0
  GeometryHeight      = 15.0     
  GeometryIsSmall     = Yes
  Scale               = 0.95
  Shadow              = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End


;-------------------------------------------------------------------------------------------------------------------------------
Object Boss_SovietTankT72B3

  ; *** ART Parameters ***

  SelectPortrait         = KingCrusader_L
  ButtonImage            = KingCrusader
  
  UpgradeCameo1 = Upgrade_GLAJunkRepair
  UpgradeCameo2 = Upgrade_GLAScorpionRocket
  UpgradeCameo3 = Upgrade_GLAAPRockets
  UpgradeCameo4 = Upgrade_AmericaCompositeArmor
  
  Draw = W3DTankDraw ModuleTag_01

    ProjectileBoneFeedbackEnabledSlots = TERTIARY ; WeaponLaunchBone will be shown/hidden, not just used for firing offset
    DefaultConditionState
      Model               = UVT-72
      Turret              = Turret
      WeaponFireFXBone    = PRIMARY MUZZLEFX01
      WeaponRecoilBone    = PRIMARY Barrel
      WeaponMuzzleFlash   = PRIMARY MUZZLEFX01
      WeaponLaunchBone    = PRIMARY MUZZLE01

      WeaponFireFXBone    = SECONDARY MUZZLE02
      ;WeaponRecoilBone    = SECONDARY TURRET
      WeaponMuzzleFlash   = SECONDARY MUZZLEFX02
      ;WeaponLaunchBone    = SECONDARY MuzzleFX

      WeaponFireFXBone = TERTIARY WEAPONA
      WeaponLaunchBone = TERTIARY WEAPONA

      HideSubObject = ARMOR WEAPONARock02 WEAPONARock01 WEAPONARock03
    End
    ConditionState       = REALLYDAMAGED
      Model              = UVT-72_d
    End
    ConditionState       = RUBBLE
      Model              = UVT-72_d
    End

; ------------ With big turret  
    ConditionState = WEAPONSET_CRATEUPGRADE_ONE ; one or two crates is a turret switch
      ShowSubObject = ARMOR ;WEAPONARock02
      HideSubObject = WEAPONARock01 WEAPONARock02 WEAPONARock03
    End
    ConditionState = WEAPONSET_CRATEUPGRADE_TWO ; one or two crates is a turret switch
      ShowSubObject = ARMOR ;WEAPONARock02 WEAPONARock02
      HideSubObject = WEAPONARock01 WEAPONARock02 WEAPONARock03
    End

    ConditionState = WEAPONSET_CRATEUPGRADE_ONE REALLYDAMAGED
      Model = UVT-72_d
      ShowSubObject = ARMOR
      HideSubObject = WEAPONARock01 WEAPONARock02 WEAPONARock03
    End
    AliasConditionState = WEAPONSET_CRATEUPGRADE_TWO REALLYDAMAGED

; ---------- With missile
    ConditionState = WEAPONSET_PLAYER_UPGRADE
      ShowSubObject = WEAPONARock01
      HideSubObject = WEAPONARock02 WEAPONARock03 ;ARMOR
      WeaponFireFXBone = TERTIARY WEAPONARock
      WeaponLaunchBone = TERTIARY WEAPONARock
    End

    ConditionState = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
      Model = UVT-72_d
      ShowSubObject = WEAPONARock01
      HideSubObject = WEAPONARock02 WEAPONARock03 ;ARMOR
      WeaponFireFXBone = TERTIARY WEAPONARock
      WeaponLaunchBone = TERTIARY WEAPONARock
    End

; ---------- With missile and big turret
    ConditionState = WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
      ShowSubObject = WEAPONARock01 WEAPONARock02 ;ARMOR
      HideSubObject = WEAPONARock03 
      WeaponFireFXBone = TERTIARY WEAPONARock
      WeaponLaunchBone = TERTIARY WEAPONARock
    End

    ConditionState = WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE REALLYDAMAGED
      Model = UVT-72_d
      ShowSubObject = WEAPONARock01 WEAPONARock02 ;ARMOR
      HideSubObject = WEAPONARock03 
      WeaponFireFXBone = TERTIARY WEAPONARock
      WeaponLaunchBone = TERTIARY WEAPONARock
    End

; ---------- With two missiles and big turret
    ConditionState = WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
      WeaponFireFXBone = TERTIARY WEAPONARock
      WeaponLaunchBone = TERTIARY WEAPONARock
    End

    ConditionState = WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO REALLYDAMAGED
      Model = UVT-72_d
      WeaponFireFXBone = TERTIARY WEAPONARock
      WeaponLaunchBone = TERTIARY WEAPONARock
    End

    TrackMarks           = EXTnkTrack.tga
    TreadAnimationRate      = 2.0  ; amount of tread texture to move per second
    TreadDriveSpeedFraction = 0.3  ; fraction of locomotor speed below which treads stop moving.
    TreadPivotSpeedFraction = 0.6  ; fraction of locomotor speed below which we allow pivoting.
    OkToChangeModelColor = Yes
  End


  ; ***DESIGN parameters ***
  DisplayName           = OBJECT:T72B3
  Side                  = Boss
  EditorSorting         = VEHICLE
  TransportSlotCount    = 6;4                 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange     = 200
  ShroudClearingRange = 200
;---------------------------
  BuildCost = 3000
  BuildTime = 20.0
;---------------------------------
  Prerequisites
    Object = Boss_WarFactory Boss_SmallFactory
  End
;-----------------------------------------
  ExperienceValue    = 100 100 200 300   ;Experience point value at each level
  ExperienceRequired = 0 200 300 600     ;Experience points needed to gain each level
  IsTrainable        = Yes               ;Can gain experience
  CrusherLevel       = 2                 ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel     = 2                 ;What am I?: 0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = GLATankMarauderCommandSet ;GLATankT-90CommandSet
;==========================================================================================
  WeaponSet
    Conditions = None
    Weapon           = PRIMARY   T-80TankGun
    Weapon           = SECONDARY T-80MachineGun
    PreferredAgainst = SECONDARY INFANTRY
	AutoChooseSources = SECONDARY FROM_PLAYER FROM_SCRIPT FROM_AI
	Weapon           = TERTIARY  None
  End
  WeaponSet
    Conditions       = PLAYER_UPGRADE 
    Weapon           = PRIMARY   T-80TankGun
	PreferredAgainst = PRIMARY VEHICLE STRUCTURE
    Weapon           = SECONDARY T-80MachineGun
    PreferredAgainst = SECONDARY INFANTRY
	AutoChooseSources = SECONDARY FROM_PLAYER FROM_SCRIPT FROM_AI
    Weapon           = TERTIARY ScorpionMissileWeapon
	PreferredAgainst = TERTIARY VEHICLE STRUCTURE
	AutoChooseSources = TERTIARY FROM_PLAYER FROM_SCRIPT FROM_AI
  End
;==========================================================================================
  ArmorSet
    Conditions = None
    Armor      = TankArmor
    DamageFX   = TankDamageFX
  End

  ; *** AUDIO Parameters ***
  VoiceSelect = SandKingTankVoiceSelect
  VoiceMove = SandKingTankVoiceMove
  VoiceGuard = SandKingTankVoiceMove
  VoiceAttack = SandKingTankVoiceAttack
  SoundMoveStart = MarauderTankMoveStart
  SoundMoveStartDamaged = MarauderTankMoveStart
 ;-----------------------------
  SoundStealthOn  = StealthOn
  SoundStealthOff = StealthOff
 ;-----------------------------
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate     = SandKingTankVoiceCreate
    ;TurretMoveStart = NoSound
    TurretMoveLoop = TurretMoveLoop
    VoiceSalvage = SandKingTankVoiceSalvage
    VoiceCrush = SandKingTankVoiceCrush
    VoiceEnter = SandKingTankVoiceMove
  End


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS SALVAGER WEAPON_SALVAGER VEHICLE SCORE

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 1000.0
    InitialHealth   = 1000.0
    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 860
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End
;=======================================================================
  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      TurretTurnRate = 180 ;[60]* ;[   /  ,  ]
      ControlledWeaponSlots = PRIMARY SECONDARY
    End
    AutoAcquireEnemiesWhenIdle = Yes
  End
;=======================================================================
  Locomotor = SET_NORMAL MarauderLocomotor ;ScorpionLocomotor
;=======================================================================
  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 50.0
  End
;=======================================================================
  Behavior = AutoHealBehavior ModuleTag_05
    HealingAmount = 2
    HealingDelay = 1000 ; msec
    TriggeredBy = Upgrade_GLAJunkRepair
  End
;=======================================================================
  Behavior = SlowDeathBehavior ModuleTag_06
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier = 25;50;[25]*
    DestructionDelay = 200;2000;[200]*
    DestructionDelayVariance = 100;300;[100]*
    FX  = INITIAL  FX_CrusaderCatchFire ;<======================[-]
    OCL = FINAL    OCL_T-72TankDeathEffect ;<===================[   Object DeadT-72Hulk] UVT-72_d1 (3)
    FX  = FINAL    FX_BattleMasterExplosionOneFinal ;<==========[     9.0-9.1]
  End
;============================================================================================
  Behavior = WeaponSetUpgrade ModuleTag_07
    TriggeredBy = Upgrade_GLAScorpionRocket
  End
;---------------------------------------------------
  Behavior = MaxHealthUpgrade ModuleTag_08
    TriggeredBy   = Upgrade_AmericaCompositeArmor
    AddMaxHealth  = 100.0
    ChangeType    = ADD_CURRENT_HEALTH_TOO   ;Choices are PRESERVE_RATIO, ADD_CURRENT_HEALTH_TOO, and SAME_CURRENTHEALTH
  End
  Behavior = DestroyDie ModuleTag_09
    DeathTypes = NONE +CRUSHED +SPLATTED
  End
  ; A crushing defeat
  Behavior = FXListDie ModuleTag_10
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  Behavior = CreateObjectDie ModuleTag_11
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_CrusaderTank_CrushEffect
  End
  Behavior = TransitionDamageFX ModuleTag_12
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End
  Behavior = FlammableUpdate ModuleTag_13
    AflameDuration = 5000       ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3      ; taking this much damage...
    AflameDamageDelay = 500     ; this often.
  End
;--------------------------------------------------------;
  Behavior = StealthUpgrade ModuleTag_SUALMJ1 ;_22
    TriggeredBy = Upgrade_GLACamouflageVehicle
  End
;-------------------------------------------------
  Behavior = StealthUpdate ModuleTag_SUALMJ2 ;_10
    StealthDelay               = 2500 ; msec
    StealthForbiddenConditions = MOVING ATTACKING USING_ABILITY TAKING_DAMAGE ;[      ]
    MoveThresholdSpeed         = 3
    InnateStealth              = No ;Yes ;doesnt Require upgrade first
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
  End
;--------------------------------------------------------;
  Behavior = ProductionUpdate ModuleTag_000
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End

  Geometry = BOX
  GeometryMajorRadius = 20.0 ;[16.0]*
  GeometryMinorRadius = 12.0 ;[11.0]*
  GeometryHeight      = 10.5 ;[10.0]*
  GeometryIsSmall = Yes
  Scale = 1.01  ;0.97
  Shadow = SHADOW_VOLUME    
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length
End

;------------------------------------------------------------------------------
Object Boss_RussianVehicleBuratino

  ; *** ART Parameters ***
  SelectPortrait         = SURocketBuggy_L
  ButtonImage            = SURocketBuggy

  Draw = W3DTankDraw ModuleTag_01
    
    DefaultConditionState   
      Model               = RVTOS1
      Animation           = RVTOS1.RVTOS1
      AnimationMode       = ONCE_BACKWARDS
      Flags               = MAINTAIN_FRAME_ACROSS_STATES
      Turret              = Turret
      TurretPitch         = TurretEL
      WeaponFireFXBone    = PRIMARY   FireFX
      WeaponLaunchBone    = PRIMARY   Firepoint
      WeaponFireFXBone    = SECONDARY FireFX
      WeaponLaunchBone    = SECONDARY Firepoint
      AnimationSpeedFactorRange = 2.2 2.6
    End
    AliasConditionState = MOVING
    AliasConditionState = MOVING ATTACKING
    
    ConditionState = ATTACKING
      AnimationMode       = ONCE
    End
    
    ConditionState = REALLYDAMAGED
      Model               = RVTOS1_D
    End
    AliasConditionState = REALLYDAMAGED MOVING
    AliasConditionState = REALLYDAMAGED MOVING ATTACKING
    
    ConditionState = REALLYDAMAGED ATTACKING
      Model               = RVTOS1_D
      Animation           = RVTOS1_D.RVTOS1_D
      AnimationMode       = ONCE
    End
    
    ConditionState = RUBBLE
      Model               = RVTOS1_D
      Animation           = RVTOS1_D.RVTOS1_D
      AnimationMode       = MANUAL
    End
    
    OkToChangeModelColor = Yes
    TrackMarks             = EXTnkTrack.tga
    TreadAnimationRate      = 2.0  ;  amount of tread texture to move per second
    TreadDriveSpeedFraction = 0.3  ; fraction of locomotor speed below which treads stop moving.
    TreadPivotSpeedFraction = 0.6  ; fraction of locomotor speed below which we allow pivoting.
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Buratino
  Side                = Boss
  EditorSorting       = VEHICLE
  TransportSlotCount  = 3                ;how many "slots" we take in a transport (0 == not transportable)
    
  WeaponSet
    Conditions = None 
    Weapon = PRIMARY BuratinoRocketWeapon
    Weapon = SECONDARY BuratinoBurstFireWeapon
    AutoChooseSources = SECONDARY None
    ShareWeaponReloadTime = Yes
  End
  
  WeaponSet
    Conditions = PLAYER_UPGRADE 
    Weapon = PRIMARY HeroicBuratinoRocketWeapon
    Weapon = SECONDARY HeroicBuratinoBurstFireWeapon
    AutoChooseSources = SECONDARY None
    ShareWeaponReloadTime = Yes
  End

  ArmorSet
    Conditions      = None
    Armor           = BuratinoTankArmor
    DamageFX        = TankDamageFX
  End

  BuildCost       = 15000
  BuildTime       = 10.0
  VisionRange     = 400
  ShroudClearingRange = 800

  Prerequisites
    Object = Boss_WarFactory Boss_SmallFactory
    ;Object = Boss_TechCentr
  End

  ExperienceValue    = 50 50  100 150  ;Experience point value at each level
  ExperienceRequired = 0  100 150 300  ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet      = Boss_RussianVehicleBuratinoCommandSet

; *** AUDIO Parameters ***
  VoiceSelect       = BuratinoVoiceSelect
  VoiceMove         = BuratinoVoiceMove
  VoiceGuard        = BuratinoVoiceMove
  VoiceAttack       = BuratinoVoiceAttack
  SoundMoveStart        = BuratinoMoveStart
  SoundMoveStartDamaged = BuratinoMoveStart
  
  UnitSpecificSounds
    VoiceCreate     = BuratinoVoiceCreate
    VoiceCrush      = BuratinoVoiceMove
    VoiceEnter      = BuratinoVoiceMove
    VoicePrimaryWeaponMode   = BuratinoVoiceBurstFireMode
    VoiceSecondaryWeaponMode = BuratinoVoiceBarrageFireMode
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS VEHICLE DONT_AUTO_CRUSH_INFANTRY SCORE

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 750.0
    InitialHealth   = 750.0
    SubdualDamageCap = 800
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End
  
  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      TurretTurnRate = 100
      TurretPitchRate =100
      AllowsPitch = Yes
      FirePitch = 25
      ControlledWeaponSlots = PRIMARY SECONDARY
    End
    AutoAcquireEnemiesWhenIdle = Yes
  End
 
  Locomotor = SET_NORMAL BuratinoLocomotor
  
  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 40.0
  End
  
  Behavior = CommandButtonHuntUpdate  ModuleTag_05
  ; allows use of command button hunt script with this unit. 
  End

  ; A crushing defeat
  Behavior = DestroyDie ModuleTag_08
    DeathTypes = NONE +CRUSHED +SPLATTED
  End
  
  Behavior = FXListDie ModuleTag_09
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  
  Behavior = CreateObjectDie ModuleTag_10
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_CrusaderTank_CrushEffect
  End

  Behavior = SlowDeathBehavior ModuleTag_12
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier = 25
    DestructionDelay = 1
    OCL = FINAL    OCL_RussiaTankTOS1Debris
    FX  = FINAL    FX_BattleMasterExplosionOneFinal
  End

  Behavior = TransitionDamageFX ModuleTag_13
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End
  
  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = WeaponSetUpgrade ModuleTag_Heroic01
    TriggeredBy = Upgrade_Veterancy_HEROIC
  End
  
  Behavior = StealthUpdate ModuleTag_GPSStealth01
    StealthDelay                = 2000 ; msec
    StealthForbiddenConditions  = FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
    InnateStealth               = Yes
    RequiredStatus              = REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
  End

  Geometry = BOX
  GeometryMajorRadius = 18.0
  GeometryMinorRadius = 11.0
  GeometryHeight = 10
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length
  Scale = 1.05
End

;------------------------------------------------------------------------------
Object Boss_RussianVehicleGrumble

  ; *** ART Parameters ***
  SelectPortrait         = PatriotSystem
  ButtonImage            = PatriotSystem

  Draw = W3DTruckDraw ModuleTag_01
    OkToChangeModelColor = Yes

    DefaultConditionState
      Model                           = RVGrumble
      Animation                       = RVGrumble.RVGrumble
      AnimationMode                   = ONCE_BACKWARDS
      Flags                           = START_FRAME_FIRST
      WeaponLaunchBone                = SECONDARY WeaponA
      WeaponFireFXBone                = SECONDARY Muzzle
      WeaponLaunchBone                = TERTIARY  WeaponA
      WeaponFireFXBone                = TERTIARY  Muzzle
    End
    AliasConditionState = MOVING
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_A ;Very long shot delay -- possibly moving
    AliasConditionState = BETWEEN_FIRING_SHOTS_A
    
    ConditionState                    = RUBBLE
      Model                           = RVGrumble_D
      Animation                       = RVGrumble_D.RVGrumble_D
    End
    AliasConditionState = REALLYDAMAGED MOVING
    AliasConditionState = REALLYDAMAGED MOVING BETWEEN_FIRING_SHOTS_A
    
    ;*** UNPACKING STATE  -- preparing to fire ***
    ConditionState    = UNPACKING
      Model           = RVGrumble
      Animation       = RVGrumble.RVGrumble
      AnimationMode   = MANUAL
    End
    AliasConditionState = UNPACKING BETWEEN_FIRING_SHOTS_A ;Very long shot delay
    ;***
    ConditionState    = REALLYDAMAGED UNPACKING
      Model           = RVGrumble_D
      Animation       = RVGrumble_D.RVGrumble_D
      AnimationMode   = MANUAL
    End
    AliasConditionState = REALLYDAMAGED UNPACKING BETWEEN_FIRING_SHOTS_A ;Very long shot delay

    ;*** PACKING STATE -- preparing to move ***
    ConditionState    = PACKING
      Model           = RVGrumble
      Animation       = RVGrumble.RVGrumble
      AnimationMode   = MANUAL
    End
    AliasConditionState = PACKING BETWEEN_FIRING_SHOTS_A ;Very long shot delay

    ConditionState    = REALLYDAMAGED PACKING
      Model           = RVGrumble_D
      Animation       = RVGrumble_D.RVGrumble_D
      AnimationMode   = MANUAL
    End
    AliasConditionState = REALLYDAMAGED PACKING BETWEEN_FIRING_SHOTS_A ;Very long shot delay

    ;*** DEPLOYED STATE -- ready to fire ***
    ConditionState    = DEPLOYED 
      Model           = RVGrumble
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
    End
    
    AliasConditionState = DEPLOYED FIRING_A
    AliasConditionState = DEPLOYED BETWEEN_FIRING_SHOTS_A
    AliasConditionState = DEPLOYED RELOADING_A
    AliasConditionState = DEPLOYED MOVING

    ConditionState  = DEPLOYED REALLYDAMAGED
      Model           = RVGrumble_D
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
    End
    
    AliasConditionState = DEPLOYED REALLYDAMAGED FIRING_A
    AliasConditionState = DEPLOYED REALLYDAMAGED BETWEEN_FIRING_SHOTS_A
    AliasConditionState = DEPLOYED REALLYDAMAGED RELOADING_A
    AliasConditionState = DEPLOYED REALLYDAMAGED MOVING

    TrackMarks = EXTireTrack.tga
    Dust = ScudLauncherDust
    DirtSpray = RocketBuggyDirtSpray
    PowerslideSpray = RocketBuggyDirtPowerSlide
    
    LeftFrontTireBone     = Tire01
    RightFrontTireBone    = Tire02
    MidLeftFrontTireBone  = Tire03
    MidRightFrontTireBone = Tire04
    MidLeftRearTireBone   = Tire05
    MidRightRearTireBone  = Tire06
    LeftRearTireBone      = Tire07
    RightRearTireBone     = Tire08

    TireRotationMultiplier = 0.2
  End

  Draw = W3DModelDraw ModuleTag_Headlights01

    DefaultConditionState
      Model = RVGrumble_N
    End
    AliasConditionState = MOVING
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_A
    AliasConditionState = BETWEEN_FIRING_SHOTS_A
    AliasConditionState = REALLYDAMAGED MOVING
    AliasConditionState = REALLYDAMAGED MOVING BETWEEN_FIRING_SHOTS_A
    AliasConditionState = RUBBLE
    AliasConditionState = UNPACKING
    AliasConditionState = UNPACKING BETWEEN_FIRING_SHOTS_A
    AliasConditionState = REALLYDAMAGED UNPACKING
    AliasConditionState = REALLYDAMAGED UNPACKING BETWEEN_FIRING_SHOTS_A
    AliasConditionState = PACKING
    AliasConditionState = PACKING BETWEEN_FIRING_SHOTS_A ;Very long shot delay
    AliasConditionState = REALLYDAMAGED PACKING
    AliasConditionState = REALLYDAMAGED PACKING BETWEEN_FIRING_SHOTS_A ;Very long shot delay

    ;*** DEPLOYED STATE -- ready to fire ***
    ConditionState    = DEPLOYED 
      Model           = NONE
    End    
    AliasConditionState = DEPLOYED FIRING_A
    AliasConditionState = DEPLOYED BETWEEN_FIRING_SHOTS_A
    AliasConditionState = DEPLOYED RELOADING_A
    AliasConditionState = DEPLOYED MOVING
    AliasConditionState = DEPLOYED REALLYDAMAGED
    AliasConditionState = DEPLOYED REALLYDAMAGED FIRING_A
    AliasConditionState = DEPLOYED REALLYDAMAGED BETWEEN_FIRING_SHOTS_A
    AliasConditionState = DEPLOYED REALLYDAMAGED RELOADING_A
    AliasConditionState = DEPLOYED REALLYDAMAGED MOVING
    
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Grumble
  Side = Boss
  EditorSorting   = VEHICLE
  TransportSlotCount = 8                 ;how many "slots" we take in a transport (0 == not transportable)

  WeaponSet
    Conditions = None

    Weapon            = PRIMARY S300GrumbleDummyWeapon
    AutoChooseSources = PRIMARY NONE
    
    Weapon            = SECONDARY S300GrumbleMissileWeapon
  End
  
  ArmorSet
    Conditions      = None
    Armor           = HeavyAntiAirArmor
    DamageFX        = TankDamageFX
  End

  BuildCost       = 25000
  BuildTime       = 20.0          ;in seconds    
  VisionRange     = 350
  ShroudClearingRange = 300

  Prerequisites
    Object = Boss_WarFactory
    Object = Boss_TechCentr
	Object = Boss_RussiaSatelliteCenter
  End
  
  ExperienceValue    = 100 100 200 400 ;Experience point value at each level
  ExperienceRequired = 0   200 300 600 ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet    = Boss_GrumbleCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect           = GrumbleVoiceSelect
  VoiceMove             = GrumbleVoiceMove
  VoiceGuard            = GrumbleVoiceMove
  VoiceAttack           = GrumbleVoiceAttack
  VoiceAttackAir        = GrumbleVoiceAttack
  SoundMoveStart        = ScudLauncherMoveStart
  SoundMoveStartDamaged = ScudLauncherMoveStart
  
  UnitSpecificSounds
    VoiceCreate         = GrumbleVoiceCreate
    Deploy              = GrumbleDeploy
    Undeploy            = GrumbleUnDeploy
    VoiceEnter          = GrumbleVoiceMove
  End


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS VEHICLE HUGE_VEHICLE SCORE
  
  Body = ActiveBody ModuleTag_02
    MaxHealth       = 400.0
    InitialHealth   = 400.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers determine how fast it drains away on its own.
    SubdualDamageCap = 550
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

  Behavior = DeployStyleAIUpdate ModuleTag_04
    Turret
      TurretTurnRate        = 0
      TurretPitchRate       = 0
      ControlledWeaponSlots = PRIMARY SECONDARY TERTIARY
      InitiallyDisabled     = Yes
    End
    AutoAcquireEnemiesWhenIdle = Yes Stealthed NotWhileAttacking
    PackTime = 1155
    UnpackTime = 1155
    TurretsFunctionOnlyWhenDeployed = Yes
    ManualDeployAnimations = Yes
    MoodAttackCheckRate = 30
  End
  Locomotor = SET_NORMAL ScudLauncherLocomotor

  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 50.0
  End

  Behavior = SlowDeathBehavior ModuleTag_06
    DeathTypes = ALL -CRUSHED -SPLATTED
    DestructionDelay  = 500
    DestructionDelayVariance  = 100
    FX  = INITIAL  FX_CrusaderCatchFire
    FX  = FINAL  FX_BattleMasterExplosionOneFinal
    OCL = FINAL OCL_RussiaGrumbleDeathEffect
  End
    
  ; A crushing defeat
  Behavior = FXListDie ModuleTag_07
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  Behavior = CreateObjectDie ModuleTag_08
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_CrusaderTank_CrushEffect
  End

  Behavior                 = TransitionDamageFX ModuleTag_10
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_NukeCannonDamageTransition
  End

  Behavior = DestroyDie ModuleTag_11
    DeathTypes = NONE +CRUSHED +SPLATTED
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End
  
  Behavior = StealthUpdate ModuleTag_GPSStealth01
    StealthDelay                = 2000 ; msec
    StealthForbiddenConditions  = FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
    InnateStealth               = Yes
    RequiredStatus              = REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
  End
  
  ; Behavior = FireWeaponUpdate ModuleTag_DeployMarkerDecal01
    ; Weapon = GLACommandTruckRadarCollisionDummyWeapon
  ; End

  Behavior = FireWeaponCollide ModuleTag_DeployMarkerDecal02
    CollideWeapon  = S300GrumbleDeployedDecalWeapon
    RequiredStatus = DEPLOYED
  End

  Geometry = BOX
  GeometryMajorRadius = 32.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 17.0
  GeometryIsSmall = No
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length
  Scale = 1.05
End


;------------------------------------------------------------------------------
Object Boss_ChinaBunker

  ; *** ART Parameters ***
  SelectPortrait         = SNBunker_L
  ButtonImage            = SNBunker
  Draw                   = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes
   
   
    ;day
    ConditionState       = NONE
      Model              = NBBunker
    End
    ConditionState       = DAMAGED
      Model              = NBBunker_D
        ParticleSysBone      = Fire01  SmolderingFire
        ParticleSysBone      = Smoke01 SmolderingSmoke
        ParticleSysBone      = Fire01  SmolderingFlameCore
        ParticleSysBone      = Fire02  SmolderingFire
        ParticleSysBone      = Smoke02 SmolderingSmoke
        ParticleSysBone      = Fire02  SmolderingFlameCore
    End
    ConditionState       = REALLYDAMAGED RUBBLE
      Model              = NBBunker_E
      ParticleSysBone        = Fire01 SmolderingFire
      ParticleSysBone        = Fire01 SmolderingFlameCore
      ParticleSysBone        = Fire02 SmolderingFire
      ParticleSysBone        = Fire02 SmolderingFlameCore
      ParticleSysBone        = Fire03 SmolderingFire
      ParticleSysBone        = Fire03 SmolderingFlameCore
      ParticleSysBone        = Fire04 SmolderingFire
      ParticleSysBone        = Fire04 SmolderingFlameCore
      ParticleSysBone        = Fire05 SmolderingFire
      ParticleSysBone        = Fire05 SmolderingFlameCore
      ParticleSysBone        = Smoke01  SmolderingSmoke
      ParticleSysBone        = Smoke02 SmolderingSmoke
      ParticleSysBone        = Smoke03 SmolderingSmoke
      ParticleSysBone        = Smoke04 SmolderingSmoke
      ParticleSysBone        = Smoke05 SmolderingSmoke
    End
    
    ConditionState       = GARRISONED
      Model              = NBBunker_G
    End
    ConditionState       = DAMAGED GARRISONED
      Model              = NBBunker_DG
        ParticleSysBone      = Fire01  SmolderingFire
        ParticleSysBone      = Smoke01 SmolderingSmoke
        ParticleSysBone      = Fire01  SmolderingFlameCore
        ParticleSysBone      = Fire02  SmolderingFire
        ParticleSysBone      = Smoke02 SmolderingSmoke
        ParticleSysBone      = Fire02  SmolderingFlameCore
    End
    ConditionState       = REALLYDAMAGED RUBBLE GARRISONED
      Model              = NBBunker_EG
      ParticleSysBone        = Fire01 SmolderingFire
      ParticleSysBone        = Fire01 SmolderingFlameCore
      ParticleSysBone        = Fire02 SmolderingFire
      ParticleSysBone        = Fire02 SmolderingFlameCore
      ParticleSysBone        = Fire03 SmolderingFire
      ParticleSysBone        = Fire03 SmolderingFlameCore
      ParticleSysBone        = Fire04 SmolderingFire
      ParticleSysBone        = Fire04 SmolderingFlameCore
      ParticleSysBone        = Fire05 SmolderingFire
      ParticleSysBone        = Fire05 SmolderingFlameCore
      ParticleSysBone        = Smoke01  SmolderingSmoke
      ParticleSysBone        = Smoke02 SmolderingSmoke
      ParticleSysBone        = Smoke03 SmolderingSmoke
      ParticleSysBone        = Smoke04 SmolderingSmoke
      ParticleSysBone        = Smoke05 SmolderingSmoke
    End
    
    
    
    ConditionState       = SNOW
      Model              = NBBunker_S
    End
    ConditionState       = DAMAGED SNOW
      Model              = NBBunker_DS
        ParticleSysBone      = Fire01  SmolderingFire
        ParticleSysBone      = Smoke01 SmolderingSmoke
        ParticleSysBone      = Fire01  SmolderingFlameCore
        ParticleSysBone      = Fire02  SmolderingFire
        ParticleSysBone      = Smoke02 SmolderingSmoke
        ParticleSysBone      = Fire02  SmolderingFlameCore
    End
    ConditionState       = REALLYDAMAGED RUBBLE SNOW
      Model              = NBBunker_ES
      ParticleSysBone        = Fire01 SmolderingFire
      ParticleSysBone        = Fire01 SmolderingFlameCore
      ParticleSysBone        = Fire02 SmolderingFire
      ParticleSysBone        = Fire02 SmolderingFlameCore
      ParticleSysBone        = Fire03 SmolderingFire
      ParticleSysBone        = Fire03 SmolderingFlameCore
      ParticleSysBone        = Fire04 SmolderingFire
      ParticleSysBone        = Fire04 SmolderingFlameCore
      ParticleSysBone        = Fire05 SmolderingFire
      ParticleSysBone        = Fire05 SmolderingFlameCore
      ParticleSysBone        = Smoke01  SmolderingSmoke
      ParticleSysBone        = Smoke02 SmolderingSmoke
      ParticleSysBone        = Smoke03 SmolderingSmoke
      ParticleSysBone        = Smoke04 SmolderingSmoke
      ParticleSysBone        = Smoke05 SmolderingSmoke
    End
    
    
    ConditionState       = SNOW GARRISONED
      Model              = NBBunker_SG
    End
    ConditionState       = DAMAGED SNOW GARRISONED
      Model              = NBBunker_DSG
        ParticleSysBone      = Fire01  SmolderingFire
        ParticleSysBone      = Smoke01 SmolderingSmoke
        ParticleSysBone      = Fire01  SmolderingFlameCore
        ParticleSysBone      = Fire02  SmolderingFire
        ParticleSysBone      = Smoke02 SmolderingSmoke
        ParticleSysBone      = Fire02  SmolderingFlameCore
    End
    ConditionState       = REALLYDAMAGED RUBBLE SNOW GARRISONED
      Model              = NBBunker_ESG
      ParticleSysBone        = Fire01 SmolderingFire
      ParticleSysBone        = Fire01 SmolderingFlameCore
      ParticleSysBone        = Fire02 SmolderingFire
      ParticleSysBone        = Fire02 SmolderingFlameCore
      ParticleSysBone        = Fire03 SmolderingFire
      ParticleSysBone        = Fire03 SmolderingFlameCore
      ParticleSysBone        = Fire04 SmolderingFire
      ParticleSysBone        = Fire04 SmolderingFlameCore
      ParticleSysBone        = Fire05 SmolderingFire
      ParticleSysBone        = Fire05 SmolderingFlameCore
      ParticleSysBone        = Smoke01  SmolderingSmoke
      ParticleSysBone        = Smoke02 SmolderingSmoke
      ParticleSysBone        = Smoke03 SmolderingSmoke
      ParticleSysBone        = Smoke04 SmolderingSmoke
      ParticleSysBone        = Smoke05 SmolderingSmoke
    End
    



   ;night
    ConditionState       = NIGHT
      Model              = NBBunker_N
    End
    ConditionState       = DAMAGED NIGHT
      Model              = NBBunker_DN
      ParticleSysBone        = Fire01  SmolderingFire
      ParticleSysBone        = Smoke01 SmolderingSmoke
      ParticleSysBone        = Fire01  SmolderingFlameCore
      ParticleSysBone        = Fire02  SmolderingFire
      ParticleSysBone        = Smoke02 SmolderingSmoke
      ParticleSysBone        = Fire02  SmolderingFlameCore
    End
    ConditionState       = REALLYDAMAGED RUBBLE NIGHT
      Model              = NBBunker_EN
      ParticleSysBone        = Fire01 SmolderingFire
      ParticleSysBone        = Fire01 SmolderingFlameCore
      ParticleSysBone        = Fire02 SmolderingFire
      ParticleSysBone        = Fire02 SmolderingFlameCore
      ParticleSysBone        = Fire03 SmolderingFire
      ParticleSysBone        = Fire03 SmolderingFlameCore
      ParticleSysBone        = Fire04 SmolderingFire
      ParticleSysBone        = Fire04 SmolderingFlameCore
      ParticleSysBone        = Fire05 SmolderingFire
      ParticleSysBone        = Fire05 SmolderingFlameCore
      ParticleSysBone        = Smoke01  SmolderingSmoke
      ParticleSysBone        = Smoke02 SmolderingSmoke
      ParticleSysBone        = Smoke03 SmolderingSmoke
      ParticleSysBone        = Smoke04 SmolderingSmoke
      ParticleSysBone        = Smoke05 SmolderingSmoke
    End
    
    ;night
    ConditionState       = NIGHT GARRISONED
      Model              = NBBunker_NG
    End
    ConditionState       = DAMAGED NIGHT GARRISONED
      Model              = NBBunker_DNG
      ParticleSysBone        = Fire01  SmolderingFire
      ParticleSysBone        = Smoke01 SmolderingSmoke
      ParticleSysBone        = Fire01  SmolderingFlameCore
      ParticleSysBone        = Fire02  SmolderingFire
      ParticleSysBone        = Smoke02 SmolderingSmoke
      ParticleSysBone        = Fire02  SmolderingFlameCore
    End
    ConditionState       = REALLYDAMAGED RUBBLE NIGHT GARRISONED
      Model              = NBBunker_ENG
      ParticleSysBone        = Fire01 SmolderingFire
      ParticleSysBone        = Fire01 SmolderingFlameCore
      ParticleSysBone        = Fire02 SmolderingFire
      ParticleSysBone        = Fire02 SmolderingFlameCore
      ParticleSysBone        = Fire03 SmolderingFire
      ParticleSysBone        = Fire03 SmolderingFlameCore
      ParticleSysBone        = Fire04 SmolderingFire
      ParticleSysBone        = Fire04 SmolderingFlameCore
      ParticleSysBone        = Fire05 SmolderingFire
      ParticleSysBone        = Fire05 SmolderingFlameCore
      ParticleSysBone        = Smoke01  SmolderingSmoke
      ParticleSysBone        = Smoke02 SmolderingSmoke
      ParticleSysBone        = Smoke03 SmolderingSmoke
      ParticleSysBone        = Smoke04 SmolderingSmoke
      ParticleSysBone        = Smoke05 SmolderingSmoke
    End
    
    
    
    
    ;night snow
    ConditionState       = NIGHT SNOW
      Model              = NBBunker_NS
    End
    ConditionState       = DAMAGED NIGHT SNOW
      Model              = NBBunker_DNS
      ParticleSysBone        = Fire01  SmolderingFire
      ParticleSysBone        = Smoke01 SmolderingSmoke
      ParticleSysBone        = Fire01  SmolderingFlameCore
      ParticleSysBone        = Fire02  SmolderingFire
      ParticleSysBone        = Smoke02 SmolderingSmoke
      ParticleSysBone        = Fire02  SmolderingFlameCore
    End
    ConditionState       = REALLYDAMAGED RUBBLE NIGHT SNOW
      Model              = NBBunker_ENS
      ParticleSysBone        = Fire01 SmolderingFire
      ParticleSysBone        = Fire01 SmolderingFlameCore
      ParticleSysBone        = Fire02 SmolderingFire
      ParticleSysBone        = Fire02 SmolderingFlameCore
      ParticleSysBone        = Fire03 SmolderingFire
      ParticleSysBone        = Fire03 SmolderingFlameCore
      ParticleSysBone        = Fire04 SmolderingFire
      ParticleSysBone        = Fire04 SmolderingFlameCore
      ParticleSysBone        = Fire05 SmolderingFire
      ParticleSysBone        = Fire05 SmolderingFlameCore
      ParticleSysBone        = Smoke01  SmolderingSmoke
      ParticleSysBone        = Smoke02 SmolderingSmoke
      ParticleSysBone        = Smoke03 SmolderingSmoke
      ParticleSysBone        = Smoke04 SmolderingSmoke
      ParticleSysBone        = Smoke05 SmolderingSmoke
    End
    
    
       ;night snow
    ConditionState       = NIGHT SNOW GARRISONED
      Model              = NBBunker_NSG
    End
    ConditionState       = DAMAGED NIGHT SNOW GARRISONED
      Model              = NBBunker_DNSG
      ParticleSysBone        = Fire01  SmolderingFire
      ParticleSysBone        = Smoke01 SmolderingSmoke
      ParticleSysBone        = Fire01  SmolderingFlameCore
      ParticleSysBone        = Fire02  SmolderingFire
      ParticleSysBone        = Smoke02 SmolderingSmoke
      ParticleSysBone        = Fire02  SmolderingFlameCore
    End
    ConditionState       = REALLYDAMAGED RUBBLE NIGHT SNOW GARRISONED
      Model              = NBBunker_ENSG
      ParticleSysBone        = Fire01 SmolderingFire
      ParticleSysBone        = Fire01 SmolderingFlameCore
      ParticleSysBone        = Fire02 SmolderingFire
      ParticleSysBone        = Fire02 SmolderingFlameCore
      ParticleSysBone        = Fire03 SmolderingFire
      ParticleSysBone        = Fire03 SmolderingFlameCore
      ParticleSysBone        = Fire04 SmolderingFire
      ParticleSysBone        = Fire04 SmolderingFlameCore
      ParticleSysBone        = Fire05 SmolderingFire
      ParticleSysBone        = Fire05 SmolderingFlameCore
      ParticleSysBone        = Smoke01  SmolderingSmoke
      ParticleSysBone        = Smoke02 SmolderingSmoke
      ParticleSysBone        = Smoke03 SmolderingSmoke
      ParticleSysBone        = Smoke04 SmolderingSmoke
      ParticleSysBone        = Smoke05 SmolderingSmoke
    End
    
    
        ;**************************************************************************************************************************
    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ;for this draw module
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = NBBunker
      ;Animation          = NBBunker.NBBunker
      ;AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = NBBunker_D
      ;Animation          = NBBunker_D.NBBunker_D
      ;AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = NBBunker_E
      ;Animation          = NBBunker_E.NBBunker_E
      ;AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
      Model              = NBBunker_N
      ;Animation          = NBBunker_N.NBBunker_N
      ;AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
      Model              = NBBunker_DN
      ;Animation          = NBBunker_DN.NBBunker_DN
      ;AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
      Model              = NBBunker_EN
      ;Animation          = NBBunker_EN.NBBunker_EN
      ;AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model              = NBBunker_S
      ;Animation          = NBBunker_S.NBBunker_S
      ;AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
      Model              = NBBunker_DS
      ;Animation          = NBBunker_DS.NBBunker_DS
      ;AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
      Model              = NBBunker_ES
      ;Animation          = NBBunker_ES.NBBunker_ES
      ;AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
      Model              = NBBunker_NS
      ;Animation          = NBBunker_NS.NBBunker_NS
      ;AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
      Model              = NBBunker_DNS
      ;Animation          = NBBunker_DNS.NBBunker_DNS
      ;AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
      Model              = NBBunker_ENS
     ; Animation          = NBBunker_ENS.NBBunker_ENS
     ; AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End

    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD GARRISONED
    AliasConditionState  = SOLD DAMAGED GARRISONED
    AliasConditionState  = SOLD REALLYDAMAGED GARRISONED
    AliasConditionState  = SOLD NIGHT GARRISONED
    AliasConditionState  = SOLD NIGHT DAMAGED GARRISONED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED GARRISONED
    AliasConditionState  = SOLD SNOW GARRISONED
    AliasConditionState  = SOLD SNOW DAMAGED GARRISONED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED GARRISONED
    AliasConditionState  = SOLD NIGHT SNOW GARRISONED
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED GARRISONED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED GARRISONED
    ;**************************************************************************************************************************

    
  End  
    
  ; ------------ construction-zone fence -----------------
  Draw = W3DModelDraw ModuleTag_02
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = NBBunker_A4
      Animation       = NBBunker_A4.NBBunker_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
    End
    ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = NBBunker_A4N
      Animation       = NBBunker_A4N.NBBunker_A4N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
    End
    ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = NBBunker_A4S
      Animation       = NBBunker_A4S.NBBunker_A4S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
    End
    ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = NBBunker_A4SN
      Animation       = NBBunker_A4SN.NBBunker_A4SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = NBBunker_A4
      Animation       = NBBunker_A4.NBBunker_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = NBBunker_A4N
      Animation       = NBBunker_A4N.NBBunker_A4N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = NBBunker_A4S
      Animation       = NBBunker_A4S.NBBunker_A4S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = NBBunker_A4SN
      Animation       = NBBunker_A4SN.NBBunker_A4SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = NBBunker_A4
      Animation       = NBBunker_A4.NBBunker_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = NBBunker_A4N
      Animation       = NBBunker_A4N.NBBunker_A4N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = NBBunker_A4S
      Animation       = NBBunker_A4S.NBBunker_A4S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = NBBunker_A4SN
      Animation       = NBBunker_A4SN.NBBunker_A4SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ under-construction scaffolding -----------------
  Draw = W3DModelDraw ModuleTag_03
  AnimationsRequirePower = No
    MinLODRequired = MEDIUM
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = NBBunker_A6
      Animation       = NBBunker_A6.NBBunker_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Smoke01 BuildUpSmokeChina
      ParticleSysBone = Smoke02 BuildUpSmokeChina
      ParticleSysBone = Smoke03 BuildUpSmokeChina
      ParticleSysBone = Smoke04 BuildUpSmokeChina
    End
    ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      Model           = NBBunker_A6N
      Animation       = NBBunker_A6N.NBBunker_A6N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = Smoke01 BuildUpSmokeChina
      ParticleSysBone = Smoke02 BuildUpSmokeChina
      ParticleSysBone = Smoke03 BuildUpSmokeChina
      ParticleSysBone = Smoke04 BuildUpSmokeChina
    End
    ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      Model           = NBBunker_A6S
      Animation       = NBBunker_A6S.NBBunker_A6S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = Smoke01 BuildUpSnowSmoke
      ParticleSysBone = Smoke02 BuildUpSnowSmoke
      ParticleSysBone = Smoke03 BuildUpSnowSmoke
      ParticleSysBone = Smoke04 BuildUpSnowSmoke
    End
    ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      Model           = NBBunker_A6SN
      Animation       = NBBunker_A6SN.NBBunker_A6SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = Smoke01 BuildUpNightSnowSmoke
      ParticleSysBone = Smoke02 BuildUpNightSnowSmoke
      ParticleSysBone = Smoke03 BuildUpNightSnowSmoke
      ParticleSysBone = Smoke04 BuildUpNightSnowSmoke
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
     Model            = NBBunker_A6
      Animation       = NBBunker_A6.NBBunker_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
     Model            = NBBunker_A6N
      Animation       = NBBunker_A6N.NBBunker_A6N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
     Model            = NBBunker_A6S
      Animation       = NBBunker_A6S.NBBunker_A6S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
     Model            = NBBunker_A6SN
      Animation       = NBBunker_A6SN.NBBunker_A6SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = NBBunker_A6
      Animation       = NBBunker_A6.NBBunker_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = NBBunker_A6N
      Animation       = NBBunker_A6N.NBBunker_A6N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = NBBunker_A6S
      Animation       = NBBunker_A6S.NBBunker_A6S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = NBBunker_A6SN
      Animation       = NBBunker_A6SN.NBBunker_A6SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ being-constructed crane -----------------
  Draw = W3DModelDraw ModuleTag_04
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SOLD
      Model           = NONE
    End

    ConditionState  = ACTIVELY_BEING_CONSTRUCTED
      Model           = NBBunker_A5
      Animation       = NBBunker_A5.NBBunker_A5
      AnimationMode   = LOOP
      TransitionKey  = UP_DAY
    End

    ConditionState  = NIGHT ACTIVELY_BEING_CONSTRUCTED
      Model           = NBBunker_A5N
      Animation       = NBBunker_A5N.NBBunker_A5N
      AnimationMode   = LOOP
      TransitionKey  = UP_NIGHT
    End
    ConditionState  = SNOW ACTIVELY_BEING_CONSTRUCTED
      Model           = NBBunker_A5S
      Animation       = NBBunker_A5S.NBBunker_A5S
      AnimationMode   = LOOP
      TransitionKey  = UP_SNOW
    End
    ConditionState  = SNOW NIGHT ACTIVELY_BEING_CONSTRUCTED
      Model           = NBBunker_A5SN
      Animation       = NBBunker_A5SN.NBBunker_A5SN
      AnimationMode   = LOOP
      TransitionKey  = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model            = NBBunker_AB
      Animation       = NBBunker_AB.NBBunker_AB
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End

    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model            = NBBunker_ABN
      Animation       = NBBunker_ABN.NBBunker_ABN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model            = NBBunker_ABS
      Animation       = NBBunker_ABS.NBBunker_ABS
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model            = NBBunker_ABSN
      Animation       = NBBunker_ABSN.NBBunker_ABSN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model            = NBBunker_AB
      Animation       = NBBunker_AB.NBBunker_AB
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model            = NBBunker_ABN
      Animation       = NBBunker_ABN.NBBunker_ABN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model            = NBBunker_ABS
      Animation       = NBBunker_ABS.NBBunker_ABS
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model            = NBBunker_ABSN
      Animation       = NBBunker_ABSN.NBBunker_ABSN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End
  
  PlacementViewAngle     = -135

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Bunker
  Side = Boss
  EditorSorting     = STRUCTURE
  Prerequisites
    Object = Boss_Barracks
  End
  BuildCost         = 1500
  BuildTime         = 5.0           ; in seconds
  EnergyProduction  = 0
  VisionRange       = 300.0         ; Shroud clearing distance
  ShroudClearingRange = 200
  ArmorSet
    Conditions      = None
    Armor           = BunkerArmor
    DamageFX        = StructureDamageFXNoShake
  End
  CommandSet       = ChinaBunkerCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect       = BunkerSelect
  SoundOnDamaged        = BuildingDamagedStateLight
  SoundOnReallyDamaged  = BuildingDestroy

  UnitSpecificSounds
    UnderConstruction     = UnderConstructionLoop
  End

  ; *** ENGINEERING Parameters ***
  KindOf            = PRELOAD STRUCTURE SELECTABLE STICK_TO_TERRAIN_SLOPE IMMOBILE SCORE FS_BASE_DEFENSE GARRISONABLE_UNTIL_DESTROYED IMMUNE_TO_CAPTURE
  Body              = StructureBody ModuleTag_05
    MaxHealth       = 1000.0
    InitialHealth   = 1000.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 1200
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100

  End
;  Behavior               = FXListDie ModuleTag_07
;    DeathFX         = FX_SmallStructureDeath
;  End

  ExperienceValue     = 20 20 20 20  ; Experience point value at each level

  Behavior = GarrisonContain ModuleTag_08
    ContainMax                    = 5
    EnterSound                    = GarrisonEnter
    ExitSound                     = GarrisonExit
    ImmuneToClearBuildingAttacks  = Yes
  End

  Behavior = GenerateMinefieldBehavior     ModuleTag_09
    TriggeredBy           = Upgrade_ChinaMines
    MineName              = ChinaStandardMine
    SmartBorder           = Yes
    AlwaysCircular        = Yes

    Upgradable            = Yes
    UpgradedTriggeredBy   = Upgrade_ChinaEMPMines
    UpgradedMineName      = ChinaEMPMine
  End

  Behavior = ProductionUpdate ModuleTag_10
    ; nothing, but is required if we have any Object-level Upgrades!
  End

  Behavior = FlammableUpdate ModuleTag_12
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 5       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End
  
  Behavior             = CreateObjectDie ModuleTag_13
    CreationList  = OCL_LargeStructureDebris
  End
  Behavior             = FXListDie ModuleTag_14
    DeathFX       = FX_StructureSmallDeath
  End
  Behavior = DestroyDie ModuleTag_06
    ;nothing
  End

  Behavior = TransitionDamageFX ModuleTag_15
    ;-------------DESIGNED FOR SMALL SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
  End
  
  Behavior = CommandSetUpgrade ModuleTag_25
    CommandSet = ChinaBunkerCommandSetUpgrade
    TriggeredBy = Upgrade_ChinaMines
  End
  Behavior = ArmorUpgrade ModuleTag_26
    TriggeredBy = Upgrade_ChinaEMPMines
  End

  Geometry            = BOX
  GeometryMajorRadius = 16.0
  GeometryMinorRadius = 16.0
  GeometryHeight      = 20.0
  GeometryIsSmall     = No
  Shadow              = SHADOW_VOLUME
  BuildCompletion     = PLACED_BY_PLAYER

End

;---------------------------------------------------------------
Object Boss_MilitiaBunker

  ; *** ART Parameters ***
  SelectPortrait         = MBunker_L
  ButtonImage            = MBunker
  Draw = W3DModelDraw ModuleTag_01

    OkToChangeModelColor = Yes

    ExtraPublicBone = STATION01
    ExtraPublicBone = STATION02
    ExtraPublicBone = STATION03
    ExtraPublicBone = STATION04


    ConditionState = NONE
      Model         = glabunker
    End
    ConditionState = DAMAGED
      Model         = glabunker_d
    End
    ConditionState = REALLYDAMAGED
      Model         = glabunker_e
    End

    ConditionState       = GARRISONED
      Model              = glabunker
    End
    ConditionState       = DAMAGED GARRISONED
      Model              = glabunker_d
        ParticleSysBone      = Fire01  SmolderingFire
        ParticleSysBone      = Smoke01 SmolderingSmoke
        ParticleSysBone      = Fire01  SmolderingFlameCore
    End
    ConditionState       = REALLYDAMAGED RUBBLE GARRISONED
      Model              = glabunker_e
      ParticleSysBone        = Fire01 SmolderingFire
      ParticleSysBone        = Fire01 SmolderingFlameCore
      ParticleSysBone        = Fire02 SmolderingFire
      ParticleSysBone        = Fire02 SmolderingFlameCore
      ParticleSysBone        = Fire03 SmolderingFire
    End



    ; night
    ConditionState = NIGHT
      Model         = glabunker
    End
    ConditionState = DAMAGED NIGHT
      Model         = glabunker_d
    End
    ConditionState = REALLYDAMAGED NIGHT
      Model         = glabunker_e
    End

    ConditionState       = NIGHT GARRISONED
      Model              = glabunker
    End
    ConditionState       = DAMAGED NIGHT GARRISONED
      Model              = glabunker_d
      ParticleSysBone        = Fire01  SmolderingFire
      ParticleSysBone        = Smoke01 SmolderingSmoke
      ParticleSysBone        = Fire01  SmolderingFlameCore
    End
    ConditionState       = REALLYDAMAGED RUBBLE NIGHT GARRISONED
      Model              = glabunker_e
      ParticleSysBone        = Fire01 SmolderingFire
      ParticleSysBone        = Fire01 SmolderingFlameCore
      ParticleSysBone        = Fire02 SmolderingFire
      ParticleSysBone        = Fire02 SmolderingFlameCore
      ParticleSysBone        = Fire03 SmolderingFire
      ParticleSysBone        = Fire03 SmolderingFlameCore
    End



    ; Snow
    ConditionState = SNOW
      Model         = glabunker
    End
    ConditionState = DAMAGED SNOW
      Model         = glabunker_d
    End
    ConditionState = REALLYDAMAGED SNOW
      Model         = glabunker_e
    End

    ConditionState       = SNOW GARRISONED
      Model              = glabunker
    End
    ConditionState       = DAMAGED SNOW GARRISONED
      Model              = glabunker_d
        ParticleSysBone      = Fire01  SmolderingFire
        ParticleSysBone      = Smoke01 SmolderingSmoke
    End
    ConditionState       = REALLYDAMAGED RUBBLE SNOW GARRISONED
      Model              = glabunker_e
      ParticleSysBone        = Fire01 SmolderingFire
      ParticleSysBone        = Fire01 SmolderingFlameCore
    End



    ; night snow
    ConditionState = SNOW NIGHT
      Model         = glabunker
    End
    ConditionState = DAMAGED SNOW NIGHT
      Model         = glabunker_d
    End
    ConditionState = REALLYDAMAGED SNOW NIGHT
      Model         = glabunker_e
    End

    ConditionState       = NIGHT SNOW GARRISONED
      Model              = glabunker
    End
    ConditionState       = DAMAGED NIGHT SNOW GARRISONED
      Model              = glabunker_d
      ParticleSysBone        = Fire01  SmolderingFire
      ParticleSysBone        = Smoke01 SmolderingSmoke
      ParticleSysBone        = Fire01  SmolderingFlameCore
    End
    ConditionState       = REALLYDAMAGED RUBBLE NIGHT SNOW GARRISONED
      Model              = glabunker_e
      ParticleSysBone        = Fire01 SmolderingFire
      ParticleSysBone        = Fire01 SmolderingFlameCore
      ParticleSysBone        = Fire02 SmolderingFire
      ParticleSysBone        = Fire02 SmolderingFlameCore
    End



    ;**************************************************************************************************************************
    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ;for this draw module
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = glabunker
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = glabunker_d
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = glabunker_e
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
      Model              = glabunker
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
      Model              = glabunker_d
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
      Model              = glabunker_e
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model              = glabunker
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
      Model              = glabunker_d
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
      Model              = glabunker_e
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
      Model              = glabunker
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
      Model              = glabunker_d
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
      Model              = glabunker_e
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End

    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = GARRISONED SOLD 
    AliasConditionState  = GARRISONED SOLD DAMAGED
    AliasConditionState  = GARRISONED SOLD REALLYDAMAGED
    AliasConditionState  = GARRISONED SOLD NIGHT
    AliasConditionState  = GARRISONED SOLD NIGHT DAMAGED
    AliasConditionState  = GARRISONED SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = GARRISONED SOLD SNOW
    AliasConditionState  = GARRISONED SOLD SNOW DAMAGED
    AliasConditionState  = GARRISONED SOLD SNOW REALLYDAMAGED
    AliasConditionState  = GARRISONED SOLD NIGHT SNOW
    AliasConditionState  = GARRISONED SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = GARRISONED SOLD NIGHT SNOW REALLYDAMAGED
    ;**************************************************************************************************************************
  End

  ; ------------ construction-zone fence -----------------
  Draw = W3DModelDraw ModuleTag_02121
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = MBArtillery_A4
      Animation       = MBArtillery_A4.MBArtillery_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
    End
    ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = MBArtillery_A4
      Animation       = MBArtillery_A4.MBArtillery_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
    End
    ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = MBArtillery_A4
      Animation       = MBArtillery_A4.MBArtillery_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
    End
    ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = MBArtillery_A4
      Animation       = MBArtillery_A4.MBArtillery_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = MBArtillery_A4
      Animation       = MBArtillery_A4.MBArtillery_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = MBArtillery_A4
      Animation       = MBArtillery_A4.MBArtillery_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = MBArtillery_A4
      Animation       = MBArtillery_A4.MBArtillery_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = MBArtillery_A4
      Animation       = MBArtillery_A4.MBArtillery_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = MBArtillery_A4
      Animation       = MBArtillery_A4.MBArtillery_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = MBArtillery_A4
      Animation       = MBArtillery_A4.MBArtillery_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = MBArtillery_A4
      Animation       = MBArtillery_A4.MBArtillery_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = MBArtillery_A4
      Animation       = MBArtillery_A4.MBArtillery_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ under-construction scaffolding -----------------
  Draw                = W3DModelDraw ModuleTag_03
  AnimationsRequirePower = No
    MinLODRequired    = MEDIUM
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = ABSupDrop_A6
      Animation       = ABSupDrop_A6.ABSupDrop_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      Model           = ABSupDrop_A6N
      Animation       = ABSupDrop_A6N.ABSupDrop_A6N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      Model           = ABSupDrop_A6S
      Animation       = ABSupDrop_A6S.ABSupDrop_A6S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      Model           = ABSupDrop_A6SN
      Animation       = ABSupDrop_A6SN.ABSupDrop_A6SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
     Model            = ABSupDrop_A6
      Animation       = ABSupDrop_A6.ABSupDrop_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
     Model            = ABSupDrop_A6N
      Animation       = ABSupDrop_A6N.ABSupDrop_A6N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
     Model            = ABSupDrop_A6S
      Animation       = ABSupDrop_A6S.ABSupDrop_A6S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
     Model            = ABSupDrop_A6SN
      Animation       = ABSupDrop_A6SN.ABSupDrop_A6SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = ABSupDrop_A6
      Animation       = ABSupDrop_A6.ABSupDrop_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = ABSupDrop_A6N
      Animation       = ABSupDrop_A6N.ABSupDrop_A6N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = ABSupDrop_A6S
      Animation       = ABSupDrop_A6S.ABSupDrop_A6S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = ABSupDrop_A6SN
      Animation       = ABSupDrop_A6SN.ABSupDrop_A6SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End
  PlacementViewAngle = -45

  ; ***DESIGN parameters ***
  DisplayName       = OBJECT:Bunker
  Side              = Boss
  EditorSorting     = STRUCTURE
  Prerequisites
    Object = Boss_Barracks
  End
  BuildCost        = 500
  BuildTime        = 10.0           ; in seconds
  EnergyProduction = 0
  VisionRange    = 300.0           ; Shroud clearing distance AND targeting range
  ShroudClearingRange = 360
  ArmorSet
    Conditions      = None
    Armor           = FireBaseArmor
    DamageFX        = StructureDamageFXNoShake
  End
  CommandSet        = MilitiaBunkerCommandSet
  ExperienceValue     = 200 200 200 200  ; Experience point value at each level

  ; *** AUDIO Parameters ***
  VoiceSelect = FireBaseSelect
  SoundOnDamaged        = BuildingDamagedStateLight
  SoundOnReallyDamaged  = BuildingDestroy

  UnitSpecificSounds
    UnderConstruction     = UnderConstructionLoop
  End

  UnitSpecificSounds
  ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    TurretMoveStart = NoSound
    TurretMoveLoop = NoSound ;These aren't playing properly, will revisit (mp) TurretMoveLoopLoud
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority   = STRUCTURE
  KindOf          = PRELOAD STRUCTURE SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT IMMOBILE SPAWNS_ARE_THE_WEAPONS SCORE FS_TECHNOLOGY FS_BASE_DEFENSE IMMUNE_TO_CAPTURE GARRISONABLE_UNTIL_DESTROYED STEALTH_GARRISON


  Body                 = HiveStructureBody ModuleTag_04;
    MaxHealth          = 1000.0
    InitialHealth      = 1000.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 1200
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
    ;**Careful with these damage types -- because area damage types will already
    ;**damage slaves.
    PropagateDamageTypesToSlavesWhenExisting = NONE +SNIPER ;+SMALL_ARMS  +POISON +RADIATION +SURRENDER
    ;SwallowDamageTypesIfSlavesNotExisting = NONE +SNIPER +POISON +SURRENDER; Take no damage if no one to pass this to
  End

  Behavior = GarrisonContain ModuleTag_07
    ContainMax                    = 4
    EnterSound                    = GarrisonEnter
    ExitSound                     = GarrisonExit
    ImmuneToClearBuildingAttacks  = Yes
    DamagePercentToUnits          = 30%

    IsEnclosingContainer          = No

  End

  Behavior = StealthUpdate ModuleTag_04578
    StealthDelay                = 2000 ; msec
    StealthForbiddenConditions  = USING_ABILITY ATTACKING TAKING_DAMAGE RIDERS_ATTACKING
    FriendlyOpacityMin          = 50.0%
    FriendlyOpacityMax          = 100.0%
    InnateStealth               = Yes
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
  End

  Behavior = DestroyDie ModuleTag_08
    ;nothing
  End

  Behavior             = FXListDie ModuleTag_10
    DeathFX       = FX_StructureMediumDeath
  End

  Behavior = FlammableUpdate ModuleTag_12
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 5       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior                  = CreateObjectDie ModuleTag_13
    CreationList       = OCL_LargeStructureDebris
  End

  Behavior = TransitionDamageFX ModuleTag_14
    ;-------------DESIGNED FOR TINY SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionTinySmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionTinySmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionTinyExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionTinyShockwave
  End

  Geometry            = BOX
  GeometryMajorRadius = 26.0
  GeometryMinorRadius = 26.0
  GeometryHeight      = 15.0
  GeometryIsSmall     = No
  Shadow          = SHADOW_VOLUME
  BuildCompletion = PLACED_BY_PLAYER

End


;------------------------------------------------------------------------------
; Object Boss_ChinaInternetCenter

  ; ; *** ART Parameters ***
  
  ; ; ------------ the main building itself -----------------
  ; SelectPortrait         = SNIntCnt_L
  ; ButtonImage            = SNIntCnt
  ; UpgradeCameo1 =  Upgrade_ChinaSatelliteHackOne
  ; UpgradeCameo2 =  Upgrade_ChinaSatelliteHackTwo
  ; Draw                   = W3DModelDraw ModuleTag_01
    ; OkToChangeModelColor = Yes
    
    ; ; DAY ************************************
    ; DefaultConditionState
      ; Model              = NBINTCNT
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End

    ; ConditionState = USER_1   ; User 1 is set by an upgrade module.  First doors opening
      ; Model = NBINTCNT_A2
      ; Animation = NBINTCNT_A2.NBINTCNT_A2
      ; AnimationMode = ONCE
    ; End

    ; ConditionState = USER_1 USER_2   ; Second doors opening (Can't get the second without the first)
      ; Model = NBINTCNT_A2F
      ; Animation = NBINTCNT_A2F.NBINTCNT_A2F
      ; AnimationMode = ONCE
    ; End

    ; ConditionState       = DAMAGED
      ; Model              = NBINTCNT_D
    ; End

    ; ConditionState = DAMAGED USER_1   ; User 1 is set by an upgrade module.  First doors opening
      ; Model = NBINTCNT_A2D
      ; Animation = NBINTCNT_A2D.NBINTCNT_A2D
      ; AnimationMode = ONCE
    ; End

    ; ConditionState = DAMAGED USER_1 USER_2   ; Second doors opening (Can't get the second without the first)
      ; Model = NBINTCNT_A2FD
      ; Animation = NBINTCNT_A2FD.NBINTCNT_A2FD
      ; AnimationMode = ONCE
    ; End

    ; ConditionState       = REALLYDAMAGED
      ; Model              = NBINTCNT_E
      ; ParticleSysBone    = Smoke01 SmolderingSmoke
      ; ParticleSysBone    = Smoke02 SmolderingSmoke
      ; ParticleSysBone    = Smoke03 SmolderingSmoke
      ; ParticleSysBone    = Smoke04 SmolderingSmoke
      ; ParticleSysBone    = Smoke05 SmokeFactionLarge
      ; ParticleSysBone    = Smoke06 SmokeFactionLarge
      ; ParticleSysBone    = Fire01 SmolderingFire
      ; ParticleSysBone    = Fire02 SmolderingFire
      ; ParticleSysBone    = Fire03 FireFactionLarge
    ; End
    ; AliasConditionState = RUBBLE

    ; ConditionState = REALLYDAMAGED USER_1   ; User 1 is set by an upgrade module.  First doors opening
      ; Model = NBINTCNT_A2E
      ; Animation = NBINTCNT_A2E.NBINTCNT_A2E
      ; AnimationMode = ONCE
    ; End
    ; AliasConditionState = RUBBLE USER_1

    ; ConditionState = REALLYDAMAGED USER_1 USER_2   ; Second doors opening (Can't get the second without the first)
      ; Model = NBINTCNT_A2FE
      ; Animation = NBINTCNT_A2FE.NBINTCNT_A2FE
      ; AnimationMode = ONCE
    ; End
    ; AliasConditionState = RUBBLE USER_1 USER_2

    ; ;NIGHT ***********************************
    ; ConditionState       = NIGHT
      ; Model              = NBINTCNT_N
    ; End

    ; ConditionState = NIGHT USER_1   ; User 1 is set by an upgrade module.  First doors opening
      ; Model = NBINTCNT_A2N
      ; Animation = NBINTCNT_A2N.NBINTCNT_A2N
      ; AnimationMode = ONCE
    ; End

    ; ConditionState = NIGHT USER_1 USER_2   ; Second doors opening (Can't get the second without the first)
      ; Model = NBINTCNT_A2FN
      ; Animation = NBINTCNT_A2FN.NBINTCNT_A2FN
      ; AnimationMode = ONCE
    ; End

    ; ConditionState       = DAMAGED NIGHT
      ; Model              = NBINTCNT_DN
    ; End

    ; ConditionState = DAMAGED NIGHT USER_1   ; User 1 is set by an upgrade module.  First doors opening
      ; Model = NBINTCNT_A2DN
      ; Animation = NBINTCNT_A2DN.NBINTCNT_A2DN
      ; AnimationMode = ONCE
    ; End

    ; ConditionState = DAMAGED NIGHT USER_1 USER_2   ; Second doors opening (Can't get the second without the first)
      ; Model = NBINTCNT_A2FDN
      ; Animation = NBINTCNT_A2FDN.NBINTCNT_A2FDN
      ; AnimationMode = ONCE
    ; End

    ; ConditionState    = REALLYDAMAGED NIGHT
      ; Model           = NBINTCNT_EN
      ; ParticleSysBone    = Smoke01 SmolderingSmoke
      ; ParticleSysBone    = Smoke02 SmolderingSmoke
      ; ParticleSysBone    = Smoke03 SmolderingSmoke
      ; ParticleSysBone    = Smoke04 SmolderingSmoke
      ; ParticleSysBone    = Smoke05 SmokeFactionLarge
      ; ParticleSysBone    = Smoke06 SmokeFactionLarge
      ; ParticleSysBone    = Fire01 SmolderingFire
      ; ParticleSysBone    = Fire02 SmolderingFire
      ; ParticleSysBone    = Fire03 FireFactionLarge
    ; End
    ; AliasConditionState = RUBBLE NIGHT

    ; ConditionState = REALLYDAMAGED NIGHT USER_1   ; User 1 is set by an upgrade module.  First doors opening
      ; Model = NBINTCNT_A2EN
      ; Animation = NBINTCNT_A2EN.NBINTCNT_A2EN
      ; AnimationMode = ONCE
    ; End
    ; AliasConditionState = RUBBLE NIGHT USER_1

    ; ConditionState = REALLYDAMAGED NIGHT USER_1 USER_2   ; Second doors opening (Can't get the second without the first)
      ; Model = NBINTCNT_A2FEN
      ; Animation = NBINTCNT_A2FEN.NBINTCNT_A2FEN
      ; AnimationMode = ONCE
    ; End
    ; AliasConditionState = RUBBLE NIGHT USER_1 USER_2
    
    ; ;SNOW *************************************
    ; ConditionState       = SNOW
      ; Model              = NBINTCNT_S
    ; End

    ; ConditionState = SNOW USER_1   ; User 1 is set by an upgrade module.  First doors opening
      ; Model = NBINTCNT_A2S
      ; Animation = NBINTCNT_A2S.NBINTCNT_A2S
      ; AnimationMode = ONCE
    ; End

    ; ConditionState = SNOW USER_1 USER_2   ; Second doors opening (Can't get the second without the first)
      ; Model = NBINTCNT_A2FS
      ; Animation = NBINTCNT_A2FS.NBINTCNT_A2FS
      ; AnimationMode = ONCE
    ; End

    ; ConditionState       = DAMAGED SNOW
      ; Model              = NBINTCNT_DS
    ; End

    ; ConditionState = DAMAGED SNOW USER_1   ; User 1 is set by an upgrade module.  First doors opening
      ; Model = NBINTCNT_A2DS
      ; Animation = NBINTCNT_A2DS.NBINTCNT_A2DS
      ; AnimationMode = ONCE
    ; End

    ; ConditionState = DAMAGED SNOW USER_1 USER_2   ; Second doors opening (Can't get the second without the first)
      ; Model = NBINTCNT_A2FDS
      ; Animation = NBINTCNT_A2FDS.NBINTCNT_A2FDS
      ; AnimationMode = ONCE
    ; End

    ; ConditionState       = REALLYDAMAGED SNOW
      ; Model              = NBINTCNT_ES
      ; ParticleSysBone    = Smoke01 SmolderingSmoke
      ; ParticleSysBone    = Smoke02 SmolderingSmoke
      ; ParticleSysBone    = Smoke03 SmolderingSmoke
      ; ParticleSysBone    = Smoke04 SmolderingSmoke
      ; ParticleSysBone    = Smoke05 SmokeFactionLarge
      ; ParticleSysBone    = Smoke06 SmokeFactionLarge
      ; ParticleSysBone    = Fire01 SmolderingFire
      ; ParticleSysBone    = Fire02 SmolderingFire
      ; ParticleSysBone    = Fire03 FireFactionLarge
    ; End
    ; AliasConditionState = RUBBLE SNOW

    ; ConditionState = REALLYDAMAGED SNOW USER_1   ; User 1 is set by an upgrade module.  First doors opening
      ; Model = NBINTCNT_A2ES
      ; Animation = NBINTCNT_A2ES.NBINTCNT_A2ES
      ; AnimationMode = ONCE
    ; End
    ; AliasConditionState = RUBBLE SNOW USER_1

    ; ConditionState = REALLYDAMAGED SNOW USER_1 USER_2   ; Second doors opening (Can't get the second without the first)
      ; Model = NBINTCNT_A2FES
      ; Animation = NBINTCNT_A2FES.NBINTCNT_A2FES
      ; AnimationMode = ONCE
    ; End
    ; AliasConditionState = RUBBLE SNOW USER_1 USER_2

    ; ;NIGHT SNOW *****************************
    ; ConditionState       = NIGHT SNOW
      ; Model              = NBINTCNT_NS
    ; End

    ; ConditionState = NIGHT SNOW USER_1   ; User 1 is set by an upgrade module.  First doors opening
      ; Model = NBINTCNT_A2NS
      ; Animation = NBINTCNT_A2NS.NBINTCNT_A2NS
      ; AnimationMode = ONCE
    ; End

    ; ConditionState = NIGHT SNOW USER_1 USER_2   ; Second doors opening (Can't get the second without the first)
      ; Model = NBINTCNT_A2FNS
      ; Animation = NBINTCNT_A2FNS.NBINTCNT_A2FNS
      ; AnimationMode = ONCE
    ; End

    ; ConditionState       = DAMAGED NIGHT SNOW
      ; Model              = NBINTCNT_DNS
    ; End

    ; ConditionState = DAMAGED NIGHT SNOW USER_1   ; User 1 is set by an upgrade module.  First doors opening
      ; Model = NBINTCNT_A2DNS
      ; Animation = NBINTCNT_A2DNS.NBINTCNT_A2DNS
      ; AnimationMode = ONCE
    ; End

    ; ConditionState = DAMAGED NIGHT SNOW USER_1 USER_2   ; Second doors opening (Can't get the second without the first)
      ; Model = NBINTCNT_A2FDNS
      ; Animation = NBINTCNT_A2FDNS.NBINTCNT_A2FDNS
      ; AnimationMode = ONCE
    ; End

    ; ConditionState    = REALLYDAMAGED NIGHT SNOW
      ; Model           = NBINTCNT_ENS
      ; ParticleSysBone    = Smoke01 SmolderingSmoke
      ; ParticleSysBone    = Smoke02 SmolderingSmoke
      ; ParticleSysBone    = Smoke03 SmolderingSmoke
      ; ParticleSysBone    = Smoke04 SmolderingSmoke
      ; ParticleSysBone    = Smoke05 SmokeFactionLarge
      ; ParticleSysBone    = Smoke06 SmokeFactionLarge
      ; ParticleSysBone    = Fire01 SmolderingFire
      ; ParticleSysBone    = Fire02 SmolderingFire
      ; ParticleSysBone    = Fire03 FireFactionLarge
    ; End   
    ; AliasConditionState = RUBBLE NIGHT SNOW

    ; ConditionState = REALLYDAMAGED NIGHT SNOW USER_1   ; User 1 is set by an upgrade module.  First doors opening
      ; Model = NBINTCNT_A2ENS
      ; Animation = NBINTCNT_A2ENS.NBINTCNT_A2ENS
      ; AnimationMode = ONCE
    ; End
    ; AliasConditionState = RUBBLE NIGHT SNOW USER_1

    ; ConditionState = REALLYDAMAGED NIGHT SNOW USER_1 USER_2   ; Second doors opening (Can't get the second without the first)
      ; Model = NBINTCNT_A2FENS
      ; Animation = NBINTCNT_A2FENS.NBINTCNT_A2FENS
      ; AnimationMode = ONCE
    ; End
    ; AliasConditionState = RUBBLE NIGHT SNOW USER_1 USER_2
    
    ; ;**************************************************************************************************************************
    ; ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ; ;for this draw module
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      ; Model              = NBINTCNT
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      ; Model              = NBINTCNT_D
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      ; Model              = NBINTCNT_E
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
      ; Model              = NBINTCNT_N
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
      ; Model              = NBINTCNT_DN
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
      ; Model              = NBINTCNT_EN
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      ; Model              = NBINTCNT_S
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
      ; Model              = NBINTCNT_DS
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
      ; Model              = NBINTCNT_ES
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
      ; Model              = NBINTCNT_NS
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
      ; Model              = NBINTCNT_DNS
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
      ; Model              = NBINTCNT_ENS
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End

    ; ConditionState       = AWAITING_CONSTRUCTION 
      ; Model              = NONE
    ; End
    ; AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    ; AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    ; AliasConditionState  = SOLD 
    ; AliasConditionState  = SOLD DAMAGED
    ; AliasConditionState  = SOLD REALLYDAMAGED
    ; AliasConditionState  = SOLD NIGHT
    ; AliasConditionState  = SOLD NIGHT DAMAGED
    ; AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    ; AliasConditionState  = SOLD SNOW
    ; AliasConditionState  = SOLD SNOW DAMAGED
    ; AliasConditionState  = SOLD SNOW REALLYDAMAGED
    ; AliasConditionState  = SOLD NIGHT SNOW
    ; AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    ; AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED USER_1 USER_2
    ; AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED USER_1 USER_2
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT USER_1 USER_2
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED USER_1 USER_2
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED USER_1 USER_2
    ; AliasConditionState  = AWAITING_CONSTRUCTION SNOW USER_1 USER_2
    ; AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED USER_1 USER_2
    ; AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED USER_1 USER_2
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW USER_1 USER_2
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED USER_1 USER_2
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED USER_1 USER_2
    ; AliasConditionState  = SOLD  USER_1 USER_2
    ; AliasConditionState  = SOLD DAMAGED USER_1 USER_2
    ; AliasConditionState  = SOLD REALLYDAMAGED USER_1 USER_2
    ; AliasConditionState  = SOLD NIGHT USER_1 USER_2
    ; AliasConditionState  = SOLD NIGHT DAMAGED USER_1 USER_2
    ; AliasConditionState  = SOLD NIGHT REALLYDAMAGED USER_1 USER_2
    ; AliasConditionState  = SOLD SNOW USER_1 USER_2
    ; AliasConditionState  = SOLD SNOW DAMAGED USER_1 USER_2
    ; AliasConditionState  = SOLD SNOW REALLYDAMAGED USER_1 USER_2
    ; AliasConditionState  = SOLD NIGHT SNOW USER_1 USER_2
    ; AliasConditionState  = SOLD NIGHT SNOW DAMAGED USER_1 USER_2
    ; AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED USER_1 USER_2
    ; ;**************************************************************************************************************************
  ; End

  ; ; ------------ Fan in back --------------
  ; Draw = W3DModelDraw ModuleTag_02
    ; DefaultConditionState
      ; Model           = NBINTCNT_F
      ; Animation = NBINTCNT_F.NBINTCNT_F
      ; AnimationMode = LOOP
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
  ; End


  ; ; ------------- First Satellite -----------
  ; Draw = W3DModelDraw ModuleTag_03
    ; ConditionState = NONE
      ; Model           = None
      ; TransitionKey = Trans_Down
    ; End
    ; AliasConditionState = SOLD
    ; AliasConditionState = AWAITING_CONSTRUCTION
    ; AliasConditionState = ACTIVELY_BEING_CONSTRUCTED
    ; AliasConditionState = AWAITING_CONSTRUCTION USER_1
    ; AliasConditionState = ACTIVELY_BEING_CONSTRUCTED USER_1

    ; ConditionState = DAMAGED
      ; Model           = None
      ; TransitionKey = Trans_Down_Damaged
    ; End
    ; AliasConditionState = SOLD DAMAGED
    ; AliasConditionState = AWAITING_CONSTRUCTION DAMAGED
    ; AliasConditionState = ACTIVELY_BEING_CONSTRUCTED DAMAGED
    ; AliasConditionState = AWAITING_CONSTRUCTION USER_1 DAMAGED
    ; AliasConditionState = ACTIVELY_BEING_CONSTRUCTED USER_1 DAMAGED

    ; ConditionState = REALLYDAMAGED
      ; Model           = None
      ; TransitionKey = Trans_Down_Really_Damaged
    ; End
    ; AliasConditionState = SOLD REALLYDAMAGED
    ; AliasConditionState = AWAITING_CONSTRUCTION REALLYDAMAGED
    ; AliasConditionState = ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
    ; AliasConditionState = AWAITING_CONSTRUCTION USER_1 REALLYDAMAGED
    ; AliasConditionState = ACTIVELY_BEING_CONSTRUCTED USER_1 REALLYDAMAGED


    ; TransitionState = Trans_Down Trans_Up
      ; Model           = NBINTCNT_AB
      ; Animation = NBINTCNT_AB.NBINTCNT_AB
      ; AnimationMode = ONCE
    ; End
    ; TransitionState = Trans_Down_Damaged Trans_Up_Damaged
      ; Model           = NBINTCNT_DAB
      ; Animation = NBINTCNT_DAB.NBINTCNT_DAB
      ; AnimationMode = ONCE
    ; End
    ; TransitionState = Trans_Down_Really_Damaged Trans_Up_Really_Damaged
      ; Model           = NBINTCNT_EAB
      ; Animation = NBINTCNT_EAB.NBINTCNT_EAB
      ; AnimationMode = ONCE
    ; End


    ; ConditionState = USER_1
      ; Model           = NBINTCNT_AC
      ; Animation = NBINTCNT_AC.NBINTCNT_AC
      ; AnimationMode = LOOP
      ; TransitionKey = Trans_Up
      ; Flags = MAINTAIN_FRAME_ACROSS_STATES
    ; End

    ; ConditionState = USER_1 DAMAGED
      ; Model           = NBINTCNT_DAC
      ; Animation = NBINTCNT_DAC.NBINTCNT_DAC
      ; AnimationMode = LOOP
      ; TransitionKey = Trans_Up_Damaged
      ; Flags = MAINTAIN_FRAME_ACROSS_STATES
    ; End

    ; ConditionState = USER_1 REALLYDAMAGED
      ; Model           = NBINTCNT_EAC
      ; Animation = NBINTCNT_EAC.NBINTCNT_EAC
      ; AnimationMode = LOOP
      ; TransitionKey = Trans_Up_Really_Damaged
      ; Flags = MAINTAIN_FRAME_ACROSS_STATES
    ; End


    ; TransitionState = Trans_Up Trans_Down
      ; Model           = NBINTCNT_AB
      ; Animation = NBINTCNT_AB.NBINTCNT_AB
      ; AnimationMode = ONCE_BACKWARDS
    ; End
    ; TransitionState = Trans_Up_Damaged Trans_Down_Damaged
      ; Model           = NBINTCNT_DAB
      ; Animation = NBINTCNT_DAB.NBINTCNT_DAB
      ; AnimationMode = ONCE_BACKWARDS
    ; End
    ; TransitionState = Trans_Up_Really_Damaged Trans_Down_Really_Damaged
      ; Model           = NBINTCNT_EAB
      ; Animation = NBINTCNT_EAB.NBINTCNT_EAB
      ; AnimationMode = ONCE_BACKWARDS
    ; End
  ; End

  ; ; ------------- Second Satellite -----------
  ; Draw = W3DModelDraw ModuleTag_04
    ; ConditionState = NONE
      ; Model           = None
      ; TransitionKey = Trans_Down
    ; End
    ; AliasConditionState = SOLD
    ; AliasConditionState = AWAITING_CONSTRUCTION
    ; AliasConditionState = ACTIVELY_BEING_CONSTRUCTED
    ; AliasConditionState = AWAITING_CONSTRUCTION USER_1
    ; AliasConditionState = ACTIVELY_BEING_CONSTRUCTED USER_1

    ; ConditionState = DAMAGED
      ; Model           = None
      ; TransitionKey = Trans_Down_Damaged
    ; End
    ; AliasConditionState = SOLD DAMAGED
    ; AliasConditionState = AWAITING_CONSTRUCTION DAMAGED
    ; AliasConditionState = ACTIVELY_BEING_CONSTRUCTED DAMAGED
    ; AliasConditionState = AWAITING_CONSTRUCTION USER_1 DAMAGED
    ; AliasConditionState = ACTIVELY_BEING_CONSTRUCTED USER_1 DAMAGED

    ; ConditionState = REALLYDAMAGED
      ; Model           = None
      ; TransitionKey = Trans_Down_Really_Damaged
    ; End
    ; AliasConditionState = SOLD REALLYDAMAGED
    ; AliasConditionState = AWAITING_CONSTRUCTION REALLYDAMAGED
    ; AliasConditionState = ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
    ; AliasConditionState = AWAITING_CONSTRUCTION USER_1 REALLYDAMAGED
    ; AliasConditionState = ACTIVELY_BEING_CONSTRUCTED USER_1 REALLYDAMAGED


    ; TransitionState = Trans_Down Trans_Up
      ; Model           = NBINTCNT_AF
      ; Animation = NBINTCNT_AF.NBINTCNT_AF
      ; AnimationMode = ONCE
    ; End
    ; TransitionState = Trans_Down_Damaged Trans_Up_Damaged
      ; Model           = NBINTCNT_DAF
      ; Animation = NBINTCNT_DAF.NBINTCNT_DAF
      ; AnimationMode = ONCE
    ; End
    ; TransitionState = Trans_Down_Really_Damaged Trans_Up_Really_Damaged
      ; Model           = NBINTCNT_EAF
      ; Animation = NBINTCNT_EAF.NBINTCNT_EAF
      ; AnimationMode = ONCE
    ; End

    ; ConditionState = USER_2
      ; Model           = NBINTCNT_AG
      ; Animation = NBINTCNT_AG.NBINTCNT_AG
      ; AnimationMode = LOOP
      ; TransitionKey = Trans_Up
      ; Flags = MAINTAIN_FRAME_ACROSS_STATES
    ; End
    ; ConditionState = USER_2 DAMAGED
      ; Model           = NBINTCNT_DAG
      ; Animation = NBINTCNT_DAG.NBINTCNT_DAG
      ; AnimationMode = LOOP
      ; TransitionKey = Trans_Up_Damaged
      ; Flags = MAINTAIN_FRAME_ACROSS_STATES
    ; End
    ; ConditionState = USER_2 REALLYDAMAGED
      ; Model           = NBINTCNT_EAG
      ; Animation = NBINTCNT_EAG.NBINTCNT_EAG
      ; AnimationMode = LOOP
      ; TransitionKey = Trans_Up_Really_Damaged
      ; Flags = MAINTAIN_FRAME_ACROSS_STATES
    ; End

    ; TransitionState = Trans_Up Trans_Down
      ; Model           = NBINTCNT_AF
      ; Animation = NBINTCNT_AF.NBINTCNT_AF
      ; AnimationMode = ONCE_BACKWARDS
    ; End
    ; TransitionState = Trans_Up_Damaged Trans_Down_Damaged
      ; Model           = NBINTCNT_DAF
      ; Animation = NBINTCNT_DAF.NBINTCNT_DAF
      ; AnimationMode = ONCE_BACKWARDS
    ; End
    ; TransitionState = Trans_Up_Really_Damaged Trans_Down_Really_Damaged
      ; Model           = NBINTCNT_EAF
      ; Animation = NBINTCNT_EAF.NBINTCNT_EAF
      ; AnimationMode = ONCE_BACKWARDS
    ; End

  ; End

  ; ; ------------ construction-zone fence -----------------
  ; Draw = W3DModelDraw ModuleTag_05
  ; AnimationsRequirePower = No
    ; DefaultConditionState
      ; Model           = None
      ; TransitionKey   = DOWN_DEFAULT
    ; End
    ; ConditionState    = NIGHT
      ; Model           = None
      ; TransitionKey   = DOWN_DEFAULT
    ; End
    ; ConditionState    = SNOW
      ; Model           = None
      ; TransitionKey   = DOWN_DEFAULT
    ; End
    ; ConditionState    = SNOW NIGHT
      ; Model           = None
      ; TransitionKey   = DOWN_DEFAULT
    ; End
    ; ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      ; Model           = NBSupCent_A4
      ; Animation       = NBSupCent_A4.NBSupCent_A4
      ; AnimationMode   = MANUAL
      ; Flags           = START_FRAME_LAST
      ; TransitionKey   = UP_DAY
    ; End
    ; ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      ; Model           = NBSupCent_A4N
      ; Animation       = NBSupCent_A4N.NBSupCent_A4N
      ; AnimationMode   = MANUAL
      ; Flags           = START_FRAME_LAST
      ; TransitionKey   = UP_NIGHT
    ; End
    ; ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      ; Model           = NBSupCent_A4S
      ; Animation       = NBSupCent_A4S.NBSupCent_A4S
      ; AnimationMode   = MANUAL
      ; Flags           = START_FRAME_LAST
      ; TransitionKey   = UP_SNOW
    ; End
    ; ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      ; Model           = NBSupCent_A4SN
      ; Animation       = NBSupCent_A4SN.NBSupCent_A4SN
      ; AnimationMode   = MANUAL
      ; Flags           = START_FRAME_LAST
      ; TransitionKey   = UP_SNOWNIGHT
    ; End
    ; TransitionState   = DOWN_DEFAULT UP_DAY
      ; Model           = NBSupCent_A4
      ; Animation       = NBSupCent_A4.NBSupCent_A4
      ; AnimationMode   = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags           = START_FRAME_FIRST
    ; End
    ; TransitionState   = DOWN_DEFAULT UP_NIGHT
      ; Model           = NBSupCent_A4N
      ; Animation       = NBSupCent_A4N.NBSupCent_A4N
      ; AnimationMode   = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags           = START_FRAME_FIRST
    ; End
    ; TransitionState   = DOWN_DEFAULT UP_SNOW
      ; Model           = NBSupCent_A4S
      ; Animation       = NBSupCent_A4S.NBSupCent_A4S
      ; AnimationMode   = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags           = START_FRAME_FIRST
    ; End
    ; TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      ; Model           = NBSupCent_A4SN
      ; Animation       = NBSupCent_A4SN.NBSupCent_A4SN
      ; AnimationMode   = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags           = START_FRAME_FIRST
    ; End
    ; TransitionState   = UP_DAY DOWN_DEFAULT
      ; Model           = NBSupCent_A4
      ; Animation       = NBSupCent_A4.NBSupCent_A4
      ; AnimationMode   = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      ; Flags           = START_FRAME_LAST
    ; End
    ; TransitionState   = UP_NIGHT DOWN_DEFAULT
      ; Model           = NBSupCent_A4N
      ; Animation       = NBSupCent_A4N.NBSupCent_A4N
      ; AnimationMode   = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      ; Flags           = START_FRAME_LAST
    ; End
    ; TransitionState   = UP_SNOW DOWN_DEFAULT
      ; Model           = NBSupCent_A4S
      ; Animation       = NBSupCent_A4S.NBSupCent_A4S
      ; AnimationMode   = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      ; Flags           = START_FRAME_LAST
    ; End
    ; TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      ; Model           = NBSupCent_A4SN
      ; Animation       = NBSupCent_A4SN.NBSupCent_A4SN
      ; AnimationMode   = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      ; Flags           = START_FRAME_LAST
    ; End
  ; End

  ; ; ------------ under-construction scaffolding -----------------
  ; Draw = W3DModelDraw ModuleTag_06
  ; AnimationsRequirePower = No
    ; MinLODRequired = MEDIUM
    ; DefaultConditionState
      ; Model           = None
      ; TransitionKey   = DOWN_DEFAULT
    ; End
    ; ConditionState    = NIGHT
      ; Model           = None
      ; TransitionKey   = DOWN_DEFAULT
    ; End
    ; ConditionState    = SNOW
      ; Model           = None
      ; TransitionKey   = DOWN_DEFAULT
    ; End
    ; ConditionState    = SNOW NIGHT
      ; Model           = None
      ; TransitionKey   = DOWN_DEFAULT
    ; End
    ; ConditionState    = PARTIALLY_CONSTRUCTED
      ; Model           = NBSupCent_A6
      ; Animation       = NBSupCent_A6.NBSupCent_A6
      ; AnimationMode   = MANUAL
      ; Flags           = START_FRAME_LAST
      ; TransitionKey   = UP_DAY
      ; ParticleSysBone = Dust01 BuildingDustChina
      ; ParticleSysBone = Smoke01 BuildUpSmokeChina
      ; ParticleSysBone = Smoke02 BuildUpSmokeChina
      ; ParticleSysBone = Smoke03 BuildUpSmokeChina
      ; ParticleSysBone = Smoke04 BuildUpSmokeChina
      ; ParticleSysBone = Smoke05 BuildUpSmokeChina
    ; End
    ; ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      ; Model           = NBSupCent_A6N
      ; Animation       = NBSupCent_A6N.NBSupCent_A6N
      ; AnimationMode   = MANUAL
      ; Flags           = START_FRAME_LAST
      ; TransitionKey   = UP_NIGHT
      ; ParticleSysBone = Dust01 BuildingDustChina
      ; ParticleSysBone = Smoke01 BuildUpSmokeChina
      ; ParticleSysBone = Smoke02 BuildUpSmokeChina
      ; ParticleSysBone = Smoke03 BuildUpSmokeChina
      ; ParticleSysBone = Smoke04 BuildUpSmokeChina
      ; ParticleSysBone = Smoke05 BuildUpSmokeChina
    ; End
    ; ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      ; Model           = NBSupCent_A6S
      ; Animation       = NBSupCent_A6S.NBSupCent_A6S
      ; AnimationMode   = MANUAL
      ; Flags           = START_FRAME_LAST
      ; TransitionKey   = UP_SNOW
      ; ParticleSysBone = Dust01 BuildingSnowDust
      ; ParticleSysBone = Smoke01 BuildUpSnowSmoke
      ; ParticleSysBone = Smoke02 BuildUpSnowSmoke
      ; ParticleSysBone = Smoke03 BuildUpSnowSmoke
      ; ParticleSysBone = Smoke04 BuildUpSnowSmoke
      ; ParticleSysBone = Smoke05 BuildUpSnowSmoke
    ; End
    ; ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      ; Model           = NBSupCent_A6SN
      ; Animation       = NBSupCent_A6SN.NBSupCent_A6SN
      ; AnimationMode   = MANUAL
      ; Flags           = START_FRAME_LAST
      ; TransitionKey   = UP_SNOWNIGHT
      ; ParticleSysBone = Dust01 BuildingNightSnowDust
      ; ParticleSysBone = Smoke01 BuildUpNightSnowSmoke
      ; ParticleSysBone = Smoke02 BuildUpNightSnowSmoke
      ; ParticleSysBone = Smoke03 BuildUpNightSnowSmoke
      ; ParticleSysBone = Smoke04 BuildUpNightSnowSmoke
      ; ParticleSysBone = Smoke05 BuildUpNightSnowSmoke
    ; End
    ; TransitionState   = DOWN_DEFAULT UP_DAY
     ; Model            = NBSupCent_A6
      ; Animation       = NBSupCent_A6.NBSupCent_A6
      ; AnimationMode   = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags           = START_FRAME_FIRST
    ; End
    ; TransitionState   = DOWN_DEFAULT UP_NIGHT
     ; Model            = NBSupCent_A6N
      ; Animation       = NBSupCent_A6N.NBSupCent_A6N
      ; AnimationMode   = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags           = START_FRAME_FIRST
    ; End
    ; TransitionState   = DOWN_DEFAULT UP_SNOW
     ; Model            = NBSupCent_A6S
      ; Animation       = NBSupCent_A6S.NBSupCent_A6S
      ; AnimationMode   = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags           = START_FRAME_FIRST
    ; End
    ; TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
     ; Model            = NBSupCent_A6SN
      ; Animation       = NBSupCent_A6SN.NBSupCent_A6SN
      ; AnimationMode   = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags           = START_FRAME_FIRST
    ; End
    ; TransitionState   = UP_DAY DOWN_DEFAULT
      ; Model           = NBSupCent_A6
      ; Animation       = NBSupCent_A6.NBSupCent_A6
      ; AnimationMode   = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      ; Flags           = START_FRAME_LAST
    ; End    
    ; TransitionState   = UP_NIGHT DOWN_DEFAULT
      ; Model           = NBSupCent_A6N
      ; Animation       = NBSupCent_A6N.NBSupCent_A6N
      ; AnimationMode   = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      ; Flags           = START_FRAME_LAST
    ; End
    ; TransitionState   = UP_SNOW DOWN_DEFAULT
      ; Model           = NBSupCent_A6S
      ; Animation       = NBSupCent_A6S.NBSupCent_A6S
      ; AnimationMode   = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      ; Flags           = START_FRAME_LAST
    ; End
    ; TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      ; Model           = NBSupCent_A6SN
      ; Animation       = NBSupCent_A6SN.NBSupCent_A6SN
      ; AnimationMode   = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      ; Flags           = START_FRAME_LAST
    ; End
  ; End
  ; ; ------------ being-constructed crane -----------------
  ; Draw = W3DModelDraw ModuleTag_07
  ; AnimationsRequirePower = No
    ; DefaultConditionState
      ; Model           = None
      ; TransitionKey   = DOWN_DEFAULT
    ; End
    ; ConditionState    = NIGHT
      ; Model           = None
      ; TransitionKey   = DOWN_DEFAULT
    ; End
    ; ConditionState    = SNOW
      ; Model           = None
      ; TransitionKey   = DOWN_DEFAULT
    ; End
    ; ConditionState    = SNOW NIGHT
      ; Model           = None
      ; TransitionKey   = DOWN_DEFAULT
    ; End
    ; ConditionState    = SOLD
      ; Model           = NONE
    ; End

    ; ConditionState  = ACTIVELY_BEING_CONSTRUCTED
      ; Model           = NBSupCent_A5
      ; Animation       = NBSupCent_A5.NBSupCent_A5
      ; AnimationMode   = LOOP
      ; TransitionKey  = UP_DAY
    ; End

    ; ConditionState  = NIGHT ACTIVELY_BEING_CONSTRUCTED
      ; Model           = NBSupCent_A5N
      ; Animation       = NBSupCent_A5N.NBSupCent_A5N
      ; AnimationMode   = LOOP
      ; TransitionKey  = UP_NIGHT
    ; End
    ; ConditionState  = SNOW ACTIVELY_BEING_CONSTRUCTED
      ; Model           = NBSupCent_A5S
      ; Animation       = NBSupCent_A5S.NBSupCent_A5S
      ; AnimationMode   = LOOP
      ; TransitionKey  = UP_SNOW
    ; End
    ; ConditionState  = SNOW NIGHT ACTIVELY_BEING_CONSTRUCTED
      ; Model           = NBSupCent_A5SN
      ; Animation       = NBSupCent_A5SN.NBSupCent_A5SN
      ; AnimationMode   = LOOP
      ; TransitionKey  = UP_SNOWNIGHT
    ; End
    ; TransitionState   = DOWN_DEFAULT UP_DAY
      ; Model            = NBSupCent_AB
      ; Animation       = NBSupCent_AB.NBSupCent_AB
      ; AnimationMode   = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags           = START_FRAME_FIRST
    ; End

    ; TransitionState   = DOWN_DEFAULT UP_NIGHT
      ; Model            = NBSupCent_ABN
      ; Animation       = NBSupCent_ABN.NBSupCent_ABN
      ; AnimationMode   = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags           = START_FRAME_FIRST
    ; End
    ; TransitionState   = DOWN_DEFAULT UP_SNOW
      ; Model            = NBSupCent_ABS
      ; Animation       = NBSupCent_ABS.NBSupCent_ABS
      ; AnimationMode   = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags           = START_FRAME_FIRST
    ; End
    ; TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      ; Model            = NBSupCent_ABSN
      ; Animation       = NBSupCent_ABSN.NBSupCent_ABSN
      ; AnimationMode   = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags           = START_FRAME_FIRST
    ; End
    ; TransitionState   = UP_DAY DOWN_DEFAULT
      ; Model            = NBSupCent_AB
      ; Animation       = NBSupCent_AB.NBSupCent_AB
      ; AnimationMode   = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      ; Flags           = START_FRAME_LAST
    ; End
    ; TransitionState   = UP_NIGHT DOWN_DEFAULT
      ; Model            = NBSupCent_ABN
      ; Animation       = NBSupCent_ABN.NBSupCent_ABN
      ; AnimationMode   = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      ; Flags           = START_FRAME_LAST
    ; End
    ; TransitionState   = UP_SNOW DOWN_DEFAULT
      ; Model            = NBSupCent_ABS
      ; Animation       = NBSupCent_ABS.NBSupCent_ABS
      ; AnimationMode   = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      ; Flags           = START_FRAME_LAST
    ; End
    ; TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      ; Model            = NBSupCent_ABSN
      ; Animation       = NBSupCent_ABSN.NBSupCent_ABSN
      ; AnimationMode   = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      ; Flags           = START_FRAME_LAST
    ; End
  ; End
  ; PlacementViewAngle = -45

  ; ; ***DESIGN parameters ***
  ; DisplayName       = OBJECT:InternetCenter
  ; Side              = Boss
  ; EditorSorting     = STRUCTURE
  ; BuildCost         = 25000
  ; BuildTime         = 30.0           ; in seconds
  ; EnergyProduction  = 0  
  ; CommandSet        = Boss_ChinaInternetCenterCommandSetOne
  ; VisionRange       = 200.0           ; Shroud clearing distance
  ; ShroudClearingRange = 200
  ; ArmorSet
    ; Conditions      = None
    ; Armor           = StructureArmorInternetCenter
    ; DamageFX        = StructureDamageFXNoShake
  ; End
  ; ExperienceValue     = 200 200 200 200  ; Experience point value at each level

  ; Prerequisites
    ; Object            = Boss_WarFactory
	; Object            = Boss_TechCentr
  ; End


  ; ;*******************************************************************************************************************
  ; MaxSimultaneousOfType = 1 ; *** Kris: DO NOT INCREASE THIS NUMBER -- UNLESS YOU WANT TO INTRODUCE A LOT OF BUGS! ***
  ; ;*******************************************************************************************************************

  ; ; *** AUDIO Parameters ***
  ; VoiceSelect       = CommandCenterChinaSelect
  ; SoundOnDamaged        = BuildingDamagedStateLight
  ; SoundOnReallyDamaged  = BuildingDestroy

  ; UnitSpecificSounds
    ; UnderConstruction     = UnderConstructionLoop
  ; End

  ; ; *** ENGINEERING Parameters ***
  ; RadarPriority     = STRUCTURE
  ; KindOf            = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE IMMUNE_TO_CAPTURE MP_COUNT_FOR_VICTORY CAN_ATTACK FS_INTERNET_CENTER

  ; Body              = StructureBody ModuleTag_08
    ; MaxHealth       = 2500.0
    ; InitialHealth   = 2500.0

    ; ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    ; SubdualDamageCap = 2700
    ; SubdualDamageHealRate = 500
    ; SubdualDamageHealAmount = 100
  ; End

  ; ; Behavior = InternetHackContain ModuleTag_10 ; Contain module that gives aiHackInternet command to passengers
    ; ; PassengersAllowedToFire = No
    ; ; Slots                 = 8
    ; ; ScatterNearbyOnExit   = No
    ; ; HealthRegen%PerSec    = 10
    ; ; DamagePercentToUnits  = 50%
    ; ; AllowInsideKindOf     = MONEY_HACKER
    ; ; ExitDelay         = 500
    ; ; NumberOfExitPaths = 1 ; Defaults to 1.  Set 0 to not use ExitStart/ExitEnd, set higher than 1 to use ExitStart01-nn/ExitEnd01-nn
    ; ; GoAggressiveOnExit = No ; AI Will tell people to set their mood to Aggressive on exiting
  ; ; End

  ; Behavior             = DestroyDie ModuleTag_12
    ; ;nothing
  ; End
  ; Behavior             = CreateObjectDie ModuleTag_13
    ; CreationList  = OCL_LargeStructureDebris
  ; End
  ; Behavior             = FXListDie ModuleTag_14
    ; DeathFX       = FX_StructureMediumDeath
  ; End

  ; Behavior         = SpyVisionUpdate ModuleTag_15
    ; NeedsUpgrade  = Yes
    ; SelfPowered   = Yes        ; No SpecialPower module, turns self on and off on timers (No timers means always on)
    ; SelfPoweredDuration = 30000
    ; SelfPoweredInterval = 120000
    ; SpyOnKindof   = COMMANDCENTER ; Defaults to ALL
    ; TriggeredBy   = Upgrade_ChinaSatelliteHackOne
  ; End

  ; Behavior         = SpyVisionUpdate ModuleTag_16
    ; NeedsUpgrade  = Yes
    ; SelfPowered   = Yes         ; No SpecialPower module, turns self on and off on timers
    ; SelfPoweredDuration = 20000
    ; SelfPoweredInterval = 240000
	; SpyOnKindof   = COMMANDCENTER FS_AIRFIELD FS_FACTORY FS_SUPPLY_CENTER
    ; TriggeredBy   = Upgrade_ChinaSatelliteHackTwo
  ; End

  ; Behavior = ArmorUpgrade ModuleTag_30
    ; TriggeredBy = Upgrade_ChinaEMPMines
  ; End
  ; Behavior = CommandSetUpgrade ModuleTag_31
    ; CommandSet = Boss_ChinaInternetCenterCommandSetOneUpgrade
    ; TriggeredBy = Upgrade_ChinaMines
    ; CommandSetAlt = Boss_ChinaInternetCenterCommandSetTwoUpgrade
    ; TriggerAlt = Upgrade_ChinaSatelliteHackOne
  ; End
  ; Behavior = CommandSetUpgrade ModuleTag_32
    ; CommandSet = Boss_ChinaInternetCenterCommandSetTwo
    ; TriggeredBy = Upgrade_ChinaSatelliteHackOne
    ; CommandSetAlt = Boss_ChinaInternetCenterCommandSetTwoUpgrade
    ; TriggerAlt = Upgrade_ChinaMines
  ; End

  ; Behavior = ModelConditionUpgrade ModuleTag_18
    ; ConditionFlag = USER_1
    ; TriggeredBy = Upgrade_ChinaSatelliteHackOne
  ; End

  ; Behavior = ModelConditionUpgrade ModuleTag_19
    ; ConditionFlag = USER_2
    ; TriggeredBy   = Upgrade_ChinaSatelliteHackTwo
  ; End

  ; Behavior = ProductionUpdate ModuleTag_22
  ; End

  ; Behavior = GenerateMinefieldBehavior     ModuleTag_23
    ; TriggeredBy           = Upgrade_ChinaMines
    ; MineName              = ChinaStandardMine
    ; SmartBorder           = Yes
    ; AlwaysCircular        = Yes

    ; Upgradable            = Yes
    ; UpgradedTriggeredBy   = Upgrade_ChinaEMPMines
    ; UpgradedMineName      = ChinaEMPMine
  ; End


  ; Behavior = FlammableUpdate ModuleTag_24
    ; AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    ; AflameDamageAmount = 5       ; taking this much damage...
    ; AflameDamageDelay = 500       ; this often.
  ; End

  ; Behavior = TransitionDamageFX ModuleTag_25
    ; ;-------------DESIGNED FOR MEDIUM SIZED FACTION BUILDING TRANSITIONS-------------------
    ; DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ; ;---------------------------------------------------------------------------------------
    ; ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ; ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionMediumExplosion
    ; ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionMediumShockwave
  ; End

  ; Geometry            = BOX
  ; GeometryMajorRadius = 50.0
  ; GeometryMinorRadius = 50.0
  ; GeometryHeight      = 36.0
  ; GeometryIsSmall     = No
  ; Shadow              = SHADOW_VOLUME
  ; BuildCompletion     = PLACED_BY_PLAYER

; End


;------------------------------------------------------------------------------
Object Boss_EnergyPlant

  ; *** ART Parameters ***
  
  ;UpgradeCameo1 = Upgrade_GammaRad


  ; ------------ the main building itself -----------------
  SelectPortrait         = SolarPlant
  ButtonImage            = SolarPlant
  Draw                   = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes
    
    ; DAY ************************************
    DefaultConditionState
      Model              = NBSolarPlant 
      Animation          = NBSolarPlant.NBSolarPlant 
      AnimationMode      = LOOP  
      ParticleSysBone    = HeavySmoke01 SteamVent
      ParticleSysBone    = HeavySmoke02 SteamVent
      ParticleSysBone    = HeavySmoke03 SteamVent
      ParticleSysBone    = HeavySmoke04 SteamVent
      ParticleSysBone    = Smoke01 SmolderingSmoke
      ParticleSysBone    = Smoke02 SmolderingSmoke
      ParticleSysBone    = Smoke03 SmolderingSmoke  
      ParticleSysBone    = Smoke04 SmolderingSmoke  
    End
    ConditionState       = DAMAGED
      Model              = NBSolarPlant_d
      Animation          = NBSolarPlant_d.NBSolarPlant_d
      AnimationMode      = LOOP    
      ParticleSysBone    = HeavySmoke01 SteamVent
      ParticleSysBone    = HeavySmoke02 SteamVent
      ParticleSysBone    = HeavySmoke03 SteamVent
      ParticleSysBone    = HeavySmoke04 SteamVent
      ParticleSysBone    = HeavySmoke05 SteamVent
      ParticleSysBone    = Smoke01 SmolderingSmoke
      ParticleSysBone    = Smoke02 SmolderingSmoke
      ParticleSysBone    = Smoke03 SmolderingSmoke  
      ParticleSysBone    = Smoke04 SmolderingSmoke  
    End
    ConditionState       = REALLYDAMAGED RUBBLE
      Model              = NBSolarPlant_e
      Animation          = NBSolarPlant_e.NBSolarPlant_e
      AnimationMode      = LOOP
      ParticleSysBone    = HeavySmoke01 SteamVent
      ParticleSysBone    = HeavySmoke02 SteamVent
      ParticleSysBone    = HeavySmoke03 SteamVent
      ParticleSysBone    = HeavySmoke04 SteamVent
      ParticleSysBone    = HeavySmoke05 SteamVent
      ParticleSysBone    = Smoke01 SmolderingSmoke
      ParticleSysBone    = Smoke02 SmolderingSmoke
      ParticleSysBone    = Smoke03 SmolderingSmoke  
      ParticleSysBone    = Smoke04 SmolderingSmoke  
      ParticleSysBone    = Fire01 SmolderingFire
      ParticleSysBone    = Fire02 SmolderingFire
      ParticleSysBone    = Fire03 SmolderingFire
      ParticleSysBone    = Fire04 SmolderingFire
      ParticleSysBone    = Fire05 SmolderingFire
      ParticleSysBone    = Fire06 SmolderingFire
      ParticleSysBone    = Fire07 SmolderingFire
    End


    ;NIGHT ***********************************
    ConditionState       = NIGHT
      Model              = NBSolarPlant 
      Animation          = NBSolarPlant.NBSolarPlant 
      AnimationMode      = LOOP  
      ParticleSysBone    = HeavySmoke01 SteamVent
      ParticleSysBone    = HeavySmoke02 SteamVent
      ParticleSysBone    = HeavySmoke03 SteamVent
      ParticleSysBone    = HeavySmoke04 SteamVent
      ParticleSysBone    = Smoke01 SmolderingSmoke
      ParticleSysBone    = Smoke02 SmolderingSmoke
      ParticleSysBone    = Smoke03 SmolderingSmoke  
      ParticleSysBone    = Smoke04 SmolderingSmoke  
    End
    ConditionState       = DAMAGED NIGHT
      Model              = NBSolarPlant_d
      Animation          = NBSolarPlant_d.NBSolarPlant_d
      AnimationMode      = LOOP    
      ParticleSysBone    = HeavySmoke01 SteamVent
      ParticleSysBone    = HeavySmoke02 SteamVent
      ParticleSysBone    = HeavySmoke03 SteamVent
      ParticleSysBone    = HeavySmoke04 SteamVent
      ParticleSysBone    = HeavySmoke05 SteamVent
      ParticleSysBone    = Smoke01 SmolderingSmoke
      ParticleSysBone    = Smoke02 SmolderingSmoke
      ParticleSysBone    = Smoke03 SmolderingSmoke  
      ParticleSysBone    = Smoke04 SmolderingSmoke  
    End
    ConditionState    = REALLYDAMAGED RUBBLE NIGHT
      Model              = NBSolarPlant_e
      Animation          = NBSolarPlant_e.NBSolarPlant_e
      AnimationMode      = LOOP
      ParticleSysBone    = HeavySmoke01 SteamVent
      ParticleSysBone    = HeavySmoke02 SteamVent
      ParticleSysBone    = HeavySmoke03 SteamVent
      ParticleSysBone    = HeavySmoke04 SteamVent
      ParticleSysBone    = HeavySmoke05 SteamVent
      ParticleSysBone    = Smoke01 SmolderingSmoke
      ParticleSysBone    = Smoke02 SmolderingSmoke
      ParticleSysBone    = Smoke03 SmolderingSmoke  
      ParticleSysBone    = Smoke04 SmolderingSmoke  
      ParticleSysBone    = Fire01 SmolderingFire
      ParticleSysBone    = Fire02 SmolderingFire
      ParticleSysBone    = Fire03 SmolderingFire
      ParticleSysBone    = Fire04 SmolderingFire
      ParticleSysBone    = Fire05 SmolderingFire
      ParticleSysBone    = Fire06 SmolderingFire
      ParticleSysBone    = Fire07 SmolderingFire
    End

    
    ;SNOW *************************************
    ConditionState       = SNOW
      Model              = NBSolarPlant_s
      Animation          = NBSolarPlant_s.NBSolarPlant_s
      AnimationMode      = LOOP      
      ParticleSysBone    = HeavySmoke01 SteamVent
      ParticleSysBone    = HeavySmoke02 SteamVent
      ParticleSysBone    = HeavySmoke03 SteamVent
      ParticleSysBone    = HeavySmoke04 SteamVent
      ParticleSysBone    = Smoke01 SmolderingSmoke
      ParticleSysBone    = Smoke02 SmolderingSmoke
      ParticleSysBone    = Smoke03 SmolderingSmoke  
      ParticleSysBone    = Smoke04 SmolderingSmoke  
    End
    ConditionState       = DAMAGED SNOW
      Model              = NBSolarPlant_ds
      Animation          = NBSolarPlant_ds.NBSolarPlant_ds
      AnimationMode      = LOOP    
      ParticleSysBone    = HeavySmoke01 SteamVent
      ParticleSysBone    = HeavySmoke02 SteamVent
      ParticleSysBone    = HeavySmoke03 SteamVent
      ParticleSysBone    = HeavySmoke04 SteamVent
      ParticleSysBone    = HeavySmoke05 SteamVent
      ParticleSysBone    = Smoke01 SmolderingSmoke
      ParticleSysBone    = Smoke02 SmolderingSmoke
      ParticleSysBone    = Smoke03 SmolderingSmoke  
      ParticleSysBone    = Smoke04 SmolderingSmoke  
    End
    ConditionState       = REALLYDAMAGED RUBBLE SNOW
      Model              = NBSolarPlant_es
      Animation          = NBSolarPlant_es.NBSolarPlant_es
      AnimationMode      = LOOP
      ParticleSysBone    = HeavySmoke01 SteamVent
      ParticleSysBone    = HeavySmoke02 SteamVent
      ParticleSysBone    = HeavySmoke03 SteamVent
      ParticleSysBone    = HeavySmoke04 SteamVent
      ParticleSysBone    = HeavySmoke05 SteamVent
      ParticleSysBone    = Smoke01 SmolderingSmoke
      ParticleSysBone    = Smoke02 SmolderingSmoke
      ParticleSysBone    = Smoke03 SmolderingSmoke  
      ParticleSysBone    = Smoke04 SmolderingSmoke  
      ParticleSysBone    = Fire01 SmolderingFire
      ParticleSysBone    = Fire02 SmolderingFire
      ParticleSysBone    = Fire03 SmolderingFire
      ParticleSysBone    = Fire04 SmolderingFire
      ParticleSysBone    = Fire05 SmolderingFire
      ParticleSysBone    = Fire06 SmolderingFire
      ParticleSysBone    = Fire07 SmolderingFire
    End

    ;NIGHT SNOW *****************************
    ConditionState       = NIGHT SNOW
      Model              = NBSolarPlant_s
      Animation          = NBSolarPlant_s.NBSolarPlant_s
      AnimationMode      = LOOP      
      ParticleSysBone    = HeavySmoke01 SteamVent
      ParticleSysBone    = HeavySmoke02 SteamVent
      ParticleSysBone    = HeavySmoke03 SteamVent
      ParticleSysBone    = HeavySmoke04 SteamVent
      ParticleSysBone    = Smoke01 SmolderingSmoke
      ParticleSysBone    = Smoke02 SmolderingSmoke
      ParticleSysBone    = Smoke03 SmolderingSmoke  
      ParticleSysBone    = Smoke04 SmolderingSmoke     
    End
    ConditionState       = DAMAGED NIGHT SNOW
      Model              = NBSolarPlant_ds
      Animation          = NBSolarPlant_ds.NBSolarPlant_ds
      AnimationMode      = LOOP    
      ParticleSysBone    = HeavySmoke01 SteamVent
      ParticleSysBone    = HeavySmoke02 SteamVent
      ParticleSysBone    = HeavySmoke03 SteamVent
      ParticleSysBone    = HeavySmoke04 SteamVent
      ParticleSysBone    = HeavySmoke05 SteamVent
      ParticleSysBone    = Smoke01 SmolderingSmoke
      ParticleSysBone    = Smoke02 SmolderingSmoke
      ParticleSysBone    = Smoke03 SmolderingSmoke  
      ParticleSysBone    = Smoke04 SmolderingSmoke  
    End
    ConditionState    = REALLYDAMAGED RUBBLE NIGHT SNOW
      Model              = NBSolarPlant_es
      Animation          = NBSolarPlant_es.NBSolarPlant_es
      AnimationMode      = LOOP
      ParticleSysBone    = HeavySmoke01 SteamVent
      ParticleSysBone    = HeavySmoke02 SteamVent
      ParticleSysBone    = HeavySmoke03 SteamVent
      ParticleSysBone    = HeavySmoke04 SteamVent
      ParticleSysBone    = HeavySmoke05 SteamVent
      ParticleSysBone    = Smoke01 SmolderingSmoke
      ParticleSysBone    = Smoke02 SmolderingSmoke
      ParticleSysBone    = Smoke03 SmolderingSmoke  
      ParticleSysBone    = Smoke04 SmolderingSmoke  
      ParticleSysBone    = Fire01 SmolderingFire
      ParticleSysBone    = Fire02 SmolderingFire
      ParticleSysBone    = Fire03 SmolderingFire
      ParticleSysBone    = Fire04 SmolderingFire
      ParticleSysBone    = Fire05 SmolderingFire
      ParticleSysBone    = Fire06 SmolderingFire
      ParticleSysBone    = Fire07 SmolderingFire
    End   
    
    ;**************************************************************************************************************************
    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ;for this draw module
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = NBSolarPlant 
      Animation          = NBSolarPlant.NBSolarPlant 
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = NBSolarPlant_d
      Animation          = NBSolarPlant_d.NBSolarPlant_d
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = NBSolarPlant_e
      Animation          = NBSolarPlant_e.NBSolarPlant_e
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
      Model              = NBSolarPlant 
      Animation          = NBSolarPlant.NBSolarPlant 
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
      Model              = NBSolarPlant_d
      Animation          = NBSolarPlant_d.NBSolarPlant_d
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
      Model              = NBSolarPlant_e
      Animation          = NBSolarPlant_e.NBSolarPlant_e
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model              = NBSolarPlant_s
      Animation          = NBSolarPlant_s.NBSolarPlant_s
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
      Model              = NBSolarPlant_ds
      Animation          = NBSolarPlant_ds.NBSolarPlant_ds
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
      Model              = NBSolarPlant_es
      Animation          = NBSolarPlant_es.NBSolarPlant_es
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
      Model              = NBSolarPlant_s
      Animation          = NBSolarPlant_s.NBSolarPlant_s
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
      Model              = NBSolarPlant_ds
      Animation          = NBSolarPlant_ds.NBSolarPlant_ds
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
      Model              = NBSolarPlant_es
      Animation          = NBSolarPlant_es.NBSolarPlant_es
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End

    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    ;**************************************************************************************************************************
  End
  

  ; ------------ construction-zone fence -----------------
  Draw                = W3DModelDraw ModuleTag_03
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = NBConYard_A4
      Animation       = NBConYard_A4.NBConYard_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Pit SmolderingFire
      ParticleSysBone = Pit01 SmolderingFire
      ParticleSysBone = Pit SmolderingSmoke
      ParticleSysBone = Pit01 SmolderingSmoke
    End
    ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = NBConYard_A4N
      Animation       = NBConYard_A4N.NBConYard_A4N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = Pit SmolderingFire
      ParticleSysBone = Pit01 SmolderingFire
      ParticleSysBone = Pit SmolderingSmoke
      ParticleSysBone = Pit01 SmolderingSmoke
    End
    ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = NBConYard_A4S
      Animation       = NBConYard_A4S.NBConYard_A4S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = Pit SmolderingFire
      ParticleSysBone = Pit01 SmolderingFire
      ParticleSysBone = Pit SmolderingSmoke
      ParticleSysBone = Pit01 SmolderingSmoke
    End
    ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = NBConYard_A4SN
      Animation       = NBConYard_A4SN.NBConYard_A4SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = Pit SmolderingFire
      ParticleSysBone = Pit01 SmolderingFire
      ParticleSysBone = Pit SmolderingSmoke
      ParticleSysBone = Pit01 SmolderingSmoke
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = NBConYard_A4
      Animation       = NBConYard_A4.NBConYard_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
      ParticleSysBone = Pit SmolderingFire
      ParticleSysBone = Pit01 SmolderingFire
      ParticleSysBone = Pit SmolderingSmoke
      ParticleSysBone = Pit01 SmolderingSmoke
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = NBConYard_A4N
      Animation       = NBConYard_A4N.NBConYard_A4N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
      ParticleSysBone = Pit SmolderingFire
      ParticleSysBone = Pit01 SmolderingFire
      ParticleSysBone = Pit SmolderingSmoke
      ParticleSysBone = Pit01 SmolderingSmoke
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = NBConYard_A4S
      Animation       = NBConYard_A4S.NBConYard_A4S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
      ParticleSysBone = Pit SmolderingFire
      ParticleSysBone = Pit01 SmolderingFire
      ParticleSysBone = Pit SmolderingSmoke
      ParticleSysBone = Pit01 SmolderingSmoke
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = NBConYard_A4SN
      Animation       = NBConYard_A4SN.NBConYard_A4SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
      ParticleSysBone = Pit SmolderingFire
      ParticleSysBone = Pit01 SmolderingFire
      ParticleSysBone = Pit SmolderingSmoke
      ParticleSysBone = Pit01 SmolderingSmoke
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = NBConYard_A4
      Animation       = NBConYard_A4.NBConYard_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
      ParticleSysBone = Pit SmolderingFire
      ParticleSysBone = Pit01 SmolderingFire
      ParticleSysBone = Pit SmolderingSmoke
      ParticleSysBone = Pit01 SmolderingSmoke
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = NBConYard_A4N
      Animation       = NBConYard_A4N.NBConYard_A4N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
      ParticleSysBone = Pit SmolderingFire
      ParticleSysBone = Pit01 SmolderingFire
      ParticleSysBone = Pit SmolderingSmoke
      ParticleSysBone = Pit01 SmolderingSmoke
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = NBConYard_A4S
      Animation       = NBConYard_A4S.NBConYard_A4S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
      ParticleSysBone = Pit SmolderingFire
      ParticleSysBone = Pit01 SmolderingFire
      ParticleSysBone = Pit SmolderingSmoke
      ParticleSysBone = Pit01 SmolderingSmoke
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = NBConYard_A4SN
      Animation       = NBConYard_A4SN.NBConYard_A4SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
      ParticleSysBone = Pit SmolderingFire
      ParticleSysBone = Pit01 SmolderingFire
      ParticleSysBone = Pit SmolderingSmoke
      ParticleSysBone = Pit01 SmolderingSmoke
    End
  End

  ; ------------ under-construction scaffolding -----------------
  Draw                = W3DModelDraw ModuleTag_04
    AnimationsRequirePower = No
    MinLODRequired = MEDIUM
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = NBConYard_A6
      Animation       = NBConYard_A6.NBConYard_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Dust01 BuildingDustChina
      ParticleSysBone = SmokeM01 BuildUpSmokeChina
      ParticleSysBone = SmokeS02 BuildUpSmokeChina
      ParticleSysBone = SparksM01 BuildUpSmokeChina
      ParticleSysBone = SparksM02 BuildUpSmokeChina
      ParticleSysBone = SparksS01 BuildUpSmokeChina
      ParticleSysBone = SparksS02 BuildUpSmokeChina
    End
    ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      Model           = NBConYard_A6N
      Animation       = NBConYard_A6N.NBConYard_A6N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT

      ParticleSysBone = Dust01 BuildingDustChina
      ParticleSysBone = SmokeM01 BuildUpSmokeChina
      ParticleSysBone = SmokeS02 BuildUpSmokeChina
      ParticleSysBone = SparksM01 BuildUpSmokeChina
      ParticleSysBone = SparksM02 BuildUpSmokeChina
      ParticleSysBone = SparksS01 BuildUpSmokeChina
      ParticleSysBone = SparksS02 BuildUpSmokeChina
    End
    ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      Model           = NBConYard_A6S
      Animation       = NBConYard_A6S.NBConYard_A6S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = Dust01 BuildingSnowDust
      ParticleSysBone = SmokeM01 BuildUpSnowSmoke
      ParticleSysBone = SmokeS02 BuildUpSnowSmoke
      ParticleSysBone = SparksM01 BuildUpSnowSmoke
      ParticleSysBone = SparksM02 BuildUpSnowSmoke
      ParticleSysBone = SparksS01 BuildUpSnowSmoke
      ParticleSysBone = SparksS02 BuildUpSnowSmoke
    End
    ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      Model           = NBConYard_A6SN
      Animation       = NBConYard_A6SN.NBConYard_A6SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = Dust01 BuildingNightSnowDust
      ParticleSysBone = SmokeM01 BuildUpNightSnowSmoke
      ParticleSysBone = SmokeS02 BuildUpNightSnowSmoke
      ParticleSysBone = SparksM01 BuildUpNightSnowSmoke
      ParticleSysBone = SparksM02 BuildUpNightSnowSmoke
      ParticleSysBone = SparksS01 BuildUpNightSnowSmoke
      ParticleSysBone = SparksS02 BuildUpNightSnowSmoke
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
     Model            = NBConYard_A6
      Animation       = NBConYard_A6.NBConYard_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
     Model            = NBConYard_A6N
      Animation       = NBConYard_A6N.NBConYard_A6N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
     Model            = NBConYard_A6S
      Animation       = NBConYard_A6S.NBConYard_A6S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
     Model            = NBConYard_A6SN
      Animation       = NBConYard_A6SN.NBConYard_A6SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = NBConYard_A6
      Animation       = NBConYard_A6.NBConYard_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = NBConYard_A6N
      Animation       = NBConYard_A6N.NBConYard_A6N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = NBConYard_A6S
      Animation       = NBConYard_A6S.NBConYard_A6S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = NBConYard_A6SN
      Animation       = NBConYard_A6SN.NBConYard_A6SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ being-constructed crane -----------------
  Draw = W3DModelDraw ModuleTag_05
    AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    
    ConditionState  = ACTIVELY_BEING_CONSTRUCTED
      Model           = NBConYard_A5
      Animation       = NBConYard_A5.NBConYard_A5
      AnimationMode   = LOOP
      TransitionKey  = UP_DAY
    End

    ConditionState  = NIGHT ACTIVELY_BEING_CONSTRUCTED
      Model           = NBConYard_A5N
      Animation       = NBConYard_A5N.NBConYard_A5N
      AnimationMode   = LOOP
      TransitionKey  = UP_NIGHT
    End
    ConditionState  = SNOW ACTIVELY_BEING_CONSTRUCTED
      Model           = NBConYard_A5S
      Animation       = NBConYard_A5S.NBConYard_A5S
      AnimationMode   = LOOP
      TransitionKey  = UP_SNOW
    End
    ConditionState  = SNOW NIGHT ACTIVELY_BEING_CONSTRUCTED
      Model           = NBConYard_A5SN
      Animation       = NBConYard_A5SN.NBConYard_A5SN
      AnimationMode   = LOOP
      TransitionKey  = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model            = NBConYard_AB
      Animation       = NBConYard_AB.NBConYard_AB
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End

    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model            = NBConYard_ABN
      Animation       = NBConYard_ABN.NBConYard_ABN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model            = NBConYard_ABS
      Animation       = NBConYard_ABS.NBConYard_ABS
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model            = NBConYard_ABSN
      Animation       = NBConYard_ABSN.NBConYard_ABSN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model            = NBConYard_AB
      Animation       = NBConYard_AB.NBConYard_AB
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model            = NBConYard_ABN
      Animation       = NBConYard_ABN.NBConYard_ABN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model            = NBConYard_ABS
      Animation       = NBConYard_ABS.NBConYard_ABS
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model            = NBConYard_ABSN
      Animation       = NBConYard_ABSN.NBConYard_ABSN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End 

  PlacementViewAngle = -135

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Nuke_SolarReactor
  Side                = Boss
  EditorSorting       = STRUCTURE

  BuildCost           = 50000
  BuildTime           = 28.0           ; in seconds
  EnergyProduction    = 100
  EnergyBonus         = 50
  VisionRange         = 300.0          ; Shroud clearing distance
  ShroudClearingRange = 300
  WeaponSet
    ;The weapon set is used to determine detonation mode
    Conditions = None 
    Weapon = PRIMARY    DummyWeapon ;Used for mode matching only (when to detonate)
    Weapon = SECONDARY  DummyWeapon ;Used for mode matching only (when to detonate)
    Weapon = TERTIARY   DummyWeapon ;Used for mode matching only (when to detonate)
    AutoChooseSources = PRIMARY   NONE
    AutoChooseSources = SECONDARY NONE
    AutoChooseSources = TERTIARY  NONE
  End
  ArmorSet
    Conditions        = None
    Armor             = StructureArmor
    DamageFX          = StructureDamageFXNoShake
  End
  Prerequisites
    Object = Boss_WarFactory
    Object = Boss_TechCentr
  End
  CommandSet          = Boss_EnergyPlantCommandSet
  ExperienceValue     = 100 100 100 100  ; Experience point value at each level
 
  ; *** AUDIO Parameters ***
  VoiceSelect         = NuclearReactorSelect
  SoundOnDamaged        = BuildingDamagedStateLight
  SoundOnReallyDamaged  = BuildingDestroy

  UnitSpecificSounds
    UnderConstruction     = UnderConstructionLoop
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority       = STRUCTURE
  KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE CAPTURABLE FS_POWER MP_COUNT_FOR_VICTORY

  Body                = StructureBody ModuleTag_0556
    MaxHealth         = 100000.0
    InitialHealth     = 100000.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 3000
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
  End

  Behavior = DemoTrapUpdate ModuleTag_trap
    DefaultProximityMode      = Yes       ;If yes, defaults to proximity mode, otherwise defaults to manual.
    DetonationWeaponSlot      = PRIMARY   ;The slot the weapon is in when it detonates.
    ProximityModeWeaponSlot   = SECONDARY ;The slot proximity mode is determined by (bogus weapon)
    ManualModeWeaponSlot      = TERTIARY  ;The slot manual mode is determined by (bogus weapon)
    TriggerDetonationRange    = 40.0      ;Detonation range when in proximity mode (and must be on ground)
    IgnoreTargetTypes         = PROJECTILE UNATTACKABLE
    AutoDetonationWithFriendsInvolved = Yes ;GLA are low tech 
;    DetonationWeapon          = DemoTrapDetonationWeapon
    DetonateWhenKilled        = Yes
  End
 
  Behavior             = CreateObjectDie ModuleTag_20
    CreationList  = OCL_LargeStructureDebris
  End
  Behavior                 = DestroyDie ModuleTag_0779
    ;nothing
  End
  ; Behavior = PowerPlantUpgrade ModuleTag_0769
    ; TriggeredBy = Upgrade_GammaRad
  ; End

  Behavior = ProductionUpdate ModuleTag_10
    ; nothing, but is required if we have any Object-level Upgrades!
  End

  Behavior = GenerateMinefieldBehavior     ModuleTag_12
    TriggeredBy           = Upgrade_ChinaMines
    MineName              = ChinaStandardMine
    SmartBorder           = Yes
    AlwaysCircular        = Yes

    Upgradable            = Yes
    UpgradedTriggeredBy   = Upgrade_ChinaEMPMines
    UpgradedMineName      = ChinaEMPMine
  End

  Behavior = FlammableUpdate ModuleTag_14
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 5       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = TransitionDamageFX ModuleTag_15
    ;-------------DESIGNED FOR SMALL SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
  End

  Behavior = CommandSetUpgrade ModuleTag_25
    CommandSet = Boss_EnergyPlantCommandSetUpgrade
    TriggeredBy = Upgrade_ChinaMines
  End
  Behavior = ArmorUpgrade ModuleTag_26
    TriggeredBy = Upgrade_ChinaEMPMines
  End

  Behavior = SlowDeathBehavior ModuleTag_0590 
    ExemptStatus = UNDER_CONSTRUCTION
    DestructionDelay = 2000
    FX = INITIAL FX_SolarPlantWarning
  End

  Behavior = FireWeaponWhenDeadBehavior ModuleTag_Nuk01
    DeathWeapon   = ChinaSolarPowerPlantDeathWeapon
    StartsActive  = Yes                     
    ConflictsWith = Upgrade_GammaRad
  End

  Behavior = FireWeaponWhenDeadBehavior ModuleTag_Nuk02
    DeathWeapon   = ChinaSolarPowerPlantDeathWeaponGamma
    StartsActive  = No                     
    TriggeredBy   = Upgrade_GammaRad
  End

  Behavior = InstantDeathBehavior ModuleTag_0867
    RequiredStatus = UNDER_CONSTRUCTION
  End

  Behavior           = OCLSpecialPower ModuleTag_1900000002
    SpecialPowerTemplate = SuperweaponNukeStrike
    OCL                  = SUPERWEAPON_NukeStrike1
    CreateLocation       = CREATE_AT_EDGE_NEAR_SOURCE
  End

  BuildCompletion = PLACED_BY_PLAYER

  Geometry            = BOX
  FactoryExitWidth    = 22
  GeometryMajorRadius = 52.0
  GeometryMinorRadius = 53.0
  GeometryHeight      = 34.0
  Scale = 0.90
  GeometryIsSmall     = No
  Shadow              = SHADOW_VOLUME
  BuildCompletion     = PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
Object Boss_SmallFactory

  ; *** ART Parameters ***
  SelectPortrait         = BotFactory
  ButtonImage            = BotFactory

  ; ; ------------ the main factory itself -----------------
  ; Draw = W3DModelDraw ModuleTag_01
    ; OkToChangeModelColor = Yes  
    ; ; day **************************************************
    ; DefaultConditionState
      ; Model           = ABWarFacty
      ; Animation       = ABWarFacty.ABWarFacty
      ; AnimationMode   = LOOP
      ; ParticleSysBone = Smoke01 SteamVent
      ; ParticleSysBone = Smoke02 SteamVent     
    ; End    
    ; ConditionState = DAMAGED
      ; Model           = ABWarFacty_D
      ; Animation       = ABWarFacty_D.ABWarFacty_D
      ; AnimationMode   = LOOP
      ; ParticleSysBone = Smoke01 SteamVent
      ; ParticleSysBone = Smoke02 SteamVent     
      ; ParticleSysBone = Smoke03 SteamVent
      ; ParticleSysBone = Smoke04 SteamVent  
    ; End
    ; ConditionState = REALLYDAMAGED RUBBLE
      ; Model           = ABWarFacty_E
      ; Animation       = ABWarFacty_E.ABWarFacty_E
      ; AnimationMode   = LOOP 
      ; ParticleSysBone = Smoke01 SteamVent
      ; ParticleSysBone = Smoke02 SteamVent     
      ; ParticleSysBone = Smoke03 SteamVent
      ; ParticleSysBone = Smoke04 SteamVent  
      ; ParticleSysBone = Smoke05 SteamVent
      ; ParticleSysBone = Smoke06 SteamVent  
    ; End


    ; ; night *************************************************
    ; ConditionState = NIGHT
      ; Model           = ABWarFacty
      ; Animation       = ABWarFacty.ABWarFacty
      ; AnimationMode   = LOOP
      ; ParticleSysBone = Smoke01 SteamVent
      ; ParticleSysBone = Smoke02 SteamVent      
    ; End
    ; ConditionState = DAMAGED NIGHT
      ; Model           = ABWarFacty_D
      ; Animation       = ABWarFacty_D.ABWarFacty_D
      ; AnimationMode   = LOOP 
      ; ParticleSysBone = Smoke01 SteamVent
      ; ParticleSysBone = Smoke02 SteamVent     
      ; ParticleSysBone = Smoke03 SteamVent
      ; ParticleSysBone = Smoke04 SteamVent  
    ; End
    ; ConditionState = REALLYDAMAGED RUBBLE NIGHT
      ; Model           = ABWarFacty_E
      ; Animation       = ABWarFacty_E.ABWarFacty_E
      ; AnimationMode   = LOOP 
      ; ParticleSysBone = Smoke01 SteamVent
      ; ParticleSysBone = Smoke02 SteamVent     
      ; ParticleSysBone = Smoke03 SteamVent
      ; ParticleSysBone = Smoke04 SteamVent  
      ; ParticleSysBone = Smoke05 SteamVent
      ; ParticleSysBone = Smoke06 SteamVent  
    ; End
    
    ; ; snow *************************************************
    ; ConditionState = SNOW
      ; Model           = ABWarFacty
      ; Animation       = ABWarFacty.ABWarFacty
      ; AnimationMode   = LOOP
    ; End
    ; ConditionState = DAMAGED SNOW
      ; Model           = ABWarFacty_D
      ; Animation       = ABWarFacty_D.ABWarFacty_D
      ; AnimationMode   = LOOP
    ; End
    ; ConditionState = REALLYDAMAGED RUBBLE SNOW
      ; Model           = ABWarFacty_E
      ; Animation       = ABWarFacty_E.ABWarFacty_E
      ; AnimationMode   = LOOP 
    ; End


    ; ; night snow *************************************************
    ; ConditionState = NIGHT SNOW
      ; Model           = ABWarFacty
      ; Animation       = ABWarFacty.ABWarFacty
      ; AnimationMode   = LOOP
    ; End
    ; ConditionState = DAMAGED NIGHT SNOW
      ; Model           = ABWarFacty_D
      ; Animation       = ABWarFacty_D.ABWarFacty_D
      ; AnimationMode   = LOOP  
    ; End
    ; ConditionState = REALLYDAMAGED RUBBLE NIGHT SNOW
      ; Model           = ABWarFacty_E
      ; Animation       = ABWarFacty_E.ABWarFacty_E
      ; AnimationMode   = LOOP 
    ; End

    ; ;**************************************************************************************************************************
    ; ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ; ;for this draw module
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      ; Model              = ABWarFacty
      ; Animation          = ABWarFacty.ABWarFacty
      ; AnimationMode      = LOOP
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      ; Model              = ABWarFacty_D
      ; Animation          = ABWarFacty_D.ABWarFacty_D
      ; AnimationMode      = LOOP
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      ; Model              = ABWarFacty_E
      ; Animation          = ABWarFacty_E.ABWarFacty_E
      ; AnimationMode      = LOOP
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
      ; Model              = ABWarFacty
      ; Animation          = ABWarFacty.ABWarFacty
      ; AnimationMode      = LOOP
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
      ; Model              = ABWarFacty_D
      ; Animation          = ABWarFacty_D.ABWarFacty_D
      ; AnimationMode      = LOOP
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
      ; Model              = ABWarFacty_E
      ; Animation          = ABWarFacty_E.ABWarFacty_E
      ; AnimationMode      = LOOP
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      ; Model              = ABWarFacty
      ; Animation          = ABWarFacty.ABWarFacty
      ; AnimationMode      = LOOP
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
      ; Model              = ABWarFacty_D
      ; Animation          = ABWarFacty_D.ABWarFacty_D
      ; AnimationMode      = LOOP
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
      ; Model              = ABWarFacty_E
      ; Animation          = ABWarFacty_E.ABWarFacty_E
      ; AnimationMode      = LOOP
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
      ; Model              = ABWarFacty
      ; Animation          = ABWarFacty.ABWarFacty
      ; AnimationMode      = LOOP
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
      ; Model              = ABWarFacty_D
      ; Animation          = ABWarFacty_D.ABWarFacty_D
      ; AnimationMode      = LOOP
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
      ; Model              = ABWarFacty_E
      ; Animation          = ABWarFacty_E.ABWarFacty_E
      ; AnimationMode      = LOOP
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End

    ; ConditionState       = AWAITING_CONSTRUCTION 
      ; Model              = NONE
    ; End
    ; AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    ; AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    ; AliasConditionState  = SOLD 
    ; AliasConditionState  = SOLD DAMAGED
    ; AliasConditionState  = SOLD REALLYDAMAGED
    ; AliasConditionState  = SOLD NIGHT
    ; AliasConditionState  = SOLD NIGHT DAMAGED
    ; AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    ; AliasConditionState  = SOLD SNOW
    ; AliasConditionState  = SOLD SNOW DAMAGED
    ; AliasConditionState  = SOLD SNOW REALLYDAMAGED
    ; AliasConditionState  = SOLD NIGHT SNOW
    ; AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    ; AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    ; ;**************************************************************************************************************************


  ; End

  ; ; ----------------- the factory door -------------------
  ; Draw = W3DModelDraw ModuleTag_02
    ; DefaultConditionState
      ; Model           = ABWarFacty_A8
      ; Animation       = ABWarFacty_A8.ABWarFacty_A8
      ; AnimationMode   = MANUAL
      ; Flags           = START_FRAME_FIRST
    ; End
    ; AliasConditionState = NIGHT 
    ; AliasConditionState = SNOW
    ; AliasConditionState = SNOW NIGHT
    
    ; ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      ; Model           = ABWarFacty_A8
      ; Flags           = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; AliasConditionState = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
    ; AliasConditionState = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
    ; AliasConditionState = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
    
    ; ConditionState    = DAMAGED
      ; Model           = ABWarFacty_A8D
      ; Animation       = ABWarFacty_A8D.ABWarFacty_A8D
      ; AnimationMode   = MANUAL
      ; Flags           = START_FRAME_FIRST
    ; End
    ; AliasConditionState = NIGHT DAMAGED
    ; AliasConditionState = SNOW DAMAGED
    ; AliasConditionState = SNOW NIGHT DAMAGED
    
    ; ConditionState    = REALLYDAMAGED RUBBLE
      ; Model           = ABWarFacty_A8E
      ; Animation       = ABWarFacty_A8E.ABWarFacty_A8E
      ; AnimationMode   = MANUAL
      ; Flags           = START_FRAME_FIRST
    ; End
    ; AliasConditionState = NIGHT REALLYDAMAGED RUBBLE
    ; AliasConditionState = SNOW REALLYDAMAGED RUBBLE
    ; AliasConditionState = SNOW NIGHT REALLYDAMAGED RUBBLE
    
    ; ConditionState    = DOOR_1_OPENING
      ; Model           = ABWarFacty_A8
      ; Animation       = ABWarFacty_A8.ABWarFacty_A8
      ; AnimationMode   = ONCE
      ; Flags           = START_FRAME_FIRST
    ; End   
    ; AliasConditionState = NIGHT DOOR_1_OPENING
    ; AliasConditionState = SNOW DOOR_1_OPENING
    ; AliasConditionState = SNOW NIGHT DOOR_1_OPENING
    
    ; ConditionState    = DOOR_1_OPENING DAMAGED
      ; Model           = ABWarFacty_A8D
      ; Animation       = ABWarFacty_A8D.ABWarFacty_A8D
      ; AnimationMode   = ONCE
      ; Flags           = START_FRAME_FIRST
    ; End   
    ; AliasConditionState = NIGHT DOOR_1_OPENING DAMAGED
    ; AliasConditionState = SNOW DOOR_1_OPENING DAMAGED
    ; AliasConditionState = SNOW NIGHT DOOR_1_OPENING DAMAGED
    
    ; ConditionState    = DOOR_1_OPENING REALLYDAMAGED RUBBLE
      ; Model           = ABWarFacty_A8E
      ; Animation       = ABWarFacty_A8E.ABWarFacty_A8E
      ; AnimationMode   = ONCE
      ; Flags           = START_FRAME_FIRST
    ; End
    ; AliasConditionState = NIGHT DOOR_1_OPENING REALLYDAMAGED RUBBLE
    ; AliasConditionState = SNOW DOOR_1_OPENING REALLYDAMAGED RUBBLE
    ; AliasConditionState = SNOW NIGHT DOOR_1_OPENING REALLYDAMAGED RUBBLE
    
    ; ConditionState    = DOOR_1_CLOSING
      ; Model           = ABWarFacty_A8
      ; Animation       = ABWarFacty_A8.ABWarFacty_A8
      ; AnimationMode   = ONCE_BACKWARDS
      ; Flags           = START_FRAME_LAST
    ; End   
    ; AliasConditionState = NIGHT DOOR_1_CLOSING
    ; AliasConditionState = SNOW DOOR_1_CLOSING
    ; AliasConditionState = SNOW NIGHT DOOR_1_CLOSING

    
    ; ConditionState    = DOOR_1_CLOSING DAMAGED
      ; Model           = ABWarFacty_A8D
      ; Animation       = ABWarFacty_A8D.ABWarFacty_A8D
      ; AnimationMode   = ONCE_BACKWARDS
      ; Flags           = START_FRAME_LAST
    ; End   
    ; AliasConditionState = NIGHT DOOR_1_CLOSING DAMAGED
    ; AliasConditionState = SNOW DOOR_1_CLOSING DAMAGED
    ; AliasConditionState = SNOW NIGHT DOOR_1_CLOSING DAMAGED
    
    ; ConditionState    = DOOR_1_CLOSING REALLYDAMAGED RUBBLE
      ; Model           = ABWarFacty_A8E
      ; Animation       = ABWarFacty_A8E.ABWarFacty_A8E
      ; AnimationMode   = ONCE_BACKWARDS
      ; Flags           = START_FRAME_LAST
    ; End   
    ; AliasConditionState = NIGHT DOOR_1_CLOSING REALLYDAMAGED RUBBLE
    ; AliasConditionState = SNOW DOOR_1_CLOSING REALLYDAMAGED RUBBLE
    ; AliasConditionState = SNOW NIGHT DOOR_1_CLOSING REALLYDAMAGED RUBBLE
    
    ; ConditionState    = DOOR_1_WAITING_OPEN
      ; Model           = ABWarFacty_A8
      ; Animation       = ABWarFacty_A8.ABWarFacty_A8
      ; AnimationMode   = MANUAL
      ; Flags           = START_FRAME_LAST
    ; End   
    ; AliasConditionState = NIGHT DOOR_1_WAITING_OPEN
    ; AliasConditionState = SNOW DOOR_1_WAITING_OPEN
    ; AliasConditionState = SNOW NIGHT DOOR_1_WAITING_OPEN
    
    ; ConditionState    = DOOR_1_WAITING_OPEN DAMAGED
      ; Model           = ABWarFacty_A8D
      ; Animation       = ABWarFacty_A8D.ABWarFacty_A8D
      ; AnimationMode   = MANUAL
      ; Flags           = START_FRAME_LAST
    ; End   
    ; AliasConditionState = NIGHT DOOR_1_WAITING_OPEN DAMAGED
    ; AliasConditionState = SNOW DOOR_1_WAITING_OPEN DAMAGED
    ; AliasConditionState = SNOW NIGHT DOOR_1_WAITING_OPEN DAMAGED
    
    ; ConditionState    = DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE
      ; Model           = ABWarFacty_A8E
      ; Animation       = ABWarFacty_A8E.ABWarFacty_A8E
      ; AnimationMode   = MANUAL
      ; Flags           = START_FRAME_LAST
    ; End   
    ; AliasConditionState = NIGHT DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE
    ; AliasConditionState = SNOW DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE
    ; AliasConditionState = SNOW NIGHT DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE
    
    ; ConditionState       = AWAITING_CONSTRUCTION 
      ; Model              = NONE
    ; End
    ; AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    ; AliasConditionState  = SOLD 
    ; AliasConditionState  = SOLD DAMAGED
    ; AliasConditionState  = SOLD REALLYDAMAGED
    ; AliasConditionState  = SOLD NIGHT
    ; AliasConditionState  = SOLD NIGHT DAMAGED
    ; AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    ; AliasConditionState  = SOLD SNOW
    ; AliasConditionState  = SOLD SNOW DAMAGED
    ; AliasConditionState  = SOLD SNOW REALLYDAMAGED
    ; AliasConditionState  = SOLD NIGHT SNOW
    ; AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    ; AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
  ; End

  ; ; ------------------ the construction crane ------------
  ; Draw = W3DModelDraw ModuleTag_03

    ; DefaultConditionState
      ; Model           = ABWarFacty_A1
      ; Animation       = ABWarFacty_A1.ABWarFacty_A1
      ; AnimationMode   = LOOP
      ; TransitionKey   = TRANS_Idle
    ; End
    ; ConditionState    = DAMAGED
      ; Model           = ABWarFacty_A1D
      ; Animation       = ABWarFacty_A1D.ABWarFacty_A1D
      ; AnimationMode   = LOOP
      ; TransitionKey   = TRANS_IdleDamaged
    ; End
    ; ConditionState    = REALLYDAMAGED RUBBLE
      ; Model           = ABWarFacty_A1E
      ; Animation       = ABWarFacty_A1E.ABWarFacty_A1E
      ; AnimationMode   = LOOP
      ; TransitionKey   = TRANS_IdleReallyDamaged
    ; End

    ; ; -----------------------------------------------------------
    ; TransitionState   = TRANS_Constructing TRANS_Idle
      ; Model           = ABWarFacty_A3
      ; Animation       = ABWarFacty_A3.ABWarFacty_A3
      ; AnimationMode   = ONCE
      ; Flags           = MAINTAIN_FRAME_ACROSS_STATES
    ; End
    ; TransitionState   = TRANS_ConstructingDamaged TRANS_IdleDamaged
      ; Model           = ABWarFacty_A3D
      ; Animation       = ABWarFacty_A3D.ABWarFacty_A3D
      ; AnimationMode   = ONCE
      ; Flags           = MAINTAIN_FRAME_ACROSS_STATES
    ; End
    ; TransitionState   = TRANS_ConstructingReallyDamaged TRANS_IdleReallyDamaged
      ; Model           = ABWarFacty_A3E
      ; Animation       = ABWarFacty_A3E.ABWarFacty_A3E
      ; AnimationMode   = ONCE
      ; Flags           = MAINTAIN_FRAME_ACROSS_STATES
    ; End

    ; ; -----------------------------------------------------------
    ; ConditionState    = ACTIVELY_CONSTRUCTING
      ; Model           = ABWarFacty_A3
      ; Animation       = ABWarFacty_A3.ABWarFacty_A3
      ; AnimationMode   = ONCE
      ; TransitionKey   = TRANS_Constructing
      ; Flags           = MAINTAIN_FRAME_ACROSS_STATES RESTART_ANIM_WHEN_COMPLETE
    ; End
    ; ConditionState    = ACTIVELY_CONSTRUCTING DAMAGED
      ; Model           = ABWarFacty_A3D
      ; Animation       = ABWarFacty_A3D.ABWarFacty_A3D
      ; AnimationMode   = ONCE
      ; TransitionKey   = TRANS_ConstructingDamaged
      ; Flags           = MAINTAIN_FRAME_ACROSS_STATES RESTART_ANIM_WHEN_COMPLETE
    ; End
    ; ConditionState    = ACTIVELY_CONSTRUCTING REALLYDAMAGED RUBBLE
      ; Model           = ABWarFacty_A3E
      ; Animation       = ABWarFacty_A3E.ABWarFacty_A3E
      ; AnimationMode   = ONCE
      ; TransitionKey   = TRANS_ConstructingReallyDamaged
      ; Flags           = MAINTAIN_FRAME_ACROSS_STATES RESTART_ANIM_WHEN_COMPLETE
    ; End
    ; ; -----------------------------------------------------------
    ; ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SOLD
      ; Model           = ABWarFacty_A1
      ; Flags           = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; ConditionState    = SOLD
      ; Model           = NONE
    ; End    
  ; End

  ; ; ------------ Plaz-----------------
  ; Draw                = W3DModelDraw ModuleTag_03109
    ; ConditionState    = None
      ; Model           = ABWarFacty_FA
    ; End

    ; AliasConditionState = SNOW
    ; AliasConditionState = NIGHT
    ; AliasConditionState = NIGHT SNOW

    ; ConditionState    = DAMAGED
      ; Model           = ABWarFacty_FAD
    ; End

    ; AliasConditionState = SNOW DAMAGED
    ; AliasConditionState = NIGHT SNOW DAMAGED
    ; AliasConditionState = NIGHT DAMAGED
    

    ; ConditionState    = REALLYDAMAGED RUBBLE
      ; Model           = ABWarFacty_FAE
    ; End

    ; AliasConditionState = SNOW REALLYDAMAGED RUBBLe
    ; AliasConditionState = NIGHT SNOW REALLYDAMAGED RUBBLE
    ; AliasConditionState = NIGHT REALLYDAMAGED RUBBLE

    
    ; ;**************************************************************************************************************************
    ; ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ; ;for this draw module
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      ; Model              = ABWarFacty_FA
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
    
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      ; Model              = ABWarFacty_FAD
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED SNOW
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT SNOW
    
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      ; Model              = ABWarFacty_FAE
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED SNOW
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT SNOW
    
    ; ConditionState       = AWAITING_CONSTRUCTION 
      ; Model              = NONE
    ; End
    ; AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    ; AliasConditionState  = SOLD DAMAGED
    ; AliasConditionState  = SOLD REALLYDAMAGED
    ; AliasConditionState  = SOLD NIGHT
    ; AliasConditionState  = SOLD NIGHT DAMAGED
    ; AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    ; AliasConditionState  = SOLD NIGHT SNOW
    ; AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    ; AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    ; ;**************************************************************************************************************************
    
  ; End

  ; ; ------------ -----------------
  ; Draw                = W3DModelDraw ModuleTag_0310t2
    ; ConditionState    = None
      ; Model           = NBRolf
    ; End

    ; AliasConditionState = NIGHT

    ; ConditionState    = SNOW
      ; Model           = NBRolf_s
    ; End

    ; AliasConditionState = NIGHT SNOW

    ; ConditionState    = DAMAGED
      ; Model           = NBRolf_D
    ; End

    ; AliasConditionState = NIGHT DAMAGED

    ; ConditionState    = SNOW DAMAGED
      ; Model           = NBRolf_sd
    ; End

    ; AliasConditionState = NIGHT SNOW DAMAGED
    ; AliasConditionState = SNOW REALLYDAMAGED RUBBLe
    ; AliasConditionState = NIGHT SNOW REALLYDAMAGED RUBBLE
    

    ; ConditionState    = REALLYDAMAGED RUBBLE
      ; Model           = NBRolf_D
    ; End

    ; AliasConditionState = NIGHT REALLYDAMAGED RUBBLE

    
    ; ;**************************************************************************************************************************
    ; ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ; ;for this draw module
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      ; Model              = NBRolf
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
    
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      ; Model              = NBRolf_D
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED SNOW
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT SNOW
    
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      ; Model              = NBRolf_D
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED SNOW
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT SNOW
    
    ; ConditionState       = AWAITING_CONSTRUCTION 
      ; Model              = NONE
    ; End
    ; AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    ; AliasConditionState  = SOLD DAMAGED
    ; AliasConditionState  = SOLD REALLYDAMAGED
    ; AliasConditionState  = SOLD NIGHT
    ; AliasConditionState  = SOLD NIGHT DAMAGED
    ; AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    ; AliasConditionState  = SOLD NIGHT SNOW
    ; AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    ; AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    ; ;**************************************************************************************************************************
    
  ; End

  ; ; ------------RepairStation-----------------
  ; Draw                = W3DModelDraw ModuleTag_0310t
    ; ConditionState    = None
      ; Model           = NBSnRepSt
    ; End

    ; AliasConditionState = NIGHT

    ; ConditionState    = SNOW
      ; Model           = NBSnRepSt_s
    ; End

    ; AliasConditionState = NIGHT SNOW

    ; ConditionState    = DAMAGED
      ; Model           = NBSnRepSt_D
    ; End

    ; AliasConditionState = NIGHT DAMAGED

    ; ConditionState    = SNOW DAMAGED
      ; Model           = NBSnRepSt_SD
    ; End

    ; AliasConditionState = NIGHT SNOW DAMAGED
    ; AliasConditionState = SNOW REALLYDAMAGED RUBBLe
    ; AliasConditionState = NIGHT SNOW REALLYDAMAGED RUBBLE
    

    ; ConditionState    = REALLYDAMAGED RUBBLE
      ; Model           = NBSnRepSt_E
    ; End

    ; AliasConditionState = NIGHT REALLYDAMAGED RUBBLE

    
    ; ;**************************************************************************************************************************
    ; ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ; ;for this draw module
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      ; Model              = NBSnRepSt
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
    
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      ; Model              = NBSnRepSt_D
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED SNOW
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT SNOW
    
    ; ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      ; Model              = NBSnRepSt_E
      ; Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED SNOW
    ; AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT SNOW
    
    ; ConditionState       = AWAITING_CONSTRUCTION 
      ; Model              = NONE
    ; End
    ; AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    ; AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    ; AliasConditionState  = SOLD DAMAGED
    ; AliasConditionState  = SOLD REALLYDAMAGED
    ; AliasConditionState  = SOLD NIGHT
    ; AliasConditionState  = SOLD NIGHT DAMAGED
    ; AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    ; AliasConditionState  = SOLD NIGHT SNOW
    ; AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    ; AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    ; ;**************************************************************************************************************************
    
  ; End

  ; ; ------------------ the construction conveyor belt ------------
  ; Draw = W3DModelDraw ModuleTag_04

    ; OkToChangeModelColor = Yes  

    ; DefaultConditionState
      ; Model           = ABWarFacty_A7
      ; Animation       = ABWarFacty_A7.ABWarFacty_A7
      ; AnimationMode   = MANUAL
      ; Flags           = START_FRAME_FIRST
    ; End
    ; AliasConditionState = SNOW
    ; AliasConditionState = NIGHT
    ; AliasConditionState = SNOW NIGHT
    
    ; ConditionState    = SOLD
      ; Model           = NONE
    ; End 
    ; AliasConditionState = SNOW SOLD
    ; AliasConditionState = NIGHT SOLD
    ; AliasConditionState = SNOW NIGHT SOLD 


    ; ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED 
      ; Model           = ABWarFacty_A7
      ; Flags           = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; AliasConditionState = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
    ; AliasConditionState = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
    ; AliasConditionState = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
    
    ; ConditionState    = DAMAGED
      ; Model           = ABWarFacty_A7D
      ; Animation       = ABWarFacty_A7D.ABWarFacty_A7D
      ; AnimationMode   = MANUAL
      ; Flags           = START_FRAME_FIRST
    ; End
    ; AliasConditionState = SNOW DAMAGED
    ; AliasConditionState = NIGHT DAMAGED
    ; AliasConditionState = SNOW NIGHT DAMAGED
    
    ; ConditionState    = REALLYDAMAGED RUBBLE
      ; Model           = ABWarFacty_A7E
      ; Animation       = ABWarFacty_A7E.ABWarFacty_A7E
      ; AnimationMode   = MANUAL
      ; Flags           = START_FRAME_FIRST
    ; End
    ; AliasConditionState = SNOW REALLYDAMAGED RUBBLE
    ; AliasConditionState = NIGHT REALLYDAMAGED RUBBLE
    ; AliasConditionState = SNOW NIGHT REALLYDAMAGED RUBBLE
    
    ; ConditionState    = ACTIVELY_CONSTRUCTING
      ; Model           = ABWarFacty_A7
      ; Animation       = ABWarFacty_A7.ABWarFacty_A7
      ; AnimationMode   = LOOP
    ; End
    ; AliasConditionState = SNOW ACTIVELY_CONSTRUCTING
    ; AliasConditionState = NIGHT ACTIVELY_CONSTRUCTING
    ; AliasConditionState = SNOW NIGHT ACTIVELY_CONSTRUCTING
    
    ; ConditionState    = ACTIVELY_CONSTRUCTING DAMAGED
      ; Model           = ABWarFacty_A7D
      ; Animation       = ABWarFacty_A7D.ABWarFacty_A7D
      ; AnimationMode   = LOOP
    ; End
    ; AliasConditionState = SNOW ACTIVELY_CONSTRUCTING DAMAGED
    ; AliasConditionState = NIGHT ACTIVELY_CONSTRUCTING DAMAGED
    ; AliasConditionState = SNOW NIGHT ACTIVELY_CONSTRUCTING DAMAGED
    
    ; ConditionState    = ACTIVELY_CONSTRUCTING REALLYDAMAGED RUBBLE
      ; Model           = ABWarFacty_A7E
      ; Animation       = ABWarFacty_A7E.ABWarFacty_A7E
      ; AnimationMode   = LOOP
    ; End
    ; AliasConditionState = SNOW ACTIVELY_CONSTRUCTING REALLYDAMAGED RUBBLE
    ; AliasConditionState = NIGHT ACTIVELY_CONSTRUCTING REALLYDAMAGED RUBBLE
    ; AliasConditionState = SNOW NIGHT ACTIVELY_CONSTRUCTING REALLYDAMAGED RUBBLE
    
  ; End

  ; ; ------------ construction done flashing lights ----------
  ; Draw = W3DModelDraw ModuleTag_05
    ; DefaultConditionState
      ; Model           = None
    ; End
    ; ConditionState    = SOLD
      ; Model           = NONE
    ; End    
    ; ConditionState    = SOLD SNOW
       ; Model          = NONE
    ; End   
    ; ConditionState    = SOLD NIGHT
       ; Model          = NONE
    ; End    
    ; ConditionState    = SOLD NIGHT SNOW
       ; Model          = NONE
    ; End   
    ; ConditionState    = CONSTRUCTION_COMPLETE
      ; Model           = ABWarFacty_A2
      ; Animation       = ABWarFacty_A2.ABWarFacty_A2
      ; AnimationMode   = LOOP
      ; Flags           = START_FRAME_FIRST
    ; End  
  ; End
    
  ; ; ------------ construction-zone fence -----------------
  ; Draw = W3DModelDraw ModuleTag_06
  ; AnimationsRequirePower = No
    ; DefaultConditionState
      ; Model           = None
      ; TransitionKey   = DOWN_DEFAULT
    ; End
    ; ConditionState    = NIGHT
      ; Model           = None
      ; TransitionKey   = DOWN_DEFAULT
    ; End
    ; ConditionState    = SNOW
      ; Model           = None
      ; TransitionKey   = DOWN_DEFAULT
    ; End
    ; ConditionState    = SNOW NIGHT
      ; Model           = None
      ; TransitionKey   = DOWN_DEFAULT
    ; End
    ; ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      ; Model           = NBNMissle_A4
      ; Animation       = NBNMissle_A4.NBNMissle_A4
      ; AnimationMode   = MANUAL
      ; Flags           = START_FRAME_LAST
      ; TransitionKey   = UP_DAY
    ; End
    ; ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      ; Model           = NBNMissle_A4N
      ; Animation       = NBNMissle_A4N.NBNMissle_A4N
      ; AnimationMode   = MANUAL
      ; Flags           = START_FRAME_LAST
      ; TransitionKey   = UP_NIGHT
    ; End
    ; ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      ; Model           = NBNMissle_A4S
      ; Animation       = NBNMissle_A4S.NBNMissle_A4S
      ; AnimationMode   = MANUAL
      ; Flags           = START_FRAME_LAST
      ; TransitionKey   = UP_SNOW
    ; End
    ; ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      ; Model           = NBNMissle_A4SN
      ; Animation       = NBNMissle_A4SN.NBNMissle_A4SN
      ; AnimationMode   = MANUAL
      ; Flags           = START_FRAME_LAST
      ; TransitionKey   = UP_SNOWNIGHT
    ; End
    ; TransitionState   = DOWN_DEFAULT UP_DAY
      ; Model           = NBNMissle_A4
      ; Animation       = NBNMissle_A4.NBNMissle_A4
      ; AnimationMode   = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags           = START_FRAME_FIRST
    ; End
    ; TransitionState   = DOWN_DEFAULT UP_NIGHT
      ; Model           = NBNMissle_A4N
      ; Animation       = NBNMissle_A4N.NBNMissle_A4N
      ; AnimationMode   = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags           = START_FRAME_FIRST
    ; End
    ; TransitionState   = DOWN_DEFAULT UP_SNOW
      ; Model           = NBNMissle_A4S
      ; Animation       = NBNMissle_A4S.NBNMissle_A4S
      ; AnimationMode   = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags           = START_FRAME_FIRST
    ; End
    ; TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      ; Model           = NBNMissle_A4SN
      ; Animation       = NBNMissle_A4SN.NBNMissle_A4SN
      ; AnimationMode   = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags           = START_FRAME_FIRST
    ; End
    ; TransitionState   = UP_DAY DOWN_DEFAULT
      ; Model           = NBNMissle_A4
      ; Animation       = NBNMissle_A4.NBNMissle_A4
      ; AnimationMode   = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      ; Flags           = START_FRAME_LAST
    ; End
    ; TransitionState   = UP_NIGHT DOWN_DEFAULT
      ; Model           = NBNMissle_A4N
      ; Animation       = NBNMissle_A4N.NBNMissle_A4N
      ; AnimationMode   = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      ; Flags           = START_FRAME_LAST
    ; End
    ; TransitionState   = UP_SNOW DOWN_DEFAULT
      ; Model           = NBNMissle_A4S
      ; Animation       = NBNMissle_A4S.NBNMissle_A4S
      ; AnimationMode   = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      ; Flags           = START_FRAME_LAST
    ; End
    ; TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      ; Model           = NBNMissle_A4SN
      ; Animation       = NBNMissle_A4SN.NBNMissle_A4SN
      ; AnimationMode   = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      ; Flags           = START_FRAME_LAST
    ; End
  ; End

  ; ; ------------ under-construction scaffolding -----------------
  ; Draw = W3DModelDraw ModuleTag_07
  ; AnimationsRequirePower = No
    ; MinLODRequired = MEDIUM
    ; DefaultConditionState
      ; Model           = None
      ; TransitionKey   = DOWN_DEFAULT
    ; End
    ; ConditionState    = NIGHT
      ; Model           = None
      ; TransitionKey   = DOWN_DEFAULT
    ; End
    ; ConditionState    = SNOW
      ; Model           = None
      ; TransitionKey   = DOWN_DEFAULT
    ; End
    ; ConditionState    = SNOW NIGHT
      ; Model           = None
      ; TransitionKey   = DOWN_DEFAULT
    ; End
    ; ConditionState    = PARTIALLY_CONSTRUCTED
      ; Model           = ABWarFacty_A6
      ; Animation       = ABWarFacty_A6.ABWarFacty_A6
      ; AnimationMode   = MANUAL
      ; Flags           = START_FRAME_LAST
      ; TransitionKey   = UP_DAY
      ; ParticleSysBone = Dust01 BuildingDustChina
      ; ParticleSysBone = Smoke01 BuildUpSmokeChina
      ; ParticleSysBone = Smoke02 BuildUpSmokeChina
      ; ParticleSysBone = Smoke03 BuildUpSmokeChina
      ; ParticleSysBone = Smoke04 BuildUpSmokeChina
      ; ParticleSysBone = Smoke05 BuildUpSmokeChina
    ; End
    ; ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      ; Model           = ABWarFacty_A6
      ; Animation       = ABWarFacty_A6.ABWarFacty_A6
      ; AnimationMode   = MANUAL
      ; Flags           = START_FRAME_LAST
      ; TransitionKey   = UP_NIGHT
      ; ParticleSysBone = Dust01 BuildingDustChina
      ; ParticleSysBone = Smoke01 BuildUpSmokeChina
      ; ParticleSysBone = Smoke02 BuildUpSmokeChina
      ; ParticleSysBone = Smoke03 BuildUpSmokeChina
      ; ParticleSysBone = Smoke04 BuildUpSmokeChina
      ; ParticleSysBone = Smoke05 BuildUpSmokeChina
    ; End
    ; ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      ; Model           = ABWarFacty_A6S
      ; Animation       = ABWarFacty_A6S.ABWarFacty_A6S
      ; AnimationMode   = MANUAL
      ; Flags           = START_FRAME_LAST
      ; TransitionKey   = UP_SNOW
      ; ParticleSysBone = Dust01 BuildingSnowDust
      ; ParticleSysBone = Smoke01 BuildUpSnowSmoke
      ; ParticleSysBone = Smoke02 BuildUpSnowSmoke
      ; ParticleSysBone = Smoke03 BuildUpSnowSmoke
      ; ParticleSysBone = Smoke04 BuildUpSnowSmoke
      ; ParticleSysBone = Smoke05 BuildUpSnowSmoke
    ; End
    ; ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      ; Model           = ABWarFacty_A6S
      ; Animation       = ABWarFacty_A6S.ABWarFacty_A6S
      ; AnimationMode   = MANUAL
      ; Flags           = START_FRAME_LAST
      ; TransitionKey   = UP_SNOWNIGHT
      ; ParticleSysBone = Dust01 BuildingSnowDust
      ; ParticleSysBone = Smoke01 BuildUpSnowSmoke
      ; ParticleSysBone = Smoke02 BuildUpSnowSmoke
      ; ParticleSysBone = Smoke03 BuildUpSnowSmoke
      ; ParticleSysBone = Smoke04 BuildUpSnowSmoke
      ; ParticleSysBone = Smoke05 BuildUpSnowSmoke
    ; End
    ; TransitionState   = DOWN_DEFAULT UP_DAY
      ; Model           = ABWarFacty_A6
      ; Animation       = ABWarFacty_A6.ABWarFacty_A6
      ; AnimationMode   = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags           = START_FRAME_FIRST
    ; End
    ; TransitionState   = DOWN_DEFAULT UP_NIGHT
      ; Model           = ABWarFacty_A6
      ; Animation       = ABWarFacty_A6.ABWarFacty_A6
      ; AnimationMode   = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags           = START_FRAME_FIRST
    ; End
    ; TransitionState   = DOWN_DEFAULT UP_SNOW
      ; Model           = ABWarFacty_A6S
      ; Animation       = ABWarFacty_A6S.ABWarFacty_A6S
      ; AnimationMode   = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags           = START_FRAME_FIRST
    ; End
    ; TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      ; Model           = ABWarFacty_A6S
      ; Animation       = ABWarFacty_A6S.ABWarFacty_A6S
      ; AnimationMode   = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags           = START_FRAME_FIRST
    ; End 
    ; TransitionState   = UP_DAY DOWN_DEFAULT
      ; Model            = ABWarFacty_A6
      ; Animation       = ABWarFacty_A6.ABWarFacty_A6
      ; AnimationMode   = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      ; Flags           = START_FRAME_LAST
    ; End
    ; TransitionState   = UP_NIGHT DOWN_DEFAULT
      ; Model            = ABWarFacty_A6
      ; Animation       = ABWarFacty_A6.ABWarFacty_A6
      ; AnimationMode   = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      ; Flags           = START_FRAME_LAST
    ; End
    ; TransitionState   = UP_SNOW DOWN_DEFAULT
      ; Model            = ABWarFacty_A6S
      ; Animation       = ABWarFacty_A6S.ABWarFacty_A6S
      ; AnimationMode   = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      ; Flags           = START_FRAME_LAST
    ; End
    ; TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      ; Model            = ABWarFacty_A6S
      ; Animation       = ABWarFacty_A6S.ABWarFacty_A6S
      ; AnimationMode   = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      ; Flags           = START_FRAME_LAST
    ; End
  ; End


  ; ; ------------ being-constructed crane -----------------
  ; Draw = W3DModelDraw ModuleTag_0800
  ; AnimationsRequirePower = No
    ; DefaultConditionState
      ; Model           = None
      ; TransitionKey   = DOWN_DEFAULT
    ; End
    ; ConditionState    = NIGHT
      ; Model           = None
      ; TransitionKey   = DOWN_DEFAULT
    ; End
    ; ConditionState    = SNOW
      ; Model           = None
      ; TransitionKey   = DOWN_DEFAULT
    ; End
    ; ConditionState    = SNOW NIGHT
      ; Model           = None
      ; TransitionKey   = DOWN_DEFAULT
    ; End
    ; ConditionState    = SOLD
      ; Model           = NONE
    ; End

    ; ConditionState  = ACTIVELY_BEING_CONSTRUCTED
      ; Model           = ABWarFacty_A5
      ; Animation       = ABWarFacty_A5.ABWarFacty_A5
      ; AnimationMode   = LOOP
      ; TransitionKey  = UP_DAY
    ; End

    ; ConditionState  = NIGHT ACTIVELY_BEING_CONSTRUCTED
      ; Model           = ABWarFacty_A5N
      ; Animation       = ABWarFacty_A5N.ABWarFacty_A5N
      ; AnimationMode   = LOOP
      ; TransitionKey  = UP_NIGHT
    ; End
    ; ConditionState  = SNOW ACTIVELY_BEING_CONSTRUCTED
      ; Model           = ABWarFacty_A5
      ; Animation       = ABWarFacty_A5.ABWarFacty_A5
      ; AnimationMode   = LOOP
      ; TransitionKey  = UP_SNOW
    ; End
    ; ConditionState  = SNOW NIGHT ACTIVELY_BEING_CONSTRUCTED
      ; Model           = ABWarFacty_A5N
      ; Animation       = ABWarFacty_A5N.ABWarFacty_A5N
      ; AnimationMode   = LOOP
      ; TransitionKey  = UP_SNOWNIGHT
    ; End
    ; TransitionState   = DOWN_DEFAULT UP_DAY
      ; Model            = ABWarFacty_AB
      ; Animation       = ABWarFacty_AB.ABWarFacty_AB
      ; AnimationMode   = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags           = START_FRAME_FIRST
    ; End

    ; TransitionState   = DOWN_DEFAULT UP_NIGHT
      ; Model            = ABWarFacty_ABN
      ; Animation       = ABWarFacty_ABN.ABWarFacty_ABN
      ; AnimationMode   = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags           = START_FRAME_FIRST
    ; End
    ; TransitionState   = DOWN_DEFAULT UP_SNOW
      ; Model            = ABWarFacty_AB
      ; Animation       = ABWarFacty_AB.ABWarFacty_AB
      ; AnimationMode   = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags           = START_FRAME_FIRST
    ; End 
    ; TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      ; Model            = ABWarFacty_ABN
      ; Animation       = ABWarFacty_ABN.ABWarFacty_ABN
      ; AnimationMode   = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags           = START_FRAME_FIRST
    ; End 
   ; TransitionState   = UP_DAY DOWN_DEFAULT
      ; Model            = ABWarFacty_AB
      ; Animation       = ABWarFacty_AB.ABWarFacty_AB
      ; AnimationMode   = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      ; Flags           = START_FRAME_LAST
    ; End
    ; TransitionState   = UP_NIGHT DOWN_DEFAULT
      ; Model            = ABWarFacty_ABN
      ; Animation       = ABWarFacty_ABN.ABWarFacty_ABN
      ; AnimationMode   = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      ; Flags           = START_FRAME_LAST
    ; End
    ; TransitionState   = UP_SNOW DOWN_DEFAULT
      ; Model            = ABWarFacty_AB
      ; Animation       = ABWarFacty_AB.ABWarFacty_AB
      ; AnimationMode   = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      ; Flags           = START_FRAME_LAST
    ; End
    ; TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      ; Model            = ABWarFacty_ABN
      ; Animation       = ABWarFacty_ABN.ABWarFacty_ABN
      ; AnimationMode   = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      ; Flags           = START_FRAME_LAST
    ; End
  ; End
  
  ; PlacementViewAngle = -135
  
  Draw                   = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes
    
    ; DAY ************************************
    ConditionState       = NONE
      Model              = RBWarfct
      HideSubObject      = Fan01 Fan02 Fan03 Fan04 Fan05
      ParticleSysBone    = Smoke01 SteamVent_Black
      ParticleSysBone    = Smoke02 SteamVent_Black
      ParticleSysBone    = Smoke03 SteamVent_Black
    End
    AliasConditionState = NIGHT
    
    ConditionState       = DAMAGED
      Model              = RBWarfct_D
      HideSubObject      = Fan01 Fan02 Fan03 Fan04 Fan05
      ParticleSysBone    = Smoke01 SteamVent_Black
      ParticleSysBone    = Smoke02 SteamVent_Black
      ParticleSysBone    = Smoke03 SteamVent_Black
      ParticleSysBone    = Smoke06 SmolderingFire
      ParticleSysBone    = Smoke04 SmolderingSmoke
      ParticleSysBone    = Smoke05 SmolderingSmoke
      ParticleSysBone    = Smoke06 SmolderingSmoke
      ParticleSysBone    = Smoke07 SmolderingFire
      ParticleSysBone    = Smoke07 SmolderingSmoke
    End
    AliasConditionState = DAMAGED NIGHT
    AliasConditionState = DAMAGED SNOW
    AliasConditionState = DAMAGED NIGHT SNOW
    
    ConditionState = REALLYDAMAGED RUBBLE
      Model              = RBWarfct_D
      HideSubObject      = Fan01 Fan02 Fan03 Fan04 Fan05
      ParticleSysBone    = Smoke01 SteamVent_Black
      ParticleSysBone    = Smoke02 SteamVent_Black
      ParticleSysBone    = Smoke03 SteamVent_Black
      ParticleSysBone    = Smoke04 SmolderingFire
      ParticleSysBone    = Smoke05 SmolderingFire
      ParticleSysBone    = Smoke06 SmolderingFire
      ParticleSysBone    = Smoke04 SmolderingSmoke
      ParticleSysBone    = Smoke05 SmolderingSmoke
      ParticleSysBone    = Smoke06 SmolderingSmoke
      ParticleSysBone    = Smoke07 SmolderingFire
      ParticleSysBone    = Smoke07 SmolderingSmoke
    End
    AliasConditionState = REALLYDAMAGED RUBBLE NIGHT
    AliasConditionState = REALLYDAMAGED RUBBLE SNOW
    AliasConditionState = REALLYDAMAGED RUBBLE NIGHT SNOW

    ConditionState = SNOW
      Model              = RBWarfct_S
      HideSubObject      = Fan01 Fan02 Fan03 Fan04 Fan05
      ParticleSysBone    = Smoke01 SteamVent_Black
      ParticleSysBone    = Smoke02 SteamVent_Black
      ParticleSysBone    = Smoke03 SteamVent_Black
    End
    AliasConditionState = NIGHT SNOW
    
        ;;;; Door Animations
    
    ConditionState    = DOOR_1_OPENING
      Model           = RBWarfct
      Animation       = RBWarfct.RBWarfct
      HideSubObject   = Fan01 Fan02 Fan03 Fan04 Fan05
      ParticleSysBone = Smoke01 SteamVent_Black
      ParticleSysBone = Smoke02 SteamVent_Black
      ParticleSysBone = Smoke03 SteamVent_Black
    End   
    AliasConditionState = NIGHT DOOR_1_OPENING
    
    ConditionState    = DOOR_1_OPENING DAMAGED
      Model           = RBWarfct_D
      Animation       = RBWarfct_D.RBWarfct_D
      HideSubObject   = Fan01 Fan02 Fan03 Fan04 Fan05
      ParticleSysBone = Smoke01 SteamVent_Black
      ParticleSysBone = Smoke02 SteamVent_Black
      ParticleSysBone = Smoke03 SteamVent_Black
      ParticleSysBone = Smoke06 SmolderingFire
      ParticleSysBone = Smoke04 SmolderingSmoke
      ParticleSysBone = Smoke05 SmolderingSmoke
      ParticleSysBone = Smoke06 SmolderingSmoke
      ParticleSysBone = Smoke07 SmolderingFire
      ParticleSysBone = Smoke07 SmolderingSmoke
      AnimationMode   = ONCE
    End   
    AliasConditionState = DOOR_1_OPENING REALLYDAMAGED RUBBLE
    AliasConditionState = NIGHT DOOR_1_OPENING DAMAGED
    AliasConditionState = NIGHT DOOR_1_OPENING REALLYDAMAGED RUBBLE
    
    ConditionState    = DOOR_1_CLOSING
      Model           = RBWarfct
      Animation       = RBWarfct.RBWarfct
      HideSubObject   = Fan01 Fan02 Fan03 Fan04 Fan05
      ParticleSysBone = Smoke01 SteamVent_Black
      ParticleSysBone = Smoke02 SteamVent_Black
      ParticleSysBone = Smoke03 SteamVent_Black
      AnimationMode   = ONCE_BACKWARDS
    End
    AliasConditionState = NIGHT DOOR_1_CLOSING
    
    ConditionState    = DOOR_1_CLOSING DAMAGED
      Model           = RBWarfct_D
      Animation       = RBWarfct_D.RBWarfct_D
      HideSubObject   = Fan01 Fan02 Fan03 Fan04 Fan05
      ParticleSysBone = Smoke01 SteamVent_Black
      ParticleSysBone = Smoke02 SteamVent_Black
      ParticleSysBone = Smoke03 SteamVent_Black
      ParticleSysBone = Smoke06 SmolderingFire
      ParticleSysBone = Smoke04 SmolderingSmoke
      ParticleSysBone = Smoke05 SmolderingSmoke
      ParticleSysBone = Smoke06 SmolderingSmoke
      ParticleSysBone = Smoke07 SmolderingFire
      ParticleSysBone = Smoke07 SmolderingSmoke
      AnimationMode   = ONCE_BACKWARDS
    End   
    AliasConditionState = DOOR_1_CLOSING REALLYDAMAGED RUBBLE
    AliasConditionState = NIGHT DOOR_1_CLOSING DAMAGED
    AliasConditionState = NIGHT DOOR_1_CLOSING REALLYDAMAGED RUBBLE
    
    ConditionState    = DOOR_1_WAITING_OPEN
      Model           = RBWarfct
      Animation       = RBWarfct.RBWarfct
      HideSubObject   = Fan01 Fan02 Fan03 Fan04 Fan05
      ParticleSysBone = Smoke01 SteamVent_Black
      ParticleSysBone = Smoke02 SteamVent_Black
      ParticleSysBone = Smoke03 SteamVent_Black
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
    End   
    AliasConditionState = NIGHT DOOR_1_WAITING_OPEN
     
    ConditionState    = DOOR_1_WAITING_OPEN DAMAGED
      Model           = RBWarfct_D
      Animation       = RBWarfct_D.RBWarfct_D
      HideSubObject   = Fan01 Fan02 Fan03 Fan04 Fan05
      ParticleSysBone = Smoke01 SteamVent_Black
      ParticleSysBone = Smoke02 SteamVent_Black
      ParticleSysBone = Smoke03 SteamVent_Black
      ParticleSysBone = Smoke06 SmolderingFire
      ParticleSysBone = Smoke04 SmolderingSmoke
      ParticleSysBone = Smoke05 SmolderingSmoke
      ParticleSysBone = Smoke06 SmolderingSmoke
      ParticleSysBone = Smoke07 SmolderingFire
      ParticleSysBone = Smoke07 SmolderingSmoke
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
    End   
    AliasConditionState = DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE
    AliasConditionState = NIGHT DOOR_1_WAITING_OPEN DAMAGED
    AliasConditionState = NIGHT DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE

;;;;;;;;;;;;;;Snow
    ConditionState    = DOOR_1_OPENING SNOW
      Model           = RBWarfct_S
      Animation       = RBWarfct_S.RBWarfct_S
      HideSubObject   = Fan01 Fan02 Fan03 Fan04 Fan05
      ParticleSysBone = Smoke01 SteamVent_Black
      ParticleSysBone = Smoke02 SteamVent_Black
      ParticleSysBone = Smoke03 SteamVent_Black
      AnimationMode   = ONCE
    End   
    AliasConditionState = NIGHT DOOR_1_OPENING SNOW
    
    ConditionState    = DOOR_1_OPENING DAMAGED SNOW
      Model           = RBWarfct_D
      Animation       = RBWarfct_D.RBWarfct_D
      HideSubObject   = Fan01 Fan02 Fan03 Fan04 Fan05
      ParticleSysBone = Smoke01 SteamVent_Black
      ParticleSysBone = Smoke02 SteamVent_Black
      ParticleSysBone = Smoke03 SteamVent_Black
      ParticleSysBone = Smoke06 SmolderingFire
      ParticleSysBone = Smoke04 SmolderingSmoke
      ParticleSysBone = Smoke05 SmolderingSmoke
      ParticleSysBone = Smoke06 SmolderingSmoke
      ParticleSysBone = Smoke07 SmolderingFire
      ParticleSysBone = Smoke07 SmolderingSmoke
      AnimationMode   = ONCE
    End   
    AliasConditionState = SNOW DOOR_1_OPENING REALLYDAMAGED RUBBLE
    AliasConditionState = NIGHT DOOR_1_OPENING DAMAGED SNOW
    AliasConditionState = NIGHT SNOW DOOR_1_OPENING REALLYDAMAGED RUBBLE
    
    ConditionState    = DOOR_1_CLOSING SNOW
      Model           = RBWarfct_S
      Animation       = RBWarfct_S.RBWarfct_S
      HideSubObject   = Fan01 Fan02 Fan03 Fan04 Fan05
      ParticleSysBone = Smoke01 SteamVent_Black
      ParticleSysBone = Smoke02 SteamVent_Black
      ParticleSysBone = Smoke03 SteamVent_Black
      AnimationMode   = ONCE_BACKWARDS
    End   
    AliasConditionState = NIGHT DOOR_1_CLOSING SNOW
    
    ConditionState    = DOOR_1_CLOSING DAMAGED SNOW
      Model           = RBWarfct_D
      Animation       = RBWarfct_D.RBWarfct_D
      HideSubObject   = Fan01 Fan02 Fan03 Fan04 Fan05
      ParticleSysBone = Smoke01 SteamVent_Black
      ParticleSysBone = Smoke02 SteamVent_Black
      ParticleSysBone = Smoke03 SteamVent_Black
      ParticleSysBone = Smoke06 SmolderingFire
      ParticleSysBone = Smoke04 SmolderingSmoke
      ParticleSysBone = Smoke05 SmolderingSmoke
      ParticleSysBone = Smoke06 SmolderingSmoke
      ParticleSysBone = Smoke07 SmolderingFire
      ParticleSysBone = Smoke07 SmolderingSmoke
      AnimationMode   = ONCE_BACKWARDS
    End   
    AliasConditionState = SNOW DOOR_1_CLOSING REALLYDAMAGED RUBBLE
    AliasConditionState = NIGHT DOOR_1_CLOSING DAMAGED SNOW
    AliasConditionState = NIGHT SNOW DOOR_1_CLOSING REALLYDAMAGED RUBBLE
    
    ConditionState    = DOOR_1_WAITING_OPEN SNOW
      Model           = RBWarfct_S
      Animation       = RBWarfct_S.RBWarfct_S
      HideSubObject   = Fan01 Fan02 Fan03 Fan04 Fan05
      ParticleSysBone = Smoke01 SteamVent_Black
      ParticleSysBone = Smoke02 SteamVent_Black
      ParticleSysBone = Smoke03 SteamVent_Black
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
    End   
    AliasConditionState = NIGHT DOOR_1_WAITING_OPEN SNOW
    
    ConditionState    = DOOR_1_WAITING_OPEN DAMAGED SNOW
      Model           = RBWarfct_D
      Animation       = RBWarfct_D.RBWarfct_D
      HideSubObject   = Fan01 Fan02 Fan03 Fan04 Fan05
      ParticleSysBone = Smoke01 SteamVent_Black
      ParticleSysBone = Smoke02 SteamVent_Black
      ParticleSysBone = Smoke03 SteamVent_Black
      ParticleSysBone = Smoke06 SmolderingFire
      ParticleSysBone = Smoke04 SmolderingSmoke
      ParticleSysBone = Smoke05 SmolderingSmoke
      ParticleSysBone = Smoke06 SmolderingSmoke
      ParticleSysBone = Smoke07 SmolderingFire
      ParticleSysBone = Smoke07 SmolderingSmoke
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
    End   
    AliasConditionState = SNOW DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE
    AliasConditionState = NIGHT DOOR_1_WAITING_OPEN DAMAGED SNOW
    AliasConditionState = NIGHT SNOW DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE
    
    ;**************************************************************************************************************************

    ConditionState      = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model             = RBWarfct
      HideSubObject     = Fan01 Fan02 Fan03 Fan04 Fan05
      Flags             = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
    
    ConditionState      = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model             = RBWarfct_D
      HideSubObject     = Fan01 Fan02 Fan03 Fan04 Fan05
      Flags             = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED

    ConditionState      = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model             = RBWarfct_D
      HideSubObject     = Fan01 Fan02 Fan03 Fan04 Fan05
      Flags             = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED

    ConditionState      = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model             = RBWarfct_S
      HideSubObject     = Fan01 Fan02 Fan03 Fan04 Fan05
      Flags             = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    ;**************************************************************************************************************************
  End


  Draw                   = W3DModelDraw ModuleTag_Fans01
    OkToChangeModelColor = Yes
    
    ; DAY ************************************
    ConditionState      = NONE
      Model             = RBWarfct
      Animation         = RBWarfct.RBWarfct
      AnimationMode     = LOOP
      Flags             = START_FRAME_FIRST
      HideSubObject     = STRUCTURE
      TransitionKey     = TRANS_Normal
    End
    AliasConditionState = NIGHT
    AliasConditionState = SNOW
    AliasConditionState = NIGHT SNOW
    
    ConditionState      = DAMAGED
      Model             = RBWarfct_D
      Animation         = RBWarfct_D.RBWarfct_D
      AnimationMode     = LOOP
      Flags             = START_FRAME_FIRST
      HideSubObject     = STRUCTURE
      TransitionKey     = TRANS_Damaged
    End
    AliasConditionState = DAMAGED NIGHT
    AliasConditionState = DAMAGED SNOW
    AliasConditionState = DAMAGED NIGHT SNOW
    AliasConditionState = REALLYDAMAGED RUBBLE
    AliasConditionState = REALLYDAMAGED RUBBLE NIGHT
    AliasConditionState = REALLYDAMAGED RUBBLE SNOW
    AliasConditionState = REALLYDAMAGED RUBBLE NIGHT SNOW
    
    
    ;**************************************************************************************************************************

    ConditionState      = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model             = RBWarfct
      Animation         = RBWarfct.RBWarfct
      AnimationMode     = ONCE_BACKWARDS
      HideSubObject     = STRUCTURE
      Flags             = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT START_FRAME_FIRST
    End
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
    
    ConditionState      = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model             = RBWarfct_D
      Animation         = RBWarfct_D.RBWarfct_D
      AnimationMode     = ONCE_BACKWARDS
      HideSubObject     = STRUCTURE
      Flags             = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT START_FRAME_FIRST
    End
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED


    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    ;**************************************************************************************************************************
  End


  ; ------------ construction-zone fence -----------------
  Draw = W3DModelDraw ModuleTag_02
  AnimationsRequirePower = No

    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    AliasConditionState = NIGHT
    AliasConditionState = SNOW
    AliasConditionState = SNOW NIGHT

    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = RBWarfct_BF
      Animation       = RBWarfct_BF.RBWarfct_BF
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
    End
    AliasConditionState = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
    AliasConditionState = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
    AliasConditionState = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED

    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = RBWarfct_BF
      Animation       = RBWarfct_BF.RBWarfct_BF
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = RBWarfct_BF
      Animation       = RBWarfct_BF.RBWarfct_BF
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_LAST
    End

  End

; ------------ under-construction scaffolding -----------------
  Draw = W3DModelDraw ModuleTag_03
  AnimationsRequirePower = No
    MinLODRequired = MEDIUM
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    AliasConditionState = NIGHT
    AliasConditionState = SNOW
    AliasConditionState = SNOW NIGHT

    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = RBWarfct_SC
      Animation       = RBWarfct_SC.RBWarfct_SC
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Smoke01 BuildUpSmokeChina
      ParticleSysBone = Smoke02 BuildUpSmokeChina
      ParticleSysBone = Smoke03 BuildUpSmokeChina
    End
    AliasConditionState = NIGHT PARTIALLY_CONSTRUCTED
    AliasConditionState = SNOW PARTIALLY_CONSTRUCTED
    AliasConditionState = SNOW NIGHT PARTIALLY_CONSTRUCTED

    TransitionState   = DOWN_DEFAULT UP_DAY
     Model            = RBWarfct_SC
      Animation       = RBWarfct_SC.RBWarfct_SC
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = RBWarfct_SC
      Animation       = RBWarfct_SC.RBWarfct_SC
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_LAST
    End

  End

  Draw = W3DModelDraw ModuleTag_NightCondition01

    DefaultConditionState
      Model             = RBWarfct_N
    End
    AliasConditionState = NIGHT  
    AliasConditionState = SNOW
    AliasConditionState = SNOW NIGHT
    
    ;**************************************************************************************************************************
    ConditionState      = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model             = RBWarfct_N
      Flags             = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW NIGHT

    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SNOW AWAITING_CONSTRUCTION 
    AliasConditionState  = SNOW AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = SNOW SOLD 
    AliasConditionState  = SNOW SOLD NIGHT
    
  End
  
  Draw                   = W3DModelDraw ModuleTag_DockBones01
    DefaultConditionState
      Model              = RBWarfct_B
    End    
  End

  PlacementViewAngle = -135

  ; ***DESIGN parameters ***
  DisplayName           = OBJECT:BotFactory
  Side                  = Boss
  EditorSorting         = STRUCTURE
  BuildCost             = 1000
  BuildTime             = 15.0           ; in seconds
  EnergyProduction      = -1 ;-10

  CommandSet            = Boss_ChinaSmallFactoryCommandSet

  Prerequisites
    Object = Boss_SupplyCenter
    ;Science = SCIENCE_CHINA_TANK_GENERAL
  End

  VisionRange           = 350.0           ; Shroud clearing distance
  ShroudClearingRange   = 350

  ArmorSet
    Conditions          = None
    Armor               = StructureArmorTough
    DamageFX            = StructureDamageFXNoShake
  End

  ExperienceValue     = 200 200 200 200  ; Experience point value at each level

  VoiceSelect = WarFactoryChinaSelect
  SoundOnDamaged        = BuildingDamagedStateLight
  SoundOnReallyDamaged  = BuildingDestroy

  UnitSpecificSounds
    UnderConstruction     = UnderConstructionLoop
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority       = STRUCTURE
  KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE REPAIR_PAD SCORE CAPTURABLE FS_FACTORY AUTO_RALLYPOINT MP_COUNT_FOR_VICTORY FS_WARFACTORY

  Body                = StructureBody ModuleTag_08
    MaxHealth         = 2000.0
    InitialHealth     = 2000.0
    SubdualDamageCap = 2200
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
  End

  Behavior = ProductionUpdate ModuleTag_11
    NumDoorAnimations            = 1
    DoorOpeningTime              = 3000  ;in mSeconds
    DoorWaitOpenTime             = 3000  ;in mSeconds
    DoorCloseTime                = 3000  ;in mSeconds
    ConstructionCompleteDuration = 250  ;in mSeconds
  End

  Behavior = DefaultProductionExitUpdate ModuleTag_11000
    UnitCreatePoint   = X:  12.0   Y:29.373  Z:0.0
    NaturalRallyPoint = X:  80.0   Y:29.373  Z:0.0
  End
  
  Behavior = CommandSetUpgrade ModuleTag_17
    TriggeredBy = Upgrade_ChinaWarFactoryupCommandSet
    RemovesUpgrades = Upgrade_ChinaWarFactorydownCommandSet
    CommandSet = Boss_ChinaSmallFactorytechCommandSet
  End

  Behavior = CommandSetUpgrade ModuleTag_18
    TriggeredBy = Upgrade_ChinaWarFactorydownCommandSet
    RemovesUpgrades = Upgrade_ChinaWarFactoryupCommandSet Upgrade_ChinaWarFactorydownCommandSet
    CommandSet = Boss_ChinaSmallFactoryCommandSet
  End
  
  Behavior = PreorderCreate ModuleTag_PreorderCreate
  End

  Behavior             = DestroyDie ModuleTag_15
    ;nothing
  End

  Behavior             = CreateObjectDie ModuleTag_16
    CreationList  = OCL_LargeStructureDebris
  End

  Behavior             = FXListDie ModuleTag_18
    DeathFX       = FX_StructureMediumDeath
  End

  Behavior = FlammableUpdate ModuleTag_30
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 5       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = TransitionDamageFX ModuleTag_31
    ;-------------DESIGNED FOR MEDIUM SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionMediumExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionMediumShockwave
  End

  Behavior = RepairDockUpdate ModuleTag_1400
    TimeForFullHeal   = 4900   ;(in milliseconds)
    NumberApproachPositions = 6
  End

  Behavior = GenerateMinefieldBehavior     ModuleTag_220
    TriggeredBy           = Upgrade_ChinaMines
    MineName              = ChinaStandardMine
    SmartBorder           = Yes
    AlwaysCircular        = Yes

    Upgradable            = Yes
    UpgradedTriggeredBy   = Upgrade_ChinaEMPMines
    UpgradedMineName      = ChinaEMPMine
  End

  Behavior = CommandSetUpgrade ModuleTag_250
    CommandSet = Tank_ChinaBotFactoryCommandSetUpgrade
    TriggeredBy = Upgrade_ChinaMines
  End
  Behavior = ArmorUpgrade ModuleTag_260
    TriggeredBy = Upgrade_ChinaEMPMines
  End

  Geometry            = BOX
  FactoryExitWidth    = 25
  GeometryMajorRadius = 60.0
  GeometryMinorRadius = 63.0
  GeometryHeight      = 60.0
  GeometryIsSmall     = No
  Shadow          = SHADOW_VOLUME
  BuildCompletion = PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
Object Boss_NuclearMissileLauncher

  ; *** ART Parameters ***
  SelectPortrait         = SNNukeMisl_L
  ButtonImage            = SNNukeMisl
  SelectPortrait = SNNukeMisl_L
  ButtonImage            = SNNukeMisl
  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes
    ; day
    ConditionState      = NONE
      Model             = NBNMissle
    End
    ConditionState      = SOLD
      Model             = NONE
    End  
    ConditionState      = SOLD SNOW
      Model             = NONE

    End   
    ConditionState      = SOLD NIGHT
      Model             = NONE
    End    
    ConditionState      = SOLD NIGHT SNOW
      Model             = NONE
    End     
    
    
    ConditionState      = DAMAGED
      Model             = NBNMissle_D
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
    End
     ConditionState     = REALLYDAMAGED RUBBLE
      Model             = NBNMissle_E
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
    End 
    ConditionState      = AWAITING_CONSTRUCTION
      Model             = None
    End
    ConditionState      = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model             = NBNMissle
      Flags             = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    END   
    ConditionState      = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model             = NBNMissle_D
      Flags             = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    END   
    ConditionState      = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED RUBBLE
      Model             = NBNMissle_E
      Flags             = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    END   
    ConditionState      = DOOR_1_OPENING
      Model             = NBNMissle_A2
      Animation         = NBNMissle_A2.NBNMissle_A2
      AnimationMode     = ONCE
      Flags             = MAINTAIN_FRAME_ACROSS_STATES
    End   
    ConditionState      = DOOR_1_WAITING_OPEN
      Model             = NBNMissle_A2
      Animation         = NBNMissle_A2.NBNMissle_A2
      AnimationMode     = MANUAL
      Flags             = START_FRAME_LAST PRISTINE_BONE_POS_IN_FINAL_FRAME
      WeaponLaunchBone  = PRIMARY RockPos
      ParticleSysBone   = Steam01 BigMissileSteam
      ParticleSysBone   = Steam02 BigMissileSteam
    End   
    ConditionState      = DOOR_1_WAITING_TO_CLOSE
      Model             = NBNMissle_A3
      Animation         = NBNMissle_A3.NBNMissle_A3
      AnimationMode     = MANUAL
      Flags             = START_FRAME_FIRST
      WeaponLaunchBone  = PRIMARY RockPos
    End   
    ConditionState      = DOOR_1_CLOSING
      Model             = NBNMissle_A3
      Animation         = NBNMissle_A3.NBNMissle_A3
      AnimationMode     = ONCE
      Flags             = MAINTAIN_FRAME_ACROSS_STATES2
    End   
    ConditionState      = DOOR_1_OPENING DAMAGED 
      Model             = NBNMissle_A2D
      Animation         = NBNMissle_A2D.NBNMissle_A2D
      AnimationMode     = ONCE
      Flags             = MAINTAIN_FRAME_ACROSS_STATES
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire

      ParticleSysBone   = Steam01 BigMissileSteam
      ParticleSysBone   = Steam02 BigMissileSteam
    End   
    ConditionState      = DOOR_1_WAITING_OPEN DAMAGED 
      Model             = NBNMissle_A2D
      Animation         = NBNMissle_A2D.NBNMissle_A2D
      AnimationMode     = MANUAL
      Flags             = START_FRAME_LAST PRISTINE_BONE_POS_IN_FINAL_FRAME
      WeaponLaunchBone  = PRIMARY RockPos
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
      ParticleSysBone   = Steam01 BigMissileSteam
      ParticleSysBone   = Steam02 BigMissileSteam
    End   
    ConditionState      = DOOR_1_WAITING_TO_CLOSE DAMAGED 
      Model             = NBNMissle_A3D
      Animation         = NBNMissle_A3D.NBNMissle_A3D
      AnimationMode     = MANUAL
      Flags             = START_FRAME_FIRST
      WeaponLaunchBone  = PRIMARY RockPos
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
    End   
    ConditionState      = DOOR_1_CLOSING DAMAGED 
      Model             = NBNMissle_A3D
      Animation         = NBNMissle_A3D.NBNMissle_A3D
      AnimationMode     = ONCE
      Flags             = MAINTAIN_FRAME_ACROSS_STATES2
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
    End   
    ConditionState      = DOOR_1_OPENING REALLYDAMAGED RUBBLE 
      Model             = NBNMissle_A2E
      Animation         = NBNMissle_A2E.NBNMissle_A2E
      AnimationMode     = ONCE
      Flags             = MAINTAIN_FRAME_ACROSS_STATES
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
      ParticleSysBone   = Steam01 BigMissileSteam
      ParticleSysBone   = Steam02 BigMissileSteam
    End   
    ConditionState      = DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE 
      Model             = NBNMissle_A2E
      Animation         = NBNMissle_A2E.NBNMissle_A2E
      AnimationMode     = MANUAL
      Flags             = START_FRAME_LAST PRISTINE_BONE_POS_IN_FINAL_FRAME
      WeaponLaunchBone  = PRIMARY RockPos
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
      ParticleSysBone   = Steam01 BigMissileSteam
      ParticleSysBone   = Steam02 BigMissileSteam
    End   
    ConditionState      = DOOR_1_WAITING_TO_CLOSE REALLYDAMAGED RUBBLE 
      Model             = NBNMissle_A3E
      Animation         = NBNMissle_A3E.NBNMissle_A3E
      AnimationMode     = MANUAL
      Flags             = START_FRAME_FIRST
      WeaponLaunchBone  = PRIMARY RockPos
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
    End   
    ConditionState      = DOOR_1_CLOSING REALLYDAMAGED RUBBLE 
      Model             = NBNMissle_A3E
      Animation         = NBNMissle_A3E.NBNMissle_A3E
      AnimationMode     = ONCE
      Flags             = MAINTAIN_FRAME_ACROSS_STATES2
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
    End   

    ; night
    ConditionState      = NIGHT
      Model             = NBNMissle_N
    End
    ConditionState      = DAMAGED NIGHT
      Model             = NBNMissle_DN
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
    End
     ConditionState     = REALLYDAMAGED RUBBLE NIGHT
      Model             = NBNMissle_EN
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
    End
    ConditionState      = AWAITING_CONSTRUCTION NIGHT
      Model             = None
    End
    ConditionState      = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
      Model             = NBNMissle_N
      Flags             = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    END       
    ConditionState      = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
      Model             = NBNMissle_DN
      Flags             = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    END       
    ConditionState      = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
      Model             = NBNMissle_EN
      Flags             = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    END       
    ConditionState      = DOOR_1_OPENING NIGHT
      Model             = NBNMissle_A2N
      Animation         = NBNMissle_A2N.NBNMissle_A2N
      AnimationMode     = ONCE
      Flags             = MAINTAIN_FRAME_ACROSS_STATES
    End   
    ConditionState      = DOOR_1_WAITING_OPEN NIGHT
      Model             = NBNMissle_A2N
      Animation         = NBNMissle_A2N.NBNMissle_A2N
      AnimationMode     = MANUAL
      Flags             = START_FRAME_LAST PRISTINE_BONE_POS_IN_FINAL_FRAME
      WeaponLaunchBone  = PRIMARY RockPos
      ParticleSysBone   = Steam01 BigMissileSteam
      ParticleSysBone   = Steam02 BigMissileSteam
    End   
    ConditionState      = DOOR_1_WAITING_TO_CLOSE NIGHT
      Model             = NBNMissle_A3N
      Animation         = NBNMissle_A3N.NBNMissle_A3N
      AnimationMode     = MANUAL
      Flags             = START_FRAME_FIRST
      WeaponLaunchBone  = PRIMARY RockPos
    End   
    ConditionState      = DOOR_1_CLOSING NIGHT
      Model             = NBNMissle_A3N
      Animation         = NBNMissle_A3N.NBNMissle_A3N
      AnimationMode     = ONCE
      Flags             = MAINTAIN_FRAME_ACROSS_STATES2
    End   
    ConditionState      = DOOR_1_OPENING DAMAGED NIGHT
      Model             = NBNMissle_A2DN
      Animation         = NBNMissle_A2DN.NBNMissle_A2DN
      AnimationMode     = ONCE
      Flags             = MAINTAIN_FRAME_ACROSS_STATES
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
      ParticleSysBone   = Steam01 BigMissileSteam
      ParticleSysBone   = Steam02 BigMissileSteam
    End   
    ConditionState      = DOOR_1_WAITING_OPEN DAMAGED NIGHT
      Model             = NBNMissle_A2DN
      Animation         = NBNMissle_A2DN.NBNMissle_A2DN
      AnimationMode     = MANUAL
      Flags             = START_FRAME_LAST PRISTINE_BONE_POS_IN_FINAL_FRAME
      WeaponLaunchBone  = PRIMARY RockPos
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
      ParticleSysBone   = Steam01 BigMissileSteam
      ParticleSysBone   = Steam02 BigMissileSteam
    End   
    ConditionState      = DOOR_1_WAITING_TO_CLOSE DAMAGED NIGHT
      Model             = NBNMissle_A3DN
      Animation         = NBNMissle_A3DN.NBNMissle_A3DN
      AnimationMode     = MANUAL
      Flags             = START_FRAME_FIRST
      WeaponLaunchBone  = PRIMARY RockPos
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
    End   
    ConditionState      = DOOR_1_CLOSING DAMAGED NIGHT
      Model             = NBNMissle_A3DN
      Animation         = NBNMissle_A3DN.NBNMissle_A3DN
      AnimationMode     = ONCE
      Flags             = MAINTAIN_FRAME_ACROSS_STATES2
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
    End   
    ConditionState      = DOOR_1_OPENING REALLYDAMAGED RUBBLE NIGHT
      Model             = NBNMissle_A2EN
      Animation         = NBNMissle_A2EN.NBNMissle_A2EN
      AnimationMode     = ONCE
      Flags             = MAINTAIN_FRAME_ACROSS_STATES
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
      ParticleSysBone   = Steam01 BigMissileSteam
      ParticleSysBone   = Steam02 BigMissileSteam
    End   
    ConditionState      = DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE NIGHT
      Model             = NBNMissle_A2EN
      Animation         = NBNMissle_A2EN.NBNMissle_A2EN
      AnimationMode     = MANUAL
      Flags             = START_FRAME_LAST PRISTINE_BONE_POS_IN_FINAL_FRAME
      WeaponLaunchBone  = PRIMARY RockPos
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
      ParticleSysBone   = Steam01 BigMissileSteam
      ParticleSysBone   = Steam02 BigMissileSteam
    End   
    ConditionState      = DOOR_1_WAITING_TO_CLOSE REALLYDAMAGED RUBBLE NIGHT
      Model             = NBNMissle_A3EN
      Animation         = NBNMissle_A3EN.NBNMissle_A3EN
      AnimationMode     = MANUAL
      Flags             = START_FRAME_FIRST
      WeaponLaunchBone  = PRIMARY RockPos
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
    End   
    ConditionState      = DOOR_1_CLOSING REALLYDAMAGED RUBBLE NIGHT
      Model             = NBNMissle_A3EN
      Animation         = NBNMissle_A3EN.NBNMissle_A3EN
      AnimationMode     = ONCE
      Flags             = MAINTAIN_FRAME_ACROSS_STATES2
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
    End   
    
    ;-------------- SNOW! --------------------
    
        ConditionState      = SNOW
      Model             = NBNMissle_S
    End
    
    ConditionState      = DAMAGED SNOW
      Model             = NBNMissle_DS
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
    End
     ConditionState     = REALLYDAMAGED RUBBLE SNOW
      Model             = NBNMissle_ES
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
    End 
    ConditionState      = AWAITING_CONSTRUCTION SNOW
      Model             = None
    End
    ConditionState      = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model             = NBNMissle_S
      Flags             = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    END   
    ConditionState      = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
      Model             = NBNMissle_DS
      Flags             = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    END   
    ConditionState      = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
      Model             = NBNMissle_ES
      Flags             = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    END   
    ConditionState      = DOOR_1_OPENING SNOW
      Model             = NBNMissle_A2S
      Animation         = NBNMissle_A2S.NBNMissle_A2S
      AnimationMode     = ONCE
      Flags             = MAINTAIN_FRAME_ACROSS_STATES
    End   
    ConditionState      = DOOR_1_WAITING_OPEN SNOW
      Model             = NBNMissle_A2S
      Animation         = NBNMissle_A2S.NBNMissle_A2S
      AnimationMode     = MANUAL
      Flags             = START_FRAME_LAST PRISTINE_BONE_POS_IN_FINAL_FRAME
      WeaponLaunchBone  = PRIMARY RockPos
      ParticleSysBone   = Steam01 BigMissileSteam
      ParticleSysBone   = Steam02 BigMissileSteam
    End   
    ConditionState      = DOOR_1_WAITING_TO_CLOSE SNOW
      Model             = NBNMissle_A3S
      Animation         = NBNMissle_A3S.NBNMissle_A3S
      AnimationMode     = MANUAL
      Flags             = START_FRAME_FIRST
      WeaponLaunchBone  = PRIMARY RockPos
    End   
    ConditionState      = DOOR_1_CLOSING SNOW
      Model             = NBNMissle_A3S
      Animation         = NBNMissle_A3S.NBNMissle_A3S
      AnimationMode     = ONCE
      Flags             = MAINTAIN_FRAME_ACROSS_STATES2
    End   
    ConditionState      = DOOR_1_OPENING DAMAGED SNOW
      Model             = NBNMissle_A2DS
      Animation         = NBNMissle_A2DS.NBNMissle_A2DS
      AnimationMode     = ONCE
      Flags             = MAINTAIN_FRAME_ACROSS_STATES
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
      ParticleSysBone   = Steam01 BigMissileSteam
      ParticleSysBone   = Steam02 BigMissileSteam
    End   
    ConditionState      = DOOR_1_WAITING_OPEN DAMAGED SNOW
      Model             = NBNMissle_A2DS
      Animation         = NBNMissle_A2DS.NBNMissle_A2DS
      AnimationMode     = MANUAL
      Flags             = START_FRAME_LAST PRISTINE_BONE_POS_IN_FINAL_FRAME
      WeaponLaunchBone  = PRIMARY RockPos
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
      ParticleSysBone   = Steam01 BigMissileSteam
      ParticleSysBone   = Steam02 BigMissileSteam
    End   
    ConditionState      = DOOR_1_WAITING_TO_CLOSE DAMAGED SNOW
      Model             = NBNMissle_A3DS
      Animation         = NBNMissle_A3DS.NBNMissle_A3DS
      AnimationMode     = MANUAL
      Flags             = START_FRAME_FIRST
      WeaponLaunchBone  = PRIMARY RockPos
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
    End   
    ConditionState      = DOOR_1_CLOSING DAMAGED SNOW
      Model             = NBNMissle_A3DS
      Animation         = NBNMissle_A3DS.NBNMissle_A3DS
      AnimationMode     = ONCE
      Flags             = MAINTAIN_FRAME_ACROSS_STATES2
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
    End   
    ConditionState      = DOOR_1_OPENING REALLYDAMAGED RUBBLE SNOW
      Model             = NBNMissle_A2ES
      Animation         = NBNMissle_A2ES.NBNMissle_A2ES
      AnimationMode     = ONCE
      Flags             = MAINTAIN_FRAME_ACROSS_STATES
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
      ParticleSysBone   = Steam01 BigMissileSteam
      ParticleSysBone   = Steam02 BigMissileSteam
    End   
    ConditionState      = DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE SNOW
      Model             = NBNMissle_A2ES
      Animation         = NBNMissle_A2ES.NBNMissle_A2ES
      AnimationMode     = MANUAL
      Flags             = START_FRAME_LAST PRISTINE_BONE_POS_IN_FINAL_FRAME
      WeaponLaunchBone  = PRIMARY RockPos
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
      ParticleSysBone   = Steam01 BigMissileSteam
      ParticleSysBone   = Steam02 BigMissileSteam
    End   
    ConditionState      = DOOR_1_WAITING_TO_CLOSE REALLYDAMAGED RUBBLE SNOW
      Model             = NBNMissle_A3ES
      Animation         = NBNMissle_A3ES.NBNMissle_A3ES
      AnimationMode     = MANUAL
      Flags             = START_FRAME_FIRST
      WeaponLaunchBone  = PRIMARY RockPos
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
    End   
    ConditionState      = DOOR_1_CLOSING REALLYDAMAGED RUBBLE SNOW
      Model             = NBNMissle_A3ES
      Animation         = NBNMissle_A3ES.NBNMissle_A3ES
      AnimationMode     = ONCE
      Flags             = MAINTAIN_FRAME_ACROSS_STATES2
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
    End   

    ; night
    ConditionState      = NIGHT SNOW
      Model             = NBNMissle_NS
    End
    ConditionState      = DAMAGED NIGHT SNOW
      Model             = NBNMissle_DNS
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
    End
     ConditionState     = REALLYDAMAGED RUBBLE NIGHT SNOW
      Model             = NBNMissle_ENS
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
    End
    ConditionState      = AWAITING_CONSTRUCTION NIGHT SNOW
      Model             = None
    End
    ConditionState      = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
      Model             = NBNMissle_NS
      Flags             = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    END       
    ConditionState      = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
      Model             = NBNMissle_DNS
      Flags             = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    END       
    ConditionState      = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
      Model             = NBNMissle_ENS
      Flags             = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    END       
    ConditionState      = DOOR_1_OPENING NIGHT SNOW
      Model             = NBNMissle_A2NS
      Animation         = NBNMissle_A2NS.NBNMissle_A2NS
      AnimationMode     = ONCE
      Flags             = MAINTAIN_FRAME_ACROSS_STATES
    End   
    ConditionState      = DOOR_1_WAITING_OPEN NIGHT SNOW
      Model             = NBNMissle_A2NS
      Animation         = NBNMissle_A2NS.NBNMissle_A2NS
      AnimationMode     = MANUAL
      Flags             = START_FRAME_LAST PRISTINE_BONE_POS_IN_FINAL_FRAME
      WeaponLaunchBone  = PRIMARY RockPos
      ParticleSysBone   = Steam01 BigMissileSteam
      ParticleSysBone   = Steam02 BigMissileSteam
    End   
    ConditionState      = DOOR_1_WAITING_TO_CLOSE NIGHT SNOW
      Model             = NBNMissle_A3NS
      Animation         = NBNMissle_A3NS.NBNMissle_A3NS
      AnimationMode     = MANUAL
      Flags             = START_FRAME_FIRST
      WeaponLaunchBone  = PRIMARY RockPos
    End   
    ConditionState      = DOOR_1_CLOSING NIGHT SNOW
      Model             = NBNMissle_A3NS
      Animation         = NBNMissle_A3NS.NBNMissle_A3NS
      AnimationMode     = ONCE
      Flags             = MAINTAIN_FRAME_ACROSS_STATES2
    End   
    ConditionState      = DOOR_1_OPENING DAMAGED NIGHT SNOW
      Model             = NBNMissle_A2DNS
      Animation         = NBNMissle_A2DNS.NBNMissle_A2DNS
      AnimationMode     = ONCE
      Flags             = MAINTAIN_FRAME_ACROSS_STATES
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
      ParticleSysBone   = Steam01 BigMissileSteam
      ParticleSysBone   = Steam02 BigMissileSteam
    End   
    ConditionState      = DOOR_1_WAITING_OPEN DAMAGED NIGHT SNOW
      Model             = NBNMissle_A2DNS
      Animation         = NBNMissle_A2DNS.NBNMissle_A2DNS
      AnimationMode     = MANUAL
      Flags             = START_FRAME_LAST PRISTINE_BONE_POS_IN_FINAL_FRAME
      WeaponLaunchBone  = PRIMARY RockPos
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
      ParticleSysBone   = Steam01 BigMissileSteam
      ParticleSysBone   = Steam02 BigMissileSteam
    End   
    ConditionState      = DOOR_1_WAITING_TO_CLOSE DAMAGED NIGHT SNOW
      Model             = NBNMissle_A3DNS
      Animation         = NBNMissle_A3DNS.NBNMissle_A3DNS
      AnimationMode     = MANUAL
      Flags             = START_FRAME_FIRST
      WeaponLaunchBone  = PRIMARY RockPos
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
    End   
    ConditionState      = DOOR_1_CLOSING DAMAGED NIGHT SNOW
      Model             = NBNMissle_A3DNS
      Animation         = NBNMissle_A3DNS.NBNMissle_A3DNS
      AnimationMode     = ONCE
      Flags             = MAINTAIN_FRAME_ACROSS_STATES2
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
    End   
    ConditionState      = DOOR_1_OPENING REALLYDAMAGED RUBBLE NIGHT SNOW
      Model             = NBNMissle_A2ENS
      Animation         = NBNMissle_A2ENS.NBNMissle_A2ENS
      AnimationMode     = ONCE
      Flags             = MAINTAIN_FRAME_ACROSS_STATES
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
      ParticleSysBone   = Steam01 BigMissileSteam
      ParticleSysBone   = Steam02 BigMissileSteam
    End   
    ConditionState      = DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE NIGHT SNOW
      Model             = NBNMissle_A2ENS
      Animation         = NBNMissle_A2ENS.NBNMissle_A2ENS
      AnimationMode     = MANUAL
      Flags             = START_FRAME_LAST PRISTINE_BONE_POS_IN_FINAL_FRAME
      WeaponLaunchBone  = PRIMARY RockPos
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
      ParticleSysBone   = Steam01 BigMissileSteam
      ParticleSysBone   = Steam02 BigMissileSteam
    End   
    ConditionState      = DOOR_1_WAITING_TO_CLOSE REALLYDAMAGED RUBBLE NIGHT SNOW
      Model             = NBNMissle_A3ENS
      Animation         = NBNMissle_A3ENS.NBNMissle_A3ENS
      AnimationMode     = MANUAL
      Flags             = START_FRAME_FIRST
      WeaponLaunchBone  = PRIMARY RockPos
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
    End   
    ConditionState      = DOOR_1_CLOSING REALLYDAMAGED RUBBLE NIGHT SNOW
      Model             = NBNMissle_A3ENS
      Animation         = NBNMissle_A3ENS.NBNMissle_A3ENSS
      AnimationMode     = ONCE
      Flags             = MAINTAIN_FRAME_ACROSS_STATES2
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
    End     
  End

  ; ------------ construction-zone fence -----------------
  Draw = W3DModelDraw ModuleTag_02
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = NBNMissle_A4
      Animation       = NBNMissle_A4.NBNMissle_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
    End
    ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = NBNMissle_A4N
      Animation       = NBNMissle_A4N.NBNMissle_A4N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
    End
    ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = NBNMissle_A4S
      Animation       = NBNMissle_A4S.NBNMissle_A4S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
    End
    ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = NBNMissle_A4SN
      Animation       = NBNMissle_A4SN.NBNMissle_A4SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = NBNMissle_A4
      Animation       = NBNMissle_A4.NBNMissle_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = NBNMissle_A4N
      Animation       = NBNMissle_A4N.NBNMissle_A4N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = NBNMissle_A4S
      Animation       = NBNMissle_A4S.NBNMissle_A4S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = NBNMissle_A4SN
      Animation       = NBNMissle_A4SN.NBNMissle_A4SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = NBNMissle_A4
      Animation       = NBNMissle_A4.NBNMissle_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = NBNMissle_A4N
      Animation       = NBNMissle_A4N.NBNMissle_A4N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = NBNMissle_A4S
      Animation       = NBNMissle_A4S.NBNMissle_A4S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = NBNMissle_A4SN
      Animation       = NBNMissle_A4SN.NBNMissle_A4SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ under-construction scaffolding -----------------
  Draw = W3DModelDraw ModuleTag_03
  AnimationsRequirePower = No
    MinLODRequired = MEDIUM
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = NBNMissle_A6
      Animation       = NBNMissle_A6.NBNMissle_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Dust01 BuildingDustChina
      ParticleSysBone = Smoke01 BuildUpSmokeChina
      ParticleSysBone = Smoke02 BuildUpSmokeChina
      ParticleSysBone = Smoke03 BuildUpSmokeChina
      ParticleSysBone = Smoke04 BuildUpSmokeChina
      ParticleSysBone = Smoke05 BuildUpSmokeChina
    End
    ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      Model           = NBNMissle_A6N
      Animation       = NBNMissle_A6N.NBNMissle_A6N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = Dust01 BuildingDustChina
      ParticleSysBone = Smoke01 BuildUpSmokeChina
      ParticleSysBone = Smoke02 BuildUpSmokeChina
      ParticleSysBone = Smoke03 BuildUpSmokeChina
      ParticleSysBone = Smoke04 BuildUpSmokeChina
      ParticleSysBone = Smoke05 BuildUpSmokeChina
    End
    ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      Model           = NBNMissle_A6S
      Animation       = NBNMissle_A6S.NBNMissle_A6S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = Dust01 BuildingSnowDust
      ParticleSysBone = Smoke01 BuildUpSnowSmoke
      ParticleSysBone = Smoke02 BuildUpSnowSmoke
      ParticleSysBone = Smoke03 BuildUpSnowSmoke
      ParticleSysBone = Smoke04 BuildUpSnowSmoke
      ParticleSysBone = Smoke05 BuildUpSnowSmoke
    End
    ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      Model           = NBNMissle_A6SN
      Animation       = NBNMissle_A6SN.NBNMissle_A6SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = Dust01 BuildingSnowDust
      ParticleSysBone = Smoke01 BuildUpSnowSmoke
      ParticleSysBone = Smoke02 BuildUpSnowSmoke
      ParticleSysBone = Smoke03 BuildUpSnowSmoke
      ParticleSysBone = Smoke04 BuildUpSnowSmoke
      ParticleSysBone = Smoke05 BuildUpSnowSmoke
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = NBNMissle_A6
      Animation       = NBNMissle_A6.NBNMissle_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = NBNMissle_A6N
      Animation       = NBNMissle_A6N.NBNMissle_A6N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = NBNMissle_A6S
      Animation       = NBNMissle_A6S.NBNMissle_A6S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = NBNMissle_A6SN
      Animation       = NBNMissle_A6SN.NBNMissle_A6SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End 
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model            = NBNMissle_A6
      Animation       = NBNMissle_A6.NBNMissle_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model            = NBNMissle_A6N
      Animation       = NBNMissle_A6N.NBNMissle_A6N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model            = NBNMissle_A6S
      Animation       = NBNMissle_A6S.NBNMissle_A6S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model            = NBNMissle_A6SN
      Animation       = NBNMissle_A6SN.NBNMissle_A6SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ being-constructed crane -----------------
  Draw = W3DModelDraw ModuleTag_04
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SOLD
      Model           = NONE
    End

    ConditionState  = ACTIVELY_BEING_CONSTRUCTED
      Model         = NBNMissle_A5
      Animation     = NBNMissle_A5.NBNMissle_A5
      AnimationMode = LOOP
      TransitionKey = UP_DAY
    End

    ConditionState  = NIGHT ACTIVELY_BEING_CONSTRUCTED
      Model         = NBNMissle_A5N
      Animation     = NBNMissle_A5N.NBNMissle_A5N
      AnimationMode = LOOP
      TransitionKey = UP_NIGHT
    End
    ConditionState  = SNOW ACTIVELY_BEING_CONSTRUCTED
      Model         = NBNMissle_A5S
      Animation     = NBNMissle_A5S.NBNMissle_A5S
      AnimationMode = LOOP
      TransitionKey = UP_SNOW
    End
    ConditionState  = SNOW NIGHT ACTIVELY_BEING_CONSTRUCTED
      Model         = NBNMissle_A5SN
      Animation     = NBNMissle_A5SN.NBNMissle_A5SN
      AnimationMode = LOOP
      TransitionKey = UP_SNOWNIGHT
    End
    TransitionState = DOWN_DEFAULT UP_DAY
      Model         = NBNMissle_AB
      Animation     = NBNMissle_AB.NBNMissle_AB
      AnimationMode = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags         = START_FRAME_FIRST
    End

    TransitionState = DOWN_DEFAULT UP_NIGHT
      Model         = NBNMissle_ABN
      Animation     = NBNMissle_ABN.NBNMissle_ABN
      AnimationMode = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags         = START_FRAME_FIRST
    End
    TransitionState = DOWN_DEFAULT UP_SNOW
      Model         = NBNMissle_ABS
      Animation     = NBNMissle_ABS.NBNMissle_ABS
      AnimationMode = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags         = START_FRAME_FIRST
    End
    TransitionState = DOWN_DEFAULT UP_SNOWNIGHT
      Model         = NBNMissle_ABSN
      Animation     = NBNMissle_ABSN.NBNMissle_ABSN
      AnimationMode = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags         = START_FRAME_FIRST
    End
    TransitionState = UP_DAY DOWN_DEFAULT
      Model         = NBNMissle_AB
      Animation     = NBNMissle_AB.NBNMissle_AB
      AnimationMode = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags         = START_FRAME_LAST
    End
    TransitionState = UP_NIGHT DOWN_DEFAULT
      Model         = NBNMissle_ABN
      Animation     = NBNMissle_ABN.NBNMissle_ABN
      AnimationMode = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags         = START_FRAME_LAST
    End
    TransitionState = UP_SNOW DOWN_DEFAULT
      Model         = NBNMissle_ABS
      Animation     = NBNMissle_ABS.NBNMissle_ABS
      AnimationMode = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags         = START_FRAME_LAST
    End
    TransitionState = UP_SNOWNIGHT DOWN_DEFAULT
      Model         = NBNMissle_ABSN
      Animation     = NBNMissle_ABSN.NBNMissle_ABSN
      AnimationMode = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags         = START_FRAME_LAST
    End 
  End

  ; Blinking lights
  Draw = W3DModelDraw ModuleTag_05
    OkToChangeModelColor = Yes
    ; day
    ConditionState    = NONE
      Model           = NBNMissle_AC
      Animation       = NONE
    End
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = NBNMissle_AC
      Flags           = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState    = AWAITING_CONSTRUCTION
      Model           = NONE
    End
    ConditionState    = DOOR_1_OPENING
      Model           = NBNMissle_AC
      Animation       = NBNMissle_AC.NBNMissle_AC
      AnimationMode   = LOOP
      Flags           = START_FRAME_FIRST
    End   
    ConditionState    = DOOR_1_WAITING_OPEN
      Model           = NBNMissle_AC
      Animation       = NBNMissle_AC.NBNMissle_AC
      AnimationMode   = LOOP
      Flags           = START_FRAME_LAST
    End
    ConditionState    = DOOR_1_WAITING_TO_CLOSE
      Model           = NBNMissle_AC
      Animation       = NBNMissle_AC.NBNMissle_AC
      AnimationMode   = LOOP
      Flags           = START_FRAME_FIRST
      ;WeaponLaunchBone = PRIMARY RockPos
    End   
    ConditionState    = DOOR_1_CLOSING
      Model           = NBNMissle_AC
      Animation       = NBNMissle_AC.NBNMissle_AC
      AnimationMode   = LOOP
      Flags           = START_FRAME_FIRST
    End
  End

  PlacementViewAngle = -135

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:NuclearMissile
  Side = Boss
  EditorSorting    = STRUCTURE
  Prerequisites
    Object = Boss_EnergyPlant
  End
  BuildCost        = 60000
  BuildTime        = 60.0            ; in seconds
  EnergyProduction = -10
  VisionRange      = 200.0           ; Shroud clearing distance
  ShroudClearingRange = 200
  ShroudRevealToAllRange = 60  ; Reveals shroud to all players at a specific amount which can be different. 
                               ; Using same value? Then use KINDOF_REVEAL_TO_ALL instead!
  CommandSet       = Boss_NuclearMissileCommandSet
  ArmorSet
    Conditions      = None
    Armor           = StructureArmorTough
    DamageFX        = StructureDamageFXNoShake
  End
  ExperienceValue     = 400 400 400 400  ; Experience point value at each level
  ;MaxSimultaneousOfType = DeterminedBySuperweaponRestriction ; Normally unlimited, but can be selected by players in multiplayer games
  ;MaxSimultaneousLinkKey = Superweapon  ; Count all superweapons **AND THE GLA SCUD STORM REBUILD HOLE** as one "type" for MaxSimultaneousOfType

  ; *** AUDIO Parameters ***
  VoiceSelect = NuclearMissileSelect
  SoundOnDamaged        = BuildingDamagedStateLight
  SoundOnReallyDamaged  = BuildingDestroy

  UnitSpecificSounds
    UnderConstruction     = UnderConstructionLoop
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority   = STRUCTURE
  KindOf          = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE CAPTURABLE FS_TECHNOLOGY POWERED MP_COUNT_FOR_VICTORY FS_SUPERWEAPON
  Body            = StructureBody ModuleTag_06
    MaxHealth       = 4000.0
    InitialHealth   = 4000.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 4200
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
  End

  Behavior    = OCLSpecialPower ModuleTag_07
    SpecialPowerTemplate = SuperweaponNeutronMissile
    OCL                  = SUPERWEAPON_NeutronMissile
  End
  Behavior = SpecialPowerCreate ModuleTag_08
    ;nothing
  End
  Behavior = MissileLauncherBuildingUpdate ModuleTag_09
    SpecialPowerTemplate = SuperweaponNeutronMissile
    DoorOpenTime         = 8000
    DoorWaitOpenTime     = 2000
    DoorCloseTime        = 8000

    ; FXLists to play at transitions:
    DoorOpeningFX        = ChinaNuclearMissileLauncherDoorOpen
    ;DoorOpenFX           = FX_ABPowerPlantExplode
    DoorWaitingToCloseFX = ChinaNuclearMissileLauncherLaunch
    ;DoorClosingFX        = FX_ABPowerPlantExplode
    ;DoorClosedFX         = FX_ABPowerPlantExplode

    ; looping sound to play while open:
    DoorOpenIdleAudio = BuildingNeutronMissileHiss
  End

  Behavior = ProductionUpdate ModuleTag_10
    DisabledTypesToProcess = DISABLED_HELD DISABLED_UNDERPOWERED
  End

  Behavior = DestroyDie ModuleTag_11
    ;Nothing
  End

  Behavior = FireWeaponWhenDeadBehavior ModuleTag_12
    DeathWeapon = ChinaPowerPlantDeathWeapon
    StartsActive  = Yes
  End

  Behavior = GenerateMinefieldBehavior     ModuleTag_13
    TriggeredBy           = Upgrade_ChinaMines
    MineName              = ChinaStandardMine
    SmartBorder           = Yes
    AlwaysCircular        = Yes

    Upgradable            = Yes
    UpgradedTriggeredBy   = Upgrade_ChinaEMPMines
    UpgradedMineName      = ChinaEMPMine
  End

  Behavior = FlammableUpdate ModuleTag_14
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 5       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = TransitionDamageFX ModuleTag_15
    ;-------------DESIGNED FOR MEDIUM SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionMediumExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionMediumShockwave
  End
  
  Behavior             = CreateObjectDie ModuleTag_20
    CreationList  = OCL_LargeStructureDebris
  End
  
  Behavior        = FXListDie ModuleTag_21
    ExemptStatus  = UNDER_CONSTRUCTION
    DeathFX       = FX_NukeGLA
  End

  Behavior = CommandSetUpgrade ModuleTag_25
    CommandSet = Boss_NuclearMissileCommandSetUpgrade
    TriggeredBy = Upgrade_ChinaMines
  End
  Behavior = ArmorUpgrade ModuleTag_26
    TriggeredBy = Upgrade_ChinaEMPMines
  End
  
  Geometry            = BOX
  GeometryMajorRadius = 45.0
  GeometryMinorRadius = 55.0
  GeometryHeight      = 64.0
  GeometryIsSmall     = No
  Shadow          = SHADOW_VOLUME
  BuildCompletion = PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
Object Boss_RussianVehicleTunguska

  ; *** ART Parameters ***
  SelectPortrait         = FlakCannon
  ButtonImage            = FlakCannon
  
  Draw                      = W3DTankDraw ModuleTag_01
    OkToChangeModelColor    = Yes
    
    DefaultConditionState
      Model               = RVTngska
      Animation           = RVTngska.RVTngska
      AnimationMode       = LOOP
      Turret              = TURRET
      TurretPitch         = TURRETEL
      HideSubObject       = MISSILEUP FRNTRDRUP
      Flags               = MAINTAIN_FRAME_ACROSS_STATES
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponLaunchBone    = PRIMARY Muzzle
      WeaponMuzzleFlash   = SECONDARY MuzzleFX2
      WeaponFireFXBone    = SECONDARY Muzzle
      WeaponLaunchBone    = SECONDARY Muzzle
      WeaponFireFXBone    = TERTIARY WeaponA
      WeaponLaunchBone    = TERTIARY WeaponA
      WeaponMuzzleFlash   = TERTIARY MuzzleFX
    End
    
    ConditionState        = USING_WEAPON_A
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      WeaponMuzzleFlash   = TERTIARY NONE
    End
    
    ConditionState        = REALLYDAMAGED
      Model               = RVTngska_D
      Animation           = RVTngska_D.RVTngska_D
    End
    AliasConditionState = RUBBLE
    
    ConditionState        = REALLYDAMAGED USING_WEAPON_A
      Model               = RVTngska_D
      Animation           = RVTngska_D.RVTngska_D
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      WeaponMuzzleFlash   = TERTIARY NONE
    End
    
    TrackMarks              = EXTnkTrack.tga
    TreadAnimationRate      = 2.0  ; amount of tread texture to move per second
    TreadDriveSpeedFraction = 0.3  ; fraction of locomotor speed below which treads stop moving.
    TreadPivotSpeedFraction = 0.6  ; fraction of locomotor speed below which we allow pivoting.
  End
  
  ; ***DESIGN parameters ***
  DisplayName               = OBJECT:Tunguska
  Side                      = Boss
  EditorSorting             = VEHICLE
  TransportSlotCount        = 3            ;how many "slots" we take in a transport (0 == not transportable)

  WeaponSet
    Conditions              = NONE 
    Weapon                  = PRIMARY   TunguskaAutoCannon
    PreferredAgainst        = PRIMARY   STRUCTURE
    AutoChooseSources       = PRIMARY   FROM_PLAYER FROM_SCRIPT FROM_AI
    
    Weapon                  = SECONDARY TunguskaAutoCannonAir
    AutoChooseSources       = SECONDARY FROM_PLAYER FROM_SCRIPT FROM_AI
    
    Weapon                  = TERTIARY  TunguskaMissiles
    AutoChooseSources       = TERTIARY  FROM_PLAYER FROM_SCRIPT FROM_AI
  End
  
  WeaponSet
    Conditions              = HERO
    Weapon                  = PRIMARY   TunguskaAutoCannonHeroic
    PreferredAgainst        = PRIMARY   STRUCTURE
    AutoChooseSources       = PRIMARY   FROM_PLAYER FROM_SCRIPT FROM_AI
    
    Weapon                  = SECONDARY TunguskaAutoCannonAir
    AutoChooseSources       = SECONDARY FROM_PLAYER FROM_SCRIPT FROM_AI
    
    Weapon                  = TERTIARY  TunguskaMissiles
    AutoChooseSources       = TERTIARY  FROM_PLAYER FROM_SCRIPT FROM_AI
  End

  ArmorSet
    Conditions    = None
    Armor         = AntiAirVehicle
    DamageFX      = TankDamageFX
  End
  
  BuildCost       = 4000
  BuildTime       = 8.0          ;in seconds    
  VisionRange     = 600
  ShroudClearingRange = 600
  
  Prerequisites
    Object        = Boss_WarFactory Boss_SmallFactory
  End

  ExperienceValue    = 50 50 100 150   ;Experience point value at each level
  ExperienceRequired = 0 80 200 300    ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet      = RussianVehicleTunguskaCommandSet


  ; *** AUDIO Parameters ***
  VoiceSelect     = TunguskaVoiceSelect
  VoiceMove       = TunguskaVoiceMove
  VoiceGuard      = TunguskaVoiceMove
  VoiceAttack     = TunguskaVoiceAttack
  VoiceAttackAir  = TunguskaVoiceAttackAir
  SoundMoveStart        = TunguskaMoveStart
  SoundMoveStartDamaged = TunguskaMoveStart

  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate     = TunguskaVoiceCreate
    VoiceCrush      = TunguskaVoiceMove
    VoiceEnter      = TunguskaVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority     = UNIT
  KindOf            = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE
  
  Body              = ActiveBody ModuleTag_02
    MaxHealth       = 420.0
    InitialHealth   = 420.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 840
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End
  
  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      ControlledWeaponSlots = PRIMARY SECONDARY TERTIARY
      TurretTurnRate      = 180   // turn rate, in degrees per sec
      TurretPitchRate     = 180
      AllowsPitch         = Yes
      FiresWhileTurning   = Yes
      NaturalTurretPitch  = 5
      MinIdleScanAngle    = 10
      MaxIdleScanAngle    = 40
      MinIdleScanInterval = 5000
      MaxIdleScanInterval = 10000
    End
    AutoAcquireEnemiesWhenIdle = Yes
    MoodAttackCheckRate        = 250
  End
  Locomotor       = SET_NORMAL     TunguskaLocomotor
  
  Behavior          = PhysicsBehavior ModuleTag_04
    Mass            = 50.0
  End
  
  ; Just explode death
  Behavior = SlowDeathBehavior ModuleTag_05
    DeathTypes = ALL
    DestructionDelay = 1
    SinkRate = 0.5     ; in Dist/Sec
    OCL = FINAL    OCL_RussiaTunguskaDebris
    FX  = FINAL    FX_GattlingExplosionOneFinal
  End

  Behavior = TransitionDamageFX ModuleTag_07
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End
  
  Behavior = StealthUpdate ModuleTag_GPSStealth01
    StealthDelay                = 2000 ; msec
    StealthForbiddenConditions  = FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
    InnateStealth               = Yes
    RequiredStatus              = REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
  End

  Geometry            = BOX
  GeometryMajorRadius = 16.0
  GeometryMinorRadius = 8.5
  GeometryHeight      = 15.0     
  GeometryIsSmall     = Yes
  Shadow              = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length    

End

;------------------------------------------------------------------------------
Object Boss_SovietVehiclePioneer

  ; *** ART Parameters ***
  SelectPortrait         = SNTopol_L
  ButtonImage            = SNTopol

  Draw = W3DTruckDraw ModuleTag_01

    OkToChangeModelColor = Yes
    ParticlesAttachedToAnimatedBones = Yes

   ConditionState       = NONE
      Model             = RVTopol
      Animation         = RVTopol.RVTopol
      AnimationMode     = ONCE
      Flags             = START_FRAME_LAST
      HideSubObject     = WeaponA01
      TransitionKey     = TRANS_UNARMED_PACKED
    End
    AliasConditionState = RIDER1
    AliasConditionState = RIDER1 DEPLOYED PREATTACK_B

    ConditionState      = RIDER1 UNPACKING
      Model             = RVTopol_A1
      Animation         = RVTopol_A1.RVTopol_A1
      AnimationMode     = MANUAL
      HideSubObject     = WeaponA01
    End

    ConditionState      = RIDER1 PACKING
      Model             = RVTopol_A1
      Animation         = RVTopol_A1.RVTopol_A1
      AnimationMode     = MANUAL
      HideSubObject     = WeaponA01
    End
    
    ConditionState      = RIDER1 DEPLOYED 
      Model             = RVTopol_A3
      Animation         = RVTopol_A3.RVTopol_A3
      AnimationMode     = ONCE
      Flags             = START_FRAME_LAST
      HideSubObject     = WeaponA01
      TransitionKey     = TRANS_UNARMED_UNPACKED
    End
    
    ;Transitions
    TransitionState     = TRANS_UNARMED_PACKED TRANS_ARMED_PACKED
      Model             = RVTopol
      Animation         = RVTopol.RVTopol
      AnimationMode     = ONCE_BACKWARDS
      ShowSubObject     = WeaponA01
    End
    
    TransitionState     = TRANS_UNARMED_UNPACKED TRANS_ARMED_UNPACKED
      Model             = RVTopol_A3
      Animation         = RVTopol_A3.RVTopol_A3
      AnimationMode     = ONCE_BACKWARDS
      ShowSubObject     = WeaponA01
    End
    
    ;Armed with missile
    ConditionState      = RIDER2
      Model             = RVTopol
      Animation         = RVTopol.RVTopol
      AnimationMode     = ONCE_BACKWARDS
      Flags             = START_FRAME_FIRST
      ShowSubObject     = WeaponA01
      TransitionKey     = TRANS_ARMED_PACKED
    End
    ConditionState      = RIDER2 UNPACKING
      Model             = RVTopol_A2
      Animation         = RVTopol_A2.RVTopol_A2
      AnimationMode     = MANUAL
      ShowSubObject     = WeaponA01
    End
    ConditionState      = RIDER2 PACKING
      Model             = RVTopol_A2
      Animation         = RVTopol_A2.RVTopol_A2
      AnimationMode     = MANUAL
      ShowSubObject     = WeaponA01
    End
    ConditionState      = RIDER2 DEPLOYED 
      Model             = RVTopol_A3
      Animation         = RVTopol_A3.RVTopol_A3
      AnimationMode     = ONCE_BACKWARDS
      Flags             = START_FRAME_FIRST
      ShowSubObject     = WeaponA01
      TransitionKey     = TRANS_ARMED_UNPACKED
    End
    ConditionState      = RIDER2 DEPLOYED PREATTACK_B
      Model             = RVTopol_A3
      Animation         = RVTopol_A3.RVTopol_A3
      AnimationMode     = ONCE
      ShowSubObject     = WeaponA01
    End
    ;Reallydamaged conditions
   ConditionState       = RIDER1 REALLYDAMAGED
      Model             = RVTopol_D
      Animation         = RVTopol_D.RVTopol_D
      AnimationMode     = ONCE
      Flags             = START_FRAME_LAST
      HideSubObject     = WeaponA01
      TransitionKey     = TRANS_DAMAGED_UNARMED_PACKED
    End
    AliasConditionState = RIDER1 REALLYDAMAGED DEPLOYED PREATTACK_B
    AliasConditionState = RUBBLE
    AliasConditionState = RIDER1 RUBBLE
    ConditionState      = RIDER1 REALLYDAMAGED UNPACKING
      Model             = RVTopol_DA1
      Animation         = RVTopol_DA1.RVTopol_DA1
      AnimationMode     = MANUAL
      HideSubObject     = WeaponA01
    End

    ConditionState      = RIDER1 REALLYDAMAGED PACKING
      Model             = RVTopol_DA1
      Animation         = RVTopol_DA1.RVTopol_DA1
      AnimationMode     = MANUAL
      HideSubObject     = WeaponA01
    End
    
    ConditionState      = RIDER1 REALLYDAMAGED DEPLOYED 
      Model             = RVTopol_DA3
      Animation         = RVTopol_DA3.RVTopol_DA3
      AnimationMode     = ONCE
      Flags             = START_FRAME_LAST
      HideSubObject     = WeaponA01
      TransitionKey     = TRANS_DAMAGED_UNARMED_UNPACKED
    End
    
    ;Transitions
    TransitionState     = TRANS_DAMAGED_UNARMED_PACKED TRANS_DAMAGED_ARMED_PACKED
      Model             = RVTopol_D
      Animation         = RVTopol_D.RVTopol_D
      AnimationMode     = ONCE_BACKWARDS
      ShowSubObject     = WeaponA01
    End
    
    TransitionState     = TRANS_DAMAGED_UNARMED_UNPACKED TRANS_DAMAGED_ARMED_UNPACKED
      Model             = RVTopol_DA3
      Animation         = RVTopol_DA3.RVTopol_DA3
      AnimationMode     = ONCE_BACKWARDS
      ShowSubObject     = WeaponA01
    End
    
    ;Armed with missile
    ConditionState      = RIDER2 REALLYDAMAGED
      Model             = RVTopol_D
      Animation         = RVTopol_D.RVTopol_D
      AnimationMode     = ONCE_BACKWARDS
      Flags             = START_FRAME_FIRST
      ShowSubObject     = WeaponA01
      TransitionKey     = TRANS_DAMAGED_ARMED_PACKED
    End
    AliasConditionState = RIDER2 RUBBLE
    ConditionState      = RIDER2 REALLYDAMAGED UNPACKING
      Model             = RVTopol_DA2
      Animation         = RVTopol_DA2.RVTopol_DA2
      AnimationMode     = MANUAL
      ShowSubObject     = WeaponA01
    End
    ConditionState      = RIDER2 REALLYDAMAGED PACKING
      Model             = RVTopol_DA2
      Animation         = RVTopol_DA2.RVTopol_DA2
      AnimationMode     = MANUAL
      ShowSubObject     = WeaponA01
    End
    ConditionState      = RIDER2 REALLYDAMAGED DEPLOYED 
      Model             = RVTopol_DA3
      Animation         = RVTopol_DA3.RVTopol_DA3
      AnimationMode     = ONCE_BACKWARDS
      Flags             = START_FRAME_FIRST
      ShowSubObject     = WeaponA01
      TransitionKey     = TRANS_DAMAGED_ARMED_UNPACKED
    End
    ConditionState      = RIDER2 REALLYDAMAGED DEPLOYED PREATTACK_B
      Model             = RVTopol_DA3
      Animation         = RVTopol_DA3.RVTopol_DA3
      AnimationMode     = ONCE
      ShowSubObject     = WeaponA01
    End
    TrackMarks = EXTireTrack.tga
    Dust = ScudLauncherDust
    DirtSpray = RocketBuggyDirtSpray
    PowerslideSpray = RocketBuggyDirtPowerSlide
    ; These parameters are only used if the model has a separate suspension, 
    ; and the locomotor has HasSuspension = Yes.
    LeftFrontTireBone     = TIRE01
    RightFrontTireBone    = TIRE02
    MidLeftFrontTireBone  = TIRE03
    MidRightFrontTireBone = TIRE04
    MidRightRearTireBone  = TIRE05
    MidLeftRearTireBone   = TIRE06
    TireRotationMultiplier = 0.2   ; this * speed = rotation.
  End
  
  Draw = W3DTruckDraw ModuleTag_Wheels01
    ConditionState = NONE
      Model = RVTopol_B
    End
    ConditionState = REALLYDAMAGED
      Model = RVTopol_BD
    End
    AliasConditionState = RUBBLE
    Dust                    = Nada
    DirtSpray               = Nada
    PowerslideSpray         = Nada
    LeftFrontTireBone     = TIRE01
    RightFrontTireBone    = TIRE02
    MidLeftFrontTireBone  = TIRE03
    MidRightFrontTireBone = TIRE04
    MidRightRearTireBone  = TIRE05
    MidLeftRearTireBone   = TIRE06
    MidRightMidTireBone   = TIRE07
    MidLeftMidTireBone    = TIRE08
    TireRotationMultiplier = 0.2
  End

  Draw = W3DModelDraw ModuleTag_Stowage01
    DefaultConditionState
      Model             = NONE
    End
    ConditionState      = UNPACKING
      Model             = RVTopol_C
      Animation         = RVTopol_C.RVTopol_C
      AnimationMode     = MANUAL
    End
    ConditionState      = PACKING
      Model             = RVTopol_C
      Animation         = RVTopol_C.RVTopol_C
      AnimationMode     = MANUAL
    End
    ConditionState  = DEPLOYED 
      Model             = RVTopol_C
      Animation         = RVTopol_C.RVTopol_C
      AnimationMode     = ONCE
      Flags             = START_FRAME_LAST PRISTINE_BONE_POS_IN_FINAL_FRAME
    End
  End

  Draw = W3DModelDraw ModuleTag_FiringBones01
    DefaultConditionState
      Model             = RVTopol_Bone
      WeaponLaunchBone  = SECONDARY WeaponA
      WeaponFireFXBone  = SECONDARY MuzzleFX
    End
  End
  
  Draw = W3DModelDraw ModuleTag_Headlights01
    DefaultConditionState
      Model             = RVTopol_N
      Turret            = Turret
    End
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Pioneer
  Side = Boss
  EditorSorting   = VEHICLE
  TransportSlotCount = 10                 ;how many "slots" we take in a transport (0 == not transportable)
  
  WeaponSet
    Conditions = WEAPON_RIDER1
    Weapon            = SECONDARY  NONE
    AutoChooseSources = SECONDARY  NONE
    Weapon            = TERTIARY   TopolDummyDeployWeapon
    AutoChooseSources = TERTIARY   NONE
  End
  
  WeaponSet
    Conditions = NONE
	;Conditions = WEAPON_RIDER2
    Weapon            = PRIMARY  NONE
    AutoChooseSources = PRIMARY  NONE
	Weapon            = SECONDARY  PioneerMissileWeapon
    AutoChooseSources = SECONDARY  NONE
    Weapon            = TERTIARY   TopolDummyDeployWeapon
    AutoChooseSources = TERTIARY   NONE
  End

  ArmorSet
    Conditions      = None
    Armor           = BikeLogicHeavyArtilleryArmor
    DamageFX        = TankDamageFX
  End
  
  BuildCost       = 50000
  BuildTime       = 90.0          ;in seconds
  
  VisionRange     = 200
  ShroudClearingRange = 200
  
  Prerequisites
    Object = Boss_WarFactory
    Object = Boss_EnergyPlant
  End

  ExperienceValue    = 150 150 150 150     ;Experience point value at each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = Boss_RussianVehicleTopolCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect           = TopolVoiceSelect
  VoiceMove             = TopolVoiceMove
  VoiceGuard            = TopolVoiceMove
  SoundMoveStart        = TopolMoveStart
  SoundMoveStartDamaged = TopolMoveStart

  UnitSpecificSounds
    VoiceFlameLocation  = TopolVoiceAttack
    VoiceCreate         = TopolVoiceCreate
    VoiceEnter          = TopolVoiceMove
    Deploy              = TopolLauncherDeploy
    Undeploy            = TopolLauncherUnDeploy
  End


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS VEHICLE HUGE_VEHICLE SCORE SALVAGER GARRISONABLE_UNTIL_DESTROYED
  
  Body = ActiveBody ModuleTag_02
    MaxHealth       = 600.0
    InitialHealth   = 600.0
    SubdualDamageCap = 1500.0
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

  Behavior = DeployStyleAIUpdate ModuleTag_04
    Turret
      TurretTurnRate        = 0
      ControlledWeaponSlots = PRIMARY SECONDARY
    End
    AutoAcquireEnemiesWhenIdle = Yes NotWhileAttacking ;No they now auto accuire targets set them to hold fire you don't want them to fire
    PackTime = 6600
    UnpackTime = 6600
    TurretsFunctionOnlyWhenDeployed = Yes
    TurretsMustCenterBeforePacking = Yes
    ManualDeployAnimations = Yes
  End
  Locomotor = SET_NORMAL TopolLocomotor
  
  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 50.0
  End

  Behavior = InstantDeathBehavior ModuleTag_06
    DeathTypes = ALL -CRUSHED -SPLATTED
    FX  = FX_GenericTankDeathExplosion 
    OCL = OCL_VehicleTopolDeathEffect  
  End
    
  ; A crushing defeat
  Behavior = FXListDie ModuleTag_07
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  Behavior = CreateObjectDie ModuleTag_08
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_CrusaderTank_CrushEffect
  End
  
  Behavior                 = TransitionDamageFX ModuleTag_10
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_NukeCannonDamageTransition
  End

  Behavior = DestroyDie ModuleTag_11
    DeathTypes = NONE +CRUSHED +SPLATTED
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = ProductionUpdate ModuleTag_12
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End
  
  Behavior = StealthUpdate ModuleTag_GPSStealth01
    StealthDelay                = 2000 ; msec
    StealthForbiddenConditions  = FIRING_SECONDARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
    InnateStealth               = Yes
    RequiredStatus              = REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
  End
  
  ; Behavior = FireWeaponUpdate ModuleTag_DeployMarkerDecal01
    ; Weapon = GLACommandTruckRadarCollisionDummyWeapon
  ; End

  ; Behavior = FireWeaponCollide ModuleTag_DeployMarkerDecal02
    ; CollideWeapon  = TopolM1DeployedDecalWeapon
    ; RequiredStatus = DEPLOYED
  ; End
  
  Geometry = BOX
  GeometryMajorRadius = 44.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 21.0     
  GeometryIsSmall = No
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length    

End

;---------------------------------------------------------------------------------------
Object Boss_RussiaVehicleTopolM
  ; *** ART Parameters ***
  SelectPortrait         = SNTopol_L
  ButtonImage            = SNTopol

  Draw = W3DTruckDraw ModuleTag_01
    OkToChangeModelColor = Yes
    ProjectileBoneFeedbackEnabledSlots = SECONDARY TERTIARY ; WeaponLaunchBone will be shown/hidden, not just used for firing offset
    DefaultConditionState
      Model                           = RU-SS-27
      Animation                       = RU-SS-27.RU-SS-27
      AnimationMode                   = ONCE_BACKWARDS
      Turret = TURRET
      ;TurretPitch = TURRETEL
      Flags                           = START_FRAME_FIRST
      WeaponLaunchBone                = PRIMARY WEAPONA
      WeaponFireFXBone                = PRIMARY FIREFX
      WeaponLaunchBone                = SECONDARY WEAPONA
      WeaponFireFXBone                = SECONDARY FIREFX
      WeaponLaunchBone                = TERTIARY WEAPONA
      WeaponFireFXBone                = TERTIARY FIREFX
      ;HideSubObject                   = WEAPONA01 HOUSECOLOR07
    End
    ConditionState                    = RUBBLE
      Model                           = RU-SS-27DM
      Animation                       = RU-SS-27DM.RU-SS-27DM
      AnimationMode                   = ONCE_BACKWARDS
      Turret                          = TURRET
      Flags                           = START_FRAME_FIRST
      WeaponLaunchBone                = PRIMARY WEAPONA
      WeaponFireFXBone                = PRIMARY FIREFX
      WeaponLaunchBone                = SECONDARY WEAPONA
      WeaponFireFXBone                = SECONDARY FIREFX
      WeaponLaunchBone                = TERTIARY WEAPONA
      WeaponFireFXBone                = TERTIARY FIREFX
      ;HideSubObject                   = WEAPONA01 HOUSECOLOR07
    End
    ;*** PACKED STATE -- ready to move ***
    ConditionState    = MOVING
      Animation                       = RU-SS-27.RU-SS-27
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_FIRST
    End
    ConditionState    = REALLYDAMAGED MOVING
      Model                           = RU-SS-27DM
      Animation                       = RU-SS-27DM.RU-SS-27DM
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_FIRST
    End
    ;*** UNPACKING STATE  -- preparing to fire ***
    ConditionState    = UNPACKING
      Animation                       = RU-SS-27.RU-SS-27
      AnimationMode   = ONCE
    End
    ConditionState    = REALLYDAMAGED UNPACKING
      Model                           = RU-SS-27DM
      Animation                       = RU-SS-27DM.RU-SS-27DM
      AnimationMode   = ONCE
    End
    ;*** PACKING STATE -- preparing to move ***
    ConditionState    = PACKING
      Model                           = RU-SS-27P
      Animation                       = RU-SS-27P.RU-SS-27P
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End
    ConditionState    = REALLYDAMAGED PACKING
      Model                           = RU-SS-27P_DM
      Animation                       = RU-SS-27P_DM.RU-SS-27P_DM
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End
    ;*** DEPLOYED STATE -- ready to fire ***
    ConditionState  = DEPLOYED
      Model                           = RU-SS-27D
      Animation                       = RU-SS-27D.RU-SS-27D
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
    End
    ConditionState  = DEPLOYED REALLYDAMAGED
      Model                           = RU-SS-27D_DM
      Animation                       = RU-SS-27D_DM.RU-SS-27D_DM
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
    End
    ConditionState  = FIRING_B
      Model                           = RU-SS-27D
      Animation                       = RU-SS-27D.RU-SS-27D
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
      HideSubObject                   = WEAPONA01 HOUSECOLOR07
    End
    ConditionState  = FIRING_C
      Model                           = RU-SS-27D
      Animation                       = RU-SS-27D.RU-SS-27D
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
      HideSubObject                   = WEAPONA01 HOUSECOLOR07
    End
    ConditionState  = FIRING_B REALLYDAMAGED
        Model                           = RU-SS-27D_DM
      Animation                       = RU-SS-27D_DM.RU-SS-27D_DM
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
      HideSubObject                   = WEAPONA01 HOUSECOLOR07
    End
    ConditionState  = FIRING_C REALLYDAMAGED
      Model                           = RU-SS-27D_DM
      Animation                       = RU-SS-27D_DM.RU-SS-27D_DM
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
      HideSubObject                   = WEAPONA01 HOUSECOLOR07
    End
    ConditionState  = RELOADING_B
      Model                           = RU-SS-27D
      Animation                       = RU-SS-27D.RU-SS-27D
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
      HideSubObject                   = WEAPONA01 HOUSECOLOR07
    End
    ConditionState  = RELOADING_C
      Model                           = RU-SS-27D
      Animation                       = RU-SS-27D.RU-SS-27D
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
      HideSubObject                   = WEAPONA01 HOUSECOLOR07
    End
    ConditionState  = RELOADING_B REALLYDAMAGED
        Model                           = RU-SS-27D_DM
      Animation                       = RU-SS-27D_DM.RU-SS-27D_DM
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
      HideSubObject                   = WEAPONA01 HOUSECOLOR07
    End
    ConditionState  = RELOADING_C REALLYDAMAGED
      Model                           = RU-SS-27D_DM
      Animation                       = RU-SS-27D_DM.RU-SS-27D_DM
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
      HideSubObject                   = WEAPONA01 HOUSECOLOR07
    End
    TrackMarks = EXTireTrack.tga
    Dust = ScudLauncherDust
    DirtSpray = RocketBuggyDirtSpray
    PowerslideSpray = RocketBuggyDirtPowerSlide
    ; These parameters are only used if the model has a separate suspension, 
    ; and the locomotor has HasSuspension = Yes.
    LeftRearTireBone      = Tire07
    RightRearTireBone     = Tire05
    MidLeftRearTireBone   = Tire08
    MidRightRearTireBone  = Tire06
    TireRotationMultiplier = 0.2   ; this * speed = rotation.
    ;PowerslideRotationAddition = 0.0   ; This speed is added to the rotation speed when powersliding.
  End
  
  Draw = W3DTruckDraw ModuleTag_02
    ConditionState = NONE
      Model = RU-SS-27W
    End
    ConditionState = REALLYDAMAGED
      Model = RU-SS-27WDM
    End
    AliasConditionState = RUBBLE
    ;*** PACKED STATE -- ready to move ***
    ConditionState    = MOVING
      Model = RU-SS-27W
      Animation                       = RU-SS-27W.RU-SS-27W
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_FIRST
    End
    ConditionState    = REALLYDAMAGED MOVING
      Model                           = RU-SS-27WDM
      Animation                       = RU-SS-27WDM.RU-SS-27WDM
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_FIRST
    End
    ;*** UNPACKING STATE  -- preparing to fire ***
    ConditionState    = UNPACKING
      Model = RU-SS-27W
      Animation                       = RU-SS-27W.RU-SS-27W
      AnimationMode   = ONCE
    End
    ConditionState    = REALLYDAMAGED UNPACKING
      Model                           = RU-SS-27WDM
      Animation                       = RU-SS-27WDM.RU-SS-27WDM
      AnimationMode   = ONCE
    End
    ;*** PACKING STATE -- preparing to move ***
    ConditionState    = PACKING
      Model                           = RU-SS-27W
      Animation                       = RU-SS-27W.RU-SS-27W
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End
    ConditionState    = REALLYDAMAGED PACKING
      Model                           = RU-SS-27WDM
      Animation                       = RU-SS-27WDM.RU-SS-27WDM
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End
    ;*** DEPLOYED STATE -- ready to fire ***
    ConditionState  = DEPLOYED
      Model                           = RU-SS-27W
      Animation                       = RU-SS-27W.RU-SS-27W
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
    End
    ConditionState  = DEPLOYED REALLYDAMAGED
      Model                           = RU-SS-27WDM
      Animation                       = RU-SS-27WDM.RU-SS-27WDM
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
    End
    ConditionState  = FIRING_B
      Model                           = RU-SS-27W
      Animation                       = RU-SS-27W.RU-SS-27W
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
      HideSubObject                   = WEAPONA01 HOUSECOLOR07
    End
    ConditionState  = FIRING_C
      Model                           = RU-SS-27W
      Animation                       = RU-SS-27W.RU-SS-27W
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
      HideSubObject                   = WEAPONA01 HOUSECOLOR07
    End
    ConditionState  = FIRING_B REALLYDAMAGED
        Model                           = RU-SS-27WDM
      Animation                       = RU-SS-27WDM.RU-SS-27WDM
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
      HideSubObject                   = WEAPONA01 HOUSECOLOR07
    End
    ConditionState  = FIRING_C REALLYDAMAGED
      Model                           = RU-SS-27WDM
      Animation                       = RU-SS-27WDM.RU-SS-27WDM
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
      HideSubObject                   = WEAPONA01 HOUSECOLOR07
    End
    ConditionState  = RELOADING_B
        Model                           = RU-SS-27W
      Animation                       = RU-SS-27W.RU-SS-27W
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
      HideSubObject                   = WEAPONA01 HOUSECOLOR07
    End
    ConditionState  = RELOADING_C
        Model                           = RU-SS-27W
      Animation                       = RU-SS-27W.RU-SS-27W
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
      HideSubObject                   = WEAPONA01 HOUSECOLOR07
    End
    ConditionState  = RELOADING_B REALLYDAMAGED
        Model                           = RU-SS-27WDM
      Animation                       = RU-SS-27WDM.RU-SS-27WDM
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
      HideSubObject                   = WEAPONA01 HOUSECOLOR07
    End
    ConditionState  = RELOADING_C REALLYDAMAGED
        Model                           = RU-SS-27WDM
      Animation                       = RU-SS-27WDM.RU-SS-27WDM
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
      HideSubObject                   = WEAPONA01 HOUSECOLOR07
    End
    Dust = ScudLauncherDust
    DirtSpray = RocketBuggyDirtSpray
    PowerslideSpray = RocketBuggyDirtPowerSlide
    LeftFrontTireBone = Tire01
    RightFrontTireBone = Tire05
    LeftRearTireBone = Tire04
    RightRearTireBone = Tire08
    MidLeftFrontTireBone = Tire02
    MidRightFrontTireBone = Tire06
    MidLeftRearTireBone = Tire03
    MidRightRearTireBone = Tire07
    TireRotationMultiplier = 0.2
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:TopolM
  Side = Boss
  EditorSorting   = VEHICLE
  TransportSlotCount = 15                 ;how many "slots" we take in a transport (0 == not transportable)
  BuildCost       = 65000
  BuildTime       = 120.0          ;in seconds    
  VisionRange     = 200
  ShroudClearingRange = 200

  Prerequisites
    Object  = Boss_WarFactory
	Object  = Boss_TechCentr
    Object  = Boss_EnergyPlant
  End
  ExperienceValue         = 250 250 350 600  ;Experience point value at each level
  IsTrainable = Yes             ;Can gain experience
  
    WeaponSet
    Conditions = WEAPON_RIDER1
    Weapon            = SECONDARY  NONE
    AutoChooseSources = SECONDARY  NONE
    Weapon            = TERTIARY   TopolDummyDeployWeapon
    AutoChooseSources = TERTIARY   NONE
  End
  
  WeaponSet
    Conditions = NONE
	;Conditions = WEAPON_RIDER2
    Weapon            = PRIMARY  NONE
    AutoChooseSources = PRIMARY  NONE
	Weapon            = SECONDARY  TopolMissileWeapon
    AutoChooseSources = SECONDARY  NONE
    Weapon            = TERTIARY   TopolDummyDeployWeapon
    AutoChooseSources = TERTIARY   NONE
  End

  ArmorSet
    Conditions      = None
    Armor           = TopolMArmor
    DamageFX        = TruckDamageFX
  End

  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet      = Boss_RussianVehicleTopolCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = TopolMVoiceSelect
  VoiceMove = TopolMVoiceMove
  VoiceAttack = TopolMVoiceAttack
  SoundMoveStart = ScudLauncherMoveStart
  SoundMoveStartDamaged = ScudLauncherMoveStart
  
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate = TopolMVoiceCreate
    TurretMoveStart = NoSound
    TurretMoveLoop = TurretMoveLoopLoud
    VoiceCrush = TomahawkVoiceCrush
    VoiceEnter = TopolMVoiceMove
    VoiceBombard = TopolMVoiceAttack
    Deploy              = TopolDeploy
    Undeploy            = TopolDeploy
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority   = UNIT
  KindOf          = VEHICLE HUGE_VEHICLE PRELOAD SELECTABLE SCORE CAN_CAST_REFLECTIONS CAN_ATTACK
  Body            = ActiveBody ModuleTag_03
    MaxHealth       = 500.0
    InitialHealth   = 500.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 4200
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
  End

  Behavior = DeployStyleAIUpdate ModuleTag_04
    Turret
     TurretTurnRate        = 9999
     RecenterTime          = 1        ; how long to wait during idle before recentering
     ControlledWeaponSlots = SECONDARY TERTIARY
     NaturalTurretAngle    = 0
     InitiallyDisabled     = Yes
    End
    PackTime = 6666
    UnpackTime = 6666
    TurretsFunctionOnlyWhenDeployed = Yes
    TurretsMustCenterBeforePacking = Yes
    ManualDeployAnimations = Yes
  End

  Locomotor = SET_NORMAL SS-27Locomotor
  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 500.0
  End
  
;Deaths-------------------------------------------------------------
  Behavior = SlowDeathBehavior DeathTag_01
    ;DeathTypes = ALL -BURNED -EXTRA_2 -CRUSHED -SPLATTED -POISONED -POISONED_BETA -EXTRA_8
	DeathTypes = ALL -BURNED -CRUSHED -SPLATTED -POISONED -POISONED_BETA
    FX  = INITIAL  FX_BigMissileCarrierDeath
    OCL = MIDPOINT OCL_SCUDDebrisFlyoff
    OCL = FINAL    OCL_SS27Debris
  End
      ; A crushing defeat
  Behavior = FXListDie DeathTag_02
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  Behavior = CreateObjectDie DeathTag_03
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_T90_CrushEffect
  End
  Behavior = DestroyDie DeathTag_04
    DeathTypes = NONE +CRUSHED +SPLATTED
  End
  ; Behavior = SlowDeathBehavior DeathTag_05
    ; DeathTypes = NONE +EXTRA_2
    ; FX  = FINAL    None
  ; End
  ; Behavior = CreateObjectDie DeathTag_06
    ; DeathTypes = NONE +EXTRA_2
    ; CreationList = OCL_TopolMDeploy
    ; TransferPreviousHealth = Yes
  ; End

;Radiation
  ; Behavior = SlowDeathBehavior DeathTag_07
    ; DeathTypes = NONE +EXTRA_8
    ; FX  = INITIAL FX_VehicleRadiationDeath
    ; SinkRate = 2.5
    ; SinkDelay = 6000
    ; DestructionDelay = 14000
  ; End
;Poison
  Behavior = SlowDeathBehavior DeathTag_08
    DeathTypes = NONE +POISONED
    FX  = INITIAL FX_VehiclePoisonDeath
    SinkRate = 2.5
    SinkDelay = 6000
    DestructionDelay = 14000
  End
;PoisonBeta
    Behavior = SlowDeathBehavior DeathTag_09
    DeathTypes = NONE +POISONED_BETA
    FX  = INITIAL FX_VehiclePoisonBetaDeath
    SinkRate = 2.5
    SinkDelay = 6000
    DestructionDelay = 14000
  End

  Behavior = FlammableUpdate ModuleTag_07
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End
  
  Behavior = TransitionDamageFX ModuleTag_08
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_ScudLauncherDamageTransition
  End

  ; Behavior = FireWeaponCollide ModuleTag_13
    ; CollideWeapon  = TopolMKillObjectWeapon2
    ; RequiredStatus = USING_ABILITY
  ; End

  Behavior = StealthUpdate ModuleStealth_GPSScramblerSuperUnitStealthModule
    StealthDelay                = 5000 ; msec
    InnateStealth               = Yes
    StealthForbiddenConditions  = ATTACKING USING_ABILITY MOVING
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
    RequiredStatus = REASSIGN_PARKING
  End

  Geometry = BOX
  GeometryMajorRadius = 38.0
  GeometryMinorRadius = 8.0
  GeometryHeight = 15.0     
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME 
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length   
  Scale = 1.0 ;0.98
End

;------------------------------------------------------------------------------
; Object Boss_RussiaVehicleTopol

  ; ; *** ART Parameters ***
  ; SelectPortrait         = SNTopol_L
  ; ButtonImage            = SNTopol

  ; Draw = W3DTruckDraw ModuleTag_01
    ; OkToChangeModelColor = Yes

    ; ExtraPublicBone = WeaponA01
    ; ProjectileBoneFeedbackEnabledSlots = PRIMARY ; WeaponLaunchBone will be shown/hidden, not just used for firing offset

    ; DefaultConditionState
      ; Model                           = NVTopolm
      ; Animation                       = NVTopolm.NVTopolm
      ; AnimationMode                   = ONCE_BACKWARDS
      ; Turret                          = TURRET
      ; Flags                           = START_FRAME_FIRST
      ; WeaponLaunchBone                = PRIMARY WeaponA
      ; WeaponFireFXBone                = PRIMARY FIREFX
      ; HideSubObject                   = WeaponA01
    ; End

    ; ConditionState                    = REALLYDAMAGED
      ; Model                           = NVTopolm_D
      ; Animation                       = NVTopolm_D.NVTopolm_D
      ; AnimationMode                   = ONCE_BACKWARDS
      ; Flags                           = START_FRAME_FIRST
      ; WeaponLaunchBone                = PRIMARY WeaponA
      ; WeaponFireFXBone                = PRIMARY FIREFX
      ; ShowSubObject                   = WeaponA01
    ; End
    ; AliasConditionState = RUBBLE

    ; ;*** PACKED STATE -- ready to move ***
    ; ConditionState    = MOVING
      ; Model                           = NVTopolm
      ; Animation                       = NVTopolm.NVTopolm
      ; AnimationMode                   = ONCE_BACKWARDS
      ; HideSubObject                   = WeaponA01
      ; Flags                           = START_FRAME_FIRST
      ; WeaponLaunchBone                = PRIMARY WeaponA
      ; WeaponFireFXBone                = PRIMARY FIREFX
    ; End
    ; AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_A ;Very long shot delay -- possibly moving
    ; AliasConditionState = BETWEEN_FIRING_SHOTS_A

    ; ;***
    ; ConditionState    = REALLYDAMAGED MOVING
      ; Model                           = NVTopolm_D
      ; Animation                       = NVTopolm_D.NVTopolm_D
      ; AnimationMode                   = ONCE_BACKWARDS
      ; HideSubObject                   = WeaponA01
      ; Flags                           = START_FRAME_FIRST
      ; WeaponLaunchBone                = PRIMARY WeaponA
      ; WeaponFireFXBone                = PRIMARY FIREFX
    ; End
    ; AliasConditionState = REALLYDAMAGED MOVING BETWEEN_FIRING_SHOTS_A ;Very long shot delay -- possibly moving


    ; ;*** UNPACKING STATE  -- preparing to fire ***
    ; ConditionState    = UNPACKING
      ; Animation       = NVTopolm.NVTopolm
      ; AnimationMode   = MANUAL
      ; HideSubObject   = WeaponA01
    ; End
    ; AliasConditionState = UNPACKING BETWEEN_FIRING_SHOTS_A ;Very long shot delay
    ; ;***
    ; ConditionState    = REALLYDAMAGED UNPACKING
      ; Model           = NVTopolm_D
      ; Animation       = NVTopolm_D.NVTopolm_D
      ; AnimationMode   = MANUAL
      ; HideSubObject   = WeaponA01
    ; End
    ; AliasConditionState = REALLYDAMAGED UNPACKING BETWEEN_FIRING_SHOTS_A ;Very long shot delay

    ; ;*** PACKING STATE -- preparing to move ***
    ; ConditionState    = PACKING
      ; Animation       = NVTopolm.NVTopolm
      ; AnimationMode   = MANUAL
      ; HideSubObject   = WeaponA01
    ; End

    ; AliasConditionState = PACKING BETWEEN_FIRING_SHOTS_A ;Very long shot delay
    ; ;***
    ; ConditionState    = REALLYDAMAGED PACKING
      ; Model           = NVTopolm_D
      ; Animation       = NVTopolm_D.NVTopolm_D
      ; AnimationMode   = MANUAL
      ; HideSubObject   = WeaponA01
    ; End
    ; AliasConditionState = REALLYDAMAGED PACKING BETWEEN_FIRING_SHOTS_A ;Very long shot delay

    ; ;*** DEPLOYED STATE -- ready to fire ***
    ; ConditionState  = DEPLOYED
      ; Model           = NVTopolm
      ; Animation       = NVTopolm.NVTopolm
      ; AnimationMode   = ONCE
      ; Flags           = START_FRAME_LAST
      ; TransitionKey   = TRANS_FIRING_A
      ; WeaponLaunchBone = PRIMARY WeaponA
      ; WeaponHideShowBone = PRIMARY WeaponA01
      ; ShowSubObject   = WeaponA01
      ; HideSubObject   = FAKE
      ; ParticleSysBone = STEAM01 TopolTubeSteam
      ; ParticleSysBone = STEAM02 TopolTubeSteam
    ; End
    ; AliasConditionState = DEPLOYED FIRING_A
    ; AliasConditionState = DEPLOYED BETWEEN_FIRING_SHOTS_A
    ; AliasConditionState = DEPLOYED MOVING
    ; AliasConditionState = DEPLOYED RELOADING_A


    ; ConditionState  = DEPLOYED REALLYDAMAGED
      ; Model           = NVTopolm_D
      ; Animation       = NVTopolm_D.NVTopolm_D
      ; AnimationMode   = ONCE
      ; TransitionKey   = TRANS_FIRING_A
      ; WeaponLaunchBone = PRIMARY WeaponA
      ; WeaponHideShowBone = PRIMARY WeaponA01
      ; ShowSubObject   = WeaponA01
      ; HideSubObject   = FAKE
      ; ParticleSysBone = STEAM01 TopolTubeSteam
      ; ParticleSysBone = STEAM02 TopolTubeSteam
    ; End
    ; AliasConditionState = DEPLOYED REALLYDAMAGED FIRING_A
    ; AliasConditionState = DEPLOYED REALLYDAMAGED BETWEEN_FIRING_SHOTS_A
    ; AliasConditionState = DEPLOYED REALLYDAMAGED MOVING
    ; AliasConditionState = DEPLOYED REALLYDAMAGED RELOADING_A

    ; TrackMarks = EXTireTrack.tga

    ; Dust = ScudLauncherDust
    ; DirtSpray = RocketBuggyDirtSpray
    ; PowerslideSpray = RocketBuggyDirtPowerSlide

    ; ; These parameters are only used if the model has a separate suspension,
    ; ; and the locomotor has HasSuspension = Yes.
    ; LeftFrontTireBone = Tire01
    ; MidLeftMidTireBone = Tire07
    ; MidLeftRearTireBone = Tire05
    ; LeftRearTireBone = Tire03
    ; RightFrontTireBone = Tire02
    ; MidRightMidTireBone = Tire08
    ; MidRightRearTireBone = Tire06
    ; RightRearTireBone = Tire04

    ; TireRotationMultiplier = 0.2   ; this * speed = rotation.
    ; ;PowerslideRotationAddition = 0.0   ; This speed is added to the rotation speed when powersliding.

  ; End

  ; ; ***DESIGN parameters ***
  ; DisplayName      = OBJECT:RT-21
  ; Side = Boss
  ; EditorSorting   = VEHICLE
  ; TransportSlotCount = 0                 ;how many "slots" we take in a transport (0 == not transportable)

  ; WeaponSet
    ; Conditions = None
    ; Weapon = PRIMARY TopolMWeapon
  ; End
  ; ; WeaponSet
    ; ; Conditions = PLAYER_UPGRADE
    ; ; Weapon = PRIMARY TopolMWeaponUpgraded
  ; ; End

  ; ArmorSet
    ; Conditions      = None
    ; Armor           = Nuke_TankArmor
    ; DamageFX        = TankDamageFX
  ; End
  ; BuildCost       = 50000
  ; BuildTime       = 90.0          ;in seconds
  ; VisionRange     = 300
  ; ShroudClearingRange = 500
  ; Prerequisites
    ; Object = Boss_WarFactory
    ; Object = Boss_EnergyPlant
  ; End

  ; ExperienceValue = 50 50 100 150   ;Experience point value at each level
  ; ExperienceRequired = 0 100 200 400  ;Experience points needed to gain each level
  ; IsTrainable = Yes             ;Can gain experience
  ; CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  ; CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  ; CommandSet    = Boss_RussianVehicleTopolCommandSet

  ; ;MaxSimultaneousOfType = DeterminedBySuperweaponRestriction ; Normally unlimited, but can be selected by players in multiplayer games
  ; ;MaxSimultaneousLinkKey = Superweapon  ; Count all superweapons **AND THE GLA SCUD STORM REBUILD HOLE** as one "type" for MaxSimultaneousOfType

  ; ; *** AUDIO Parameters ***
  ; VoiceSelect           = NukeCannonVoiceSelect
  ; VoiceMove             = NukeCannonVoiceMove
  ; VoiceGuard            = NukeCannonVoiceMove
  ; VoiceAttack           = NukeCannonVoiceAttack
  ; SoundMoveStart        = NukeCannonMoveStart
  ; SoundMoveStartDamaged = NukeCannonMoveStart
  ; UnitSpecificSounds
    ; ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    ; VoiceCreate         = NukeCannonVoiceCreate
    ; TurretMoveStart     = NoSound
    ; TurretMoveLoop      = NukeCannonTurretMoveLoop
    ; VoiceEnter          = NukeCannonVoiceMove
    ; Deploy              = NukeCannonDeploy
    ; Undeploy            = NukeCannonUnDeploy
  ; End


  ; ; *** ENGINEERING Parameters ***
  ; RadarPriority = UNIT
  ; KindOf = PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS VEHICLE SCORE FS_SUPERWEAPON

  ; Body = ActiveBody ModuleTag_02
    ; MaxHealth       = 240.0
    ; InitialHealth   = 240.0

    ; ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    ; SubdualDamageCap = 1100
    ; SubdualDamageHealRate = 500
    ; SubdualDamageHealAmount = 50
  ; End

  ; Behavior = ProductionUpdate ModuleTag_24
    ; MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  ; End

  ; Behavior    = OCLSpecialPower ModuleTag_Laymines01
    ; SpecialPowerTemplate = SpecialAbilityLaymines
    ; OCL                  = OCL_AmericaBattleMines
  ; End

  ; Behavior = VeterancyGainCreate ModuleTag_03
    ; StartingLevel = VETERAN
    ; ScienceRequired = SCIENCE_ArtilleryTraining
  ; End

  ; Behavior = DeployStyleAIUpdate ModuleTag_04
     ; Turret
     ; TurretTurnRate        = 9999
     ; RecenterTime          = 1         ; how long to wait during idle before recentering
     ; ControlledWeaponSlots = PRIMARY
     ; NaturalTurretAngle    = 0
     ; InitiallyDisabled     = Yes
  ; End
    ; AutoAcquireEnemiesWhenIdle = No
    ; PackTime = 3333
    ; UnpackTime = 3333
    ; TurretsFunctionOnlyWhenDeployed = Yes
    ; TurretsMustCenterBeforePacking = Yes
    ; ManualDeployAnimations = Yes
  ; End
  ; Locomotor = SET_NORMAL TopolLocomotor
  ; Behavior = PhysicsBehavior ModuleTag_05
    ; Mass = 60.0
  ; End

  ; Behavior = TransitionDamageFX ModuleTag_08
    ; ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ; ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_ScudLauncherDamageTransition
  ; End

  ; ; Catch fire, and explode death
  ; Behavior = SlowDeathBehavior ModuleTag_09
    ; ProbabilityModifier = 50
    ; DestructionDelay = 2000
    ; DestructionDelayVariance = 300
    ; FX  = INITIAL  FX_CrusaderCatchFire
    ; OCL = FINAL    OCL_SCUDLauncherDeathEffect
    ; FX  = FINAL    FX_ScudLauncherExplosionOneFinal
  ; End

  ; Behavior = FlammableUpdate ModuleTag_21
    ; AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    ; AflameDamageAmount = 3       ; taking this much damage...
    ; AflameDamageDelay = 500       ; this often.
  ; End

  ; Behavior = CommandButtonHuntUpdate  ModuleTag_264 ; allows use of command button hunt script with this unit.
  ; End

  ; Geometry = BOX
  ; GeometryMajorRadius = 35.0
  ; GeometryMinorRadius = 10.0
  ; GeometryHeight = 30.0
  ; GeometryIsSmall = No
  ; Shadow = SHADOW_VOLUME
  ; ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length
; End


;------------------------------------------------------------------------------
Object Boss_RussiaVehicleBMP

  ; *** ART Parameters ***
  SelectPortrait         = TankRogue
  ButtonImage            = TankRogue
  
  UpgradeCameo1 = Upgrade_GLAScorpionRocket

  Draw = W3DTankDraw ModuleTag_01
    OkToChangeModelColor = Yes
    ConditionState = NONE
      Model = RU-BMP3
      Turret              = Turret01
      HideSubObject       = WeaponC01
      WeaponFireFXBone    = PRIMARY WeaponA
      WeaponLaunchBone    = PRIMARY WeaponA
      WeaponMuzzleFlash   = PRIMARY BARRELFX
      WeaponFireFXBone    = SECONDARY WeaponB
      WeaponLaunchBone    = SECONDARY WeaponB
      WeaponMuzzleFlash   = SECONDARY BARREL2FX
    End
    ConditionState       = REALLYDAMAGED RUBBLE
      Model = RU-BMP3_D
      Turret              = Turret01
      HideSubObject       = WeaponC01
      WeaponFireFXBone    = PRIMARY WeaponA
      WeaponLaunchBone    = PRIMARY WeaponA
      WeaponMuzzleFlash   = PRIMARY BARRELFX
      WeaponFireFXBone    = SECONDARY WeaponB
      WeaponLaunchBone    = SECONDARY WeaponB
      WeaponMuzzleFlash   = SECONDARY BARREL2FX
    End

    ConditionState = WEAPONSET_PLAYER_UPGRADE
      Model = RU-BMP3
      Turret              = Turret01
      ShowSubObject       = WeaponC01
      WeaponFireFXBone    = PRIMARY WeaponA
      WeaponLaunchBone    = PRIMARY WeaponA
      WeaponMuzzleFlash   = PRIMARY BARRELFX
      WeaponFireFXBone    = SECONDARY WeaponB
      WeaponLaunchBone    = SECONDARY WeaponB
      WeaponMuzzleFlash   = SECONDARY BARREL2FX
      WeaponFireFXBone    = TERTIARY WeaponC01
      WeaponLaunchBone    = TERTIARY WeaponC01
    End
    ConditionState       = REALLYDAMAGED RUBBLE WEAPONSET_PLAYER_UPGRADE
      Model = RU-BMP3_D
      Turret              = Turret01
      ShowSubObject       = WeaponC01
      WeaponFireFXBone    = PRIMARY WeaponA
      WeaponLaunchBone    = PRIMARY WeaponA
      WeaponMuzzleFlash   = PRIMARY BARRELFX
      WeaponFireFXBone    = SECONDARY WeaponB
      WeaponLaunchBone    = SECONDARY WeaponB
      WeaponMuzzleFlash   = SECONDARY BARREL2FX
      WeaponFireFXBone    = TERTIARY WeaponC01
      WeaponLaunchBone    = TERTIARY WeaponC01
    End

    TrackMarks              = EXTnkTrack.tga
    TreadAnimationRate      = 2.0  ; amount of tread texture to move per second

  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:BMP3
  Side = Boss
  EditorSorting   = VEHICLE
  TransportSlotCount = 3                 ;Just enough to fit into a Chinook.

  ; WeaponSet
    ; Conditions = None
    ; Weapon = PRIMARY  BMP3TankGun
    ; Weapon = SECONDARY BMP3_machinegun
  ; End

  ; WeaponSet
    ; Conditions = PLAYER_UPGRADE
    ; Weapon = PRIMARY BMP3TankGun
    ; Weapon = SECONDARY BMP3_machinegun
    ; Weapon = TERTIARY BTR-90RocketWeapon
  ; End
  
  WeaponSet
    Conditions = None 
    Weapon           = PRIMARY   BMP3Autocannon
    PreferredAgainst = PRIMARY   INFANTRY
    Weapon           = SECONDARY BMP3AntiTankGun
  End
  
  WeaponSet
    Conditions = HERO 
    Weapon           = PRIMARY   BMP3AutocannonHeroic
    PreferredAgainst = PRIMARY   INFANTRY
    Weapon           = SECONDARY HeroicBMP3AntiTankGun
  End

  ;Upgraded with rockets
  
  WeaponSet
    Conditions = PLAYER_UPGRADE 
    Weapon           = PRIMARY   BMP3Autocannon
    PreferredAgainst = PRIMARY   INFANTRY
    Weapon           = SECONDARY BMP3AntiTankGun
    Weapon           = TERTIARY  ScorpionMissileWeapon
  End

  WeaponSet
    Conditions = PLAYER_UPGRADE HERO 
    Weapon           = PRIMARY   BMP3AutocannonHeroic
    PreferredAgainst = PRIMARY   INFANTRY
    Weapon           = SECONDARY HeroicBMP3AntiTankGun
    Weapon           = TERTIARY  ScorpionMissileWeapon
  End
  
  ArmorSet
    Conditions      = None
    Armor           = LightVehicleArmor
    DamageFX        = TankDamageFX
  End

  BuildCost       = 1500
  BuildTime       = 8.5          ;in seconds    
  VisionRange     = 220           ;Needs to see farther and match it's weapon range -- else troop crawlers will get slaughtered against tanks!
  ShroudClearingRange = 200
  Prerequisites
    Object = Boss_WarFactory
  End
  ExperienceValue         = 85 85 150 250  ;Experience point value at each level
  ExperienceRequired      = 0 200 350 550   ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = RussianVehicleBMP3CommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = BMP2VoiceSelect
  VoiceMove = BMP2VoiceMoving
  VoiceGuard = BMP2VoiceGuard
  VoiceAttack = BMP2VoiceAttack
  SoundMoveStart = TroopCrawlerMoveStart
  SoundMoveStartDamaged = TroopCrawlerMoveStart
  SoundEnter = HumveeEnter
  SoundExit = HumveeExit
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate     = BMP2VoiceCreate
    TurretMoveStart = NoSound
    TurretMoveLoop = TurretMoveLoop
    TruckLandingSound = NoSound ;RocketBuggyLand
    TruckPowerslideSound = NoSound ;RocketBuggyPowerslide
    VoiceCrush = BMP2VoiceAttack
    VoiceUnload   = BMP2VoiceEvac
    VoiceEnter = BMP2VoiceMoving
  End


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = SALVAGER PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS TRANSPORT VEHICLE SCORE ATTACK_NEEDS_LINE_OF_SIGHT
  
  Body = ActiveBody ModuleTag_02
    MaxHealth       = 700
    InitialHealth   = 700

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 480
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      TurretTurnRate = 180   ; turn rate, in degrees per sec
      ControlledWeaponSlots = PRIMARY SECONDARY TERTIARY
    End
    AutoAcquireEnemiesWhenIdle = Yes
  End

  Locomotor = SET_NORMAL BMP3Locomotor
  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 50.0
  End

;Upgrades----------------------------------------------------------
; Behavior = MaxHealthUpgrade Upgrade_Armor
    ; TriggeredBy   = Upgrade_Reflection
    ; AddMaxHealth  = 125
    ; ChangeType    = ADD_CURRENT_HEALTH_TOO
  ; End
  ; Behavior = WeaponSetUpgrade Upgrade_02
    ; TriggeredBy = Upgrade_BTR90MP
  ; End
;Deaths-------------------------------------------------------------
Behavior = SlowDeathBehavior DeathTag_01
    ;DeathTypes = ALL -CRUSHED -SPLATTED -POISONED -POISONED_BETA -EXTRA_8
	DeathTypes = ALL -CRUSHED -SPLATTED -POISONED -POISONED_BETA
    ProbabilityModifier  = 50
    DestructionDelay  = 500
    DestructionDelayVariance  = 100
    OCL = INITIAL  OCL_TankPreBlowUpForce
    FX  = INITIAL  FX_GenericTankDeathEffect
    OCL = MIDPOINT OCL_GenericTankDeathEffect
    FX  = FINAL    FX_GenericTankDeathExplosion
    OCL = FINAL    OCL_KHRDebris
  End
    Behavior = SlowDeathBehavior DeathTag_02
    ;DeathTypes = ALL -CRUSHED -SPLATTED -POISONED -POISONED_BETA -EXTRA_8
	DeathTypes = ALL -CRUSHED -SPLATTED -POISONED -POISONED_BETA
    ProbabilityModifier  = 50
    DestructionDelay  = 3000
    DestructionDelayVariance  = 300
    FX  = INITIAL  FX_CrusaderCatchFire
    FX = MIDPOINT FX_TankMidpointBlowup
    OCL = FINAL    OCL_KHRDebris
    FX  = FINAL    FX_BattleMasterExplosionOneFinal
  End
    ; A crushing defeat
  Behavior = DestroyDie DeathTag_03
    DeathTypes = NONE +CRUSHED +SPLATTED
  End
  Behavior = FXListDie DeathTag_04
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  Behavior = CreateObjectDie DeathTag_05
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_KHRDebris
  End
  ;Radiation
  ; Behavior = SlowDeathBehavior DeathTag_06
    ; DeathTypes = NONE +EXTRA_8
    ; FX  = INITIAL FX_VehicleRadiationDeath
    ; SinkRate = 2.5
    ; SinkDelay = 6000
    ; DestructionDelay = 14000
  ; End
;Poison
  Behavior = SlowDeathBehavior DeathTag_07
    DeathTypes = NONE +POISONED
    FX  = INITIAL FX_VehiclePoisonDeath
    SinkRate = 2.5
    SinkDelay = 6000
    DestructionDelay = 14000
  End
;PoisonBeta
    Behavior = SlowDeathBehavior DeathTag_08
    DeathTypes = NONE +POISONED_BETA
    FX  = INITIAL FX_VehiclePoisonBetaDeath
    SinkRate = 2.5
    SinkDelay = 6000
    DestructionDelay = 14000
  End
;Stealth-------------------------------------------------------------
;---------------------------------------------------------------------
  Behavior = TransportContain ModuleTag_05
    PassengersAllowedToFire = Yes
    Slots                 = 6
	;InitialPayload        = Boss_RussiaInfantryConscript 6
    ScatterNearbyOnExit   = Yes
    HealthRegen%PerSec    = 10
    DamagePercentToUnits  = 0% ;30%
    AllowInsideKindOf     = INFANTRY
    ;ExitDelay         = 500
    NumberOfExitPaths = 2 ; Defaults to 1.  Set 0 to not use ExitStart/ExitEnd, set higher than 1 to use ExitStart01-nn/ExitEnd01-nn
    GoAggressiveOnExit = Yes ; AI Will tell people to set their mood to Aggressive on exiting
    WeaponBonusPassedToPassengers = Yes
  End

  Behavior = WeaponSetUpgrade ModuleTag_Upgrade01
    TriggeredBy = Upgrade_GLAScorpionRocket
  End

  Behavior                 = TransitionDamageFX ModuleTag_06
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_NukeCannonDamageTransition
  End

  ; Behavior = CreateCrateDie ModuleTag_07
    ; CrateData = SalvageCrateData
    ; ;CrateData = EliteTankCrateData
    ; ;CrateData = HeroicTankCrateData
  ; End

  Behavior = FlammableUpdate ModuleTag_08
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

   ; Behavior = WeaponBonusUpgrade ModuleTag_GarrisonBonuses01
     ; TriggeredBy = Upgrade_RUSSIA Upgrade_USA Upgrade_CHINA Upgrade_GLA
   ; End

  Behavior = StealthUpdate ModuleStealth_GPSScramblerGenericStealthModule
    StealthDelay                = 2000 ; msec
    InnateStealth               = Yes
    StealthForbiddenConditions  = ATTACKING USING_ABILITY
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
    RequiredStatus = REASSIGN_PARKING
  End

  Geometry = BOX
  GeometryMajorRadius = 14.0
  GeometryMinorRadius = 9.0
  GeometryHeight = 12.0     
  GeometryIsSmall = No
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length    
  ;Scale = 1.07 ;BMP-3
End

;------------------------------------------------------------------------------
Object Boss_SovietVehicleBRDM

  ; *** ART Parameters ***
  SelectPortrait         = SNRaider_L
  ButtonImage            = SNRaider
  
  Draw = W3DTruckDraw ModuleTag_01

    OkToChangeModelColor = Yes

    ConditionState = NONE
      Model = RVBRDM
      Turret = TURRET
      WeaponFireFXBone  = SECONDARY WeaponA
      WeaponLaunchBone  = SECONDARY WeaponA
      WeaponMuzzleFlash = SECONDARY WeaponAMuzzle
    End
    
    ConditionState = REALLYDAMAGED
      Model = RVBRDM_D
      Turret = TURRET
      WeaponFireFXBone  = SECONDARY WeaponA
      WeaponLaunchBone  = SECONDARY WeaponA
      WeaponMuzzleFlash = SECONDARY WeaponAMuzzle
    End
    
    ConditionState = RUBBLE
      Model = RVBRDM_D
      Turret = TURRET
      WeaponFireFXBone  = SECONDARY WeaponA
      WeaponLaunchBone  = SECONDARY WeaponA
      WeaponMuzzleFlash = SECONDARY WeaponAMuzzle
    End

    TrackMarks = EXTireTrack.tga

    Dust                        = RocketBuggyDust
    DirtSpray                   = RocketBuggyDirtSpray
    PowerslideSpray             = RocketBuggyDirtPowerSlide

    ; These parameters are only used if the model has a separate suspension, 
    ; and the locomotor has HasSuspension = Yes.
    LeftFrontTireBone           = Tire01
    RightFrontTireBone          = Tire02
    LeftRearTireBone            = Tire03
    RightRearTireBone           = Tire04
    TireRotationMultiplier      = 0.2   ; this * speed = rotation.
  End
  
  Draw = W3DModelDraw ModuleMod_OverWater
    DefaultConditionState
      Model = NVTCrawler_W
    End
    AliasConditionState  = MOVING
    ConditionState       = OVER_WATER
      ParticleSysBone    = TreadFX01 AmphibWaveRest
      ParticleSysBone    = TreadFX02 AmphibWaveRest
    End   
    ConditionState       = OVER_WATER MOVING
      ParticleSysBone    = TreadFX01 AmphibWave
      ParticleSysBone    = TreadFX02 AmphibWave
    End
  End
  
  Draw = W3DModelDraw ModuleTag_ParachutePlate01
  
    DefaultConditionState
      Model             = NONE
    End
    AliasConditionState = REALLYDAMAGED
    AliasConditionState = RUBBLE
  
    ConditionState = FREEFALL
      Model             = EXParaPlate
    End
    AliasConditionState = FREEFALL REALLYDAMAGED
    AliasConditionState = FREEFALL RUBBLE
    AliasConditionState = PARACHUTING
    AliasConditionState = PARACHUTING REALLYDAMAGED
    AliasConditionState = PARACHUTING RUBBLE
    
  End

  Draw = W3DModelDraw ModuleMod_ExitBones
  
    DefaultConditionState
      Model = RVBMP3_B
    End
    
  End
  
  ; ***DESIGN parameters ***
  DisplayName           = OBJECT:BRDM
  Side                  = Boss
  EditorSorting         = VEHICLE
  TransportSlotCount    = 3                 ;how many "slots" we take in a transport (0 == not transportable)

  WeaponSet
    Conditions = None 
    Weapon            = PRIMARY   HumveeGun
    AutoChooseSources = PRIMARY   FROM_PLAYER FROM_AI FROM_SCRIPT
    Weapon            = SECONDARY BRDMMissileLauncher
	AutoChooseSources = SECONDARY FROM_PLAYER FROM_AI FROM_SCRIPT
  End

  ArmorSet
    Conditions        = None
    Armor             = TruckArmor
    DamageFX          = TankDamageFX
  End
  
  BuildCost       = 200
  BuildTime       = 10.0          ;in seconds    
  VisionRange     = 200
  ShroudClearingRange = 200
  
  ExperienceValue    = 50 50 100 150   ;Experience point value at each level
  ExperienceRequired = 0 100 200 400   ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  
  CommandSet      = RussianVehicleBRDMCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect    = BRDMVoiceSelect
  VoiceMove      = BRDMVoiceMove
  VoiceGuard     = BRDMVoiceMove
  VoiceAttack    = BRDMVoiceAttack
  SoundMoveStart        = BRDMMoveStart
  SoundMoveStartDamaged = BRDMMoveStart
  SoundEnter = HumveeEnter
  SoundExit  = HumveeExit

  UnitSpecificSounds
    VoiceCrush  = BRDMVoiceMove
    VoiceEnter  = BRDMVoiceMove
  End


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE TRANSPORT

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 300.0
    InitialHealth   = 300.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 600
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End
  
  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      TurretTurnRate = 180
      RecenterTime = 5000   ; how long to wait during idle before recentering
      MinIdleScanAngle      = 10
      MaxIdleScanAngle      = 40
      MinIdleScanInterval   = 5000
      MaxIdleScanInterval   = 10000
      ControlledWeaponSlots = PRIMARY SECONDARY TERTIARY
    End
    TurretsLinked = Yes
    AutoAcquireEnemiesWhenIdle = Yes
    MoodAttackCheckRate        = 250
  End
  Locomotor = SET_NORMAL BRDMLocomotor TroopCrawlerWaterLocomotor

  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 50.0
  End

  Behavior = TransportContain  ModuleTag_05
    PassengersAllowedToFire = Yes
    Slots                = 4
	;InitialPayload       = Boss_RussiaInfantryConscript 4
    EnterSound           = GarrisonEnter
    ExitSound            = GarrisonExit
    DamagePercentToUnits = 0%
    AllowInsideKindOf    = INFANTRY
    ExitDelay            = 250
    NumberOfExitPaths    = 3
    GoAggressiveOnExit   = Yes ; AI Will tell people to set their mood to Aggressive on exiting
  End
  
  Behavior = SlowDeathBehavior ModuleTag_11
    DeathTypes = ALL -CRUSHED -SPLATTED
    DestructionDelay = 1
    FX  = FINAL    FX_BattleMasterExplosionOneFinal
    OCL = FINAL    OCL_FinalBrdmDebris
  End

  Behavior = DestroyDie ModuleTag_12
    DeathTypes = NONE +CRUSHED +SPLATTED
  End

  Behavior = FXListDie ModuleTag_13
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End

  Behavior = TransitionDamageFX ModuleTag_17
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End
  
  Behavior = StealthUpdate ModuleTag_GPSStealth01
    StealthDelay                = 2000 ; msec
    StealthForbiddenConditions  = FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
    InnateStealth               = Yes
    RequiredStatus              = REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
  End
  
  ;This module ensures that emerging infantry from a destroyed transport have a very short time where they cannot be targeted
  Behavior = FireWeaponWhenDeadBehavior ModuleTag_InvulWhenDestroye01
    DeathWeapon   = InfantryEmergingFromTransportInvulnerabilityObjectTriggerWeapon
    StartsActive  = Yes
  End

  Geometry = BOX
  GeometryMajorRadius = 15.5
  GeometryMinorRadius = 8.5
  GeometryHeight = 11.5     
  GeometryIsSmall = Yes 
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object Boss_RussiaVehicleBMD1

  ; *** ART Parameters ***
  SelectPortrait         = Manticore
  ButtonImage            = Manticore
  
  Draw = W3DTankDraw ModuleTag_01
    OkToChangeModelColor = Yes
    MaxRecoilDistance    = 3
    RecoilSettleSpeed    = 4

    ConditionState = NONE
      Model = RVBMD1
      Turret = TURRET_DUM
      TurretPitch = TURRETEL01
      HideSubObject = TURRETUP BARRELMG01 LIGHT01
      WeaponRecoilBone    = SECONDARY Barrel
      WeaponMuzzleFlash   = SECONDARY MuzzleFX
      WeaponFireFXBone    = SECONDARY Muzzle
      WeaponLaunchBone    = SECONDARY Muzzle
    End

    ConditionState = REALLYDAMAGED
      Model = RVBMD1_D
      Turret = TURRET_DUM
      TurretPitch = TURRETEL01
      HideSubObject = TURRETUP BARRELMG01 LIGHT01
      WeaponRecoilBone    = SECONDARY Barrel
      WeaponMuzzleFlash   = SECONDARY MuzzleFX
      WeaponFireFXBone    = SECONDARY Muzzle
      WeaponLaunchBone    = SECONDARY Muzzle
    End
    AliasConditionState = RUBBLE

    ;Mortar Turret
    ConditionState = WEAPONSET_PLAYER_UPGRADE
      Model = RVBMD1
      HideSubObject = TURRET TURRETUP TURRETEL01 BARRELMG01 LIGHT01
    End

    ConditionState = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
      Model = RVBMD1_D
      HideSubObject = TURRET TURRETUP TURRETEL01 BARRELMG01 LIGHT01
    End
    AliasConditionState = WEAPONSET_PLAYER_UPGRADE RUBBLE
    
    
    TrackMarks             = EXTnkTrack.tga
    TreadAnimationRate      = 2.0  ;  amount of tread texture to move per second
    TreadDriveSpeedFraction = 0.3  ; fraction of locomotor speed below which treads stop moving.
    TreadPivotSpeedFraction = 0.6  ; fraction of locomotor speed below which we allow pivoting.
  End
  
  Draw = W3DModelDraw ModuleTag_MachineGunBarrel01
  
    MaxRecoilDistance    = 0.5
    RecoilSettleSpeed    = 6

    ConditionState = NONE
      Model = RVBMD1
      Turret = TURRET_DUM
      TurretPitch = TURRETEL02
      HideSubObject = CHASSIS TURRET TURRETUP TURRETEL01
      WeaponMuzzleFlash = SECONDARY MuzzleMGFX
    End

    ConditionState        = USING_WEAPON_A
      Model = RVBMD1
      Turret = TURRET_DUM
      TurretPitch = TURRETEL02
      HideSubObject = CHASSIS TURRET TURRETUP TURRETEL01
      WeaponRecoilBone    = PRIMARY BarrelMG
      WeaponMuzzleFlash   = PRIMARY MuzzleMGFX
      WeaponFireFXBone    = PRIMARY MuzzleMG
      WeaponLaunchBone    = PRIMARY MuzzleMG
    End

    ConditionState = REALLYDAMAGED
      Model = RVBMD1_D
      Turret = TURRET_DUM
      TurretPitch = TURRETEL02
      HideSubObject = CHASSIS TURRET TURRETUP TURRETEL01
      WeaponMuzzleFlash   = SECONDARY MuzzleMGFX
    End
    AliasConditionState = RUBBLE

    ConditionState = REALLYDAMAGED USING_WEAPON_A
      Model = RVBMD1_D
      Turret = TURRET_DUM
      TurretPitch = TURRETEL02
      HideSubObject = CHASSIS TURRET TURRETUP TURRETEL01
      WeaponRecoilBone    = PRIMARY BarrelMG
      WeaponMuzzleFlash   = PRIMARY MuzzleMGFX
      WeaponFireFXBone    = PRIMARY MuzzleMG
      WeaponLaunchBone    = PRIMARY MuzzleMG
    End

    ;Mortar Turret
    ConditionState = WEAPONSET_PLAYER_UPGRADE
      Model = NONE
    End
    AliasConditionState = WEAPONSET_PLAYER_UPGRADE USING_WEAPON_A
    AliasConditionState = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
    AliasConditionState = WEAPONSET_PLAYER_UPGRADE USING_WEAPON_A REALLYDAMAGED
    AliasConditionState = WEAPONSET_PLAYER_UPGRADE RUBBLE

  End
  
  ; Draw = W3DModelDraw ModuleTag_MortarTurret01
  
    ; OkToChangeModelColor = Yes
    ; MaxRecoilDistance    = 3
    ; RecoilSettleSpeed    = 4

    ; ConditionState = NONE
      ; Model = NVDeva_U2
    ; End
    ; AliasConditionState = ATTACKING
    ; AliasConditionState = ATTACKING REALLYDAMAGED
    ; AliasConditionState = REALLYDAMAGED
    ; AliasConditionState = RUBBLE
    ; AliasConditionState = NIGHT
    ; AliasConditionState = NIGHT ATTACKING
    ; AliasConditionState = NIGHT ATTACKING REALLYDAMAGED
    ; AliasConditionState = NIGHT REALLYDAMAGED
    ; AliasConditionState = NIGHT RUBBLE
    ; AliasConditionState = SNOW
    ; AliasConditionState = SNOW ATTACKING
    ; AliasConditionState = SNOW ATTACKING REALLYDAMAGED
    ; AliasConditionState = SNOW REALLYDAMAGED
    ; AliasConditionState = SNOW RUBBLE
    ; AliasConditionState = SNOW NIGHT
    ; AliasConditionState = SNOW NIGHT ATTACKING
    ; AliasConditionState = SNOW NIGHT ATTACKING REALLYDAMAGED
    ; AliasConditionState = SNOW NIGHT REALLYDAMAGED
    ; AliasConditionState = SNOW NIGHT RUBBLE
    
    ; ;Mortar Turret
    ; ConditionState = WEAPONSET_PLAYER_UPGRADE
      ; Model = RVBMD1
      ; Animation = RVBMD1.RVBMD1
      ; AnimationMode = ONCE_BACKWARDS
      ; Flags = START_FRAME_FIRST
      ; TransitionKey = TRANS_MORTAR_NORMAL
      ; Turret = TURRETUP
      ; TurretPitch = TURRETUPEL
      ; HideSubObject = CHASSIS TURRET TURRETEL01 BARRELMG01 LIGHT01
      ; WeaponRecoilBone  = PRIMARY BarrelUp
      ; WeaponFireFXBone  = PRIMARY MuzzleUp
      ; WeaponLaunchBone  = PRIMARY MuzzleUp
    ; End
    ; AliasConditionState = WEAPONSET_PLAYER_UPGRADE NIGHT
    ; AliasConditionState = WEAPONSET_PLAYER_UPGRADE SNOW
    ; AliasConditionState = WEAPONSET_PLAYER_UPGRADE SNOW NIGHT
    
    ; TransitionState = TRANS_MORTAR_NORMAL TRANS_MORTAR_FIRING
      ; Model = RVBMD1
      ; Animation = RVBMD1.RVBMD1
      ; AnimationMode = ONCE
      ; Flags = MAINTAIN_FRAME_ACROSS_STATES
      ; Turret = TURRETUP
      ; TurretPitch = TURRETUPEL
      ; HideSubObject = CHASSIS TURRET TURRETEL01 BARRELMG01 LIGHT01
      ; WeaponRecoilBone  = PRIMARY BarrelUp
      ; WeaponFireFXBone  = PRIMARY MuzzleUp
      ; WeaponLaunchBone  = PRIMARY MuzzleUp
    ; End
    
    ; ConditionState = WEAPONSET_PLAYER_UPGRADE ATTACKING
      ; Model = RVBMD1
      ; Animation = RVBMD1.RVBMD1
      ; AnimationMode = ONCE
      ; Flags = START_FRAME_LAST
      ; TransitionKey = TRANS_MORTAR_FIRING
      ; Turret = TURRETUP
      ; TurretPitch = TURRETUPEL
      ; HideSubObject = CHASSIS TURRET TURRETEL01 BARRELMG01 LIGHT01
      ; WeaponRecoilBone = PRIMARY BarrelUp
      ; WeaponFireFXBone = PRIMARY MuzzleUp
      ; WeaponLaunchBone = PRIMARY MuzzleUp
    ; End
    ; AliasConditionState = WEAPONSET_PLAYER_UPGRADE ATTACKING NIGHT
    ; AliasConditionState = WEAPONSET_PLAYER_UPGRADE ATTACKING SNOW
    ; AliasConditionState = WEAPONSET_PLAYER_UPGRADE ATTACKING SNOW NIGHT
    
    ; TransitionState = TRANS_MORTAR_FIRING TRANS_MORTAR_NORMAL
      ; Model = RVBMD1
      ; Animation = RVBMD1.RVBMD1
      ; AnimationMode = ONCE_BACKWARDS
      ; Flags = MAINTAIN_FRAME_ACROSS_STATES
      ; Turret = TURRETUP
      ; TurretPitch = TURRETUPEL
      ; HideSubObject = CHASSIS TURRET TURRETEL01 BARRELMG01 LIGHT01
      ; WeaponRecoilBone  = PRIMARY BarrelUp
      ; WeaponFireFXBone  = PRIMARY MuzzleUp
      ; WeaponLaunchBone  = PRIMARY MuzzleUp
    ; End

    ; ;Damaged Conditions

    ; ConditionState = REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE
      ; Model = RVBMD1
      ; Animation = RVBMD1.RVBMD1
      ; AnimationMode = ONCE_BACKWARDS
      ; Flags = START_FRAME_FIRST
      ; TransitionKey = TRANS_DAMAGED_MORTAR_NORMAL
      ; Turret = TURRETUP
      ; TurretPitch = TURRETUPEL
      ; HideSubObject = CHASSIS TURRET TURRETEL01 BARRELMG01 LIGHT01
      ; WeaponRecoilBone  = PRIMARY BarrelUp
      ; WeaponFireFXBone  = PRIMARY MuzzleUp
      ; WeaponLaunchBone  = PRIMARY MuzzleUp
    ; End
    ; AliasConditionState = REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE NIGHT
    ; AliasConditionState = REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE SNOW
    ; AliasConditionState = REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE SNOW NIGHT
    
    ; TransitionState = TRANS_DAMAGED_MORTAR_NORMAL TRANS_DAMAGED_MORTAR_FIRING
      ; Model = RVBMD1
      ; Animation = RVBMD1.RVBMD1
      ; AnimationMode = ONCE
      ; Flags = MAINTAIN_FRAME_ACROSS_STATES
      ; Turret = TURRETUP
      ; TurretPitch = TURRETUPEL
      ; HideSubObject = CHASSIS TURRET TURRETEL01 BARRELMG01 LIGHT01
      ; WeaponRecoilBone  = PRIMARY BarrelUp
      ; WeaponFireFXBone  = PRIMARY MuzzleUp
      ; WeaponLaunchBone  = PRIMARY MuzzleUp
    ; End
    
    ; ConditionState = REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE ATTACKING
      ; Model = RVBMD1
      ; Animation = RVBMD1.RVBMD1
      ; AnimationMode = ONCE
      ; Flags = START_FRAME_LAST
      ; TransitionKey = TRANS_DAMAGED_MORTAR_FIRING
      ; Turret = TURRETUP
      ; TurretPitch = TURRETUPEL
      ; HideSubObject = CHASSIS TURRET TURRETEL01 BARRELMG01 LIGHT01
      ; WeaponRecoilBone = PRIMARY BarrelUp
      ; WeaponFireFXBone = PRIMARY MuzzleUp
      ; WeaponLaunchBone = PRIMARY MuzzleUp
    ; End
    ; AliasConditionState = REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE ATTACKING NIGHT
    ; AliasConditionState = REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE ATTACKING SNOW
    ; AliasConditionState = REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE ATTACKING SNOW NIGHT
    
    ; TransitionState = TRANS_DAMAGED_MORTAR_FIRING TRANS_DAMAGED_MORTAR_NORMAL
      ; Model = RVBMD1
      ; Animation = RVBMD1.RVBMD1
      ; AnimationMode = ONCE_BACKWARDS
      ; Flags = MAINTAIN_FRAME_ACROSS_STATES
      ; Turret = TURRETUP
      ; TurretPitch = TURRETUPEL
      ; HideSubObject = CHASSIS TURRET TURRETEL01 BARRELMG01 LIGHT01
      ; WeaponRecoilBone  = PRIMARY BarrelUp
      ; WeaponFireFXBone  = PRIMARY MuzzleUp
      ; WeaponLaunchBone  = PRIMARY MuzzleUp
    ; End

  ; End
  
  Draw = W3DModelDraw ModuleTag_TurretLights01
    
    OkToChangeModelColor = Yes
    
    DefaultConditionState
      Model = NONE
    End
    AliasConditionState = REALLYDAMAGED
    AliasConditionState = RUBBLE
    AliasConditionState = NIGHT RUBBLE
    AliasConditionState = WEAPONSET_PLAYER_UPGRADE
    AliasConditionState = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
    AliasConditionState = WEAPONSET_PLAYER_UPGRADE RUBBLE
    AliasConditionState = WEAPONSET_PLAYER_UPGRADE NIGHT
    AliasConditionState = WEAPONSET_PLAYER_UPGRADE NIGHT REALLYDAMAGED
    AliasConditionState = WEAPONSET_PLAYER_UPGRADE NIGHT RUBBLE
    
    ConditionState = NIGHT
      Model = RVBMD1
      Turret = TURRET_DUM
      HideSubObject = CHASSIS TURRET TURRETUP TURRETEL01 BARRELMG01
    End
    AliasConditionState = NIGHT REALLYDAMAGED
    
  End
  
  Draw = W3DModelDraw ModuleMod_OverWater
    DefaultConditionState
      Model = NVTCrawler_W
    End
    AliasConditionState  = MOVING
    ConditionState       = OVER_WATER
      ParticleSysBone    = TreadFX01 AmphibWaveRest
      ParticleSysBone    = TreadFX02 AmphibWaveRest
    End   
    ConditionState       = OVER_WATER MOVING
      ParticleSysBone    = TreadFX01 AmphibWave
      ParticleSysBone    = TreadFX02 AmphibWave
    End
  End
  
  Draw = W3DModelDraw ModuleTag_ParachutePlate01
  
    DefaultConditionState
      Model             = NONE
    End
    AliasConditionState = REALLYDAMAGED
    AliasConditionState = RUBBLE
  
    ConditionState = FREEFALL
      Model             = RVParaPlate
    End
    AliasConditionState = FREEFALL REALLYDAMAGED
    AliasConditionState = FREEFALL RUBBLE
    AliasConditionState = PARACHUTING
    AliasConditionState = PARACHUTING REALLYDAMAGED
    AliasConditionState = PARACHUTING RUBBLE
    
  End

  Draw = W3DModelDraw ModuleMod_ExitBones
  
    DefaultConditionState
      Model = RVBMP3_B
    End
    
  End
  
  ; ***DESIGN parameters ***
  DisplayName           = OBJECT:BMD1
  Side                  = Boss
  EditorSorting         = VEHICLE
  TransportSlotCount    = 3                 ;how many "slots" we take in a transport (0 == not transportable)

  WeaponSet
    Conditions = None 
    Weapon           = PRIMARY   BMDMachineGunWeapon
    PreferredAgainst = PRIMARY   INFANTRY
    Weapon           = SECONDARY BMP3AntiTankGun
  End
  
  WeaponSet
    Conditions = HERO 
    Weapon           = PRIMARY   BMDMachineGunWeaponHeroic
    PreferredAgainst = PRIMARY   INFANTRY
    Weapon           = SECONDARY HeroicBMP3AntiTankGun
  End

  ArmorSet
    Conditions        = None
    Armor             = TankArmor
    DamageFX          = TankDamageFX
  End
  
  BuildCost       = 400
  BuildTime       = 9.0          ;in seconds    
  VisionRange     = 200
  ShroudClearingRange = 200
  
  Prerequisites
    Object = Boss_SmallFactory
  End
  
  ExperienceValue    = 50 50  100 150  ;Experience point value at each level
  ExperienceRequired = 0  100 200 300  ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  
  CommandSet      = RussianVehicleBMD1CommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect    = BMDVoiceSelect
  VoiceMove      = BMDVoiceMove
  VoiceGuard     = BMDVoiceMove
  VoiceAttack    = BMDVoiceAttack
  SoundMoveStart        = BMP3MoveStart
  SoundMoveStartDamaged = BMP3MoveStart
  SoundEnter = HumveeEnter
  SoundExit  = HumveeExit

  UnitSpecificSounds
    VoiceCreate = BMDVoiceCreate
    VoiceCrush  = BMDVoiceMove
    VoiceUnload = BMDVoiceUnload
    VoiceEnter  = BMDVoiceMove
  End


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE TRANSPORT

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 300.0
    InitialHealth   = 300.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 600
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End
  
  Behavior = TransportAIUpdate ModuleTag_03
    Turret
      TurretTurnRate        = 180
      TurretPitchRate       = 70
      NaturalTurretPitch    = 5
      MinPhysicalPitch      = -10
      AllowsPitch           = Yes
      RecenterTime          = 5000   ; how long to wait during idle before recentering
      MinIdleScanAngle      = 10
      MaxIdleScanAngle      = 40
      MinIdleScanInterval   = 5000
      MaxIdleScanInterval   = 10000
      ControlledWeaponSlots = PRIMARY SECONDARY TERTIARY
    End
    AutoAcquireEnemiesWhenIdle = Yes
    MoodAttackCheckRate        = 250
  End
  
  Locomotor = SET_NORMAL BMD4Locomotor TroopCrawlerWaterLocomotor

  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 50.0
  End

  Behavior = TransportContain  ModuleTag_05
    Slots                = 5
	;InitialPayload       = Boss_RussiaInfantryVDVParaTrooper 5
    EnterSound           = GarrisonEnter
    ExitSound            = GarrisonExit
    DamagePercentToUnits = 0%
    AllowInsideKindOf    = INFANTRY
    ExitDelay            = 250
    NumberOfExitPaths    = 3
    GoAggressiveOnExit   = Yes ; AI Will tell people to set their mood to Aggressive on exiting
  End
    
  Behavior = ProductionUpdate ModuleTag_Production01
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End
  
  Behavior = SlowDeathBehavior ModuleTag_11
    DeathTypes = ALL -CRUSHED -SPLATTED
    DestructionDelay = 1
    FX  = FINAL    FX_BattleMasterExplosionOneFinal
    OCL = FINAL    OCL_FinalBMD1Debris
  End

  Behavior = DestroyDie ModuleTag_12
    DeathTypes = NONE +CRUSHED +SPLATTED
  End

  Behavior = FXListDie ModuleTag_13
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End

  Behavior = TransitionDamageFX ModuleTag_17
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End
  
  Behavior = StealthUpdate ModuleTag_GPSStealth01
    StealthDelay                = 2000 ; msec
    StealthForbiddenConditions  = FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
    InnateStealth               = Yes
    RequiredStatus              = REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
  End
  
  ;This module ensures that emerging infantry from a destroyed transport have a very short time where they cannot be targeted
  Behavior = FireWeaponWhenDeadBehavior ModuleTag_InvulWhenDestroye01
    DeathWeapon   = InfantryEmergingFromTransportInvulnerabilityObjectTriggerWeapon
    StartsActive  = Yes
  End
  
  Geometry = BOX
  GeometryMajorRadius = 15.5
  GeometryMinorRadius = 8.5
  GeometryHeight = 11.5
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length
End

;------------------------------------------------------------------------------
Object Boss_RussiaVehicleMSTA

  ; *** ART Parameters ***
  SelectPortrait         = RadInfr
  ButtonImage            = RadInfr
  
  ;UpgradeCameo1 = Upgrade_RussiaKoalitionGunSystem
  
  Draw                    = W3DTankDraw ModuleTag_01
    OkToChangeModelColor  = Yes
    
    DefaultConditionState
      Model               = RVMSTAS
      Turret              = Turret
      TurretPitch         = TurretEL
      HideSubObject       = TurretB ChassisPart03
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponLaunchBone    = PRIMARY Muzzle
      WeaponRecoilBone    = SECONDARY Barrel
      WeaponMuzzleFlash   = SECONDARY MuzzleFX
      WeaponFireFXBone    = SECONDARY Muzzle
      WeaponLaunchBone    = SECONDARY Muzzle
      WeaponRecoilBone    = TERTIARY Barrel_Alt
      WeaponMuzzleFlash   = TERTIARY MuzzleFXA
      WeaponFireFXBone    = TERTIARY Muzzle
      WeaponLaunchBone    = TERTIARY Muzzle
    End
    
    ConditionState        = REALLYDAMAGED
      Model               = RVMSTAS_D
    End
    AliasConditionState = RUBBLE
    
    
    ;With Koalition System Upgrade
    ConditionState        = WEAPONSET_PLAYER_UPGRADE
      Model               = RVMSTAS
      TurretPitch         = TurretELB
      HideSubObject       = TurretA ChassisPart02
      ShowSubObject       = TurretB ChassisPart03
      WeaponFireFXBone    = PRIMARY MuzzleB
      WeaponLaunchBone    = PRIMARY MuzzleB
      WeaponRecoilBone    = SECONDARY BarrelB
      WeaponMuzzleFlash   = SECONDARY MuzzleFXB
      WeaponFireFXBone    = SECONDARY MuzzleB
      WeaponLaunchBone    = SECONDARY MuzzleB
      WeaponRecoilBone    = TERTIARY BarrelB_Alt
      WeaponMuzzleFlash   = TERTIARY MuzzleFXAB
      WeaponFireFXBone    = TERTIARY MuzzleB
      WeaponLaunchBone    = TERTIARY MuzzleB
    End
    
    ConditionState        = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
      Model               = RVMSTAS_D
      TurretPitch         = TurretELB
      HideSubObject       = TurretA ChassisPart02
      ShowSubObject       = TurretB ChassisPart03
      WeaponFireFXBone    = PRIMARY MuzzleB
      WeaponLaunchBone    = PRIMARY MuzzleB
      WeaponRecoilBone    = SECONDARY BarrelB
      WeaponMuzzleFlash   = SECONDARY MuzzleFXB
      WeaponFireFXBone    = SECONDARY MuzzleB
      WeaponLaunchBone    = SECONDARY MuzzleB
      WeaponRecoilBone    = TERTIARY BarrelB_Alt
      WeaponMuzzleFlash   = TERTIARY MuzzleFXAB
      WeaponFireFXBone    = TERTIARY MuzzleB
      WeaponLaunchBone    = TERTIARY MuzzleB
    End
    AliasConditionState = WEAPONSET_PLAYER_UPGRADE RUBBLE
    
    TrackMarks           = EXTnkTrack.tga
    TreadAnimationRate   = 2.0  ; amount of tread texture to move per second
  End

  ; ***DESIGN parameters ***
  DisplayName        = OBJECT:MSTAS
  Side               = Boss
  EditorSorting      = VEHICLE
  TransportSlotCount = 5                 ;how many "slots" we take in a transport (0 == not transportable)
  
  WeaponSet
    Conditions        = None 
    Weapon            = PRIMARY   MSTASArtilleryGun
    AutoChooseSources = PRIMARY   NONE
    Weapon            = SECONDARY MSTASArtilleryGun
    Weapon            = TERTIARY  MSTASArtilleryGunAreaBombardment
    AutoChooseSources = TERTIARY  NONE
    ShareWeaponReloadTime = Yes
    WeaponLockSharedAcrossSets = Yes
  End
  
  ArmorSet
    Conditions      = None
    Armor           = TankArmor
    DamageFX        = TankDamageFX
  End
  
  BuildCost          = 8000
  BuildTime          = 18.0          ;in seconds    
  VisionRange        = 300
  ShroudClearingRange = 200
  
  Prerequisites
    Object = Boss_WarFactory Boss_SmallFactory
    ;Object = Boss_TechCentr
  End

  ExperienceValue    = 50 50 100 150   ;Experience point value at each level
  ExperienceRequired = 0 200 400 800   ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet      = Boss_RussianVehicleMstaCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect       = MSTASVoiceSelect
  VoiceMove         = MSTASVoiceMove
  VoiceGuard        = MSTASVoiceMove
  VoiceAttack       = MSTASVoiceAttack
  SoundMoveStart        = MSTAMoveStart
  SoundMoveStartDamaged = MSTAMoveStart
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate     = MSTASVoiceCreate
    VoiceCrush      = MSTASVoiceMove
    VoiceEnter      = MSTASVoiceMove
    VoicePrimaryWeaponMode   = MSTASVoicePrecisionFireMode
    VoiceSecondaryWeaponMode = MSTASVoicePrecisionFireMode
    VoiceTertiaryWeaponMode  = MSTASVoiceScatterFireMode
  End


  ; *** ENGINEERING Parameters ***
  RadarPriority     = UNIT
  KindOf            = PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS VEHICLE SCORE
  
  Body              = ActiveBody ModuleTag_02
    MaxHealth       = 700.0
    InitialHealth   = 700.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 400
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

  Behavior = AIUpdateInterface ModuleTag_04
    Turret
      TurretTurnRate = 100
      TurretPitchRate = 70
      AllowsPitch = Yes
      FirePitch = 60
      NaturalTurretPitch = 5.5 
      ControlledWeaponSlots = PRIMARY SECONDARY TERTIARY
    End    
    AutoAcquireEnemiesWhenIdle = No NotWhileAttacking
  End
  Locomotor = SET_NORMAL MSTALocomotor
  
  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 50.0
  End

  ; A crushing defeat
  Behavior               = FXListDie ModuleTag_06
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX         = FX_CarCrush
  End
  
  Behavior               = CreateObjectDie ModuleTag_07
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList    = OCL_CrusaderTank_CrushEffect
  End
  
  Behavior = SlowDeathBehavior ModuleTag_08
    DeathTypes = ALL -CRUSHED -SPLATTED
    DestructionDelay = 2000
    DestructionDelayVariance = 300
    FX  = INITIAL  FX_CrusaderCatchFire  
    FX  = FINAL    FX_GenericTankDeathExplosion 
    OCL = FINAL    OCL_MSTASDeathEffect
  End

  Behavior                 = TransitionDamageFX ModuleTag_09
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
    ReallyDamagedFXList1 = Loc: X:-7 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End
  
  ; Behavior = WeaponSetUpgrade ModuleTag_Koalition01
    ; TriggeredBy = Upgrade_RussiaKoalitionGunSystem
  ; End

  ; Behavior = WeaponBonusUpgrade ModuleTag_Koalition02
    ; TriggeredBy = Upgrade_RussiaKoalitionGunSystem
  ; End  

  Behavior = DestroyDie ModuleTag_22
    DeathTypes = NONE +CRUSHED +SPLATTED
  End
  
  Behavior = StealthUpdate ModuleTag_GPSStealth01
    StealthDelay                = 2000 ; msec
    StealthForbiddenConditions  = FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
    InnateStealth               = Yes
    RequiredStatus              = REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
  End
  
  Behavior = LockWeaponCreate ModuleTag_WeaponLock01
    SlotToLock = SECONDARY
  End

  Geometry            = BOX
  GeometryMajorRadius = 18.0
  GeometryMinorRadius = 9.0
  GeometryHeight      = 15.0     
  GeometryIsSmall     = Yes
  Shadow              = SHADOW_VOLUME 
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length   
  Scale = 1.05
End


;------------------------------------------------------------------------------
Object Boss_SovietVehicleShilka

  ; *** ART Parameters ***
  SelectPortrait         = SUQuadCannon_L
  ButtonImage            = SUQuadCannon
  
  Draw                      = W3DTankDraw ModuleTag_01
  
    OkToChangeModelColor = Yes
    MaxRecoilDistance    = 1
    RecoilSettleSpeed    = 6
    
    ConditionState        = NONE
      Model               = RVShilka
      Animation           = RVShilka.RVShilka
      AnimationMode       = LOOP
      Flags               = MAINTAIN_FRAME_ACROSS_STATES
      AnimationSpeedFactorRange = 2.3 2.3
      Turret              = TURRET
      TurretPitch         = TURRETEL
      WeaponRecoilBone    = TERTIARY Barrel
      WeaponMuzzleFlash   = TERTIARY MuzzleFX
    End

    ConditionState        = USING_WEAPON_A
      Model               = RVShilka
      Animation           = RVShilka.RVShilka
      AnimationMode       = LOOP
      Flags               = MAINTAIN_FRAME_ACROSS_STATES
      AnimationSpeedFactorRange = 2.3 2.3
      Turret              = TURRET
      TurretPitch         = TURRETEL
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponLaunchBone    = PRIMARY Muzzle
      WeaponRecoilBone    = PRIMARY Barrel
    End

    ConditionState        = USING_WEAPON_B
      Model               = RVShilka
      Animation           = RVShilka.RVShilka
      AnimationMode       = LOOP
      Flags               = MAINTAIN_FRAME_ACROSS_STATES
      AnimationSpeedFactorRange = 2.3 2.3
      Turret              = TURRET
      TurretPitch         = TURRETEL
      WeaponMuzzleFlash   = SECONDARY MuzzleFX
      WeaponFireFXBone    = SECONDARY Muzzle
      WeaponLaunchBone    = SECONDARY Muzzle
      WeaponRecoilBone    = SECONDARY Barrel
    End

    ConditionState        = REALLYDAMAGED
      Model               = RVShilka_D
      Animation           = RVShilka_D.RVShilka_D
      AnimationMode       = LOOP
      Flags               = MAINTAIN_FRAME_ACROSS_STATES
      AnimationSpeedFactorRange = 2.3 2.3
      Turret              = TURRET
      TurretPitch         = TURRETEL
      WeaponRecoilBone    = TERTIARY Barrel
      WeaponMuzzleFlash   = TERTIARY MuzzleFX
    End
    AliasConditionState = RUBBLE

    ConditionState        = REALLYDAMAGED USING_WEAPON_A
      Model               = RVShilka_D
      Animation           = RVShilka_D.RVShilka_D
      AnimationMode       = LOOP
      Flags               = MAINTAIN_FRAME_ACROSS_STATES
      AnimationSpeedFactorRange = 2.3 2.3
      Turret              = TURRET
      TurretPitch         = TURRETEL
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponLaunchBone    = PRIMARY Muzzle
      WeaponRecoilBone    = PRIMARY Barrel
    End

    ConditionState        = REALLYDAMAGED USING_WEAPON_B 
      Model               = RVShilka_D
      Animation           = RVShilka_D.RVShilka_D
      AnimationMode       = LOOP
      Flags               = MAINTAIN_FRAME_ACROSS_STATES
      AnimationSpeedFactorRange = 2.3 2.3
      Turret              = TURRET
      TurretPitch         = TURRETEL
      WeaponMuzzleFlash   = SECONDARY MuzzleFX
      WeaponFireFXBone    = SECONDARY Muzzle
      WeaponLaunchBone    = SECONDARY Muzzle
      WeaponRecoilBone    = SECONDARY Barrel
    End

    TrackMarks              = EXTnkTrack.tga
    TreadAnimationRate      = 2.0  ; amount of tread texture to move per second
    TreadDriveSpeedFraction = 0.3  ; fraction of locomotor speed below which treads stop moving.
    TreadPivotSpeedFraction = 0.6  ; fraction of locomotor speed below which we allow pivoting.
  End

  ; ***DESIGN parameters ***
  DisplayName               = OBJECT:Shilka
  Side                      = Boss
  EditorSorting             = VEHICLE
  TransportSlotCount        = 3            ;how many "slots" we take in a transport (0 == not transportable)

  WeaponSet
    Conditions        = None
    Weapon            = PRIMARY ShilkaMachineGunAntiGround
    PreferredAgainst  = PRIMARY INFANTRY VEHICLE STRUCTURE
    AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
    Weapon            = SECONDARY ShilkaMachineGunAntiAir
    PreferredAgainst  = SECONDARY AIRCRAFT
    AutoChooseSources = SECONDARY FROM_PLAYER FROM_SCRIPT FROM_AI
  End
  
  ; WeaponSet
    ; Conditions              = HERO
    ; Weapon                  = PRIMARY   ShilkaAutoCannonHeroic
    ; PreferredAgainst        = PRIMARY   STRUCTURE
    ; AutoChooseSources       = PRIMARY   FROM_PLAYER FROM_SCRIPT FROM_AI
    
    ; Weapon                  = SECONDARY ShilkaAutoCannonAir
    ; AutoChooseSources       = SECONDARY FROM_PLAYER FROM_SCRIPT FROM_AI
  ; End

  ArmorSet
    Conditions    = None
    Armor         = QuadCannonArmor
    DamageFX      = TankDamageFX
  End
  
  BuildCost       = 800
  BuildTime       = 15.0          ;in seconds    
  VisionRange     = 250
  ShroudClearingRange = 300
  
  Prerequisites
    Object        = Boss_WarFactory Boss_SmallFactory
  End

  ExperienceValue    = 50 50 100 150   ;Experience point value at each level
  ExperienceRequired = 0 80 200 300    ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet      = SovietVehicleShilkaCommandSet


  ; *** AUDIO Parameters ***
  VoiceSelect     = QuadCannonVoiceSelect
  VoiceMove       = QuadCannonVoiceMove
  VoiceGuard      = QuadCannonVoiceMove
  VoiceAttack     = QuadCannonVoiceAttack
  VoiceAttackAir  = QuadCannonVoiceAttackAir
  SoundMoveStart        = ScorpionTankMoveStart
  SoundMoveStartDamaged = ScorpionTankMoveStart

  UnitSpecificSounds
	VoiceCreate     = QuadCannonVoiceCreate
    VoiceCrush      = QuadCannonVoiceCrush
    VoiceEnter      = QuadCannonVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority     = UNIT
  KindOf            = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE
  
  Body              = ActiveBody ModuleTag_02
    MaxHealth       = 400.0
    InitialHealth   = 400.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 600
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End
  
  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      ControlledWeaponSlots = PRIMARY SECONDARY
      TurretTurnRate      = 180   // turn rate, in degrees per sec
      TurretPitchRate     = 180
      NaturalTurretPitch  = 15
      AllowsPitch         = Yes
      FiresWhileTurning   = Yes
      MinIdleScanAngle      = 10
      MaxIdleScanAngle      = 40
      MinIdleScanInterval   = 5000
      MaxIdleScanInterval   = 10000
    End
    AutoAcquireEnemiesWhenIdle = Yes
    MoodAttackCheckRate        = 250
  End
  Locomotor       = SET_NORMAL GattlingTankLocomotor

  Behavior          = PhysicsBehavior ModuleTag_04
    Mass            = 40.0
  End

  ; Just explode death
  Behavior = SlowDeathBehavior ModuleTag_05
    DestructionDelay = 1
    SinkRate = 0.5     ; in Dist/Sec
    OCL = FINAL    OCL_RussiaShilkaDebris
    FX  = FINAL    FX_BattleMasterExplosionOneFinal
  End

  Behavior = TransitionDamageFX ModuleTag_07
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End
  
  ; A crushing defeat
  Behavior = FXListDie ModuleTag_08
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  
  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End
  
  Behavior = DestroyDie ModuleTag_10
    DeathTypes = NONE +CRUSHED +SPLATTED
  End
  
  ; Behavior = StealthUpdate ModuleTag_GPSStealth01
    ; StealthDelay                = 2000 ; msec
    ; StealthForbiddenConditions  = FIRING_PRIMARY FIRING_SECONDARY RIDERS_ATTACKING
    ; InnateStealth               = Yes
    ; RequiredStatus              = REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
    ; OrderIdleEnemiesToAttackMeUponReveal  = Yes
  ; End

  Geometry            = BOX
  GeometryMajorRadius = 16.0
  GeometryMinorRadius = 8.5
  GeometryHeight      = 15.0     
  GeometryIsSmall     = Yes
  Shadow              = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length    

End

;------------------------------------------------------------------------------
Object Boss_RussiaVehicleBMD4

  ; *** ART Parameters ***
  SelectPortrait         = SUScorpion_L
  ButtonImage            = SUScorpion
  
  Draw = W3DTankDraw ModuleTag_01
    OkToChangeModelColor = Yes
    MaxRecoilDistance    = 4
    RecoilSettleSpeed    = 6

    ConditionState = NONE
      Model = RVBMD4
      Turret = TURRET_DUM
      TurretPitch = TURRETEL01
      HideSubObject = SPRTTRRT SPRTBRL01 BARRELMG01 LIGHT01 LIGHT02 LIGHT03
      WeaponRecoilBone    = SECONDARY Barrel
      WeaponMuzzleFlash   = SECONDARY MuzzleFX
      WeaponFireFXBone    = SECONDARY Muzzle
      WeaponLaunchBone    = SECONDARY Muzzle
    End
    AliasConditionState = FIRING_A

    ConditionState = REALLYDAMAGED
      Model = RVBMD4_D
      Turret = TURRET_DUM
      TurretPitch = TURRETEL01
      HideSubObject = SPRTTRRT SPRTBRL01 BARRELMG01 LIGHT01 LIGHT02 LIGHT03
      WeaponRecoilBone    = SECONDARY Barrel
      WeaponMuzzleFlash   = SECONDARY MuzzleFX
      WeaponFireFXBone    = SECONDARY Muzzle
      WeaponLaunchBone    = SECONDARY Muzzle
    End
    AliasConditionState = FIRING_A REALLYDAMAGED
    AliasConditionState = RUBBLE
    
    ;Sprut Tank Destroyer
    ConditionState = WEAPONSET_PLAYER_UPGRADE
      Model = RVBMD4
      Animation = RVBMD4.RVBMD4
      AnimationMode = ONCE
      Flags = START_FRAME_LAST
      Turret = TURRET_DUM
      TurretPitch = SPRTTRRTEL
      ShowSubObject = SPRTTRRT SPRTBRL01
      HideSubObject = TURRET HOUSECOLOR02 BARREL01 BARRELMG01 LIGHT01 LIGHT02 LIGHT03
      WeaponRecoilBone    = PRIMARY None
      WeaponMuzzleFlash   = PRIMARY None
      WeaponFireFXBone    = PRIMARY SprtMzl
      WeaponLaunchBone    = PRIMARY SprtMzl
      WaitForStateToFinishIfPossible = TRANS_FIRING_A
    End
    
    ConditionState = FIRING_A WEAPONSET_PLAYER_UPGRADE
      Model = RVBMD4
      Animation = RVBMD4.RVBMD4
      AnimationMode = ONCE
      Flags = START_FRAME_FIRST
      TransitionKey = TRANS_FIRING_A
      Turret = TURRET_DUM
      TurretPitch = SPRTTRRTEL
      ShowSubObject = SPRTTRRT SPRTBRL01
      HideSubObject = TURRET HOUSECOLOR02 BARREL01 BARRELMG01 LIGHT01 LIGHT02 LIGHT03
      WeaponRecoilBone    = PRIMARY None
      WeaponMuzzleFlash   = PRIMARY None
      WeaponFireFXBone    = PRIMARY SprtMzl
      WeaponLaunchBone    = PRIMARY SprtMzl
    End

    ConditionState = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
      Model = RVBMD4_D
      Animation = RVBMD4_D.RVBMD4_D
      AnimationMode = ONCE
      Flags = START_FRAME_LAST
      Turret = TURRET_DUM
      TurretPitch = SPRTTRRTEL
      ShowSubObject = SPRTTRRT SPRTBRL01
      HideSubObject = TURRET HOUSECOLOR02 BARREL01 BARRELMG01 LIGHT01 LIGHT02 LIGHT03
      WeaponRecoilBone    = PRIMARY None
      WeaponMuzzleFlash   = PRIMARY None
      WeaponFireFXBone    = PRIMARY SprtMzl
      WeaponLaunchBone    = PRIMARY SprtMzl
      WaitForStateToFinishIfPossible = TRANS_FIRING_DAMAGED_A
    End
    AliasConditionState = WEAPONSET_PLAYER_UPGRADE RUBBLE
    
    ConditionState = FIRING_A WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
      Model = RVBMD4_D
      Animation = RVBMD4_D.RVBMD4_D
      AnimationMode = ONCE
      Flags = START_FRAME_FIRST
      TransitionKey = TRANS_FIRING_DAMAGED_A
      Turret = TURRET_DUM
      TurretPitch = SPRTTRRTEL
      ShowSubObject = SPRTTRRT SPRTBRL01
      HideSubObject = TURRET HOUSECOLOR02 BARREL01 BARRELMG01 LIGHT01 LIGHT02 LIGHT03
      WeaponRecoilBone    = PRIMARY None
      WeaponMuzzleFlash   = PRIMARY None
      WeaponFireFXBone    = PRIMARY SprtMzl
      WeaponLaunchBone    = PRIMARY SprtMzl
    End

    TrackMarks             = EXTnkTrack.tga
    TreadAnimationRate      = 2.0  ;  amount of tread texture to move per second
    TreadDriveSpeedFraction = 0.3  ; fraction of locomotor speed below which treads stop moving.
    TreadPivotSpeedFraction = 0.6  ; fraction of locomotor speed below which we allow pivoting.
  End
  
  Draw = W3DModelDraw ModuleTag_AutoCannonBarrel01
  
    MaxRecoilDistance    = 1
    RecoilSettleSpeed    = 6

    ConditionState = NONE
      Model = RVBMD4
      Turret = TURRET_DUM
      TurretPitch = TURRETEL02
      HideSubObject = CHASSIS TURRET SPRTTRRT LIGHT01 LIGHT02 LIGHT03 HOUSECOLOR02 BARREL01 SPRTBRL01
      WeaponMuzzleFlash = SECONDARY MuzzleMGFX
    End

    ConditionState = USING_WEAPON_A
      Model = RVBMD4
      Turret = TURRET_DUM
      TurretPitch = TURRETEL02
      HideSubObject = CHASSIS TURRET SPRTTRRT LIGHT01 LIGHT02 LIGHT03 HOUSECOLOR02 BARREL01 SPRTBRL01
      WeaponRecoilBone    = PRIMARY BarrelMG
      WeaponMuzzleFlash   = PRIMARY MuzzleMGFX
      WeaponFireFXBone    = PRIMARY MuzzleMG
      WeaponLaunchBone    = PRIMARY MuzzleMG
    End

    ConditionState = REALLYDAMAGED
      Model = RVBMD4_D
      Turret = TURRET_DUM
      TurretPitch = TURRETEL02
      HideSubObject = CHASSIS TURRET SPRTTRRT LIGHT01 LIGHT02 LIGHT03 HOUSECOLOR02 BARREL01 SPRTBRL01
      WeaponMuzzleFlash   = SECONDARY MuzzleMGFX
    End
    AliasConditionState = RUBBLE

    ConditionState = REALLYDAMAGED USING_WEAPON_A
      Model = RVBMD4_D
      Turret = TURRET_DUM
      TurretPitch = TURRETEL02
      HideSubObject = CHASSIS TURRET SPRTTRRT LIGHT01 LIGHT02 LIGHT03 HOUSECOLOR02 BARREL01 SPRTBRL01
      WeaponRecoilBone    = PRIMARY BarrelMG
      WeaponMuzzleFlash   = PRIMARY MuzzleMGFX
      WeaponFireFXBone    = PRIMARY MuzzleMG
      WeaponLaunchBone    = PRIMARY MuzzleMG
    End
    
    ;Sprut Tank Destroyer
    ConditionState = WEAPONSET_PLAYER_UPGRADE
      Model = NONE
    End
    AliasConditionState = WEAPONSET_PLAYER_UPGRADE USING_WEAPON_A
    AliasConditionState = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
    AliasConditionState = WEAPONSET_PLAYER_UPGRADE RUBBLE
    AliasConditionState = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED USING_WEAPON_A

  End
  
  Draw = W3DModelDraw ModuleTag_TurretLights01
    
    OkToChangeModelColor = Yes
    
    DefaultConditionState
      Model = NONE
    End
    AliasConditionState = REALLYDAMAGED
    AliasConditionState = RUBBLE
    AliasConditionState = NIGHT RUBBLE
    AliasConditionState = WEAPONSET_PLAYER_UPGRADE
    AliasConditionState = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
    AliasConditionState = WEAPONSET_PLAYER_UPGRADE RUBBLE
    AliasConditionState = WEAPONSET_PLAYER_UPGRADE NIGHT RUBBLE
    
    ConditionState = NIGHT
      Model = RVBMD4
      Turret = TURRET_DUM
      HideSubObject = CHASSIS TURRET SPRTTRRT HOUSECOLOR02 BARREL01 BARRELMG01 SPRTTRRT SPRTBRL01 LIGHT03
    End
    AliasConditionState = NIGHT REALLYDAMAGED
    
    ;Sprut Tank Destroyer
    ConditionState = WEAPONSET_PLAYER_UPGRADE NIGHT
      Model = RVBMD4
      Turret = TURRET_DUM
      ShowSubObject = LIGHT03
      HideSubObject = CHASSIS TURRET SPRTTRRT HOUSECOLOR02 BARREL01 BARRELMG01 SPRTTRRT SPRTBRL01 LIGHT02
    End
    AliasConditionState = WEAPONSET_PLAYER_UPGRADE NIGHT REALLYDAMAGED
    
  End
  
  Draw = W3DModelDraw ModuleMod_OverWater
    DefaultConditionState
      Model = NVTCrawler_W
    End
    AliasConditionState  = MOVING
    ConditionState       = OVER_WATER
      ParticleSysBone    = TreadFX01 AmphibWaveRest
      ParticleSysBone    = TreadFX02 AmphibWaveRest
    End   
    ConditionState       = OVER_WATER MOVING
      ParticleSysBone    = TreadFX01 AmphibWave
      ParticleSysBone    = TreadFX02 AmphibWave
    End
  End
  
  Draw = W3DModelDraw ModuleTag_ParachutePlate01
  
    DefaultConditionState
      Model             = NONE
    End
    AliasConditionState = REALLYDAMAGED
    AliasConditionState = RUBBLE
  
    ConditionState = FREEFALL
      Model             = RVParaPlate
    End
    AliasConditionState = FREEFALL REALLYDAMAGED
    AliasConditionState = FREEFALL RUBBLE
    AliasConditionState = PARACHUTING
    AliasConditionState = PARACHUTING REALLYDAMAGED
    AliasConditionState = PARACHUTING RUBBLE
    
  End

  Draw = W3DModelDraw ModuleMod_ExitBones01
  
    DefaultConditionState
      Model = RVBMP3_B
    End
    
  End
  
  ; ***DESIGN parameters ***
  DisplayName           = OBJECT:BMD4
  Side                  = Boss
  EditorSorting         = VEHICLE
  TransportSlotCount    = 3                 ;how many "slots" we take in a transport (0 == not transportable)

  WeaponSet
    Conditions = None 
    Weapon           = PRIMARY   BMP3Autocannon
    PreferredAgainst = PRIMARY   INFANTRY
    Weapon           = SECONDARY BMP3AntiTankGun
  End
  
  WeaponSet
    Conditions = HERO 
    Weapon           = PRIMARY   BMP3AutocannonHeroic
    PreferredAgainst = PRIMARY   INFANTRY
    Weapon           = SECONDARY HeroicBMP3AntiTankGun
  End

  ArmorSet
    Conditions        = None
    Armor             = TankArmor
    DamageFX          = TankDamageFX
  End
  
  BuildCost       = 1700
  BuildTime       = 9.0          ;in seconds    
  VisionRange     = 200
  ShroudClearingRange = 200
  
  Prerequisites
    Object = Boss_WarFactory
  End
  
  ExperienceValue    = 50 50  100 150  ;Experience point value at each level
  ExperienceRequired = 0  100 200 300  ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  
  CommandSet      = RussianVehicleBMD4CommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect    = BMDVoiceSelect
  VoiceMove      = BMDVoiceMove
  VoiceGuard     = BMDVoiceMove
  VoiceAttack    = BMDVoiceAttack
  SoundMoveStart        = BMP3MoveStart
  SoundMoveStartDamaged = BMP3MoveStart
  SoundEnter = HumveeEnter
  SoundExit  = HumveeExit

  UnitSpecificSounds
    VoiceCreate = BMDVoiceCreate
    VoiceCrush  = BMDVoiceMove
    VoiceUnload = BMDVoiceUnload
    VoiceEnter  = BMDVoiceMove
  End


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE TRANSPORT

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 300.0
    InitialHealth   = 300.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 600
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End
  
  Behavior = TransportAIUpdate ModuleTag_03
    Turret
      TurretTurnRate        = 180
      TurretPitchRate       = 70
      NaturalTurretPitch    = 5
      MinPhysicalPitch      = -10
      AllowsPitch           = Yes
      RecenterTime          = 5000   ; how long to wait during idle before recentering
      MinIdleScanAngle      = 10
      MaxIdleScanAngle      = 40
      MinIdleScanInterval   = 5000
      MaxIdleScanInterval   = 10000
      ControlledWeaponSlots = PRIMARY SECONDARY TERTIARY
    End
    AutoAcquireEnemiesWhenIdle = Yes
    MoodAttackCheckRate        = 250
  End
  
  Locomotor = SET_NORMAL BMD4Locomotor TroopCrawlerWaterLocomotor

  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 50.0
  End

  Behavior = TransportContain  ModuleTag_05
    Slots                = 5
	;InitialPayload       = Boss_RussiaInfantryVDVParaTrooper 5
    EnterSound           = GarrisonEnter
    ExitSound            = GarrisonExit
    DamagePercentToUnits = 0%
    AllowInsideKindOf    = INFANTRY
    ExitDelay            = 250
    NumberOfExitPaths    = 3
    GoAggressiveOnExit   = Yes ; AI Will tell people to set their mood to Aggressive on exiting
  End
    
  Behavior = ProductionUpdate ModuleTag_Production01
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End
  
  ; Behavior = WeaponSetUpgrade ModuleTag_SprutSD02
    ; TriggeredBy   = Upgrade_GLAWorkerWorthlessCommandSet
  ; End
  
  Behavior = SlowDeathBehavior ModuleTag_11
    DeathTypes = ALL -CRUSHED -SPLATTED
    DestructionDelay = 1
    FX  = FINAL    FX_BattleMasterExplosionOneFinal
    OCL = FINAL    OCL_FinalBMD4Debris
  End

  Behavior = DestroyDie ModuleTag_12
    DeathTypes = NONE +CRUSHED +SPLATTED
  End

  Behavior = FXListDie ModuleTag_13
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End

  Behavior = TransitionDamageFX ModuleTag_17
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End
  
  Behavior = StealthUpdate ModuleTag_GPSStealth01
    StealthDelay                = 2000 ; msec
    StealthForbiddenConditions  = FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
    InnateStealth               = Yes
    RequiredStatus              = REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
  End
  
  ;This module ensures that emerging infantry from a destroyed transport have a very short time where they cannot be targeted
  Behavior = FireWeaponWhenDeadBehavior ModuleTag_InvulWhenDestroye01
    DeathWeapon   = InfantryEmergingFromTransportInvulnerabilityObjectTriggerWeapon
    StartsActive  = Yes
  End

  Geometry = BOX
  GeometryMajorRadius = 15.5
  GeometryMinorRadius = 8.5
  GeometryHeight = 11.5
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;================================================================================================================================
Object Boss_RussiaCopterMi35

  ; *** ART Parameters ***

  SelectPortrait = Rapier
  ButtonImage    = Rapier

  UpgradeCameo1 = Upgrade_AmericaAdvancedTraining
  UpgradeCameo2 = Upgrade_AmericaCountermeasures
  UpgradeCameo3 = Upgrade_ComancheRocketPods

  Draw = W3DModelDraw ModuleTag_01

    DefaultConditionState
      Model            = UVMi-24S
      Animation        = UVMi-24S.UVMi-24S
      AnimationMode    = LOOP
   ;------------------------------------------
      Turret           = Chassis
      WeaponFireFXBone = PRIMARY   MISSILE
      WeaponLaunchBone = PRIMARY   MISSILE
      WeaponFireFXBone = SECONDARY WeaponA
      WeaponLaunchBone = SECONDARY WeaponA
   ;------------------------------------------
    End

    ConditionState = REALLYDAMAGED
      Model            = UVMi-24SD
      Animation        = UVMi-24SD.UVMi-24SD
      AnimationMode    = LOOP
   ;------------------------------------------
      Turret           = Chassis
      WeaponFireFXBone = PRIMARY   MISSILE
      WeaponLaunchBone = PRIMARY   MISSILE
      WeaponFireFXBone = SECONDARY WeaponA
      WeaponLaunchBone = SECONDARY WeaponA
   ;------------------------------------------
    End

    ConditionState = RUBBLE
      Model            = UVMi-24SD
      Animation        = UVMi-24SD.UVMi-24SD
      AnimationMode    = LOOP
   ;------------------------------------------
      Turret           = Chassis
      WeaponFireFXBone = PRIMARY   MISSILE
      WeaponLaunchBone = PRIMARY   MISSILE
      WeaponFireFXBone = SECONDARY WeaponA
      WeaponLaunchBone = SECONDARY WeaponA
   ;------------------------------------------
    End

    ConditionState = RUBBLE SPECIAL_DAMAGED
      Model = UVMi-24SD
    End

    OkToChangeModelColor = Yes
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Mi35
  EditorSorting       = VEHICLE
  Side                = Boss
  TransportSlotCount  = 0     ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange         = 450.0
  ShroudClearingRange = 400
;-------------------------------
  BuildCost = 15000
  BuildTime = 35.0
;-------------------------------
  Prerequisites
    Object = Boss_Airfield
  End
;--------------------------------------
  ExperienceValue    = 50 100 150 200 ;Experience point value at each level
  ExperienceRequired = 0 100 300 600  ;Experience points needed to gain each level
  IsTrainable        = Yes
;---------------------------------------------------------------------
  CommandSet = Boss_Mi24CommandSet
;=====================================================================
  WeaponSet
    Conditions = None
    Weapon            = PRIMARY   Mi24HindMissileWeapon           ;[ -: Damage = 45.0 /12  /DelayBetweenShots = 1200 /ClipReloadTime = 15000]
    AutoChooseSources = PRIMARY   FROM_PLAYER FROM_SCRIPT FROM_AI
    Weapon            = SECONDARY Mi24HindMissileWeaponAir        ;[ -: Damage = 40.0 /12  /DelayBetweenShots = 500 /ClipReloadTime = 15000]
    AutoChooseSources = SECONDARY FROM_PLAYER FROM_SCRIPT FROM_AI
    Weapon            = TERTIARY  Mi24HindMachineGunWeapon        ;[: Damage = 10.0 /AttackRange = 250.0 /WeaponSpeed = 999999.0 /DelayBetweenShots = 100]
    AutoChooseSources = TERTIARY  FROM_PLAYER FROM_SCRIPT FROM_AI
  End
;=====================================================================
  ArmorSet
    Conditions = None
    Armor      = BossMi24SpecOpsArmor
    DamageFX   = None
  End
  ArmorSet
    Conditions = PLAYER_UPGRADE
    Armor      = BossMi24SpecOpsArmorUpg
    DamageFX   = None
  End
;----------------------------------------------------------------------------------------------------------------------------

  ; *** AUDIO Parameters ***
 ;------------------------------------------------
  VoiceSelect        = BossMi24VoiceSelect       ;[   ]
  VoiceMove          = BossMi24VoiceMove         ;[   ]
  VoiceGuard         = BossMi24VoiceGuardMove    ;[     ]
  VoiceAttack        = BossMi24VoiceAttack       ;[    ]
 ;;VoiceAttackAir    = BossMi24VoiceAttack       ;[      -    ]
  SoundAmbient       = BossMi24AmbientLoop       ;[  ]
 ;------------------------------------------------
  SoundAmbientRubble = NoSound
  SoundEnter         = HumveeEnter
  SoundExit          = HumveeExit
 ;------------------------------------------------
  UnitSpecificSounds
    VoiceCreate      = BossMi24VoiceCreate       ;[ / ]
    VoiceUnload      = BossMi24VoiceUnload       ;[  ]
  ;-----------------------------------------------
   ;VoiceCrush         = ReaperVoiceMove  ;[???]
   ;VoiceEnter         = ReaperVoiceMove  ;[???]
   ;VoiceSupply        = ChinookVoiceSupply
   ;VoiceCombatDrop    = ChinookVoiceCombatDrop
   ;VoiceClearBuilding = RangerVoiceClearBuilding ;Special combat drop that clears buildings!
  End


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD CAN_ATTACK CAN_CAST_REFLECTIONS SELECTABLE VEHICLE TRANSPORT AIRCRAFT SCORE PRODUCED_AT_HELIPAD
 ;KindOf = PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE HUGE_VEHICLE TRANSPORT AIRCRAFT SCORE PRODUCED_AT_HELIPAD
;-----------------------------------
  Body = ActiveBody ModuleTag_03
    MaxHealth     = 450.0
    InitialHealth = 450.0
  End
  Behavior = ProductionUpdate ModuleTag_04
   ;MaxQueueEntries = 1 ;So you can't build multiple upgrades in the same frame
  End
  Behavior = FXListDie ModuleTag_05
    DeathFX = FX_HelicopterStartDeath
  End
  Behavior = TransitionDamageFX ModuleTag_06
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuousDown
    ReallyDamagedFXList1         = Loc: X:0 Y:0 Z:0 FXList:FX_ComancheDamageTransition
  End
;=========================================[  ]=====================
  Behavior = ChinookAIUpdate ModuleTag_07
     AutoAcquireEnemiesWhenIdle = Yes 
     RotorWashParticleSystem = HelixRotorWashRing
    Turret
      TurretTurnRate = 0      ; this "turret" does not turn
      TurretPitchRate = 0     ; nor does it pitch
      ControlledWeaponSlots = PRIMARY SECONDARY TERTIARY
    End
  End
;---------------------------------------------------------------------------
  Locomotor = SET_NORMAL   Mi24Locomotor
  Locomotor = SET_TAXIING  BasicHelicopterTaxiLocomotor
;---------------------------------------------------------------------------
  Behavior = PhysicsBehavior ModuleTag_09
    Mass = 50.0
  End
;=============================================================================================
  Behavior = HelicopterSlowDeathBehavior ModuleTag_10
    DeathTypes                      = ALL -LASERED
    DestructionDelay                = 99999999           ;the destruction delay
    SpiralOrbitTurnRate             = 80.0               ;in degrees per second, bigger # = tighter spiral
    SpiralOrbitForwardSpeed         = 110.0              ;bigger # = larger spiral
    SpiralOrbitForwardSpeedDamping  = .9999              ;smaller #'s = slow down faster
    MaxBraking                      = 210                ;max braking we can use during death spiral (lower num = wilder spiral)    
    SoundDeathLoop                  = HelixDamagedLoop
    MinSelfSpin                     = 40                 ;in degrees per second
    MaxSelfSpin                     = 120                ;in degrees per second
    SelfSpinUpdateDelay             = 300                ;in milliseconds
    SelfSpinUpdateAmount            = 5                  ;in degrees   
    FallHowFast                     = 8.0%               ;fraction of gravity, lower = take longer to fall
    MinBladeFlyOffDelay             = 1000               ;in milliseconds
    MaxBladeFlyOffDelay             = 1000               ;in milliseconds
    AttachParticle                  = SootySmokeTrail ;SootySmokeTrailNew
    AttachParticleBone              = ADDEDBONE1 ;Propeller02
    OCLBlade                        = OCL_HelicopterBladeExplosion 
    FXBlade                         = FX_HelicopterBladeExplosion
    FXHitGround                     = FX_HelicopterHitGround
    OCLHitGround                    = OCL_HelicopterHitGround
    FXFinalBlowUp                   = FX_GroundedHelicopterBlowUp
    DelayFromGroundToFinalDeath     = 30
    FinalRubbleObject               = MilitiaMi24HindRubbleHull
  End
;=============================================================================================
  Behavior = ExperienceScalarUpgrade ModuleTag_11
    TriggeredBy = Upgrade_AmericaAdvancedTraining
    AddXPScalar = 1.0 ;Increases experience gained by an additional 100%
  End
;=============================================================================================
  Behavior = ArmorUpgrade ModuleTag_Armor01
    TriggeredBy = Upgrade_AmericaCountermeasures
  End
;-----------------------------------------------------------
  Behavior = CountermeasuresBehavior ModuleTag_13
    TriggeredBy           = Upgrade_AmericaCountermeasures
    FlareTemplateName     = CountermeasureFlare
    FlareBoneBaseName     = Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
    VolleySize            = 2     ; Number of flares launched per volley (requires bones)
    VolleyArcAngle        = 60.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
    VolleyVelocityFactor  = 2.0   ; Shoots out flares at a stronger velocity with a higher value.
    DelayBetweenVolleys   = 1000  ; Time between flare volleys
    NumberOfVolleys       = 3     ; Number of times the volleys will fire before reloading
    ReloadTime            = 4000  ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
    EvasionRate           = 30%   ; With active flares, the specified percentage will be diverted.
    ReactionLaunchLatency = 0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
    MissileDecoyDelay     = 200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
  End
;----------------------------------------------------
  Behavior = FlammableUpdate ModuleTag_14
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3        ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End
;=============================================================================================================
  Behavior = TransportContain ModuleTag_BSOP
    Slots                = 8
    DamagePercentToUnits = 100%
    ;InitialPayload       = Boss_RussianSpecOps 8
    AllowInsideKindOf    = INFANTRY ;VEHICLE DOZER
    ForbidInsideKindOf   = AIRCRAFT ;HUGE_VEHICLE VEHICLE
    ExitDelay            = 100
    NumberOfExitPaths    = 1
    PassengersAllowedToFire = No ;<=====[  (  ) =   ]
  End
;=============================================================================================================
  Behavior = GrantUpgradeCreate ModuleTag_WSU1
    UpgradeToGrant = Upgrade_ComancheRocketPods
  End
;-----------------------------------------------
  Behavior = WeaponSetUpgrade ModuleTag_WSU2
    TriggeredBy = Upgrade_ComancheRocketPods
  End
;==================================================

  Geometry = BOX
  GeometryMajorRadius = 45.0 ;20.0 ;<========[]
  GeometryMinorRadius = 45.0 ;3.0  ;<========[]
  GeometryHeight      = 15.0 ;25.0 ;<========[]
  GeometryIsSmall = No
;;Shadow = SHADOW_VOLUME
;;ShadowSizeX = 89
  Scale = 1.03
End

;------------------------------------------------------------------------------
Object Boss_RussianSpecOps

  ; *** ART Parameters ***
  SelectPortrait         = SpecOps_L
  ButtonImage            = SpecOps

  UpgradeCameo1 = Upgrade_AmericaAdvancedTraining
  UpgradeCameo2 = Upgrade_AmericaChemicalSuits

  Draw = W3DModelDraw ModuleTag_01
  OkToChangeModelColor = Yes

    ; idle
    DefaultConditionState
      Model               = MAREIN_SKN
      IdleAnimation       = AIHERO_SKL.AIHERO_STA 0 25
      IdleAnimation       = AIHERO_SKL.AIHERO_IDA
      IdleAnimation       = AIHERO_SKL.AIHERO_IDB
      AnimationMode       = ONCE
      TransitionKey       = TRANS_Stand
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      WeaponMuzzleFlash   = SECONDARY NONE
      HideSubObject       = MUZZLEFX01
    End


    ; injured idle
    ConditionState        = REALLYDAMAGED
      IdleAnimation       = AIHERO_SKL.AIHERO_ISTA 0 30
      IdleAnimation       = AIHERO_SKL.AIHERO_IIDA
      IdleAnimation       = AIHERO_SKL.AIHERO_IIDB
      AnimationMode       = ONCE
      TransitionKey       = TRANS_StandInjured
    End


    TransitionState     = TRANS_Stand TRANS_StandInjured
      Animation         = AIHERO_SKL.AIHERO_ISTAHIT
      AnimationMode     = ONCE
    End

    ; moving
    ConditionState        = MOVING
      Animation           = AIHERO_SKL.AIHERO_RNA 26
      AnimationMode       = LOOP
      Flags               = RANDOMSTART
      TransitionKey       = TRANS_Walking
      ParticleSysBone     = None InfantryDustTrails
      HideSubObject       = MUZZLEFX01
    End
    AliasConditionState = MOVING FIRING_A
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_A
    AliasConditionState = MOVING RELOADING_A
    AliasConditionState = MOVING FIRING_B
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_B
    AliasConditionState = MOVING RELOADING_B

    ; injured moving
    ConditionState     = MOVING REALLYDAMAGED
      Animation        = AIHERO_SKL.AIHERO_IRNA 26
      AnimationMode    = LOOP
      Flags            = RANDOMSTART
      TransitionKey    = TRANS_WalkingInjured
      ParticleSysBone  = None InfantryDustTrails
      HideSubObject    = MUZZLEFX01
    End
    AliasConditionState = MOVING FIRING_A REALLYDAMAGED
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
    AliasConditionState = MOVING RELOADING_A REALLYDAMAGED
    AliasConditionState = MOVING FIRING_B REALLYDAMAGED
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_B REALLYDAMAGED
    AliasConditionState = MOVING RELOADING_B REALLYDAMAGED

    ; Firing animation
    ConditionState      = FIRING_A
      Animation         = AIHERO_SKL.AIHERO_ATA
      AnimationMode     = ONCE
      AnimationSpeedFactorRange = 1.5 1.5
      TransitionKey     = TRANS_FiringA
    End

    ConditionState      = BETWEEN_FIRING_SHOTS_A
      Animation         = AIHERO_SKL.AIHERO_ATA
      AnimationMode     = MANUAL
      Flags             = START_FRAME_LAST
      WaitForStateToFinishIfPossible = TRANS_FiringA
    End
    AliasConditionState = RELOADING_A

    ; Injured Firing animation
    ConditionState      = FIRING_A REALLYDAMAGED
      Animation         = AIHERO_SKL.AIHERO_IATA
      AnimationMode     = ONCE
      AnimationSpeedFactorRange = 1.5 1.5
      TransitionKey     = TRANS_FiringAInjured
    End

    ConditionState      = BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
      Animation         = AIHERO_SKL.AIHERO_IATA
      AnimationMode     = MANUAL
      Flags             = START_FRAME_LAST
      WaitForStateToFinishIfPossible = TRANS_FiringAInjured
    End
    AliasConditionState = RELOADING_A REALLYDAMAGED

    TransitionState     = TRANS_FiringA TRANS_FiringAInjured
      Animation         = AIHERO_SKL.AIHERO_IATAHIT
      AnimationMode     = ONCE
    End

    ; Placing charge animation
    ConditionState      = UNPACKING
      Animation         = AIHERO_SKL.AIHERO_ATB1
      AnimationMode     = ONCE
    End
    AliasConditionState = MOVING UNPACKING

    ; Injured Placing charge animation
    ConditionState      = UNPACKING REALLYDAMAGED
      Animation         = AIHERO_SKL.AIHERO_IATB1
      AnimationMode     = ONCE
    End
    AliasConditionState = MOVING UNPACKING REALLYDAMAGED

    ; Stab animations
    ConditionState      = PREATTACK_B
      Animation         = AIHERO_SKL.AIHERO_ATC
      AnimationMode     = ONCE
      TransitionKey     = TRANS_Stabbing
      HideSubObject     = MUZZLEFX01
    End
    AliasConditionState = PREATTACK_B MOVING
    AliasConditionState = PREATTACK_B FIRING_B
    AliasConditionState = PREATTACK_B BETWEEN_FIRING_SHOTS_B

    ConditionState      = FIRING_B
      Animation         = AIHERO_SKL.AIHERO_ATC
      AnimationMode     = MANUAL
      Flags             = START_FRAME_LAST
      TransitionKey     = TRANS_Stabbing
      HideSubObject     = MUZZLEFX01
    End
    AliasConditionState = BETWEEN_FIRING_SHOTS_B
    AliasConditionState = RELOADING_B

    TransitionState     = TRANS_Stabbing TRANS_Stand
      Animation         = AIHERO_SKL.AIHERO_ATC2
      AnimationMode     = ONCE
    End

    ; Injured Stab animations
    ConditionState      = PREATTACK_B REALLYDAMAGED
      Animation         = AIHERO_SKL.AIHERO_IATC1
      AnimationMode     = ONCE
      TransitionKey     = TRANS_StabbingInjured
      HideSubObject     = MUZZLEFX01
    End
    AliasConditionState = PREATTACK_B MOVING REALLYDAMAGED
    AliasConditionState = PREATTACK_B FIRING_B REALLYDAMAGED
    AliasConditionState = PREATTACK_B BETWEEN_FIRING_SHOTS_B REALLYDAMAGED

    ConditionState      = FIRING_B REALLYDAMAGED
      Animation         = AIHERO_SKL.AIHERO_IATC2
      AnimationMode     = MANUAL
      Flags             = START_FRAME_LAST
      TransitionKey     = TRANS_StabbingInjured
      HideSubObject     = MUZZLEFX01
    End
    AliasConditionState = BETWEEN_FIRING_SHOTS_B REALLYDAMAGED
    AliasConditionState = RELOADING_B REALLYDAMAGED

    TransitionState     = TRANS_StabbingInjured TRANS_StandInjured
      Animation         = AIHERO_SKL.AIHERO_IATC2
      AnimationMode     = ONCE
    End

    ; cheering
    ConditionState      = SPECIAL_CHEERING
      Animation         = AIHERO_SKL.AIHERO_CHA
      AnimationMode     = ONCE
    End

    ; injured cheering
    ConditionState      = SPECIAL_CHEERING REALLYDAMAGED
      Animation         = AIHERO_SKL.AIHERO_ICHA
      AnimationMode     = ONCE
    End

    ; climbing
    ConditionState      = CLIMBING
      Animation         = AIHERO_SKL.AIHERO_CLMID
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Climbing
    End
    AliasConditionState = RAPPELLING
    AliasConditionState = CLIMBING REALLYDAMAGED
    AliasConditionState = RAPPELLING REALLYDAMAGED

    ConditionState      = CLIMBING MOVING
      Animation         = AIHERO_SKL.AIHERO_CLMUP
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Climbing
    End
    AliasConditionState = CLIMBING MOVING REALLYDAMAGED

    ConditionState      = RAPPELLING MOVING
      Animation         = AIHERO_SKL.AIHERO_CLMUP
      AnimationMode     = LOOP_BACKWARDS
      TransitionKey     = TRANS_Climbing
    End
    AliasConditionState = RAPPELLING MOVING REALLYDAMAGED

; these transitions don't really work well with our code. leave 'em out.
;    TransitionState     = TRANS_Climbing TRANS_Stand
;      Animation         = AIHERO_SKL.AIHERO_CLMST
;      AnimationMode     = ONCE
;    End
;
;    TransitionState     = TRANS_Stand TRANS_Climbing
;      Animation         = AIHERO_SKL.AIHERO_CLMST
;      AnimationMode     = ONCE_BACKWARDS
;    End

    ; dying anims
    ConditionState      = DYING
      Animation         = AIHERO_SKL.AIHERO_DTA
      Animation         = AIHERO_SKL.AIHERO_DTB
      Animation         = AIHero_SKL.AIHero_IDTA
      Animation         = AIHero_SKL.AIHero_IDTB
      AnimationMode     = ONCE
      TransitionKey     = TRANS_Dying
    End
    AliasConditionState = RAPPELLING DYING
    AliasConditionState = CLIMBING DYING

    TransitionState     = TRANS_Dying TRANS_Flailing
      Animation         = AIHERO_SKL.AIHERO_ADTG21
      AnimationMode     = ONCE
    End

    ConditionState      = DYING EXPLODED_FLAILING
      Animation         = AIHERO_SKL.AIHERO_ADTG22
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Flailing
    End

    ConditionState      = DYING EXPLODED_BOUNCING
      Animation         = AIHERO_SKL.AIHERO_ADTG23
      AnimationMode     = ONCE
      TransitionKey     = None
    End

    ; misc anims
    ConditionState      = FREEFALL
      Animation         = AIHERO_SKL.AIHERO_PFL
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Falling
    End
    AliasConditionState = FREEFALL REALLYDAMAGED
    AliasConditionState = FREEFALL DYING

    ConditionState      = PARACHUTING
      Animation         = AIHERO_SKL.AIHERO_PHG
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Chute
    End
    AliasConditionState = PARACHUTING REALLYDAMAGED
    AliasConditionState = PARACHUTING DYING

    TransitionState     = TRANS_Falling TRANS_Chute
      Animation         = AIHERO_SKL.AIHERO_POP
      AnimationMode     = ONCE
      Flags             = PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
    End

    TransitionState     = TRANS_Chute TRANS_Stand
      Animation         = AIHERO_SKL.AIHERO_PTD
      AnimationMode     = ONCE
    End

    TransitionState     = TRANS_Chute TRANS_StandInjured
      Animation         = AIHERO_SKL.AIHERO_PTD
      AnimationMode     = ONCE
    End

  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:RussianSpecOps
  Side                = Boss
  EditorSorting       = INFANTRY
  TransportSlotCount  = 1                 ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions          = None 
    Weapon              = PRIMARY     ColonelBurtonSniperRifleWeapon
    Weapon              = SECONDARY   ColonelBurtonKnifeWeapon
    AutoChooseSources   = PRIMARY     FROM_PLAYER FROM_SCRIPT FROM_AI
    AutoChooseSources   = SECONDARY   NONE
    Weapon              = TERTIARY    BurtonGrenade
    AutoChooseSources   = TERTIARY NONE
  End
  ArmorSet
    Conditions      = None
    Armor           = HumanArmor
    DamageFX        = InfantryDamageFX
  End
  ArmorSet
    Conditions      = PLAYER_UPGRADE
    Armor           = ChemSuitHumanArmor
    DamageFX        = InfantryDamageFX
  End

  VisionRange         = 150
  ShroudClearingRange = 500
  Prerequisites
    Object = Boss_Barracks
    ;Object = Boss_TechCentr
  End
  BuildCost = 150
  BuildTime = 15.0          ;in seconds  

  ExperienceValue     = 50 100 100 150  ; Experience point value at each level
  ExperienceRequired  = 0 200 300 600   ; Experience points needed to gain each level
  IsTrainable         = Yes             ; Can gain experience
  CrushableLevel      = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet          = AmericaInfantryColonelBurtonCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = ColonelBurtonVoiceSelect
  VoiceMove = ColonelBurtonVoiceMove
  VoiceAttack = ColonelBurtonVoiceAttack
  VoiceFear = ColonelBurtonVoiceFear
  VoiceGuard = ColonelBurtonVoiceMove
  SoundStealthOn = StealthOn
  SoundStealthOff = StealthOff
  
  UnitSpecificSounds
    VoiceMelee = ColonelBurtonVoiceAttackKnife
    VoiceCreate           = ColonelBurtonVoiceCreate
    VoiceGarrison         = ColonelBurtonVoiceGarrison
    VoiceEnter            = ColonelBurtonVoiceMove
    VoiceEnterHostile     = ColonelBurtonVoiceMove
    VoiceGetHealed        = ColonelBurtonVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY SCORE HERO CANNOT_RETALIATE SALVAGER

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 200.0
    InitialHealth   = 200.0
  End

  Behavior                = ArmorUpgrade ModuleTag_Armor01
    TriggeredBy           = Upgrade_AmericaChemicalSuits
  End

  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle = Yes
  End

  Behavior = CommandButtonHuntUpdate  ModuleTag_04 ; allows use of command button hunt script with this unit. 
  End

  Behavior = AutoFindHealingUpdate   ModuleTag_05 ; This update will have the unit go to a healing station if injured. jba 
    ScanRate = 1000 ; once a second.
    ScanRange = 300 ;
    NeverHeal = 0.85 ;  don't heal if we are > 85% healthy.
    AlwaysHeal = 0.25 ; if we get below 25%, find healing right away.
  End

  Locomotor = SET_NORMAL ColonelBurtonGroundLocomotor ColonelBurtonCliffLocomotor

  Behavior = PhysicsBehavior ModuleTag_06
    Mass = 5.0
  End

  Behavior = StealthUpdate ModuleTag_07
    StealthDelay                = 2000 ; msec
    StealthForbiddenConditions  = FIRING_PRIMARY
    HintDetectableConditions    = IS_FIRING_WEAPON 
    FriendlyOpacityMin          = 50.0%
    FriendlyOpacityMax          = 100.0%
    InnateStealth               = Yes
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
    ;EnemyDetectionEvaEvent      = EnemyColonelBurtonDetected
    ;OwnDetectionEvaEvent        = OwnColonelBurtonDetected
  End

  Behavior = SpecialAbility ModuleTag_08
    SpecialPowerTemplate = SpecialAbilityColonelBurtonRemoteCharges
    UpdateModuleStartsAttack = Yes
    InitiateSound             = ColonelBurtonVoicePlantRemoteCharge
  End
  Behavior = SpecialAbilityUpdate ModuleTag_09
    SpecialPowerTemplate = SpecialAbilityColonelBurtonRemoteCharges
    StartAbilityRange = 0.0
    PreparationTime = 0
    SpecialObject = RemoteC4Charge
    MaxSpecialObjects = 8
    SpecialObjectsPersistWhenOwnerDies = No ;Charges are removed instantly when owner dies (nobody can detonate).
    AlwaysValidateSpecialObjects = Yes      ;Coupled with the above setting, this one is necessary for code optimization.
    SpecialObjectsPersistent = Yes          ;Charges are persistent till lifetime expires or owner detonates them.
    UniqueSpecialObjectTargets = Yes        ;This prevents multiple charges placed on the same object.
    UnpackTime              = 5500          ;NOTE: Modifying this value will require modifying the delay for ColonelBurtonPlantCharge
    PackTime                = 0
    SkipPackingWithNoTarget = Yes           ;When yes, the packing/unpacking will be ignored when detonating charges.
    FlipOwnerAfterUnpacking = Yes
    FleeRangeAfterCompletion = 100.0         ;Runs away after finishing ability
    UnpackSound               = ColonelBurtonPlantCharge
    LoseStealthOnTrigger      = Yes
    PreTriggerUnstealthTime   = 5000 ; in milliseconds
  End

  Behavior = SpecialAbility ModuleTag_10
    SpecialPowerTemplate = SpecialAbilityColonelBurtonTimedCharges
    UpdateModuleStartsAttack = Yes
    InitiateSound             = ColonelBurtonVoicePlantTimedCharge
  End
  Behavior = SpecialAbilityUpdate ModuleTag_11
    SpecialPowerTemplate = SpecialAbilityColonelBurtonTimedCharges
    StartAbilityRange = 0.0
    PreparationTime = 0
    SpecialObject = TimedC4Charge
    MaxSpecialObjects = 10
    SpecialObjectsPersistWhenOwnerDies = Yes 
    SpecialObjectsPersistent = Yes          ;Charges are persistent till lifetime expires or owner detonates them.
    UniqueSpecialObjectTargets = Yes        ;This prevents multiple charges placed on the same object.
    UnpackTime              = 5500          ;NOTE: Modifying this value will require modifying the delay for ColonelBurtonPlantCharge
    FlipOwnerAfterUnpacking = Yes
    FleeRangeAfterCompletion = 100.0         ;Runs away after finishing ability
    UnpackSound               = ColonelBurtonPlantCharge
    LoseStealthOnTrigger      = Yes
    PreTriggerUnstealthTime   = 5000 ; in milliseconds

  End
 
  Behavior = ExperienceScalarUpgrade ModuleTag_12
    TriggeredBy   = Upgrade_AmericaAdvancedTraining
    AddXPScalar   = 1.0 ;Increases experience gained by an additional 100%
  End


; --- begin Death modules ---
  Behavior = SlowDeathBehavior ModuleTag_Death01
    DeathTypes          = ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA
    SinkDelay           = 6000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_ColonelBurtonDie
  End
  Behavior = SlowDeathBehavior ModuleTag_Death02
    DeathTypes          = NONE +CRUSHED +SPLATTED
    SinkDelay           = 6000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_GIDieCrushed
  End
  Behavior = SlowDeathBehavior ModuleTag_Death03
    DeathTypes          = NONE +EXPLODED
    SinkDelay           = 6000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_ColonelBurtonDie
    FlingForce          = 8
    FlingForceVariance  = 3
    FlingPitch          = 60
    FlingPitchVariance  = 10
  End
  Behavior = SlowDeathBehavior ModuleTag_Death04
    DeathTypes          = NONE +BURNED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByFireUSA
    OCL                 = INITIAL OCL_FlamingInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death05
    DeathTypes          = NONE +POISONED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinUSA
    OCL                 = INITIAL OCL_ToxicInfantry
  End
    Behavior = SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
    DeathTypes          = NONE +POISONED_BETA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinUSA
    OCL                 = INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
  End

  Behavior = SlowDeathBehavior ModuleTag_Death07
    DeathTypes          = NONE +POISONED_GAMMA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinUSA
    OCL                 = INITIAL OCL_ToxicInfantryGamma
  End
; --- end Death modules ---

  Behavior = PoisonedBehavior ModuleTag_18
    PoisonDamageInterval = 100  ; Every this many msec I will retake the poison damage dealt me...
    PoisonDuration = 3000       ; ... for this long after last hit by poison damage
  End
 
  Geometry = CYLINDER
  GeometryMajorRadius = 10.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 12.0
  GeometryIsSmall = Yes
  Scale = 0.9
  Shadow = SHADOW_DECAL
  ShadowSizeX = 14
  ShadowSizeY = 14
  ShadowTexture = ShadowI
  BuildCompletion = APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
Object Boss_RussianSpecOpsPlatoon

  ; *** ART Parameters ***
  SelectPortrait         = SpecOps_L
  ButtonImage            = SpecOps

  UpgradeCameo1 = Upgrade_AmericaAdvancedTraining
  UpgradeCameo2 = Upgrade_AmericaChemicalSuits

  Draw = W3DModelDraw ModuleTag_01
  OkToChangeModelColor = Yes

    ; idle
    DefaultConditionState
      Model               = MAREIN_SKN
      IdleAnimation       = AIHERO_SKL.AIHERO_STA 0 25
      IdleAnimation       = AIHERO_SKL.AIHERO_IDA
      IdleAnimation       = AIHERO_SKL.AIHERO_IDB
      AnimationMode       = ONCE
      TransitionKey       = TRANS_Stand
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      WeaponMuzzleFlash   = SECONDARY NONE
      HideSubObject       = MUZZLEFX01
    End


    ; injured idle
    ConditionState        = REALLYDAMAGED
      IdleAnimation       = AIHERO_SKL.AIHERO_ISTA 0 30
      IdleAnimation       = AIHERO_SKL.AIHERO_IIDA
      IdleAnimation       = AIHERO_SKL.AIHERO_IIDB
      AnimationMode       = ONCE
      TransitionKey       = TRANS_StandInjured
    End


    TransitionState     = TRANS_Stand TRANS_StandInjured
      Animation         = AIHERO_SKL.AIHERO_ISTAHIT
      AnimationMode     = ONCE
    End

    ; moving
    ConditionState        = MOVING
      Animation           = AIHERO_SKL.AIHERO_RNA 26
      AnimationMode       = LOOP
      Flags               = RANDOMSTART
      TransitionKey       = TRANS_Walking
      ParticleSysBone     = None InfantryDustTrails
      HideSubObject       = MUZZLEFX01
    End
    AliasConditionState = MOVING FIRING_A
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_A
    AliasConditionState = MOVING RELOADING_A
    AliasConditionState = MOVING FIRING_B
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_B
    AliasConditionState = MOVING RELOADING_B

    ; injured moving
    ConditionState     = MOVING REALLYDAMAGED
      Animation        = AIHERO_SKL.AIHERO_IRNA 26
      AnimationMode    = LOOP
      Flags            = RANDOMSTART
      TransitionKey    = TRANS_WalkingInjured
      ParticleSysBone  = None InfantryDustTrails
      HideSubObject    = MUZZLEFX01
    End
    AliasConditionState = MOVING FIRING_A REALLYDAMAGED
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
    AliasConditionState = MOVING RELOADING_A REALLYDAMAGED
    AliasConditionState = MOVING FIRING_B REALLYDAMAGED
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_B REALLYDAMAGED
    AliasConditionState = MOVING RELOADING_B REALLYDAMAGED

    ; Firing animation
    ConditionState      = FIRING_A
      Animation         = AIHERO_SKL.AIHERO_ATA
      AnimationMode     = ONCE
      AnimationSpeedFactorRange = 1.5 1.5
      TransitionKey     = TRANS_FiringA
    End

    ConditionState      = BETWEEN_FIRING_SHOTS_A
      Animation         = AIHERO_SKL.AIHERO_ATA
      AnimationMode     = MANUAL
      Flags             = START_FRAME_LAST
      WaitForStateToFinishIfPossible = TRANS_FiringA
    End
    AliasConditionState = RELOADING_A

    ; Injured Firing animation
    ConditionState      = FIRING_A REALLYDAMAGED
      Animation         = AIHERO_SKL.AIHERO_IATA
      AnimationMode     = ONCE
      AnimationSpeedFactorRange = 1.5 1.5
      TransitionKey     = TRANS_FiringAInjured
    End

    ConditionState      = BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
      Animation         = AIHERO_SKL.AIHERO_IATA
      AnimationMode     = MANUAL
      Flags             = START_FRAME_LAST
      WaitForStateToFinishIfPossible = TRANS_FiringAInjured
    End
    AliasConditionState = RELOADING_A REALLYDAMAGED

    TransitionState     = TRANS_FiringA TRANS_FiringAInjured
      Animation         = AIHERO_SKL.AIHERO_IATAHIT
      AnimationMode     = ONCE
    End

    ; Placing charge animation
    ConditionState      = UNPACKING
      Animation         = AIHERO_SKL.AIHERO_ATB1
      AnimationMode     = ONCE
    End
    AliasConditionState = MOVING UNPACKING

    ; Injured Placing charge animation
    ConditionState      = UNPACKING REALLYDAMAGED
      Animation         = AIHERO_SKL.AIHERO_IATB1
      AnimationMode     = ONCE
    End
    AliasConditionState = MOVING UNPACKING REALLYDAMAGED

    ; Stab animations
    ConditionState      = PREATTACK_B
      Animation         = AIHERO_SKL.AIHERO_ATC
      AnimationMode     = ONCE
      TransitionKey     = TRANS_Stabbing
      HideSubObject     = MUZZLEFX01
    End
    AliasConditionState = PREATTACK_B MOVING
    AliasConditionState = PREATTACK_B FIRING_B
    AliasConditionState = PREATTACK_B BETWEEN_FIRING_SHOTS_B

    ConditionState      = FIRING_B
      Animation         = AIHERO_SKL.AIHERO_ATC
      AnimationMode     = MANUAL
      Flags             = START_FRAME_LAST
      TransitionKey     = TRANS_Stabbing
      HideSubObject     = MUZZLEFX01
    End
    AliasConditionState = BETWEEN_FIRING_SHOTS_B
    AliasConditionState = RELOADING_B

    TransitionState     = TRANS_Stabbing TRANS_Stand
      Animation         = AIHERO_SKL.AIHERO_ATC2
      AnimationMode     = ONCE
    End

    ; Injured Stab animations
    ConditionState      = PREATTACK_B REALLYDAMAGED
      Animation         = AIHERO_SKL.AIHERO_IATC1
      AnimationMode     = ONCE
      TransitionKey     = TRANS_StabbingInjured
      HideSubObject     = MUZZLEFX01
    End
    AliasConditionState = PREATTACK_B MOVING REALLYDAMAGED
    AliasConditionState = PREATTACK_B FIRING_B REALLYDAMAGED
    AliasConditionState = PREATTACK_B BETWEEN_FIRING_SHOTS_B REALLYDAMAGED

    ConditionState      = FIRING_B REALLYDAMAGED
      Animation         = AIHERO_SKL.AIHERO_IATC2
      AnimationMode     = MANUAL
      Flags             = START_FRAME_LAST
      TransitionKey     = TRANS_StabbingInjured
      HideSubObject     = MUZZLEFX01
    End
    AliasConditionState = BETWEEN_FIRING_SHOTS_B REALLYDAMAGED
    AliasConditionState = RELOADING_B REALLYDAMAGED

    TransitionState     = TRANS_StabbingInjured TRANS_StandInjured
      Animation         = AIHERO_SKL.AIHERO_IATC2
      AnimationMode     = ONCE
    End

    ; cheering
    ConditionState      = SPECIAL_CHEERING
      Animation         = AIHERO_SKL.AIHERO_CHA
      AnimationMode     = ONCE
    End

    ; injured cheering
    ConditionState      = SPECIAL_CHEERING REALLYDAMAGED
      Animation         = AIHERO_SKL.AIHERO_ICHA
      AnimationMode     = ONCE
    End

    ; climbing
    ConditionState      = CLIMBING
      Animation         = AIHERO_SKL.AIHERO_CLMID
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Climbing
    End
    AliasConditionState = RAPPELLING
    AliasConditionState = CLIMBING REALLYDAMAGED
    AliasConditionState = RAPPELLING REALLYDAMAGED

    ConditionState      = CLIMBING MOVING
      Animation         = AIHERO_SKL.AIHERO_CLMUP
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Climbing
    End
    AliasConditionState = CLIMBING MOVING REALLYDAMAGED

    ConditionState      = RAPPELLING MOVING
      Animation         = AIHERO_SKL.AIHERO_CLMUP
      AnimationMode     = LOOP_BACKWARDS
      TransitionKey     = TRANS_Climbing
    End
    AliasConditionState = RAPPELLING MOVING REALLYDAMAGED

; these transitions don't really work well with our code. leave 'em out.
;    TransitionState     = TRANS_Climbing TRANS_Stand
;      Animation         = AIHERO_SKL.AIHERO_CLMST
;      AnimationMode     = ONCE
;    End
;
;    TransitionState     = TRANS_Stand TRANS_Climbing
;      Animation         = AIHERO_SKL.AIHERO_CLMST
;      AnimationMode     = ONCE_BACKWARDS
;    End

    ; dying anims
    ConditionState      = DYING
      Animation         = AIHERO_SKL.AIHERO_DTA
      Animation         = AIHERO_SKL.AIHERO_DTB
      Animation         = AIHero_SKL.AIHero_IDTA
      Animation         = AIHero_SKL.AIHero_IDTB
      AnimationMode     = ONCE
      TransitionKey     = TRANS_Dying
    End
    AliasConditionState = RAPPELLING DYING
    AliasConditionState = CLIMBING DYING

    TransitionState     = TRANS_Dying TRANS_Flailing
      Animation         = AIHERO_SKL.AIHERO_ADTG21
      AnimationMode     = ONCE
    End

    ConditionState      = DYING EXPLODED_FLAILING
      Animation         = AIHERO_SKL.AIHERO_ADTG22
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Flailing
    End

    ConditionState      = DYING EXPLODED_BOUNCING
      Animation         = AIHERO_SKL.AIHERO_ADTG23
      AnimationMode     = ONCE
      TransitionKey     = None
    End

    ; misc anims
    ConditionState      = FREEFALL
      Animation         = AIHERO_SKL.AIHERO_PFL
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Falling
    End
    AliasConditionState = FREEFALL REALLYDAMAGED
    AliasConditionState = FREEFALL DYING

    ConditionState      = PARACHUTING
      Animation         = AIHERO_SKL.AIHERO_PHG
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Chute
    End
    AliasConditionState = PARACHUTING REALLYDAMAGED
    AliasConditionState = PARACHUTING DYING

    TransitionState     = TRANS_Falling TRANS_Chute
      Animation         = AIHERO_SKL.AIHERO_POP
      AnimationMode     = ONCE
      Flags             = PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
    End

    TransitionState     = TRANS_Chute TRANS_Stand
      Animation         = AIHERO_SKL.AIHERO_PTD
      AnimationMode     = ONCE
    End

    TransitionState     = TRANS_Chute TRANS_StandInjured
      Animation         = AIHERO_SKL.AIHERO_PTD
      AnimationMode     = ONCE
    End

  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:RussianSpecOps
  Side                = Boss
  EditorSorting       = INFANTRY
  TransportSlotCount  = 1                 ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions          = None 
    Weapon              = PRIMARY     ColonelBurtonSniperRifleWeapon
    Weapon              = SECONDARY   ColonelBurtonKnifeWeapon
    AutoChooseSources   = PRIMARY     FROM_PLAYER FROM_SCRIPT FROM_AI
    AutoChooseSources   = SECONDARY   NONE
    Weapon              = TERTIARY    BurtonGrenade
    AutoChooseSources   = TERTIARY NONE
  End
  ArmorSet
    Conditions      = None
    Armor           = HumanArmor
    DamageFX        = InfantryDamageFX
  End
  ArmorSet
    Conditions      = PLAYER_UPGRADE
    Armor           = ChemSuitHumanArmor
    DamageFX        = InfantryDamageFX
  End

  VisionRange         = 150
  ShroudClearingRange = 500
  Prerequisites
    Object = Boss_Barracks
    ;Object = Boss_TechCentr
  End
  BuildCost = 800
  BuildTime = 80.0          ;in seconds  

  ExperienceValue     = 50 100 100 150  ; Experience point value at each level
  ExperienceRequired  = 0 200 300 600   ; Experience points needed to gain each level
  IsTrainable         = Yes             ; Can gain experience
  CrushableLevel      = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet          = AmericaInfantryColonelBurtonCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = ColonelBurtonVoiceSelect
  VoiceMove = ColonelBurtonVoiceMove
  VoiceAttack = ColonelBurtonVoiceAttack
  VoiceFear = ColonelBurtonVoiceFear
  VoiceGuard = ColonelBurtonVoiceMove
  SoundStealthOn = StealthOn
  SoundStealthOff = StealthOff
  
  UnitSpecificSounds
    VoiceMelee = ColonelBurtonVoiceAttackKnife
    VoiceCreate           = ColonelBurtonVoiceCreate
    VoiceGarrison         = ColonelBurtonVoiceGarrison
    VoiceEnter            = ColonelBurtonVoiceMove
    VoiceEnterHostile     = ColonelBurtonVoiceMove
    VoiceGetHealed        = ColonelBurtonVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY SCORE HERO CANNOT_RETALIATE SALVAGER

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 200.0
    InitialHealth   = 200.0
  End

  Behavior                = ArmorUpgrade ModuleTag_Armor01
    TriggeredBy           = Upgrade_AmericaChemicalSuits
  End

  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle = Yes
  End

  Behavior = CommandButtonHuntUpdate  ModuleTag_04 ; allows use of command button hunt script with this unit. 
  End

  Behavior = AutoFindHealingUpdate   ModuleTag_05 ; This update will have the unit go to a healing station if injured. jba 
    ScanRate = 1000 ; once a second.
    ScanRange = 300 ;
    NeverHeal = 0.85 ;  don't heal if we are > 85% healthy.
    AlwaysHeal = 0.25 ; if we get below 25%, find healing right away.
  End

  Locomotor = SET_NORMAL ColonelBurtonGroundLocomotor ColonelBurtonCliffLocomotor

  Behavior = PhysicsBehavior ModuleTag_06
    Mass = 5.0
  End

  Behavior = StealthUpdate ModuleTag_07
    StealthDelay                = 2000 ; msec
    StealthForbiddenConditions  = FIRING_PRIMARY
    HintDetectableConditions    = IS_FIRING_WEAPON 
    FriendlyOpacityMin          = 50.0%
    FriendlyOpacityMax          = 100.0%
    InnateStealth               = Yes
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
    ;EnemyDetectionEvaEvent      = EnemyColonelBurtonDetected
    ;OwnDetectionEvaEvent        = OwnColonelBurtonDetected
  End

  Behavior = SpecialAbility ModuleTag_08
    SpecialPowerTemplate = SpecialAbilityColonelBurtonRemoteCharges
    UpdateModuleStartsAttack = Yes
    InitiateSound             = ColonelBurtonVoicePlantRemoteCharge
  End
  Behavior = SpecialAbilityUpdate ModuleTag_09
    SpecialPowerTemplate = SpecialAbilityColonelBurtonRemoteCharges
    StartAbilityRange = 0.0
    PreparationTime = 0
    SpecialObject = RemoteC4Charge
    MaxSpecialObjects = 8
    SpecialObjectsPersistWhenOwnerDies = No ;Charges are removed instantly when owner dies (nobody can detonate).
    AlwaysValidateSpecialObjects = Yes      ;Coupled with the above setting, this one is necessary for code optimization.
    SpecialObjectsPersistent = Yes          ;Charges are persistent till lifetime expires or owner detonates them.
    UniqueSpecialObjectTargets = Yes        ;This prevents multiple charges placed on the same object.
    UnpackTime              = 5500          ;NOTE: Modifying this value will require modifying the delay for ColonelBurtonPlantCharge
    PackTime                = 0
    SkipPackingWithNoTarget = Yes           ;When yes, the packing/unpacking will be ignored when detonating charges.
    FlipOwnerAfterUnpacking = Yes
    FleeRangeAfterCompletion = 100.0         ;Runs away after finishing ability
    UnpackSound               = ColonelBurtonPlantCharge
    LoseStealthOnTrigger      = Yes
    PreTriggerUnstealthTime   = 5000 ; in milliseconds
  End

  Behavior = SpecialAbility ModuleTag_10
    SpecialPowerTemplate = SpecialAbilityColonelBurtonTimedCharges
    UpdateModuleStartsAttack = Yes
    InitiateSound             = ColonelBurtonVoicePlantTimedCharge
  End
  Behavior = SpecialAbilityUpdate ModuleTag_11
    SpecialPowerTemplate = SpecialAbilityColonelBurtonTimedCharges
    StartAbilityRange = 0.0
    PreparationTime = 0
    SpecialObject = TimedC4Charge
    MaxSpecialObjects = 10
    SpecialObjectsPersistWhenOwnerDies = Yes 
    SpecialObjectsPersistent = Yes          ;Charges are persistent till lifetime expires or owner detonates them.
    UniqueSpecialObjectTargets = Yes        ;This prevents multiple charges placed on the same object.
    UnpackTime              = 5500          ;NOTE: Modifying this value will require modifying the delay for ColonelBurtonPlantCharge
    FlipOwnerAfterUnpacking = Yes
    FleeRangeAfterCompletion = 100.0         ;Runs away after finishing ability
    UnpackSound               = ColonelBurtonPlantCharge
    LoseStealthOnTrigger      = Yes
    PreTriggerUnstealthTime   = 5000 ; in milliseconds

  End
 
  Behavior = ExperienceScalarUpgrade ModuleTag_12
    TriggeredBy   = Upgrade_AmericaAdvancedTraining
    AddXPScalar   = 1.0 ;Increases experience gained by an additional 100%
  End


; --- begin Death modules ---
  Behavior = SlowDeathBehavior ModuleTag_Death01
    DeathTypes          = ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA
    SinkDelay           = 6000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_ColonelBurtonDie
  End
  Behavior = SlowDeathBehavior ModuleTag_Death02
    DeathTypes          = NONE +CRUSHED +SPLATTED
    SinkDelay           = 6000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_GIDieCrushed
  End
  Behavior = SlowDeathBehavior ModuleTag_Death03
    DeathTypes          = NONE +EXPLODED
    SinkDelay           = 6000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_ColonelBurtonDie
    FlingForce          = 8
    FlingForceVariance  = 3
    FlingPitch          = 60
    FlingPitchVariance  = 10
  End
  Behavior = SlowDeathBehavior ModuleTag_Death04
    DeathTypes          = NONE +BURNED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByFireUSA
    OCL                 = INITIAL OCL_FlamingInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death05
    DeathTypes          = NONE +POISONED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinUSA
    OCL                 = INITIAL OCL_ToxicInfantry
  End
    Behavior = SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
    DeathTypes          = NONE +POISONED_BETA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinUSA
    OCL                 = INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
  End

  Behavior = SlowDeathBehavior ModuleTag_Death07
    DeathTypes          = NONE +POISONED_GAMMA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinUSA
    OCL                 = INITIAL OCL_ToxicInfantryGamma
  End
; --- end Death modules ---

  Behavior = PoisonedBehavior ModuleTag_18
    PoisonDamageInterval = 100  ; Every this many msec I will retake the poison damage dealt me...
    PoisonDuration = 3000       ; ... for this long after last hit by poison damage
  End
 
  Geometry = CYLINDER
  GeometryMajorRadius = 10.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 12.0
  GeometryIsSmall = Yes
  Scale = 0.9
  Shadow = SHADOW_DECAL
  ShadowSizeX = 14
  ShadowSizeY = 14
  ShadowTexture = ShadowI
  BuildCompletion = APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
; Object Boss_RussianSpecOps

  ; ; *** ART Parameters ***

  ; SelectPortrait = SpecOps_L
  ; ButtonImage    = SpecOps

  ; UpgradeCameo1 = Upgrade_AmericaAdvancedTraining
  ; UpgradeCameo2 = Upgrade_AmericaChemicalSuits
  ; UpgradeCameo3 = Upgrade_InfantryCaptureBuilding
  ; ;UpgradeCameo4 = Upgrade_AmericaInfantryHealth
  ; ;UpgradeCameo4 = Upgrade_AmericaHEGrenade

  ; Draw = W3DModelDraw ModuleTag_01
  ; OkToChangeModelColor = Yes

    ; ; idle
    ; DefaultConditionState
      ; Model               = MAREIN_SKN
      ; IdleAnimation       = AIHERO_SKL.AIHERO_STA 0 25
      ; IdleAnimation       = AIHERO_SKL.AIHERO_IDA
      ; IdleAnimation       = AIHERO_SKL.AIHERO_IDB
      ; AnimationMode       = ONCE
      ; TransitionKey       = TRANS_Stand
      ; WeaponFireFXBone    = PRIMARY Muzzle
      ; WeaponMuzzleFlash   = PRIMARY MuzzleFX
      ; WeaponMuzzleFlash   = SECONDARY NONE
      ; HideSubObject       = MUZZLEFX01
    ; End


    ; ; injured idle
    ; ConditionState        = REALLYDAMAGED
      ; IdleAnimation       = AIHERO_SKL.AIHERO_ISTA 0 30
      ; IdleAnimation       = AIHERO_SKL.AIHERO_IIDA
      ; IdleAnimation       = AIHERO_SKL.AIHERO_IIDB
      ; AnimationMode       = ONCE
      ; TransitionKey       = TRANS_StandInjured
    ; End


    ; TransitionState     = TRANS_Stand TRANS_StandInjured
      ; Animation         = AIHERO_SKL.AIHERO_ISTAHIT
      ; AnimationMode     = ONCE
    ; End

    ; ; moving
    ; ConditionState        = MOVING
      ; Animation           = AIHERO_SKL.AIHERO_RNA 26
      ; AnimationMode       = LOOP
      ; Flags               = RANDOMSTART
      ; TransitionKey       = TRANS_Walking
      ; ParticleSysBone     = None InfantryDustTrails
      ; HideSubObject       = MUZZLEFX01
    ; End
    ; AliasConditionState = MOVING FIRING_A
    ; AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_A
    ; AliasConditionState = MOVING RELOADING_A
    ; AliasConditionState = MOVING FIRING_B
    ; AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_B
    ; AliasConditionState = MOVING RELOADING_B

    ; ; injured moving
    ; ConditionState     = MOVING REALLYDAMAGED
      ; Animation        = AIHERO_SKL.AIHERO_IRNA 26
      ; AnimationMode    = LOOP
      ; Flags            = RANDOMSTART
      ; TransitionKey    = TRANS_WalkingInjured
      ; ParticleSysBone  = None InfantryDustTrails
      ; HideSubObject    = MUZZLEFX01
    ; End
    ; AliasConditionState = MOVING FIRING_A REALLYDAMAGED
    ; AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
    ; AliasConditionState = MOVING RELOADING_A REALLYDAMAGED
    ; AliasConditionState = MOVING FIRING_B REALLYDAMAGED
    ; AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_B REALLYDAMAGED
    ; AliasConditionState = MOVING RELOADING_B REALLYDAMAGED

    ; ; Firing animation
    ; ConditionState      = FIRING_A
      ; Animation         = AIHERO_SKL.AIHERO_ATA
      ; AnimationMode     = ONCE
      ; AnimationSpeedFactorRange = 1.5 1.5
      ; TransitionKey     = TRANS_FiringA
    ; End

    ; ConditionState      = BETWEEN_FIRING_SHOTS_A
      ; Animation         = AIHERO_SKL.AIHERO_ATA
      ; AnimationMode     = MANUAL
      ; Flags             = START_FRAME_LAST
      ; WaitForStateToFinishIfPossible = TRANS_FiringA
    ; End
    ; AliasConditionState = RELOADING_A

    ; ; Injured Firing animation
    ; ConditionState      = FIRING_A REALLYDAMAGED
      ; Animation         = AIHERO_SKL.AIHERO_IATA
      ; AnimationMode     = ONCE
      ; AnimationSpeedFactorRange = 1.5 1.5
      ; TransitionKey     = TRANS_FiringAInjured
    ; End

    ; ConditionState      = BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
      ; Animation         = AIHERO_SKL.AIHERO_IATA
      ; AnimationMode     = MANUAL
      ; Flags             = START_FRAME_LAST
      ; WaitForStateToFinishIfPossible = TRANS_FiringAInjured
    ; End
    ; AliasConditionState = RELOADING_A REALLYDAMAGED

    ; TransitionState     = TRANS_FiringA TRANS_FiringAInjured
      ; Animation         = AIHERO_SKL.AIHERO_IATAHIT
      ; AnimationMode     = ONCE
    ; End

    ; ; Placing charge animation
    ; ConditionState      = UNPACKING
      ; Animation         = AIHERO_SKL.AIHERO_ATB1
      ; AnimationMode     = ONCE
    ; End
    ; AliasConditionState = MOVING UNPACKING

    ; ; Injured Placing charge animation
    ; ConditionState      = UNPACKING REALLYDAMAGED
      ; Animation         = AIHERO_SKL.AIHERO_IATB1
      ; AnimationMode     = ONCE
    ; End
    ; AliasConditionState = MOVING UNPACKING REALLYDAMAGED

    ; ; Stab animations
    ; ConditionState      = PREATTACK_B
      ; Animation         = AIHERO_SKL.AIHERO_ATC
      ; AnimationMode     = ONCE
      ; TransitionKey     = TRANS_Stabbing
      ; HideSubObject     = MUZZLEFX01
    ; End
    ; AliasConditionState = PREATTACK_B MOVING
    ; AliasConditionState = PREATTACK_B FIRING_B
    ; AliasConditionState = PREATTACK_B BETWEEN_FIRING_SHOTS_B

    ; ConditionState      = FIRING_B
      ; Animation         = AIHERO_SKL.AIHERO_ATC
      ; AnimationMode     = MANUAL
      ; Flags             = START_FRAME_LAST
      ; TransitionKey     = TRANS_Stabbing
      ; HideSubObject     = MUZZLEFX01
    ; End
    ; AliasConditionState = BETWEEN_FIRING_SHOTS_B
    ; AliasConditionState = RELOADING_B

    ; TransitionState     = TRANS_Stabbing TRANS_Stand
      ; Animation         = AIHERO_SKL.AIHERO_ATC2
      ; AnimationMode     = ONCE
    ; End

    ; ; Injured Stab animations
    ; ConditionState      = PREATTACK_B REALLYDAMAGED
      ; Animation         = AIHERO_SKL.AIHERO_IATC1
      ; AnimationMode     = ONCE
      ; TransitionKey     = TRANS_StabbingInjured
      ; HideSubObject     = MUZZLEFX01
    ; End
    ; AliasConditionState = PREATTACK_B MOVING REALLYDAMAGED
    ; AliasConditionState = PREATTACK_B FIRING_B REALLYDAMAGED
    ; AliasConditionState = PREATTACK_B BETWEEN_FIRING_SHOTS_B REALLYDAMAGED

    ; ConditionState      = FIRING_B REALLYDAMAGED
      ; Animation         = AIHERO_SKL.AIHERO_IATC2
      ; AnimationMode     = MANUAL
      ; Flags             = START_FRAME_LAST
      ; TransitionKey     = TRANS_StabbingInjured
      ; HideSubObject     = MUZZLEFX01
    ; End
    ; AliasConditionState = BETWEEN_FIRING_SHOTS_B REALLYDAMAGED
    ; AliasConditionState = RELOADING_B REALLYDAMAGED

    ; TransitionState     = TRANS_StabbingInjured TRANS_StandInjured
      ; Animation         = AIHERO_SKL.AIHERO_IATC2
      ; AnimationMode     = ONCE
    ; End

    ; ; cheering
    ; ConditionState      = SPECIAL_CHEERING
      ; Animation         = AIHERO_SKL.AIHERO_CHA
      ; AnimationMode     = ONCE
    ; End

    ; ; injured cheering
    ; ConditionState      = SPECIAL_CHEERING REALLYDAMAGED
      ; Animation         = AIHERO_SKL.AIHERO_ICHA
      ; AnimationMode     = ONCE
    ; End

    ; ; climbing
    ; ConditionState      = CLIMBING
      ; Animation         = AIHERO_SKL.AIHERO_CLMID
      ; AnimationMode     = LOOP
      ; TransitionKey     = TRANS_Climbing
    ; End
    ; AliasConditionState = RAPPELLING
    ; AliasConditionState = CLIMBING REALLYDAMAGED
    ; AliasConditionState = RAPPELLING REALLYDAMAGED

    ; ConditionState      = CLIMBING MOVING
      ; Animation         = AIHERO_SKL.AIHERO_CLMUP
      ; AnimationMode     = LOOP
      ; TransitionKey     = TRANS_Climbing
    ; End
    ; AliasConditionState = CLIMBING MOVING REALLYDAMAGED

    ; ConditionState      = RAPPELLING MOVING
      ; Animation         = AIHERO_SKL.AIHERO_CLMUP
      ; AnimationMode     = LOOP_BACKWARDS
      ; TransitionKey     = TRANS_Climbing
    ; End
    ; AliasConditionState = RAPPELLING MOVING REALLYDAMAGED

; ; these transitions don't really work well with our code. leave 'em out.
; ;    TransitionState     = TRANS_Climbing TRANS_Stand
; ;      Animation         = AIHERO_SKL.AIHERO_CLMST
; ;      AnimationMode     = ONCE
; ;    End
; ;
; ;    TransitionState     = TRANS_Stand TRANS_Climbing
; ;      Animation         = AIHERO_SKL.AIHERO_CLMST
; ;      AnimationMode     = ONCE_BACKWARDS
; ;    End

    ; ; dying anims
    ; ConditionState      = DYING
      ; Animation         = AIHERO_SKL.AIHERO_DTA
      ; Animation         = AIHERO_SKL.AIHERO_DTB
      ; Animation         = AIHero_SKL.AIHero_IDTA
      ; Animation         = AIHero_SKL.AIHero_IDTB
      ; AnimationMode     = ONCE
      ; TransitionKey     = TRANS_Dying
    ; End
    ; AliasConditionState = RAPPELLING DYING
    ; AliasConditionState = CLIMBING DYING

    ; TransitionState     = TRANS_Dying TRANS_Flailing
      ; Animation         = AIHERO_SKL.AIHERO_ADTG21
      ; AnimationMode     = ONCE
    ; End

    ; ConditionState      = DYING EXPLODED_FLAILING
      ; Animation         = AIHERO_SKL.AIHERO_ADTG22
      ; AnimationMode     = LOOP
      ; TransitionKey     = TRANS_Flailing
    ; End

    ; ConditionState      = DYING EXPLODED_BOUNCING
      ; Animation         = AIHERO_SKL.AIHERO_ADTG23
      ; AnimationMode     = ONCE
      ; TransitionKey     = None
    ; End

    ; ; misc anims
    ; ConditionState      = FREEFALL
      ; Animation         = AIHERO_SKL.AIHERO_PFL
      ; AnimationMode     = LOOP
      ; TransitionKey     = TRANS_Falling
    ; End
    ; AliasConditionState = FREEFALL REALLYDAMAGED
    ; AliasConditionState = FREEFALL DYING

    ; ConditionState      = PARACHUTING
      ; Animation         = AIHERO_SKL.AIHERO_PHG
      ; AnimationMode     = LOOP
      ; TransitionKey     = TRANS_Chute
    ; End
    ; AliasConditionState = PARACHUTING REALLYDAMAGED
    ; AliasConditionState = PARACHUTING DYING

    ; TransitionState     = TRANS_Falling TRANS_Chute
      ; Animation         = AIHERO_SKL.AIHERO_POP
      ; AnimationMode     = ONCE
      ; Flags             = PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
    ; End

    ; TransitionState     = TRANS_Chute TRANS_Stand
      ; Animation         = AIHERO_SKL.AIHERO_PTD
      ; AnimationMode     = ONCE
    ; End

    ; TransitionState     = TRANS_Chute TRANS_StandInjured
      ; Animation         = AIHERO_SKL.AIHERO_PTD
      ; AnimationMode     = ONCE
    ; End

  ; End

  ; ; ***DESIGN parameters ***
  ; DisplayName         = OBJECT:RussianSpecOps
  ; Side                = Boss
  ; EditorSorting       = INFANTRY
  ; TransportSlotCount  = 1                 ;how many "slots" we take in a transport (0 == not transportable)
  ; VisionRange         = 150.0
  ; ShroudClearingRange = 200
 ; ;-------------------------------------
  ; BuildCost = 50
  ; BuildTime = 5.0        ;in seconds
 ; ;-------------------------------------
  ; ExperienceValue    = 50 100 100 150  ; Experience point value at each level
  ; ExperienceRequired = 0 200 300 600   ; Experience points needed to gain each level
  ; IsTrainable    = Yes                 ; Can gain experience
  ; CrushableLevel = 2                   ;What am I?: 0 = for infantry, 1 = for trees, 2 = general vehicles
  ; CommandSet = Boss_RussianSpecOpsCommandSet ;AmericaInfantrySealCommandSet
; ;===============================================================================================================
  ; WeaponSet
    ; Conditions = None 
    ; Weapon            = PRIMARY   BossSpecOpsRifleWeapon ;DeltaForceM16SilencedWeapon ;;SealRifleWeapon
    ; Weapon            = SECONDARY ColonelBurtonKnifeWeapon
    ; AutoChooseSources = PRIMARY   FROM_PLAYER FROM_SCRIPT FROM_AI
    ; AutoChooseSources = SECONDARY NONE
    ; Weapon            = TERTIARY  BossSpecOpsHEGrenadeWeapon ;;[SpecOpsHEGrenadeWeapon]* ;[BurtonGrenade]**
    ; AutoChooseSources = TERTIARY  NONE
  ; End
; ;===============================================================================================================
  ; ArmorSet
    ; Conditions = None
    ; Armor      = HumanArmor
    ; DamageFX   = InfantryDamageFX
  ; End
  ; ArmorSet
    ; Conditions = PLAYER_UPGRADE
    ; Armor      = ChemSuitHumanArmor
    ; DamageFX   = InfantryDamageFX
  ; End


  ; ; AUDIO Parameters*
; ;================================================================================================
  ; VoiceSelect = BossSpecOpsRusVoiceSelect ;<===========================[  ] (1)
  ; VoiceMove   = BossSpecOpsRusVoiceMove ;<===========================[  ] (2)
  ; VoiceGuard  = BossSpecOpsRusVoiceGuard  ;<==========================[  ] (3)
  ; VoiceAttack = BossSpecOpsRusVoiceAttack ;<=========================[  ] (4)
  ; VoiceFear   = BossSpecOpsRusVoiceFear ;<===========================[ , hp] (5)
  ; VoiceTaskComplete = BossSpecOpsRusVoiceCaptureComplete ;<==========[  ] (6)
 ; ;---------------------------------------------------------------
  ; SoundStealthOn  = StealthOn  ;<=================[ .]
  ; SoundStealthOff = StealthOff ;<================[ .]
 ; ;---------------------------------------------------------------
  ; UnitSpecificSounds
    ; VoiceMelee        = BossSpecOpsRusVoiceGarrison ;<=================================[] (7)
    ; VoiceGarrison     = BossSpecOpsRusVoiceGarrison ;<============[   ] (7)
    ; VoiceEnter        = BossSpecOpsRusVoiceGetHealed ;<=====[    ] (8)
    ; VoiceEnterHostile = BossSpecOpsRusVoiceMove ;<====================[  ?]
    ; VoiceGetHealed    = BossSpecOpsRusVoiceGetHealed ;<==============[  ?] (8)
  ; End
; ;================================================================================================
; ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
; ;;UnitSpecificFX;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
; ;;  ;These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs;;;
; ;;  CombatDropKillFX = FX_RangerCombatDropKill;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
; ;;End;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
; ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

  ; ; *** ENGINEERING Parameters ***
  ; RadarPriority = UNIT
  ; KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY SCORE CANNOT_RETALIATE CAN_RAPPEL ;HERO
 ; ;[HERO -    -       -. CAN_RAPPEL -   -         ]
; ;------------------------------------------------------------------------------------------------------------------------
  ; Body = ActiveBody ModuleTag_02
    ; MaxHealth     = 230.0 ;[200.0]*
    ; InitialHealth = 230.0 ;[200.0]*
  ; End
  ; Behavior = AIUpdateInterface ModuleTag_03
    ; AutoAcquireEnemiesWhenIdle = Yes
  ; End
  ; Behavior = CommandButtonHuntUpdate  ModuleTag_04 ; allows use of command button hunt script with this unit.
  ; End
  ; Behavior = AutoFindHealingUpdate   ModuleTag_05 ; This update will have the unit go to a healing station if injured. jba
    ; ScanRate = 1000 ; once a second.
    ; ScanRange = 300 ;
    ; NeverHeal = 0.85 ;  don't heal if we are > 85% healthy.
    ; AlwaysHeal = 0.25 ; if we get below 25%, find healing right away.
  ; End
; ;-----------------------------------------------------------------------------------
  ; Locomotor = SET_NORMAL ColonelBurtonGroundLocomotor ColonelBurtonCliffLocomotor
; ;-----------------------------------------------------------------------------------
  ; Behavior = PhysicsBehavior ModuleTag_06
    ; Mass = 5.0
  ; End
  ; Behavior = ProductionUpdate ModuleTag_07
    ; ; nothing
  ; End
; ;----------------------------------------------------------------------
  ; Behavior = SpecialAbility ModuleTag_08
    ; SpecialPowerTemplate = SpecialAbilityColonelBurtonRemoteCharges
    ; UpdateModuleStartsAttack = Yes
    ; InitiateSound             = ColonelBurtonVoicePlantRemoteCharge
  ; End
  ; Behavior = SpecialAbilityUpdate ModuleTag_09
    ; SpecialPowerTemplate = SpecialAbilityColonelBurtonRemoteCharges
    ; StartAbilityRange = 0.0
    ; PreparationTime = 0
    ; SpecialObject = RemoteC4Charge
    ; MaxSpecialObjects = 8
    ; SpecialObjectsPersistWhenOwnerDies = No ;Charges are removed instantly when owner dies (nobody can detonate).
    ; AlwaysValidateSpecialObjects = Yes      ;Coupled with the above setting, this one is necessary for code optimization.
    ; SpecialObjectsPersistent = Yes          ;Charges are persistent till lifetime expires or owner detonates them.
    ; UniqueSpecialObjectTargets = Yes        ;This prevents multiple charges placed on the same object.
    ; UnpackTime              = 2000          ;NOTE: Modifying this value will require modifying the delay for ColonelBurtonPlantCharge
    ; PackTime                = 0
    ; SkipPackingWithNoTarget = Yes           ;When yes, the packing/unpacking will be ignored when detonating charges.
    ; FlipOwnerAfterUnpacking = Yes
    ; FleeRangeAfterCompletion = 100.0         ;Runs away after finishing ability
    ; UnpackSound              = ColonelBurtonPlantCharge
    ; LoseStealthOnTrigger     = No ;Yes ;<=======================[       =   ]
    ; PreTriggerUnstealthTime  = 5000 ; in milliseconds
  ; End
; ;---------------------------------------------------------------------
  ; Behavior = SpecialAbility ModuleTag_10
    ; SpecialPowerTemplate = SpecialAbilityColonelBurtonTimedCharges
    ; UpdateModuleStartsAttack = Yes
    ; InitiateSound             = ColonelBurtonVoicePlantTimedCharge
  ; End
  ; Behavior = SpecialAbilityUpdate ModuleTag_11
    ; SpecialPowerTemplate = SpecialAbilityColonelBurtonTimedCharges
    ; StartAbilityRange = 0.0
    ; PreparationTime = 0
    ; SpecialObject = TimedC4Charge
    ; MaxSpecialObjects = 10
    ; SpecialObjectsPersistWhenOwnerDies = Yes
    ; SpecialObjectsPersistent = Yes          ;Charges are persistent till lifetime expires or owner detonates them.
    ; UniqueSpecialObjectTargets = Yes        ;This prevents multiple charges placed on the same object.
    ; UnpackTime              = 2000          ;NOTE: Modifying this value will require modifying the delay for ColonelBurtonPlantCharge
    ; FlipOwnerAfterUnpacking = Yes
    ; FleeRangeAfterCompletion = 100.0         ;Runs away after finishing ability
    ; UnpackSound              = ColonelBurtonPlantCharge
    ; LoseStealthOnTrigger     = No ;Yes ;<=======================[       =   ]
    ; PreTriggerUnstealthTime  = 5000 ; in milliseconds
  ; End
; ;---------------------------------------------------------------------
  ; Behavior = ExperienceScalarUpgrade ModuleTag_12
    ; TriggeredBy   = Upgrade_AmericaAdvancedTraining
    ; AddXPScalar   = 1.0 ;Increases experience gained by an additional 100%
  ; End
; ;=====================================================================================================================================
; ;-------[Hero units can't be squished!]----------
  ; Behavior = SquishCollide ModuleTag_13   ;          .
    ; ;nothing ;[            ]
  ; End
; ;=====================================================================================================================================
; ;----------- Begin Death modules ------------------
; ;--------------------------------------------------
  ; Behavior = SlowDeathBehavior ModuleTag_Death01
    ; DeathTypes          = ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA
    ; SinkDelay           = 6000
    ; SinkRate            = 0.5     ; in Dist/Sec
    ; DestructionDelay    = 8000
    ; FX                  = INITIAL FX_BossRussianSpecOpsDie
  ; End
  ; Behavior = SlowDeathBehavior ModuleTag_Death02
    ; DeathTypes          = NONE +CRUSHED +SPLATTED
    ; SinkDelay           = 6000
    ; SinkRate            = 0.5     ; in Dist/Sec
    ; DestructionDelay    = 8000
    ; FX                  = INITIAL FX_GIDieCrushed
  ; End
  ; Behavior = SlowDeathBehavior ModuleTag_Death03
    ; DeathTypes          = NONE +EXPLODED
    ; SinkDelay           = 6000
    ; SinkRate            = 0.5     ; in Dist/Sec
    ; DestructionDelay    = 8000
    ; FX                  = INITIAL FX_BossRussianSpecOpsDie
    ; FlingForce          = 8
    ; FlingForceVariance  = 3
    ; FlingPitch          = 60
    ; FlingPitchVariance  = 10
  ; End
  ; Behavior = SlowDeathBehavior ModuleTag_Death04
    ; DeathTypes          = NONE +BURNED
    ; DestructionDelay    = 0
    ; FX                  = INITIAL FX_DieByFireUSA
    ; OCL                 = INITIAL OCL_FlamingInfantry
  ; End
  ; Behavior = SlowDeathBehavior ModuleTag_Death05
    ; DeathTypes          = NONE +POISONED
    ; DestructionDelay    = 0
    ; FX                  = INITIAL FX_DieByToxinUSA
    ; OCL                 = INITIAL OCL_ToxicInfantry
  ; End
    ; Behavior = SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
    ; DeathTypes          = NONE +POISONED_BETA
    ; DestructionDelay    = 0
    ; FX                  = INITIAL FX_DieByToxinUSA
    ; OCL                 = INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
  ; End
  ; Behavior = SlowDeathBehavior ModuleTag_Death07
    ; DeathTypes          = NONE +POISONED_GAMMA
    ; DestructionDelay    = 0
    ; FX                  = INITIAL FX_DieByToxinUSA
    ; OCL                 = INITIAL OCL_ToxicInfantryGamma
  ; End
; ;------------- End Death modules ------------------------
; ;===============================================================================================================
; ;----------------[ ]------------------------------------------
; ;------------------------------------------------------------------------
  ; Behavior = SpecialAbility ModuleTag_SACB1
    ; SpecialPowerTemplate      = SpecialAbilityRangerCaptureBuilding
    ; UpdateModuleStartsAttack  = Yes
    ; StartsPaused              = Yes ; Unpaused by upgrade module
    ; InitiateSound = BossSpecOpsRusVoiceCapture
  ; End
  ; Behavior = SpecialAbilityUpdate ModuleTag_SACB2
    ; SpecialPowerTemplate  = SpecialAbilityRangerCaptureBuilding
    ; StartAbilityRange  = 5.0
    ; UnpackTime            = 3000  ; (changing this will scale anim speed)
    ; PreparationTime       = 20000 ; time to complete hack once prepared (changing this will scale anim speed)
    ; PackTime              = 2000  ; (changing this will scale anim speed)
    ; DoCaptureFX           = Yes
    ; AwardXPForTriggering  = 15
    ; ;SkillPointsForTriggering = ???  -- Dustin, fill me out if you want different balance values.
  ; End
  ; Behavior = UnpauseSpecialPowerUpgrade ModuleTag_SACB3
    ; SpecialPowerTemplate = SpecialAbilityRangerCaptureBuilding
    ; TriggeredBy = Upgrade_InfantryCaptureBuilding
  ; End
; ;------------------------------------------------------------------------
  ; Behavior = PoisonedBehavior ModuleTag_18
    ; PoisonDamageInterval = 100  ; Every this many msec I will retake the poison damage dealt me...
    ; PoisonDuration = 3000       ; ... for this long after last hit by poison damage
  ; End
  ; ; Behavior = AutoHealBehavior ModuleTagHealt
    ; ; HealingAmount = 2
    ; ; HealingDelay = 1000 ; msec
    ; ; TriggeredBy = Upgrade_AmericaInfantryHealth
  ; End
; ;==================================================================================
  ; Behavior = ArmorUpgrade ModuleTag_Armor01
    ; TriggeredBy = Upgrade_AmericaChemicalSuits
  ; End
; ;============================================================
  ; ; Behavior = GrantUpgradeCreate ModuleTag_RSOHGE
    ; ; UpgradeToGrant = Upgrade_AmericaHEGrenade
  ; ; End
  ; ; Behavior = WeaponSetUpgrade ModuleTag_RSOHGE2
    ; ; TriggeredBy = Upgrade_AmericaHEGrenade
  ; ; End
; ;=====================================================================================
  ; Behavior = StealthUpdate ModuleTag_RusSpecOps
    ; StealthDelay               = 1250 ;[2000]* ;msec ;-[2000msec = 2.]
    ; StealthForbiddenConditions = FIRING_PRIMARY FIRING_TERTIARY USING_ABILITY MOVING
    ; HintDetectableConditions   = IS_FIRING_WEAPON USING_ABILITY ;IS_FIRING_WEAPON
    ; FriendlyOpacityMin         = 50.0%
    ; FriendlyOpacityMax         = 100.0%
    ; InnateStealth              = Yes
    ; OrderIdleEnemiesToAttackMeUponReveal  = Yes
    ; ;EnemyDetectionEvaEvent     = EnemyColonelBurtonDetected
    ; ;OwnDetectionEvaEvent       = OwnColonelBurtonDetected
  ; End
; ;=====================================================================================

  ; Geometry = CYLINDER
  ; GeometryMajorRadius = 10.0
  ; GeometryMinorRadius = 10.0
  ; GeometryHeight = 12.0
  ; GeometryIsSmall = Yes
  ; Shadow = SHADOW_DECAL
  ; ShadowSizeX = 14
  ; ShadowSizeY = 14
  ; ShadowTexture = ShadowI
  ; BuildCompletion = APPEARS_AT_RALLY_POINT
  ; Scale = 0.92

; End

;------------------------------------------------------------------------------
Object Boss_RussiaInterceptorMIG25

  ; *** ART Parameters ***
  SelectPortrait         = SNMiG31
  ButtonImage            = SNMiG31_s

  UpgradeCameo1 = Upgrade_ChinaAircraftArmor
  ;UpgradeCameo2 = Upgrade_ChinaBlackNapalm
  ;UpgradeCameo3 = NONE
  ;UpgradeCameo4 = NONE
  ;UpgradeCameo5 = NONE

  Draw = W3DModelDraw ModuleTag_01

    OkToChangeModelColor = Yes

    DefaultConditionState
      Model               = NVMiG31
      HideSubObject       = BurnerFX01 BurnerFX02
      WeaponLaunchBone    = PRIMARY WeaponA
    End

    ConditionState        = JETEXHAUST
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState       = JETEXHAUST JETAFTERBURNER
      ShowSubObject      = BurnerFX01 BurnerFX02
      ParticleSysBone     = Exhaust01 JetExhaust
      ParticleSysBone     = Exhaust02 JetExhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = REALLYDAMAGED
      Model               = NVMiG31;_D
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = RUBBLE
      Model               = NVMiG31;_D
    End

    ConditionState        = REALLYDAMAGED JETEXHAUST
      Model               = NVMiG31;_D
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = REALLYDAMAGED JETEXHAUST JETAFTERBURNER
      Model               = NVMiG31;_D
      ShowSubObject       = BurnerFX01 BurnerFX02
      ParticleSysBone     = Engine01 JetExhaust
      ParticleSysBone     = Engine02 JetExhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = RUBBLE JETEXHAUST JETAFTERBURNER
      ; @todo srj -- model missing
      ;Model              = NVMIG_D1B
      Model               = NVMiG31;_D
      ;HideSubObject is needed cause there're inherited from default condition state
      HideSubObject       = None
      ShowSubObject       = None
      ParticleSysBone     = Engine01 JetExhaust
      ParticleSysBone     = Engine02 JetExhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

  End

  ; ***DESIGN parameters ***
  DisplayName             = OBJECT:WhiteTigerMIG
  EditorSorting           = VEHICLE
  Side                    = Boss
  TransportSlotCount      = 0          ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange             = 500.0
  ShroudClearingRange     = 500.0

  Prerequisites
    Object                = Boss_Airfield
  End
  WeaponSet
    Conditions        = None
    Weapon            = PRIMARY     Boss_MIGInterceptorJetMissileWeaponAir
;    PreferredAgainst  = PRIMARY     INFANTRY VEHICLE STRUCTURE
;    AutoChooseSources = PRIMARY     FROM_PLAYER FROM_SCRIPT FROM_AI
;    Weapon              = SECONDARY   WhiteNapalmMissileWeaponAir
;    PreferredAgainst    = SECONDARY   AIRCRAFT
;    AutoChooseSources   = SECONDARY   FROM_PLAYER FROM_SCRIPT FROM_AI
;    Weapon              = TERTIARY   WhiteTigerArmorNapalmMissileWeapon
;    PreferredAgainst    = TERTIARY   VEHICLE
;    AutoChooseSources   = TERTIARY   FROM_PLAYER FROM_SCRIPT FROM_AI
  End
  ; WeaponSet
    ; Conditions = PLAYER_UPGRADE
    ; Weapon            = PRIMARY     WhiteTigerBlackNapalmMissileWeapon
; ;    PreferredAgainst  = PRIMARY     INFANTRY VEHICLE STRUCTURE
; ;    AutoChooseSources = PRIMARY     FROM_PLAYER FROM_SCRIPT FROM_AI
; ;    Weapon              = SECONDARY   WhiteBlackNapalmMissileWeaponAir
; ;    PreferredAgainst    = SECONDARY   AIRCRAFT
; ;    AutoChooseSources   = SECONDARY   FROM_PLAYER FROM_SCRIPT FROM_AI
; ;    Weapon              = TERTIARY   WhiteTigerArmorBlackNapalmMissileWeapon
; ;    PreferredAgainst    = TERTIARY   VEHICLE
; ;    AutoChooseSources   = TERTIARY   FROM_PLAYER FROM_SCRIPT FROM_AI
  ; End

  ArmorSet
    Conditions           = None
    Armor                = MigArmor
    DamageFX             = None
  End

  BuildCost               = 50000
  BuildTime               = 12
  ExperienceValue         = 50 50 100 150   ;Experience point value at each level
  ExperienceRequired      = 0 100 200 400  ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 1  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet             = MIGInterceptorCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect             = MigVoiceSelect
  VoiceMove               = MigVoiceMove
  VoiceAttack             = MigVoiceAttack
  VoiceAttackAir          = MigVoiceAttackAir
  VoiceGuard              = MigVoiceAirPatrol
  SoundAmbient            = MigAmbientLoop
  UnitSpecificSounds
    VoiceCreate           = MigVoiceCreate
    Afterburner           = Cin_MigFalling
    VoiceGarrison         = MigVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority          = UNIT
  KindOf                 = PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT
  Body                   = ActiveBody ModuleTag_02
    MaxHealth            = 1300.0
    InitialHealth        = 1300.0
  End

  Behavior                          = JetSlowDeathBehavior ModuleTag_03
    FXOnGroundDeath                 = FX_JetOnGroundDeath
    OCLOnGroundDeath                = OCL_MIGDeathFinalBlowUp
    DestructionDelay                = 99999999  ; destruction will happen when we
    RollRate                        = 0.2
    RollRateDelta                   = 100%      ;each frame, rollrate = rollrate * rollrateDelta
    PitchRate                       = 0.0
    FallHowFast                     = 110.0%    ;Bigger is faster (can be over 100%,it's a fraction of gravity)
    FXInitialDeath                  = FX_MigDeathInitial
    OCLInitialDeath                 = OCL_MIGDeathInitial
    DelaySecondaryFromInitialDeath  = 500       ; in milliseconds
    FXSecondary                     = FX_JetDeathSecondary
    OCLSecondary                    = OCL_MIGDeathSecondary
    FXHitGround                     = FX_JetDeathHitGround
    OCLHitGround                    = OCL_MIGDeathHitGround
    DelayFinalBlowUpFromHitGround   = 200       ; in milliseconds
    FXFinalBlowUp                   = FX_JetDeathFinalBlowUp
    OCLFinalBlowUp                  = OCL_MIGDeathFinalBlowUp
  End

  ; Behavior = WeaponSetUpgrade ModuleTag_04
    ; TriggeredBy = Upgrade_ChinaBlackNapalm
  ; End

  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 500.0
  End

  Behavior = JetAIUpdate ModuleTag_06
    OutOfAmmoDamagePerSecond  = 1%     ; amount of damage to take per SEC (not per frame) when out of ammo
                                        ; note that it's expressed as a percent of max health, not an absolute
    TakeoffDistForMaxLift     = 0%   ; larger numbers give more lift sooner when taking off
    TakeoffPause              = 500
    MinHeight                 = 5
    ReturnToBaseIdleTime      = 10000         ; if idle for this long, return to base, even if not out of ammo
  End

  Locomotor = SET_NORMAL WhiteMIGLocomotor
  Locomotor = SET_TAXIING BasicJetTaxiLocomotor


  Behavior = FlammableUpdate ModuleTag_08
    AflameDuration = 5000        ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500      ; this often.
  End

  Behavior                       = TransitionDamageFX ModuleTag_09
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes Psys:SmokeSmallContinuous01
    ReallyDamagedFXList1         = Loc: X:0 Y:0 Z:0 FXList:FX_MIGDamageTransition
  End

  Behavior        = MaxHealthUpgrade ModuleTag_10
    TriggeredBy   = Upgrade_ChinaAircraftArmor
    AddMaxHealth  = 40.0
    ChangeType    = ADD_CURRENT_HEALTH_TOO   ;Choices are PRESERVE_RATIO, ADD_CURRENT_HEALTH_TOO, and SAME_CURRENTHEALTH
  End



  Geometry                 = Box
  GeometryIsSmall          = Yes
  GeometryMajorRadius      = 14.0
  GeometryMinorRadius      = 7.0
  GeometryHeight           = 5.0
  Shadow                   = SHADOW_VOLUME

  Shadow = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length

End


;------------------------------------------------------------------------------
Object Boss_RussiaCopterHokumB

  ; *** ART Parameters ***
  SelectPortrait         = SNHokum_L
  ButtonImage            = SNHokum

  UpgradeCameo1 = Upgrade_ChinaBlackNapalm
  ;UpgradeCameo2 = NONE
  ;UpgradeCameo3 = NONE
  ;UpgradeCameo4 = NONE
  ;UpgradeCameo5 = NONE

  Draw = W3DModelDraw ModuleTag_01

    DefaultConditionState
      Model                           = NVHokum
      Animation                       = NVHokum.NVHokum
      AnimationMode                   = LOOP
      Turret                          = Chassis
      WeaponLaunchBone                = PRIMARY WeaponA
      WeaponFireFXBone                = PRIMARY WeaponA
      WeaponFireFXBone                = SECONDARY WeaponB
      WeaponLaunchBone                = SECONDARY WeaponB
    End

    ConditionState = REALLYDAMAGED
      Model                           = NVHokum_d
      Animation                       = NVHokum_d.NVHokum_d
      AnimationMode                   = LOOP
    End

    ConditionState = RUBBLE
      Model                           = NVHokum_d
      Animation                       = NVHokum_d.NVHokum_d
      AnimationMode                   = LOOP
    End

    ConditionState = RUBBLE SPECIAL_DAMAGED
      Model                           = NVHokum_d
      HideSubObject                   = AVComanche_Prop
    End

    OkToChangeModelColor = Yes
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Hokum
  EditorSorting       = VEHICLE
  Side                = Boss
  TransportSlotCount  = 0                 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange         = 400.0
  ShroudClearingRange = 500
  Prerequisites
    Object            = Boss_Airfield
  End

  WeaponSet
    Conditions          = None
    ; -----
    Weapon              = PRIMARY     HokumAutoCannon
    PreferredAgainst    = PRIMARY     INFANTRY VEHICLE STRUCTURE
    AutoChooseSources   = PRIMARY     FROM_PLAYER FROM_SCRIPT FROM_AI
    ; -----
    Weapon              = SECONDARY   HokumNapalmMissileWeapon
    PreferredAgainst    = SECONDARY   INFANTRY VEHICLE STRUCTURE
    AutoChooseSources   = SECONDARY   FROM_PLAYER FROM_SCRIPT FROM_AI

  End
  WeaponSet
    Conditions          = PLAYER_UPGRADE
    ; -----
    Weapon              = PRIMARY     HokumAutoCannon
    PreferredAgainst    = PRIMARY     INFANTRY VEHICLE STRUCTURE
    AutoChooseSources   = PRIMARY     FROM_PLAYER FROM_SCRIPT FROM_AI
    ; -----
    Weapon              = SECONDARY   HokumBlackNapalmMissileWeapon
    PreferredAgainst    = SECONDARY   INFANTRY VEHICLE STRUCTURE
    AutoChooseSources   = SECONDARY   FROM_PLAYER FROM_SCRIPT FROM_AI
  End
  ArmorSet
    Conditions      = None
    Armor           = ApacheArmor
    DamageFX        = None
  End
  BuildCost           = 40000
  BuildTime           = 20              ; in seconds
  ExperienceValue     = 50 50 100 200   ; Experience point value at each level
  ExperienceRequired  = 0 100 200 400   ; Experience points needed to gain each level
  IsTrainable         = Yes             ; Can gain experience
  CommandSet          = ChinaVehicleHokumCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect           = TigerVoiceSelect
  VoiceMove             = TigerVoiceMove
  VoiceGuard            = TigerVoiceMove
  VoiceAttack           = TigerVoiceAttack
  VoiceAttackAir        = TigerVoiceAttack
  SoundAmbient          = TigerAmbientLoop
  SoundAmbientRubble    = NoSound
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate         = TigerVoiceCreate
    VoiceGarrison       = TigerVoiceMove
  End


  ; *** ENGINEERING Parameters ***
  RadarPriority   = UNIT
  KindOf          = PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT PRODUCED_AT_HELIPAD

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 2300
    InitialHealth   = 2300
  End

  Behavior = FXListDie ModuleTag_03
    DeathFX = FX_ComancheStartDeath
  End

  Behavior = JetAIUpdate ModuleTag_04
    MinHeight                     = 5
    NeedsRunway                   = No
    KeepsParkingSpaceWhenAirborne = No
    AutoAcquireEnemiesWhenIdle    = Yes
    ; note that comanches do not return to base when idle

    ; this is a bit of a trick... normally, units cannot move-and-fire at
    ; the same time. we need the comanche to be able to. so we give it
    ; a "turret" (invisible) and put the two main weapons on it, but with
    ; no turn rate. voila!
    Turret
      TurretTurnRate = 0      ; this "turret" does not turn
      TurretPitchRate = 0     ; nor does it pitch
      ControlledWeaponSlots = PRIMARY SECONDARY
    End

  End
  Locomotor = SET_NORMAL  ComancheLocomotor
  Locomotor = SET_TAXIING BasicHelicopterTaxiLocomotor

  Behavior = WeaponSetUpgrade ModuleTag_05
    TriggeredBy = Upgrade_ChinaBlackNapalm
  End

  Behavior = PhysicsBehavior ModuleTag_06
    Mass = 50.0
  End
  Behavior = HelicopterSlowDeathBehavior ModuleTag_07
    DestructionDelay                = 99999999        ; the destruction delay
    SpiralOrbitTurnRate             = 140.0           ; in degrees per second, bigger # = tighter spiral
    SpiralOrbitForwardSpeed         = 310.0           ; bigger # = larger spiral
    SpiralOrbitForwardSpeedDamping  = .9999           ; smaller #'s = slow down faster
    MaxBraking                      = 200   ; max braking we can use during death spiral (lower num = wilder spiral)    
    SoundDeathLoop                  = HelixDamagedLoop
    MinSelfSpin                     = 100                    ; in degrees per second
    MaxSelfSpin                     = 300                     ; in degrees per second
    SelfSpinUpdateDelay             = 100                     ; in milliseconds
    SelfSpinUpdateAmount            = 10                    ; in degrees   
    FallHowFast                     = 9.0%                   ; fraction of gravity, lower = take longer to fall
    MinBladeFlyOffDelay             = 1100                    ; in milliseconds
    MaxBladeFlyOffDelay             = 1100                    ; in milliseconds
    AttachParticle                  = SootySmokeTrail
    AttachParticleBone              = Propeller02
    BladeObjectName                 = ComancheBlades
    BladeBoneName                   = Propeller01    
    FXBlade                         = FX_HelicopterBladeExplosion
    OCLBlade                        = OCL_HelicopterBladeExplosion
    FXHitGround                     = FX_HelicopterHitGround
    OCLHitGround                    = OCL_HelicopterHitGround
    FXFinalBlowUp                   = FX_GroundedHelicopterBlowUp
    OCLFinalBlowUp                  = OCL_GroundedHelicopterBlowUp
    DelayFromGroundToFinalDeath     = 1500
    FinalRubbleObject               = HokumRubbleHull
  End


  Behavior = TransitionDamageFX ModuleTag_08
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuousDown
    ReallyDamagedFXList1         = Loc: X:0 Y:0 Z:0 FXList:FX_ComancheDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_09
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Geometry = BOX
  GeometryMajorRadius = 25.0
  GeometryMinorRadius = 10.25
  GeometryHeight = 2.5
  GeometryIsSmall = No
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;----------------------------------------------------------------------
Object Boss_RussiaNavyJetSu47

  SelectPortrait = be_L
  ButtonImage = be

  UpgradeCameo1 = Upgrade_ChinaAircraftArmor
  ;UpgradeCameo2 = Upgrade_GammaRad

  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes
    DefaultConditionState
      Model = nvbeagle
      HideSubObject = BurnerFX01 BurnerFX02
      WeaponLaunchBone = PRIMARY WeaponA
    End
    ConditionState = JETEXHAUST
      ParticleSysBone = Wingtip03 JetContrail
      ParticleSysBone = Wingtip04 JetContrail
    End
    ConditionState = JETEXHAUST JETAFTERBURNER
      ShowSubObject = BurnerFX01 BurnerFX02
      ParticleSysBone = Exhaust01 JetExhaust
      ParticleSysBone = Exhaust02 JetExhaust
      ParticleSysBone = Wingtip03 JetContrail
      ParticleSysBone = Wingtip04 JetContrail
    End
    ConditionState = REALLYDAMAGED
      Model = nvbeagle_d
      ParticleSysBone = Wingtip03 JetContrail
      ParticleSysBone = Wingtip04 JetContrail
    End
    ConditionState = RUBBLE
      Model = nvbeagle_d
    End
    ConditionState = REALLYDAMAGED JETEXHAUST
      Model = nvbeagle_d
      ParticleSysBone = Wingtip03 JetContrail
      ParticleSysBone = Wingtip04 JetContrail
    End
    ConditionState = REALLYDAMAGED JETEXHAUST JETAFTERBURNER
      Model = nvbeagle_d
      ShowSubObject = BurnerFX01 BurnerFX02
      ParticleSysBone = Engine01 JetExhaust
      ParticleSysBone = Engine02 JetExhaust
      ParticleSysBone = Wingtip03 JetContrail
      ParticleSysBone = Wingtip04 JetContrail
    End
    ConditionState = RUBBLE JETEXHAUST JETAFTERBURNER
      Model = nvbeagle_d
      ParticleSysBone = Engine01 JetExhaust
      ParticleSysBone = Engine02 JetExhaust
      ParticleSysBone = Wingtip03 JetContrail
      ParticleSysBone = Wingtip04 JetContrail
    End
  End

;;;
  DisplayName = OBJECT:Bomber
  EditorSorting = VEHICLE
  Side = Boss
  TransportSlotCount = 0
  VisionRange = 200.0
  ShroudClearingRange = 300.0
  Prerequisites
    Object = Boss_Airfield
    Object = Boss_TechCentr
  End
  WeaponSet
    Conditions = None
    ;Weapon = PRIMARY BomberBombWeapon2
	Weapon = PRIMARY Su47Bomb
  End
  ; WeaponSet
    ; Conditions = PLAYER_UPGRADE
    ; Weapon = PRIMARY BomberBombWeapon3
  ; End
  ArmorSet
    Conditions = None
    Armor = MigArmor
    DamageFX = None
  End
  BuildCost = 55000
  BuildTime = 10
  ExperienceValue = 50 50 100 150
  ExperienceRequired = 0 100 200 400
  IsTrainable = Yes
  CrusherLevel = 1
  CrushableLevel = 2
  CommandSet = AttackJetCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect             = MigBomberVoiceSelect
  VoiceMove               = MigBomberVoiceMove
  VoiceAttack             = MigBomberVoiceAttack
  VoiceGuard              = MigBomberVoiceMove
  SoundAmbient            = MigAmbientLoop
  UnitSpecificSounds
    VoiceCreate           = MigBomberVoiceCreate
    Afterburner           = RaptorAfterburner
    VoiceGarrison         = MigBomberVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority          = UNIT
  KindOf                 = PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT
  Body                   = ActiveBody ModuleTag_02
    MaxHealth            = 1500.0
    InitialHealth        = 1500.0
  End

  Behavior                          = JetSlowDeathBehavior ModuleTag_03
    FXOnGroundDeath                 = FX_JetOnGroundDeath
    OCLOnGroundDeath                = OCL_MIGDeathFinalBlowUp
    DestructionDelay                = 99999999  ; destruction will happen when we
    RollRate                        = 0.2
    RollRateDelta                   = 100%      ;each frame, rollrate = rollrate * rollrateDelta
    PitchRate                       = 0.0
    FallHowFast                     = 110.0%    ;Bigger is faster (can be over 100%,it's a fraction of gravity)
    FXInitialDeath                  = FX_MigDeathInitial
    OCLInitialDeath                 = OCL_MIGDeathInitial
    DelaySecondaryFromInitialDeath  = 500       ; in milliseconds
    FXSecondary                     = FX_JetDeathSecondary
    OCLSecondary                    = OCL_MIGDeathSecondary
    FXHitGround                     = FX_JetDeathHitGround
    OCLHitGround                    = OCL_MIGDeathHitGround
    DelayFinalBlowUpFromHitGround   = 200       ; in milliseconds
    FXFinalBlowUp                   = FX_JetDeathFinalBlowUp
    OCLFinalBlowUp                  = OCL_MIGDeathFinalBlowUp
  End

  ; Behavior = WeaponSetUpgrade ModuleTag_04
    ; TriggeredBy = Upgrade_GammaRad
  ; End

  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 500.0
  End

  Behavior = JetAIUpdate ModuleTag_06
    OutOfAmmoDamagePerSecond  = 1%     ; amount of damage to take per SEC (not per frame) when out of ammo
                                        ; note that it's expressed as a percent of max health, not an absolute
    TakeoffDistForMaxLift     = 0%   ; larger numbers give more lift sooner when taking off
    TakeoffPause              = 500
    MinHeight                 = 5
    ReturnToBaseIdleTime      = 10000         ; if idle for this long, return to base, even if not out of ammo
  End

  Locomotor = SET_NORMAL BlackEagleLocomotor
  Locomotor = SET_TAXIING BasicJetTaxiLocomotor


  Behavior = FlammableUpdate ModuleTag_08
    AflameDuration = 5000        ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500      ; this often.
  End

  Behavior                       = TransitionDamageFX ModuleTag_09
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes Psys:SmokeSmallContinuous01
    ReallyDamagedFXList1         = Loc: X:0 Y:0 Z:0 FXList:FX_MIGDamageTransition
  End

  Behavior        = MaxHealthUpgrade ModuleTag_10
    TriggeredBy   = Upgrade_ChinaAircraftArmor
    AddMaxHealth  = 100.0
    ChangeType    = ADD_CURRENT_HEALTH_TOO   ;Choices are PRESERVE_RATIO, ADD_CURRENT_HEALTH_TOO, and SAME_CURRENTHEALTH
  End

  Geometry                 = Box
  GeometryIsSmall          = Yes
  GeometryMajorRadius      = 14.0
  GeometryMinorRadius      = 7.0
  GeometryHeight           = 5.0
  Shadow                   = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;=====================================================================================================
Object Boss_RussiaJetSu57

  ; *** ART Parameters ***

  SelectPortrait = SAKingRap_L
  ButtonImage    = SAKingRap
  
  UpgradeCameo1 = Upgrade_AmericaAdvancedTraining
  UpgradeCameo2 = Upgrade_AmericaCountermeasures
  UpgradeCameo3 = Upgrade_AmericaLaserMissiles
  ;UpgradeCameo4 = Upgrade_AmericaBunkerBusters
  ;UpgradeCameo5 = Upgrade_MilitiaSpearTank


  Draw = W3DModelDraw ModuleTag_01
    ParticlesAttachedToAnimatedBones = Yes
    ProjectileBoneFeedbackEnabledSlots = PRIMARY
    OkToChangeModelColor = No

  ;==================================================
    DefaultConditionState
      Model            = SU50
      WeaponLaunchBone = PRIMARY WEAPONA
      WeaponLaunchBone = SECONDARY GUN
      WeaponFireFXBone = SECONDARY GUN
    End

  ;==================================================
    ConditionState = MOVING
      Model            = SU50
      WeaponLaunchBone = PRIMARY WEAPONA
      WeaponLaunchBone = SECONDARY GUN
      WeaponFireFXBone = SECONDARY GUN
     ;------------------------------------------------------------------------------------------------------------------------
      ParticleSysBone = Engine01 SpectreEngineFlare ;<=======[  (,-   )] (1)
      ParticleSysBone = Engine02 SpectreEngineFlare
     ;ParticleSysBone = Engine03 SpectreEngineFlare
     ;------------------------------------------------------------------------------------------------------------------------
      ParticleSysBone = Engine01 JetEngineFlame ;<======[ -  DetroyT-   F-22 King Raptor]
      ParticleSysBone = Engine02 JetEngineFlame ;<======[ -  DetroyT-   F-22 King Raptor]
     ;------------------------------------------------------------------------------------------------------------------------
      ParticleSysBone  = Wingtip01 JetContrail
      ParticleSysBone  = Wingtip02 JetContrail
     ;-----------------------------------------------------------|==================================================================|
     ;ParticleSysBone  = Engine01  JetExhaust  ;;JetExhaustHeat ;|                          :                             |
     ;ParticleSysBone  = Engine02  JetExhaust  ;;JetExhaustHeat ;|------------------------------------------------------------------|
     ;ParticleSysBone  = Engine03  JetExhaust  ;;JetExhaustHeat ;|  Engine01 -             |
     ;ParticleSysBone  = Engine04  JetExhaust  ;;JetExhaustHeat ;|  Engine02 -         |
     ;-----------------------------------------------------------|==================================================================|
    End

    ConditionState = JETEXHAUST
     ;------------------------------------------------------------------------------------------------------------------------
      ParticleSysBone = Engine01 SpectreEngineFlare ;<=======[  (,-   )] (2)
      ParticleSysBone = Engine02 SpectreEngineFlare
     ;ParticleSysBone = Engine03 SpectreEngineFlare
     ;------------------------------------------------------------------------------------------------------------------------
      ; exhaust
      ParticleSysBone = Wingtip01 JetContrail
      ParticleSysBone = Wingtip02 JetContrail
    End

    ConditionState = JETEXHAUST JETAFTERBURNER
      ; exhaust
      ParticleSysBone = Wingtip01 JetContrail
      ParticleSysBone = Wingtip02 JetContrail
      ; afterburner
      ShowSubObject   = BurnerFX01 BurnerFX02
     ;------------------------------------------------------------------------------------------------------------------------
      ParticleSysBone = Engine01 SpectreEngineFlare ;<=======[  (,-   )] (3)
      ParticleSysBone = Engine02 SpectreEngineFlare
     ;ParticleSysBone = Engine03 SpectreEngineFlare
     ;-----------------------------------------------------------------------------------------------------------------------
    End

    ConditionState = REALLYDAMAGED
      Model           = SU50
      ; damage
      ParticleSysBone = Smoke01 JetSmoke
      ParticleSysBone = Engine01 JetEngineDamagedSmoke
     ;------------------------------------------------------------
      ParticleSysBone = Engine01 JetLenzflare  ;<================[  ](  ) [1]
      ParticleSysBone = Engine02 JetLenzflare  ;<================[  ](  )
      ParticleSysBone = Engine03 JetLenzflare  ;<================[  ](  )
     ;------------------------------------------------------------
    End

  ;======================================================
    ConditionState = REALLYDAMAGED MOVING
      Model           = SU50
      ; damage
      ParticleSysBone = Smoke01 JetSmoke
      ParticleSysBone = Engine01 JetEngineDamagedSmoke
      ; exhaust
      ParticleSysBone = Wingtip01 JetContrail
      ParticleSysBone = Wingtip02 JetContrail
     ;-----------------------------------------------------------
      ParticleSysBone = Engine01 JetLenzflare  ;<================[  ](  ) [2]
      ParticleSysBone = Engine02 JetLenzflare  ;<================[  ](  )
      ParticleSysBone = Engine03 JetLenzflare  ;<================[  ](  )
     ;-----------------------------------------------------------
    End

    ConditionState = REALLYDAMAGED JETEXHAUST
      Model           = SU50
      ; damage
      ParticleSysBone = Smoke01 JetSmoke
      ParticleSysBone = Engine01 JetEngineDamagedSmoke
      ; exhaust
      ParticleSysBone = Wingtip01 JetContrail
      ParticleSysBone = Wingtip02 JetContrail
     ;-----------------------------------------------------------
      ParticleSysBone = Engine01 JetLenzflare  ;<================[  ](  ) [3]
      ParticleSysBone = Engine02 JetLenzflare  ;<================[  ](  )
      ParticleSysBone = Engine03 JetLenzflare  ;<================[  ](  )
     ;-----------------------------------------------------------
    End

    ConditionState = REALLYDAMAGED JETEXHAUST JETAFTERBURNER
      Model           = SU50
      ; damage
      ParticleSysBone = Smoke01 JetSmoke
      ParticleSysBone = Engine01 JetEngineDamagedSmoke
      ; afterburner
      ShowSubObject   = BurnerFX01 BurnerFX02
      ; exhaust
      ParticleSysBone = Wingtip01 JetContrail
      ParticleSysBone = Wingtip02 JetContrail
     ;-----------------------------------------------------------
      ParticleSysBone = Engine01 JetLenzflare  ;<================[  ](  ) [4]
      ParticleSysBone = Engine02 JetLenzflare  ;<================[  ](  )
      ParticleSysBone = Engine03 JetLenzflare  ;<================[  ](  )
     ;-----------------------------------------------------------
    End
  End
  ; ***DESIGN parameters ***

  DisplayName         = OBJECT:Su57PakFa
  EditorSorting       = VEHICLE
  Side                = Boss
  TransportSlotCount  = 0          ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange         = 350.0
  ShroudClearingRange = 400
  Prerequisites
    Object = Boss_Airfield
    Object = Boss_TechCentr
  End
  BuildCost = 65000
  BuildTime = 55.0
  ExperienceValue    = 50 50 150 200  ;Experience point value at each level
  ExperienceRequired = 0 100 200 400  ;Experience points needed to gain each level
  IsTrainable = Yes   ;Can gain experience
  CrusherLevel   = 1  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel = 2  ;What am I?:  0 = for infantry, 1 = for trees, 2 = general vehicles
  ;CommandSet  = Su57CommandSet
  CommandSet  = FighterJetCommandSet
;================================================================================================================================================================
  WeaponSet
    Conditions = None
    Weapon            = PRIMARY Boss_T50JetMissileWeaponHardA                ;-[: F-23Missile];(14 : : 500.0, : 600)
    PreferredAgainst  = PRIMARY AIRCRAFT
	AutoChooseSources = PRIMARY FROM_SCRIPT FROM_AI DEFAULT_SWITCH_WEAPON
    Weapon            = SECONDARY Boss_T50JetF117MissileWeapon               ;-[: F-23Bomb];(14 : 14x165.0/500.0/1500/600/8000)
    PreferredAgainst  = SECONDARY VEHICLE STRUCTURE
	AutoChooseSources = SECONDARY FROM_SCRIPT FROM_AI
	Weapon            = TERTIARY Boss_T50JetBomberBombWeapon
	PreferredAgainst  = TERTIARY STRUCTURE INFANTRY VEHICLE
    AutoChooseSources = TERTIARY FROM_SCRIPT FROM_AI
    WeaponLockSharedAcrossSets = Yes ; This set is so similar to the default set that it can hold the weapon lock
  End

  WeaponSet
    Conditions = PLAYER_UPGRADE 
    Weapon            = PRIMARY Boss_T50JetMissileWeaponUpgHardA
	PreferredAgainst  = PRIMARY AIRCRAFT
    AutoChooseSources = PRIMARY FROM_SCRIPT FROM_AI DEFAULT_SWITCH_WEAPON
	Weapon            = SECONDARY Boss_T50JetMissileWeaponHardB
    AutoChooseSources = SECONDARY FROM_SCRIPT FROM_AI
	PreferredAgainst  = SECONDARY VEHICLE STRUCTURE
    Weapon            = TERTIARY Boss_T50JetBomberBombWeapon
	PreferredAgainst  = TERTIARY STRUCTURE INFANTRY VEHICLE
    AutoChooseSources = TERTIARY FROM_SCRIPT FROM_AI
    WeaponLockSharedAcrossSets = Yes ; This set is so similar to the default set that it can hold the weapon lock
  End
;-------------------------------------------------------------------------------------------------------------------
  ArmorSet
    Conditions = None
    Armor      = AirplaneArmor
    DamageFX   = None
  End
  ArmorSet
    Conditions = PLAYER_UPGRADE
    Armor      = CountermeasuresAirplaneArmor
    DamageFX   = None
  End
;========================================================================================================================

  ; *** AUDIO Parameters ***
 ;------------------------------------------------
  VoiceSelect    = T50PakFaVoiceSelect
  VoiceMove      = T50PakFaVoiceMove
  VoiceAttack    = T50PakFaVoiceAttack
  VoiceAttackAir = T50PakFaVoiceAttack
  VoiceGuard     = T50PakFaVoiceGuard
  SoundAmbient       = StealthFighterAmbientLoop
  SoundAmbientRubble = NoSound
  SoundStealthOn     = StealthOn
  SoundStealthOff    = StealthOff
  UnitSpecificSounds
    VoiceCreate = T50PakFaVoiceCreate
    Afterburner = RaptorAfterburner
    VoiceLowFuel  = SkynetRaptorLowFuel
    VoiceGarrison = T50PakFaVoiceGarrisonMove
  End


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT
  Body = ActiveBody ModuleTag_02
    MaxHealth     = 2000.0 ;300.0
    InitialHealth = 2000.0 ;300.0
  End
;=================================================================================================
  Behavior = ProductionUpdate ModuleTag_03
    ;MaxQueueEntries = 1 ;So you can't build multiple upgrades in the same frame
  End
;--------------------------------------------------
  Behavior = WeaponBonusUpgrade ModuleTag_04
    TriggeredBy = Upgrade_AmericaLaserMissiles
  End
;-----------------------------------------------------------------------------------------------
  ; Behavior = WeaponSetUpgrade ModuleTag_05
    ; TriggeredBy = Upgrade_AmericaBunkerBusters
  ; End
  ; Behavior = CommandSetUpgrade ModuleTag_06
    ; CommandSet = Su57UpgradeCommandSet
    ; TriggeredBy = Upgrade_AmericaBunkerBusters
  ; End
  Behavior = ExperienceScalarUpgrade ModuleTag_07
    TriggeredBy = Upgrade_AmericaAdvancedTraining
    AddXPScalar = 1.0 ;Increases experience gained by an additional 100%
  End
;=================[    ]==================================================================================
;-----------------------------------------------------------------------
  Behavior = JetSlowDeathBehavior ModuleTag_08
    DeathTypes = ALL -POISONED -POISONED_BETA -POISONED_GAMMA -EXTRA_6
    FXOnGroundDeath                 = FX_JetOnGroundDeath;<======================================(1) FX  1 -    ParticleSystem ,   ?
    OCLOnGroundDeath                = OCL_T50;<==================================================(1) OCL 1 - Hulk
    DestructionDelay                = 99999999  ; destruction will happen when we
    RollRate                        = 0.2
    RollRateDelta                   = 100%      ;each frame, rollrate = rollrate * rollrateDelta
    PitchRate                       = 0.0
    FallHowFast                     = 110.0%    ;Bigger is faster (can be over 100%,it's a fraction of gravity)
    FXInitialDeath                  = FX_MigDeathInitial;FX_T50 ;<===============================(2) FX  2 -    FX-  PR9.1
    OCLInitialDeath                 = OCL_MIGDeathInitial;<======================================(2) OCL 2 - 
    DelaySecondaryFromInitialDeath  = 500
    FXSecondary                     = FX_JetDeathSecondary;<=====================================(3) FX  3 - 
    OCLSecondary                    = OCL_MIGDeathSecondary;<====================================(3) OCL 3 - 
    FXHitGround                     = FX_JetDeathHitGround;<=====================================(4) FX  4 -  ,,   PR9.1
    OCLHitGround                    = OCL_MIGDeathHitGround;<====================================(4) OCL 4 - 
    DelayFinalBlowUpFromHitGround   = 200
    FXFinalBlowUp                   = FX_JetDeathFinalBlowUp;<===================================(5) FX  5 - 
    OCLFinalBlowUp                  = OCL_T50;<==================================================(5) OCL 5 - Hulk
  End
 ;---------------------------------------------------------------------- +    
  Behavior = SlowDeathBehavior ModuleTag_Poisoned
    DeathTypes = NONE +POISONED +POISONED_BETA +POISONED_GAMMA +EXTRA_6
    DestructionDelay = 100
    OCL = FINAL OCL_T50
  End
;============================================================================================================================
  Behavior = PhysicsBehavior ModuleTag_09
    Mass = 500.0
  End
;=============================================================================================================
;=============[   ]==========================================================================
;-----------------------------------------------------------------------------------------------------------
  Behavior = JetAIUpdate ModuleTag_10
    OutOfAmmoDamagePerSecond = 1%     ;Amount of damage to take per SEC (not per frame) when out of ammo
    TakeoffDistForMaxLift    = 0%      ;Larger numbers give more lift sooner when taking off
    TakeoffPause             = 200 ;50 ;  ;[500]*
    MinHeight                = 5       ;
    ParkingOffset            = 3       ;Scooch it a little forward so the tail doesn't hit the doors
    ReturnToBaseIdleTime     = 20000   ;If idle for this long, return to base, even if not out of ammo
    LockonTime        = 1000
    LockonCursor      = LockonCursor
    LockonBlinky      = No
    LockonAngleSpin   = 1000
    LockonInitialDist = 450
    LockonFreq        = 1000
  End

;============================================================================
  Locomotor = SET_NORMAL  Su57JetLocomotor
  Locomotor = SET_TAXIING BasicJetTaxiLocomotor
;============================================================================

  Behavior = FlammableUpdate ModuleTag_12
    AflameDuration = 5000    ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3   ; taking this much damage...
    AflameDamageDelay = 500  ; this often.
  End
  Behavior = TransitionDamageFX ModuleTag_13
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes Psys:SmokeSmallContinuous01
    ReallyDamagedFXList1         = Loc: X:0 Y:0 Z:0 FXList:FX_MIGDamageTransition
  End
;==================================================================================================================
  Behavior = ArmorUpgrade ModuleTag_14
    TriggeredBy = Upgrade_AmericaCountermeasures
  End
 ;--------------------------------------------------
  Behavior = CountermeasuresBehavior ModuleTag_15          ;[    Revolution]:
    TriggeredBy           = Upgrade_AmericaCountermeasures
    FlareTemplateName     = CountermeasureFlare
    FlareBoneBaseName     = Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
    VolleySize            = 4 ;[3]* ; Number of flares launched per volley (requires bones)
    VolleyArcAngle        = 90.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
    VolleyVelocityFactor  = 2.0 ;[1.0]* ; Shoots out flares at a stronger velocity with a higher value.
    DelayBetweenVolleys   = 1000  ; Time between flare volleys
    NumberOfVolleys       = 5     ; Number of times the volleys will fire before reloading
    ReloadTime            = 0  ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
    EvasionRate           = 30% ;[50%]* ; With active flares, the specified percentage will be diverted.
    ReactionLaunchLatency = 100 ;[0]*   ; Reaction between getting shot at and the firing of the first volley of countermeasures.
    MissileDecoyDelay     = 200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
  End

;==============[    ]========================================
  ; Behavior = PointDefenseLaserUpdate ModuleTag_Laser_One
    ; WeaponTemplate        = AirF_PointDefenseLaser
    ; PrimaryTargetTypes    = BALLISTIC_MISSILE SMALL_MISSILE
    ; ScanRate              = 0
    ; ScanRange             = 200.0
    ; PredictTargetVelocityFactor = 1.0
  ; End

;==============[    ]============================================
  ; Behavior = FireWeaponUpdate ModuleTag_ECMJ
    ; Weapon = ECMTankMissileJammer
    ; ExclusiveWeaponDelay = 1000
  ; End

;=============[    ]===========================================
  ; Behavior = OverlordContain ModuleTag_OverlordContain
    ; Slots                   = 1
    ; DamagePercentToUnits    = 100%
    ; AllowInsideKindOf       = PORTABLE_STRUCTURE
    ; PassengersAllowedToFire = Yes
    ; PayloadTemplateName     = AirF_AmericaFA-XXDetector
    ; ExperienceSinkForRider  = Yes ; I get the Exp for things my turret friend kills
  ; End

;=============[ - ]==================================================
  ; Behavior = StealthUpgrade ModuleTag_STLZ1
    ; TriggeredBy = Upgrade_MilitiaSpearTank
  ; End
  Behavior = StealthUpdate ModuleTag_STLZ2
    StealthDelay               = 2000 ;1500 ;[   -: 2000 msec = 2.]
    StealthForbiddenConditions = ATTACKING
    FriendlyOpacityMin         = 50.0%
    FriendlyOpacityMax         = 100.0%
    InnateStealth              = No
    OrderIdleEnemiesToAttackMeUponReveal = Yes
  End

  Geometry            = Box
  GeometryIsSmall     = Yes
  GeometryMajorRadius = 14.0
  GeometryMinorRadius = 7.0
  GeometryHeight      = 5.0
  Shadow              = SHADOW_VOLUME
  ShadowSizeX = 89
  Scale = 0.98
End

;=====================================================[ -50 "" ]=============================
Object Boss_RussiaJetSu50

  ; *** ART Parameters ***

  SelectPortrait = SuperStriker_L
  ButtonImage    = SuperStriker

  UpgradeCameo1 = Upgrade_AmericaAdvancedTraining
  UpgradeCameo2 = Upgrade_AmericaCountermeasures
  ;UpgradeCameo3 = Upgrade_AmericaBunkerBusters


  Draw = W3DModelDraw ModuleTag_01
    ParticlesAttachedToAnimatedBones = Yes
    ProjectileBoneFeedbackEnabledSlots = PRIMARY

  ;==================================================
    DefaultConditionState
      Model            = SUT50
      WeaponLaunchBone = PRIMARY WeaponA
     ;WeaponLaunchBone = SECONDARY GUN
      WeaponFireFXBone = PRIMARY GUN
    End

  ;==================================================
    ConditionState = MOVING
      Model            = SUT50
      WeaponLaunchBone = PRIMARY WeaponA
     ;WeaponLaunchBone = SECONDARY GUN
      WeaponFireFXBone = PRIMARY GUN
     ;-----------------------------------------------------------------------------------------------------------------[-     ]
      ParticleSysBone = Engine01 SpectreEngineFlare ;[  (,-   )]
      ParticleSysBone = Engine02 SpectreEngineFlare ;[Engine01 -      ]
     ;ParticleSysBone = Engine03 SpectreEngineFlare ;[Engine02 -       ]
     ;------------------------------------------------------------------------------------------------------------------
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ParticleSysBone     = Wingtip03 JetContrail
      ParticleSysBone     = Wingtip04 JetContrail
     ;--------------------------------------------
    End

    ConditionState        = JETEXHAUST
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ParticleSysBone     = Wingtip03 JetContrail
      ParticleSysBone     = Wingtip04 JetContrail
    End

    ConditionState        = JETEXHAUST JETAFTERBURNER
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ParticleSysBone     = Wingtip03 JetContrail
      ParticleSysBone     = Wingtip04 JetContrail
     ;----------------
      ; afterburner
      ShowSubObject       = BurnerFX01 BurnerFX02
      ;ParticleSysBone     = Engine01 JetLenzflare
      ;ParticleSysBone     = Engine02 JetLenzflare
    End

    ConditionState        = REALLYDAMAGED
      Model               = SUT50
      ; damage
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
    End

  ;======================================================
    ConditionState = REALLYDAMAGED MOVING
      Model               = SUT50
      ; damage
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ParticleSysBone     = Wingtip03 JetContrail
      ParticleSysBone     = Wingtip04 JetContrail
     ;-----------------------------------------------------------------------------------------------------------------[-     ]
      ParticleSysBone = Engine01 SpectreEngineFlare ;[  (,-   )]
      ParticleSysBone = Engine02 SpectreEngineFlare ;[Engine01 -      ]
     ;ParticleSysBone = Engine03 SpectreEngineFlare ;[Engine02 -       ]
     ;------------------------------------------------------------------------------------------------------------------
    End

    ConditionState        = REALLYDAMAGED JETEXHAUST
      Model               = SUT50
      ; damage
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ParticleSysBone     = Wingtip03 JetContrail
      ParticleSysBone     = Wingtip04 JetContrail
    End

    ConditionState        = REALLYDAMAGED JETEXHAUST JETAFTERBURNER
      Model               = SUT50
      ; damage
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
      ; afterburner
      ShowSubObject       = BurnerFX01 BurnerFX02
      ;ParticleSysBone     = Engine01 JetLenzflare
      ;ParticleSysBone     = Engine02 JetLenzflare
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ParticleSysBone     = Wingtip03 JetContrail
      ParticleSysBone     = Wingtip04 JetContrail
    End

    ConditionState        = RUBBLE
      Model               = SUT50
      HideSubObject       = None
      ShowSubObject       = None
    End

    ConditionState        = RUBBLE JETEXHAUST JETAFTERBURNER
      Model               = SUT50
      ;HideSubObject is needed cause there're inherited from default condition state
      HideSubObject       = None
      ShowSubObject       = None
      ParticleSysBone     = Engine01 JetExhaust
      ParticleSysBone     = Engine02 JetExhaust
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ParticleSysBone     = Wingtip03 JetContrail
      ParticleSysBone     = Wingtip04 JetContrail
    End
    ConditionState      = ATTACKING USING_WEAPON_A
      Model             = SUT50
      WeaponLaunchBone  = PRIMARY WeaponB
      WeaponMuzzleFlash = PRIMARY WeaponB
      WeaponFireFXBone  = PRIMARY WeaponB
      ParticleSysBone   = WeaponB GattlingMuzzleSmoke
      ParticleSysBone   = WeaponB GattlingMuzzleSmoke
    End

    OkToChangeModelColor = Yes

  End


  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Cy-50Pulse
  EditorSorting       = VEHICLE
  Side                = Boss
  TransportSlotCount  = 0 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange         = 350.0
  ShroudClearingRange = 500.0
  Prerequisites
    Object = Boss_Airfield
    Object = Boss_TechCentr
  End
  BuildCost = 35000
  BuildTime = 30.0
;========================================================================================================================
  WeaponSet
    Conditions = None 
    Weapon            = PRIMARY F-23Missile
	PreferredAgainst  = PRIMARY AIRCRAFT
	AutoChooseSources = PRIMARY FROM_SCRIPT FROM_AI
    Weapon            = SECONDARY Su50JetMissileWeapon
    PreferredAgainst  = SECONDARY VEHICLE STRUCTURE
    AutoChooseSources = SECONDARY FROM_SCRIPT FROM_AI
    ;WeaponLockSharedAcrossSets = Yes ; This set is so similar to the default set that it can hold the weapon lock
  End
  WeaponSet
    Conditions = PLAYER_UPGRADE
    Weapon            = PRIMARY F-23Missile
	PreferredAgainst  = PRIMARY AIRCRAFT
	AutoChooseSources = PRIMARY FROM_SCRIPT FROM_AI
    Weapon            = SECONDARY Su50JetMissileWeaponUpg
    PreferredAgainst  = SECONDARY VEHICLE STRUCTURE
    AutoChooseSources = SECONDARY FROM_SCRIPT FROM_AI
    ;WeaponLockSharedAcrossSets = Yes ; This set is so similar to the default set that it can hold the weapon lock
  End
;========================================================================================================================
  ArmorSet
    Conditions = None
    Armor      = AirplaneArmor
    DamageFX   = None
  End
  ArmorSet
    Conditions = PLAYER_UPGRADE
    Armor      = CountermeasuresAirplaneArmor
    DamageFX   = None
  End
  ExperienceValue = 200 200 400 400   ;Experience point value at each level
  ExperienceRequired = 0 250 500 1000  ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel   = 1  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = FighterJetCommandSet


  ; *** AUDIO Parameters ***
  VoiceSelect            = RZBackVoiceSelect
  VoiceMove              = RZBackVoiceMove
  VoiceAttack            = F-23VoiceAttack
  VoiceAttackAir         = F-23VoiceAttack
  VoiceGuard             = RZBackVoiceMove
  SoundAmbient           = RaptorAmbientLoop
  SoundAmbientRubble     = NoSound
  ; SoundMoveLoop          = RaptorAmbientLoop  ; don't want sound while sitting at airfield
  ; SoundAmbient           = NoSound
  UnitSpecificSounds
    VoiceCreate          = RZBackVoiceCreate
    SoundEject           = PilotSoundEject
    VoiceEject           = PilotVoiceEject
    Afterburner          = RaptorAfterburner
    VoiceLowFuel         = RaptorVoiceLowFuel
    VoiceGarrison        = RZBackVoiceMove
  End


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT
;------------------------------------
  Body = ActiveBody ModuleTag_02
    MaxHealth     = 1400.0
    InitialHealth = 1400.0
  End
;--------------------------------------------------
  Behavior = ProductionUpdate ModuleTag_000
    MaxQueueEntries = 1 ; So you can't build multiple upgrades in the same frame
  End
;--------------------------------------------------
  Behavior = ExperienceScalarUpgrade ModuleTag_03
    TriggeredBy = Upgrade_AmericaAdvancedTraining
    AddXPScalar = 1.0 ;Increases experience gained by an additional 100%
  End
  ; Behavior = WeaponSetUpgrade ModuleTag_04
    ; TriggeredBy = Upgrade_AmericaBunkerBusters
  ; End
;===============================================================================================================
  Behavior = JetSlowDeathBehavior ModuleTag_05
    FXOnGroundDeath                 = FX_JetOnGroundDeath
    OCLOnGroundDeath                = OCL_RaptorDeathFinalBlowUp
    DestructionDelay                = 99999999; destruction will happen when we
    RollRate                        = 0.2
    RollRateDelta                   = 100% ;each frame, rollrate = rollrate * rollrateDelta
    PitchRate                       = 0.0
    FallHowFast                     = 110.0%  ;Bigger is faster (can be over 100%,it's a fraction of gravity)
    FXInitialDeath                  = FX_RaptorDeathInitial
    OCLInitialDeath                 = OCL_RaptorDeathInitial
    DelaySecondaryFromInitialDeath  = 500  ; in milliseconds
    FXSecondary                     = FX_JetDeathSecondary
    OCLSecondary                    = OCL_RaptorDeathSecondary
    FXHitGround                     = FX_JetDeathHitGround
    OCLHitGround                    = OCL_RaptorDeathHitGround
    DelayFinalBlowUpFromHitGround   = 200 ; in milliseconds
    FXFinalBlowUp                   = FX_JetDeathFinalBlowUp
    OCLFinalBlowUp                  = OCL_Su50PulseDeathFinalBlowUp
;   DeathLoopSound                  = MICAL NEEDS TO MAKE ME
  End
;================================================================================================================
  ; Behavior = EjectPilotDie ModuleTag_06
    ; ExemptStatus       = HIJACKED
    ; GroundCreationList = OCL_EjectPilotOnGround
    ; AirCreationList    = OCL_EjectPilotViaParachute
    ; VeterancyLevels    = ALL -REGULAR ;only vet+ gives pilot
  ; End
;-----------------------------------------------------------------------------------------
  Behavior = PhysicsBehavior ModuleTag_07
    Mass = 500.0
  End
;-----------------------------------------------------------------------------------------
  Behavior = TransitionDamageFX ModuleTag_08
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes Psys:SmokeSmallContinuous01
    ReallyDamagedFXList1         = Loc: X:0 Y:0 Z:0 FXList:FX_MIGDamageTransition
  End
;-----------------------------------------------------------------------------------------
  Behavior = JetAIUpdate ModuleTag_09
    OutOfAmmoDamagePerSecond  = 1%
 ;Amount of damage to take per SEC (not per frame) when out of ammo
 ;Note that it's expressed as a percent of max health, not an absolute
    TakeoffDistForMaxLift     = 0%    ; larger numbers give more lift sooner when taking off
    TakeoffPause              = 500
    MinHeight                 = 5
    LockonTime                = 1500
    LockonFreq                = 800
    ParkingOffset             = 3     ; scooch it a little forward so the tail doesn't hit the doors
    ReturnToBaseIdleTime      = 10000 ; if idle for this long, return to base, even if not out of ammo
  End
;===========================================================
  Behavior = ArmorUpgrade ModuleTag_Armor01
    TriggeredBy = Upgrade_AmericaCountermeasures
  End
  Behavior = CountermeasuresBehavior ModuleTag_10
    TriggeredBy           = Upgrade_AmericaCountermeasures
    FlareTemplateName     = CountermeasureFlare
    FlareBoneBaseName     = Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
    VolleySize            = 3     ; Number of flares launched per volley (requires bones)
    VolleyArcAngle        = 90.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
    VolleyVelocityFactor  = 1.0   ; Shoots out flares at a stronger velocity with a higher value.
    DelayBetweenVolleys   = 1000  ; Time between flare volleys
    NumberOfVolleys       = 4     ; Number of times the volleys will fire before reloading
    ReloadTime            = 0     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
    EvasionRate           = 30%   ; With active flares, the specified percentage will be diverted.
    ReactionLaunchLatency = 0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
    MissileDecoyDelay     = 200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
  End
;--------------------------------------------------------------------------------------------------------
  Locomotor = SET_NORMAL  Su34JetLocomotor
  Locomotor = SET_TAXIING BasicJetTaxiLocomotor
;--------------------------------------------------------------------------------------------------------
  Behavior = FlammableUpdate ModuleTag_11 ;_21
    AflameDuration = 5000     ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3    ; taking this much damage...
    AflameDamageDelay = 500   ; this often.
  End
;--------------------------- ??? -----------------------------------------------------------
  Behavior = OverlordContain ModuleTag_Hrenhz ; Like Transport, but when full, passes transport queries along to first passenger (redirects like tunnel)
    Slots                 = 1
    DamagePercentToUnits        = 100%
    AllowInsideKindOf     = PORTABLE_STRUCTURE
    PassengersAllowedToFire = Yes
    PassengersInTurret = No ; My passengers ride in my turret, that's where the Firepoint bones are
    ExperienceSinkForRider = Yes ; I get the Exp for things my turret friend kills
  End

  Geometry            = Box
  GeometryIsSmall     = Yes
  GeometryMajorRadius = 14.0
  GeometryMinorRadius = 7.0
  GeometryHeight      = 5.0
  Shadow              = SHADOW_VOLUME
  ShadowSizeX = 89
  Scale = 0.87

End

;===========================================================================
Object Boss_RussiaBomberPakDa

  ; *** ART Parameters ***
  SelectPortrait = SARavager_L
  ButtonImage    = SARavager

  UpgradeCameo1 = Upgrade_AmericaAdvancedTraining
  UpgradeCameo2 = Upgrade_AmericaCountermeasures
  ;UpgradeCameo3 = Upgrade_AmericaBunkerBusters

  Draw = W3DModelDraw ModuleTag_01
    ParticlesAttachedToAnimatedBones = Yes
    DefaultConditionState
      Model               = RVPakFA
      Animation           = RVPakFA.RVPakFA
      AnimationMode       = ONCE_BACKWARDS
      WeaponLaunchBone    = PRIMARY WeaponA
      Flags               = START_FRAME_LAST
    End

    ConditionState        = JETEXHAUST JETAFTERBURNER
      Model               = RVPakFA
      Animation           = RVPakFA.RVPakFA
      AnimationMode       = ONCE
      ParticleSysBone     = Engine01 JetLenzflare
      ParticleSysBone     = Engine02 JetLenzflare
      Flags               = START_FRAME_FIRST
    End

    ConditionState        = JETEXHAUST
      Model               = RVPakFA
      Animation           = RVPakFA.RVPakFA
      AnimationMode       = MANUAL
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      Flags               = START_FRAME_LAST
    End

    ConditionState        = JETEXHAUST ATTACKING
      Model               = RVPakFA
      Animation           = RVPakFA.RVPakFA
      AnimationMode       = MANUAL
      ParticleSysBone     = Wingtip01 RealMissileExhaust
      ParticleSysBone     = Wingtip02 RealMissileExhaust
      Flags               = START_FRAME_LAST
    End

  ;----------------------------------------------

    ConditionState        = REALLYDAMAGED
      Model               = RVPakFA_D
      Animation           = RVPakFA_D.RVPakFA_D
      AnimationMode       = ONCE_BACKWARDS
      WeaponLaunchBone    = PRIMARY WeaponA
      Flags               = START_FRAME_LAST
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
    End

    ConditionState        = REALLYDAMAGED JETEXHAUST JETAFTERBURNER
      Model               = RVPakFA_D
      Animation           = RVPakFA_D.RVPakFA_D
      AnimationMode       = ONCE
      ParticleSysBone     = Engine01 JetLenzflare
      ParticleSysBone     = Engine02 JetLenzflare
      Flags               = START_FRAME_FIRST
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
    End

    ConditionState        = REALLYDAMAGED JETEXHAUST
      Model               = RVPakFA_D
      Animation           = RVPakFA_D.RVPakFA_D
      AnimationMode       = MANUAL
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      Flags               = START_FRAME_LAST
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
    End

    ConditionState        = REALLYDAMAGED JETEXHAUST ATTACKING
      Model               = RVPakFA_D
      Animation           = RVPakFA_D.RVPakFA_D
      AnimationMode       = MANUAL
      ParticleSysBone     = Wingtip01 RealMissileExhaust
      ParticleSysBone     = Wingtip02 RealMissileExhaust
      Flags               = START_FRAME_LAST
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
    End

    ConditionState        = RUBBLE
      Model               = RVPakFA_D1
      HideSubObject       = None 
      ShowSubObject       = None
    End

    ConditionState        = RUBBLE JETEXHAUST JETAFTERBURNER
      Model               = RVPakFA_D1
      ;HideSubObject is needed cause there're inherited from default condition state      
      HideSubObject       = None 
      ShowSubObject       = None
      ParticleSysBone     = Engine01 JetExhaust
      ParticleSysBone     = Engine02 JetExhaust
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    OkToChangeModelColor = Yes

  End


  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:PakDA
  EditorSorting       = VEHICLE
  Side                = Boss
  TransportSlotCount  = 0     ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange         = 400.0
  ShroudClearingRange = 500.0
;----------------------------------
  BuildCost = 65000
  BuildTime = 60.0
;----------------------------------
  Prerequisites
    Object = Boss_Airfield
    Object = Boss_TechCentr
	Object = Boss_RussiaSatelliteCenter
  End
  ExperienceValue    = 75 75 125 175  ;Experience point value at each level
  ExperienceRequired = 0 100 200 400  ;Experience points needed to gain each level
  IsTrainable = Yes                   ;Can gain experience
  CrusherLevel   = 1  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel = 2  ;What am I?: 0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = AttackJetCommandSet
;=============================================================================================================================================
  WeaponSet
    Conditions = None
    Weapon            = PRIMARY PakDaBombWeapon
    AutoChooseSources = PRIMARY FROM_SCRIPT FROM_AI DEFAULT_SWITCH_WEAPON
    ; Weapon            = SECONDARY Boss_JetYF-23BBWeapon1
    ; AutoChooseSources = SECONDARY FROM_SCRIPT FROM_AI
    ; WeaponLockSharedAcrossSets = Yes ; This set is so similar to the default set that it can hold the weapon lock
  End
;--------------------------------------------------------------------------------------------------------------------------------------------
  ; WeaponSet
    ; Conditions = PLAYER_UPGRADE
    ; Weapon            = PRIMARY Boss_JetYF-23BrownMissileWeapon2
    ; AutoChooseSources = PRIMARY FROM_SCRIPT FROM_AI DEFAULT_SWITCH_WEAPON
    ; Weapon            = SECONDARY Boss_JetYF-23BBWeapon2
    ; AutoChooseSources = SECONDARY FROM_SCRIPT FROM_AI
    ; WeaponLockSharedAcrossSets = Yes ; This set is so similar to the default set that it can hold the weapon lock
  ; End
;==============================================================================================================================================
  ArmorSet
    Conditions = None
    Armor      = AirplaneArmor
    DamageFX   = None
  End
  ArmorSet
    Conditions = PLAYER_UPGRADE
    Armor      = CountermeasuresAirplaneArmor
    DamageFX   = None
  End

  ; *** AUDIO Parameters ***
  VoiceSelect            = F-23VoiceSelect
  VoiceMove              = F-23VoiceMove
  VoiceAttack            = F-23VoiceAttack
  VoiceAttackAir         = F-23VoiceAttack
  VoiceGuard             = F-23VoiceMove
  SoundAmbient           = RaptorAmbientLoop
  SoundAmbientRubble     = NoSound
  ; SoundMoveLoop          = RaptorAmbientLoop  ; don't want sound while sitting at airfield
  ; SoundAmbient           = NoSound
  UnitSpecificSounds
    VoiceCreate          = F-23VoiceCreate
    SoundEject           = PilotSoundEject
    VoiceEject           = PilotVoiceEject
    Afterburner          = RaptorAfterburner
    VoiceLowFuel         = RaptorVoiceLowFuel
    VoiceGarrison        = F-23VoiceMove
    VoicePrimaryWeaponMode = F-23VoiceMissiles
    VoiceSecondaryWeaponMode = F-23VoiceBombs
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT
 ;-----------------------------------------------------------------------------------
  Body = ActiveBody ModuleTag_02
    MaxHealth     = 2500.0
    InitialHealth = 2500.0
  End
;----------------------------------------------------------------
  ; Behavior = WeaponSetUpgrade ModuleTag_03 ;[ModuleTag_X45BRBS]*
    ; TriggeredBy = Upgrade_AmericaBunkerBusters
  ; End
;----------------------------------------------------------------
  Behavior = ExperienceScalarUpgrade ModuleTag_04
    TriggeredBy = Upgrade_AmericaAdvancedTraining
    AddXPScalar = 1.0 ;Increases experience gained by an additional 100%
  End
;============[  ]=================================================
  Behavior = JetSlowDeathBehavior ModuleTag_05
    FXOnGroundDeath                 = FX_JetOnGroundDeath
    OCLOnGroundDeath                = OCL_RaptorDeathFinalBlowUp
    DestructionDelay                = 99999999; destruction will happen when we
    RollRate                        = 0.2
    RollRateDelta                   = 100% ;each frame, rollrate = rollrate * rollrateDelta
    PitchRate                       = 0.0
    FallHowFast                     = 110.0%  ;Bigger is faster (can be over 100%,it's a fraction of gravity)
    FXInitialDeath                  = FX_RaptorDeathInitial
    OCLInitialDeath                 = OCL_RaptorDeathInitial
    DelaySecondaryFromInitialDeath  = 500  ; in milliseconds
    FXSecondary                     = FX_JetDeathSecondary
    OCLSecondary                    = OCL_RaptorDeathSecondary
    FXHitGround                     = FX_JetDeathHitGround
    OCLHitGround                    = OCL_RaptorDeathHitGround
    DelayFinalBlowUpFromHitGround   = 200 ; in milliseconds
    FXFinalBlowUp                   = FX_JetDeathFinalBlowUp
    OCLFinalBlowUp                  = OCL_Ty25DeathFinalBlowUp
;   DeathLoopSound = MICAL NEEDS TO MAKE ME
  End
;====================================================================================

  ; Behavior = EjectPilotDie ModuleTag_06
    ; ExemptStatus = HIJACKED
    ; GroundCreationList = OCL_EjectPilotOnGround
    ; AirCreationList = OCL_EjectPilotViaParachute
    ; VeterancyLevels =  ALL -REGULAR ;only vet+ gives pilot
  ; End
  Behavior = PhysicsBehavior ModuleTag_07
    Mass = 500.0
  End
  Behavior = TransitionDamageFX ModuleTag_08
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes Psys:SmokeSmallContinuous01
    ReallyDamagedFXList1         = Loc: X:0 Y:0 Z:0 FXList:FX_MIGDamageTransition
  End
;======================[ ]========================================================================
  Behavior = JetAIUpdate ModuleTag_09
    OutOfAmmoDamagePerSecond  = 1%  ; amount of damage to take per SEC (not per frame) when out of ammo
                                    ; note that it's expressed as a percent of max health, not an absolute
    TakeoffDistForMaxLift     = 0%   ; larger numbers give more lift sooner when taking off
    TakeoffPause              = 500
    MinHeight                 = 1 ;5 ;[  : 1]*
    ParkingOffset             = 3  ; .    ,      ; scooch it a little forward so the tail doesn't hit the doors
    ReturnToBaseIdleTime      = 10000         ; if idle for this long, return to base, even if not out of ammo
  ;-----------------------------------
    ;LockonTime        = 800
    ;LockonCursor      = LockonCursor 
    ;LockonBlinky      = No
    ;LockonAngleSpin   = 1000
    ;LockonInitialDist = 450 
    ;LockonFreq        = 1000
  End
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
  ; Behavior = JetAIUpdate ModuleTag_09
    ; OutOfAmmoDamagePerSecond  = 10%  ; amount of damage to take per SEC (not per frame) when out of ammo
                                    ; ; note that it's expressed as a percent of max health, not an absolute
    ; TakeoffDistForMaxLift     = 0%   ; larger numbers give more lift sooner when taking off
    ; TakeoffPause              = 500
    ; MinHeight                 = 5
    ; ParkingOffset             = 3             ; scooch it a little forward so the tail doesn't hit the doors
    ; ReturnToBaseIdleTime      = 10000         ; if idle for this long, return to base, even if not out of ammo
  ; End
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;======================================================================================
  Behavior = ArmorUpgrade ModuleTag_Armor01
    TriggeredBy = Upgrade_AmericaCountermeasures ;Upgrade_ChinaAircraftArmor
  End
  Behavior = CountermeasuresBehavior ModuleTag_10
    TriggeredBy           = Upgrade_AmericaCountermeasures
    FlareTemplateName     = CountermeasureFlare
    FlareBoneBaseName     = Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
    VolleySize            = 3     ; Number of flares launched per volley (requires bones)
    VolleyArcAngle        = 90.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
    VolleyVelocityFactor  = 1.0   ; Shoots out flares at a stronger velocity with a higher value.
    DelayBetweenVolleys   = 1000  ; Time between flare volleys
    NumberOfVolleys       = 3     ; Number of times the volleys will fire before reloading
    ReloadTime            = 0     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
    EvasionRate           = 30%   ; With active flares, the specified percentage will be diverted.
    ReactionLaunchLatency = 0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
    MissileDecoyDelay     = 200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
  End
;----------------------------------------------------------------------------------------------------
  Locomotor = SET_NORMAL PakDaLocomotor
  Locomotor = SET_TAXIING BasicJetTaxiLocomotor
;----------------------------------------------------------------------------------------------------
  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000    ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3   ; taking this much damage...
    AflameDamageDelay = 500  ; this often.
  End
  Geometry                 = Box
  GeometryIsSmall          = Yes
  GeometryMajorRadius      = 14.0
  GeometryMinorRadius      = 7.0
  GeometryHeight           = 5.0
  Shadow                   = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length.
End

;------------------------------------------------------------------------------
; Object Boss_RussiaJetSu35

  ; ; *** ART Parameters ***
  ; SelectPortrait         = SACRaptor_L
  ; ButtonImage            = SACRaptor
  
; ;  UpgradeCameo1 = Upgrade_RussiaAdvancedMissileEngines
  
  ; Draw                   = W3DModelDraw ModuleTag_01
  
    ; OkToChangeModelColor = Yes
    ; ParticlesAttachedToAnimatedBones = Yes
 
    ; DefaultConditionState
      ; Model               = SUT50  ;RVPakFa
      ; HideSubObject       = BurnerFX01 BurnerFX02
      ; WeaponLaunchBone    = PRIMARY WeaponA
      ; WeaponFireFXBone    = PRIMARY WeaponA
      ; WeaponLaunchBone    = SECONDARY WeaponA
      ; WeaponFireFXBone    = SECONDARY WeaponA
    ; End

    ; ConditionState        = JETEXHAUST 
      ; ParticleSysBone     = Wingtip01 JetContrail
      ; ParticleSysBone     = Wingtip02 JetContrail
    ; End
    
    ; ConditionState        = JETEXHAUST JETAFTERBURNER
      ; ShowSubObject       = BurnerFX01 BurnerFX02
      ; ParticleSysBone     = Engine01 JetLenzflare
      ; ParticleSysBone     = Engine02 JetLenzflare
      ; ParticleSysBone     = Wingtip01 JetContrail
      ; ParticleSysBone     = Wingtip02 JetContrail
    ; End
 
    ; ConditionState        = REALLYDAMAGED
      ; Model               = SUT50  ;RVPakFa_D
      ; HideSubObject       = BurnerFX01 BurnerFX02
      ; WeaponLaunchBone    = PRIMARY WeaponA
      ; WeaponFireFXBone    = PRIMARY WeaponA
      ; ParticleSysBone     = Smoke01 JetSmoke
      ; ParticleSysBone     = Smoke02 JetSmoke
      ; ParticleSysBone     = Engine01 JetEngineDamagedSmoke
    ; End

    ; ConditionState        = REALLYDAMAGED JETEXHAUST 
      ; Model               = SUT50  ;RVPakFa_D
      ; ParticleSysBone     = Wingtip01 JetContrail
      ; ParticleSysBone     = Wingtip02 JetContrail
      ; ParticleSysBone     = Smoke01 JetSmoke
      ; ParticleSysBone     = Smoke02 JetSmoke
      ; ParticleSysBone     = Engine01 JetEngineDamagedSmoke
    ; End
    
    ; ConditionState        = REALLYDAMAGED JETEXHAUST JETAFTERBURNER
      ; Model               = SUT50  ;RVPakFa_D
      ; ShowSubObject       = BurnerFX01 BurnerFX02
      ; ParticleSysBone     = Engine01 JetLenzflare
      ; ParticleSysBone     = Engine02 JetLenzflare
      ; ParticleSysBone     = Wingtip01 JetContrail
      ; ParticleSysBone     = Wingtip02 JetContrail
      ; ParticleSysBone     = Smoke01 JetSmoke
      ; ParticleSysBone     = Smoke02 JetSmoke
      ; ParticleSysBone     = Engine01 JetEngineDamagedSmoke
    ; End
    ; AliasConditionState   = RUBBLE
    
    ; ;Snow
 
    ; ConditionState        = SNOW
      ; Model               = SUT50  ;RVPakFa_S
      ; HideSubObject       = BurnerFX01 BurnerFX02
    ; End

    ; ConditionState        = SNOW JETEXHAUST 
      ; Model               = SUT50  ;RVPakFa_S
      ; ParticleSysBone     = Wingtip01 JetContrail
      ; ParticleSysBone     = Wingtip02 JetContrail
    ; End
    
    ; ConditionState        = SNOW JETEXHAUST JETAFTERBURNER
      ; Model               = SUT50  ;RVPakFa_S
      ; ShowSubObject       = BurnerFX01 BurnerFX02
      ; ParticleSysBone     = Engine01 JetLenzflare
      ; ParticleSysBone     = Engine02 JetLenzflare
      ; ParticleSysBone     = Wingtip01 JetContrail
      ; ParticleSysBone     = Wingtip02 JetContrail
    ; End
 
    ; ConditionState        = SNOW REALLYDAMAGED
      ; Model               = SUT50  ;RVPakFa_SD
      ; HideSubObject       = BurnerFX01 BurnerFX02
      ; WeaponLaunchBone    = PRIMARY WeaponA
      ; WeaponFireFXBone    = PRIMARY WeaponA
      ; ParticleSysBone     = Smoke01 JetSmoke
      ; ParticleSysBone     = Smoke02 JetSmoke
      ; ParticleSysBone     = Engine01 JetEngineDamagedSmoke
    ; End

    ; ConditionState        = SNOW REALLYDAMAGED JETEXHAUST 
      ; Model               = SUT50  ;RVPakFa_SD
      ; ParticleSysBone     = Wingtip01 JetContrail
      ; ParticleSysBone     = Wingtip02 JetContrail
      ; ParticleSysBone     = Smoke01 JetSmoke
      ; ParticleSysBone     = Smoke02 JetSmoke
      ; ParticleSysBone     = Engine01 JetEngineDamagedSmoke
    ; End
    
    ; ConditionState        = SNOW REALLYDAMAGED JETEXHAUST JETAFTERBURNER
      ; Model               = SUT50  ;RVPakFa_SD
      ; ShowSubObject       = BurnerFX01 BurnerFX02
      ; ParticleSysBone     = Engine01 JetLenzflare
      ; ParticleSysBone     = Engine02 JetLenzflare
      ; ParticleSysBone     = Wingtip01 JetContrail
      ; ParticleSysBone     = Wingtip02 JetContrail
      ; ParticleSysBone     = Smoke01 JetSmoke
      ; ParticleSysBone     = Smoke02 JetSmoke
      ; ParticleSysBone     = Engine01 JetEngineDamagedSmoke
    ; End
    ; AliasConditionState   = SNOW RUBBLE

  ; End
  
  ; Draw = W3DModelDraw ModuleTag_PickBox01
    ; DefaultConditionState
      ; Model         = EXJetPickBox
    ; End
  ; End

  ; ; ***DESIGN parameters ***
  ; DisplayName             = OBJECT:Su35
  ; EditorSorting           = VEHICLE
  ; Side                    = Boss
  ; TransportSlotCount      = 0 ;how many "slots" we take in a transport (0 == not transportable)
  ; VisionRange             = 300.0
  ; ShroudClearingRange     = 500.0
  ; Prerequisites
    ; Object                = Boss_Airfield
	; Object                = Boss_TechCentr
  ; End

  ; WeaponSet
    ; Conditions            = None 
    ; Weapon                = PRIMARY   RaptorJetMissileWeapon
  ; End

  ; ArmorSet
    ; Conditions            = None
    ; Armor                 = AirplaneArmor
    ; DamageFX              = None
  ; End

  ; BuildCost               = 40000
  ; BuildTime               = 35   
  ; ExperienceValue         = 100 100 200 300 ;Experience point value at each level
  ; ExperienceRequired      = 0   200 300 600 ; Experience points needed to gain each leve
  ; IsTrainable             = Yes             ;Can gain experience
  ; CrusherLevel            = 1  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  ; CrushableLevel          = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  ; CommandSet              = FighterJetCommandSet

  ; ; *** AUDIO Parameters ***
  ; VoiceSelect            = KingRaptorVoiceSelect
  ; VoiceMove              = RaptorVoiceMove
  ; VoiceAttack            = RaptorVoiceAttack
  ; VoiceAttackAir         = RaptorVoiceAttackAir
  ; VoiceGuard             = RaptorVoiceAirPatrol
  ; SoundAmbient           = RaptorAmbientLoop
  ; SoundAmbientRubble     = NoSound

  ; UnitSpecificSounds
    ; VoiceCreate          = KingRaptorVoiceCreate
    ; VoiceLowFuel         = RaptorVoiceLowFuel
    ; VoiceGarrison        = RaptorVoiceMove
    ; Afterburner          = RaptorAfterburner
  ; End

  ; ; *** ENGINEERING Parameters ***
  ; RadarPriority          = UNIT
  ; KindOf                 = PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT
  ; Body                   = ActiveBody ModuleTag_02
    ; MaxHealth            = 1800.0
    ; InitialHealth        = 1800.0
    
    ; SubdualDamageCap       = 900
    ; SubdualDamageHealRate  = 500
    ; SubdualDamageHealAmount = 50
  ; End

  ; Behavior                          = JetSlowDeathBehavior ModuleTag_05
    ; FXOnGroundDeath                 = FX_JetOnGroundDeath
    ; OCLOnGroundDeath                = OCL_RaptorDeathFinalBlowUp
    ; DestructionDelay                = 99999999; destruction will happen when we
    ; RollRate                        = 0.2
    ; RollRateDelta                   = 100% ;each frame, rollrate = rollrate * rollrateDelta
    ; PitchRate                       = 0.0
    ; FallHowFast                     = 110.0%  ;Bigger is faster (can be over 100%,it's a fraction of gravity)
    ; FXInitialDeath                  = FX_SokolDeathInitial
    ; OCLInitialDeath                 = OCL_RaptorDeathInitial
    ; DelaySecondaryFromInitialDeath  = 500  ; in milliseconds
    ; FXSecondary                     = FX_JetDeathSecondary
    ; OCLSecondary                    = OCL_RaptorDeathSecondary
    ; FXHitGround                     = FX_JetDeathHitGround
    ; OCLHitGround                    = OCL_RaptorDeathHitGround
    ; DelayFinalBlowUpFromHitGround   = 200 ; in milliseconds
    ; FXFinalBlowUp                   = FX_JetDeathFinalBlowUp
    ; OCLFinalBlowUp                  = OCL_PakfaDeathFinalBlowUp
  ; End
  
  ; Behavior               = PhysicsBehavior ModuleTag_07
    ; Mass                 = 500.0
  ; End

  ; Behavior                 = TransitionDamageFX ModuleTag_08
    ; ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes Psys:SmokeSmallContinuous01
    ; ReallyDamagedFXList1         = Loc: X:0 Y:0 Z:0 FXList:FX_MIGDamageTransition
  ; End

  ; Behavior = JetAIUpdate ModuleTag_09
    ; Turret
      ; TurretTurnRate = 0
      ; ControlledWeaponSlots = PRIMARY
    ; End
    ; AltTurret
      ; TurretTurnRate = 0
      ; ControlledWeaponSlots = SECONDARY
    ; End
    ; TurretsLinked             = Yes
    ; OutOfAmmoDamagePerSecond  = 1%
    ; TakeoffDistForMaxLift     = 0%
    ; TakeoffPause              = 500
    ; MinHeight                 = 5
    ; ParkingOffset             = 3
    ; ReturnToBaseIdleTime      = 10000
    ; AutoAcquireEnemiesWhenIdle = Yes NOTWHILEATTACKING
  ; End
  
  ; Locomotor = SET_NORMAL RaptorJetLocomotor
  ; Locomotor = SET_TAXIING BasicJetTaxiLocomotor

  ; Behavior = StealthUpdate ModuleTag_Stealth01
    ; StealthDelay                          = 1000 ; msec
    ; StealthForbiddenConditions            = ATTACKING ;TAKING_DAMAGE
    ; FriendlyOpacityMin                    = 50.0%
    ; FriendlyOpacityMax                    = 100.0%
    ; InnateStealth                         = Yes
    ; OrderIdleEnemiesToAttackMeUponReveal  = Yes
  ; End

  ; Behavior = FlammableUpdate ModuleTag_21
    ; AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    ; AflameDamageAmount = 3       ; taking this much damage...
    ; AflameDamageDelay = 500       ; this often.
  ; End

  ; ; Behavior = FireWeaponCollide ModuleTag_AircraftCrateCollide01
    ; ; CollideWeapon   = AircraftCratePickupDummySpawner
    ; ; RequiredStatus  = IS_CARBOMB
  ; ; End

  ; Geometry                 = Box
  ; GeometryIsSmall          = Yes
  ; GeometryMajorRadius      = 14.0
  ; GeometryMinorRadius      = 7.0
  ; GeometryHeight           = 5.0
  ; Shadow                   = SHADOW_VOLUME
  ; ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length.

; End

;------------------------------------------------------------------------------
Object Boss_SovietTankT72

  ; *** ART Parameters ***
  SelectPortrait         = KingCrusader_L
  ButtonImage            = KingCrusader
  
  ; UpgradeCameo1 = Upgrade_RussiaTankERA
  ; UpgradeCameo2 = Upgrade_RussiaArmedRecon
  ; UpgradeCameo3 = Upgrade_RussiaAdvancedMissileEngines
  UpgradeCameo1 = Upgrade_GLAJunkRepair
  UpgradeCameo2 = Upgrade_GLAScorpionRocket
  UpgradeCameo3 = Upgrade_GLAAPRockets
  UpgradeCameo4 = Upgrade_AmericaCompositeArmor
  
  Draw = W3DOverlordTankDraw ModuleTag_01
    OkToChangeModelColor = Yes

    DefaultConditionState
      Model = RVKodiak
      Turret = Turret
      HideSubObject = ARMOR01 ARMOR02 FIREPOINT01
      WeaponFireFXBone  = PRIMARY Muzzle
      WeaponLaunchBone  = PRIMARY Muzzle
      WeaponRecoilBone  = SECONDARY Barrel
      WeaponFireFXBone  = SECONDARY Muzzle
      WeaponLaunchBone  = SECONDARY Muzzle
      WeaponMuzzleFlash = SECONDARY MuzzleFX
      WeaponRecoilBone  = TERTIARY Barrel2
      WeaponFireFXBone  = TERTIARY Muzzle
      WeaponLaunchBone  = TERTIARY Muzzle
    End
    
    ConditionState = REALLYDAMAGED
      Model = RVKodiak_D
    End
    AliasConditionState = RUBBLE
    
    ConditionState = DISGUISED
      Model = RVKodiak
      Turret = Turret
      HideSubObject = ARMOR01 ARMOR02 MUZZLEFX01 MGMZZLFX01
      ShowSubObject = FIREPOINT01
    End
    
    ConditionState = DISGUISED REALLYDAMAGED
      Model = RVKodiak_D
      Turret = Turret
      HideSubObject = ARMOR01 ARMOR02 MUZZLEFX01 MGMZZLFX01
    End

    TrackMarks             = EXTnkTrack.tga
    TreadAnimationRate      = 2.0  ;  amount of tread texture to move per second
    TreadDriveSpeedFraction = 0.3  ; fraction of locomotor speed below which treads stop moving.
    TreadPivotSpeedFraction = 0.6  ; fraction of locomotor speed below which we allow pivoting.
  End
  
  Draw = W3DModelDraw ModuleTag_ParachutePlate01
  
    DefaultConditionState
      Model             = NONE
    End
    AliasConditionState = REALLYDAMAGED
    AliasConditionState = RUBBLE
  
    ConditionState = FREEFALL
      Model             = EXParaPlate
    End
    AliasConditionState = FREEFALL REALLYDAMAGED
    AliasConditionState = FREEFALL RUBBLE
    AliasConditionState = PARACHUTING
    AliasConditionState = PARACHUTING REALLYDAMAGED
    AliasConditionState = PARACHUTING RUBBLE
    
  End
  
  ; ***DESIGN parameters ***
  DisplayName           = OBJECT:T72
  Side                  = Boss
  EditorSorting         = VEHICLE
  TransportSlotCount    = 5                 ;how many "slots" we take in a transport (0 == not transportable)

  WeaponSet
    Conditions = None
    Weapon           = PRIMARY  T-80TankGun
	PreferredAgainst = PRIMARY VEHICLE STRUCTURE
	AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
    Weapon           = SECONDARY T-80MachineGun
    PreferredAgainst = SECONDARY INFANTRY
	AutoChooseSources = SECONDARY FROM_PLAYER FROM_SCRIPT FROM_AI
  End
  
  WeaponSet
    Conditions       = PLAYER_UPGRADE 
    Weapon           = PRIMARY   T-80TankGun
	PreferredAgainst = PRIMARY VEHICLE STRUCTURE
    Weapon           = SECONDARY T-80MachineGun
    PreferredAgainst = SECONDARY INFANTRY
	AutoChooseSources = SECONDARY FROM_PLAYER FROM_SCRIPT FROM_AI
    Weapon           = TERTIARY ScorpionMissileWeapon
	PreferredAgainst = TERTIARY VEHICLE STRUCTURE
	AutoChooseSources = TERTIARY FROM_PLAYER FROM_SCRIPT FROM_AI
  End

  ArmorSet
    Conditions        = None
    Armor             = TankArmor
    DamageFX          = TankDamageFX
  End
    
  ; ArmorSet
    ; Conditions      = PLAYER_UPGRADE
    ; Armor           = ERATankArmor
    ; DamageFX        = TankEraDamageFX
  ; End
  
  BuildCost       = 2500
  BuildTime       = 15.0          ;in seconds    
  VisionRange     = 200
  ShroudClearingRange = 200
  
  Prerequisites
    Object = Boss_WarFactory Boss_SmallFactory
  End
  
  ExperienceValue    = 150 150 250 500 ;Experience point value at each level
  ExperienceRequired = 0   200 300 600 ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  
  CommandSet      = GLATankMarauderCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect    = KodiakVoiceSelect
  VoiceMove      = KodiakVoiceMove
  VoiceGuard     = KodiakVoiceMove
  VoiceAttack    = KodiakVoiceAttack
  SoundMoveStart        = MarauderTankMoveStart
  SoundMoveStartDamaged = MarauderTankMoveStart
  SoundEnter = HumveeEnter
  SoundExit  = HumveeExit

  UnitSpecificSounds
    VoiceCreate = KodiakVoiceCreate
    VoiceCrush  = KodiakVoiceMove
    VoiceEnter  = KodiakVoiceMove
  End


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 900.0
    InitialHealth   = 900.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 1300.0
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End
  
  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      TurretTurnRate = 180
      MinIdleScanAngle      = 10
      MaxIdleScanAngle      = 40
      MinIdleScanInterval   = 5000
      MaxIdleScanInterval   = 10000
      ControlledWeaponSlots = PRIMARY SECONDARY TERTIARY
    End
    AutoAcquireEnemiesWhenIdle = Yes
    MoodAttackCheckRate        = 250
  End
  
  Locomotor = SET_NORMAL MarauderLocomotor

  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 50.0
  End

  Behavior = SlowDeathBehavior ModuleTag_11
    DeathTypes = ALL -CRUSHED -SPLATTED
    DestructionDelay = 500
    DestructionDelayVariance = 100
    FX  = INITIAL  FX_GenericTankDeathEffect
    FX  = FINAL    FX_GenericTankDeathExplosion
    OCL = FINAL    OCL_KodiakTankDeathEffect
  End

  Behavior = DestroyDie ModuleTag_12
    DeathTypes = NONE +CRUSHED +SPLATTED
  End

  Behavior = FXListDie ModuleTag_13
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  
  Behavior = CreateObjectDie ModuleTag_14
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_CrusaderTank_CrushEffect
  End

  Behavior = TransitionDamageFX ModuleTag_17
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End
  
  ; Behavior = OverlordContain ModuleTag_MGTurret01
    ; Slots                   = 1
    ; DamagePercentToUnits    = 100%
    ; AllowInsideKindOf       = PORTABLE_STRUCTURE
    ; PassengersAllowedToFire = Yes
    ; PassengersInTurret      = Yes 
    ; PayloadTemplateName     = RussiaTankGolem_MGTurret
    ; ExperienceSinkForRider  = Yes ; I get the Exp for things my turret friend kills
  ; End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End
  
  Behavior = StealthUpdate ModuleTag_GPSStealth01
    StealthDelay                = 2000 ; msec
    StealthForbiddenConditions  = FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
    InnateStealth               = Yes
    RequiredStatus              = REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
  End
  
  ;============================================================================================
  Behavior = WeaponSetUpgrade ModuleTag_07
    TriggeredBy = Upgrade_GLAScorpionRocket
  End
;---------------------------------------------------
  Behavior = MaxHealthUpgrade ModuleTag_08
    TriggeredBy   = Upgrade_AmericaCompositeArmor
    AddMaxHealth  = 100.0
    ChangeType    = ADD_CURRENT_HEALTH_TOO   ;Choices are PRESERVE_RATIO, ADD_CURRENT_HEALTH_TOO, and SAME_CURRENTHEALTH
  End
  ;---------------------------------------------------
  Behavior = AutoHealBehavior ModuleTag_05
    HealingAmount = 2
    HealingDelay = 1000 ; msec
    TriggeredBy = Upgrade_GLAJunkRepair
  End
  
  ; Behavior = LockWeaponCreate ModuleTag_WeaponLock01
    ; SlotToLock = SECONDARY
  ; End

  Geometry = BOX
  GeometryMajorRadius = 16.1
  GeometryMinorRadius = 8.5
  GeometryHeight = 11.5     
  GeometryIsSmall = Yes 
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length
  Scale = 1.01
End


;------------------------------------------------------------------------------
Object Boss_SovietTankT64

  ; *** ART Parameters ***
  SelectPortrait         = SACrusader3
  ButtonImage            = SACrusader3
  
  UpgradeCameo1 = Upgrade_GLAJunkRepair
  ; UpgradeCameo1 = Upgrade_RussiaTankERA
  ; UpgradeCameo2 = Upgrade_RussiaArmedRecon
  ; UpgradeCameo3 = Upgrade_RussiaAdvancedMissileEngines
  
  Draw = W3DTankDraw ModuleTag_01
    OkToChangeModelColor = Yes

    DefaultConditionState
      Model = RVRhino
      Turret = Turret
      HideSubObject = ARMOR01 ARMOR02
      WeaponFireFXBone  = PRIMARY Muzzle
      WeaponLaunchBone  = PRIMARY Muzzle
      WeaponRecoilBone  = SECONDARY Barrel
      WeaponMuzzleFlash = SECONDARY MuzzleFX
      WeaponFireFXBone  = SECONDARY Muzzle
      WeaponLaunchBone  = SECONDARY Muzzle
      WeaponRecoilBone  = TERTIARY Barrel2
      WeaponFireFXBone  = TERTIARY Muzzle
      WeaponLaunchBone  = TERTIARY Muzzle
    End

    ConditionState = REALLYDAMAGED
      Model = RVRhino_D
    End
    AliasConditionState = RUBBLE
    
    TrackMarks             = EXTnkTrack.tga
    TreadAnimationRate      = 2.0  ;  amount of tread texture to move per second
    TreadDriveSpeedFraction = 0.3  ; fraction of locomotor speed below which treads stop moving.
    TreadPivotSpeedFraction = 0.6  ; fraction of locomotor speed below which we allow pivoting.
  End
  
  Draw = W3DModelDraw ModuleTag_ParachutePlate01
  
    DefaultConditionState
      Model             = NONE
    End
    AliasConditionState = REALLYDAMAGED
    AliasConditionState = RUBBLE
  
    ConditionState = FREEFALL
      Model             = EXParaPlate
    End
    AliasConditionState = FREEFALL REALLYDAMAGED
    AliasConditionState = FREEFALL RUBBLE
    AliasConditionState = PARACHUTING
    AliasConditionState = PARACHUTING REALLYDAMAGED
    AliasConditionState = PARACHUTING RUBBLE
    
  End
  
  ; ***DESIGN parameters ***
  DisplayName           = OBJECT:T64
  Side                  = Boss
  EditorSorting         = VEHICLE
  TransportSlotCount    = 3                 ;how many "slots" we take in a transport (0 == not transportable)

  WeaponSet
    Conditions = None
    Weapon             = PRIMARY   RhinoTankGun
    AutoChooseSources  = PRIMARY   FROM_PLAYER FROM_SCRIPT FROM_AI
    PreferredAgainst   = PRIMARY VEHICLE STRUCTURE
    Weapon             = SECONDARY M1A2TankMachineGun
    AutoChooseSources  = SECONDARY FROM_PLAYER FROM_SCRIPT FROM_AI
    PreferredAgainst   = SECONDARY INFANTRY
    Weapon             = TERTIARY  T64MissileWeapon
    AutoChooseSources  = TERTIARY  FROM_PLAYER FROM_SCRIPT FROM_AI
    PreferredAgainst   = TERTIARY VEHICLE STRUCTURE
  End

  ;Heroic Weaponset
  WeaponSet
    Conditions = HERO
    Weapon             = PRIMARY   HeroicRhinoTankGun
    AutoChooseSources  = PRIMARY   FROM_PLAYER FROM_SCRIPT FROM_AI
    PreferredAgainst   = PRIMARY VEHICLE STRUCTURE
    Weapon             = SECONDARY M1A2TankMachineGun
    AutoChooseSources  = SECONDARY FROM_PLAYER FROM_SCRIPT FROM_AI
    PreferredAgainst   = SECONDARY INFANTRY
    Weapon             = TERTIARY  T64MissileWeapon
    AutoChooseSources  = TERTIARY  FROM_PLAYER FROM_SCRIPT FROM_AI
	PreferredAgainst   = TERTIARY VEHICLE STRUCTURE
  End
  
  ArmorSet
    Conditions      = None
    Armor           = TankArmor
    DamageFX        = TankDamageFX
  End
    
  ; ArmorSet
    ; Conditions      = PLAYER_UPGRADE
    ; Armor           = ERATankArmor
    ; DamageFX        = TankEraDamageFX
  ; End
  
  BuildCost       = 2000
  BuildTime       = 10.0          ;in seconds    
  VisionRange     = 200
  ShroudClearingRange = 200
  
  Prerequisites
    Object        = Boss_WarFactory Boss_SmallFactory
  End
  
  ExperienceValue    = 80 80 150 300   ;Experience point value at each level
  ExperienceRequired = 0 200 300 600   ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  
  CommandSet      = Boss_SovietTankT64CommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect    = RhinoVoiceSelect
  VoiceMove      = RhinoVoiceMove
  VoiceGuard     = RhinoVoiceMove
  VoiceAttack    = RhinoVoiceAttack
  SoundMoveStart        = MarauderTankMoveStart
  SoundMoveStartDamaged = MarauderTankMoveStart

  UnitSpecificSounds
    VoiceCrush  = RhinoVoiceMove
    VoiceEnter  = RhinoVoiceMove
  End


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 1000.0
    InitialHealth   = 1000.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 1300.0
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End
  
  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      TurretTurnRate = 180
      MinIdleScanAngle      = 10
      MaxIdleScanAngle      = 40
      MinIdleScanInterval   = 5000
      MaxIdleScanInterval   = 10000
      ControlledWeaponSlots = PRIMARY SECONDARY TERTIARY
    End
    AutoAcquireEnemiesWhenIdle = Yes NotWhileAttacking
    MoodAttackCheckRate        = 250
  End
  
  Locomotor = SET_NORMAL RhinoTankLocomotor

  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 50.0
  End
  
  ;---------------------------------------------------
  Behavior = AutoHealBehavior ModuleTag_05
    HealingAmount = 2
    HealingDelay = 1000 ; msec
    TriggeredBy = Upgrade_GLAJunkRepair
  End

  Behavior = SlowDeathBehavior ModuleTag_11
    DeathTypes = ALL -CRUSHED -SPLATTED
    DestructionDelay = 500
    DestructionDelayVariance = 100
    FX  = INITIAL  FX_GenericTankDeathEffect
    FX  = FINAL    FX_GenericTankDeathExplosion
    OCL = FINAL    OCL_RhinoTankDeathEffect
  End

  Behavior = DestroyDie ModuleTag_12
    DeathTypes = NONE +CRUSHED +SPLATTED
  End

  Behavior = FXListDie ModuleTag_13
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  
  Behavior = CreateObjectDie ModuleTag_14
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_CrusaderTank_CrushEffect
  End

  Behavior = TransitionDamageFX ModuleTag_17
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End
  
  Behavior = StealthUpdate ModuleTag_GPSStealth01
    StealthDelay                = 2000 ; msec
    StealthForbiddenConditions  = FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
    InnateStealth               = Yes
    RequiredStatus              = REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
  End

  Geometry = BOX
  GeometryMajorRadius = 16.1
  GeometryMinorRadius = 8.5
  GeometryHeight = 11.5     
  GeometryIsSmall = Yes 
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length
  Scale = 1.01
End

;------------------------------------------------------------------------------
Object Boss_SovietVehicleBTRD

  ; *** ART Parameters ***
  SelectPortrait         = SACBradley
  ButtonImage            = SACBradley
  
  ; UpgradeCameo1 = Upgrade_RussiaTankERA
  ; UpgradeCameo2 = Upgrade_RussiaArmedRecon
  ; UpgradeCameo3 = Upgrade_RussiaAdvancedMissileEngines
  
  Draw = W3DTankDraw ModuleTag_Chassis01
  
    OkToChangeModelColor = Yes
    
    DefaultConditionState
      Model             = RVGrizzly
      HideSubObject     = TURRET_DUM LAUNCHER ARMOR01 LIGHT01
      WeaponFireFXBone  = TERTIARY WeaponB
      WeaponLaunchBone  = TERTIARY WeaponB
    End
    
    ConditionState      = REALLYDAMAGED
      Model             = RVGrizzly_D
    End
    AliasConditionState = RUBBLE
    
    ConditionState      = USER_1
      Model             = RVGrizzly
      HideSubObject     = TURRET_DUM LAUNCHER LIGHT01
      ShowSubObject     = ARMOR01
    End
    
    ConditionState      = USER_1 REALLYDAMAGED
      Model             = RVGrizzly_D
      HideSubObject     = TURRET_DUM LAUNCHER LIGHT01
      ShowSubObject     = ARMOR01
    End
    AliasConditionState = USER_1 RUBBLE
    
    TrackMarks              = EXTnkTrack.tga
    TreadAnimationRate      = 2.0  ; amount of tread texture to move per second
    TreadDriveSpeedFraction = 0.3  ; fraction of locomotor speed below which treads stop moving.
    TreadPivotSpeedFraction = 0.6  ; fraction of locomotor speed below which we allow pivoting.
  End
  
  Draw = W3DModelDraw ModuleTag_Turret01
  
    OkToChangeModelColor = Yes
    
    DefaultConditionState
      Model             = RVGrizzly
      Animation         = RVGrizzly.RVGrizzly
      AnimationMode     = ONCE
      Flags             = START_FRAME_LAST
      Turret            = TURRET
      TurretPitch       = TURRETEL
      HideSubObject     = LAUNCHER CHASSIS LIGHT01
      WeaponFireFXBone  = PRIMARY Muzzle
      WeaponLaunchBone  = PRIMARY Muzzle
      WaitForStateToFinishIfPossible = TRANS_START_FIRING
    End
    
    ConditionState      = FIRING_A
      Flags             = START_FRAME_FIRST
      TransitionKey     = TRANS_START_FIRING
    End
    
    ConditionState      = REALLYDAMAGED
      Model             = RVGrizzly_D
      Animation         = RVGrizzly_D.RVGrizzly_D
      WaitForStateToFinishIfPossible = TRANS_DAMAGED_START_FIRING
    End
    
    ConditionState      = REALLYDAMAGED FIRING_A
      Model             = RVGrizzly_D
      Animation         = RVGrizzly_D.RVGrizzly_D
      Flags             = START_FRAME_FIRST
      TransitionKey     = TRANS_DAMAGED_START_FIRING
    End
    
  End
  
  Draw = W3DModelDraw ModuleTag_MissileLauncher01
    
    DefaultConditionState
      Model             = RVGrizzly
      Turret            = TURRET
      TurretPitch       = LAUNCHEREL
      HideSubObject     = CHASSIS TURRET_DUM LIGHT01 LAUNCHER
      WeaponFireFXBone  = SECONDARY Dummy01
      WeaponLaunchBone  = SECONDARY Dummy01
    End
    AliasConditionState = REALLYDAMAGED
    AliasConditionState = RUBBLE
    
    ConditionState      = POWER_PLANT_UPGRADED
      Model             = RVGrizzly
      HideSubObject     = CHASSIS TURRET_DUM LIGHT01
      ShowSubObject     = LAUNCHER
      WeaponFireFXBone  = SECONDARY WeaponA
      WeaponLaunchBone  = SECONDARY WeaponA
    End
    AliasConditionState = POWER_PLANT_UPGRADING
    
    ConditionState      = POWER_PLANT_UPGRADED REALLYDAMAGED
      Model             = RVGrizzly_D
      HideSubObject     = CHASSIS TURRET_DUM LIGHT01
      ShowSubObject     = LAUNCHER
      WeaponFireFXBone  = SECONDARY WeaponA
      WeaponLaunchBone  = SECONDARY WeaponA
    End
    AliasConditionState = POWER_PLANT_UPGRADED RUBBLE
    AliasConditionState = POWER_PLANT_UPGRADING REALLYDAMAGED
    AliasConditionState = POWER_PLANT_UPGRADING RUBBLE
    
  End
  
  Draw = W3DModelDraw ModuleTag_Headlights01
    
    ConditionState = NONE
      Model= NONE
    End
    AliasConditionState = REALLYDAMAGED
    AliasConditionState = RUBBLE
    
    ConditionState    = NIGHT
      Model             = RVGrizzly
      HideSubObject     = CHASSIS TURRET_DUM LAUNCHER
      ShowSubObject     = LIGHT01
    End
    AliasConditionState = NIGHT REALLYDAMAGED
    AliasConditionState = NIGHT RUBBLE

  End

  Draw = W3DModelDraw Module_ExitBones
  
    DefaultConditionState
      Model = RVBMP3_B
    End
    
  End
  
  ; ***DESIGN parameters ***
  DisplayName               = OBJECT:BTRD
  Side                      = Boss
  EditorSorting             = VEHICLE
  TransportSlotCount        = 3            ;how many "slots" we take in a transport (0 == not transportable)

  WeaponSet
    Conditions              = NONE 
    Weapon                  = PRIMARY   RussianGrizzlyAutoCannonWeapon
    PreferredAgainst        = PRIMARY   INFANTRY
    Weapon                  = SECONDARY BTRDMissileWeapon ;RussianGrizzlyMissileLauncherWeapon
    PreferredAgainst        = SECONDARY VEHICLE STRUCTURE
  End
  
  WeaponSet
    Conditions              = HERO
    Weapon                  = PRIMARY   RussianGrizzlyAutoCannonWeaponHeroic
    PreferredAgainst        = PRIMARY   INFANTRY
    Weapon                  = SECONDARY BTRDMissileWeapon ;RussianGrizzlyMissileLauncherWeapon
    PreferredAgainst        = SECONDARY VEHICLE STRUCTURE
  End

  ArmorSet
    Conditions      = None
    Armor           = GrizzlyTankArmor
    DamageFX        = TankDamageFX
  End
    
  ; ArmorSet
    ; Conditions      = PLAYER_UPGRADE
    ; Armor           = GrizzlyERATankArmor
    ; DamageFX        = TankEraDamageFX
  ; End
  
  BuildCost       = 800
  BuildTime       = 8.0          ;in seconds    
  VisionRange     = 250
  ShroudClearingRange = 200
  
  Prerequisites
    Object        = Boss_WarFactory Boss_SmallFactory
  End

  ExperienceValue    = 100 150 200 300 ;Experience point value at each level
  ExperienceRequired = 0   100 150 300 ;Experience points needed to gain each level
  IsTrainable = Yes           ;Can gain experience
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  
  CommandSet = SovietVehicleBTRDCommandSet
  
  ; *** AUDIO Parameters ***
  VoiceSelect     = GrizzlyVoiceSelect
  VoiceMove       = GrizzlyVoiceMove
  VoiceGuard      = GrizzlyVoiceMove
  VoiceAttack     = GrizzlyVoiceAttack
  SoundMoveStart        = GrizzlyMoveStart
  SoundMoveStartDamaged = GrizzlyMoveStart
  SoundEnter            = HumveeEnter
  SoundExit             = HumveeExit

  UnitSpecificSounds
    VoiceCreate         = GrizzlyVoiceCreate
    VoicePoisonLocation = GrizzlyVoiceLaunchSmokeBarrage
    VoiceUnload         = GrizzlyVoiceUnload
    VoiceCrush          = GrizzlyVoiceMove
    VoiceEnter          = GrizzlyVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority     = UNIT
  KindOf            = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE
  
  Body              = ActiveBody ModuleTag_02
    MaxHealth       = 650.0
    InitialHealth   = 650.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 1000
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End
  
  Behavior = TransportAIUpdate ModuleTag_03
    Turret
      TurretTurnRate        = 180
      TurretPitchRate       = 100
      AllowsPitch           = Yes
      MinPhysicalPitch      = -10
      NaturalTurretPitch    = 5
      ControlledWeaponSlots = PRIMARY SECONDARY
      MinIdleScanAngle      = 10
      MaxIdleScanAngle      = 40
      MinIdleScanInterval   = 5000
      MaxIdleScanInterval   = 10000
    End
    AutoAcquireEnemiesWhenIdle = Yes
    MoodAttackCheckRate        = 33
  End
  Locomotor       = SET_NORMAL GrizzlyLocomotor
  
  Behavior          = PhysicsBehavior ModuleTag_04
    Mass            = 50.0
  End

  Behavior = TransportContain  ModuleTag_Transport01
    Slots                = 10
	;InitialPayload       = Boss_RussiaInfantryVDVParaTrooper 10
    EnterSound           = GarrisonEnter
    ExitSound            = GarrisonExit
    DamagePercentToUnits = 0%
    AllowInsideKindOf    = INFANTRY
    ExitDelay            = 250
    NumberOfExitPaths    = 3
    GoAggressiveOnExit   = Yes ; AI Will tell people to set their mood to Aggressive on exiting
  End
  
  ; Just explode death
  Behavior = SlowDeathBehavior ModuleTag_05
    DeathTypes = ALL
    DestructionDelay = 1
    SinkRate = 0.5     ; in Dist/Sec
    OCL = FINAL    OCL_RussiaGrizzlyDebris
    FX  = FINAL    FX_GattlingExplosionOneFinal
  End

  Behavior = TransitionDamageFX ModuleTag_07
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End
  
  ; Behavior = StealthUpdate ModuleTag_GPSStealth01
    ; StealthDelay                = 2000 ; msec
    ; StealthForbiddenConditions  = FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
    ; InnateStealth               = Yes
    ; RequiredStatus              = REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
    ; OrderIdleEnemiesToAttackMeUponReveal  = Yes
  ; End

  ; Behavior = ModelConditionUpgrade ModuleTag_ERA01
    ; TriggeredBy   = Upgrade_RussiaTankERA
    ; ConditionFlag = USER_1
  ; End
  
  ; Behavior = ArmorUpgrade ModuleTag_ERA02
    ; TriggeredBy = Upgrade_RussiaTankERA
  ; End
  
  ;This module ensures that emerging infantry from a destroyed transport have a very short time where they cannot be targeted
  Behavior = FireWeaponWhenDeadBehavior ModuleTag_InvulWhenDestroye01
    DeathWeapon   = InfantryEmergingFromTransportInvulnerabilityObjectTriggerWeapon
    StartsActive  = Yes
  End

  Geometry            = BOX
  GeometryMajorRadius = 16.0
  GeometryMinorRadius = 8.5
  GeometryHeight      = 15.0     
  GeometryIsSmall     = Yes
  Shadow              = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length    

End

;------------------------------------------------------------------------------
Object Boss_RussiaInfantryConscript

  ; *** ART Parameters ***
  SelectPortrait         = SARanger_L
  ButtonImage            = SARanger

  UpgradeCameo1 = Upgrade_InfantryCaptureBuilding

  Draw = W3DModelDraw ModuleTag_01

    OkToChangeModelColor = Yes

    IgnoreConditionStates = PREATTACK_A FIRING_A BETWEEN_FIRING_SHOTS_A RELOADING_A

    ; ---- standing
    DefaultConditionState
      Model               = RICnscrpt_SKN
      IdleAnimation       = UIRGrd_SKL.UIRGrd_STN 0 35
      IdleAnimation       = UIRGrd_SKL.UIRGrd_IDA 
      IdleAnimation       = UIRGrd_SKL.UIRGrd_IDB 
      AnimationMode       = ONCE
      HideSubObject       = UPGRADE01 UPGRADE02
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      TransitionKey       = TRANS_Standing
    End

    ConditionState        = REALLYDAMAGED
      IdleAnimation       = UIRGrd_SKL.UIRGrd_STB 0 35
      IdleAnimation       = UIRGrd_SKL.UIRGrd_IDC
      IdleAnimation       = UIRGrd_SKL.UIRGrd_IDD 
      AnimationMode       = ONCE
      TransitionKey       = TRANS_StandingHurt
    End

    ; ---- moving
    ConditionState      = MOVING
      Model             = RICnscrpt_SKNB
      Animation         = NICNSCI_SKL.NICNSCI_RNA2 13
      Animation         = NICNSCI_SKL.NICNSCI_RNA3 26
      AnimationMode     = LOOP
      Flags             = RANDOMSTART
      TransitionKey     = None
      ParticleSysBone   = None InfantryDustTrails
    End
    AliasConditionState = MOVING ATTACKING

    ConditionState        = MOVING REALLYDAMAGED
      Animation           = UIRGrd_SKL.UIRGrd_RNB 25
      AnimationMode       = LOOP
      Flags               = RANDOMSTART
      TransitionKey       = TRANS_WalkingHurt
      ParticleSysBone     = None InfantryDustTrails
    End
    AliasConditionState   = MOVING ATTACKING REALLYDAMAGED
    
    ; ---- dying 
    ConditionState        = DYING
      Animation           = UIRGrd_SKL.UIRGrd_DTA 
      Animation           = UIRGrd_SKL.UIRGrd_DTB 
      AnimationMode       = ONCE
      TransitionKey       = TRANS_Dying
    End

    TransitionState = TRANS_Dying TRANS_Flailing
      Animation = UIRGrd_SKL.UIRGrd_ADTE1
      AnimationMode = ONCE
    End

    ConditionState = DYING EXPLODED_FLAILING
      Animation = UIRGrd_SKL.UIRGrd_ADTE2
      AnimationMode = LOOP
      TransitionKey = TRANS_Flailing
    End

    ConditionState = DYING EXPLODED_BOUNCING
      Animation = UIRGrd_SKL.UIRGrd_ADTE3
      AnimationMode = ONCE
      TransitionKey = None
    End
    
    ConditionState = SPECIAL_CHEERING
      Animation = UIRGrd_SKL.UIRGrd_IDB
    End

    ; ---- firing
    ConditionState = USING_WEAPON_A
      Model = RICnscrpt_SKNB
      Animation = NICNSCI_SKL.NICNSCI_ATA
      AnimationMode = LOOP
      TransitionKey = TRANS_Firing
    End

    ConditionState = USING_WEAPON_A REALLYDAMAGED
      Animation = UIRGrd_SKL.UIRGrd_ATA2
      AnimationMode = LOOP
      TransitionKey = TRANS_FiringHurt
    End
    
    ; ------- Parachuting Animations

    ConditionState    = FREEFALL
      Model           = RICnscrpt_SKNB
      Animation       = NICNSCI_SKL.NICNSCI_POP
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
      TransitionKey   = TRANS_Falling
    End
    AliasConditionState = FREEFALL REALLYDAMAGED
    AliasConditionState = FREEFALL DYING

    ConditionState    = PARACHUTING
      Model           = RICnscrpt_SKNB
      Animation       = NICNSCI_SKL.NICNSCI_PHG
      AnimationMode   = LOOP
      Flags           = PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
      TransitionKey   = TRANS_Chute
    End
    AliasConditionState = PARACHUTING REALLYDAMAGED
    AliasConditionState = PARACHUTING DYING

    TransitionState   = TRANS_Falling TRANS_Chute
      Model           = RICnscrpt_SKNB
      Animation       = NICNSCI_SKL.NICNSCI_POP
      AnimationMode   = ONCE
      Flags           = PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
    End

    TransitionState   = TRANS_Chute TRANS_Standing
      Model           = RICnscrpt_SKNB
      Animation       = NICNSCI_SKL.NICNSCI_PTD
      AnimationMode   = ONCE
    End

    ; ------- Bldg-capture

    ConditionState      = UNPACKING
      Model             = RICnscrpt_SKNE
      Animation         = NICNSC_F_SKL.NICNSC_F_FDP1
      AnimationMode     = ONCE
    End
    AliasConditionState = UNPACKING REALLYDAMAGED

    ConditionState      = RAISING_FLAG
      Model             = RICnscrpt_SKNE
      Animation         = NICNSC_F_SKL.NICNSC_F_FDP2
      AnimationMode     = ONCE
      TransitionKey     = TRANS_Raising
    End
    AliasConditionState = RAISING_FLAG REALLYDAMAGED

    ConditionState      = PACKING
      Model             = RICnscrpt_SKNE
      Animation         = NICNSC_F_SKL.NICNSC_F_FDP1
      AnimationMode     = ONCE_BACKWARDS
      Flags             = START_FRAME_LAST
      TransitionKey     = TRANS_Packing
    End
    AliasConditionState = PACKING REALLYDAMAGED

    TransitionState     = TRANS_Raising TRANS_Packing
      Model             = RICnscrpt_SKNE
      Animation         = NICNSC_F_SKL.NICNSC_F_FDP2
      AnimationMode     = ONCE_BACKWARDS
      Flags             = START_FRAME_LAST
    End

  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Conscript
  Side                = Boss
  EditorSorting       = INFANTRY
  TransportSlotCount  = 1                 ;how many "slots" we take in a transport (0 == not transportable)
 
  WeaponSet
    Conditions = None 
    Weapon = PRIMARY ConscriptMachineGun
  End
  
  ArmorSet
    Conditions      = None
    Armor           = HumanArmor
    DamageFX        = InfantryDamageFX
  End
  
  VisionRange         = 220
  ShroudClearingRange = 220

  BuildCost = 40
  BuildTime = 8.0          ;in seconds  

  ExperienceValue     = 5 5 10 20   ;Experience point value at each level
  ExperienceRequired  = 0 20 40 80  ;Experience points needed to gain each level
  IsTrainable         = Yes             ;Can gain experience
  CrushableLevel      = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet          = RussianInfantryConscriptCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect           = ConscriptVoiceSelect
  VoiceMove             = ConscriptVoiceMove
  VoiceGuard            = ConscriptVoiceMove
  VoiceAttack           = ConscriptVoiceAttack
  VoiceFear             = ConscriptVoiceFear
  VoiceTaskComplete     = ConscriptVoiceCaptureComplete
  
  UnitSpecificSounds
    VoiceCreate         = ConscriptVoiceCreate
    VoiceGarrison       = ConscriptVoiceGarrison
    VoiceEnter          = ConscriptVoiceMove
    VoiceEnterHostile   = ConscriptVoiceMove
    VoiceGetHealed      = ConscriptVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SCORE

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 100.0
    InitialHealth   = 100.0
  End

  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle = Yes
  End

  Locomotor = SET_NORMAL ConscriptHumanLocomotor

  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 5.0
  End
 
  Behavior = SquishCollide ModuleTag_11
    ;nothing
  End


; --- begin Death modules ---
  Behavior = SlowDeathBehavior ModuleTag_Death01
    ;DeathTypes          = ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7 -EXTRA_8
	DeathTypes          = ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_ConscriptDie
  End
  Behavior = SlowDeathBehavior ModuleTag_Death02
    DeathTypes          = NONE +CRUSHED +SPLATTED
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_GIDieCrushed
  End
  Behavior = SlowDeathBehavior ModuleTag_Death03
    DeathTypes          = NONE +EXPLODED
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_ConscriptDie
    FlingForce          = 8
    FlingForceVariance  = 3
    FlingPitch          = 60
    FlingPitchVariance  = 10
  End
  Behavior = SlowDeathBehavior ModuleTag_Death04
    DeathTypes          = NONE +BURNED
    DestructionDelay    = 0
    FX                  = INITIAL FX_ConscriptFireDie
    OCL                 = INITIAL OCL_FlamingInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death05
    DeathTypes          = NONE +POISONED
    DestructionDelay    = 0
    FX                  = INITIAL ConscriptVoiceToxinDie
    OCL                 = INITIAL OCL_ToxicInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
    DeathTypes          = NONE +POISONED_BETA
    DestructionDelay    = 0
    FX                  = INITIAL ConscriptVoiceToxinDie
    OCL                 = INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
  End
  ; Behavior = SlowDeathBehavior ModuleTag_Death07
    ; DeathTypes          = NONE +POISONED_GAMMA
    ; DestructionDelay    = 0
    ; FX                  = INITIAL FX_ConscriptTeslaDie
    ; OCL                 = INITIAL OCL_TeslaDeathInfantry
    ; FX                  = FINAL   FX_IfantryTeslaDie
  ; End
  Behavior = SlowDeathBehavior ModuleTag_Death07
    DeathTypes          = NONE +POISONED_GAMMA
    DestructionDelay    = 0
    FX                  = INITIAL ConscriptVoiceToxinDie
    OCL                 = INITIAL OCL_ToxicInfantryGamma
  End
  ; Behavior = SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
    ; DeathTypes          = NONE +EXTRA_2
    ; DestructionDelay    = 0
    ; FX                  = INITIAL FX_ConscriptFireDie
    ; OCL                 = INITIAL OCL_MicrowavedInfantry 
  ; End
  ; Behavior = SlowDeathBehavior ModuleTag_Death09
    ; DeathTypes          = NONE +EXTRA_3
    ; DestructionDelay    = 0
    ; FX                  = INITIAL ConscriptVoiceToxinDie
    ; OCL                 = INITIAL OCL_ViralInfantryDeath
  ; End
  ; Behavior = SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
    ; DeathTypes          = NONE +EXTRA_4
    ; SinkDelay           = 3000
    ; SinkRate            = 0.5     ; in Dist/Sec
    ; DestructionDelay    = 8000
    ; OCL                 = INITIAL OCL_BrutalBloodyDeathBits
    ; FX                  = INITIAL FX_InfantryGoreExplosion
  ; End
  ; Behavior = SlowDeathBehavior ModuleTag_036 ;Gore death explosion
    ; DeathTypes          = NONE +EXTRA_5
    ; ProbabilityModifier = 30
    ; DestructionDelay    = 0
    ; OCL                 = INITIAL OCL_BloodyGoreExplosion
    ; FX                  = FINAL   FX_InfantryGoreExplosion
  ; End
  ; Behavior = SlowDeathBehavior ModuleTag_Death0323
    ; DeathTypes          = NONE +EXTRA_5
    ; ProbabilityModifier = 70
    ; SinkDelay           = 3000
    ; SinkRate            = 0.5     ; in Dist/Sec
    ; DestructionDelay    = 8000
    ; FX                  = INITIAL FX_ConscriptDie
    ; OCL                 = INITIAL OCL_BrutalBloodyDeathBits
    ; FlingForce          = 8
    ; FlingForceVariance  = 3
    ; FlingPitch          = 60
    ; FlingPitchVariance  = 10
  ; End
  ; Behavior = SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
    ; DeathTypes          = NONE +EXTRA_6
    ; DestructionDelay    = 0
    ; OCL                 = INITIAL OCL_RadiationDeathInfantry
    ; FX                  = INITIAL FX_GIDieRadiation
    ; FX                  = FINAL   FX_DieByToxinGLA
  ; End
  ; Behavior = SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
    ; DeathTypes          = NONE +EXTRA_7
    ; DestructionDelay    = 0
    ; OCL                 = INITIAL OCL_NeutronRadiationDeathInfantry
    ; FX                  = INITIAL FX_GIDieRadiation
    ; FX                  = FINAL   FX_DieByToxinGLA
  ; End
  ; Behavior = SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
    ; DeathTypes          = NONE +LASERED
    ; DestructionDelay    = 0
    ; FX                  = INITIAL FX_GIDieCryoFreeze
    ; OCL                 = INITIAL OCL_CrygenicDeathInfantry
  ; End
  ; Behavior = SlowDeathBehavior ModuleTag_Surrender_Death
    ; DeathTypes          = NONE +EXTRA_8
    ; DestructionDelay    = 0
    ; FX                  = INITIAL FX_ConscriptSurrender
    ; OCL                 = INITIAL OCL_ConscriptSurrendering
  ; End
; --- end Death modules ---

  Behavior = PoisonedBehavior ModuleTag_16
    PoisonDamageInterval = 100  ; Every this many msec I will retake the poison damage dealt me...
    PoisonDuration = 3000       ; ... for this long after last hit by poison damage
  End

  Behavior = SpecialAbility ModuleTag_17
    SpecialPowerTemplate      = SpecialAbilityRedGuardCaptureBuilding ;SpecialAbilityRebelCaptureBuilding
    UpdateModuleStartsAttack  = Yes
    StartsPaused              = Yes
    InitiateSound             = ConscriptVoiceCapture
  End
  
  Behavior = SpecialAbilityUpdate ModuleTag_18
    SpecialPowerTemplate  = SpecialAbilityRedGuardCaptureBuilding ;SpecialAbilityRebelCaptureBuilding
    StartAbilityRange     = 5.0
    UnpackTime            = 3000  ; (changing this will scale anim speed)
    PreparationTime       = 20000 ; time to complete hack once prepared (changing this will scale anim speed)
    PackTime              = 2000  ; (changing this will scale anim speed)
    DoCaptureFX           = Yes
    AwardXPForTriggering  = 12
  End

  Behavior = CommandButtonHuntUpdate  ModuleTag_035
  ; allows use of command button hunt script with this unit. 
  End
  
  Behavior = UnpauseSpecialPowerUpgrade ModuleTag_19
    SpecialPowerTemplate = SpecialAbilityRedGuardCaptureBuilding ;SpecialAbilityRebelCaptureBuilding
    TriggeredBy = Upgrade_InfantryCaptureBuilding
  End
  
  Behavior = OverlordContain ModuleTag_IRGoggles01
    Slots                 = 1
    DamagePercentToUnits  = 100%
    AllowInsideKindOf     = PORTABLE_STRUCTURE
  End
  
  Behavior = ProductionUpdate ModuleTag_IRGoggles03
    MaxQueueEntries = 1
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 10.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 12.0
  GeometryIsSmall = Yes
  Shadow = SHADOW_DECAL
  ShadowSizeX = 14;
  ShadowSizeY = 14;
  ShadowTexture = ShadowI;
  BuildCompletion = APPEARS_AT_RALLY_POINT
  Scale = 0.96
End

;------------------------------------------------------------------------------
Object Boss_RussiaInfantryRPGConscript

  ; *** ART Parameters ***
  SelectPortrait         = SNTankHunter_L
  ButtonImage            = SNTankHunter
  
  ;UpgradeCameo1 = Upgrade_RussiaMedPack
  ;UpgradeCameo2 = Upgrade_RussiaLargerClips
  ;UpgradeCameo3 = Upgrade_RussiaAdvancedMissileEngines
  ;UpgradeCameo3 = NONE
  ;UpgradeCameo4 = NONE
  ;UpgradeCameo5 = NONE

  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes
  
  
    DefaultConditionState
      Model             = RIRpgCcrpt_SKN
      IdleAnimation     = NIMSST_SKL.NIMSST_STA 0 30
      IdleAnimation     = NIMSST_SKL.NIMSST_IDA
      IdleAnimation     = NIMSST_SKL.NIMSST_IDB
      AnimationMode     = ONCE
      AnimationSpeedFactorRange = 0.8 1.2
      HideSubObject     = UPGRADE01
      TransitionKey     = TRANS_Stand
      WeaponMuzzleFlash = PRIMARY MuzzleFX
      WeaponFireFXBone  = PRIMARY Muzzle
      WeaponLaunchBone  = PRIMARY Muzzle
      WeaponFireFXBone  = SECONDARY Muzzle
      WeaponLaunchBone  = SECONDARY Muzzle
    End
    AliasConditionState = REALLYDAMAGED

    ConditionState      = MOVING
      Animation         = NIMSST_SKL.NIMSST_RNA 20
      AnimationMode     = LOOP
      Flags             = RANDOMSTART
      TransitionKey     = None
      ParticleSysBone   = None InfantryDustTrails
    End
    AliasConditionState = REALLYDAMAGED MOVING
    AliasConditionState = MOVING ATTACKING
    AliasConditionState = MOVING ATTACKING REALLYDAMAGED
    
    ConditionState      = FIRING_A 
      Animation         = NIMSST_SKL.NIMSST_ATA 
      AnimationMode     = ONCE
      TransitionKey     = TRANS_START_FIRING
    End
    AliasConditionState = REALLYDAMAGED FIRING_A
    AliasConditionState = FIRING_B
    AliasConditionState = REALLYDAMAGED FIRING_B
    
    ConditionState      = BETWEEN_FIRING_SHOTS_A
      Animation         = NIMSST_SKL.NIMSST_STA
      AnimationMode     = ONCE
      WaitForStateToFinishIfPossible = TRANS_START_FIRING
    End
    AliasConditionState = REALLYDAMAGED BETWEEN_FIRING_SHOTS_A
    AliasConditionState      = BETWEEN_FIRING_SHOTS_B
    AliasConditionState = REALLYDAMAGED BETWEEN_FIRING_SHOTS_B
    
    ConditionState      = RELOADING_A
      Animation         = NIMSST_SKL.NIMSST_ATA 10
      AnimationMode     = ONCE
    End
    AliasConditionState = MOVING RELOADING_A
    AliasConditionState = REALLYDAMAGED MOVING RELOADING_A
    AliasConditionState = RELOADING_B
    AliasConditionState = MOVING RELOADING_B
    AliasConditionState = REALLYDAMAGED MOVING RELOADING_B
    
    ConditionState      = DYING
      Animation         = NIMSST_SKL.NIMSST_DTA
      Animation         = NIMSST_SKL.NIMSST_DTB
      AnimationSpeedFactorRange = 0.9 1.25
      AnimationMode     = ONCE
      TransitionKey     = TRANS_Dying
    End

    TransitionState     = TRANS_Dying TRANS_Flailing
      Animation         = NIMSST_SKL.NIMSST_ADTD1
      AnimationMode     = ONCE
    End

    ConditionState      = DYING EXPLODED_FLAILING
      Animation         = NIMSST_SKL.NIMSST_ADTD2
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Flailing
    End

    ConditionState      = DYING EXPLODED_BOUNCING
      Animation         = NIMSST_SKL.NIMSST_ADTD3
      AnimationMode     = ONCE
      TransitionKey     = None
    End

    ;PARACHUTING ANIMATIONS
    ConditionState      = FREEFALL
      Animation         = NIMSST_SKL.NIMSST_POP
      AnimationMode     = ONCE
      TransitionKey     = TRANS_Falling
    End
    AliasConditionState = FREEFALL REALLYDAMAGED
    AliasConditionState = FREEFALL DYING
    
    ConditionState      = PARACHUTING
      Animation         = NIMSST_SKL.NIMSST_PHG
      AnimationMode     = LOOP
      Flags             = PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
      TransitionKey     = TRANS_Chute
    End
    AliasConditionState = PARACHUTING REALLYDAMAGED
    AliasConditionState = PARACHUTING DYING
    

    
    TransitionState     = TRANS_Chute TRANS_Stand
      Animation         = NIMSST_SKL.NIMSST_PDN
      AnimationMode     = ONCE
    End

  End


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:RPGConscript
  Side = Boss
  EditorSorting = INFANTRY
  TransportSlotCount = 1                 ;how many "slots" we take in a transport (0 == not transportable)
  
  WeaponSet
    Conditions = None 
    ;Weapon              = PRIMARY   RussiaRPGConscriptMissileLauncherDummyRocket
	Weapon              = PRIMARY RussiaRPGConscriptMissileLauncher
    ;Weapon              = SECONDARY RussiaRPGConscriptMissileLauncher
  End
  
  ArmorSet
    Conditions      = None
    Armor           = HumanArmor
    DamageFX        = InfantryDamageFX
  End
  
  VisionRange = 220
  ShroudClearingRange = 220

  BuildCost = 80
  BuildTime = 3.0          ;in seconds    

  ExperienceValue    = 20 20  40  60   ;Experience point value at each level
  ExperienceRequired = 0  100 200 400  ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrushableLevel         = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet      = RussianInfantryRPGConscriptCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect       = RPGConscriptVoiceSelect
  VoiceMove         = RPGConscriptVoiceMove
  VoiceAttack       = RPGConscriptVoiceAttack
  VoiceGuard        = RPGConscriptVoiceMove
  VoiceFear         = RPGConscriptVoiceFear
  UnitSpecificSounds
    VoiceCreate       = RPGConscriptVoiceCreate
    VoiceGarrison     = RPGConscriptVoiceGarrison
    VoiceEnter        = RPGConscriptVoiceMove
    VoiceEnterHostile = RPGConscriptVoiceMove
    VoiceGetHealed    = RPGConscriptVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SCORE

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 100.0
    InitialHealth   = 100.0
  End

  Behavior = AIUpdateInterface ModuleTag_03
    TurretsLinked              = Yes
    AutoAcquireEnemiesWhenIdle = Yes
  End
  Locomotor = SET_NORMAL MissileDefenderLocomotor

  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 5.0
  End

  Behavior = SquishCollide ModuleTag_09
  End


; --- begin Death modules ---
  Behavior = SlowDeathBehavior ModuleTag_Death01
    ;DeathTypes          = ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7 -EXTRA_8
	DeathTypes          = ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_RPGConscriptDie
  End
  Behavior = SlowDeathBehavior ModuleTag_Death02
    DeathTypes          = NONE +CRUSHED +SPLATTED
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_GIDieCrushed
  End
  Behavior = SlowDeathBehavior ModuleTag_Death03
    DeathTypes          = NONE +EXPLODED
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_RPGConscriptDie
    FlingForce          = 8
    FlingForceVariance  = 3
    FlingPitch          = 60
    FlingPitchVariance  = 10
  End
  Behavior = SlowDeathBehavior ModuleTag_Death04
    DeathTypes          = NONE +BURNED
    DestructionDelay    = 0
    FX                  = INITIAL FX_RPGConscriptDieFire
    OCL                 = INITIAL OCL_FlamingInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death05
    DeathTypes          = NONE +POISONED
    DestructionDelay    = 0
    FX                  = INITIAL FX_RPGConscriptDieToxins
    OCL                 = INITIAL OCL_ToxicInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
    DeathTypes          = NONE +POISONED_BETA
    DestructionDelay    = 0
    FX                  = INITIAL FX_RPGConscriptDieToxins
    OCL                 = INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
  End
  ; Behavior = SlowDeathBehavior ModuleTag_Death07
    ; DeathTypes          = NONE +POISONED_GAMMA
    ; DestructionDelay    = 0
    ; FX                  = INITIAL FX_RPGConscriptDieTesla
    ; OCL                 = INITIAL OCL_TeslaDeathInfantry
    ; FX                  = FINAL   FX_IfantryTeslaDie
  ; End
  Behavior = SlowDeathBehavior ModuleTag_Death07
    DeathTypes          = NONE +POISONED_GAMMA
    DestructionDelay    = 0
	FX                  = INITIAL FX_RPGConscriptDieToxins
    OCL                 = INITIAL OCL_ToxicInfantryGamma
  End
  ; Behavior = SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
    ; DeathTypes          = NONE +EXTRA_2
    ; DestructionDelay    = 0
    ; FX                  = INITIAL FX_RPGConscriptDieFire
    ; OCL                 = INITIAL OCL_MicrowavedInfantry 
  ; End
  ; Behavior = SlowDeathBehavior ModuleTag_Death09
    ; DeathTypes          = NONE +EXTRA_3
    ; DestructionDelay    = 0
    ; FX                  = INITIAL FX_RPGConscriptDieToxins
    ; OCL                 = INITIAL OCL_ViralInfantryDeath
  ; End
  ; Behavior = SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
    ; DeathTypes          = NONE +EXTRA_4
    ; SinkDelay           = 3000
    ; SinkRate            = 0.5     ; in Dist/Sec
    ; DestructionDelay    = 8000
    ; OCL                 = INITIAL OCL_BrutalBloodyDeathBits
    ; FX                  = INITIAL FX_InfantryGoreExplosion
  ; End
  ; Behavior = SlowDeathBehavior ModuleTag_036 ;Gore death explosion
    ; DeathTypes          = NONE +EXTRA_5
    ; ProbabilityModifier = 30
    ; DestructionDelay    = 0
    ; OCL                 = INITIAL OCL_BloodyGoreExplosion
    ; FX                  = FINAL   FX_InfantryGoreExplosion
  ; End
  ; Behavior = SlowDeathBehavior ModuleTag_Death0323
    ; DeathTypes          = NONE +EXTRA_5
    ; ProbabilityModifier = 70
    ; SinkDelay           = 3000
    ; SinkRate            = 0.5     ; in Dist/Sec
    ; DestructionDelay    = 8000
    ; FX                  = INITIAL FX_RPGConscriptDie
    ; OCL                 = INITIAL OCL_BrutalBloodyDeathBits
    ; FlingForce          = 8
    ; FlingForceVariance  = 3
    ; FlingPitch          = 60
    ; FlingPitchVariance  = 10
  ; End
  ; Behavior = SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
    ; DeathTypes          = NONE +EXTRA_6
    ; DestructionDelay    = 0
    ; OCL                 = INITIAL OCL_RadiationDeathInfantry
    ; FX                  = INITIAL FX_GIDieRadiation
    ; FX                  = FINAL   FX_RPGConscriptDieToxins
  ; End
  ; Behavior = SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
    ; DeathTypes          = NONE +EXTRA_7
    ; DestructionDelay    = 0
    ; OCL                 = INITIAL OCL_NeutronRadiationDeathInfantry
    ; FX                  = INITIAL FX_GIDieRadiation
    ; FX                  = FINAL   FX_RPGConscriptDieToxins
  ; End
  ; Behavior = SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
    ; DeathTypes          = NONE +LASERED
    ; DestructionDelay    = 0
    ; FX                  = INITIAL FX_GIDieCryoFreeze
    ; OCL                 = INITIAL OCL_CrygenicDeathInfantry
  ; End
  ; Behavior = SlowDeathBehavior ModuleTag_Surrender_Death
    ; DeathTypes          = NONE +EXTRA_8
    ; DestructionDelay    = 0
    ; FX                  = INITIAL FX_RPGConscriptSurrender
    ; OCL                 = INITIAL OCL_RPGConscriptSurrendering
  ; End
; --- end Death modules ---

  Behavior = PoisonedBehavior ModuleTag_12
    PoisonDamageInterval = 100  ; Every this many msec I will retake the poison damage dealt me...
    PoisonDuration = 3000       ; ... for this long after last hit by poison damage
  End

  ; Behavior = AutoHealBehavior ModuleTag_Medkit01
    ; HealingAmount = 2
    ; HealingDelay  = 1000 ; msec
    ; TriggeredBy   = Upgrade_RussiaMedPack
  ; End
  
  ; Behavior = CreateObjectDie ModuleTag_RussiaInfantryBeserker01
    ; DeathTypes = ALL -EXTRA_8
    ; CreationList = OCL_InfantryBeserkerObject
  ; End
  
  ; Behavior = WeaponSetUpgrade ModuleTag_MissileRangeUpgrade01
    ; TriggeredBy = Upgrade_RussiaAdvancedMissileEngines
  ; End
  
  ; Behavior = SubObjectsUpgrade ModuleTag_19
    ; TriggeredBy    = Upgrade_RussiaLargerClips 
    ; HideSubObjects = NONE
    ; ShowSubObjects = UPGRADE01
  ; End
  
  Geometry = CYLINDER
  GeometryMajorRadius = 10.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 12.0
  GeometryIsSmall = Yes
  Shadow = SHADOW_DECAL
  ShadowSizeX = 14;
  ShadowSizeY = 14;
  ShadowTexture = ShadowI;
  BuildCompletion = APPEARS_AT_RALLY_POINT
  Scale = 0.96
End

;------------------------------------------------------------------------------
Object Boss_RussiaInfantryVDVParaTrooper

  ; *** ART Parameters ***
  SelectPortrait         = Marine_L
  ButtonImage            = Marine

  UpgradeCameo1 = Upgrade_InfantryCaptureBuilding
  ;UpgradeCameo2 = Upgrade_RussiaMedPack

  Draw = W3DModelDraw ModuleTag_01

    OkToChangeModelColor = Yes

    ; ---- standing
    DefaultConditionState
      Model               = RIVDV_SKN
      IdleAnimation       = RIShkTrp_SKL.RIShkTrp_STN 0 35
      IdleAnimation       = RIShkTrp_SKL.RIShkTrp_IDA 
      IdleAnimation       = RIShkTrp_SKL.RIShkTrp_IDB 
      AnimationMode       = ONCE
      HideSubObject       = HEAD01 HEAD02 
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponLaunchBone    = PRIMARY Muzzle
      TransitionKey       = TRANS_Standing
    End

    ; ---- moving
    ConditionState        = MOVING
      Animation           = RIShkTrp_SKL.RIShkTrp_MVA 25
      AnimationMode       = LOOP
      Flags               = RANDOMSTART
      TransitionKey       = TRANS_Walking
      ParticleSysBone     = None InfantryDustTrails
    End
    AliasConditionState   = MOVING ATTACKING
    

    ; ---- firing
    ConditionState = FIRING_A
      Animation = RIShkTrp_SKL.RIShkTrp_ASB
      AnimationMode = ONCE
      AnimationSpeedFactorRange = 1.0 1.2
      Flags = START_FRAME_FIRST
      TransitionKey = TRANS_START_FIRING
    End
    AliasConditionState = BETWEEN_FIRING_SHOTS_A 
    
    ConditionState = USING_WEAPON_A
      Animation = RIShkTrp_SKL.RIShkTrp_ASB
      AnimationMode = ONCE
      Flags = START_FRAME_LAST
      WaitForStateToFinishIfPossible = TRANS_START_FIRING
    End
    AliasConditionState = RELOADING_A
    
    ; ---- dying 
    ConditionState        = DYING
      Animation           = RIShkTrp_SKL.RIShkTrp_DBA
      AnimationMode       = ONCE
      TransitionKey       = TRANS_Dying
    End
    
    ; ---- dying by explosives

    TransitionState = TRANS_Dying TRANS_Flailing
      Model     = RIVDV_SKN_A
      Animation = UITunF_SKL.UITunF_ADTA1
      Animation = UITunF_SKL.UITunF_ADTE1
      Animation = UITunF_SKL.UITunF_ADTF1
      AnimationMode = ONCE
    End

    ConditionState = DYING EXPLODED_FLAILING
      Model     = RIVDV_SKN_A
      Animation = UITunF_SKL.UITunF_ADTA2
      Animation = UITunF_SKL.UITunF_ADTE2
      Animation = UITunF_SKL.UITunF_ADTF2
      AnimationMode = LOOP
      TransitionKey = TRANS_Flailing
    End

    ConditionState = DYING EXPLODED_BOUNCING
      Model     = RIVDV_SKN_A
      Animation = UITunF_SKL.UITunF_ADTA3
      Animation = UITunF_SKL.UITunF_ADTE3
      Animation = UITunF_SKL.UITunF_ADTF3
      AnimationMode = ONCE
      TransitionKey = None
    End

    ; ----- PARACHUTING ANIMATIONS
    ConditionState      = FREEFALL
      Model             = RIVDV_SKN_B
      Animation         = AIRngr_SKL.AIRngr_PFL
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Falling
    End
    AliasConditionState = FREEFALL DYING
    
    ConditionState      = PARACHUTING
      Model             = RIVDV_SKN_B
      Animation         = AIRngr_SKL.AIRngr_PHG
      AnimationMode     = LOOP
      Flags             = PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
      TransitionKey     = TRANS_Chute
    End
    AliasConditionState = PARACHUTING DYING
    
    TransitionState     = TRANS_Falling TRANS_Chute
      Model             = RIVDV_SKN_B
      Animation         = AIRngr_SKL.AIRngr_POP
      AnimationMode     = ONCE
      Flags             = PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
    End

    ; ------- Bldg-capture

    ConditionState      = UNPACKING
      Model             = RIVDV_F_SKN
      Animation         = NICNSC_F_SKL.NICNSC_F_FDP1
      AnimationMode     = ONCE
      HideSubObject     = HEAD01 HEAD02 LAUNCHER RPO RPG WARHEADS
    End

    ConditionState      = RAISING_FLAG
      Model             = RIVDV_F_SKN
      Animation         = NICNSC_F_SKL.NICNSC_F_FDP2
      AnimationMode     = ONCE
      HideSubObject     = HEAD01 HEAD02 LAUNCHER RPO RPG WARHEADS
      TransitionKey     = TRANS_Raising
    End

    ConditionState      = PACKING
      Model             = RIVDV_F_SKN
      Animation         = NICNSC_F_SKL.NICNSC_F_FDP1
      AnimationMode     = ONCE_BACKWARDS
      Flags             = START_FRAME_LAST
      HideSubObject     = HEAD01 HEAD02 LAUNCHER RPO RPG WARHEADS
      TransitionKey     = TRANS_Packing
    End

    TransitionState     = TRANS_Raising TRANS_Packing
      Model             = RIVDV_F_SKN
      Animation         = NICNSC_F_SKL.NICNSC_F_FDP2
      AnimationMode     = ONCE_BACKWARDS
      Flags             = START_FRAME_LAST
      HideSubObject     = HEAD01 HEAD02 LAUNCHER RPO RPG WARHEADS
    End
    
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:VDVTrooper
  Side                = Boss
  EditorSorting       = INFANTRY
  TransportSlotCount  = 1                 ;how many "slots" we take in a transport (0 == not transportable)
 
  WeaponSet
    Conditions = None 
    Weapon = PRIMARY VDVLightMachineGun
  End
  
  ArmorSet
    Conditions      = None
    Armor           = HumanArmor
    DamageFX        = InfantryDamageFX
  End
  
  VisionRange         = 220
  ShroudClearingRange = 220

  BuildCost = 105
  BuildTime = 15.0          ;in seconds  

  ExperienceValue    = 40 40  70  90   ;Experience point value at each level
  ExperienceRequired = 0  200 300 500  ;Experience points needed to gain each level
  IsTrainable         = Yes             ;Can gain experience
  CrushableLevel      = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet          = RussianInfantryVDVParatrooperCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect           = VDVVoiceSelectRPK
  VoiceMove             = VDVVoiceMove
  VoiceGuard            = VDVVoiceMove
  VoiceAttack           = VDVVoiceAttackRPK
  VoiceFear             = VDVVoiceFear
  VoiceTaskComplete     = VDVVoiceCaptureBuildingCompleted
  
  UnitSpecificSounds
    VoiceGarrison       = VDVVoiceMove
    VoiceEnter          = VDVVoiceMove
    VoiceEnterHostile   = VDVVoiceMove
    VoiceGetHealed      = VDVVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SALVAGER SCORE 

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 180.0
    InitialHealth   = 180.0
  End

  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle = Yes
  End

  Locomotor = SET_NORMAL ConscriptHumanLocomotor

  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 5.0
  End

; --- begin Death modules ---
  Behavior = SlowDeathBehavior ModuleTag_Death01
    ;DeathTypes          = ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7
	DeathTypes          = ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_VDVParaTrooperDie
  End
  Behavior = SlowDeathBehavior ModuleTag_Death02
    DeathTypes          = NONE +CRUSHED +SPLATTED
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_GIDieCrushed
  End
  Behavior = SlowDeathBehavior ModuleTag_Death03
    DeathTypes          = NONE +EXPLODED
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_VDVParaTrooperDie
    FlingForce          = 8
    FlingForceVariance  = 3
    FlingPitch          = 60
    FlingPitchVariance  = 10
  End
  Behavior = SlowDeathBehavior ModuleTag_Death04
    DeathTypes          = NONE +BURNED
    DestructionDelay    = 0
    FX                  = INITIAL FX_VDVParaTrooperDieByFire
    OCL                 = INITIAL OCL_FlamingInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death05
    DeathTypes          = NONE +POISONED
    DestructionDelay    = 0
    FX                  = INITIAL FX_VDVParaTrooperDieByToxin
    OCL                 = INITIAL OCL_ToxicInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
    DeathTypes          = NONE +POISONED_BETA
    DestructionDelay    = 0
    FX                  = INITIAL FX_VDVParaTrooperDieByToxin
    OCL                 = INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
  End
  ; Behavior = SlowDeathBehavior ModuleTag_Death07
    ; DeathTypes          = NONE +POISONED_GAMMA
    ; DestructionDelay    = 0
    ; FX                  = INITIAL FX_VDVParaTrooperDieByTesla
    ; OCL                 = INITIAL OCL_TeslaDeathInfantry
    ; FX                  = FINAL   FX_IfantryTeslaDie
  ; End
  Behavior = SlowDeathBehavior ModuleTag_Death07
    DeathTypes          = NONE +POISONED_GAMMA
    DestructionDelay    = 0
    FX                  = INITIAL FX_VDVParaTrooperDieByToxin
    OCL                 = INITIAL OCL_ToxicInfantryGamma
  End
  ; Behavior = SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
    ; DeathTypes          = NONE +EXTRA_2
    ; DestructionDelay    = 0
    ; FX                  = INITIAL FX_VDVParaTrooperDieByFire
    ; OCL                 = INITIAL OCL_MicrowavedInfantry 
  ; End
  ; Behavior = SlowDeathBehavior ModuleTag_Death09
    ; DeathTypes          = NONE +EXTRA_3
    ; DestructionDelay    = 0
    ; FX                  = INITIAL FX_VDVParaTrooperDieByToxin
    ; OCL                 = INITIAL OCL_ViralInfantryDeath
  ; End
  ; Behavior = SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
    ; DeathTypes          = NONE +EXTRA_4
    ; SinkDelay           = 3000
    ; SinkRate            = 0.5     ; in Dist/Sec
    ; DestructionDelay    = 8000
    ; OCL                 = INITIAL OCL_BrutalBloodyDeathBits
    ; FX                  = INITIAL FX_InfantryGoreExplosion
  ; End
  ; Behavior = SlowDeathBehavior ModuleTag_036 ;Gore death explosion
    ; DeathTypes          = NONE +EXTRA_5
    ; ProbabilityModifier = 30
    ; DestructionDelay    = 0
    ; OCL                 = INITIAL OCL_BloodyGoreExplosion
    ; FX                  = FINAL   FX_InfantryGoreExplosion
  ; End
  ; Behavior = SlowDeathBehavior ModuleTag_Death0323
    ; DeathTypes          = NONE +EXTRA_5
    ; ProbabilityModifier = 70
    ; SinkDelay           = 3000
    ; SinkRate            = 0.5     ; in Dist/Sec
    ; DestructionDelay    = 8000
    ; FX                  = INITIAL FX_VDVParaTrooperDie
    ; OCL                 = INITIAL OCL_BrutalBloodyDeathBits
    ; FlingForce          = 8
    ; FlingForceVariance  = 3
    ; FlingPitch          = 60
    ; FlingPitchVariance  = 10
  ; End
  ; Behavior = SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
    ; DeathTypes          = NONE +EXTRA_6
    ; DestructionDelay    = 0
    ; OCL                 = INITIAL OCL_RadiationDeathInfantry
    ; FX                  = INITIAL FX_GIDieRadiation
    ; FX                  = FINAL   FX_VDVParaTrooperDieByToxin
  ; End
  ; Behavior = SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
    ; DeathTypes          = NONE +EXTRA_7
    ; DestructionDelay    = 0
    ; OCL                 = INITIAL OCL_NeutronRadiationDeathInfantry
    ; FX                  = INITIAL FX_GIDieRadiation
    ; FX                  = FINAL   FX_VDVParaTrooperDieByToxin
  ; End
  ; Behavior = SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
    ; DeathTypes          = NONE +LASERED
    ; DestructionDelay    = 0
    ; FX                  = INITIAL FX_GIDieCryoFreeze
    ; OCL                 = INITIAL OCL_CrygenicDeathInfantry
  ; End
; --- end Death modules ---

  Behavior = PoisonedBehavior ModuleTag_16
    PoisonDamageInterval = 100  ; Every this many msec I will retake the poison damage dealt me...
    PoisonDuration = 3000       ; ... for this long after last hit by poison damage
  End

  ; Behavior = AutoHealBehavior ModuleTag_Medkit01
    ; HealingAmount = 2
    ; HealingDelay  = 1000 ; msec
    ; TriggeredBy   = Upgrade_RussiaMedPack
  ; End
  
  ; Behavior = CreateObjectDie ModuleTag_RussiaInfantryBeserker01
    ; DeathTypes = ALL
    ; CreationList = OCL_InfantryBeserkerObject
  ; End

  Behavior = SpecialAbility ModuleTag_CaptureBuilding01
    SpecialPowerTemplate      = SpecialAbilityRedGuardCaptureBuilding ;SpecialAbilityRebelCaptureBuilding
    UpdateModuleStartsAttack  = Yes
    StartsPaused              = Yes
    InitiateSound             = VDVVoiceCaptureBuilding
  End
  
  Behavior = SpecialAbilityUpdate ModuleTag_CaptureBuilding02
    SpecialPowerTemplate  = SpecialAbilityRedGuardCaptureBuilding ;SpecialAbilityRebelCaptureBuilding
    StartAbilityRange     = 5.0
    UnpackTime            = 3000  ; (changing this will scale anim speed)
    PreparationTime       = 20000 ; time to complete hack once prepared (changing this will scale anim speed)
    PackTime              = 2000  ; (changing this will scale anim speed)
    DoCaptureFX           = Yes
    AwardXPForTriggering  = 12
  End

  Behavior = CommandButtonHuntUpdate  ModuleTag_CaptureBuilding03
  End
  
  Behavior = UnpauseSpecialPowerUpgrade ModuleTag_CaptureBuilding04
    SpecialPowerTemplate = SpecialAbilityRedGuardCaptureBuilding ;SpecialAbilityRebelCaptureBuilding
    TriggeredBy = Upgrade_InfantryCaptureBuilding
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 10.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 12.0
  GeometryIsSmall = Yes
  Shadow = SHADOW_DECAL
  ShadowSizeX = 14;
  ShadowSizeY = 14;
  ShadowTexture = ShadowI;
  BuildCompletion = APPEARS_AT_RALLY_POINT
  Scale = 0.96
End

;------------------------------------------------------------------------------
Object Boss_RussiaInfantryVDVRPGParaTrooper

  ; *** ART Parameters ***
  SelectPortrait         = SAMissleDefender_L
  ButtonImage            = SAMissleDefender

  ; UpgradeCameo1 = Upgrade_RussiaMedPack
  ; UpgradeCameo2 = Upgrade_RussiaAdvancedMissileEngines
  ;UpgradeCameo3 = NONE
  ;UpgradeCameo4 = NONE
  ;UpgradeCameo5 = NONE
  
  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes

    DefaultConditionState
      Model             = RIVDVRPG_SKN
      IdleAnimation     = NITHNT_SKL.NITHNT_STA 0 30
      IdleAnimation     = NITHNT_SKL.NITHNT_IDA
      IdleAnimation     = NITHNT_SKL.NITHNT_IDB
      HideSubObject     = HEAD02 HEAD03 RPO
      ShowSubObject     = RPG
      AnimationMode     = ONCE
      TransitionKey     = TRANS_RIDER1_STAND
      WeaponFireFXBone  = PRIMARY   Muzzle
      WeaponLaunchBone  = PRIMARY   Muzzle
      WeaponLaunchBone  = SECONDARY Muzzle
      WeaponFireFXBone  = SECONDARY Muzzle
      WeaponLaunchBone  = TERTIARY  Muzzle
      WeaponFireFXBone  = TERTIARY  Muzzle
      WaitForStateToFinishIfPossible = TRANS_RIDER1_START_FIRING
    End
    AliasConditionState = RIDER1

    ConditionState      = RIDER1 MOVING
      Animation         = NITHNT_SKL.NITHNT_RNA 20
      AnimationMode     = LOOP
      Flags             = RANDOMSTART
      TransitionKey     = NADA
      ParticleSysBone   = None InfantryDustTrails
      WaitForStateToFinishIfPossible = NONE
    End
    AliasConditionState = RIDER1 MOVING RELOADING_A
    AliasConditionState = RIDER1 MOVING RELOADING_C
    AliasConditionState = RIDER1 MOVING RELOADING_B
    
    ConditionState      = RIDER1 FIRING_A
      Animation         = NITHNT_SKL.NITHNT_ATC 
      AnimationMode     = ONCE
      HideSubObject     = HEAD02 HEAD03 RPG RPO
      ShowSubObject     = RIVDV_SKN LAUNCHER HEAD01 WARHEADS
      TransitionKey     = TRANS_RIDER1_START_FIRING
      WaitForStateToFinishIfPossible = NONE
      AnimationSpeedFactorRange = 1.5 2.0
    End
    AliasConditionState = RIDER1 FIRING_B
    AliasConditionState = RIDER1 FIRING_C

    ConditionState      = RIDER1 RELOADING_A
      Animation         = NITHNT_SKL.NITHNT_STA
      AnimationMode     = ONCE
      TransitionKey     = NADA
      WaitForStateToFinishIfPossible = TRANS_RIDER1_START_FIRING
    End
    AliasConditionState = RIDER1 BETWEEN_FIRING_SHOTS_A
    AliasConditionState = RIDER1 RELOADING_B
    AliasConditionState = RIDER1 BETWEEN_FIRING_SHOTS_B
    AliasConditionState = RIDER1 RELOADING_C
    AliasConditionState = RIDER1 BETWEEN_FIRING_SHOTS_C
    

    ;Death animations:
    
    ConditionState      = RIDER1 DYING
      Animation         = NITHNT_SKL.NITHNT_DTA
      Animation         = NITHNT_SKL.NITHNT_DTB
      AnimationMode     = ONCE
      TransitionKey     = TRANS_RIDER1_Dying
      WaitForStateToFinishIfPossible = NONE
      AnimationSpeedFactorRange = 0.9 1.25
    End
    TransitionState     = TRANS_RIDER1_Dying TRANS_RIDER1_Flailing
      Animation         = NITHNT_SKL.NITHNT_ADTA1
      AnimationMode     = ONCE
    End

    ConditionState      = RIDER1 DYING EXPLODED_FLAILING
      Animation         = NITHNT_SKL.NITHNT_ADTA2
      AnimationMode     = LOOP
      TransitionKey     = TRANS_RIDER1_Flailing
      WaitForStateToFinishIfPossible = NONE
    End

    ConditionState      = RIDER1 DYING EXPLODED_BOUNCING
      Animation         = NITHNT_SKL.NITHNT_ADTA3
      AnimationMode     = ONCE
      TransitionKey     = NADA
      WaitForStateToFinishIfPossible = NONE
    End

    ;PARACHUTING ANIMATIONS
    ConditionState      = RIDER1 FREEFALL
      Animation         = NITHNT_SKL.NITHNT_PFL
      AnimationMode     = LOOP
      TransitionKey     = TRANS_RIDER1_FALLING
    End
    AliasConditionState = RIDER1 FREEFALL DYING


    ConditionState      = RIDER1 PARACHUTING
      Animation         = NITHNT_SKL.NITHNT_PHG
      AnimationMode     = LOOP
      Flags             = PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
      TransitionKey     = TRANS_RIDER1_CHUTE
    End
    AliasConditionState = RIDER1 PARACHUTING DYING

    TransitionState     = TRANS_RIDER1_FALLING TRANS_RIDER1_CHUTE
      Animation         = NITHNT_SKL.NITHNT_POP
      AnimationMode     = ONCE
      Flags             = PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
    End

    TransitionState     = TRANS_RIDER1_CHUTE TRANS_RIDER1_STAND
      Animation         = NITHNT_SKL.NITHNT_PTD
      AnimationMode     = ONCE
    End

    ; ------- Bldg-capture

    ConditionState      = RIDER1 UNPACKING
      Model             = RIVDV_F_SKN
      Animation         = NICNSC_F_SKL.NICNSC_F_FDP1
      AnimationMode     = ONCE
    End

    ConditionState      = RIDER1 RAISING_FLAG
      Model             = RIVDV_F_SKN
      Animation         = NICNSC_F_SKL.NICNSC_F_FDP2
      AnimationMode     = ONCE
      TransitionKey     = TRANS_RIDER1_Raising
    End

    ConditionState      = RIDER1 PACKING
      Model             = RIVDV_F_SKN
      Animation         = NICNSC_F_SKL.NICNSC_F_FDP1
      AnimationMode     = ONCE_BACKWARDS
      Flags             = START_FRAME_LAST
      TransitionKey     = TRANS_RIDER1_Packing
    End

    TransitionState     = TRANS_RIDER1_Raising TRANS_RIDER1_Packing
      Model             = RIVDV_F_SKN
      Animation         = NICNSC_F_SKL.NICNSC_F_FDP2
      AnimationMode     = ONCE_BACKWARDS
      Flags             = START_FRAME_LAST
    End


    ;Thermobaric Rocket Mode

    ConditionState = RIDER2
      Model             = RIVDVRPG_SKN
      IdleAnimation     = NITHNT_SKL.NITHNT_STA 0 30
      IdleAnimation     = NITHNT_SKL.NITHNT_IDA
      IdleAnimation     = NITHNT_SKL.NITHNT_IDB
      HideSubObject     = HEAD02 HEAD03 RPG
      ShowSubObject     = RPO
      AnimationMode     = ONCE
      TransitionKey     = TRANS_RIDER2_STAND
      WaitForStateToFinishIfPossible = TRANS_RIDER2_START_FIRING
    End

    ConditionState      = RIDER2 MOVING
      Animation         = NITHNT_SKL.NITHNT_RNA 20
      AnimationMode     = LOOP
      Flags             = RANDOMSTART
      HideSubObject     = HEAD02 HEAD03 RPG
      ShowSubObject     = RPO
      TransitionKey     = NADA
      ParticleSysBone   = None InfantryDustTrails
      WaitForStateToFinishIfPossible = NONE
    End
    AliasConditionState = RIDER2 MOVING RELOADING_A
    AliasConditionState = RIDER2 MOVING RELOADING_C
    AliasConditionState = RIDER2 MOVING RELOADING_B
    
    ConditionState      = RIDER2 FIRING_A
      Animation         = NITHNT_SKL.NITHNT_ATC 
      AnimationMode     = ONCE
      HideSubObject     = HEAD02 HEAD03 RPG RPO
      ShowSubObject     = RIVDV_SKN LAUNCHER HEAD01 WARHEADS
      TransitionKey     = TRANS_RIDER2_START_FIRING
      WaitForStateToFinishIfPossible = NONE
      AnimationSpeedFactorRange = 1.5 2.0
    End
    AliasConditionState = RIDER2 FIRING_B
    AliasConditionState = RIDER2 FIRING_C

    ConditionState      = RIDER2 RELOADING_A
      Animation         = NITHNT_SKL.NITHNT_STA
      AnimationMode     = ONCE
      HideSubObject     = HEAD02 HEAD03 RPG
      ShowSubObject     = RPO
      TransitionKey     = NADA
      WaitForStateToFinishIfPossible = TRANS_RIDER2_START_FIRING
    End
    AliasConditionState = RIDER2 BETWEEN_FIRING_SHOTS_A
    AliasConditionState = RIDER2 RELOADING_B
    AliasConditionState = RIDER2 BETWEEN_FIRING_SHOTS_B
    AliasConditionState = RIDER2 RELOADING_C
    AliasConditionState = RIDER2 BETWEEN_FIRING_SHOTS_C
    

    ;Death animations:
    
    ConditionState      = RIDER2 DYING
      Animation         = NITHNT_SKL.NITHNT_DTA
      Animation         = NITHNT_SKL.NITHNT_DTB
      AnimationMode     = ONCE
      HideSubObject     = HEAD02 HEAD03 RPG
      ShowSubObject     = RPO
      TransitionKey     = TRANS_RIDER2_Dying
      WaitForStateToFinishIfPossible = NONE
      AnimationSpeedFactorRange = 0.9 1.25
    End
    TransitionState     = TRANS_RIDER2_Dying TRANS_RIDER2_Flailing
      Animation         = NITHNT_SKL.NITHNT_ADTA1
      AnimationMode     = ONCE
    End

    ConditionState      = RIDER2 DYING EXPLODED_FLAILING
      Animation         = NITHNT_SKL.NITHNT_ADTA2
      AnimationMode     = LOOP
      HideSubObject     = HEAD02 HEAD03 RPG
      ShowSubObject     = RPO
      TransitionKey     = TRANS_RIDER2_Flailing
      WaitForStateToFinishIfPossible = NONE
    End

    ConditionState      = RIDER2 DYING EXPLODED_BOUNCING
      Animation         = NITHNT_SKL.NITHNT_ADTA3
      AnimationMode     = ONCE
      HideSubObject     = HEAD02 HEAD03 RPG
      ShowSubObject     = RPO
      TransitionKey     = NADA
      WaitForStateToFinishIfPossible = NONE
    End

    ;PARACHUTING ANIMATIONS
    ConditionState      = RIDER2 FREEFALL
      Animation         = NITHNT_SKL.NITHNT_PFL
      AnimationMode     = LOOP
      HideSubObject     = HEAD02 HEAD03 RPG
      ShowSubObject     = RPO
      TransitionKey     = TRANS_RIDER2_FALLING
    End
    AliasConditionState = RIDER2 FREEFALL DYING


    ConditionState      = RIDER2 PARACHUTING
      Animation         = NITHNT_SKL.NITHNT_PHG
      AnimationMode     = LOOP
      HideSubObject     = HEAD02 HEAD03 RPG
      ShowSubObject     = RPO
      Flags             = PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
      TransitionKey     = TRANS_RIDER2_CHUTE
    End
    AliasConditionState = RIDER2 PARACHUTING DYING

    TransitionState     = TRANS_RIDER2_FALLING TRANS_RIDER2_CHUTE
      Animation         = NITHNT_SKL.NITHNT_POP
      AnimationMode     = ONCE
      HideSubObject     = HEAD02 HEAD03 RPG
      ShowSubObject     = RPO
      Flags             = PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
    End

    TransitionState     = TRANS_RIDER2_CHUTE TRANS_RIDER2_STAND
      Animation         = NITHNT_SKL.NITHNT_PTD
      AnimationMode     = ONCE
      HideSubObject     = HEAD02 HEAD03 RPG
      ShowSubObject     = RPO
    End

    ; ------- Bldg-capture

    ConditionState      = RIDER2 UNPACKING
      Model             = RIVDV_F_SKN
      Animation         = NICNSC_F_SKL.NICNSC_F_FDP1
      AnimationMode     = ONCE
      HideSubObject     = HEAD02 HEAD03 RPG
      ShowSubObject     = RPO
    End

    ConditionState      = RIDER2 RAISING_FLAG
      Model             = RIVDV_F_SKN
      Animation         = NICNSC_F_SKL.NICNSC_F_FDP2
      AnimationMode     = ONCE
      HideSubObject     = HEAD02 HEAD03 RPG
      ShowSubObject     = RPO
      TransitionKey     = TRANS_RIDER2_Raising
    End

    ConditionState      = RIDER2 PACKING
      Model             = RIVDV_F_SKN
      Animation         = NICNSC_F_SKL.NICNSC_F_FDP1
      AnimationMode     = ONCE_BACKWARDS
      Flags             = START_FRAME_LAST
      HideSubObject     = HEAD02 HEAD03 RPG
      ShowSubObject     = RPO
      TransitionKey     = TRANS_RIDER2_Packing
    End

    TransitionState     = TRANS_RIDER2_Raising TRANS_RIDER2_Packing
      Model             = RIVDV_F_SKN
      Animation         = NICNSC_F_SKL.NICNSC_F_FDP2
      AnimationMode     = ONCE_BACKWARDS
      Flags             = START_FRAME_LAST
      HideSubObject     = HEAD02 HEAD03 RPG
      ShowSubObject     = RPO
    End

  End


  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:VDVRPGTrooper
  Side                = Boss
  EditorSorting       = INFANTRY
  TransportSlotCount  = 1                 ;how many "slots" we take in a transport (0 == not transportable)

  WeaponSet
    ;Conditions = WEAPON_RIDER1
	Conditions = NONE
    Weapon     = PRIMARY VDVMissileLauncher
    ShareWeaponReloadTime = Yes
  End

  ; WeaponSet
    ; Conditions = WEAPON_RIDER1 PLAYER_UPGRADE 
    ; Weapon            = PRIMARY   VDVMissileLauncherUpgraded
    ; ShareWeaponReloadTime = Yes
  ; End

  ; WeaponSet
    ; Conditions = WEAPON_RIDER2
    ; Weapon            = PRIMARY   VDVMissileLauncherThermobaric
    ; ShareWeaponReloadTime = Yes
  ; End

  ; WeaponSet
    ; Conditions = WEAPON_RIDER2 PLAYER_UPGRADE 
    ; Weapon            = PRIMARY   VDVMissileLauncherThermobaricUpgraded
    ; ShareWeaponReloadTime = Yes
  ; End

  ArmorSet
    Conditions      = None
    Armor           = HumanArmor
    DamageFX        = InfantryDamageFX
  End

  VisionRange         = 220
  ShroudClearingRange = 220

  BuildCost = 120
  BuildTime = 15.0          ;in seconds  

  ExperienceValue     = 20 20  40  60   ;Experience point value at each level
  ExperienceRequired  = 0  100 200 400  ;Experience points needed to gain each level
  IsTrainable         = Yes             ;Can gain experience
  CrushableLevel      = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet          = RussianInfantryVDVRPGTrooperCommandSet ;UNCOMMENTED BY ZWERG <-------------------------------------- (!)

  ; *** AUDIO Parameters ***
  VoiceSelect           = VDVVoiceSelectRPG
  VoiceMove             = VDVVoiceMove
  VoiceGuard            = VDVVoiceMove
  VoiceAttack           = VDVVoiceAttackRPG
  VoiceFear             = VDVVoiceFear
  
  UnitSpecificSounds
    VoiceGarrison       = VDVVoiceMove
    VoiceEnter          = VDVVoiceMove
    VoiceEnterHostile   = VDVVoiceMove
    VoiceGetHealed      = VDVVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SALVAGER SCORE

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 180.0
    InitialHealth   = 180.0
  End

  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle = Yes
  End
  Locomotor = SET_NORMAL ConscriptHumanLocomotor

  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 5.0
  End
 
  ;*************************************
  ;******Transformation Code Start******
  ;*************************************
  
  ; Behavior = RiderChangeContain ModuleTag_Transform01

    ; ;;;;HEAT Rocket Mode
    ; Rider1 = GenericFakeRider1_Default_Rank  RIDER1 WEAPON_RIDER1 STATUS_RIDER1 RussianInfantryVDVRPGTrooperCommandSet SET_NORMAL
    
    ; ;;;;Thermobar Rocket Mode
    ; Rider2 = GenericFakeRider2_Default_Rank  RIDER2 WEAPON_RIDER2 STATUS_RIDER2 RussianInfantryVDVRPGTrooperCommandSet SET_NORMAL

    ; ;;;;Used only dirrectly after beeing dropped then use the above to after switching weapon at least once
    ; Rider3 = GenericFakeRider3_Default_Rank  RIDER1 WEAPON_RIDER1 STATUS_RIDER1 RussianInfantryVDVRPGTrooperInitialCommandSet SET_NORMAL

    ; ;Standard TransportContain stuff
    ; Slots                 = 1
    ; InitialPayload        = GenericFakeRider3_Default_Rank 1
    ; DamagePercentToUnits  = 100%
    ; BurnedDeathToUnits    = No
    ; AllowInsideKindOf     = CAN_ATTACK    
    ; ScuttleDelay          = 100
    ; ScuttleStatus         = TOPPLED
  ; End
  
  ; Behavior = GrantUpgradeCreate ModuleTag_Transform02
    ; UpgradeToGrant     = Upgrade_GLAWorkerRealCommandSet
  ; End

  ; Behavior = ProductionUpdate  ModuleTag_Transform03
    ; MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  ; End

  ; ;Primary Unit Mode Triggers
  
  ; Behavior = FireWeaponCollide ModuleTag_Transform04
    ; CollideWeapon   = VDVRPGTrooperSwitchToStandardRocketMode
    ; RequiredStatus  = STATUS_RIDER2 HIJACKED
  ; End

  ; Behavior = ObjectCreationUpgrade ModuleTag_Transform05
    ; UpgradeObject   = OCL_GrenadierHEGrenadeMode
    ; TriggeredBy     = Upgrade_GLAWorkerRealCommandSet
  ; End 
  
  ; Behavior = StatusBitsUpgrade ModuleTag_Transform06
    ; TriggeredBy   = Upgrade_GLAWorkerRealCommandSet
    ; StatusToSet   = HIJACKED
    ; StatusToClear = REPULSOR
  ; End
  
  ; ;Secondary Unit Mode Triggers
  
  ; Behavior = FireWeaponCollide  ModuleTag_Transform07
    ; CollideWeapon   = VDVRPGTrooperSwitchToThermobaricRocketMode
    ; RequiredStatus  = STATUS_RIDER1 REPULSOR
  ; End
  
  ; Behavior = ObjectCreationUpgrade ModuleTag_Transform08
    ; UpgradeObject   = OCL_GrenadierAirburtGrenadeMode
    ; TriggeredBy     = Upgrade_GLAWorkerFakeCommandSet
  ; End 
  
  ; Behavior = StatusBitsUpgrade ModuleTag_Transform09
    ; TriggeredBy   = Upgrade_GLAWorkerFakeCommandSet
    ; StatusToSet   = REPULSOR
    ; StatusToClear = HIJACKED
  ; End
  
  ;************************************
  ;******Transformation Code End*******
  ;************************************

; --- begin Death modules ---
  Behavior = SlowDeathBehavior ModuleTag_Death01
    ;DeathTypes          = ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7
	DeathTypes          = ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_VDVParaTrooperDie
  End
  Behavior = SlowDeathBehavior ModuleTag_Death02
    DeathTypes          = NONE +CRUSHED +SPLATTED
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_GIDieCrushed
  End
  Behavior = SlowDeathBehavior ModuleTag_Death03
    DeathTypes          = NONE +EXPLODED
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_VDVParaTrooperDie
    FlingForce          = 8
    FlingForceVariance  = 3
    FlingPitch          = 60
    FlingPitchVariance  = 10
  End
  Behavior = SlowDeathBehavior ModuleTag_Death04
    DeathTypes          = NONE +BURNED
    DestructionDelay    = 0
    FX                  = INITIAL FX_VDVParaTrooperDieByFire
    OCL                 = INITIAL OCL_FlamingInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death05
    DeathTypes          = NONE +POISONED
    DestructionDelay    = 0
    FX                  = INITIAL FX_VDVParaTrooperDieByToxin
    OCL                 = INITIAL OCL_ToxicInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
    DeathTypes          = NONE +POISONED_BETA
    DestructionDelay    = 0
    FX                  = INITIAL FX_VDVParaTrooperDieByToxin
    OCL                 = INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
  End
  ; Behavior = SlowDeathBehavior ModuleTag_Death07
    ; DeathTypes          = NONE +POISONED_GAMMA
    ; DestructionDelay    = 0
    ; FX                  = INITIAL FX_VDVParaTrooperDieByTesla
    ; OCL                 = INITIAL OCL_TeslaDeathInfantry
    ; FX                  = FINAL   FX_IfantryTeslaDie
  ; End
  Behavior = SlowDeathBehavior ModuleTag_Death07
    DeathTypes          = NONE +POISONED_GAMMA
    DestructionDelay    = 0
    FX                  = INITIAL FX_VDVParaTrooperDieByToxin
    OCL                 = INITIAL OCL_ToxicInfantryGamma
  End
  ; Behavior = SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
    ; DeathTypes          = NONE +EXTRA_2
    ; DestructionDelay    = 0
    ; FX                  = INITIAL FX_VDVParaTrooperDieByFire
    ; OCL                 = INITIAL OCL_MicrowavedInfantry 
  ; End
  ; Behavior = SlowDeathBehavior ModuleTag_Death09
    ; DeathTypes          = NONE +EXTRA_3
    ; DestructionDelay    = 0
    ; FX                  = INITIAL FX_VDVParaTrooperDieByToxin
    ; OCL                 = INITIAL OCL_ViralInfantryDeath
  ; End
  ; Behavior = SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
    ; DeathTypes          = NONE +EXTRA_4
    ; SinkDelay           = 3000
    ; SinkRate            = 0.5     ; in Dist/Sec
    ; DestructionDelay    = 8000
    ; OCL                 = INITIAL OCL_BrutalBloodyDeathBits
    ; FX                  = INITIAL FX_InfantryGoreExplosion
  ; End
  ; Behavior = SlowDeathBehavior ModuleTag_036 ;Gore death explosion
    ; DeathTypes          = NONE +EXTRA_5
    ; ProbabilityModifier = 30
    ; DestructionDelay    = 0
    ; OCL                 = INITIAL OCL_BloodyGoreExplosion
    ; FX                  = FINAL   FX_InfantryGoreExplosion
  ; End
  ; Behavior = SlowDeathBehavior ModuleTag_Death0323
    ; DeathTypes          = NONE +EXTRA_5
    ; ProbabilityModifier = 70
    ; SinkDelay           = 3000
    ; SinkRate            = 0.5     ; in Dist/Sec
    ; DestructionDelay    = 8000
    ; FX                  = INITIAL FX_VDVParaTrooperDie
    ; OCL                 = INITIAL OCL_BrutalBloodyDeathBits
    ; FlingForce          = 8
    ; FlingForceVariance  = 3
    ; FlingPitch          = 60
    ; FlingPitchVariance  = 10
  ; End
  ; Behavior = SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
    ; DeathTypes          = NONE +EXTRA_6
    ; DestructionDelay    = 0
    ; OCL                 = INITIAL OCL_RadiationDeathInfantry
    ; FX                  = INITIAL FX_GIDieRadiation
    ; FX                  = FINAL   FX_VDVParaTrooperDieByToxin
  ; End
  ; Behavior = SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
    ; DeathTypes          = NONE +EXTRA_7
    ; DestructionDelay    = 0
    ; OCL                 = INITIAL OCL_NeutronRadiationDeathInfantry
    ; FX                  = INITIAL FX_GIDieRadiation
    ; FX                  = FINAL   FX_VDVParaTrooperDieByToxin
  ; End
  ; Behavior = SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
    ; DeathTypes          = NONE +LASERED
    ; DestructionDelay    = 0
    ; FX                  = INITIAL FX_GIDieCryoFreeze
    ; OCL                 = INITIAL OCL_CrygenicDeathInfantry
  ; End
; --- end Death modules ---

  Behavior = PoisonedBehavior ModuleTag_16
    PoisonDamageInterval = 100  ; Every this many msec I will retake the poison damage dealt me...
    PoisonDuration = 3000       ; ... for this long after last hit by poison damage
  End

  ; Behavior = AutoHealBehavior ModuleTag_Medkit01
    ; HealingAmount = 2
    ; HealingDelay  = 1000 ; msec
    ; TriggeredBy   = Upgrade_RussiaMedPack
  ; End
  
  ; Behavior = CreateObjectDie ModuleTag_RussiaInfantryBeserker01
    ; DeathTypes = ALL
    ; CreationList = OCL_InfantryBeserkerObject
  ; End
  
  ; Behavior = WeaponSetUpgrade ModuleTag_MissileRangeUpgrade01
    ; TriggeredBy = Upgrade_RussiaAdvancedMissileEngines
  ; End

  ; Behavior = LockWeaponCreate ModuleTag_2151
    ; SlotToLock = PRIMARY ; Prevents indeterminate state plus two unpickable weapons equaling no attack.
  ; End
  
  ; Behavior = UnpauseSpecialPowerUpgrade ModuleTag_CaptureBuilding04
    ; SpecialPowerTemplate = SpecialAbilityRebelCaptureBuilding
    ; TriggeredBy = Upgrade_InfantryCaptureBuilding
  ; End

  Geometry = CYLINDER
  GeometryMajorRadius = 10.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 12.0
  GeometryIsSmall = Yes
  Shadow = SHADOW_DECAL
  ShadowSizeX = 14;
  ShadowSizeY = 14;
  ShadowTexture = ShadowI;
  BuildCompletion = APPEARS_AT_RALLY_POINT
  Scale = 0.96
End

;------------------------------------------------------------------------------
Object Boss_GuardDog

  ; *** ART Parameters ***
  SelectPortrait         = SAsentry_L ;SEAttackDog_L
  ButtonImage            = SAsentry ;SEAttackDog
  
  UpgradeCameo1 = Demo_Upgrade_SuicideBomb

  Draw = W3DModelDraw ModuleTag_01
  OkToChangeModelColor = Yes

    ; idle
    ConditionState = NONE
      Model             = EIAtcDog_SKN
      Animation         = CUDog2_SKL.CUDog2_idla
      AnimationMode     = LOOP
      Flags             = RANDOMSTART
      TransitionKey     = TRANS_Stand
    End

    ; moving
    ConditionState      = MOVING
      Model             = EIAtcDog_SKN
      Animation         = CUDog2_SKL.CUDog2_runa
      AnimationMode     = LOOP
      Flags             = RANDOMSTART
      TransitionKey     = TRANS_Walking
      ParticleSysBone   = None InfantryDustTrails
    End
    
    ; bite animations
    ConditionState      = PREATTACK_B 
      Model             = EIAtcDog_SKN
      Animation         = CUDog2_SKL.CUDog2_atc
      AnimationMode     = ONCE
      TransitionKey     = TRANS_Stabbing
      HideSubObject     = MUZZLEFX01
    End
    AliasConditionState = PREATTACK_B MOVING
    AliasConditionState = PREATTACK_B FIRING_B
    AliasConditionState = PREATTACK_B BETWEEN_FIRING_SHOTS_B

    ConditionState      = FIRING_B
      Model             = EIAtcDog_SKN
      Animation         = CUDog2_SKL.CUDog2_atb
      AnimationMode     = ONCE
      Flags             = MAINTAIN_FRAME_ACROSS_STATES
      TransitionKey     = TRANS_Stabbing
    End
    AliasConditionState = BETWEEN_FIRING_SHOTS_B
    AliasConditionState = RELOADING_B

    TransitionState     = TRANS_Stabbing TRANS_Stand
      Model             = EIAtcDog_SKN
      Animation         = CUDog2_SKL.CUDog2_atb
      AnimationMode     = ONCE
      Flags             = MAINTAIN_FRAME_ACROSS_STATES
    End


    ; dying anims
    ConditionState      = DYING
      Model             = EIAtcDog_SKN
      Animation         = CUDog2_SKL.CUDog2_diea
      AnimationMode     = ONCE
      TransitionKey     = TRANS_Dying
    End
    AliasConditionState = RAPPELLING DYING
    AliasConditionState = CLIMBING DYING

    ConditionState      = DYING EXPLODED_FLAILING
      Model             = EIAtcDog_SKN
      Animation         = CUDog2_SKL.CUDog2_dbe
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Flailing
    End

    ConditionState      = DYING EXPLODED_BOUNCING
      Model             = EIAtcDog_SKN
      Animation         = CUDog2_SKL.CUDog2_dbf
      AnimationMode     = ONCE
      TransitionKey     = None
    End

  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:AttackDog
  Side                = Boss
  EditorSorting       = INFANTRY
  TransportSlotCount  = 1                 ;how many "slots" we take in a transport (0 == not transportable)
  
  VisionRange         = 200
  ShroudClearingRange = 500
    
  BuildCost = 5.0
  BuildTime = 2.0          ;in seconds  
  
  Prerequisites
    Object = Boss_Barracks
  End

  ExperienceValue     = 25 25 25  25    ; Experience point value at each level
  ExperienceRequired  = 0  50 100 150   ; Experience points needed to gain each level
  IsTrainable         = Yes             ; Can gain experience
  CrushableLevel      = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet          = GuardDogCommandSet

  WeaponSet
    Conditions          = None
	Weapon              = PRIMARY None
    Weapon              = SECONDARY GuardDogBiteWeapon
	PreferredAgainst    = SECONDARY INFANTRY
	;AutoChooseSources   = SECONDARY None
    Weapon              = TERTIARY TerroristSuicideNotARealWeapon
    AutoChooseSources   = TERTIARY None
	ShareWeaponReloadTime = No
  End

  ArmorSet
    Conditions      = None
    Armor           = NoArmor
    DamageFX        = InfantryDamageFX
  End

  ; ArmorSet
    ; Conditions      = PLAYER_UPGRADE
    ; Armor           = GuardDogArmor
    ; DamageFX        = InfantryDamageFX
  ; End


  ; *** AUDIO Parameters ***
  VoiceSelect   = GuardDogVoiceSelect
  VoiceMove     = GuardDogVoiceMove
  VoiceAttack   = GuardDogVoiceAttack
  VoiceFear     = GuardDogVoiceFear
  VoiceGuard    = GuardDogVoiceMove
  SoundMoveLoop = GuardDogMoveLoop
  
  UnitSpecificSounds
    VoiceSubdue       = GuardDogVoiceAttack
    VoiceCreate       = GuardDogVoiceCreate
    VoiceGarrison     = GuardDogVoiceMove
    VoiceEnter        = GuardDogVoiceMove
    VoiceEnterHostile = GuardDogVoiceMove
    VoiceGetHealed    = GuardDogVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS SCORE CANNOT_RETALIATE NO_GARRISON REJECT_UNMANNED INFANTRY OBSTACLE

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 40.0
    InitialHealth   = 40.0
  End
  
  ; Behavior = MaxHealthUpgrade ModuleTag_Armor01
    ; TriggeredBy   = Upgrade_EuropeCeramicArmor
    ; AddMaxHealth  = 100.0
    ; ChangeType    = ADD_CURRENT_HEALTH_TOO
  ; End
  
  ; Behavior        = ArmorUpgrade ModuleTag_Armor02
    ; TriggeredBy   = Upgrade_EuropeCeramicArmor
  ; End

  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle = Yes
  End

  Behavior = AutoFindHealingUpdate   ModuleTag_05 ; This update will have the unit go to a healing station if injured
    ScanRate = 1000 ; once a second.
    ScanRange = 300 ;
    NeverHeal = 0.85 ;  don't heal if we are > 85% healthy.
    AlwaysHeal = 0.25 ; if we get below 25%, find healing right away.
  End

  Locomotor = SET_NORMAL GuardDogLocomotor

  Behavior = PhysicsBehavior ModuleTag_06
    Mass = 5.0
  End
  
  Behavior = FireWeaponWhenDeadBehavior ModuleTag_07
    DeathWeapon   = Demo_SuicideDynamitePackPlusFire
    StartsActive  = No
    TriggeredBy   = Demo_Upgrade_SuicideBomb
    DeathTypes = ALL
  End;

  Behavior = FireWeaponWhenDeadBehavior ModuleTag_08
    DeathWeapon   = Demo_SuicideDynamitePackPlusFire
    StartsActive  = No
    TriggeredBy   = Demo_Upgrade_SuicideBomb
    DeathTypes = NONE
  End

  Behavior = CommandSetUpgrade ModuleTag_09
    CommandSet = GuardDogCommandSetUpgrade
    TriggeredBy = Demo_Upgrade_SuicideBomb
  End

  Behavior = SquishCollide ModuleTag_13
    ;nothing
  End

  Behavior = StealthDetectorUpdate ModuleTag_StealthDetect01
    DetectionRate             = 500   ; how often to rescan for stealthed things in my sight (msec)
    DetectionRange            = 200   ; Dustin, enable this for independant balancing!
    CanDetectWhileGarrisoned  = No    ; Garrisoned means being in a structure that you units can shoot out of.
    CanDetectWhileContained   = No    ; Contained means being in a transport or tunnel network..
    IRGridParticleSysName     = IRDetectGrid
    ExtraRequiredKindOf       = OBSTACLE  ; with this module only infantry
  End

  Behavior = StealthDetectorUpdate ModuleTag_StealthDetect02
    DetectionRate             = 100   ; how often to rescan for stealthed things in my sight (msec)
    DetectionRange            = 130   ; Dustin, enable this for independant balancing!
    CanDetectWhileGarrisoned  = No    ; Garrisoned means being in a structure that you units can shoot out of.
    CanDetectWhileContained   = No    ; Contained means being in a transport or tunnel network.
    IRGridParticleSysName     = IRDetectGrid
    ExtraRequiredKindOf       = MINE  ; with this module only mines
  End

  Behavior = StealthDetectorUpdate ModuleTag_StealthDetect03
    DetectionRate             = 100   ; how often to rescan for stealthed things in my sight (msec)
    DetectionRange            = 130   ; Dustin, enable this for independant balancing!
    CanDetectWhileGarrisoned  = No    ; Garrisoned means being in a structure that you units can shoot out of.
    CanDetectWhileContained   = No    ; Contained means being in a transport or tunnel network.
    IRGridParticleSysName     = IRDetectGrid
    ExtraRequiredKindOf       = DEMOTRAP  ; with this module only demotraps
  End
  
  ; Behavior = ObjectCreationUpgrade ModuleTag_DetectionRangeIndicator01
    ; UpgradeObject = OCL_GenericStealthDetectionRangeIndicatorTimer
    ; TriggeredBy   = Upgrade_GLAWorkerFakeCommandSet
  ; End

  ; Behavior = FireWeaponWhenDamagedBehavior ModuleTag_DetectionRangeIndicator02
    ; StartsActive  = No
    ; TriggeredBy   = Upgrade_GLAWorkerFakeCommandSet
    ; DamageTypes   = ALL
    ; DamageAmount  = 0    ;Effectively all the time when set to zero which we want in this case
    ; ContinuousWeaponPristine      = GuardDogDetecionRangeIndicatorDecalWeapon
    ; ContinuousWeaponDamaged       = GuardDogDetecionRangeIndicatorDecalWeapon
    ; ContinuousWeaponReallyDamaged = GuardDogDetecionRangeIndicatorDecalWeapon
  ; End

; --- begin Death modules ---
  Behavior = SlowDeathBehavior ModuleTag_Death01
    ;DeathTypes          = ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7 -LASERED
	DeathTypes          = ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA
    SinkDelay           = 3000
    SinkRate            = 0.8     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_GuardDogDie
  End
  Behavior = SlowDeathBehavior ModuleTag_Death02
    DeathTypes          = NONE +CRUSHED +SPLATTED
    SinkDelay           = 3000
    SinkRate            = 0.8     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_GuardDogDieCrushed
  End
  Behavior = SlowDeathBehavior ModuleTag_Death03
    DeathTypes          = NONE +EXPLODED
    SinkDelay           = 3000
    SinkRate            = 0.8     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_GuardDogDie
    FlingForce          = 8
    FlingForceVariance  = 3
    FlingPitch          = 60
    FlingPitchVariance  = 10
  End
  Behavior = SlowDeathBehavior ModuleTag_Death04
    DeathTypes          = NONE +BURNED
    DestructionDelay    = 0
    FX                  = INITIAL FX_GuardDogDie
    OCL                 = INITIAL OCL_FlamingDog
  End
  Behavior = SlowDeathBehavior ModuleTag_Death05
    DeathTypes          = NONE +POISONED
    DestructionDelay    = 0
    FX                  = INITIAL FX_GuardDogDie
    OCL                 = INITIAL OCL_ToxicDog
  End
    Behavior = SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
    DeathTypes          = NONE +POISONED_BETA
    DestructionDelay    = 0
    FX                  = INITIAL FX_GuardDogDie
    OCL                 = INITIAL OCL_ToxicDogBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
  End
  Behavior = SlowDeathBehavior ModuleTag_Death07
    DeathTypes          = NONE +POISONED_GAMMA
    DestructionDelay    = 0
    FX                  = INITIAL FX_GuardDogDie
    OCL                 = INITIAL OCL_TeslaDeathDog
    ;FX                  = FINAL   FX_IfantryTeslaDie
  End
  ; Behavior = SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
    ; DeathTypes          = NONE +EXTRA_2
    ; DestructionDelay    = 0
    ; FX                  = INITIAL FX_GuardDogDie
    ; OCL                 = INITIAL OCL_MicrowavedDog 
  ; End
  ; Behavior = SlowDeathBehavior ModuleTag_Death09
    ; DeathTypes          = NONE +EXTRA_3
    ; DestructionDelay    = 0
    ; FX                  = INITIAL FX_GuardDogDie
    ; FX                  = FINAL   FX_IfantryTeslaDie
    ; OCL                 = INITIAL OCL_TeslaDeathDog
    ; Weapon              = INITIAL  ShockTrooperTeslaDeathZapWeapon
    ; Weapon              = MIDPOINT ShockTrooperTeslaDeathZapWeapon
    ; Weapon              = FINAL    ShockTrooperTeslaDeathZapWeapon
  ; End
  ; Behavior = SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
    ; DeathTypes          = NONE +EXTRA_4
    ; SinkDelay           = 3000
    ; SinkRate            = 0.8     ; in Dist/Sec
    ; DestructionDelay    = 8000
    ; OCL                 = INITIAL OCL_BrutalBloodyDeathBits
    ; FX                  = INITIAL FX_DogGoreExplosion
  ; End
  ; Behavior = SlowDeathBehavior ModuleTag_036 ;Gore death explosion
    ; DeathTypes          = NONE +EXTRA_5
    ; ProbabilityModifier = 20
    ; DestructionDelay    = 0
    ; OCL                 = INITIAL OCL_DogBloodyGoreExplosion
    ; FX                  = FINAL   FX_DogGoreExplosion
  ; End
  ; Behavior = SlowDeathBehavior ModuleTag_Death0323
    ; DeathTypes          = NONE +EXTRA_5
    ; ProbabilityModifier = 80
    ; SinkDelay           = 3000
    ; SinkRate            = 0.5     ; in Dist/Sec
    ; DestructionDelay    = 8000
    ; FX                  = INITIAL FX_GuardDogDie
    ; FlingForce          = 8
    ; FlingForceVariance  = 3
    ; FlingPitch          = 60
    ; FlingPitchVariance  = 10
  ; End
  ; Behavior = SlowDeathBehavior ModuleTag_Death023145
    ; DeathTypes          = NONE +EXTRA_6
    ; DestructionDelay    = 0
    ; OCL                 = INITIAL OCL_RadiationDog
    ; FX                  = INITIAL FX_GIDieRadiation
    ; FX                  = FINAL   FX_GuardDogDie
  ; End
  ; Behavior = SlowDeathBehavior ModuleTag_Death0231345
    ; DeathTypes          = NONE +EXTRA_7
    ; DestructionDelay    = 0
    ; OCL                 = INITIAL OCL_NeutronRadiationDog
    ; FX                  = INITIAL FX_GIDieRadiation
    ; FX                  = FINAL   FX_GuardDogDie
  ; End
  ; Behavior = SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
    ; DeathTypes          = NONE +LASERED
    ; DestructionDelay    = 0
    ; FX                  = INITIAL FX_GIDieCryoFreeze
    ; OCL                 = INITIAL OCL_CrygenicDeathDog
  ; End

; --- end Death modules ---
  
  ; Behavior = ProductionUpdate ModuleTag_Taunt01
  ; End
  
  ; Behavior = ObjectCreationUpgrade ModuleTag_Taunt02
    ; UpgradeObject = OCL_GuardDogTaunt
    ; TriggeredBy   = Upgrade_GLAWorkerRealCommandSet
  ; End

  Behavior = PoisonedBehavior ModuleTag_18
    PoisonDamageInterval = 100  ; Every this many msec I will retake the poison damage dealt me...
    PoisonDuration = 3000       ; ... for this long after last hit by poison damage
  End
 
  Geometry = CYLINDER
  GeometryMajorRadius = 7.0
  GeometryMinorRadius = 7.0
  GeometryHeight = 8.0
  GeometryIsSmall = Yes
  Shadow = SHADOW_DECAL
  ShadowSizeX = 16
  ShadowSizeY = 12
  ShadowTexture = ShadowI
  BuildCompletion = APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
Object Boss_RussianInfantryShmelTrooper

  ; *** ART Parameters ***
  SelectPortrait         = RailTrooper
  ButtonImage            = RailTrooper
  
  ; UpgradeCameo1 = Upgrade_RussiaMedPack
  ; UpgradeCameo2 = Upgrade_RussiaLargerClips
  ; UpgradeCameo3 = Upgrade_RussiaAdvancedMissileEngines

  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes
  
    DefaultConditionState
      Model             = RIShmlTrp_SKN
      IdleAnimation     = NITHNT_SKL.NITHNT_STA 0 30
      IdleAnimation     = NITHNT_SKL.NITHNT_IDA
      IdleAnimation     = NITHNT_SKL.NITHNT_IDB
      HideSubObject     = LAUNCHERUP
      AnimationMode     = ONCE
      TransitionKey     = TRANS_Stand
      WeaponFireFXBone  = PRIMARY   Muzzle
      WeaponLaunchBone  = PRIMARY   Muzzle
      WeaponLaunchBone  = SECONDARY Muzzle
      WeaponFireFXBone  = SECONDARY Muzzle
      WeaponLaunchBone  = TERTIARY  Muzzle
      WeaponFireFXBone  = TERTIARY  Muzzle
      WaitForStateToFinishIfPossible = TRANS_START_FIRING
    End

    ConditionState      = MOVING
      Animation         = NITHNT_SKL.NITHNT_RNA 20
      AnimationMode     = LOOP
      Flags             = RANDOMSTART
      TransitionKey     = Nada
      ParticleSysBone   = None InfantryDustTrails
      WaitForStateToFinishIfPossible = NONE
    End
    AliasConditionState = MOVING RELOADING_A
    AliasConditionState = MOVING RELOADING_C
    AliasConditionState = MOVING RELOADING_B
    
    ;Firing standard rocket
    ConditionState      = FIRING_A 
      Animation         = NITHNT_SKL.NITHNT_ATA 
      AnimationMode     = ONCE
      TransitionKey     = TRANS_START_FIRING
      WaitForStateToFinishIfPossible = NONE
      AnimationSpeedFactorRange = 1.0 1.4
    End

    ConditionState      = RELOADING_A
      Animation         = NITHNT_SKL.NITHNT_STA
      AnimationMode     = ONCE
      TransitionKey     = Nada
      WaitForStateToFinishIfPossible = TRANS_START_FIRING
    End
    AliasConditionState = BETWEEN_FIRING_SHOTS_A
    
    ;Firing Smoke or Anti-Toxin Rocket
    ConditionState      = FIRING_C
      Animation         = NITHNT_SKL.NITHNT_ATB 
      AnimationMode     = ONCE
      TransitionKey     = TRANS_START_FIRING
      WaitForStateToFinishIfPossible = NONE
      AnimationSpeedFactorRange = 1.0 1.4
    End
    AliasConditionState = FIRING_B

    ConditionState      = BETWEEN_FIRING_SHOTS_C
      Animation         = NITHNT_SKL.NITHNT_ATB
      AnimationMode     = MANUAL
      Flags             = START_FRAME_LAST
      TransitionKey     = Nada
      WaitForStateToFinishIfPossible = TRANS_START_FIRING
    End
    AliasConditionState = RELOADING_C
    AliasConditionState = PREATTACK_C
    AliasConditionState = BETWEEN_FIRING_SHOTS_B
    AliasConditionState = RELOADING_B
    AliasConditionState = PREATTACK_B
    
    ;Death animations:
    
    ConditionState      = DYING
      Animation         = NITHNT_SKL.NITHNT_DTA
      Animation         = NITHNT_SKL.NITHNT_DTB
      AnimationMode     = ONCE
      TransitionKey     = TRANS_Dying
      WaitForStateToFinishIfPossible = NONE
      AnimationSpeedFactorRange = 0.9 1.25
    End
    TransitionState     = TRANS_Dying TRANS_Flailing
      Animation         = NITHNT_SKL.NITHNT_ADTA1
      AnimationMode     = ONCE
    End

    ConditionState      = DYING EXPLODED_FLAILING
      Animation         = NITHNT_SKL.NITHNT_ADTA2
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Flailing
      WaitForStateToFinishIfPossible = NONE
    End

    ConditionState      = DYING EXPLODED_BOUNCING
      Animation         = NITHNT_SKL.NITHNT_ADTA3
      AnimationMode     = ONCE
      TransitionKey     = Nada
      WaitForStateToFinishIfPossible = NONE
    End

    ;PARACHUTING ANIMATIONS
    ConditionState      = FREEFALL
      Animation         = NITHNT_SKL.NITHNT_PFL
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Falling
    End
    AliasConditionState = FREEFALL DYING


    ConditionState      = PARACHUTING
      Animation         = NITHNT_SKL.NITHNT_PHG
      AnimationMode     = LOOP
      Flags             = PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
      TransitionKey     = TRANS_Chute
    End
    AliasConditionState = PARACHUTING DYING

    TransitionState     = TRANS_Falling TRANS_Chute
      Animation         = NITHNT_SKL.NITHNT_POP
      AnimationMode     = ONCE
      Flags             = PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
    End

    TransitionState     = TRANS_Chute TRANS_Stand
      Animation         = NITHNT_SKL.NITHNT_PTD
      AnimationMode     = ONCE
    End

  End


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:ShmelTrooper
  Side = Boss
  EditorSorting = INFANTRY
  TransportSlotCount = 1                 ;how many "slots" we take in a transport (0 == not transportable)
  
  WeaponSet
    Conditions = None 
    Weapon              = PRIMARY   RussiaShmellTrooperMissileLauncher
    ;Weapon              = SECONDARY RussiaShmellTrooperSmokeMissileLauncher
    ;AutoChooseSources   = SECONDARY NONE
    ;Weapon              = TERTIARY  RussiaShmellTrooperAntiToxinMissileLauncher
    ;AutoChooseSources   = TERTIARY  NONE
  End
  
  WeaponSet
    Conditions = HERO 
    Weapon              = PRIMARY   RussiaShmellTrooperMissileLauncher
    ;Weapon              = SECONDARY RussiaShmellTrooperSmokeMissileLauncherHeroic
    ;AutoChooseSources   = SECONDARY NONE
    ;Weapon              = TERTIARY  RussiaShmellTrooperAntiToxinMissileLauncherHeroic
    ;AutoChooseSources   = TERTIARY  NONE
  End
  
  ; WeaponSet
    ; Conditions = PLAYER_UPGRADE
    ; Weapon              = PRIMARY   RussiaShmellTrooperMissileLauncherUpgraded
    ; Weapon              = SECONDARY RussiaShmellTrooperSmokeMissileLauncherUpgraded
    ; AutoChooseSources   = SECONDARY NONE
    ; Weapon              = TERTIARY  RussiaShmellTrooperAntiToxinMissileLauncherUpgraded
    ; AutoChooseSources   = TERTIARY  NONE
  ; End
  
  ; WeaponSet
    ; Conditions = HERO PLAYER_UPGRADE
    ; Weapon              = PRIMARY   RussiaShmellTrooperMissileLauncherUpgraded
    ; Weapon              = SECONDARY RussiaShmellTrooperSmokeMissileLauncherHeroicUpgraded
    ; AutoChooseSources   = SECONDARY NONE
    ; Weapon              = TERTIARY  RussiaShmellTrooperAntiToxinMissileLauncherHeroicUpgraded
    ; AutoChooseSources   = TERTIARY  NONE
  ; End
  
  ArmorSet
    Conditions      = None
    Armor           = ChemSuitHumanArmor
    DamageFX        = InfantryDamageFX
  End
  
  Prerequisites
    Object = Boss_Barracks
    Object = Boss_TechCentr
  End
  
  VisionRange = 220
  ShroudClearingRange = 220

  BuildCost = 80
  BuildTime = 6.0          ;in seconds    

  ExperienceValue    = 30 30  50  70   ;Experience point value at each level
  ExperienceRequired = 0  100 200 400  ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrushableLevel         = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet      = RussianInfantryShmelTrooperCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect       = ShmelTrooperVoiceSelect
  VoiceMove         = ShmelTrooperVoiceMove
  VoiceAttack       = ShmelTrooperVoiceAttack
  VoiceGuard        = ShmelTrooperVoiceMove
  VoiceFear         = ShmelTrooperVoiceFear
  
  UnitSpecificSounds
    VoiceCreate         = ShmelTrooperVoiceCreate
    VoiceFlameLocation  = ShmelTrooperVoiceSmokeAttack
    VoicePoisonLocation = ShmelTrooperVoiceAntiToxinAttack
    VoiceGarrison       = ShmelTrooperVoiceMove
    VoiceEnter          = ShmelTrooperVoiceMove
    VoiceEnterHostile   = ShmelTrooperVoiceMove
    VoiceGetHealed      = ShmelTrooperVoiceMove
  End 

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SCORE

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 100.0
    InitialHealth   = 100.0
  End

  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle = Yes
  End
  Locomotor = SET_NORMAL MissileDefenderLocomotor

  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 5.0
  End

  Behavior = SquishCollide ModuleTag_09
  End


; --- begin Death modules ---
  Behavior = SlowDeathBehavior ModuleTag_Death01
    ;DeathTypes          = ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7 -EXTRA_8
	DeathTypes          = ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_ShmelTrooperDie
  End
  Behavior = SlowDeathBehavior ModuleTag_Death02
    DeathTypes          = NONE +CRUSHED +SPLATTED
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_GIDieCrushed
  End
  Behavior = SlowDeathBehavior ModuleTag_Death03
    DeathTypes          = NONE +EXPLODED
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_ShmelTrooperDie
    FlingForce          = 8
    FlingForceVariance  = 3
    FlingPitch          = 60
    FlingPitchVariance  = 10
  End
  Behavior = SlowDeathBehavior ModuleTag_Death04
    DeathTypes          = NONE +BURNED
    DestructionDelay    = 0
    FX                  = INITIAL FX_ShmelTrooperDieByFlame
    OCL                 = INITIAL OCL_FlamingInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death05
    DeathTypes          = NONE +POISONED
    DestructionDelay    = 0
    FX                  = INITIAL FX_ShmelTrooperDieByToxin
    OCL                 = INITIAL OCL_ToxicInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
    DeathTypes          = NONE +POISONED_BETA
    DestructionDelay    = 0
    FX                  = INITIAL FX_ShmelTrooperDieByToxin
    OCL                 = INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
  End
  Behavior = SlowDeathBehavior ModuleTag_Death07
    DeathTypes          = NONE +POISONED_GAMMA
    DestructionDelay    = 0
    FX                  = INITIAL FX_ShmelTrooperDieByToxin
    OCL                 = INITIAL OCL_ToxicInfantryGamma
  End
  ; Behavior = SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
    ; DeathTypes          = NONE +EXTRA_2
    ; DestructionDelay    = 0
    ; FX                  = INITIAL FX_ShmelTrooperDieByFlame
    ; OCL                 = INITIAL OCL_MicrowavedInfantry 
  ; End
  ; Behavior = SlowDeathBehavior ModuleTag_Death09
    ; DeathTypes          = NONE +EXTRA_3
    ; DestructionDelay    = 0
    ; FX                  = INITIAL FX_ShmelTrooperDieByToxin
    ; OCL                 = INITIAL OCL_ViralInfantryDeath
  ; End
  ; Behavior = SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
    ; DeathTypes          = NONE +EXTRA_4
    ; SinkDelay           = 3000
    ; SinkRate            = 0.5     ; in Dist/Sec
    ; DestructionDelay    = 8000
    ; OCL                 = INITIAL OCL_BrutalBloodyDeathBits
    ; FX                  = INITIAL FX_InfantryGoreExplosion
  ; End
  ; Behavior = SlowDeathBehavior ModuleTag_036 ;Gore death explosion
    ; DeathTypes          = NONE +EXTRA_5
    ; ProbabilityModifier = 30
    ; DestructionDelay    = 0
    ; OCL                 = INITIAL OCL_BloodyGoreExplosion
    ; FX                  = FINAL   FX_InfantryGoreExplosion
  ; End
  ; Behavior = SlowDeathBehavior ModuleTag_Death0323
    ; DeathTypes          = NONE +EXTRA_5
    ; ProbabilityModifier = 70
    ; SinkDelay           = 3000
    ; SinkRate            = 0.5     ; in Dist/Sec
    ; DestructionDelay    = 8000
    ; FX                  = INITIAL FX_ShmelTrooperDie
    ; OCL                 = INITIAL OCL_BrutalBloodyDeathBits
    ; FlingForce          = 8
    ; FlingForceVariance  = 3
    ; FlingPitch          = 60
    ; FlingPitchVariance  = 10
  ; End
  ; Behavior = SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
    ; DeathTypes          = NONE +EXTRA_6
    ; DestructionDelay    = 0
    ; OCL                 = INITIAL OCL_RadiationDeathInfantry
    ; FX                  = INITIAL FX_GIDieRadiation
    ; FX                  = FINAL   FX_ShmelTrooperDieByToxin
  ; End
  ; Behavior = SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
    ; DeathTypes          = NONE +EXTRA_7
    ; DestructionDelay    = 0
    ; OCL                 = INITIAL OCL_NeutronRadiationDeathInfantry
    ; FX                  = INITIAL FX_GIDieRadiation
    ; FX                  = FINAL   FX_ShmelTrooperDieByToxin
  ; End
  ; Behavior = SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
    ; DeathTypes          = NONE +LASERED
    ; DestructionDelay    = 0
    ; FX                  = INITIAL FX_GIDieCryoFreeze
    ; OCL                 = INITIAL OCL_CrygenicDeathInfantry
  ; End
  ; Behavior = SlowDeathBehavior ModuleTag_Surrender_Death
    ; DeathTypes          = NONE +EXTRA_8
    ; DestructionDelay    = 0
    ; FX                  = INITIAL FX_ShmelTrooperSurrender
    ; OCL                 = INITIAL OCL_ShmelTrooperSurrendering
  ; End
; --- end Death modules ---

  Behavior = PoisonedBehavior ModuleTag_12
    PoisonDamageInterval = 100  ; Every this many msec I will retake the poison damage dealt me...
    PoisonDuration = 3000       ; ... for this long after last hit by poison damage
  End

  ; Behavior = AutoHealBehavior ModuleTag_Medkit01
    ; HealingAmount = 2
    ; HealingDelay  = 1000 ; msec
    ; TriggeredBy   = Upgrade_RussiaMedPack
  ; End
  
  ; Behavior = CreateObjectDie ModuleTag_RussiaInfantryBeserker01
    ; DeathTypes = ALL -EXTRA_8
    ; CreationList = OCL_InfantryBeserkerObject
  ; End
  
  ; Behavior = WeaponSetUpgrade ModuleTag_MissileRangeUpgrade01
    ; TriggeredBy = Upgrade_RussiaAdvancedMissileEngines
  ; End
  
  ; Behavior = SubObjectsUpgrade ModuleTag_19
    ; TriggeredBy    = Upgrade_RussiaLargerClips
    ; HideSubObjects = LAUNCHER
    ; ShowSubObjects = LAUNCHERUP
  ; End
  
  ; Behavior = CommandSetUpgrade ModuleTag_021
    ; CommandSet     = RussianInfantryShmelTrooperUpgradedCommandSet
    ; TriggeredBy    = Upgrade_RussiaLargerClips
  ; End
  
  Geometry = CYLINDER
  GeometryMajorRadius = 10.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 12.0
  GeometryIsSmall = Yes
  Shadow = SHADOW_DECAL
  ShadowSizeX = 14;
  ShadowSizeY = 14;
  ShadowTexture = ShadowI;
  BuildCompletion = APPEARS_AT_RALLY_POINT
  Scale = 0.96
End

;------------------------------------------------------------------------------
Object Boss_RussianInfantryIglaTrooper

  ; *** ART Parameters ***
  SelectPortrait         = SUStinger_L
  ButtonImage            = SUStinger

  ; UpgradeCameo1 = Upgrade_RussiaMedPack
  ; UpgradeCameo2 = Upgrade_RussiaLargerClips
  ; UpgradeCameo3 = Upgrade_RussiaAdvancedMissileEngines

  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes

    DefaultConditionState
      Model = RIIglaTrpr_SKN
      IdleAnimation = UISmsd_SKL.UISmsd_STA 0 45
      IdleAnimation = UISmsd_SKL.UISmsd_IDA 
      IdleAnimation = UISmsd_SKL.UISmsd_IDB 
      IdleAnimation = UISmsd_SKL.UISmsd_IDC 
      IdleAnimation = UISmsd_SKL.UISmsd_IDD 
      AnimationMode = ONCE
      HideSubObject = LAUNCHERUP
      WeaponFireFXBone = PRIMARY   Muzzle01
      WeaponLaunchBone = PRIMARY   Muzzle01
      WeaponFireFXBone = SECONDARY Muzzle01
      WeaponLaunchBone = SECONDARY Muzzle01
    End

    ConditionState = MOVING
      Animation = UISmsd_SKL.UISmsd_WKB 25
      Animation = UISmsd_SKL.UISmsd_WKA 25
      AnimationMode = LOOP
      Flags = RANDOMSTART
      WaitForStateToFinishIfPossible = NONE 
      ParticleSysBone     = None InfantryDustTrails
    End
    AliasConditionState = MOVING FIRING_A
    AliasConditionState = MOVING RELOADING_A
    AliasConditionState = MOVING FIRING_B
    AliasConditionState = MOVING RELOADING_B

    ConditionState = DYING
      Animation = UISmsd_SKL.UISmsd_DTA 
      Animation = UISmsd_SKL.UISmsd_DTB 
      AnimationMode = ONCE
      TransitionKey = TRANS_Dying
      WaitForStateToFinishIfPossible = NONE ; We got a Key from Default state, but Death does not need to wait for firing to finish
    End

    TransitionState = TRANS_Dying TRANS_Flailing
      Animation = UISmsd_SKL.UISmsd_ADTF1
      Animation = UISmsd_SKL.UISmsd_ADTG21
      AnimationMode = ONCE
    End

    ConditionState = DYING EXPLODED_FLAILING
      Animation = UISmsd_SKL.UISmsd_ADTF2
      Animation = UISmsd_SKL.UISmsd_ADTG22
      AnimationMode = LOOP
      TransitionKey = TRANS_Flailing
      WaitForStateToFinishIfPossible = NONE ; We got a Key from Default state, but Death does not need to wait for firing to finish
    End

    ConditionState = DYING EXPLODED_BOUNCING
      Animation = UISmsd_SKL.UISmsd_ADTF3
      Animation = UISmsd_SKL.UISmsd_ADTG23
      AnimationMode = ONCE
      TransitionKey = None
      WaitForStateToFinishIfPossible = NONE ; We got a Key from Default state, but Death does not need to wait for firing to finish
    End
    

    ;Machine Pistol Attack    
    ConditionState = PREATTACK_A
      Model = RIIglaTrpr_SKB
      Animation = UIMOB01_SKL.UIMOB01_ATA1_ST ; start firing
      AnimationMode = ONCE
    End

    ConditionState = FIRING_A
      Model = RIIglaTrpr_SKB
      Animation = UIMOB01_SKL.UIMOB01_ATA1 ; looping firing
      AnimationMode = ONCE
      TransitionKey = TRANS_FIRING_A
      WeaponFireFXBone  = PRIMARY Muzzle
      AnimationSpeedFactorRange = 2.0 3.0
    End

    ConditionState  = RELOADING_A 
      Model = RIIglaTrpr_SKB
      Animation = UIMOB01_SKL.UIMOB01_ATA1_ED ; end firing
      AnimationMode = ONCE
      TransitionKey = TRANS_RELOADING_A
      WaitForStateToFinishIfPossible = TRANS_FIRING_A
      AnimationSpeedFactorRange = 2.0 2.0
    End
    AliasConditionState = BETWEEN_FIRING_SHOTS_A
    
    ;Firing Igla Missile
    ConditionState = FIRING_B
      Animation = UISmsd_SKL.UISmsd_ATA
      AnimationMode = ONCE
      AnimationSpeedFactorRange = 2.2 2.2
      Flags = START_FRAME_FIRST
      TransitionKey = TRANS_START_FIRING_B
    End
    
    ConditionState = BETWEEN_FIRING_SHOTS_B
      Animation = UISmsd_SKL.UISmsd_STA
      AnimationMode = LOOP
      Flags = START_FRAME_LAST
      TransitionKey = TRANS_RELOADING_B
      WaitForStateToFinishIfPossible = TRANS_START_FIRING_B
    End
    AliasConditionState = RELOADING_B
    
    ConditionState = PREATTACK_B
      Animation = UISmsd_SKL.UISmsd_STA
      AnimationMode = ONCE
      Flags = START_FRAME_LAST
      TransitionKey = TRANS_PREATTACK_B
      WaitForStateToFinishIfPossible = TRANS_START_FIRING_B
    End

    ConditionState = SPECIAL_CHEERING
      Animation = UISMSD_SKL.UISMSD_CHA
      AnimationMode = LOOP
    End

  End

  Draw = W3DModelDraw ModuleTag_LockonIcon01

    DefaultConditionState
      Model = NVDeva_U2
    End    
    AliasConditionState = RIDER1 
    AliasConditionState = RIDER1 FIRING_B
    AliasConditionState = RIDER1 BETWEEN_FIRING_SHOTS_B
    AliasConditionState = RIDER1 RELOADING_B
    AliasConditionState = RIDER1 PREATTACK_B
    AliasConditionState = RIDER2
    
    ConditionState = RIDER2 FIRING_B
      Model = EXIglaLck_B
      Animation = EXIglaLck_B.EXIglaLck_B
      AnimationMode = ONCE
      TransitionKey = TRANS_START_FIRING_B
    End
    AliasConditionState = RIDER2 RELOADING_B
    
    ConditionState = RIDER2 BETWEEN_FIRING_SHOTS_B
      Model = EXIglaLck_A
      Animation = EXIglaLck_A.EXIglaLck_A
      AnimationMode = ONCE
      Flags = START_FRAME_FIRST
      WaitForStateToFinishIfPossible = TRANS_START_FIRING_B
    End
    
    ConditionState = RIDER2 PREATTACK_B
      Model = EXIglaLck_A
      Animation = EXIglaLck_A.EXIglaLck_A
      AnimationMode = ONCE
    End

  End


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:IglaTrooper
  Side = Boss
  EditorSorting = INFANTRY
  TransportSlotCount = 1                 ;how many "slots" we take in a transport (0 == not transportable)
  
  WeaponSet
    Conditions          = WEAPON_RIDER1
    Weapon              = PRIMARY   IGLATrooperMachinePistolWeapon
    Weapon              = SECONDARY IGLATrooperMissileWeapon
    PreferredAgainst    = SECONDARY AIRCRAFT
    ShareWeaponReloadTime = Yes
  End
  
  ; WeaponSet
    ; Conditions          = WEAPON_RIDER1 PLAYER_UPGRADE
    ; Weapon              = PRIMARY   IGLATrooperMachinePistolWeapon
    ; Weapon              = SECONDARY IGLATrooperMissileWeaponUpgraded
    ; PreferredAgainst    = SECONDARY AIRCRAFT
    ; ShareWeaponReloadTime = Yes
  ; End
  
  WeaponSet
    Conditions          = WEAPON_RIDER1 HERO
    Weapon              = PRIMARY   IGLATrooperMachinePistolWeapon
    Weapon              = SECONDARY IGLATrooperMissileWeaponHeroic
    PreferredAgainst    = SECONDARY AIRCRAFT
    ShareWeaponReloadTime = Yes
  End
  
  ; WeaponSet
    ; Conditions          = WEAPON_RIDER1 HERO PLAYER_UPGRADE
    ; Weapon              = PRIMARY   IGLATrooperMachinePistolWeapon
    ; Weapon              = SECONDARY IGLATrooperMissileWeaponUpgradedHeroic
    ; PreferredAgainst    = SECONDARY AIRCRAFT
    ; ShareWeaponReloadTime = Yes
  ; End
  
  ;Lockon Mode Weapon Sets  
  ; WeaponSet
    ; Conditions          = WEAPON_RIDER2
    ; Weapon              = PRIMARY   IGLATrooperMachinePistolWeapon
    ; Weapon              = SECONDARY IGLATrooperLockonMissileWeapon
    ; PreferredAgainst    = SECONDARY AIRCRAFT
    ; ShareWeaponReloadTime = Yes
  ; End
  
  ; WeaponSet
    ; Conditions          = WEAPON_RIDER2 PLAYER_UPGRADE
    ; Weapon              = PRIMARY   IGLATrooperMachinePistolWeapon
    ; Weapon              = SECONDARY IGLATrooperLockonMissileWeaponUpgraded
    ; PreferredAgainst    = SECONDARY AIRCRAFT
    ; ShareWeaponReloadTime = Yes
  ; End
  
  ; WeaponSet
    ; Conditions          = WEAPON_RIDER2 HERO
    ; Weapon              = PRIMARY   IGLATrooperMachinePistolWeapon
    ; Weapon              = SECONDARY IGLATrooperLockonMissileWeaponHeroic
    ; PreferredAgainst    = SECONDARY AIRCRAFT
    ; ShareWeaponReloadTime = Yes
  ; End
  
  ; WeaponSet
    ; Conditions          = WEAPON_RIDER2 HERO PLAYER_UPGRADE
    ; Weapon              = PRIMARY   IGLATrooperMachinePistolWeapon
    ; Weapon              = SECONDARY IGLATrooperLockonMissileWeaponUpgradedHeroic
    ; PreferredAgainst    = SECONDARY AIRCRAFT
    ; ShareWeaponReloadTime = Yes
  ; End
  
  ArmorSet
    Conditions      = None
    Armor           = HumanArmor
    DamageFX        = InfantryDamageFX
  End
  
  Prerequisites
    Object = Boss_Barracks
  End
  
  VisionRange = 300
  ShroudClearingRange = 220

  BuildCost = 60
  BuildTime = 5.0          ;in seconds    

  ExperienceValue    = 15 15 30  50    ;Experience point value at each level
  ExperienceRequired = 0 100 200 400  ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrushableLevel         = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet          = RussianInfantryIglaTrooperCommandSet ;Uncommented by ZWERG <------------------------------------------(!)

  ; *** AUDIO Parameters ***
  VoiceSelect       = IGLATrooperVoiceSelect
  VoiceMove         = IGLATrooperVoiceMove
  VoiceAttack       = IGLATrooperVoiceAttack
  VoiceAttackAir    = IGLATrooperVoiceAttackAir
  VoiceGuard        = IGLATrooperVoiceAirGuard
  VoiceFear         = IGLATrooperVoiceFear

  UnitSpecificSounds
    VoiceCreate       = IGLATrooperVoiceCreate
    VoiceGarrison     = IGLATrooperVoiceGarrison
    VoiceEnter        = IGLATrooperVoiceMove
    VoiceEnterHostile = IGLATrooperVoiceMove
    VoiceGetHealed    = IGLATrooperVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SCORE

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 100.0
    InitialHealth   = 100.0
  End

  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      ControlledWeaponSlots = SECONDARY TERTIARY
      TurretTurnRate        = 0
    End
    AutoAcquireEnemiesWhenIdle = Yes
  End  
  Locomotor = SET_NORMAL MissileDefenderLocomotor
  
  ;*************************************
  ;******Transformation Code Start******
  ;*************************************
  
  ; Behavior = RiderChangeContain ModuleTag_Transform01

    ; ;;;;Normal Un-upgraded mode
    ; Rider1 = GenericFakeRider1_Default_Rank RIDER1 WEAPON_RIDER1 STATUS_RIDER1 RussianInfantryIglaTrooperCommandSet SET_NORMAL

    ; ;;;;Standard Missile Fire Mode
    ; Rider3 = GenericFakeRider3_Default_Rank RIDER1 WEAPON_RIDER1 STATUS_RIDER3 RussianInfantryIglaTrooperUpgradedCommandSet SET_NORMAL

    ; ;;;;Lockon Missile Fire Mode
    ; Rider4 = GenericFakeRider4_Default_Rank RIDER2 WEAPON_RIDER2 STATUS_RIDER4 RussianInfantryIglaTrooperUpgradedCommandSet SET_NORMAL

    ; ;Standard TransportContain stuff
    ; Slots                 = 1
    ; InitialPayload        = GenericFakeRider1_Default_Rank 1
    ; DamagePercentToUnits  = 100%
    ; BurnedDeathToUnits    = No
    ; AllowInsideKindOf     = CAN_ATTACK
    ; ScuttleDelay          = 100
    ; ScuttleStatus         = TOPPLED
  ; End
  
  ; Behavior = GrantUpgradeCreate ModuleTag_Transform02
    ; UpgradeToGrant     = Upgrade_GLAWorkerRealCommandSet
  ; End

  ; Behavior = ProductionUpdate  ModuleTag_Transform03
    ; MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  ; End
  
  ; ;Primary Unit Mode Triggers
  
  ; Behavior = FireWeaponCollide ModuleTag_Transform05
    ; CollideWeapon   = IglaTrooperSwitchToStandardMissiles
    ; RequiredStatus  = STATUS_RIDER4 HIJACKED STATUS_RIDER8
  ; End

  ; Behavior = ObjectCreationUpgrade ModuleTag_Transform06
    ; UpgradeObject   = OCL_GrenadierHEGrenadeMode
    ; TriggeredBy     = Upgrade_GLAWorkerRealCommandSet
  ; End
  
  ; Behavior = StatusBitsUpgrade ModuleTag_Transform07
    ; TriggeredBy   = Upgrade_GLAWorkerRealCommandSet
    ; StatusToSet   = HIJACKED
    ; StatusToClear = REPULSOR
  ; End
  
  ; ;Secondary Unit Mode Triggers
  
  ; Behavior = FireWeaponCollide  ModuleTag_Transform08
    ; CollideWeapon   = IglaTrooperSwitchToLockonMissiles
    ; RequiredStatus  = STATUS_RIDER3 REPULSOR STATUS_RIDER8
  ; End

  ; Behavior = ObjectCreationUpgrade ModuleTag_Transform09
    ; UpgradeObject   = OCL_GrenadierAirburtGrenadeMode
    ; TriggeredBy     = Upgrade_GLAWorkerFakeCommandSet
  ; End

  ; Behavior = StatusBitsUpgrade ModuleTag_Transform10
    ; TriggeredBy   = Upgrade_GLAWorkerFakeCommandSet
    ; StatusToSet   = REPULSOR
    ; StatusToClear = HIJACKED
  ; End

  ; ;Canister Rounds Upgrade Triggers
  ; Behavior = StatusBitsUpgrade ModuleTag_Transform11
    ; TriggeredBy   = Upgrade_RussiaLargerClips
    ; StatusToSet   = STATUS_RIDER8
  ; End

  ; Behavior = ObjectCreationUpgrade ModuleTag_Transform12
    ; TriggeredBy   = Upgrade_RussiaLargerClips
    ; UpgradeObject = OCL_GenericCollisionObjectDummy
  ; End

  ; Behavior = SubObjectsUpgrade ModuleTag_Transform13
    ; TriggeredBy    = Upgrade_RussiaLargerClips
    ; HideSubObjects = NONE
    ; ShowSubObjects = LAUNCHERUP
  ; End
  
  ; Behavior = FireWeaponCollide ModuleTag_Transform14 ;This module switches out our rider if we are currently in submachinegun mode
    ; CollideWeapon   = IglaTrooperSwitchToStandardMissiles
    ; RequiredStatus  = STATUS_RIDER1 STATUS_RIDER8
  ; End
  
  ;************************************
  ;******Transformation Code End*******
  ;************************************

  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 5.0
  End

  Behavior = SquishCollide ModuleTag_09
  End
; --- begin Death modules ---
  Behavior = SlowDeathBehavior ModuleTag_Death01
    ;DeathTypes          = ALL -CRUSHED -SPLATTED -TOPPLED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7 -EXTRA_8
	DeathTypes          = ALL -CRUSHED -SPLATTED -TOPPLED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_IglaTrooperDie
  End
  Behavior = SlowDeathBehavior ModuleTag_Death02
    DeathTypes          = NONE +CRUSHED +SPLATTED +TOPPLED
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_GIDieCrushed
  End
  Behavior = SlowDeathBehavior ModuleTag_Death03
    DeathTypes          = NONE +EXPLODED
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_IglaTrooperDie
    FlingForce          = 8
    FlingForceVariance  = 3
    FlingPitch          = 60
    FlingPitchVariance  = 10
  End
  Behavior = SlowDeathBehavior ModuleTag_Death04
    DeathTypes          = NONE +BURNED
    DestructionDelay    = 0
    FX                  = INITIAL FX_IglaTrooperFireDie
    OCL                 = INITIAL OCL_FlamingInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death05
    DeathTypes          = NONE +POISONED
    DestructionDelay    = 0
    FX                  = INITIAL IglaTrooperVoiceToxinDie
    OCL                 = INITIAL OCL_ToxicInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
    DeathTypes          = NONE +POISONED_BETA
    DestructionDelay    = 0
    FX                  = INITIAL IglaTrooperVoiceToxinDie
    OCL                 = INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
  End
  Behavior = SlowDeathBehavior ModuleTag_Death07
    DeathTypes          = NONE +POISONED_GAMMA
    DestructionDelay    = 0
    FX                  = INITIAL IglaTrooperVoiceToxinDie
    OCL                 = INITIAL OCL_ToxicInfantryGamma
  End
  ; Behavior = SlowDeathBehavior ModuleTag_Death08 ;new and shiney microwave death effect
    ; DeathTypes          = NONE +EXTRA_2
    ; DestructionDelay    = 0
    ; FX                  = INITIAL FX_IglaTrooperFireDie
    ; OCL                 = INITIAL OCL_MicrowavedInfantry 
  ; End
  ; Behavior = SlowDeathBehavior ModuleTag_Death09
    ; DeathTypes          = NONE +EXTRA_3
    ; DestructionDelay    = 0
    ; FX                  = INITIAL IglaTrooperVoiceToxinDie
    ; OCL                 = INITIAL OCL_ViralInfantryDeath
  ; End
  ; Behavior = SlowDeathBehavior ModuleTag_Death045 ;Brutal kill with lots of blood and no death scream
    ; DeathTypes          = NONE +EXTRA_4
    ; SinkDelay           = 3000
    ; SinkRate            = 0.5     ; in Dist/Sec
    ; DestructionDelay    = 8000
    ; OCL                 = INITIAL OCL_BrutalBloodyDeathBits
    ; FX                  = INITIAL FX_InfantryGoreExplosion
  ; End
  ; Behavior = SlowDeathBehavior ModuleTag_036 ;Gore death explosion
    ; DeathTypes          = NONE +EXTRA_5
    ; ProbabilityModifier = 30
    ; DestructionDelay    = 0
    ; OCL                 = INITIAL OCL_BloodyGoreExplosion
    ; FX                  = FINAL   FX_InfantryGoreExplosion
  ; End
  ; Behavior = SlowDeathBehavior ModuleTag_Death0323
    ; DeathTypes          = NONE +EXTRA_5
    ; ProbabilityModifier = 70
    ; SinkDelay           = 3000
    ; SinkRate            = 0.5     ; in Dist/Sec
    ; DestructionDelay    = 8000
    ; FX                  = INITIAL FX_IglaTrooperDie
    ; OCL                 = INITIAL OCL_BrutalBloodyDeathBits
    ; FlingForce          = 8
    ; FlingForceVariance  = 3
    ; FlingPitch          = 60
    ; FlingPitchVariance  = 10
  ; End
  ; Behavior = SlowDeathBehavior ModuleTag_03241156 ;Radiation Melt
    ; DeathTypes          = NONE +EXTRA_6
    ; DestructionDelay    = 0
    ; OCL                 = INITIAL OCL_RadiationDeathInfantry
    ; FX                  = INITIAL FX_GIDieRadiation
    ; FX                  = FINAL   IglaTrooperVoiceToxinDie
  ; End
  ; Behavior = SlowDeathBehavior ModuleTag_0323241156 ;Radiation Melt
    ; DeathTypes          = NONE +EXTRA_7
    ; DestructionDelay    = 0
    ; OCL                 = INITIAL OCL_NeutronRadiationDeathInfantry
    ; FX                  = INITIAL FX_GIDieRadiation
    ; FX                  = FINAL   IglaTrooperVoiceToxinDie
  ; End
  ; Behavior = SlowDeathBehavior ModuleTag_03231 ;Cryogenic Freeze death
    ; DeathTypes          = NONE +LASERED
    ; DestructionDelay    = 0
    ; FX                  = INITIAL FX_GIDieCryoFreeze
    ; OCL                 = INITIAL OCL_CrygenicDeathInfantry
  ; End
  ; Behavior = SlowDeathBehavior ModuleTag_Surrender_Death
    ; DeathTypes          = NONE +EXTRA_8
    ; DestructionDelay    = 0
    ; FX                  = INITIAL FX_IglaTrooperSurrender
    ; OCL                 = INITIAL OCL_IglaTrooperSurrendering
  ; End
; --- end Death modules ---

  Behavior = PoisonedBehavior ModuleTag_12
    PoisonDamageInterval = 100  ; Every this many msec I will retake the poison damage dealt me...
    PoisonDuration = 3000       ; ... for this long after last hit by poison damage
  End
  
  ; Behavior = AutoHealBehavior ModuleTag_Medkit01
    ; HealingAmount = 2
    ; HealingDelay  = 1000 ; msec
    ; TriggeredBy   = Upgrade_RussiaMedPack
  ; End
  
  ; Behavior = CreateObjectDie ModuleTag_RussiaInfantryBeserker01
    ; DeathTypes = ALL -EXTRA_8
    ; CreationList = OCL_InfantryBeserkerObject
  ; End
  
  ; Behavior = WeaponSetUpgrade ModuleTag_MissileRangeUpgrade01
    ; TriggeredBy = Upgrade_RussiaAdvancedMissileEngines
  ; End
  
  Geometry = CYLINDER
  GeometryMajorRadius = 10.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 12.0
  GeometryIsSmall = Yes
  Shadow = SHADOW_DECAL
  ShadowSizeX = 14;
  ShadowSizeY = 14;
  ShadowTexture = ShadowI_2;
  BuildCompletion = APPEARS_AT_RALLY_POINT
  Scale = 0.96
End

;----------------------------------------------------------------------------------------------
Object Boss_RussianVehiclePanstir

  ; *** ART Parameters ***
  SelectPortrait         = SUQuadCannonSN_L
  ButtonImage            = SUQuadCannonSN
  
  ;UpgradeCameo1 = Upgrade_Reflection
 

    Draw = W3DTruckDraw ModuleTag_01
    OkToChangeModelColor = Yes

    ConditionState      = NONE
      Model             = RU_Panstir
      Animation         = RU_Panstir.RU_Panstir
      AnimationMode     = LOOP
      Turret            = TURRET01
      TurretPitch       = TURRETEL
      ;HideSubObject       = BARRELFX01 BARRELFX02
      WeaponLaunchBone  = PRIMARY WEAPONA
      WeaponFireFXBone  = PRIMARY BARRELFX
      WeaponMuzzleFlash   = PRIMARY BARRELFX
      WeaponLaunchBone  = SECONDARY WEAPONB
      WeaponFireFXBone  = SECONDARY WEAPONB
      WeaponLaunchBone  = TERTIARY WEAPONA
      WeaponFireFXBone  = TERTIARY BARRELFX
      WeaponMuzzleFlash   = TERTIARY BARRELFX
    End

    ConditionState = REALLYDAMAGED
      Model             = RU_Panstir_D
      Animation         = RU_Panstir_D.RU_Panstir_D
      AnimationMode     = LOOP
      Turret            = TURRET01
      TurretPitch       = TURRETEL
      ;HideSubObject       = BARRELFX01 BARRELFX02
      WeaponLaunchBone  = PRIMARY WEAPONA
      WeaponFireFXBone  = PRIMARY BARRELFX
      WeaponMuzzleFlash   = PRIMARY BARRELFX
      WeaponLaunchBone  = SECONDARY WEAPONB
      WeaponFireFXBone  = SECONDARY WEAPONB
      WeaponLaunchBone  = TERTIARY WEAPONA
      WeaponFireFXBone  = TERTIARY BARRELFX
      WeaponMuzzleFlash   = TERTIARY BARRELFX
    End

    ConditionState = RUBBLE
      Model             = RU_Panstir_D
      Animation         = RU_Panstir_D.RU_Panstir_D
      AnimationMode     = LOOP
      Turret            = TURRET01
      TurretPitch       = TURRETEL
      ;HideSubObject       = BARRELFX01 BARRELFX02
      WeaponLaunchBone  = PRIMARY WEAPONA
      WeaponFireFXBone  = PRIMARY BARRELFX
      WeaponMuzzleFlash   = PRIMARY BARRELFX
      WeaponLaunchBone  = SECONDARY WEAPONB
      WeaponFireFXBone  = SECONDARY WEAPONB
      WeaponLaunchBone  = TERTIARY WEAPONA
      WeaponFireFXBone  = TERTIARY BARRELFX
      WeaponMuzzleFlash   = TERTIARY BARRELFX
    End

    TrackMarks = EXTireTrack.tga

    Dust = ScudLauncherDust
    DirtSpray = RocketBuggyDirtSpray
    PowerslideSpray = RocketBuggyDirtPowerSlide

    ; These parameters are only used if the model has a separate suspension,
    ; and the locomotor has HasSuspension = Yes.
    LeftFrontTireBone = Tire01
    RightFrontTireBone = Tire05
    LeftRearTireBone = Tire04
    RightRearTireBone = Tire08
    MidLeftFrontTireBone = Tire02
    MidRightFrontTireBone = Tire06
    MidLeftRearTireBone = Tire03
    MidRightRearTireBone = Tire07

    TireRotationMultiplier = 0.2   ; this * speed = rotation.
    ;PowerslideRotationAddition = 0.0   ; This speed is added to the rotation speed when powersliding.
  End

  ; ***DESIGN parameters ***
  DisplayName               = OBJECT:Panstir
  Side                      = Boss
  EditorSorting             = VEHICLE
  TransportSlotCount        = 3            ;how many "slots" we take in a transport (0 == not transportable)

  WeaponSet
    Conditions              = None
    Weapon                  = PRIMARY PanstirMachineGun
    PreferredAgainst    = PRIMARY     NONE 
    AutoChooseSources   = PRIMARY     FROM_PLAYER FROM_AI FROM_SCRIPT 
    Weapon                  = SECONDARY PanstirMissileAir
    Weapon                  = TERTIARY PanstirMachineGunAir
  End


  ArmorSet
    Conditions    = None
    Armor         = AntiAirVehicleArmor
    DamageFX      = TankDamageFX
  End

  BuildCost       = 20000
  BuildTime       = 16         ;in seconds    
  VisionRange     = 800
  ShroudClearingRange = 700
  Prerequisites
    Object = Boss_WarFactory
    Object = Boss_TechCentr
  End

  ExperienceValue         = 85 85 150 250  ;Experience point value at each level
  ExperienceRequired      = 0 250 400 600   ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet      = RussianVehiclePantsirCommandSet


  ; *** AUDIO Parameters ***
  VoiceSelect     = PantsirSelect
  VoiceMove       = PantsirMove
  VoiceGuard      = PantsirGuard
  VoiceAttack     = PantsirAttack
  VoiceAttackAir     = PantsirAttackAir
  SoundMoveStart  = GattlingTankMoveStart
  SoundMoveStartDamaged = GattlingTankMoveStart

  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate     = PantsirCreate
    TurretMoveStart = NoSound
    TurretMoveLoop  = TurretMoveLoopLoud
    VoiceCrush      = PantsirAttack
    VoiceEnter      = PantsirMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority     = UNIT
  KindOf            = SALVAGER PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS VEHICLE SCORE ATTACK_NEEDS_LINE_OF_SIGHT
  
  Body              = ActiveBody ModuleTag_02
    MaxHealth       = 400.0
    InitialHealth   = 400.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 600
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End
  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      ControlledWeaponSlots = PRIMARY SECONDARY TERTIARY
      TurretTurnRate      = 440   // turn rate, in degrees per sec
      TurretPitchRate     = 360
      AllowsPitch         = Yes
      FiresWhileTurning     = Yes
      ;NaturalTurretPitch = 45
      MinIdleScanInterval   = 2500    ; in milliseconds
      MaxIdleScanInterval   = 7500    ; in milliseconds
      MinIdleScanAngle      = 0       ; in degrees off the natural turret angle
      MaxIdleScanAngle      = 90     ; in degrees off the natural turret angle
    End
    AutoAcquireEnemiesWhenIdle = Yes
    MoodAttackCheckRate        = 125
  End
  Locomotor       = SET_NORMAL PanstirLocomotor
  Behavior          = PhysicsBehavior ModuleTag_04
    Mass            = 40.0
  End

;Upgrades----------------------------------------------------------
; Behavior = MaxHealthUpgrade Upgrade_Armor
    ; TriggeredBy   = Upgrade_Reflection
    ; AddMaxHealth  = 100.0
    ; ChangeType    = ADD_CURRENT_HEALTH_TOO
  ; End
;Deaths-------------------------------------------------------------
  Behavior = SlowDeathBehavior DeathTag_01
    ;DeathTypes = ALL -CRUSHED -SPLATTED -POISONED -POISONED_BETA -EXTRA_8
	DeathTypes = ALL -CRUSHED -SPLATTED -POISONED -POISONED_BETA
    FX  = INITIAL   FX_BuggyNewDeathExplosion
    FX = MIDPOINT FX_BTRBurningAmmo
    OCL = MIDPOINT OCL_AARandomRockets
    OCL = FINAL    OCL_PanstirDebris
    FX  = FINAL     FX_BigTruckDeathFX
  End
    Behavior = SlowDeathBehavior DeathTag_02
    ;DeathTypes = ALL -CRUSHED -SPLATTED -POISONED -POISONED_BETA -EXTRA_8
	DeathTypes = ALL -CRUSHED -SPLATTED -POISONED -POISONED_BETA
    FX  = INITIAL   FX_BuggyNewDeathExplosion
    FX  = MIDPOINT FX_ArmouredVehicleDeathExplosion
    OCL = FINAL    OCL_PanstirDebris
    FX  = FINAL     FX_BigTruckDeathFX
  End
  ; A crushing defeat
  Behavior = DestroyDie DeathTag_03
    DeathTypes = NONE +CRUSHED +SPLATTED
  End
  Behavior = FXListDie DeathTag_04
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  Behavior = CreateObjectDie DeathTag_05
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_PanstirDebris
  End
  ;Radiation
  ; Behavior = SlowDeathBehavior DeathTag_06
    ; DeathTypes = NONE +EXTRA_8
    ; FX  = INITIAL FX_VehicleRadiationDeath
    ; SinkRate = 2.5
    ; SinkDelay = 6000
    ; DestructionDelay = 14000
  ; End
;Poison
  Behavior = SlowDeathBehavior DeathTag_07
    DeathTypes = NONE +POISONED
    FX  = INITIAL FX_VehiclePoisonDeath
    SinkRate = 2.5
    SinkDelay = 6000
    DestructionDelay = 14000
  End
;PoisonBeta
    Behavior = SlowDeathBehavior DeathTag_08
    DeathTypes = NONE +POISONED_BETA
    FX  = INITIAL FX_VehiclePoisonBetaDeath
    SinkRate = 2.5
    SinkDelay = 6000
    DestructionDelay = 14000
  End
;Stealth-------------------------------------------------------------
;---------------------------------------------------------------------
    
  Behavior = TransitionDamageFX ModuleTag_05
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End
;  Behavior = StealthDetectorUpdate ModuleTag_06
;    DetectionRate     = 500   ; how often to rescan for stealthed things in my sight (msec)
;    DetectionRange   = 250   ;Dustin, enable this for independant balancing!
;    CanDetectWhileGarrisoned  = No ;Garrisoned means being in a structure that you units can shoot out of.
;    CanDetectWhileContained   = No ;Contained means being in a transport or tunnel network.
;    ExtraRequiredKindOf      = AIRCRAFT
;  End
;  Behavior = StealthDetectorUpdate ModuleTag_06a
;    DetectionRate     = 500   ; how often to rescan for stealthed things in my sight (msec)
;    DetectionRange   = 250   ;Dustin, enable this for independant balancing!
;    CanDetectWhileGarrisoned  = No ;Garrisoned means being in a structure that you units can shoot out of.
;    CanDetectWhileContained   = No ;Contained means being in a transport or tunnel network.
;    ExtraRequiredKindOf      = DRONE
;  End
  ; Behavior = CreateCrateDie ModuleTag_07
    ; CrateData = SalvageCrateData
    ; ;CrateData = EliteTankCrateData
    ; ;CrateData = HeroicTankCrateData
  ; End
  Behavior = FlammableUpdate ModuleTag_08
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End
;  Behavior = FireWeaponUpdate ModuleTag_09
;    Weapon = EarlyAADetectWeapon
;    ExclusiveWeaponDelay = 500
;  End

  Behavior = StealthUpdate ModuleStealth_GPSScramblerGenericStealthModule
    StealthDelay                = 2000 ; msec
    InnateStealth               = Yes
    StealthForbiddenConditions  = ATTACKING USING_ABILITY
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
    RequiredStatus = REASSIGN_PARKING
  End

  Geometry            = BOX
  GeometryMajorRadius = 20.0
  GeometryMinorRadius = 6.0
  GeometryHeight      = 17.0     
  GeometryIsSmall     = Yes
  Shadow              = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length    
  Scale = 0.98
End

;----------------------------------------------------------------------------------------------------
Object Russia_VehicleTorM1Turret

  ; *** ART Parameters ***
  
  Draw                    = W3DDependencyModelDraw ModuleTag_01
    OkToChangeModelColor  = Yes
    ExtraPublicBone = TURRET
    ExtraPublicBone = TURRETEL

    AttachToBoneInContainer = FIREPOINT01

    DefaultConditionState 
      Model             = RU-TORM2_G
      Animation         = RU-TORM2_G.RU-TORM2_G
      AnimationMode     = LOOP
      Turret            = TURRET01
      WeaponLaunchBone  = SECONDARY WEAPONA
      WeaponFireFXBone  = SECONDARY WEAPONA
    End

    ConditionState = REALLYDAMAGED
      Model             = RU-TORM2_GD
      Animation         = RU-TORM2_GD.RU-TORM2_GD
      AnimationMode     = LOOP
      Turret            = TURRET01
      WeaponLaunchBone  = SECONDARY WEAPONA
      WeaponFireFXBone  = SECONDARY WEAPONA
    End
  End

  ; ***DESIGN parameters ***
  Side             = Boss
  EditorSorting    = SYSTEM
  TransportSlotCount = 1
  
  WeaponSet
    Conditions = None
    Weapon     = SECONDARY TORM1MissileWeapon
  End

  ArmorSet
    Conditions     = None
    Armor          = InvulnerableAllArmor ; We can't be hurt on the field.  We share damage from the Avenger with his damage module
  End
  VisionRange     = 1500 ;400

  ; *** AUDIO Parameters ***
  UnitSpecificSounds
   TurretMoveStart = NoSound
    TurretMoveLoop  = TurretMoveLoop
  End

  ; *** ENGINEERING Parameters ***
  KindOf            = PRELOAD PORTABLE_STRUCTURE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CLICK_THROUGH IGNORED_IN_GUI SCORE
    Body            = StructureBody ModuleTag_02
    MaxHealth       = 100.0
    InitialHealth   = 100.0
  End

  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      TurretTurnRate        = 310   // turn rate, in degrees per sec
      TurretPitchRate       = 270   
      ControlledWeaponSlots = PRIMARY SECONDARY TERTIARY
      MinIdleScanInterval   = 1500    ; in milliseconds
      MaxIdleScanInterval   = 1500    ; in milliseconds
      MinIdleScanAngle      = 0       ; in degrees off the natural turret angle
      MaxIdleScanAngle      = 360     ; in degrees off the natural turret angle
    End
    AutoAcquireEnemiesWhenIdle = Yes ;ATTACK_BUILDINGS; defensive weapon
    MoodAttackCheckRate        = 250
  End

  Behavior             = DestroyDie DeathTag_01
    ;<No Data>
  End

  Behavior = StealthUpdate ModuleStealth_GPSScramblerGenericStealthModule
    StealthDelay                = 2000 ; msec
    InnateStealth               = Yes
    StealthForbiddenConditions  = ATTACKING USING_ABILITY
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
    RequiredStatus = REASSIGN_PARKING
  End

  Geometry            = BOX
  GeometryMajorRadius = 5.0
  GeometryMinorRadius = 5.0
  GeometryHeight      = 8.0
  GeometryIsSmall     = No      
  Shadow              = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;----------------------------------------------------------------------------------------------------------
Object Boss_RussiaVehicleTorM1

  ; *** ART Parameters ***
  SelectPortrait         = SpiderTank_L
  ButtonImage            = SpiderTank
  
  ;UpgradeCameo1 = Upgrade_Reflection

    Draw = W3DOverlordTankDraw ModuleTag_01
    OkToChangeModelColor = Yes

    ConditionState      = NONE
      Model             = RU-TORM2
      Animation         = RU-TORM2.RU-TORM2
      AnimationMode     = LOOP
      Turret            = TURRET01
      WeaponLaunchBone  = SECONDARY WEAPONA
      WeaponFireFXBone  = SECONDARY WEAPONA
    End

    ConditionState = REALLYDAMAGED
      Model             = RU-TORM2_D
      Animation         = RU-TORM2_D.RU-TORM2_D
      AnimationMode     = LOOP
      Turret            = TURRET01
      WeaponLaunchBone  = SECONDARY WEAPONA
      WeaponFireFXBone  = SECONDARY WEAPONA
    End

    ConditionState = RUBBLE
      Model             = RU-TORM2_D
      Animation         = RU-TORM2_D.RU-TORM2_D
      AnimationMode     = LOOP
      Turret            = TURRET01
      WeaponLaunchBone  = SECONDARY WEAPONA
      WeaponFireFXBone  = SECONDARY WEAPONA
    End

    ;When a bombtruck disguises as an avenger, show the turret!
    ConditionState        = DISGUISED
      Model             = RU-TORM1
      Animation         = RU-TORM1.RU-TORM1
    End
    ConditionState        = REALLYDAMAGED DISGUISED
      Model             = RU-TORM1_D
      Animation         = RU-TORM1_D.RU-TORM1_D
    End

    TrackMarks           = EXTnkTrack.tga
    TreadAnimationRate = 2.0;  amount of tread texture to move per second
    TreadDriveSpeedFraction = 0.3  ; fraction of locomotor speed below which treads stop moving.
    TreadPivotSpeedFraction = 0.6  ; fraction of locomotor speed below which we allow pivoting.

  End

  ; ***DESIGN parameters ***
  DisplayName               = OBJECT:TorM1
  Side                      = Boss
  EditorSorting             = VEHICLE
  TransportSlotCount        = 3            ;how many "slots" we take in a transport (0 == not transportable)

  WeaponSet
    Conditions = None
    Weapon     = SECONDARY AvengerAirLaserDummy
    Weapon     = TERTIARY MTPA4TrackWeapon
  End

  ArmorSet
    Conditions    = None
    Armor         = AntiAirVehicleArmor
    DamageFX      = TankDamageFX
  End

  BuildCost       = 30000
  BuildTime       = 16.0          ;in seconds    
  VisionRange     = 1500
  ShroudClearingRange = 1000
  
  Prerequisites
    Object = Boss_WarFactory
    Object = Boss_TechCentr
    Object = Boss_RussiaSatelliteCenter
  End

  ExperienceValue         = 85 85 150 250  ;Experience point value at each level
  ExperienceRequired      = 0 250 400 600   ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet      = RussianVehicleTorCommandSet


  ; *** AUDIO Parameters ***
  VoiceSelect     = TorSelect
  VoiceMove       = TorMove
  VoiceGuard      = TorGuard
  VoiceAttack     = TorAttackAir
  VoiceAttackAir     = TorAttackAir
  SoundMoveStart  = GattlingTankMoveStart
  SoundMoveStartDamaged = GattlingTankMoveStart

  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate     = TorCreate
    TurretMoveStart = NoSound
    TurretMoveLoop  = TurretMoveLoopLoud
    VoiceCrush      = TorAttackAir
    VoiceEnter      = TorMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority     = UNIT
  KindOf            = SALVAGER PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS VEHICLE SCORE
  
  Body              = ActiveBody ModuleTag_02
    MaxHealth       = 350.0
    InitialHealth   = 350.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 600
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End
  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle = No
  End
  Locomotor       = SET_NORMAL TorLocomotor
  Behavior          = PhysicsBehavior ModuleTag_04
    Mass            = 40.0
  End

;Upgrades----------------------------------------------------------
; Behavior = MaxHealthUpgrade Upgrade_Armor
    ; TriggeredBy   = Upgrade_Reflection
    ; AddMaxHealth  = 137.5
    ; ChangeType    = ADD_CURRENT_HEALTH_TOO
  ; End
  ; Behavior = ObjectCreationUpgrade Upgrade_02
    ; UpgradeObject = OCL_AirRadarDrone
    ; TriggeredBy = Upgrade_AirRadarDrone
  ; End
;Deaths-------------------------------------------------------------
  Behavior = SlowDeathBehavior DeathTag_01
    ;DeathTypes = ALL -CRUSHED -SPLATTED -POISONED -POISONED_BETA -EXTRA_8
	DeathTypes = ALL -CRUSHED -SPLATTED -POISONED -POISONED_BETA
    FX  = INITIAL   FX_BuggyNewDeathExplosion
    FX  = MIDPOINT FX_ArmouredVehicleDeathExplosion
    OCL = MIDPOINT OCL_AARandomRockets
    OCL = FINAL    OCL_TORM1Debris
    FX  = FINAL     FX_BigTruckDeathFX
  End
  Behavior = SlowDeathBehavior DeathTag_02
    ;DeathTypes = ALL -CRUSHED -SPLATTED -POISONED -POISONED_BETA -EXTRA_8
	DeathTypes = ALL -CRUSHED -SPLATTED -POISONED -POISONED_BETA
    FX  = INITIAL   FX_BuggyNewDeathExplosion
    OCL = FINAL    OCL_TORM1Debris
    FX  = FINAL     FX_BigTruckDeathFX
  End
  ; A crushing defeat
  Behavior = DestroyDie DeathTag_03
    DeathTypes = NONE +CRUSHED +SPLATTED
  End
  Behavior = FXListDie DeathTag_04
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  Behavior = CreateObjectDie DeathTag_05
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_TORM1Debris
  End
  ;Radiation
  ; Behavior = SlowDeathBehavior DeathTag_06
    ; DeathTypes = NONE +EXTRA_8
    ; FX  = INITIAL FX_VehicleRadiationDeath
    ; SinkRate = 2.5
    ; SinkDelay = 6000
    ; DestructionDelay = 14000
  ; End
;Poison
  Behavior = SlowDeathBehavior DeathTag_07
    DeathTypes = NONE +POISONED
    FX  = INITIAL FX_VehiclePoisonDeath
    SinkRate = 2.5
    SinkDelay = 6000
    DestructionDelay = 14000
  End
;PoisonBeta
    Behavior = SlowDeathBehavior DeathTag_08
    DeathTypes = NONE +POISONED_BETA
    FX  = INITIAL FX_VehiclePoisonBetaDeath
    SinkRate = 2.5
    SinkDelay = 6000
    DestructionDelay = 14000
  End
;Stealth-------------------------------------------------------------
;---------------------------------------------------------------------


;  Behavior = StealthDetectorUpdate ModuleTag_05
;    DetectionRate     = 500   ; how often to rescan for stealthed things in my sight (msec)
;    DetectionRange   = 240   ;Dustin, enable this for independant balancing!
;    ExtraRequiredKindOf      = AIRCRAFT
;    CanDetectWhileGarrisoned  = No ;Garrisoned means being in a structure that you units can shoot out of.
;    CanDetectWhileContained   = No ;Contained means being in a transport or tunnel network.
;  End
;  Behavior = StealthDetectorUpdate ModuleTag_05a
;    DetectionRate     = 500   ; how often to rescan for stealthed things in my sight (msec)
;    DetectionRange   = 240   ;Dustin, enable this for independant balancing!
;    ExtraRequiredKindOf      = DRONE
;    CanDetectWhileGarrisoned  = No ;Garrisoned means being in a structure that you units can shoot out of.
;    CanDetectWhileContained   = No ;Contained means being in a transport or tunnel network.
;  End
  Behavior = TransitionDamageFX ModuleTag_06
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End
  ; Behavior = CreateCrateDie ModuleTag_07
    ; CrateData = SalvageCrateData
    ; ;CrateData = EliteTankCrateData
    ; ;CrateData = HeroicTankCrateData
  ; End

  Behavior = FlammableUpdate ModuleTag_08
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

;  Behavior = FireWeaponUpdate ModuleTag_10
;    Weapon = EarlyAADetectWeapon
;    ExclusiveWeaponDelay = 500
;  End

  ; Behavior = GrantUpgradeCreate ModuleTag_11
    ; UpgradeToGrant = Upgrade_AirRadarDrone
  ; End

  Behavior = OverlordContain ModuleTag_12
    Slots                 = 1
    DamagePercentToUnits  = 100%
    AllowInsideKindOf     = PORTABLE_STRUCTURE
    PassengersAllowedToFire = Yes
    PayloadTemplateName        = Russia_VehicleTorM1Turret
    ExperienceSinkForRider = Yes ; I get the Exp for things my turret friend kills
  End

  Behavior = StealthUpdate ModuleStealth_GPSScramblerGenericStealthModule
    StealthDelay                = 2000 ; msec
    InnateStealth               = Yes
    StealthForbiddenConditions  = ATTACKING USING_ABILITY
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
    RequiredStatus = REASSIGN_PARKING
  End

  Geometry            = BOX
  GeometryMajorRadius = 14.0
  GeometryMinorRadius = 9.0
  GeometryHeight      = 14.0     
  GeometryIsSmall     = Yes
  Shadow              = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length    
  Scale = 1.1
End

;------------------------------------------------------------------------------------------------
Object Boss_RussiaVehicleIskander

  ; *** ART Parameters ***
  SelectPortrait         = SUScudLauncher_L
  ButtonImage            = SUScudLauncher
  
  ;UpgradeCameo1 = Upgrade_Range

  Draw = W3DTruckDraw ModuleTag_01
    OkToChangeModelColor = Yes

    ProjectileBoneFeedbackEnabledSlots = PRIMARY

    DefaultConditionState
      Model                           = RUIskander
      Animation                       = RUIskander.RUIskander
      AnimationMode                   = ONCE_BACKWARDS
      Turret                          = TURRET
      Flags                           = START_FRAME_FIRST
      WeaponLaunchBone                = PRIMARY Missile
      WeaponFireFXBone                = PRIMARY FIREFX
    End
      
    ConditionState                    = RUBBLE
      Model                           = RUIskander_D
      Animation                       = RUIskander_D.RUIskander_D
      AnimationMode                   = ONCE_BACKWARDS
      Turret                          = TURRET
      Flags                           = START_FRAME_FIRST
      WeaponLaunchBone                = PRIMARY Missile
      WeaponFireFXBone                = PRIMARY FIREFX
    End

    ;*** PACKED STATE -- ready to move ***
    ConditionState    = MOVING
      Animation       = RUIskander.RUIskander
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_FIRST
    End
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_A
    AliasConditionState = BETWEEN_FIRING_SHOTS_A

    ConditionState    = REALLYDAMAGED MOVING
      Model           = RUIskander_D 
      Animation       = RUIskander_D.RUIskander_D
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_FIRST
    End
    AliasConditionState = REALLYDAMAGED MOVING BETWEEN_FIRING_SHOTS_A
     
    ;*** UNPACKING STATE  -- preparing to fire ***
    ConditionState    = UNPACKING
      Animation       = RUIskander.RUIskander
      AnimationMode   = ONCE
    End
    AliasConditionState = UNPACKING BETWEEN_FIRING_SHOTS_A

    ConditionState    = REALLYDAMAGED UNPACKING
      Model           = RUIskander_D 
      Animation       = RUIskander_D.RUIskander_D
      AnimationMode   = ONCE
    End
    AliasConditionState = REALLYDAMAGED UNPACKING BETWEEN_FIRING_SHOTS_A

    ;*** PACKING STATE -- preparing to move ***
    ConditionState    = PACKING
      Animation       = RUIskander.RUIskander
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End
    AliasConditionState = PACKING BETWEEN_FIRING_SHOTS_A

    ConditionState    = REALLYDAMAGED PACKING
      Model           = RUIskander_D 
      Animation       = RUIskander_D.RUIskander_D
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End
    AliasConditionState = REALLYDAMAGED PACKING BETWEEN_FIRING_SHOTS_A

    ;*** DEPLOYED STATE -- ready to fire ***
    ConditionState  = DEPLOYED
      Model           = RUIskander 
      Animation       = RUIskander.RUIskander
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
    End
    AliasConditionState = DEPLOYED MOVING
    AliasConditionState = DEPLOYED BETWEEN_FIRING_SHOTS_A
    AliasConditionState = DEPLOYED FIRING_A
    AliasConditionState = DEPLOYED RELOADING_A

    ConditionState  = DEPLOYED REALLYDAMAGED
      Model           = RUIskander_D 
      Animation       = RUIskander_D.RUIskander_D
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
    End
    AliasConditionState = DEPLOYED REALLYDAMAGED MOVING
    AliasConditionState = DEPLOYED REALLYDAMAGED BETWEEN_FIRING_SHOTS_A
    AliasConditionState = DEPLOYED REALLYDAMAGED FIRING_A
    AliasConditionState = DEPLOYED REALLYDAMAGED RELOADING_A

    TrackMarks = EXTireTrack.tga

    Dust = ScudLauncherDust
    DirtSpray = RocketBuggyDirtSpray
    PowerslideSpray = RocketBuggyDirtPowerSlide

    ; These parameters are only used if the model has a separate suspension,
    ; and the locomotor has HasSuspension = Yes.
    LeftFrontTireBone = Tire01
    RightFrontTireBone = Tire05
    LeftRearTireBone = Tire04
    RightRearTireBone = Tire08
    MidLeftFrontTireBone = Tire02
    MidRightFrontTireBone = Tire06
    MidLeftRearTireBone = Tire03
    MidRightRearTireBone = Tire07

    TireRotationMultiplier = 0.2   ; this * speed = rotation.
    ;PowerslideRotationAddition = 0.0   ; This speed is added to the rotation speed when powersliding.

  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Iskander
  Side = Boss
  EditorSorting   = VEHICLE
  TransportSlotCount = 8                 ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions = None 
    Weapon = PRIMARY IskanderMissileWeapon
    Weapon = SECONDARY S300FakeWeapon
    ;ShareWeaponReloadTime = Yes
  End

  ; WeaponSet
    ; Conditions = PLAYER_UPGRADE 
    ; Weapon = PRIMARY IskanderMissileWeapon2
    ; Weapon = SECONDARY S300FakeWeapon
    ; ;ShareWeaponReloadTime = Yes
  ; End

  
  ArmorSet
    Conditions      = None
    Armor           = ArtilleryVehicleArmor
    DamageFX        = TankDamageFX
  End

  BuildCost       = 50000
  BuildTime       = 35.0          ;in seconds    
  VisionRange     = 500
  ShroudClearingRange = 500
  Prerequisites
    Object  = Boss_WarFactory
	Object  = Boss_TechCentr
	Object  = Boss_RussiaSatelliteCenter
  End

  ExperienceValue         = 150 150 250 400  ;Experience point value at each level
  ExperienceRequired      = 0 700 1400 2200   ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet    = IskanderCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect           = IskanderVoiceSelect
  VoiceMove             = IskanderVoiceMove
  VoiceGuard            = IskanderVoiceGuard
  VoiceAttack           = IskanderVoiceAttackBallistic
  SoundMoveStart        = ScudLauncherMoveStart
  SoundMoveStartDamaged = ScudLauncherMoveStart
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate         = IskanderVoiceCreate
    VoiceGuard            = IskanderVoiceMove
    Deploy              = 3secDeploySound
    Undeploy            = 3secUnDeploySound
  End


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = SALVAGER PRELOAD SELECTABLE CAN_ATTACK CANNOT_RETALIATE DONT_AUTO_CRUSH_INFANTRY CAN_CAST_REFLECTIONS VEHICLE HUGE_VEHICLE SCORE FS_ADVANCED_TECH
  
  Body = ActiveBody ModuleTag_02
    MaxHealth       = 350.0
    InitialHealth   = 350.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 480
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

   Behavior = DeployStyleAIUpdate ModuleTag_03
    AutoAcquireEnemiesWhenIdle = No NOTWHILEATTACKING
    PackTime = 3333
    UnpackTime = 3333
    TurretsFunctionOnlyWhenDeployed = Yes
    TurretsMustCenterBeforePacking = Yes
    ManualDeployAnimations = Yes
  End

  Locomotor = SET_NORMAL IskanderLocomotor
  ;Locomotor = SET_NORMAL_UPGRADED SmerchLocomotorL2


  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 100.0
  End

;Upgrades----------------------------------------------------------
  ; Behavior = LocomotorSetUpgrade Upgrade_01
    ; TriggeredBy = Upgrade_BallisticCommandset
  ; End
  ; Behavior                = ArmorUpgrade Upgrade_02
    ; TriggeredBy           = Upgrade_BallisticCommandset
  ; End
  ; Behavior = WeaponBonusUpgrade Upgrade_03
    ; TriggeredBy = Upgrade_Range
  ; End
  ; Behavior = WeaponSetUpgrade Upgrade_06
    ; TriggeredBy = Upgrade_Range
  ; End
;Deaths-------------------------------------------------------------
Behavior = SlowDeathBehavior DeathTag_01
    ;DeathTypes = ALL -NORMAL -BURNED -CRUSHED -SPLATTED -POISONED -POISONED_BETA -EXTRA_8
	DeathTypes = ALL -NORMAL -BURNED -CRUSHED -SPLATTED -POISONED -POISONED_BETA
    FX  = INITIAL  FX_BigMissileCarrierDeath
    OCL = MIDPOINT OCL_SCUDDebrisFlyoff
    OCL = FINAL    OCL_IskanderDebris
  End
  Behavior = SlowDeathBehavior DeathTag_02
    DeathTypes = NONE +NORMAL +BURNED
    FX = INITIAL FX_BigTruckDeathFX
    FX = FINAL FX_BuggyNewDeathExplosion
    OCL = FINAL    OCL_IskanderDebris
  End
  ; A crushing defeat
  Behavior = DestroyDie DeathTag_03
    DeathTypes = NONE +CRUSHED +SPLATTED
  End
  Behavior = FXListDie DeathTag_04
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  Behavior = CreateObjectDie DeathTag_05
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_IskanderDebris
  End
;Radiation
  ; Behavior = SlowDeathBehavior DeathTag_06
    ; DeathTypes = NONE +EXTRA_8
    ; FX  = INITIAL FX_VehicleRadiationDeath
    ; SinkRate = 2.5
    ; SinkDelay = 6000
    ; DestructionDelay = 14000
  ; End
;Poison
  Behavior = SlowDeathBehavior DeathTag_07
    DeathTypes = NONE +POISONED
    FX  = INITIAL FX_VehiclePoisonDeath
    SinkRate = 2.5
    SinkDelay = 6000
    DestructionDelay = 14000
  End
;PoisonBeta
    Behavior = SlowDeathBehavior DeathTag_08
    DeathTypes = NONE +POISONED_BETA
    FX  = INITIAL FX_VehiclePoisonBetaDeath
    SinkRate = 2.5
    SinkDelay = 6000
    DestructionDelay = 14000
  End
;Stealth-------------------------------------------------------------
;---------------------------------------------------------------------

  Behavior = TransitionDamageFX ModuleTag_05
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  ; Behavior = CreateCrateDie ModuleTag_06
    ; CrateData = SalvageCrateData2
    ; ;CrateData = EliteTankCrateData
    ; ;CrateData = HeroicTankCrateData
  ; End

  ; Behavior = ProductionUpdate ModuleTag_07
    ; MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  ; End

  Behavior = FlammableUpdate ModuleTag_08
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = CommandButtonHuntUpdate  ModuleTag_09 ; allows use of command button hunt script with this unit. 
  End

  ; Behavior = VeterancyGainCreate ModuleTag_10
    ; StartingLevel = VETERAN
    ; ScienceRequired = SCIENCE_ArtilleryVeteran
   ; End

  Behavior = StealthUpdate ModuleStealth_GPSScramblerGenericStealthModule
    StealthDelay                = 2000 ; msec
    InnateStealth               = Yes
    StealthForbiddenConditions  = ATTACKING USING_ABILITY
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
    RequiredStatus = REASSIGN_PARKING
  End

  Geometry            = BOX
  GeometryMajorRadius = 24.0
  GeometryMinorRadius = 8.0
  GeometryHeight      = 15.0     
  GeometryIsSmall     = Yes
  Shadow              = SHADOW_VOLUME 
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length   
  Scale = 1.05
End

;-------------------------------------------------------------------------------------
Object Boss_RussiaVehicleBastion

  ; *** ART Parameters ***
  SelectPortrait         = HardArty
  ButtonImage            = HardArty
  
  ;UpgradeCameo1 = Upgrade_IskanderNuke
  ;UpgradeCameo2 = Upgrade_Range

  Draw = W3DTruckDraw ModuleTag_01
    OkToChangeModelColor = Yes

    ;ProjectileBoneFeedbackEnabledSlots = PRIMARY

    DefaultConditionState
      Model                           = RUIskanK
      Animation                       = RUIskanK.RUIskanK
      AnimationMode                   = ONCE_BACKWARDS
      Turret                          = Turret01
      Flags                           = START_FRAME_FIRST
      WeaponLaunchBone                = PRIMARY WEAPONA
      WeaponFireFXBone                = PRIMARY FIREFX
    End
      
    ConditionState                    = RUBBLE
      Model                           = RUIskanK_D
      Animation                       = RUIskanK_D.RUIskanK_D
      AnimationMode                   = ONCE_BACKWARDS
      Turret                          = Turret01
      Flags                           = START_FRAME_FIRST
      WeaponLaunchBone                = PRIMARY WEAPONA
      WeaponFireFXBone                = PRIMARY FIREFX
    End

    ;*** PACKED STATE -- ready to move ***
    ConditionState    = MOVING
      Animation       = RUIskanK.RUIskanK
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_FIRST
    End
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_A
    AliasConditionState = BETWEEN_FIRING_SHOTS_A

    ConditionState    = REALLYDAMAGED MOVING
      Model           = RUIskanK_D 
      Animation       = RUIskanK_D.RUIskanK_D
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_FIRST
    End
    AliasConditionState = REALLYDAMAGED MOVING BETWEEN_FIRING_SHOTS_A
     
    ;*** UNPACKING STATE  -- preparing to fire ***
    ConditionState    = UNPACKING
      Animation       = RUIskanK.RUIskanK
      AnimationMode   = ONCE
    End
    AliasConditionState = UNPACKING BETWEEN_FIRING_SHOTS_A

    ConditionState    = REALLYDAMAGED UNPACKING
      Model           = RUIskanK_D 
      Animation       = RUIskanK_D.RUIskanK_D
      AnimationMode   = ONCE
    End
    AliasConditionState = REALLYDAMAGED UNPACKING BETWEEN_FIRING_SHOTS_A

    ;*** PACKING STATE -- preparing to move ***
    ConditionState    = PACKING
      Animation       = RUIskanK.RUIskanK
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End
    AliasConditionState = PACKING BETWEEN_FIRING_SHOTS_A

    ConditionState    = REALLYDAMAGED PACKING
      Model           = RUIskanK_D 
      Animation       = RUIskanK_D.RUIskanK_D
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End
    AliasConditionState = REALLYDAMAGED PACKING BETWEEN_FIRING_SHOTS_A

    ;*** DEPLOYED STATE -- ready to fire ***
    ConditionState  = DEPLOYED
      Model           = RUIskanK
      Animation       = RUIskanK.RUIskanK
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
    End
    AliasConditionState = DEPLOYED MOVING
    AliasConditionState = DEPLOYED BETWEEN_FIRING_SHOTS_A
    AliasConditionState = DEPLOYED FIRING_A
    AliasConditionState = DEPLOYED RELOADING_A

    ConditionState  = DEPLOYED REALLYDAMAGED
      Model           = RUIskanK_D 
      Animation       = RUIskanK_D.RUIskanK_D
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
    End
    AliasConditionState = DEPLOYED REALLYDAMAGED MOVING
    AliasConditionState = DEPLOYED REALLYDAMAGED BETWEEN_FIRING_SHOTS_A
    AliasConditionState = DEPLOYED REALLYDAMAGED FIRING_A
    AliasConditionState = DEPLOYED REALLYDAMAGED RELOADING_A

    TrackMarks = EXTireTrack.tga

    Dust = ScudLauncherDust
    DirtSpray = RocketBuggyDirtSpray
    PowerslideSpray = RocketBuggyDirtPowerSlide

    ; These parameters are only used if the model has a separate suspension,
    ; and the locomotor has HasSuspension = Yes.
    LeftFrontTireBone = Tire01
    RightFrontTireBone = Tire05
    LeftRearTireBone = Tire04
    RightRearTireBone = Tire08
    MidLeftFrontTireBone = Tire02
    MidRightFrontTireBone = Tire06
    MidLeftRearTireBone = Tire03
    MidRightRearTireBone = Tire07

    TireRotationMultiplier = 0.2   ; this * speed = rotation.
    ;PowerslideRotationAddition = 0.0   ; This speed is added to the rotation speed when powersliding.

  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Iskander
  Side = Boss
  EditorSorting   = VEHICLE
  TransportSlotCount = 5                 ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions = None 
    Weapon = PRIMARY BastionMissileWeapon
    Weapon = SECONDARY S300FakeWeapon
    ;ShareWeaponReloadTime = Yes
  End

  ArmorSet
    Conditions      = None
    Armor           = TankArmor
    DamageFX        = TankDamageFX
  End
  BuildCost       = 50000
  BuildTime       = 35.0          ;in seconds    
  VisionRange     = 1000
  ShroudClearingRange = 900
  Prerequisites
    Object  = Boss_WarFactory
    Object = Boss_TechCentr
	Object = Boss_RussiaSatelliteCenter
  End

  ExperienceValue         = 150 150 250 400  ;Experience point value at each level
  ExperienceRequired      = 0 600 1200 1800   ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet    = IskanderCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect           = IskanderVoiceSelect
  VoiceMove             = IskanderVoiceMove
  VoiceGuard            = IskanderVoiceGuard
  VoiceAttack           = IskanderVoiceAttack
  SoundMoveStart        = ScudLauncherMoveStart
  SoundMoveStartDamaged = ScudLauncherMoveStart
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate         = IskanderVoiceCreate
  VoiceGuard            = IskanderVoiceMove
    Deploy              = 3secDeploySound
    Undeploy            = 3secUnDeploySound
  End


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = SALVAGER PRELOAD SELECTABLE CAN_ATTACK CANNOT_RETALIATE DONT_AUTO_CRUSH_INFANTRY CAN_CAST_REFLECTIONS VEHICLE HUGE_VEHICLE SCORE
  
  Body = ActiveBody ModuleTag_02
    MaxHealth       = 350.0
    InitialHealth   = 350.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 480
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

   Behavior = DeployStyleAIUpdate ModuleTag_03
    AutoAcquireEnemiesWhenIdle = No
    PackTime = 3333
    UnpackTime = 3333
    TurretsFunctionOnlyWhenDeployed = Yes
    TurretsMustCenterBeforePacking = Yes
    ManualDeployAnimations = Yes
  End

  Locomotor = SET_NORMAL IskanderLocomotor

  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 100.0
  End
    
;Upgrades----------------------------------------------------------
  ; Behavior = WeaponBonusUpgrade Upgrade_01
    ; TriggeredBy = Upgrade_Range
  ; End
;Deaths-------------------------------------------------------------
  ; Catch fire, and explode death
  Behavior = SlowDeathBehavior DeathTag_01
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier = 50
    DestructionDelay = 2000
    DestructionDelayVariance = 300
    FX  = INITIAL  FX_CrusaderCatchFire
    OCL = FINAL    OCL_IskanderDebris
    FX  = FINAL    FX_ScudLauncherExplosionOneFinal
  End
    ; A crushing defeat
  Behavior = DestroyDie DeathTag_02
    DeathTypes = NONE +CRUSHED +SPLATTED
  End
  Behavior = FXListDie DeathTag_03
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  Behavior = CreateObjectDie DeathTag_04
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_T90_CrushEffect
  End
;Stealth-------------------------------------------------------------
;---------------------------------------------------------------------


  Behavior = TransitionDamageFX ModuleTag_05
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  ; Behavior = CreateCrateDie ModuleTag_06
    ; CrateData = SalvageCrateData
    ; ;CrateData = EliteTankCrateData
    ; ;CrateData = HeroicTankCrateData
  ; End

  ; Behavior = ProductionUpdate ModuleTag_07
    ; MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  ; End

  Behavior = FlammableUpdate ModuleTag_08
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = CommandButtonHuntUpdate  ModuleTag_09 ; allows use of command button hunt script with this unit. 
  End

  Behavior = StealthUpdate ModuleStealth_GPSScramblerGenericStealthModule
    StealthDelay                = 2000 ; msec
    InnateStealth               = Yes
    StealthForbiddenConditions  = ATTACKING USING_ABILITY
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
    RequiredStatus = REASSIGN_PARKING
  End

  Geometry            = BOX
  GeometryMajorRadius = 24.0
  GeometryMinorRadius = 8.0
  GeometryHeight      = 15.0     
  GeometryIsSmall     = Yes
  Shadow              = SHADOW_VOLUME 
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length   
  Scale = 1.05
End

;---------------------------------------------------------------------------------------------------------------------
Object Boss_RussiaVehicleKhrizantema

  ; *** ART Parameters ***
  SelectPortrait         = SALOSAT
  ButtonImage            = SALOSAT_s

  ; UpgradeCameo1 = Upgrade_Shtora
  ; UpgradeCameo2 = Upgrade_Reflection
  ; UpgradeCameo3 = Upgrade_Range
  ; UpgradeCameo4 = Upgrade_Tankgun
  
  Draw = W3DTankDraw ModuleTag_01
    OkToChangeModelColor = Yes

    DefaultConditionState
      Model                           = RU-KHR
      Animation                       = RU-KHR.RU-KHR
      AnimationMode                   = ONCE_BACKWARDS
      Turret                          = dummyturret
      Flags                           = START_FRAME_FIRST
    End
      
    ConditionState                    = RUBBLE
      Model                           = RU-KHR_D
      Animation                       = RU-KHR_D.RU-KHR_D
      AnimationMode                   = ONCE_BACKWARDS
      Turret                          = dummyturret
      Flags                           = START_FRAME_FIRST
    End


;--------------------------Packed State--------------------------------

    ConditionState = RIDER1 ;Packed
      Model                           = RU-KHR
      Animation                       = RU-KHR.RU-KHR
      AnimationMode                   = ONCE_BACKWARDS
      Turret                          = dummyturret
      Flags                           = START_FRAME_LAST
    End
      
    ConditionState                    = RIDER1 RUBBLE
      Model                           = RU-KHR_D
      Animation                       = RU-KHR_D.RU-KHR_D
      AnimationMode                   = ONCE_BACKWARDS
      Turret                          = dummyturret
      Flags                           = START_FRAME_LAST
    End

;--------------------------Deployed State--------------------------------

    ConditionState = RIDER2 ;Deployed
      Model                           = RU-KHR
      Animation                       = RU-KHR.RU-KHR
      AnimationMode                   = ONCE
      Turret                          = TURRET
      WeaponLaunchBone                = PRIMARY WEAPONA
      WeaponFireFXBone                = PRIMARY FIREFX
    End
      
    ConditionState                    = RIDER2 RUBBLE
      Model                           = RU-KHR_D
      Animation                       = RU-KHR_D.RU-KHR_D
      AnimationMode                   = ONCE
      Turret                          = TURRET

      WeaponLaunchBone                = PRIMARY WEAPONA
      WeaponFireFXBone                = PRIMARY FIREFX
    End

    TrackMarks              = EXTnkTrack.tga
    TreadAnimationRate      = 2.0  ; amount of tread texture to move per second
  End

;  Draw = W3DModelDraw ModuleTag_02
;  
;    ParticlesAttachedToAnimatedBones = Yes
;  
;    DefaultConditionState
;      Model = None
;    End
;    AliasConditionState = RIDER1 
;    AliasConditionState = RIDER2 
;    AliasConditionState = DOOR_1_OPENING
;    AliasConditionState = RIDER1 DOOR_1_OPENING
;    AliasConditionState = RIDER2 DOOR_1_OPENING
;    AliasConditionState = RIDER1 ATTACKING
;    AliasConditionState = RIDER2 ATTACKING
;    AliasConditionState = RIDER1 ARMED
;    AliasConditionState = RIDER2 ARMED
;
;    
;    ConditionState = DOOR_1_WAITING_OPEN
;      Model = None
;    End
;    AliasConditionState = RIDER1 DOOR_1_WAITING_OPEN
;    AliasConditionState = RIDER2 DOOR_1_WAITING_OPEN
;
;    ConditionState = RIDER1 DOOR_1_CLOSING
;      Model = KHR_Shtora
;      Animation = KHR_Shtora.KHR_Shtora
;      AnimationMode = LOOP
;      Turret              = Turret01
;      ParticleSysBone = Shtora01 ShtoraLightEffect
;      ParticleSysBone = Shtora02 ShtoraLightEffect
;      ParticleSysBone = TURRET01 ShtoraSphere
;    End 
;    AliasConditionState = RIDER1 DOOR_1_WAITING_TO_CLOSE
;    AliasConditionState = RIDER2 DOOR_1_WAITING_TO_CLOSE
;    AliasConditionState = RIDER2 DOOR_1_CLOSING
;  End

; ***DESIGN parameters ***
  DisplayName      = OBJECT:Khrizantema
  Side = Boss
  EditorSorting   = VEHICLE
  TransportSlotCount = 3                 ;how many "slots" we take in a transport (0 == not transportable)
  ; WeaponSet
    ; Conditions = None
	; Weapon = PRIMARY Khrizantema
  ; End
  WeaponSet
    Conditions = None
    ;Weapon = TERTIARY DeployRiderLogicWeapon
  End

  WeaponSet
    Conditions = WEAPON_RIDER1
    ;Weapon = TERTIARY DeployRiderLogicWeapon
    ;AutoChooseSources = TERTIARY FROM_SCRIPT
  End

  WeaponSet
    Conditions = WEAPON_RIDER2
    Weapon = PRIMARY Khrizantema
  End

  ; WeaponSet
    ; Conditions = WEAPON_RIDER2 PLAYER_UPGRADE
    ; Weapon = PRIMARY KhrizantemaUG
  ; End
  

  ArmorSet
    Conditions      = None
    Armor           = LightTankArmor
    DamageFX        = TankDamageFX
  End

  ; ArmorSet
    ; Conditions            = PLAYER_UPGRADE
    ; Armor                 = LightTankArmor
    ; DamageFX              = TankDamageFX
  ; End

  BuildCost       = 18000
  BuildTime       = 21.0          ;in seconds    
  VisionRange     = 375
  ShroudClearingRange = 350
  Prerequisites
    Object = Boss_WarFactory
	Object = Boss_TechCentr
  End

  ExperienceValue         = 100 100 175 300  ;Experience point value at each level
  ExperienceRequired      = 0 300 500 800   ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet      = KhrizantemaDeployCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect     = KHRVoiceSelect
  VoiceMove       = KHRVoiceMove
  VoiceGuard      = KHRVoiceGuard
  VoiceAttack     = KHRVoiceAttack
  SoundMoveStart  = MicrowaveTankMoveStart
  SoundMoveStartDamaged = MicrowaveTankMoveStart
  SoundEnter = NoSound
  SoundExit = NoSound

  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate     = KHRVoiceCreate
    TurretMoveStart = NoSound
    TurretMoveLoop  = TurretMoveLoopLoud
    VoiceCrush      = NoSound
    VoiceEnter      = FrequencyJammerVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority     = UNIT
  KindOf            = SALVAGER PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE
  
  Body              = ActiveBody ModuleTag_03
    MaxHealth       = 800.0
    InitialHealth   = 800.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 600
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

  Behavior = AIUpdateInterface ModuleTag_04
    Turret
      TurretTurnRate = 220   ; turn rate, in degrees per sec
      ControlledWeaponSlots = PRIMARY
      FiresWhileTurning     = Yes
    End
    AutoAcquireEnemiesWhenIdle = Yes
    MoodAttackCheckRate = 500
  End

  Locomotor = SET_NORMAL KhrizantemaLocomotor
  Locomotor = SET_SLUGGISH KhrizantemaDeployedLocomotor

  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 40.0
  End

;Upgrades----------------------------------------------------------
  ; Behavior                = ArmorUpgrade Upgrade_01
    ; TriggeredBy           = Upgrade_Reflection
  ; End
  ; Behavior = WeaponSetUpgrade Upgrade_02
    ; TriggeredBy = Upgrade_Range
  ; End 
  ; Behavior = WeaponBonusUpgrade Upgrade_03
    ; TriggeredBy = Upgrade_Tankgun
  ; End

;  Behavior = ObjectCreationUpgrade Upgrade_04
;    UpgradeObject = OCL_DeployRiderLogic
;    TriggeredBy   = Upgrade_AirRadarDrone
;  End

;  Behavior = ObjectCreationUpgrade Upgrade_05
;    UpgradeObject = OCL_PackRiderLogic
;    TriggeredBy   = Upgrade_Down
;  End

;  Behavior = CommandSetUpgrade Deploy_01
;    CommandSet = KhrizantemaDeployCommandSet
;    TriggeredBy = Upgrade_AirRadarDrone
;    ConflictsWith = Upgrade_Down
;    RequiresAllTriggers = Yes
;  End

;  Behavior = CommandSetUpgrade Pack_01
;    TriggeredBy = Upgrade_Down
;    CommandSet = KhrizantemaDeployCommandSet
;    ConflictsWith = Upgrade_AirRadarDrone
;    RequiresAllTriggers = Yes
;  End

;Deaths-------------------------------------------------------------
  ; Catch fire, and explode death
  Behavior = SlowDeathBehavior DeathTag_01
    ;DeathTypes = ALL -CRUSHED -SPLATTED -POISONED -POISONED_BETA -EXTRA_8
	DeathTypes = ALL -CRUSHED -SPLATTED -POISONED -POISONED_BETA
    FX = INITIAL  FX_BigTruckDeathFX
    FX = FINAL  FX_BuggyNewDeathExplosion
    OCL = FINAL  OCL_KHRDebris
  End
    Behavior = SlowDeathBehavior DeathTag_02
    ;DeathTypes = ALL -CRUSHED -SPLATTED -POISONED -POISONED_BETA -EXTRA_8
	DeathTypes = ALL -CRUSHED -SPLATTED -POISONED -POISONED_BETA
    RequiredStatus = DEPLOYED
    FX  = INITIAL  FX_BuggyNewDeathExplosion
    ;OCL = INITIAL OCL_BRDMRandomRockets
    FX  =  FINAL FX_BigTruckDeathFX ;FX_ArmouredVehicleDeathExplosion
    OCL = FINAL OCL_KHRDebris
  End
  ; A crushing defeat
  Behavior = FXListDie DeathTag_03
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  Behavior = CreateObjectDie DeathTag_04
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_KHRDebris
  End
  Behavior = DestroyDie DeathTag_05
    DeathTypes = NONE +CRUSHED +SPLATTED
  End
  ;Radiation
  ; Behavior = SlowDeathBehavior DeathTag_06
    ; DeathTypes = NONE +EXTRA_8
    ; FX  = INITIAL FX_VehicleRadiationDeath
    ; SinkRate = 2.5
    ; SinkDelay = 6000
    ; DestructionDelay = 14000
  ; End
;Poison
  Behavior = SlowDeathBehavior DeathTag_07
    DeathTypes = NONE +POISONED
    FX  = INITIAL FX_VehiclePoisonDeath
    SinkRate = 2.5
    SinkDelay = 6000
    DestructionDelay = 14000
  End
;PoisonBeta
    Behavior = SlowDeathBehavior DeathTag_08
    DeathTypes = NONE +POISONED_BETA
    FX  = INITIAL FX_VehiclePoisonBetaDeath
    SinkRate = 2.5
    SinkDelay = 6000
    DestructionDelay = 14000
  End
;Stealth-------------------------------------------------------------
;---------------------------------------------------------------------

  Behavior = TransitionDamageFX ModuleTag_06
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_ScudLauncherDamageTransition
  End

  ; Behavior = CreateCrateDie ModuleTag_07
    ; CrateData = SalvageCrateData
    ; ;CrateData = EliteTankCrateData
    ; ;CrateData = HeroicTankCrateData
  ; End


  Behavior = FlammableUpdate ModuleTag_08
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior    = OCLSpecialPower ModuleTag_Rider02
    SpecialPowerTemplate = SpecialAbilityDeploy
    OCL                  = OCL_DeployRiderLogic
    CreateLocation       = USE_OWNER_OBJECT
  End

  Behavior    = OCLSpecialPower ModuleTag_Rider03
    SpecialPowerTemplate = SpecialAbilityPack
    OCL                  = OCL_PackRiderLogic
    CreateLocation       = USE_OWNER_OBJECT
  End

  ; Behavior           = OCLSpecialPower ModuleTag_09
    ; SpecialPowerTemplate = SuperweaponSmokeGrenades
    ; OCL                  = OCL_ShtoraFireObject
    ; CreateLocation       = USE_OWNER_OBJECT
  ; End

  ; Behavior = MissileLauncherBuildingUpdate ModuleTag_10
    ; SpecialPowerTemplate = SuperweaponSmokeGrenades
    ; DoorOpenTime         = 1000
    ; DoorWaitOpenTime     = 1000
    ; DoorCloseTime        = 6000
  ; End

;----------------------------------------RIDER LOGIC----------------------------------------
  Behavior = RiderChangeContain ModuleTag_Rider01
    Rider1 = SS27UnArmedRider       RIDER1 WEAPON_RIDER1 STATUS_RIDER1 KhrizantemaDeployCommandSet SET_NORMAL
    Rider2 = SS27ArmedRider           RIDER2 WEAPON_RIDER2 STATUS_RIDER2 KhrizantemaPackCommandSet SET_SLUGGISH
    ScuttleDelay          = 1
    ScuttleStatus         = TOPPLED
    Slots                 = 1
    InitialPayload        = SS27ArmedRider  1
    BurnedDeathToUnits    = No    ; And no Burned death.
    AllowInsideKindOf     = PRELOAD
  End

;  Behavior = ProductionUpdate ModuleTag_11
;    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
;  End

  Behavior = StealthUpdate ModuleStealth_GPSScramblerGenericStealthModule
    StealthDelay                = 2000 ; msec
    InnateStealth               = Yes
    StealthForbiddenConditions  = ATTACKING USING_ABILITY
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
    RequiredStatus = REASSIGN_PARKING
  End


  Geometry            = BOX
  GeometryMajorRadius = 13.0
  GeometryMinorRadius = 9.0
  GeometryHeight      = 12.0     
  GeometryIsSmall     = Yes
  Shadow              = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length    
End

;-----------------------------------------------------------------------------------------------------------------
Object Boss_SovietVehiclePion

  ; *** ART Parameters ***
  SelectPortrait         = SNNukeCannon_L
  ButtonImage            = SNNukeCannon
  
  UpgradeCameo1 = Upgrade_GLAJunkRepair
  UpgradeCameo2 = Upgrade_ChinaNeutronShells
  ;UpgradeCameo2 = Upgrade_GLAPionRange

  Draw = W3DTankDraw ModuleTag_01
    
    InitialRecoilSpeed   = 120
    MaxRecoilDistance    = 8
    RecoilSettleSpeed    = 6

    OkToChangeModelColor = Yes

    DefaultConditionState
      Model                           = UVPion
      WeaponLaunchBone                = PRIMARY Muzzle01
      WeaponMuzzleFlash               = PRIMARY BARRELFX01
      WeaponFireFXBone                = PRIMARY Muzzle01
      WeaponRecoilBone                = PRIMARY Barrel01
      HideSubObject                   = BARREL02 FIRST01 Second01 Muzzle02 BARRELFX02
      ;ShowSubObject                   = TURRETFRONT TURRETBACK  ;Show pack/unpack animated turret
      ;Turret                          = TURRET01
    End
      
    ConditionState                    = RUBBLE
      Model                           = UVPion_D
      WeaponLaunchBone                = PRIMARY Muzzle01
      WeaponMuzzleFlash               = PRIMARY BARRELFX01
      WeaponFireFXBone                = PRIMARY Muzzle01
      WeaponRecoilBone                = PRIMARY Barrel01
      HideSubObject                   = BARREL02 FIRST01 Second01 Muzzle02 BARRELFX02
      ;ShowSubObject                   = TURRETFRONT TURRETBACK  ;Show pack/unpack animated turret
      ;Turret                          = TURRET01
    End

    ;*** PACKED STATE -- ready to move ***
    ConditionState    = MOVING
      Animation       = UVPion.UVPion
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_FIRST
      HideSubObject                   = BARREL02 FIRST01 Second01 Muzzle02 BARRELFX02
    End
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_A ;Very long shot delay -- possibly moving
    AliasConditionState = BETWEEN_FIRING_SHOTS_A
    ;***
    ConditionState    = REALLYDAMAGED MOVING
      Model           = UVPion_D
      Animation       = UVPion_D.UVPion_D
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_FIRST
      HideSubObject                   = BARREL02 FIRST01 Second01 Muzzle02 BARRELFX02
    End
    AliasConditionState = REALLYDAMAGED MOVING BETWEEN_FIRING_SHOTS_A ;Very long shot delay -- possibly moving
     

    ;*** UNPACKING STATE  -- preparing to fire ***
    ConditionState    = UNPACKING
      Animation       = UVPion.UVPion
      AnimationMode   = MANUAL
      HideSubObject                   = BARREL02 FIRST01 Second01 Muzzle02 BARRELFX02
    End
    AliasConditionState = UNPACKING BETWEEN_FIRING_SHOTS_A ;Very long shot delay
    ;***
    ConditionState    = REALLYDAMAGED UNPACKING
      Model           = UVPion_D
      Animation       = UVPion_D.UVPion_D
      AnimationMode   = MANUAL
      HideSubObject                   = BARREL02 FIRST01 Second01 Muzzle02 BARRELFX02
    End
    AliasConditionState = REALLYDAMAGED UNPACKING BETWEEN_FIRING_SHOTS_A ;Very long shot delay

    ;*** PACKING STATE -- preparing to move ***
    ConditionState    = PACKING
      Animation       = UVPion.UVPion
      AnimationMode   = MANUAL
      HideSubObject                   = BARREL02 FIRST01 Second01 Muzzle02 BARRELFX02
    End
    AliasConditionState = PACKING BETWEEN_FIRING_SHOTS_A ;Very long shot delay
    ;***
    ConditionState    = REALLYDAMAGED PACKING
      Model           = UVPion_D
      Animation       = UVPion_D.UVPion_D
      AnimationMode   = MANUAL
      HideSubObject                   = BARREL02 FIRST01 Second01 Muzzle02 BARRELFX02
    End
    AliasConditionState = REALLYDAMAGED PACKING BETWEEN_FIRING_SHOTS_A ;Very long shot delay
    AliasConditionState = REALLYDAMAGED PACKING BETWEEN_FIRING_SHOTS_B ;Very long shot delay

    ;*** DEPLOYED STATE -- ready to fire ***
    ConditionState  = DEPLOYED 
      Animation       = UVPion.UVPion
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
      TransitionKey   = TRANS_FIRING_A
      HideSubObject                   = BARREL02 FIRST01 Second01 Muzzle02 BARRELFX02
      ;ShowSubObject   = TURRET01      ;Show controlled turret
    End
    AliasConditionState = DEPLOYED FIRING_A
    AliasConditionState = DEPLOYED BETWEEN_FIRING_SHOTS_A
    AliasConditionState = DEPLOYED RELOADING_A
    AliasConditionState = DEPLOYED MOVING

    ConditionState  = DEPLOYED REALLYDAMAGED
      Model           = UVPion_D
      Animation       = UVPion_D.UVPion_D
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
      TransitionKey   = TRANS_FIRING_A
      HideSubObject                   = BARREL02 FIRST01 Second01 Muzzle02 BARRELFX02
      ;ShowSubObject   = TURRET01      ;Show controlled turret
    End
    AliasConditionState = DEPLOYED REALLYDAMAGED FIRING_A
    AliasConditionState = DEPLOYED REALLYDAMAGED BETWEEN_FIRING_SHOTS_A
    AliasConditionState = DEPLOYED REALLYDAMAGED RELOADING_A
    AliasConditionState = DEPLOYED REALLYDAMAGED MOVING
    
    ConditionState = WEAPONSET_CRATEUPGRADE_ONE 
      Model                           = UVPion
      WeaponLaunchBone                = PRIMARY Muzzle01
      WeaponMuzzleFlash               = PRIMARY BARRELFX01
      WeaponFireFXBone                = PRIMARY Muzzle01
      WeaponRecoilBone                = PRIMARY Barrel01
      HideSubObject                   = BARREL02 Second01 Muzzle02 BARRELFX02
      ShowSubObject                   = FIRST01 
      ;Turret                          = TURRET01
    End
      
    ConditionState                    = WEAPONSET_CRATEUPGRADE_ONE RUBBLE
      Model                           = UVPion_D
      WeaponLaunchBone                = PRIMARY Muzzle01
      WeaponMuzzleFlash               = PRIMARY BARRELFX01
      WeaponFireFXBone                = PRIMARY Muzzle01
      WeaponRecoilBone                = PRIMARY Barrel01
      HideSubObject                   = BARREL02 Second01 Muzzle02 BARRELFX02
      ShowSubObject                   = FIRST01 
      ;Turret                          = TURRET01
    End

    ;*** PACKED STATE -- ready to move ***
    ConditionState    = WEAPONSET_CRATEUPGRADE_ONE MOVING
      Animation       = UVPion.UVPion
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_FIRST
      HideSubObject                   = BARREL02 Second01 Muzzle02 BARRELFX02
      ShowSubObject                   = FIRST01 
    End
    AliasConditionState = WEAPONSET_CRATEUPGRADE_ONE MOVING BETWEEN_FIRING_SHOTS_A ;Very long shot delay -- possibly moving
    AliasConditionState = WEAPONSET_CRATEUPGRADE_ONE BETWEEN_FIRING_SHOTS_A
    ;***
    ConditionState    = WEAPONSET_CRATEUPGRADE_ONE REALLYDAMAGED MOVING
      Model           = UVPion_D
      Animation       = UVPion_D.UVPion_D
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_FIRST
      HideSubObject                   = BARREL02 Second01 Muzzle02 BARRELFX02
      ShowSubObject                   = FIRST01 
    End
    AliasConditionState = WEAPONSET_CRATEUPGRADE_ONE REALLYDAMAGED MOVING BETWEEN_FIRING_SHOTS_A ;Very long shot delay -- possibly moving
     

    ;*** UNPACKING STATE  -- preparing to fire ***
    ConditionState    = WEAPONSET_CRATEUPGRADE_ONE UNPACKING
      Animation       = UVPion.UVPion
      AnimationMode   = MANUAL
      HideSubObject                   = BARREL02 Second01 Muzzle02 BARRELFX02
      ShowSubObject                   = FIRST01 
    End
    AliasConditionState = WEAPONSET_CRATEUPGRADE_ONE UNPACKING BETWEEN_FIRING_SHOTS_A ;Very long shot delay
    ;***
    ConditionState    = WEAPONSET_CRATEUPGRADE_ONE REALLYDAMAGED UNPACKING
      Model           = UVPion_D
      Animation       = UVPion_D.UVPion_D
      AnimationMode   = MANUAL
      HideSubObject                   = BARREL02 Second01 Muzzle02 BARRELFX02
      ShowSubObject                   = FIRST01 
    End
    AliasConditionState = WEAPONSET_CRATEUPGRADE_ONE REALLYDAMAGED UNPACKING BETWEEN_FIRING_SHOTS_A ;Very long shot delay

    ;*** PACKING STATE -- preparing to move ***
    ConditionState    = WEAPONSET_CRATEUPGRADE_ONE PACKING
      Animation       = UVPion.UVPion
      AnimationMode   = MANUAL
      HideSubObject                   = BARREL02 Second01 Muzzle02 BARRELFX02
      ShowSubObject                   = FIRST01 
    End
    AliasConditionState = WEAPONSET_CRATEUPGRADE_ONE PACKING BETWEEN_FIRING_SHOTS_A ;Very long shot delay
    ;***
    ConditionState    = WEAPONSET_CRATEUPGRADE_ONE REALLYDAMAGED PACKING
      Model           = UVPion_D
      Animation       = UVPion_D.UVPion_D
      AnimationMode   = MANUAL
      HideSubObject                   = BARREL02 Second01 Muzzle02 BARRELFX02
      ShowSubObject                   = FIRST01 
    End
    AliasConditionState = WEAPONSET_CRATEUPGRADE_ONE REALLYDAMAGED PACKING BETWEEN_FIRING_SHOTS_A ;Very long shot delay
    AliasConditionState = WEAPONSET_CRATEUPGRADE_ONE REALLYDAMAGED PACKING BETWEEN_FIRING_SHOTS_B ;Very long shot delay

    ;*** DEPLOYED STATE -- ready to fire ***
    ConditionState  = WEAPONSET_CRATEUPGRADE_ONE DEPLOYED 
      Animation       = UVPion.UVPion
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
      TransitionKey   = TRANS_FIRING_A
      HideSubObject                   = BARREL02 Second01 Muzzle02 BARRELFX02
      ShowSubObject                   = FIRST01
    End
    AliasConditionState = WEAPONSET_CRATEUPGRADE_ONE DEPLOYED FIRING_A
    AliasConditionState = WEAPONSET_CRATEUPGRADE_ONE DEPLOYED BETWEEN_FIRING_SHOTS_A
    AliasConditionState = WEAPONSET_CRATEUPGRADE_ONE DEPLOYED RELOADING_A
    AliasConditionState = WEAPONSET_CRATEUPGRADE_ONE DEPLOYED MOVING

    ConditionState  = WEAPONSET_CRATEUPGRADE_ONE DEPLOYED REALLYDAMAGED
      Model           = UVPion_D
      Animation       = UVPion_D.UVPion_D
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
      TransitionKey   = TRANS_FIRING_A
      HideSubObject                   = BARREL02 Second01 Muzzle02 BARRELFX02
      ShowSubObject                   = FIRST01
    End
    AliasConditionState =WEAPONSET_CRATEUPGRADE_ONE  DEPLOYED REALLYDAMAGED FIRING_A
    AliasConditionState = WEAPONSET_CRATEUPGRADE_ONE DEPLOYED REALLYDAMAGED BETWEEN_FIRING_SHOTS_A
    AliasConditionState = WEAPONSET_CRATEUPGRADE_ONE DEPLOYED REALLYDAMAGED RELOADING_A
    AliasConditionState = WEAPONSET_CRATEUPGRADE_ONE DEPLOYED REALLYDAMAGED MOVING



    ConditionState = WEAPONSET_CRATEUPGRADE_TWO 
      Model                           = UVPion
      WeaponLaunchBone                = PRIMARY Muzzle02
      WeaponMuzzleFlash               = PRIMARY BARRELFX02
      WeaponFireFXBone                = PRIMARY Muzzle02
      WeaponRecoilBone                = PRIMARY Barrel02
      HideSubObject                   = BARREL01 Muzzle01 BARRELFX01
      ShowSubObject                   = FIRST01 Second01 Muzzle02 BARRELFX02 BARREL02
      ;Turret                          = TURRET01
    End
      
    ConditionState                    = WEAPONSET_CRATEUPGRADE_TWO RUBBLE
      Model                           = UVPion_D
      WeaponLaunchBone                = PRIMARY Muzzle02
      WeaponMuzzleFlash               = PRIMARY BARRELFX02
      WeaponFireFXBone                = PRIMARY Muzzle02
      WeaponRecoilBone                = PRIMARY Barrel02
      HideSubObject                   = BARREL01 Muzzle01 BARRELFX01
      ShowSubObject                   = FIRST01 Second01 Muzzle02 BARRELFX02 BARREL02
      ;Turret                          = TURRET01
    End

    ;*** PACKED STATE -- ready to move ***
    ConditionState    = WEAPONSET_CRATEUPGRADE_TWO MOVING
      Animation       = UVPion.UVPion
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_FIRST
      HideSubObject                   = BARREL01 Muzzle01 BARRELFX01
      ShowSubObject                   = FIRST01 Second01 Muzzle02 BARRELFX02 BARREL02
    End
    AliasConditionState = WEAPONSET_CRATEUPGRADE_TWO MOVING BETWEEN_FIRING_SHOTS_A ;Very long shot delay -- possibly moving
    AliasConditionState = WEAPONSET_CRATEUPGRADE_TWO BETWEEN_FIRING_SHOTS_A
    ;***
    ConditionState    = WEAPONSET_CRATEUPGRADE_TWO REALLYDAMAGED MOVING
      Model           = UVPion_D
      Animation       = UVPion_D.UVPion_D
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_FIRST
      HideSubObject                   = BARREL01 Muzzle01 BARRELFX01
      ShowSubObject                   = FIRST01 Second01 Muzzle02 BARRELFX02 BARREL02
    End
    AliasConditionState = WEAPONSET_CRATEUPGRADE_TWO REALLYDAMAGED MOVING BETWEEN_FIRING_SHOTS_A ;Very long shot delay -- possibly moving
     

    ;*** UNPACKING STATE  -- preparing to fire ***
    ConditionState    = WEAPONSET_CRATEUPGRADE_TWO UNPACKING
      Animation       = UVPion.UVPion
      AnimationMode   = MANUAL
      HideSubObject                   = BARREL01 Muzzle01 BARRELFX01
      ShowSubObject                   = FIRST01 Second01 Muzzle02 BARRELFX02 BARREL02
    End
    AliasConditionState = WEAPONSET_CRATEUPGRADE_TWO UNPACKING BETWEEN_FIRING_SHOTS_A ;Very long shot delay
    ;***
    ConditionState    = WEAPONSET_CRATEUPGRADE_TWO REALLYDAMAGED UNPACKING
      Model           = UVPion_D
      Animation       = UVPion_D.UVPion_D
      AnimationMode   = MANUAL
      HideSubObject                   = BARREL01 Muzzle01 BARRELFX01
      ShowSubObject                   = FIRST01 Second01 Muzzle02 BARRELFX02 BARREL02
    End
    AliasConditionState = WEAPONSET_CRATEUPGRADE_TWO REALLYDAMAGED UNPACKING BETWEEN_FIRING_SHOTS_A ;Very long shot delay

    ;*** PACKING STATE -- preparing to move ***
    ConditionState    = WEAPONSET_CRATEUPGRADE_TWO PACKING
      Animation       = UVPion.UVPion
      AnimationMode   = MANUAL
      HideSubObject                   = BARREL01 Muzzle01 BARRELFX01
      ShowSubObject                   = FIRST01 Second01 Muzzle02 BARRELFX02 BARREL02
    End
    AliasConditionState = WEAPONSET_CRATEUPGRADE_TWO PACKING BETWEEN_FIRING_SHOTS_A ;Very long shot delay
    ;***
    ConditionState    = WEAPONSET_CRATEUPGRADE_TWO REALLYDAMAGED PACKING
      Model           = UVPion_D
      Animation       = UVPion_D.UVPion_D
      AnimationMode   = MANUAL
      HideSubObject                   = BARREL01 Muzzle01 BARRELFX01
      ShowSubObject                   = FIRST01 Second01 Muzzle02 BARRELFX02 BARREL02
    End
    AliasConditionState = WEAPONSET_CRATEUPGRADE_TWO REALLYDAMAGED PACKING BETWEEN_FIRING_SHOTS_A ;Very long shot delay
    AliasConditionState = WEAPONSET_CRATEUPGRADE_TWO REALLYDAMAGED PACKING BETWEEN_FIRING_SHOTS_B ;Very long shot delay

    ;*** DEPLOYED STATE -- ready to fire ***
    ConditionState  = WEAPONSET_CRATEUPGRADE_TWO DEPLOYED 
      Animation       = UVPion.UVPion
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
      TransitionKey   = TRANS_FIRING_A
      HideSubObject                   = BARREL01 Muzzle01 BARRELFX01
      ShowSubObject                   = FIRST01 Second01 Muzzle02 BARRELFX02 BARREL02
    End
    AliasConditionState = WEAPONSET_CRATEUPGRADE_TWO DEPLOYED FIRING_A
    AliasConditionState = WEAPONSET_CRATEUPGRADE_TWO DEPLOYED BETWEEN_FIRING_SHOTS_A
    AliasConditionState = WEAPONSET_CRATEUPGRADE_TWO DEPLOYED RELOADING_A
    AliasConditionState = WEAPONSET_CRATEUPGRADE_TWO DEPLOYED MOVING

    ConditionState  = WEAPONSET_CRATEUPGRADE_TWO DEPLOYED REALLYDAMAGED
      Model           = UVPion_D
      Animation       = UVPion_D.UVPion_D
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
      TransitionKey   = TRANS_FIRING_A
      HideSubObject                   = BARREL01 Muzzle01 BARRELFX01
      ShowSubObject                   = FIRST01 Second01 Muzzle02 BARRELFX02 BARREL02
    End
    AliasConditionState WEAPONSET_CRATEUPGRADE_TWO DEPLOYED REALLYDAMAGED FIRING_A
    AliasConditionState = WEAPONSET_CRATEUPGRADE_TWO DEPLOYED REALLYDAMAGED BETWEEN_FIRING_SHOTS_A
    AliasConditionState = WEAPONSET_CRATEUPGRADE_TWO DEPLOYED REALLYDAMAGED RELOADING_A
    AliasConditionState = WEAPONSET_CRATEUPGRADE_TWO DEPLOYED REALLYDAMAGED MOVING

    TrackMarks              = EXTnkTrack.tga
    TreadAnimationRate      = 4.0  ; amount of tread texture to move per second
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Pion
  Side             = Boss
  EditorSorting    = VEHICLE
  TransportSlotCount = 10                 ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions = None 
    Weapon = PRIMARY PionCannonGun
    Weapon = SECONDARY NukeCannonNeutronWeapon
    AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
    AutoChooseSources = SECONDARY FROM_SCRIPT FROM_AI
    ShareWeaponReloadTime = Yes
  End
  WeaponSet
    Conditions = PLAYER_UPGRADE 
    Weapon = PRIMARY NukeCannonGun
    Weapon = SECONDARY NukeCannonNeutronWeapon
    AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
    AutoChooseSources = SECONDARY FROM_SCRIPT FROM_AI
    ShareWeaponReloadTime = Yes
  End

  ArmorSet
    Conditions      = None
    Armor           = ArtilleryVehicleArmor
    DamageFX        = TankDamageFX
  End

  BuildCost       = 20000
  BuildTime       = 18.0          ;in seconds    
  VisionRange     = 200
  ShroudClearingRange = 600
  Prerequisites
    Object = Boss_WarFactory
    Object = Boss_TechCentr
  End

  ExperienceValue         = 150 150 250 400  ;Experience point value at each level
  ExperienceRequired      = 0 600 1200 1800   ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet    = SovietVehiclePionCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = 2S7Select
  VoiceMove = 2S7Move
  VoiceGuard = 2S7Guard
  VoiceAttack = 2S7Attack
  SoundStealthOn = StealthOn
  SoundStealthOff = StealthOff
  SoundMoveStart = ScudLauncherMoveStart
  SoundMoveStartDamaged = ScudLauncherMoveStart
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate       = 2S7Create
    TurretMoveStart = NoSound
    TurretMoveLoop = TurretMoveLoop
    TruckLandingSound = NoSound
    TruckPowerslideSound = NoSound
    VoiceCrush = 2S7Attack
    VoiceEnter = 2S7Move
    ;VoicePrimaryWeaponMode = ScudLauncherVoiceModeHiEx
    ;VoiceSecondaryWeaponMode = ScudLauncherVoiceModeAnthrax
    Deploy              = NukeCannonDeploy
    Undeploy            = NukeCannonUnDeploy
  End


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK DONT_AUTO_CRUSH_INFANTRY CAN_CAST_REFLECTIONS VEHICLE SALVAGER WEAPON_SALVAGER SCORE
  
  Body = ActiveBody ModuleTag_02
    MaxHealth       = 400.0
    InitialHealth   = 400.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 480
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

  Behavior = DeployStyleAIUpdate ModuleTag_03
    AutoAcquireEnemiesWhenIdle = No
    PackTime = 3333
    UnpackTime = 3333
    TurretsFunctionOnlyWhenDeployed = Yes
    TurretsMustCenterBeforePacking = Yes
    ManualDeployAnimations = Yes
  End

  Locomotor = SET_NORMAL ChinaNukeCannonLocomotor
  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 50.0
  End

;Upgrades----------------------------------------------------------
  Behavior = AutoHealBehavior Upgrade_01
    HealingAmount = 2.5
    HealingDelay = 1000 ; msec
    TriggeredBy = Upgrade_GLAJunkRepair
  End
  ; Behavior = WeaponBonusUpgrade Upgrade_02
    ; TriggeredBy = Upgrade_GLAPionRange
  ; End
  Behavior = WeaponSetUpgrade Upgrade_02
    TriggeredBy = Upgrade_ChinaTacticalNukeMig
  End
  
;Deaths-------------------------------------------------------------
  Behavior = SlowDeathBehavior DeathTag_01
    ;DeathTypes = ALL -CRUSHED -SPLATTED -POISONED -POISONED_BETA -EXTRA_8
	DeathTypes = ALL -CRUSHED -SPLATTED -POISONED -POISONED_BETA
    FX  = INITIAL  FX_GenericTankDeathEffect
    OCL = MIDPOINT OCL_GenericTankDeathEffect
    FX  = FINAL    FX_GenericTankDeathExplosion
    OCL = FINAL OCL_GLAPionCannonDie
  End
  Behavior = SlowDeathBehavior DeathTag_02
    ;DeathTypes = ALL -CRUSHED -SPLATTED -POISONED -POISONED_BETA -EXTRA_8
	DeathTypes = ALL -CRUSHED -SPLATTED -POISONED -POISONED_BETA
    FX  = INITIAL  FX_BigMissileCarrierDeath
    OCL = MIDPOINT OCL_GenericTankDeathEffect
    OCL = FINAL OCL_GLAPionCannonDie
  End
  ; A crushing defeat
  Behavior = FXListDie DeathTag_03
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  Behavior = CreateObjectDie DeathTag_04
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_GLAPionCannonDie
  End
  Behavior = DestroyDie DeathTag_05
    DeathTypes = NONE +CRUSHED +SPLATTED
  End
  ;Radiation
  ; Behavior = SlowDeathBehavior DeathTag_06
    ; DeathTypes = NONE +EXTRA_8
    ; FX  = INITIAL FX_VehicleRadiationDeath
    ; SinkRate = 2.5
    ; SinkDelay = 6000
    ; DestructionDelay = 14000
  ; End
;Poison
  Behavior = SlowDeathBehavior DeathTag_07
    DeathTypes = NONE +POISONED
    FX  = INITIAL FX_VehiclePoisonDeath
    SinkRate = 2.5
    SinkDelay = 6000
    DestructionDelay = 14000
  End
;PoisonBeta
    Behavior = SlowDeathBehavior DeathTag_08
    DeathTypes = NONE +POISONED_BETA
    FX  = INITIAL FX_VehiclePoisonBetaDeath
    SinkRate = 2.5
    SinkDelay = 6000
    DestructionDelay = 14000
  End
;Stealth-------------------------------------------------------------
  Behavior = StealthUpdate ModuleStealth_GPSScramblerGenericStealthModule
    StealthDelay                = 2000 ; msec
    InnateStealth               = Yes
    StealthForbiddenConditions  = ATTACKING USING_ABILITY
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
    RequiredStatus = REASSIGN_PARKING
  End
;---------------------------------------------------------------------

  ; Behavior = CreateCrateDie ModuleTag_05
    ; CrateData = SalvageCrateData2
    ; ;CrateData = EliteTankCrateData
    ; ;CrateData = HeroicTankCrateData
  ; End

  Behavior                 = TransitionDamageFX ModuleTag_06
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_NukeCannonDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_07
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Geometry = BOX
  GeometryMajorRadius = 28.0
  GeometryMinorRadius = 9.0
  GeometryHeight = 17.0     
  GeometryIsSmall = No
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length   
  Scale = 1.05  
End

;------------------------------------------------------------------------------------------
Object Boss_RussiaVehicleBTR90

  ; *** ART Parameters ***
  SelectPortrait         = SNTCrwlrTG_L
  ButtonImage            = SNTCrwlrTG
  
  ;UpgradeCameo1 = Upgrade_BTR90MP
  ;UpgradeCameo1 = Upgrade_Reflection

  Draw = W3DTruckDraw ModuleTag_01
    OkToChangeModelColor = Yes
    ConditionState = NONE
      Model = RUBTR-90
      Turret              = Turret01
      HideSubObject       = WeaponB01 TC NERA
      WeaponFireFXBone    = PRIMARY WeaponA
      WeaponLaunchBone    = PRIMARY WeaponA
      WeaponMuzzleFlash   = PRIMARY BARRELFX
      WeaponFireFXBone    = SECONDARY WeaponB01
      WeaponLaunchBone    = SECONDARY WeaponB01
    End
    ConditionState       = REALLYDAMAGED RUBBLE
      Model = RUBTR-90_D
      Turret              = Turret01
      HideSubObject       = WeaponB01 TC NERA
      WeaponFireFXBone    = PRIMARY WeaponA
      WeaponLaunchBone    = PRIMARY WeaponA
      WeaponMuzzleFlash   = PRIMARY BARRELFX
      WeaponFireFXBone    = SECONDARY WeaponB01
      WeaponLaunchBone    = SECONDARY WeaponB01
    End

    ConditionState = WEAPONSET_PLAYER_UPGRADE
      Model = RUBTR-90
      Turret              = Turret01
      HideSubObject       = NERA
      ShowSubObject       = WeaponB01 TC
      WeaponFireFXBone    = PRIMARY WeaponA
      WeaponLaunchBone    = PRIMARY WeaponA
      WeaponMuzzleFlash   = PRIMARY BARRELFX
      WeaponFireFXBone    = SECONDARY WeaponB01
      WeaponLaunchBone    = SECONDARY WeaponB01
    End
    ConditionState       = REALLYDAMAGED RUBBLE WEAPONSET_PLAYER_UPGRADE
      Model = RUBTR-90_D
      Turret              = Turret01
      HideSubObject       = NERA
      ShowSubObject       = WeaponB01 TC
      WeaponFireFXBone    = PRIMARY WeaponA
      WeaponLaunchBone    = PRIMARY WeaponA
      WeaponMuzzleFlash   = PRIMARY BARRELFX
      WeaponFireFXBone    = SECONDARY WeaponB01
      WeaponLaunchBone    = SECONDARY WeaponB01
    End

    TrackMarks = EXTireTrack.tga

    Dust = RocketBuggyDust
    DirtSpray = RocketBuggyDirtSpray
    ; PowerslideSpray = RocketBuggyDirtPowerSlide doesn't powerslide

    ; These parameters are only used if the model has a separate suspension, 
    ; and the locomotor has HasSuspension = Yes.
    LeftFrontTireBone = Tire01
    RightFrontTireBone = Tire05
    LeftRearTireBone = Tire04
    RightRearTireBone = Tire08
    MidLeftFrontTireBone = Tire02
    MidRightFrontTireBone = Tire06
    MidLeftRearTireBone = Tire03
    MidRightRearTireBone = Tire07

    TireRotationMultiplier      = 0.2   ; this * speed = rotation.
    PowerslideRotationAddition  = 0   ; This vehicle doesn't powerslide.

  End

  Draw = W3DModelDraw ModuleTag_FP01
    DefaultConditionState
      Model = RUBTR_FP
    End
  End

  ; ***DESIGN parameters ***
  DisplayName     = OBJECT:BTR90
  Side            = Boss
  EditorSorting   = VEHICLE
  TransportSlotCount = 3                 ;Just enough to fit into a Chinook.

  WeaponSet
    Conditions          = None
    Weapon              = PRIMARY BTR-90Gun
    PreferredAgainst    = PRIMARY INFANTRY
    AutoChooseSources   = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	Weapon              = SECONDARY BTR-90RocketWeapon
    PreferredAgainst    = SECONDARY VEHICLE STRUCTURE
    AutoChooseSources   = SECONDARY FROM_PLAYER FROM_SCRIPT FROM_AI
  End

;  WeaponSet
;    Conditions = PLAYER_UPGRADE
;    Weapon = PRIMARY BTR-90Gun
;    PreferredAgainst    = PRIMARY     INFANTRY
;    AutoChooseSources   = PRIMARY     FROM_PLAYER FROM_SCRIPT FROM_AI
;    Weapon = SECONDARY BTR-90RocketWeapon
;    PreferredAgainst    = SECONDARY   VEHICLE STRUCTURE
;    AutoChooseSources   = SECONDARY   FROM_PLAYER FROM_SCRIPT FROM_AI
;  End

  ArmorSet
    Conditions      = None
    Armor           = LightVehicleArmor
    DamageFX        = TankDamageFX
  End

  BuildCost       = 800
  BuildTime       = 10.0          ;in seconds    
  VisionRange     = 225           ;Needs to see farther and match it's weapon range -- else troop crawlers will get slaughtered against tanks!
  ShroudClearingRange = 200
  Prerequisites
    Object = Boss_WarFactory Boss_SmallFactory
  End
  ExperienceValue         = 85 85 135 225  ;Experience point value at each level
  ExperienceRequired      = 0 200 300 500   ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = RussianVehicleBTR90CommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = BTR90VoiceSelect
  VoiceMove = BTR90VoiceMove
  VoiceGuard = BTR90VoiceGuard
  VoiceAttack = BTR90VoiceAttack
  SoundMoveStart = TroopCrawlerMoveStart
  SoundMoveStartDamaged = TroopCrawlerMoveStart
  SoundEnter = HumveeEnter
  SoundExit = HumveeExit
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate     = BTR90VoiceCreate
    TurretMoveStart = NoSound
    TurretMoveLoop = TurretMoveLoop
    TruckLandingSound = NoSound ;RocketBuggyLand
    TruckPowerslideSound = NoSound ;RocketBuggyPowerslide
    VoiceCrush = TroopCrawlerVoiceCrush
    VoiceUnload   = BTR90VoiceEvac
    VoiceEnter = BTR90VoiceMove
  End


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = SALVAGER PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS TRANSPORT VEHICLE SCORE ATTACK_NEEDS_LINE_OF_SIGHT
  
  Body = ActiveBody ModuleTag_02
    MaxHealth       = 400
    InitialHealth   = 400

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 480
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      TurretTurnRate = 290   ; turn rate, in degrees per sec
      ControlledWeaponSlots = PRIMARY SECONDARY TERTIARY
      FiresWhileTurning     = Yes
      MinIdleScanInterval   = 2500    ; in milliseconds
      MaxIdleScanInterval   = 7500    ; in milliseconds
      MinIdleScanAngle      = 0       ; in degrees off the natural turret angle
      MaxIdleScanAngle      = 90     ; in degrees off the natural turret angle
    End
    AutoAcquireEnemiesWhenIdle = Yes
  End

  Locomotor = SET_NORMAL BTR90Locomotor
  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 50.0
  End

;Upgrades----------------------------------------------------------
; Behavior = MaxHealthUpgrade Upgrade_Armor
    ; TriggeredBy   = Upgrade_Reflection
    ; AddMaxHealth  = 100.0
    ; ChangeType    = ADD_CURRENT_HEALTH_TOO
  ; End
;Deaths-------------------------------------------------------------
;!!---
  Behavior = SlowDeathBehavior DeathTag_01
    ;DeathTypes = ALL -CRUSHED -SPLATTED -EXPLODED -POISONED -POISONED_BETA -EXTRA_8
	DeathTypes = ALL -CRUSHED -SPLATTED -EXPLODED -POISONED -POISONED_BETA
    FX  = INITIAL   FX_BuggyNewDeathExplosion
    FX  = FINAL     FX_BigTruckDeathFX
    OCL = FINAL    OCL_BTR90Debris
  End
  Behavior = SlowDeathBehavior DeathTag_02
    ;DeathTypes = ALL -CRUSHED -SPLATTED -EXPLODED -POISONED -POISONED_BETA -EXTRA_8
	DeathTypes = ALL -CRUSHED -SPLATTED -EXPLODED -POISONED -POISONED_BETA
    FX  = INITIAL   FX_BuggyNewDeathExplosion
    FX = MIDPOINT FX_BTRBurningAmmo
    FX  = FINAL     FX_BigTruckDeathFX
    OCL = FINAL    OCL_BTR90Debris
  End
  Behavior = SlowDeathBehavior DeathTag_03
    DeathTypes = NONE +EXPLODED
    FX = INITIAL FX_BigTruckDeathFX
    FX  = FINAL    FX_BuggyNewDeathExplosion
    OCL = FINAL    OCL_BTR90DebrisExpl
  End
    Behavior = SlowDeathBehavior DeathTag_04
    DeathTypes = NONE +EXPLODED
    FX = INITIAL FX_BigTruckDeathFX
    FX = MIDPOINT FX_BTRBurningAmmo
    FX  = FINAL    FX_BuggyNewDeathExplosion
    OCL = FINAL    OCL_BTR90DebrisExpl
  End
    ; A crushing defeat
  Behavior = DestroyDie DeathTag_05
    DeathTypes = NONE +CRUSHED +SPLATTED
  End
  Behavior = FXListDie DeathTag_06
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  Behavior = CreateObjectDie DeathTag_07
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_BTR90Debris
  End
  ;Radiation
  ; Behavior = SlowDeathBehavior DeathTag_08
    ; DeathTypes = NONE +EXTRA_8
    ; FX  = INITIAL FX_VehicleRadiationDeath
    ; SinkRate = 2.5
    ; SinkDelay = 6000
    ; DestructionDelay = 14000
  ; End
;Poison
  Behavior = SlowDeathBehavior DeathTag_09
    DeathTypes = NONE +POISONED
    FX  = INITIAL FX_VehiclePoisonDeath
    SinkRate = 2.5
    SinkDelay = 6000
    DestructionDelay = 14000
  End
;PoisonBeta
    Behavior = SlowDeathBehavior DeathTag_10
    DeathTypes = NONE +POISONED_BETA
    FX  = INITIAL FX_VehiclePoisonBetaDeath
    SinkRate = 2.5
    SinkDelay = 6000
    DestructionDelay = 14000
  End
;Stealth-------------------------------------------------------------
;---------------------------------------------------------------------

  Behavior = TransportContain ModuleTag_05
    Slots                 = 7
	;InitialPayload        = Boss_RussiaInfantryConscript 7
    PassengersAllowedToFire = Yes
    ScatterNearbyOnExit   = No
    HealthRegen%PerSec    = 10
    DamagePercentToUnits  = 30%
    AllowInsideKindOf     = INFANTRY
    ;ExitDelay         = 300
    NumberOfExitPaths = 3 ; Defaults to 1.  Set 0 to not use ExitStart/ExitEnd, set higher than 1 to use ExitStart01-nn/ExitEnd01-nn
    GoAggressiveOnExit = Yes ; AI Will tell people to set their mood to Aggressive on exiting
    WeaponBonusPassedToPassengers = Yes
  End

  Behavior                 = TransitionDamageFX ModuleTag_06
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_NukeCannonDamageTransition
  End

  ; Behavior = CreateCrateDie ModuleTag_07
    ; CrateData = SalvageCrateData
    ; ;CrateData = EliteTankCrateData
    ; ;CrateData = HeroicTankCrateData
  ; End

  Behavior = FlammableUpdate ModuleTag_08
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = CommandButtonHuntUpdate  ModuleTag_09 ; allows use of command button hunt script with this unit. 
  End

; Behavior = WeaponBonusUpgrade ModuleTag_GarrisonBonuses01
    ; TriggeredBy = Upgrade_RUSSIA Upgrade_USA Upgrade_CHINA Upgrade_GLA
  ; End

  Behavior = StealthUpdate ModuleStealth_GPSScramblerGenericStealthModule
    StealthDelay                = 2000 ; msec
    InnateStealth               = Yes
    StealthForbiddenConditions  = ATTACKING USING_ABILITY
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
    RequiredStatus = REASSIGN_PARKING
  End

  Geometry = BOX
  GeometryMajorRadius = 14.0
  GeometryMinorRadius = 7.0
  GeometryHeight = 11.0     
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length    
  Scale = 1.0
End

;------------------------------------------------------------------------
Object Boss_RussiaVehicleTiger

  ; *** ART Parameters ***
  SelectPortrait         = AssaultHumvee_L
  ButtonImage            = AssaultHumvee
  
  ;UpgradeCameo1 = Upgrade_BTR90MP
  ;UpgradeCameo2 = Upgrade_Reflection
  ;UpgradeCameo4 = NONE
  ;UpgradeCameo5 = NONE
  
  Draw = W3DTruckDraw ModuleTag_01
    OkToChangeModelColor = Yes

    ConditionState = NONE
      Model = RU_GTiger
      Turret = TURRET01
      HideSubObject = WeaponB01 Muzzle
      WeaponFireFXBone = PRIMARY WEAPONA01
      WeaponLaunchBone    = PRIMARY WEAPONA01
      WeaponMuzzleFlash = PRIMARY WEAPONA01
    End

    ConditionState = REALLYDAMAGED
      Model = RU_GTiger_D
      Turret = TURRET01
      HideSubObject = WeaponB01 Muzzle
      WeaponFireFXBone = PRIMARY WEAPONA01
      WeaponLaunchBone    = PRIMARY WEAPONA01
      WeaponMuzzleFlash = PRIMARY WEAPONA01
    End

    ConditionState = WEAPONSET_PLAYER_UPGRADE
      Model = RU_GTiger
      Turret = TURRET01
      ShowSubObject = WeaponB01 Muzzle
      WeaponFireFXBone = PRIMARY WEAPONA01
      WeaponLaunchBone    = PRIMARY WEAPONA01
      WeaponMuzzleFlash = PRIMARY WEAPONA01
      WeaponFireFXBone = SECONDARY WeaponB
      WeaponLaunchBone = SECONDARY WeaponB
    End

    ConditionState = REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE
      Model = RU_GTiger_D
      Turret = TURRET01
      ShowSubObject = WeaponB01 Muzzle
      WeaponFireFXBone = PRIMARY WEAPONA01
      WeaponLaunchBone    = PRIMARY WEAPONA01
      WeaponMuzzleFlash = PRIMARY WEAPONA01
      WeaponFireFXBone = SECONDARY WeaponB
      WeaponLaunchBone = SECONDARY WeaponB
    End

    TrackMarks = EXTireTrack.tga

    Dust = RocketBuggyDust
    DirtSpray = RocketBuggyDirtSpray
    PowerslideSpray = RocketBuggyDirtPowerSlide

    ; These parameters are only used if the model has a separate suspension, 
    ; and the locomotor has HasSuspension = Yes.
    LeftFrontTireBone = Tire01
    RightFrontTireBone = Tire02
    LeftRearTireBone = Tire03
    RightRearTireBone = Tire04
    TireRotationMultiplier = 0.2   ; this * speed = rotation.
    PowerslideRotationAddition = 1.25   ; This speed is added to the rotation speed when powersliding.

  End

  ; ***DESIGN parameters ***
  DisplayName           = OBJECT:GAZT
  Side                  = Boss
  EditorSorting         = VEHICLE
  TransportSlotCount    = 2                 ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions = None
    Weapon = PRIMARY GazTigerGun
	PreferredAgainst = PRIMARY INFANTRY
    AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	Weapon = SECONDARY BTR-90RocketWeapon
	PreferredAgainst = SECONDARY VEHICLE STRUCTURE
    AutoChooseSources = SECONDARY FROM_PLAYER FROM_SCRIPT FROM_AI
  End

  ; WeaponSet
    ; Conditions = PLAYER_UPGRADE
    ; Weapon = PRIMARY GazTigerGun
    ; PreferredAgainst    = PRIMARY     INFANTRY
    ; AutoChooseSources   = PRIMARY     FROM_PLAYER FROM_SCRIPT FROM_AI
    ; Weapon = SECONDARY BTR-90RocketWeapon ;TigerRocketWeapon
    ; PreferredAgainst    = SECONDARY   VEHICLE STRUCTURE
    ; AutoChooseSources   = SECONDARY   FROM_PLAYER FROM_SCRIPT FROM_AI
  ; End

  ArmorSet
    Conditions      = None
    Armor           = LightVehicleArmor
    DamageFX        = TruckDamageFX
  End

  BuildCost       = 300
  BuildTime       = 8.0          ;in seconds    
  VisionRange     = 210
  ShroudClearingRange = 200
  Prerequisites
    Object = Boss_WarFactory Boss_SmallFactory
  End
  ExperienceValue         = 50 50 100 175  ;Experience point value at each level
  ExperienceRequired      = 0 150 250 400   ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 1  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet      = RussianVehicleTigerCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = TigerSelect
  VoiceMove = TigerMove
  VoiceGuard = TigerGuard
  VoiceAttack = TigerAttack
  SoundMoveStart = HumveeMoveStart
  SoundMoveStartDamaged = HumveeMoveStart
  SoundEnter = HumveeEnter
  SoundExit = HumveeExit

  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    ;TurretMoveStart    = NoSound
    VoiceCreate         = TigerCreate
    TurretMoveLoop      = TurretMoveLoop
    SoundEject          = PilotSoundEject
    VoiceEject          = PilotVoiceEject
    VoiceCrush          = TigerAttack
  ; Required for the W3DTruckDraw module
    TruckLandingSound = RocketBuggyLand
    TruckPowerslideSound = RocketBuggyPowerslide
    VoiceEnter = TigerMove
    VoiceUnload = TigerEvac
  End


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = SALVAGER  PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE TRANSPORT

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 350.0
    InitialHealth   = 350.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 480
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

  Behavior = TransportAIUpdate ModuleTag_03
    Turret
      TurretTurnRate = 370
      RecenterTime = 5000   ; how long to wait during idle before recentering
      ControlledWeaponSlots = PRIMARY SECONDARY TERTIARY
    End
    AutoAcquireEnemiesWhenIdle = Yes
    MoodAttackCheckRate        = 250
  End
  Locomotor = SET_NORMAL GazTigerLocomotor

  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 50.0
  End

;Upgrades----------------------------------------------------------
; Behavior = MaxHealthUpgrade Upgrade_Armor
    ; TriggeredBy   = Upgrade_Reflection
    ; AddMaxHealth  = 75
    ; ChangeType    = ADD_CURRENT_HEALTH_TOO
  ; End
  ; Behavior = WeaponSetUpgrade Upgrade_02
   ; TriggeredBy = Upgrade_BTR90MP
  ; End
;Deaths-------------------------------------------------------------
;-!!!
  Behavior = SlowDeathBehavior DeathTag_01
    ;DeathTypes = ALL -CRUSHED -SPLATTED -EXPLODED -POISONED -POISONED_BETA -EXTRA_8
	DeathTypes = ALL -CRUSHED -SPLATTED -EXPLODED -POISONED -POISONED_BETA
    FX = INITIAL FX_VehicleDieNormal
    FX = MIDPOINT  FX_BigTruckDeathFX
    FX = FINAL FX_BuggyNewDeathExplosion
    OCL = FINAL OCL_GAZTigerDebris
  End
  Behavior = SlowDeathBehavior DeathTag_02
    DeathTypes = NONE +EXPLODED
    OCL = INITIAL  OCL_GAZTExplodedDeathStart
    FX  = INITIAL  FX_BuggyNewDeathExplosion
    FX  =  FINAL  FX_BigTruckDeathFX ;FX_ArmouredVehicleDeathExplosion
    OCL = FINAL OCL_RussiaGunnerOff
  End
;-!!!
  ; A crushing defeat
  Behavior = DestroyDie DeathTag_03
    DeathTypes = NONE +CRUSHED +SPLATTED
  End

  Behavior = FXListDie DeathTag_04
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  Behavior = CreateObjectDie DeathTag_05
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_GAZVDebris
  End
  ;Radiation
  ; Behavior = SlowDeathBehavior DeathTag_06
    ; DeathTypes = NONE +EXTRA_8
    ; FX  = INITIAL FX_VehicleRadiationDeath
    ; SinkRate = 2.5
    ; SinkDelay = 6000
    ; DestructionDelay = 14000
  ; End
;Poison
  Behavior = SlowDeathBehavior DeathTag_07
    DeathTypes = NONE +POISONED
    FX  = INITIAL FX_VehiclePoisonDeath
    SinkRate = 2.5
    SinkDelay = 6000
    DestructionDelay = 14000
  End
;PoisonBeta
    Behavior = SlowDeathBehavior DeathTag_08
    DeathTypes = NONE +POISONED_BETA
    FX  = INITIAL FX_VehiclePoisonBetaDeath
    SinkRate = 2.5
    SinkDelay = 6000
    DestructionDelay = 14000
  End
;Stealth-------------------------------------------------------------
;---------------------------------------------------------------------

  Behavior = TransportContain  ModuleTag_05
    PassengersAllowedToFire = Yes
    Slots                = 4
	;InitialPayload       = Boss_RussiaInfantryConscript 4
    EnterSound           = GarrisonEnter
    ExitSound            = GarrisonExit
    DamagePercentToUnits = 40%
    AllowInsideKindOf    = INFANTRY
    NumberOfExitPaths    = 1 ; Defaults to 1.  Set 0 to not use ExitStart/ExitEnd, set higher than 1 to use ExitStart01-nn/ExitEnd01-nn
    GoAggressiveOnExit   = Yes ; AI Will tell people to set their mood to Aggressive on exiting
    WeaponBonusPassedToPassengers = Yes
  End

  ; Behavior = CreateCrateDie ModuleTag_06
    ; CrateData = SalvageCrateData
    ; ;CrateData = EliteTankCrateData
    ; ;CrateData = HeroicTankCrateData
  ; End

  Behavior = TransitionDamageFX ModuleTag_07
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_08
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

   ; Behavior = WeaponBonusUpgrade ModuleTag_GarrisonBonuses01
     ; TriggeredBy = Upgrade_RUSSIA Upgrade_USA Upgrade_CHINA Upgrade_GLA
   ; End

  Behavior = StealthUpdate ModuleStealth_GPSScramblerGenericStealthModule
    StealthDelay                = 2000 ; msec
    InnateStealth               = Yes
    StealthForbiddenConditions  = ATTACKING USING_ABILITY
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
    RequiredStatus = REASSIGN_PARKING
  End

  Geometry = BOX
  GeometryMajorRadius = 11.0
  GeometryMinorRadius = 6.0
  GeometryHeight = 12.0     
  GeometryIsSmall = Yes 
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length
  Scale = 1.02
End

;-------------------------------------------------------------------------------
Object Boss_RussiaVehicleMedic

  ; *** ART Parameters ***
  SelectPortrait         = SAAmbulance_L
  ButtonImage            = SAAmbulance
  
  UpgradeCameo1 = Upgrade_AmericaAdvancedTraining
  
  Draw = W3DTruckDraw ModuleTag_01

    ; ConditionState = NONE
      ; Model = AVAmbulance
      ; Turret = Turret
      ; TurretPitch = TurretEL
      ; WeaponFireFXBone = PRIMARY WeaponA
      ; WeaponLaunchBone = PRIMARY WeaponA
    ; End
    ; ConditionState       = REALLYDAMAGED
      ; Model              = AVAmbulance_D
      ; Turret = Turret
      ; TurretPitch = TurretEL
      ; WeaponFireFXBone = PRIMARY WeaponA
      ; WeaponLaunchBone = PRIMARY WeaponA
    ; End      
    
    ; ConditionState       = RUBBLE
      ; Model              = AVAmbulance_D
    ; End
	
    ConditionState = NONE
      Model = RU-GazVodnik
      Turret = TURRET01
      WeaponFireFXBone = PRIMARY WeaponA
      WeaponLaunchBone = PRIMARY WeaponA
    End

    ConditionState = REALLYDAMAGED
      Model = RU-GazVodnik_D
      Turret = TURRET01
      WeaponFireFXBone = PRIMARY WeaponA
      WeaponLaunchBone = PRIMARY WeaponA
    End
	
    TrackMarks = EXTireTrack.tga
    OkToChangeModelColor = Yes

    Dust = RocketBuggyDust
    DirtSpray = RocketBuggyDirtSpray
    PowerslideSpray = RocketBuggyDirtPowerSlide

    ; These parameters are only used if the model has a separate suspension, 
    ; and the locomotor has HasSuspension = Yes.
    LeftFrontTireBone = Tire01
    RightFrontTireBone = Tire02
    LeftRearTireBone = Tire03
    RightRearTireBone = Tire04
    TireRotationMultiplier = 0.2        ; this * speed = rotation.
    ;PowerslideRotationAddition = 2.5    ; This speed is added to the rotation speed when powersliding.
	PowerslideRotationAddition = 1.25
  End

  ; ***DESIGN parameters ***
  DisplayName     = OBJECT:Medic
  Side            = Boss
  EditorSorting   = VEHICLE
  TransportSlotCount = 3                 ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet 
    ;*** Fully automated and driven by the CleanupHazardUpdate ***
    Conditions        = None 
    Weapon            = PRIMARY AmbulanceCleanHazardWeapon 
    AutoChooseSources = PRIMARY NONE
  End
  ArmorSet
    Conditions      = None
    Armor           = VodnikArmor 
    DamageFX        = TruckDamageFX
  End
  BuildCost       = 700
  BuildTime       = 10.0          ;in seconds    
  VisionRange     = 100
  ShroudClearingRange = 400
  ; Prerequisites
    ; Object = Boss_WarFactory
  ; End
  ExperienceValue    = 50 50 50 50 ;Experience point value at each level
  IsTrainable     = No
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet      = RussiaVehicleAmbulanceCommandSet
  
  ; *** AUDIO Parameters ***
  VoiceSelect = GazVVoiceSelect
  VoiceMove = GazVVoiceMove
  VoiceGuard = GazVVoiceGuard
  VoiceAttack = GazVVoiceAttack
  SoundMoveStart = HumveeMoveStart
  SoundMoveStartDamaged = HumveeMoveStart
  SoundEnter = HumveeEnter
  SoundExit = HumveeExit

  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate          = GazVVoiceCreate
    TurretMoveStart = NoSound
    TurretMoveLoop = TurretMoveLoop
    ; Required for the W3DTruckDraw module
    TruckLandingSound = RocketBuggyLand
    TruckPowerslideSound = RocketBuggyPowerslide
    VoiceCrush          = HumveeVoiceCrush
    VoiceEnter = GazVVoiceMove
  End


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS VEHICLE SCORE TRANSPORT
  
  Body = ActiveBody ModuleTag_02
    MaxHealth       = 240.0
    InitialHealth   = 240.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 480
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

  Behavior = CleanupHazardUpdate ModuleTag_03
    WeaponSlot            = PRIMARY
    ScanRate              = 1000
    ScanRange             = 100.0 ;If this range exceeds the AmbulanceCleanHazardWeapon AttackRange, it'll move!
  End

  ;Can be ordered to clean up a larger area with the ability to move around at an extended range.
  Behavior = CleanupAreaPower ModuleTag_04
    SpecialPowerTemplate          = SpecialAbilityAmbulanceCleanupArea
    MaxMoveDistanceFromLocation   = 300.0 ;allows the unit to move around while cleaning up
    InitiateSound = GazVVoiceDetox
  End

  Behavior = TransportAIUpdate ModuleTag_05
   AutoAcquireEnemiesWhenIdle = No  ;CleanupHazardUpdate handles this...
   Turret
      TurretTurnRate = 180
      TurretPitchRate = 180
      AllowsPitch = Yes
      MinPhysicalPitch = -20 ; If allows pitch, the lowest I can dip down to shoot.  defaults to 0 (horizontal)
      TurretFireAngleSweep = PRIMARY 25
      ControlledWeaponSlots = PRIMARY
    End
  End
  Locomotor = SET_NORMAL GazVLocomotor

  Behavior = TransportContain ModuleTag_06
    Slots               = 3
    HealthRegen%PerSec  = 25
    DamagePercentToUnits = 10%
    AllowInsideKindOf   = INFANTRY
    AllowAlliesInside   = Yes
    AllowNeutralInside  = No
    AllowEnemiesInside  = No
    ExitDelay = 250
    NumberOfExitPaths = 3 ; Defaults to 1.  Set 0 to not use ExitStart/ExitEnd, set higher than 1 to use ExitStart01-nn/ExitEnd01-nn
    GoAggressiveOnExit = Yes ; AI Will tell people to set their mood to Aggressive on exiting
  End

  Behavior = PhysicsBehavior ModuleTag_07
    Mass = 50.0
  End
  
  Behavior = SlowDeathBehavior DeathTag_01
    ;DeathTypes = ALL -CRUSHED -SPLATTED -EXPLODED -POISONED -POISONED_BETA -EXTRA_8
	DeathTypes = ALL -CRUSHED -SPLATTED -EXPLODED -POISONED -POISONED_BETA
    FX = INITIAL FX_VehicleDieNormal
    FX = MIDPOINT  FX_BigTruckDeathFX
    FX = FINAL FX_BuggyNewDeathExplosion
    OCL = FINAL OCL_GAZVDebris
  End

  Behavior = SlowDeathBehavior DeathTag_02
    DeathTypes = NONE +EXPLODED
    OCL = INITIAL  OCL_GAZTExplodedDeathStart
    FX  = INITIAL  FX_BuggyNewDeathExplosion
    FX  =  FINAL  FX_BigTruckDeathFX
  End
;-!!!
  ; A crushing defeat
  Behavior = DestroyDie DeathTag_03
    DeathTypes = NONE +CRUSHED +SPLATTED
  End
  Behavior = FXListDie DeathTag_04
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  Behavior = CreateObjectDie DeathTag_05
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_GAZVDebris
  End
;Poison
  Behavior = SlowDeathBehavior DeathTag_07
    DeathTypes = NONE +POISONED
    FX  = INITIAL FX_VehiclePoisonDeath
    SinkRate = 2.5
    SinkDelay = 6000
    DestructionDelay = 14000
  End
;PoisonBeta
    Behavior = SlowDeathBehavior DeathTag_08
    DeathTypes = NONE +POISONED_BETA
    FX  = INITIAL FX_VehiclePoisonBetaDeath
    SinkRate = 2.5
    SinkDelay = 6000
    DestructionDelay = 14000
  End

  Behavior = ExperienceScalarUpgrade ModuleTag_17
    TriggeredBy = Upgrade_AmericaAdvancedTraining
    AddXPScalar = 1.0 ;Increases experience gained by an additional 100%
  End

  Behavior = TransitionDamageFX ModuleTag_18
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.

  End

  Behavior = AutoHealBehavior ModuleTag_22
    HealingAmount     = 4
    HealingDelay      = 1000 ; msec
    Radius            = 100.0f
    StartsActive      = Yes
    KindOf            = INFANTRY
  End
  ; Behavior = AutoHealBehavior ModuleTag_23
    ; HealingAmount     = 8
    ; HealingDelay      = 1000 ; msec
    ; Radius            = 100.0f
    ; StartsActive      = Yes
    ; KindOf            = VEHICLE
    ; ForbiddenKindOf   = AIRCRAFT
    ; SkipSelfForHealing = Yes
  ; End

  Behavior = FireWeaponUpdate ModuleTag_180
    Weapon = MedicPulse
    ExclusiveWeaponDelay = 100
  End

  Geometry = BOX
  GeometryMajorRadius = 9.0
  GeometryMinorRadius = 5.0
  GeometryHeight = 8.0     
  GeometryIsSmall = Yes 
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length
  Scale = 0.98 
End

;----------------------------------------------------------------
Object Boss_RussianTankArmata

  ; *** ART Parameters ***
  SelectPortrait         = SATrojan_L
  ButtonImage            = SATrojan
  
  ; UpgradeCameo1 = Upgrade_152mmGun
  ; UpgradeCameo2 = Upgrade_ArmataDefense
  ; UpgradeCameo3 = Upgrade_Tankgun
  
  Draw = W3DOverlordTankDraw ModuleTag_01
    OkToChangeModelColor = Yes
    DefaultConditionState
      Model               = RUT-14
      Turret              = Turret01
      ;AltTurret              = AltTurret01
      HideSubObject       = 152mmGun HOUSECOLOR03 ECM
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponRecoilBone    = PRIMARY Barrel
      WeaponMuzzleFlash   = PRIMARY Muzzle
      WeaponLaunchBone    = PRIMARY Muzzle
      WeaponFireFXBone    = SECONDARY Afganit
      WeaponLaunchBone    = SECONDARY Afganit
    End
    ConditionState = REALLYDAMAGED
      Model               = RUT-14_D
      Turret              = Turret01
      ;AltTurret              = AltTurret01
      HideSubObject       = 152mmGun HOUSECOLOR03 ECM
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponRecoilBone    = PRIMARY Barrel
      WeaponMuzzleFlash   = PRIMARY Muzzle
      WeaponLaunchBone    = PRIMARY Muzzle
      WeaponFireFXBone    = SECONDARY Afganit
      WeaponLaunchBone    = SECONDARY Afganit
    End

    ConditionState = WEAPONSET_PLAYER_UPGRADE
      Model               = RUT-14
      Turret              = Turret01
      ;AltTurret              = AltTurret01
      ShowSubObject       = 152mmGun
      HideSubObject       = Subturret Barrel01 HOUSECOLOR03 ECM
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponRecoilBone    = PRIMARY Varel
      WeaponMuzzleFlash   = PRIMARY VARELFX
      WeaponLaunchBone    = PRIMARY Muzzle
      WeaponFireFXBone    = SECONDARY Afganit
      WeaponLaunchBone    = SECONDARY Afganit
    End
    ConditionState = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
      Model               = RUT-14_D
      Turret              = Turret01
      ;AltTurret              = AltTurret01
      ShowSubObject       = 152mmGun
      HideSubObject       = Subturret Barrel01 HOUSECOLOR03 ECM
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponRecoilBone    = PRIMARY Varel
      WeaponMuzzleFlash   = PRIMARY VARELFX
      WeaponLaunchBone    = PRIMARY Muzzle
      WeaponFireFXBone    = SECONDARY Afganit
      WeaponLaunchBone    = SECONDARY Afganit
    End

    ConditionState = RUBBLE
      Model               = RUT-14_D
      Turret              = Turret01
    End

    ConditionState = WEAPONSET_PLAYER_UPGRADE RUBBLE
      Model               = RUT-14_D
      Turret              = Turret01
    End

    TrackMarks              = EXTnkTrack.tga
    TreadAnimationRate      = 2.0  ; amount of tread texture to move per second
End 

  Draw = W3DModelDraw ModuleTag_02
  
    ParticlesAttachedToAnimatedBones = Yes
  
    DefaultConditionState
      Model         = None
   End
    AliasConditionState = DOOR_1_OPENING

    ConditionState = DOOR_1_WAITING_OPEN
      Model         = None
    End
    
    ConditionState = DOOR_1_CLOSING
      Model         = ECMSphere
      Animation     = ECMSphere.ECMSphere
      AnimationMode = LOOP
    End 
    AliasConditionState = DOOR_1_WAITING_TO_CLOSE
    
  End

  ; ***DESIGN parameters ***
  DisplayName     = OBJECT:T-14
  Side            = Boss
  EditorSorting   = VEHICLE
  TransportSlotCount = 4                 ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions = None 
    Weapon = PRIMARY Armata125mmTankGun
	Weapon = SECONDARY M1A2TankMachineGun
  End

  WeaponSet
    Conditions = PLAYER_UPGRADE
    Weapon = PRIMARY Armata155mmTankGun
	Weapon = SECONDARY M1A2TankMachineGun
  End

  ArmorSet
    Conditions      = None
    Armor           = HeavyTankArmor
    DamageFX        = TankDamageFX
  End
  ; ArmorSet
    ; Conditions            = PLAYER_UPGRADE
    ; Armor                 = HeavyTankArmor
    ; DamageFX              = TankDamageFX
  ; End
  BuildCost       = 7500
  BuildTime       = 20.0          ;in seconds    
  VisionRange     = 300
  ShroudClearingRange = 300
  Prerequisites
    Object  = Boss_WarFactory
    Object  = Boss_TechCentr
  End

  ExperienceValue         = 125 125 230 360  ;Experience point value at each level
  ExperienceRequired      = 0 400 800 1400   ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet       =  Boss_RussianTankArmataCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = ArmataSelect
  VoiceMove = ArmataMove
  VoiceGuard = ArmataGuard
  VoiceAttack = ArmataAttack
  SoundMoveStart = BattleMasterTankMoveStart
  SoundMoveStartDamaged = BattleMasterTankMoveStart

  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate          = ArmataCreate
    TurretMoveStart = NoSound
    TurretMoveLoop = TurretMoveLoop
    VoiceCrush = ArmataAttack
    VoiceEnter = ArmataMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = SALVAGER PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE OBSTACLE

  Body = ActiveBody ModuleTag_03
    MaxHealth       = 2600.0
    InitialHealth   = 2600.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 800
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

  Behavior = AIUpdateInterface ModuleTag_04
    Turret
      TurretTurnRate = 180   ; turn rate, in degrees per sec
      ControlledWeaponSlots = PRIMARY SECONDARY TERTIARY
      FiresWhileTurning     = Yes
      MinIdleScanInterval   = 2500    ; in milliseconds
      MaxIdleScanInterval   = 7500    ; in milliseconds
      MinIdleScanAngle      = 0       ; in degrees off the natural turret angle
      MaxIdleScanAngle      = 90     ; in degrees off the natural turret angle
    End
    AutoAcquireEnemiesWhenIdle = Yes
    MoodAttackCheckRate = 500
  End

  Locomotor = SET_NORMAL ArmataLocomotor

  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 40.0
  End

;Upgrades----------------------------------------------------------
  ; Behavior                = ArmorUpgrade Upgrade_01
    ; TriggeredBy           = Upgrade_ArmataDefense
  ; End
  ; Behavior = WeaponSetUpgrade Upgrade_02
    ; TriggeredBy = Upgrade_152mmGun
  ; End
  ; Behavior = WeaponBonusUpgrade Upgrade_03
    ; TriggeredBy = Upgrade_Tankgun
  ; End 
  ; Behavior = ObjectCreationUpgrade Upgrade_04
    ; UpgradeObject = OCL_ArmataMachinegun
    ; TriggeredBy   = Upgrade_ChinaOverlordBattleBunker
    ; ;RequiresAllTriggers = Yes
  ; End
  ; Behavior = ObjectCreationUpgrade Upgrade_05
    ; UpgradeObject = OCL_AfganitTower
    ; TriggeredBy   = Upgrade_ArmataDefense
  ; End
  ; Behavior = ProductionUpdate ModuleTag_1337
    ; MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  ; End
  ; Behavior = MaxHealthUpgrade Upgrade_06
    ; TriggeredBy   = Upgrade_ArmataDefense
    ; AddMaxHealth  = 50.0
    ; ChangeType    = ADD_CURRENT_HEALTH_TOO   ;Choices are PRESERVE_RATIO, ADD_CURRENT_HEALTH_TOO, and SAME_CURRENTHEALTH
  ; End
;Deaths-------------------------------------------------------------
 ; Turret fly off death
  Behavior = SlowDeathBehavior DeathTag_01
    ProbabilityModifier  = 50
    ;DeathTypes = ALL -CRUSHED -SPLATTED -POISONED -POISONED_BETA -EXTRA_8
	DeathTypes = ALL -CRUSHED -SPLATTED -POISONED -POISONED_BETA
    DestructionDelay  = 500
    DestructionDelayVariance  = 100
    OCL = INITIAL  OCL_TankPreBlowUpForce
    FX  = INITIAL  FX_GenericTankDeathEffect
    OCL = MIDPOINT OCL_GenericTankDeathEffect
    FX  = FINAL    FX_GenericTankDeathExplosion
    OCL = FINAL    OCL_T14Debris
  End

  ; Catch fire, and explode death
  Behavior = SlowDeathBehavior DeathTag_02
    ProbabilityModifier  = 50
    ;DeathTypes = ALL -CRUSHED -SPLATTED -POISONED -POISONED_BETA -EXTRA_8
	DeathTypes = ALL -CRUSHED -SPLATTED -POISONED -POISONED_BETA
    DestructionDelay  = 3000
    DestructionDelayVariance  = 300
    FX  = INITIAL  FX_CrusaderCatchFire
    FX = MIDPOINT FX_TankMidpointBlowup
    OCL = FINAL    OCL_T14Debris
    FX  = FINAL    FX_BattleMasterExplosionOneFinal
  End
  ; A crushing defeat
  Behavior = DestroyDie DeathTag_03
    DeathTypes = NONE +CRUSHED +SPLATTED
  End
  Behavior = FXListDie DeathTag_04
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  Behavior = CreateObjectDie DeathTag_05
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_T14Debris
  End
  ;Radiation
  ; Behavior = SlowDeathBehavior DeathTag_06
    ; DeathTypes = NONE +EXTRA_8
    ; FX  = INITIAL FX_VehicleRadiationDeath
    ; SinkRate = 2.5
    ; SinkDelay = 6000
    ; DestructionDelay = 14000
  ; End
;Poison
  Behavior = SlowDeathBehavior DeathTag_07
    DeathTypes = NONE +POISONED
    FX  = INITIAL FX_VehiclePoisonDeath
    SinkRate = 2.5
    SinkDelay = 6000
    DestructionDelay = 14000
  End
;PoisonBeta
    Behavior = SlowDeathBehavior DeathTag_08
    DeathTypes = NONE +POISONED_BETA
    FX  = INITIAL FX_VehiclePoisonBetaDeath
    SinkRate = 2.5
    SinkDelay = 6000
    DestructionDelay = 14000
  End
;Stealth-------------------------------------------------------------
;---------------------------------------------------------------------

  ; Behavior = CreateCrateDie ModuleTag_06
    ; CrateData = SalvageCrateData2
    ; ;CrateData = EliteTankCrateData
    ; ;CrateData = HeroicTankCrateData
  ; End

  Behavior = TransitionDamageFX ModuleTag_07
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_08
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  ;Behavior = GrantUpgradeCreate ModuleTag_09
    ;UpgradeToGrant = Upgrade_ChinaOverlordBattleBunker
  ;End

  ; Behavior = OverlordContain ModuleTag_10 ; Like Transport, but when full, passes transport queries along to first passenger (redirects like tunnel) 
    ; Slots                 = 2
    ; DamagePercentToUnits        = 100%
    ; AllowInsideKindOf     = PORTABLE_STRUCTURE
    ; PassengersAllowedToFire = Yes
    ; PassengersInTurret = Yes ; My passengers ride in my turret, that's where the Firepoint bones are
    ; ExperienceSinkForRider = Yes ; I get the Exp for things my turret friend kills
  ; End

  Behavior = CommandButtonHuntUpdate  ModuleTag_11 ; allows use of command button hunt script with this unit. 
  End

  ; Behavior    = OCLSpecialPower ModuleTag_12
    ; SpecialPowerTemplate = SpecialAbilityPAKFAECM
    ; OCL                  = OCL_ThermalVisionDrone
  ; End

  ; Behavior           = OCLSpecialPower ModuleTag_13
    ; SpecialPowerTemplate = SuperweaponSmokeGrenades
    ; OCL                  = OCL_ArmataECMSystem
    ; CreateLocation       = USE_OWNER_OBJECT
  ; End

  ; Behavior = MissileLauncherBuildingUpdate ModuleTag_14
    ; SpecialPowerTemplate = SuperweaponSmokeGrenades
    ; DoorOpenTime         = 0
    ; DoorWaitOpenTime     = 0
    ; DoorCloseTime        = 15000
  ; End

  Behavior = StealthUpdate ModuleStealth_GPSScramblerGenericStealthModule
    StealthDelay                = 2000 ; msec
    InnateStealth               = Yes
    StealthForbiddenConditions  = ATTACKING USING_ABILITY
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
    RequiredStatus = REASSIGN_PARKING
  End

  Geometry = BOX
  GeometryMajorRadius = 22.0
  GeometryMinorRadius = 13.0
  GeometryHeight = 12     
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME    
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length
  Scale = 1.0
End

;------------------------------------------------------------------------------
Object Boss_RussiaVehicleT15

  ; *** ART Parameters ***
  SelectPortrait         = SNTeroctCraw_L
  ButtonImage            = SNTeroctCraw
  
  UpgradeCameo1 = Upgrade_152mmGun
  UpgradeCameo2 = Upgrade_ArmataDefense

  Draw = W3DOverlordTankDraw ModuleTag_01
    OkToChangeModelColor = Yes
    ExtraPublicBone = TURRET01

    ConditionState      = NONE
      Model                     = RUT-15
      Turret                     = TURRET01
      WeaponLaunchBone  = PRIMARY WEAPONA
      WeaponFireFXBone  = PRIMARY WEAPONA
      WeaponMuzzleFlash   = PRIMARY BARRELFX
      WeaponRecoilBone  = PRIMARY BARREL
      WeaponLaunchBone  = SECONDARY Afganit
      WeaponFireFXBone  = SECONDARY afganit
      WeaponLaunchBone  = TERTIARY WEAPONB 
      WeaponFireFXBone  = TERTIARY WEAPONB
      HideSubObject = HOUSECOLOR05 VARREL01 VARRELFX01 WEAPONC 57mmGun01
    End

    ConditionState = REALLYDAMAGED
      Model = RUT-15_D
      Turret = TURRET01
      WeaponLaunchBone  = PRIMARY WEAPONA
      WeaponFireFXBone  = PRIMARY WEAPONA
      WeaponMuzzleFlash   = PRIMARY BARRELFX
      WeaponRecoilBone  = PRIMARY BARREL
      WeaponLaunchBone  = SECONDARY Afganit
      WeaponFireFXBone  = SECONDARY afganit
      WeaponLaunchBone  = TERTIARY WEAPONB 
      WeaponFireFXBone  = TERTIARY WEAPONB
      HideSubObject = HOUSECOLOR05 VARREL01 VARRELFX01 WEAPONC 57mmGun01
    End

    ConditionState = RUBBLE
      Model = RUT-15_D
      Turret = TURRET01
      WeaponLaunchBone  = PRIMARY WEAPONA
      WeaponFireFXBone  = PRIMARY WEAPONA
      WeaponMuzzleFlash   = PRIMARY BARRELFX
      WeaponRecoilBone  = PRIMARY BARREL
      WeaponLaunchBone  = SECONDARY Afganit
      WeaponFireFXBone  = SECONDARY afganit
      WeaponLaunchBone  = TERTIARY WEAPONB 
      WeaponFireFXBone  = TERTIARY WEAPONB
      HideSubObject = HOUSECOLOR05 VARREL01 VARRELFX01 WEAPONC 57mmGun01
    End


    ConditionState      = WEAPONSET_PLAYER_UPGRADE
      Model                     = RUT-15
      Turret                     = TURRET01
      WeaponLaunchBone  = PRIMARY WEAPONC
      WeaponFireFXBone  = PRIMARY WEAPONC
      WeaponMuzzleFlash   = PRIMARY VARRELFX
      WeaponRecoilBone  = PRIMARY VARREL
      WeaponLaunchBone  = SECONDARY Afganit
      WeaponFireFXBone  = SECONDARY afganit
      WeaponLaunchBone  = TERTIARY WEAPONB 
      WeaponFireFXBone  = TERTIARY WEAPONB
      HideSubObject = BARREL01 BARRELFX01 WEAPONA
      ShowSubObject = HOUSECOLOR05 VARREL01 VARRELFX01 WEAPONC 57mmGun01
    End

    ConditionState = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
      Model = RUT-15_D
      Turret = TURRET01
      WeaponLaunchBone  = PRIMARY WEAPONC
      WeaponFireFXBone  = PRIMARY WEAPONC
      WeaponMuzzleFlash   = PRIMARY VARRELFX
      WeaponRecoilBone  = PRIMARY VARREL
      WeaponLaunchBone  = SECONDARY Afganit
      WeaponFireFXBone  = SECONDARY afganit
      WeaponLaunchBone  = TERTIARY WEAPONB 
      WeaponFireFXBone  = TERTIARY WEAPONB
      HideSubObject = BARREL01 BARRELFX01 WEAPONA
      ShowSubObject = HOUSECOLOR05 VARREL01 VARRELFX01 WEAPONC 57mmGun01
    End

    ConditionState = WEAPONSET_PLAYER_UPGRADE RUBBLE
      Model = RUT-15_D
      Turret = TURRET01
      WeaponLaunchBone  = PRIMARY WEAPONC
      WeaponFireFXBone  = PRIMARY WEAPONC
      WeaponMuzzleFlash   = PRIMARY VARRELFX
      WeaponRecoilBone  = PRIMARY VARREL
      WeaponLaunchBone  = SECONDARY Afganit
      WeaponFireFXBone  = SECONDARY afganit
      WeaponLaunchBone  = TERTIARY WEAPONB 
      WeaponFireFXBone  = TERTIARY WEAPONB
      HideSubObject = BARREL01 BARRELFX01 WEAPONA
      ShowSubObject = HOUSECOLOR05 VARREL01 VARRELFX01 WEAPONC 57mmGun01
    End

    TrackMarks              = EXTnkTrack.tga
    TreadAnimationRate      = 2.0  ; amount of tread texture to move per second
End 

  Draw = W3DModelDraw ModuleTag_02
  
    ParticlesAttachedToAnimatedBones = Yes
  
    DefaultConditionState
      Model         = None
   End
    AliasConditionState = DOOR_1_OPENING

    ConditionState = DOOR_1_WAITING_OPEN
      Model         = None
    End
    
    ConditionState = DOOR_1_CLOSING
      Model         = ECMSphere
      Animation     = ECMSphere.ECMSphere
      AnimationMode = LOOP
    End 
    AliasConditionState = DOOR_1_WAITING_TO_CLOSE
    
  End

  ; ***DESIGN parameters ***
  DisplayName               = OBJECT:T-15
  Side                      = Boss
  EditorSorting             = VEHICLE
  TransportSlotCount        = 3            ;how many "slots" we take in a transport (0 == not transportable)

  WeaponSet
    Conditions              = None 
    Weapon                  = PRIMARY   T15MachineGun
    PreferredAgainst        = PRIMARY INFANTRY
    AutoChooseSources       = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
    Weapon                  = TERTIARY T15RocketWeapon
  End

  ; WeaponSet
    ; Conditions              = PLAYER_UPGRADE
    ; Weapon                  = PRIMARY   T15MachineGun57mm
    ; PreferredAgainst        = PRIMARY INFANTRY
    ; AutoChooseSources       = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
    ; Weapon                  = TERTIARY T15RocketWeapon
  ; End

  ArmorSet
    Conditions      = None
    Armor           = T15Armor
    DamageFX        = TankDamageFX
  End
  ; ArmorSet
    ; Conditions            = PLAYER_UPGRADE
    ; Armor                 = T15HeavyTankArmor
    ; DamageFX              = TankDamageFX
  ; End
  BuildCost       = 7000
  BuildTime       = 22.0          ;in seconds    
  VisionRange     = 250
  ShroudClearingRange = 250
  Prerequisites
    Object        = Boss_WarFactory
	Object        = Boss_TechCentr
  End

  ExperienceValue        = 100 100 165 275 ;Experience point value at each level
  ExperienceRequired     = 0 300 600 1100 ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet      = Boss_RussiaVehicleT15CommandSet


  ; *** AUDIO Parameters ***
  VoiceSelect     = T15Select
  VoiceMove       = T15Move
  VoiceGuard      = T15Guard
  VoiceAttack     = T15Attack
  SoundMoveStart  = GattlingTankMoveStart
  SoundMoveStartDamaged = GattlingTankMoveStart

  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate     = T15Create
    VoiceUnload       = T15Evac
    TurretMoveStart = NoSound
    TurretMoveLoop  = TurretMoveLoopLoud
    VoiceCrush      = GattlingTankVoiceCrush
    VoiceEnter      = T15Move
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = SALVAGER PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE OBSTACLE

  Body = ActiveBody ModuleTag_03
    MaxHealth       = 1700.0
    InitialHealth   = 1700.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 800
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

  Behavior = AIUpdateInterface ModuleTag_04
    Turret
      TurretTurnRate = 180   ; turn rate, in degrees per sec
      ControlledWeaponSlots = PRIMARY SECONDARY TERTIARY
      FiresWhileTurning     = Yes
      MinIdleScanInterval   = 2500    ; in milliseconds
      MaxIdleScanInterval   = 7500    ; in milliseconds
      MinIdleScanAngle      = 0       ; in degrees off the natural turret angle
      MaxIdleScanAngle      = 90     ; in degrees off the natural turret angle
    End
    AutoAcquireEnemiesWhenIdle = Yes
    MoodAttackCheckRate = 500
  End

  Locomotor = SET_NORMAL ArmataLocomotor

  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 40.0
  End

;Upgrades----------------------------------------------------------
  ; Behavior                = ArmorUpgrade Upgrade_01
    ; TriggeredBy           = Upgrade_ArmataDefense
  ; End
  ; Behavior = WeaponSetUpgrade Upgrade_02
    ; TriggeredBy = Upgrade_152mmGun
  ; End
  ; Behavior = ObjectCreationUpgrade Upgrade_03
    ; UpgradeObject = OCL_T15AfganitTower
    ; TriggeredBy   = Upgrade_ArmataDefense
  ; End

  ; Behavior = MaxHealthUpgrade Upgrade_04
    ; TriggeredBy   = Upgrade_ArmataDefense
    ; AddMaxHealth  = 50.0
    ; ChangeType    = ADD_CURRENT_HEALTH_TOO   ;Choices are PRESERVE_RATIO, ADD_CURRENT_HEALTH_TOO, and SAME_CURRENTHEALTH
  ; End
;Deaths-------------------------------------------------------------
 ; Turret fly off death
  Behavior = SlowDeathBehavior DeathTag_01
    ;DeathTypes = ALL -CRUSHED -SPLATTED -POISONED -POISONED_BETA -EXTRA_8
	DeathTypes = ALL -CRUSHED -SPLATTED -POISONED -POISONED_BETA
    ProbabilityModifier  = 50
    DestructionDelay  = 500
    DestructionDelayVariance  = 100
    FX  = INITIAL  FX_BuggyNewDeathExplosion
    ;OCL = MIDPOINT OCL_BRDMRandomRockets
    FX = MIDPOINT   FX_BTRBurningAmmo
    FX  = FINAL    FX_BigTruckDeathFX
    OCL = FINAL    OCL_T15Debris
  End
    Behavior = SlowDeathBehavior DeathTag_02
    ;DeathTypes = ALL -CRUSHED -SPLATTED -POISONED -POISONED_BETA -EXTRA_8
	DeathTypes = ALL -CRUSHED -SPLATTED -POISONED -POISONED_BETA
    ProbabilityModifier  = 50
    DestructionDelay  = 500
    DestructionDelayVariance  = 100
    FX  = INITIAL  FX_BuggyNewDeathExplosion
    ;OCL = MIDPOINT OCL_BRDMRandomRockets
    FX = MIDPOINT   FX_BTRBurningAmmo
    FX  = FINAL    FX_BigTruckDeathFX
    OCL = FINAL    OCL_T15Debris
  End
  ; Catch fire, and explode death
  Behavior = SlowDeathBehavior DeathTag_03
    ;DeathTypes = ALL -CRUSHED -SPLATTED -POISONED -POISONED_BETA -EXTRA_8
	DeathTypes = ALL -CRUSHED -SPLATTED -POISONED -POISONED_BETA
    ProbabilityModifier  = 50
    DestructionDelay  = 2000
    DestructionDelayVariance  = 300
    FX  = INITIAL  FX_CrusaderCatchFire
    FX = MIDPOINT FX_BigTruckDeathFX
    OCL = FINAL OCL_T15Debris
    FX  = FINAL FX_ArmouredVehicleDeathExplosion
  End
  ; A crushing defeat
  Behavior = DestroyDie DeathTag_04
    DeathTypes = NONE +CRUSHED +SPLATTED
  End
  Behavior = FXListDie DeathTag_05
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  Behavior = CreateObjectDie DeathTag_06
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_T15Debris
  End
  ;Radiation
  ; Behavior = SlowDeathBehavior DeathTag_07
    ; DeathTypes = NONE +EXTRA_8
    ; FX  = INITIAL FX_VehicleRadiationDeath
    ; SinkRate = 2.5
    ; SinkDelay = 6000
    ; DestructionDelay = 14000
  ; End
;Poison
  Behavior = SlowDeathBehavior DeathTag_08
    DeathTypes = NONE +POISONED
    FX  = INITIAL FX_VehiclePoisonDeath
    SinkRate = 2.5
    SinkDelay = 6000
    DestructionDelay = 14000
  End
;PoisonBeta
    Behavior = SlowDeathBehavior DeathTag_09
    DeathTypes = NONE +POISONED_BETA
    FX  = INITIAL FX_VehiclePoisonBetaDeath
    SinkRate = 2.5
    SinkDelay = 6000
    DestructionDelay = 14000
  End
;Stealth-------------------------------------------------------------
;---------------------------------------------------------------------

  ; Behavior = CreateCrateDie ModuleTag_06
    ; CrateData = SalvageCrateData
    ; ;CrateData = EliteTankCrateData
    ; ;CrateData = HeroicTankCrateData
  ; End

  Behavior = TransitionDamageFX ModuleTag_07
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_08
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = ProductionUpdate ModuleTag_09
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End

  Behavior = TransportContain ModuleTag_10
    PassengersAllowedToFire = No
    Slots                 = 9
	;InitialPayload        = Boss_RussiaInfantryConscript 9
    DoorOpenTime          = 0
    ScatterNearbyOnExit   = Yes
    HealthRegen%PerSec    = 10
    DamagePercentToUnits  = 0% ;30%
    AllowInsideKindOf     = INFANTRY
    ForbidInsideKindOf = FS_ADVANCED_TECH
    ;ExitDelay         = 500
    NumberOfExitPaths = 2 ; Defaults to 1.  Set 0 to not use ExitStart/ExitEnd, set higher than 1 to use ExitStart01-nn/ExitEnd01-nn
    GoAggressiveOnExit = Yes ; AI Will tell people to set their mood to Aggressive on exiting
    ;PayloadTemplateName     = Russia_AfganitTower 1
    WeaponBonusPassedToPassengers = Yes
  End

  Behavior = CommandButtonHuntUpdate  ModuleTag_11 ; allows use of command button hunt script with this unit. 
  End

  ; Behavior           = OCLSpecialPower ModuleTag_12
    ; SpecialPowerTemplate = SuperweaponSmokeGrenades
    ; OCL                  = OCL_ArmataECMSystem
    ; CreateLocation       = USE_OWNER_OBJECT
  ; End

  ; Behavior = MissileLauncherBuildingUpdate ModuleTag_13
    ; SpecialPowerTemplate = SuperweaponSmokeGrenades
    ; DoorOpenTime         = 0
    ; DoorWaitOpenTime     = 0
    ; DoorCloseTime        = 15000
  ; End

  ; Behavior    = OCLSpecialPower ModuleTag_14
    ; SpecialPowerTemplate = SpecialAbilityPAKFAECM
    ; OCL                  = OCL_ThermalVisionDrone
  ; End

  Behavior = StealthUpdate ModuleStealth_GPSScramblerGenericStealthModule
    StealthDelay                = 2000 ; msec
    InnateStealth               = Yes
    StealthForbiddenConditions  = ATTACKING USING_ABILITY
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
    RequiredStatus = REASSIGN_PARKING
  End

  Geometry            = BOX
  GeometryMajorRadius = 22.0
  GeometryMinorRadius = 13.0
  GeometryHeight      = 10.0     
  GeometryIsSmall     = Yes
  Shadow              = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length    
  Scale = 1.0
End

;----------------------------------------------------------------------
Object Boss_RussianTankT90

  ; *** ART Parameters ***
  SelectPortrait         = WarMaster_L
  ButtonImage            = WarMaster
  
  UpgradeCameo1 = Upgrade_GLAJunkRepair
  UpgradeCameo2 = Upgrade_GLAScorpionRocket
  UpgradeCameo3 = Upgrade_GLAAPRockets
  
  Draw = W3DTankDraw ModuleTag_01
    OkToChangeModelColor = Yes
    DefaultConditionState
      Model               = RU-T90
      Turret              = Turret01
      HideSubObject       = HOUSECOLOR01 MGUN01 NERA
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponRecoilBone    = PRIMARY Barrel
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      WeaponLaunchBone    = PRIMARY Muzzle
      WeaponFireFXBone    = SECONDARY FIREPOINT02
      WeaponLaunchBone    = SECONDARY FIREPOINT02
      WeaponFireFXBone    = TERTIARY WeaponB
      WeaponLaunchBone    = TERTIARY WeaponB
    End
    ConditionState = REALLYDAMAGED
      Model               = RU-T90_D
      Turret              = Turret01
      HideSubObject       = HOUSECOLOR01 MGUN01 NERA
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponRecoilBone    = PRIMARY Barrel
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      WeaponLaunchBone    = PRIMARY Muzzle
      WeaponFireFXBone    = SECONDARY FIREPOINT02
      WeaponLaunchBone    = SECONDARY FIREPOINT02
      WeaponFireFXBone    = TERTIARY WeaponB
      WeaponLaunchBone    = TERTIARY WeaponB
    End

    ConditionState = USER_1
      Model               = RU-T90
      Turret              = Turret01
      ShowSubObject       = NERA
      HideSubObject       = HOUSECOLOR01 MGUN01
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponRecoilBone    = PRIMARY Barrel
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      WeaponLaunchBone    = PRIMARY Muzzle
      WeaponFireFXBone    = SECONDARY FIREPOINT02
      WeaponLaunchBone    = SECONDARY FIREPOINT02
      WeaponFireFXBone    = TERTIARY WeaponB
      WeaponLaunchBone    = TERTIARY WeaponB
    End
    ConditionState = USER_1 REALLYDAMAGED
      Model               = RU-T90_D
      Turret              = Turret01
      ShowSubObject       = NERA
      HideSubObject       = HOUSECOLOR01 MGUN01
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponRecoilBone    = PRIMARY Barrel
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      WeaponLaunchBone    = PRIMARY Muzzle
      WeaponFireFXBone    = SECONDARY FIREPOINT02
      WeaponLaunchBone    = SECONDARY FIREPOINT02
      WeaponFireFXBone    = TERTIARY WeaponB
      WeaponLaunchBone    = TERTIARY WeaponB
    End

    ConditionState = RUBBLE
      Model               = RU-T90_D
      Turret              = Turret01
    End

    ConditionState = USER_1 RUBBLE
      Model               = RU-T90_D
      Turret              = Turret01
      ShowSubObject       = NERA
      HideSubObject       = HOUSECOLOR01 MGUN01
    End

    TrackMarks              = EXTnkTrack.tga
    TreadAnimationRate      = 2.0  ; amount of tread texture to move per second
End 

  Draw = W3DModelDraw ModuleTag_02
  
    ParticlesAttachedToAnimatedBones = Yes
  
    DefaultConditionState
      Model = None
    End
    AliasConditionState = DOOR_1_OPENING
    
    ConditionState = DOOR_1_WAITING_OPEN
      Model = None
    End
    
    ConditionState = DOOR_1_CLOSING
      Model = T90Shtora
      Animation = T90Shtora.T90Shtora
      AnimationMode = LOOP
      Turret              = Turret01
      ParticleSysBone = Shtora01 ShtoraLightEffect
      ParticleSysBone = Shtora02 ShtoraLightEffect
      ParticleSysBone = TURRET01 ShtoraSphere
    End 
    AliasConditionState = DOOR_1_WAITING_TO_CLOSE
    
  End

  ; ***DESIGN parameters ***
  DisplayName     = OBJECT:T90
  Side            = Boss
  EditorSorting   = VEHICLE
  TransportSlotCount = 3                 ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions = None 
    Weapon = PRIMARY T-90TankGun
	PreferredAgainst = PRIMARY VEHICLE STRUCTURE
	AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
    Weapon = SECONDARY T-80MachineGun
    PreferredAgainst = SECONDARY INFANTRY
	AutoChooseSources = SECONDARY FROM_PLAYER FROM_SCRIPT FROM_AI
	Weapon           = TERTIARY None
  End
  WeaponSet
    Conditions       = PLAYER_UPGRADE 
    Weapon           = PRIMARY   T-90TankGun
	PreferredAgainst = PRIMARY VEHICLE STRUCTURE
    Weapon           = SECONDARY T-80MachineGun
    PreferredAgainst = SECONDARY INFANTRY
	AutoChooseSources = SECONDARY FROM_PLAYER FROM_SCRIPT FROM_AI
    Weapon           = TERTIARY ScorpionMissileWeapon
	PreferredAgainst = TERTIARY VEHICLE STRUCTURE
	AutoChooseSources = TERTIARY FROM_PLAYER FROM_SCRIPT FROM_AI
  End

  ; WeaponSet
    ; Conditions = PLAYER_UPGRADE
    ; Weapon = PRIMARY T-90TankGun2
    ; ;Weapon = SECONDARY T-90MSTankMachineGun
  ; End

  ArmorSet
    Conditions      = None
    Armor           = TankArmor
    DamageFX        = TankDamageFX
  End
  ; ArmorSet
    ; Conditions            = PLAYER_UPGRADE
    ; Armor                 = TankArmor
    ; DamageFX              = TankDamageFX
  ; End
  BuildCost       = 4000
  BuildTime       = 18.0          ;in seconds    
  VisionRange     = 250
  ShroudClearingRange = 200
  Prerequisites
    Object = Boss_WarFactory
  End

  ExperienceValue         = 85 85 150 250  ;Experience point value at each level
  ExperienceRequired      = 0 250 400 600   ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet       =  GLATankMarauderCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = VladimirSelect
  VoiceMove = VladimirMove
  VoiceGuard = VladimirGuard
  VoiceAttack = VladimirAttack
  SoundMoveStart = BattleMasterTankMoveStart
  SoundMoveStartDamaged = BattleMasterTankMoveStart

  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceGarrison   = VladimirGarrison
    VoiceCreate          = VladimirCreate
    TurretMoveStart = NoSound
    TurretMoveLoop = TurretMoveLoop
    VoiceCrush = VladimirAttack
    VoiceEnter = VladimirMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE SALVAGER PARACHUTABLE

  Body = ActiveBody ModuleTag_03
    MaxHealth       = 1200.0
    InitialHealth   = 1200.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 800
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

  Behavior = AIUpdateInterface ModuleTag_04
    Turret
      TurretTurnRate = 180   ; turn rate, in degrees per sec
      ControlledWeaponSlots = PRIMARY SECONDARY TERTIARY
      FiresWhileTurning     = Yes
      MinIdleScanInterval   = 2500    ; in milliseconds
      MaxIdleScanInterval   = 7500    ; in milliseconds
      MinIdleScanAngle      = 0       ; in degrees off the natural turret angle
      MaxIdleScanAngle      = 90     ; in degrees off the natural turret angle
    End
    AutoAcquireEnemiesWhenIdle = Yes
    MoodAttackCheckRate = 500
  End

  Locomotor = SET_NORMAL T90Locomotor

  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 40.0
  End

;Upgrades----------------------------------------------------------
  ; Behavior = MaxHealthUpgrade Upgrade_01
    ; TriggeredBy   = Upgrade_ArmataDefense
    ; AddMaxHealth  = 50.0
    ; ChangeType    = ADD_CURRENT_HEALTH_TOO   ;Choices are PRESERVE_RATIO, ADD_CURRENT_HEALTH_TOO, and SAME_CURRENTHEALTH
  ; End
  ; Behavior                = ArmorUpgrade Upgrade_02
    ; TriggeredBy           = Upgrade_ArmataDefense
  ; End
  ; Behavior = WeaponSetUpgrade Upgrade_03
    ; TriggeredBy = Upgrade_ArmorCommandset
  ; End
  ; Behavior = WeaponBonusUpgrade Upgrade_04
    ; TriggeredBy = Upgrade_Tankgun
  ; End 
  ; Behavior = ModelConditionUpgrade Upgrade_05
    ; ConditionFlag = USER_1
    ; TriggeredBy = Upgrade_ArmataDefense
  ; End
;Deaths-------------------------------------------------------------
 ; Turret fly off death
  Behavior = SlowDeathBehavior DeathTag_01
    ;DeathTypes = ALL -CRUSHED -SPLATTED -POISONED -POISONED_BETA -EXTRA_8
	DeathTypes = ALL -CRUSHED -SPLATTED -POISONED -POISONED_BETA
    ProbabilityModifier  = 50
    DestructionDelay  = 500
    DestructionDelayVariance  = 100
    OCL = INITIAL  OCL_TankPreBlowUpForce
    FX  = INITIAL  FX_GenericTankDeathEffect
    OCL = MIDPOINT OCL_GenericTankDeathEffect
    FX  = FINAL    FX_GenericTankDeathExplosion
    OCL = FINAL    OCL_T90Debris
  End
  ; Catch fire, and explode death
  Behavior = SlowDeathBehavior DeathTag_02
    ;DeathTypes = ALL -CRUSHED -SPLATTED -POISONED -POISONED_BETA -EXTRA_8
	DeathTypes = ALL -CRUSHED -SPLATTED -POISONED -POISONED_BETA
    ProbabilityModifier  = 50
    DestructionDelay  = 3000
    DestructionDelayVariance  = 300
    FX  = INITIAL  FX_CrusaderCatchFire
    FX = MIDPOINT FX_TankMidpointBlowup
    OCL = FINAL    OCL_T90Debris
    FX  = FINAL    FX_BattleMasterExplosionOneFinal
  End
  ; A crushing defeat
  Behavior = DestroyDie DeathTag_03
    DeathTypes = NONE +CRUSHED +SPLATTED
  End
  Behavior = FXListDie DeathTag_04
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  Behavior = CreateObjectDie DeathTag_05
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_T90_CrushEffect
  End
  ;Radiation
  ; Behavior = SlowDeathBehavior DeathTag_06
    ; DeathTypes = NONE +EXTRA_8
    ; FX  = INITIAL FX_VehicleRadiationDeath
    ; SinkRate = 2.5
    ; SinkDelay = 6000
    ; DestructionDelay = 14000
  ; End
;Poison
  Behavior = SlowDeathBehavior DeathTag_07
    DeathTypes = NONE +POISONED
    FX  = INITIAL FX_VehiclePoisonDeath
    SinkRate = 2.5
    SinkDelay = 6000
    DestructionDelay = 14000
  End
;PoisonBeta
    Behavior = SlowDeathBehavior DeathTag_08
    DeathTypes = NONE +POISONED_BETA
    FX  = INITIAL FX_VehiclePoisonBetaDeath
    SinkRate = 2.5
    SinkDelay = 6000
    DestructionDelay = 14000
  End
;Stealth-------------------------------------------------------------
;---------------------------------------------------------------------

  ; Behavior = CreateCrateDie ModuleTag_06
    ; CrateData = SalvageCrateData
    ; ;CrateData = EliteTankCrateData
    ; ;CrateData = HeroicTankCrateData
  ; End
  
  Behavior = AutoHealBehavior ModuleTag_06
    HealingAmount = 2
    HealingDelay = 1000 ; msec
    TriggeredBy = Upgrade_GLAJunkRepair
  End

  Behavior = TransitionDamageFX ModuleTag_07
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_08
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = CommandButtonHuntUpdate  ModuleTag_09 ; allows use of command button hunt script with this unit. 
  End

  Behavior = WeaponSetUpgrade ModuleTag_10
    TriggeredBy = Upgrade_GLAScorpionRocket
  End
  
  ; Behavior           = OCLSpecialPower ModuleTag_10
    ; SpecialPowerTemplate = SuperweaponSmokeGrenades
    ; OCL                  = OCL_ShtoraFireObject
    ; CreateLocation       = USE_OWNER_OBJECT
  ; End

  ; Behavior = MissileLauncherBuildingUpdate ModuleTag_11
    ; SpecialPowerTemplate = SuperweaponSmokeGrenades
    ; DoorOpenTime         = 1000
    ; DoorWaitOpenTime     = 1000
    ; DoorCloseTime        = 12000
  ; End

  Behavior = StealthUpdate ModuleStealth_GPSScramblerGenericStealthModule
    StealthDelay                = 2000 ; msec
    InnateStealth               = Yes
    StealthForbiddenConditions  = ATTACKING USING_ABILITY
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
    RequiredStatus = REASSIGN_PARKING
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 14.0
  GeometryMinorRadius = 9.0
  GeometryHeight = 12     
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME    
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length
  Scale = 1.0
End

;-----------------------------------------------------------------------------
Object Boss_RussianTankT90M

  ; *** ART Parameters ***
  SelectPortrait         = SNTnkDest
  ButtonImage            = SNTnkDest
  
  ; UpgradeCameo1 = Upgrade_Shtora
  ; UpgradeCameo3 = Upgrade_Tankgun
  UpgradeCameo1 = Upgrade_GLAJunkRepair
  UpgradeCameo2 = Upgrade_GLAScorpionRocket
  UpgradeCameo3 = Upgrade_GLAAPRockets

  Draw = W3DOverlordTankDraw ModuleTag_01
    OkToChangeModelColor = Yes
    DefaultConditionState
      Model               = RU-T90MS
      Turret              = Turret01
      HideSubObject       = ARENA ARENALIGHT ARENALIGHT2 NERA NERA2
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponRecoilBone    = PRIMARY Barrel
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      WeaponLaunchBone    = PRIMARY Muzzle
    End
    ConditionState = REALLYDAMAGED
      Model               = RU-T90MS_D
      Turret              = Turret01
      HideSubObject       = ARENA ARENALIGHT ARENALIGHT2 NERA NERA2
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponRecoilBone    = PRIMARY Barrel
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      WeaponLaunchBone    = PRIMARY Muzzle
    End

    ConditionState = WEAPONSET_PLAYER_UPGRADE
      Model               = RU-T90MS
      Animation       = RU-T90MS.RU-T90MS
      AnimationMode   = LOOP
      Turret              = Turret01
      HideSubObject       = NERA NERA2
      ShowSubObject       = ARENA ARENALIGHT ARENALIGHT2
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponRecoilBone    = PRIMARY Barrel
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      WeaponLaunchBone    = PRIMARY Muzzle
    End
    ConditionState = REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE
      Model               = RU-T90MS_D
      Animation       = RU-T90MS_D.RU-T90MS_D
      AnimationMode   = LOOP
      Turret              = Turret01
      HideSubObject       = NERA NERA2
      ShowSubObject       = ARENA ARENALIGHT ARENALIGHT2
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponRecoilBone    = PRIMARY Barrel
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      WeaponLaunchBone    = PRIMARY Muzzle
    End


    ConditionState = USER_1
      Model               = RU-T90MS
      Turret              = Turret01
      ShowSubObject       = NERA NERA2
      HideSubObject       = ARENA ARENALIGHT ARENALIGHT2
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponRecoilBone    = PRIMARY Barrel
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      WeaponLaunchBone    = PRIMARY Muzzle
    End
    ConditionState = USER_1 REALLYDAMAGED
      Model               = RU-T90MS_D
      Turret              = Turret01
      ShowSubObject       = NERA NERA2
      HideSubObject       = ARENA ARENALIGHT ARENALIGHT2
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponRecoilBone    = PRIMARY Barrel
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      WeaponLaunchBone    = PRIMARY Muzzle
    End

    ConditionState = USER_1 WEAPONSET_PLAYER_UPGRADE
      Model               = RU-T90MS
      Animation       = RU-T90MS.RU-T90MS
      AnimationMode   = LOOP
      Turret              = Turret01
      ShowSubObject       = ARENA ARENALIGHT ARENALIGHT2 NERA NERA2
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponRecoilBone    = PRIMARY Barrel
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      WeaponLaunchBone    = PRIMARY Muzzle
    End
    ConditionState = USER_1 REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE
      Model               = RU-T90MS_D
      Animation       = RU-T90MS_D.RU-T90MS_D
      AnimationMode   = LOOP
      Turret              = Turret01
      ShowSubObject       = ARENA ARENALIGHT ARENALIGHT2 NERA NERA2
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponRecoilBone    = PRIMARY Barrel
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      WeaponLaunchBone    = PRIMARY Muzzle
    End

    ConditionState = RUBBLE
      Model               = RU-T90MS_D
      Turret              = Turret01
    End

    ConditionState = USER_1 RUBBLE
      Model               = RU-T90MS_D
      Turret              = Turret01
      ShowSubObject       = NERA
    End

    ConditionState = USER_1 RUBBLE WEAPONSET_PLAYER_UPGRADE
      Model               = RU-T90MS_D
      Turret              = Turret01
      ShowSubObject       = NERA
    End

    TrackMarks              = EXTnkTrack.tga
    TreadAnimationRate      = 2.0  ; amount of tread texture to move per second
  End

  Draw = W3DModelDraw ModuleTag_02
  
    ParticlesAttachedToAnimatedBones = Yes
  
    DefaultConditionState
      Model = None
    End
    AliasConditionState = DOOR_1_OPENING
    
    ConditionState = DOOR_1_WAITING_OPEN
      Model = None
    End
    
    ConditionState = DOOR_1_CLOSING
      Model = T90MSShtora
      Animation = T90MSShtora.T90MSShtora
      AnimationMode = LOOP
      Turret = Turret01
      ParticleSysBone = Shtora01 ShtoraLightEffect
      ParticleSysBone = Shtora02 ShtoraLightEffect
    End 
    AliasConditionState = DOOR_1_WAITING_TO_CLOSE
    
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:T90M
  Side = Boss
  EditorSorting   = VEHICLE
  TransportSlotCount = 3                 ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions = None 
    Weapon = PRIMARY T-90MSTankGun
	PreferredAgainst = PRIMARY VEHICLE STRUCTURE
	AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
    Weapon = SECONDARY T-80MachineGun
    PreferredAgainst = SECONDARY INFANTRY
	AutoChooseSources = SECONDARY FROM_PLAYER FROM_SCRIPT FROM_AI
	Weapon           = TERTIARY None
  End
  WeaponSet
    Conditions       = PLAYER_UPGRADE 
    Weapon           = PRIMARY   T-90TankGun
	PreferredAgainst = PRIMARY VEHICLE STRUCTURE
    Weapon           = SECONDARY T-80MachineGun
    PreferredAgainst = SECONDARY INFANTRY
	AutoChooseSources = SECONDARY FROM_PLAYER FROM_SCRIPT FROM_AI
    Weapon           = TERTIARY ScorpionMissileWeapon
	PreferredAgainst = TERTIARY VEHICLE STRUCTURE
	AutoChooseSources = TERTIARY FROM_PLAYER FROM_SCRIPT FROM_AI
  End

  ; WeaponSet
    ; Conditions = PLAYER_UPGRADE
    ; Weapon = PRIMARY T-90MSTankGun
  ; End

  ArmorSet
    Conditions      = None
    Armor           = HeavyTankArmor
    DamageFX        = TankDamageFX
  End
  ArmorSet
    Conditions            = PLAYER_UPGRADE
    Armor                 = HeavyTankArmor
    DamageFX              = TankDamageFX
  End
  BuildCost       = 4500
  BuildTime       = 20.0          ;in seconds    
  VisionRange     = 250
  ShroudClearingRange = 250
  Prerequisites
    Object = Boss_WarFactory
	Object = Boss_TechCentr
  End

  ExperienceValue         = 115 115 200 325  ;Experience point value at each level
  ExperienceRequired      = 0 250 500 800   ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet       = GLATankMarauderCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = VladimirSelect
  VoiceMove = VladimirMove
  VoiceGuard = VladimirGuard
  VoiceAttack = VladimirAttack
  SoundMoveStart = BattleMasterTankMoveStart
  SoundMoveStartDamaged = BattleMasterTankMoveStart

  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceGarrison   = VladimirGarrison
    VoiceCreate          = VladimirCreate
    TurretMoveStart = NoSound
    TurretMoveLoop = TurretMoveLoop
    VoiceCrush = VladimirAttack
    VoiceEnter = VladimirMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = SALVAGER PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE

  Body = ActiveBody ModuleTag_03
    MaxHealth       = 1400.0
    InitialHealth   = 1400.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 800
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

  Behavior = AIUpdateInterface ModuleTag_04
    Turret
      TurretTurnRate = 180   ; turn rate, in degrees per sec
      ControlledWeaponSlots = PRIMARY SECONDARY TERTIARY
      FiresWhileTurning     = Yes
      MinIdleScanInterval   = 2500    ; in milliseconds
      MaxIdleScanInterval   = 7500    ; in milliseconds
      MinIdleScanAngle      = 0       ; in degrees off the natural turret angle
      MaxIdleScanAngle      = 90     ; in degrees off the natural turret angle
    End
    AutoAcquireEnemiesWhenIdle = Yes
    MoodAttackCheckRate = 500
  End

  Locomotor = SET_NORMAL T90Locomotor

  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 40.0
  End

;Upgrades----------------------------------------------------------
  ; Behavior = ObjectCreationUpgrade Upgrade_01
    ; UpgradeObject = OCL_T90MSMachinegun
    ; TriggeredBy   = Upgrade_ChinaOverlordBattleBunker
    ; ConflictsWith = Upgrade_GLACamoNetting
  ; End
  ; Behavior = ObjectCreationUpgrade Upgrade_02
    ; UpgradeObject = OCL_ArenaDefenceSystem
    ; TriggeredBy   = Upgrade_GLACamoNetting
    ; ConflictsWith = Upgrade_ChinaOverlordBattleBunker
  ; End
  ; Behavior = WeaponSetUpgrade Upgrade_03
    ; TriggeredBy   = Upgrade_GLACamoNetting
    ; ConflictsWith = Upgrade_ChinaOverlordBattleBunker
  ; End
  ; Behavior = WeaponBonusUpgrade Upgrade_04
    ; TriggeredBy = Upgrade_Tankgun
  ; End 

  ; Behavior                = ArmorUpgrade Upgrade_05
    ; TriggeredBy           = Upgrade_ArmataDefense
  ; End
;Deaths-------------------------------------------------------------
  Behavior = SlowDeathBehavior DeathTag_01
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier  = 50
    DestructionDelay  = 500
    DestructionDelayVariance  = 100
    OCL = INITIAL  OCL_TankPreBlowUpForce
    FX  = INITIAL  FX_GenericTankDeathEffect
    FX  = FINAL    FX_GenericTankDeathExplosion
    OCL = FINAL    OCL_T90MDebris
  End
  ; Catch fire, and explode death
  Behavior = SlowDeathBehavior DeathTag_02
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier  = 50
    DestructionDelay  = 2000
    DestructionDelayVariance  = 300
    FX  = INITIAL  FX_CrusaderCatchFire
    OCL = FINAL    OCL_T90MDebris
    FX  = FINAL    FX_BattleMasterExplosionOneFinal
  End
  ; A crushing defeat
  Behavior = DestroyDie DeathTag_03
    DeathTypes = NONE +CRUSHED +SPLATTED
  End
  Behavior = FXListDie DeathTag_04
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  Behavior = CreateObjectDie DeathTag_05
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_T90_CrushEffect
  End
  ; Behavior = CreateCrateDie DeathTag_06
    ; CrateData = SalvageCrateData
    ; ;CrateData = EliteTankCrateData
    ; ;CrateData = HeroicTankCrateData
  ; End
;Stealth-------------------------------------------------------------
;---------------------------------------------------------------------

  Behavior = TransitionDamageFX ModuleTag_06
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_07
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = ProductionUpdate ModuleTag_08
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End

  Behavior = AutoHealBehavior ModuleTag_09
    HealingAmount = 2
    HealingDelay = 1000 ; msec
    TriggeredBy = Upgrade_GLAJunkRepair
  End
  
  Behavior = WeaponSetUpgrade ModuleTag_10
    TriggeredBy = Upgrade_GLAScorpionRocket
  End
  
  ; Behavior = OverlordContain ModuleTag_09 ; Like Transport, but when full, passes transport queries along to first passenger (redirects like tunnel) 
    ; Slots                 = 1
    ; DamagePercentToUnits        = 100%
    ; AllowInsideKindOf     = PORTABLE_STRUCTURE
    ; PassengersAllowedToFire = Yes
    ; PassengersInTurret = Yes ; My passengers ride in my turret, that's where the Firepoint bones are
    ; ExperienceSinkForRider = Yes ; I get the Exp for things my turret friend kills
  ; End

  ; Behavior           = OCLSpecialPower ModuleTag_10
    ; SpecialPowerTemplate = SuperweaponSmokeGrenades
    ; OCL                  = OCL_ShtoraFireObject
    ; CreateLocation       = USE_OWNER_OBJECT
  ; End

  ; Behavior = MissileLauncherBuildingUpdate ModuleTag_11
    ; SpecialPowerTemplate = SuperweaponSmokeGrenades
    ; DoorOpenTime         = 1000
    ; DoorWaitOpenTime     = 1000
    ; DoorCloseTime        = 6000
  ; End

  Behavior = StealthUpdate ModuleStealth_GPSScramblerGenericStealthModule
    StealthDelay                = 2000 ; msec
    InnateStealth               = Yes
    StealthForbiddenConditions  = ATTACKING USING_ABILITY
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
    RequiredStatus = REASSIGN_PARKING
  End

  Geometry = BOX
  GeometryMajorRadius = 16.0
  GeometryMinorRadius = 11.0
  GeometryHeight = 12     
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME    
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length
  Scale = 0.97
End

;------------------------------------------------------------------------------
Object Boss_SovietVehicleKurier

  ; *** ART Parameters ***
  SelectPortrait         = SACTomahawk_L
  ButtonImage            = SACTomahawk
  
  ;UpgradeCameo1 = Upgrade_Range
  ;UpgradeCameo2 = Upgrade_AdvancedWarhead
  ;UpgradeCameo3 = Upgrade_ChinaTruckArmor

  Draw = W3DTruckDraw ModuleTag_01
    OkToChangeModelColor = Yes

    ProjectileBoneFeedbackEnabledSlots = PRIMARY

    DefaultConditionState
      Model                           = RU-SSXX26
      Animation                       = RU-SSXX26.RU-SSXX26
      AnimationMode                   = ONCE_BACKWARDS
      Flags                           = START_FRAME_FIRST
      WeaponLaunchBone                = PRIMARY WEAPONA
      WeaponFireFXBone                = PRIMARY FIREFX
    End
      
    ConditionState                    = RUBBLE
      Model                           = RU-SSXX26_D
      Animation                       = RU-SSXX26_D.RU-SSXX26_D
      AnimationMode                   = ONCE_BACKWARDS
      Flags                           = START_FRAME_FIRST
      WeaponLaunchBone                = PRIMARY WEAPONA
      WeaponFireFXBone                = PRIMARY FIREFX
    End

    ;*** PACKED STATE -- ready to move ***
    ConditionState    = MOVING
      Animation       = RU-SSXX26.RU-SSXX26
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_FIRST
    End
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_A
    AliasConditionState = BETWEEN_FIRING_SHOTS_A

    ConditionState    = REALLYDAMAGED MOVING
      Model           = RU-SSXX26_D 
      Animation       = RU-SSXX26_D.RU-SSXX26_D
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_FIRST
    End
    AliasConditionState = REALLYDAMAGED MOVING BETWEEN_FIRING_SHOTS_A
     
    ;*** UNPACKING STATE  -- preparing to fire ***
    ConditionState    = UNPACKING
      Animation       = RU-SSXX26.RU-SSXX26
      AnimationMode   = ONCE
    End
    AliasConditionState = UNPACKING BETWEEN_FIRING_SHOTS_A

    ConditionState    = REALLYDAMAGED UNPACKING
      Model           = RU-SSXX26_D 
      Animation       = RU-SSXX26.RU-SSXX26
      AnimationMode   = ONCE
    End
    AliasConditionState = REALLYDAMAGED UNPACKING BETWEEN_FIRING_SHOTS_A

    ;*** PACKING STATE -- preparing to move ***
    ConditionState    = PACKING
      Animation       = RU-SSXX26.RU-SSXX26
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End
    AliasConditionState = PACKING BETWEEN_FIRING_SHOTS_A

    ConditionState    = REALLYDAMAGED PACKING
      Model           = RU-SSXX26_D
      Animation       = RU-SSXX26_D.RU-SSXX26_D
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End
    AliasConditionState = REALLYDAMAGED PACKING BETWEEN_FIRING_SHOTS_A

    ;*** DEPLOYED STATE -- ready to fire ***
    ConditionState  = DEPLOYED
      Model           = RU-SSXX26
      Animation       = RU-SSXX26.RU-SSXX26
      AnimationMode   = ONCE
      WeaponLaunchBone                = PRIMARY WEAPONA
      Flags           = START_FRAME_LAST
    End
    AliasConditionState = DEPLOYED MOVING
    AliasConditionState = DEPLOYED BETWEEN_FIRING_SHOTS_A
    AliasConditionState = DEPLOYED FIRING_A
    AliasConditionState = DEPLOYED RELOADING_A

    ConditionState  = DEPLOYED REALLYDAMAGED
      Model           = RU-SSXX26_D
      Animation       = RU-SSXX26_D.RU-SSXX26_D
      WeaponLaunchBone                = PRIMARY WEAPONA
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
    End
    AliasConditionState = DEPLOYED REALLYDAMAGED MOVING
    AliasConditionState = DEPLOYED REALLYDAMAGED BETWEEN_FIRING_SHOTS_A
    AliasConditionState = DEPLOYED REALLYDAMAGED FIRING_A
    AliasConditionState = DEPLOYED REALLYDAMAGED RELOADING_A

    TrackMarks = EXTireTrack.tga

    Dust = ScudLauncherDust
    DirtSpray = RocketBuggyDirtSpray
    PowerslideSpray = RocketBuggyDirtPowerSlide

    ; These parameters are only used if the model has a separate suspension,
    ; and the locomotor has HasSuspension = Yes.
    LeftFrontTireBone = Tire01
    RightFrontTireBone = Tire05
    MidLeftFrontTireBone = Tire02
    MidRightFrontTireBone = Tire06
    MidRightRearTireBone = Tire04
    MidLeftRearTireBone  = Tire08
    LeftRearTireBone = Tire03

    TireRotationMultiplier = 0.2   ; this * speed = rotation.
    ;PowerslideRotationAddition = 0.0   ; This speed is added to the rotation speed when powersliding.

  End

  ; ***DESIGN parameters ***
  DisplayName     = OBJECT:Kurier
  Side            = Boss
  EditorSorting   = VEHICLE
  TransportSlotCount = 8                 ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions = None 
    Weapon = PRIMARY KurierMissileWeapon
    Weapon = SECONDARY S300FakeWeapon
    ;ShareWeaponReloadTime = Yes
  End

  ; WeaponSet
    ; Conditions = PLAYER_UPGRADE 
    ; Weapon = PRIMARY KurierMissileWeapon2
    ; Weapon = SECONDARY S300FakeWeapon
    ; ;ShareWeaponReloadTime = Yes
  ; End
  
  ArmorSet
    Conditions      = None
    Armor           = ArtilleryVehicleArmor
    DamageFX        = TruckDamageFX
  End

  BuildCost       = 30000
  BuildTime       = 50.0          ;in seconds    
  VisionRange     = 200
  ShroudClearingRange = 200
  Prerequisites
    Object  = Boss_WarFactory
    Object  = Boss_TechCentr
    Object  = Boss_EnergyPlant
  End

  ExperienceValue         = 200 200 300 450  ;Experience point value at each level
  ExperienceRequired      = 0 1000 2000 3500   ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet    = IskanderCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect           = KurierSelect
  VoiceMove             = KurierMoving
  VoiceGuard            = KurierGuard
  VoiceAttack           = KurierAttack
  SoundMoveStart        = ScudLauncherMoveStart
  SoundMoveStartDamaged = ScudLauncherMoveStart
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate         = KurierCreate
    VoiceGuard            = KurierGuard
    Deploy              = 3secDeploySound
    Undeploy            = 3secUnDeploySound
  End


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = SALVAGER PRELOAD SELECTABLE CAN_ATTACK CANNOT_RETALIATE DONT_AUTO_CRUSH_INFANTRY CAN_CAST_REFLECTIONS VEHICLE HUGE_VEHICLE SCORE
  
  Body = ActiveBody ModuleTag_02
    MaxHealth       = 450.0
    InitialHealth   = 450.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 480
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

   Behavior = DeployStyleAIUpdate ModuleTag_03
    AutoAcquireEnemiesWhenIdle = No
    PackTime = 3333
    UnpackTime = 3333
    TurretsFunctionOnlyWhenDeployed = Yes
    TurretsMustCenterBeforePacking = Yes
    ManualDeployAnimations = Yes
  End

  Locomotor = SET_NORMAL IskanderLocomotor
  ;Locomotor = SET_NORMAL_UPGRADED SmerchLocomotorL2

  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 100.0
  End

;Upgrades----------------------------------------------------------
  ; Behavior = WeaponBonusUpgrade Upgrade_01
    ; TriggeredBy = Upgrade_Range
  ; End
  ; Behavior = WeaponSetUpgrade Upgrade_02
    ; TriggeredBy = Upgrade_Range
  ; End
    ; Behavior = LocomotorSetUpgrade Upgrade_03
    ; TriggeredBy = Upgrade_BallisticCommandset
  ; End
  ; Behavior                = ArmorUpgrade Upgrade_04
    ; TriggeredBy           = Upgrade_BallisticCommandset
  ; End
;Deaths-------------------------------------------------------------
  Behavior = SlowDeathBehavior DeathTag_01
    DeathTypes = ALL -CRUSHED -SPLATTED
    FX  = INITIAL  FX_BigMissileCarrierDeath
    OCL = MIDPOINT OCL_SCUDDebrisFlyoff
    OCL = FINAL    OCL_KurierDebris
  End
  Behavior = SlowDeathBehavior DeathTag_02
    DeathTypes = NONE +NORMAL +BURNED
    FX = INITIAL FX_BigTruckDeathFX
    FX = FINAL FX_BuggyNewDeathExplosion
    OCL = FINAL    OCL_KurierDebris
  End
    ; A crushing defeat
  Behavior = DestroyDie DeathTag_03
    DeathTypes = NONE +CRUSHED +SPLATTED
  End

  Behavior = FXListDie DeathTag_04
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  Behavior = CreateObjectDie DeathTag_05
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_T90_CrushEffect
  End
;Stealth-------------------------------------------------------------
;---------------------------------------------------------------------

  Behavior = TransitionDamageFX ModuleTag_05
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End
  Behavior = ProductionUpdate ModuleTag_06
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End

  ; Behavior = CreateCrateDie ModuleTag_07
    ; CrateData = SalvageCrateData2
    ; ;CrateData = EliteTankCrateData
    ; ;CrateData = HeroicTankCrateData
  ; End

  Behavior = FlammableUpdate ModuleTag_08
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = CommandButtonHuntUpdate  ModuleTag_22 ; allows use of command button hunt script with this unit. 
  End

  ; Behavior = VeterancyGainCreate ModuleTag_09
    ; StartingLevel = VETERAN
    ; ScienceRequired = SCIENCE_ArtilleryVeteran
   ; End

  Behavior = StealthUpdate ModuleTag_07
    StealthDelay                = 5000 ; msec
    StealthForbiddenConditions  = ATTACKING USING_ABILITY MOVING
    FriendlyOpacityMin          = 50.0%
    FriendlyOpacityMax          = 100.0%
    InnateStealth               = Yes
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
  End
  
  ; Behavior = StealthUpdate ModuleStealth_GPSScramblerSuperUnitsStealthModule
    ; StealthDelay                = 5000 ; msec
    ; InnateStealth               = Yes
    ; StealthForbiddenConditions  = ATTACKING USING_ABILITY MOVING
    ; OrderIdleEnemiesToAttackMeUponReveal  = Yes
    ; RequiredStatus = REASSIGN_PARKING
  ; End

  Geometry            = BOX
  GeometryMajorRadius = 33.0
  GeometryMinorRadius = 8.0
  GeometryHeight      = 15.0     
  GeometryIsSmall     = Yes
  Shadow              = SHADOW_VOLUME 
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length   
  Scale = 1.05
End

;-------------------------------------------------------------
Object Boss_RussianRobotUran9

  ; *** ART Parameters ***
  SelectPortrait         = SAASentry
  ButtonImage            = SAASentry

  ;UpgradeCameo1 = Upgrade_Reflection
  
  Draw = W3DTankDraw ModuleTag_01
    OkToChangeModelColor = Yes

    DefaultConditionState
      Model                           = RU_URAN9
      Animation                       = RU_URAN9.RU_URAN9
      AnimationMode                   = ONCE_BACKWARDS
      Turret                          = TURRET
      Flags                           = START_FRAME_FIRST
      WeaponFireFXBone    = PRIMARY WeaponA
      WeaponLaunchBone    = PRIMARY WeaponA
      WeaponFireFXBone    = SECONDARY WeaponB
      WeaponLaunchBone    = SECONDARY WeaponB
      WeaponFireFXBone    = TERTIARY WeaponC
      WeaponLaunchBone    = TERTIARY WeaponC
    End
      
    ConditionState                    = RUBBLE
      Model                           = RU_URAN9_D
      Animation                       = RU_URAN9_D.RU_URAN9_D
      AnimationMode                   = ONCE_BACKWARDS
      Flags                           = START_FRAME_FIRST
      WeaponFireFXBone    = PRIMARY WeaponA
      WeaponLaunchBone    = PRIMARY WeaponA
      WeaponFireFXBone    = SECONDARY WeaponB
      WeaponLaunchBone    = SECONDARY WeaponB
      WeaponFireFXBone    = TERTIARY WeaponC
      WeaponLaunchBone    = TERTIARY WeaponC
    End

    ;*** PACKED STATE -- ready to move ***
    ConditionState    = MOVING
      Animation                       = RU_URAN9.RU_URAN9
      AnimationMode                   = ONCE_BACKWARDS
      Flags                           = START_FRAME_FIRST
    End
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_A ;Very long shot delay -- possibly moving
    AliasConditionState = BETWEEN_FIRING_SHOTS_A
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_B ;Very long shot delay -- possibly moving
    AliasConditionState = BETWEEN_FIRING_SHOTS_B
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_C ;Very long shot delay -- possibly moving
    AliasConditionState = BETWEEN_FIRING_SHOTS_C

    ;***
    ConditionState    = REALLYDAMAGED MOVING
      Model                           = RU_URAN9_D
      Animation                       = RU_URAN9_D.RU_URAN9_D
      AnimationMode                   = ONCE_BACKWARDS
      Flags                           = START_FRAME_FIRST
    End
    AliasConditionState = REALLYDAMAGED MOVING BETWEEN_FIRING_SHOTS_A
    AliasConditionState = REALLYDAMAGED MOVING BETWEEN_FIRING_SHOTS_B
    AliasConditionState = REALLYDAMAGED MOVING BETWEEN_FIRING_SHOTS_C
     

    ;*** UNPACKING STATE  -- preparing to fire ***
    ConditionState    = UNPACKING
      Animation                       = RU_URAN9.RU_URAN9
      AnimationMode   = ONCE
    End
    AliasConditionState = UNPACKING BETWEEN_FIRING_SHOTS_A ;Very long shot delay
    AliasConditionState = UNPACKING BETWEEN_FIRING_SHOTS_B ;Very long shot delay
    AliasConditionState = UNPACKING BETWEEN_FIRING_SHOTS_C ;Very long shot delay
    ;***
    ConditionState    = REALLYDAMAGED UNPACKING
      Model                           = RU_URAN9_D
      Animation                       = RU_URAN9_D.RU_URAN9_D
      AnimationMode   = ONCE
    End
    AliasConditionState = REALLYDAMAGED UNPACKING BETWEEN_FIRING_SHOTS_A ;Very long shot delay
    AliasConditionState = REALLYDAMAGED UNPACKING BETWEEN_FIRING_SHOTS_B ;Very long shot delay
    AliasConditionState = REALLYDAMAGED UNPACKING BETWEEN_FIRING_SHOTS_C ;Very long shot delay

    ;*** PACKING STATE -- preparing to move ***
    ConditionState    = PACKING
      Animation                       = RU_URAN9.RU_URAN9
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End

    AliasConditionState = PACKING BETWEEN_FIRING_SHOTS_A ;Very long shot delay
    AliasConditionState = PACKING BETWEEN_FIRING_SHOTS_B ;Very long shot delay
    AliasConditionState = PACKING BETWEEN_FIRING_SHOTS_C ;Very long shot delay
    ;***
    ConditionState    = REALLYDAMAGED PACKING
      Model                           = RU_URAN9_D
      Animation                       = RU_URAN9_D.RU_URAN9_D
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End
    AliasConditionState = REALLYDAMAGED PACKING BETWEEN_FIRING_SHOTS_A ;Very long shot delay
    AliasConditionState = REALLYDAMAGED PACKING BETWEEN_FIRING_SHOTS_B ;Very long shot delay
    AliasConditionState = REALLYDAMAGED PACKING BETWEEN_FIRING_SHOTS_C ;Very long shot delay

    ;*** DEPLOYED STATE -- ready to fire ***
    ConditionState  = DEPLOYED 
      Animation                       = RU_URAN9.RU_URAN9
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
    End
    AliasConditionState = DEPLOYED FIRING_A
    AliasConditionState = DEPLOYED BETWEEN_FIRING_SHOTS_A
    AliasConditionState = DEPLOYED RELOADING_A
    AliasConditionState = DEPLOYED FIRING_B
    AliasConditionState = DEPLOYED BETWEEN_FIRING_SHOTS_B
    AliasConditionState = DEPLOYED RELOADING_B
    AliasConditionState = DEPLOYED FIRING_C
    AliasConditionState = DEPLOYED BETWEEN_FIRING_SHOTS_C
    AliasConditionState = DEPLOYED RELOADING_C
    AliasConditionState = DEPLOYED MOVING

    ConditionState  = DEPLOYED REALLYDAMAGED
      Model                           = RU_URAN9_D
      Animation                       = RU_URAN9_D.RU_URAN9_D
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
    End
    AliasConditionState = DEPLOYED REALLYDAMAGED FIRING_A
    AliasConditionState = DEPLOYED REALLYDAMAGED BETWEEN_FIRING_SHOTS_A
    AliasConditionState = DEPLOYED REALLYDAMAGED RELOADING_A
    AliasConditionState = DEPLOYED REALLYDAMAGED FIRING_B
    AliasConditionState = DEPLOYED REALLYDAMAGED BETWEEN_FIRING_SHOTS_B
    AliasConditionState = DEPLOYED REALLYDAMAGED RELOADING_B
    AliasConditionState = DEPLOYED REALLYDAMAGED FIRING_C
    AliasConditionState = DEPLOYED REALLYDAMAGED BETWEEN_FIRING_SHOTS_C
    AliasConditionState = DEPLOYED REALLYDAMAGED RELOADING_C
    AliasConditionState = DEPLOYED REALLYDAMAGED MOVING
  
    TrackMarks              = EXTnkTrack.tga
    TreadAnimationRate      = 2.0  ; amount of tread texture to move per second
  End

; ***DESIGN parameters ***
  DisplayName      = OBJECT:Uran
  Side = Boss
  EditorSorting   = VEHICLE
  TransportSlotCount = 2                 ;how many "slots" we take in a transport (0 == not transportable)

  WeaponSet
    Conditions = None
    Weapon = PRIMARY Uran9Gun
	PreferredAgainst = PRIMARY INFANTRY
	AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
    Weapon = SECONDARY Uran9SmallRocketWeapon
	PreferredAgainst = SECONDARY VEHICLE STRUCTURE
	AutoChooseSources = SECONDARY FROM_PLAYER FROM_SCRIPT FROM_AI
	Weapon = TERTIARY UranRPOMissileLauncher
	PreferredAgainst = TERTIARY INFANTRY VEHICLE STRUCTURE
	AutoChooseSources = TERTIARY FROM_PLAYER FROM_SCRIPT FROM_AI
  End
  
  WeaponSet
    Conditions = MINE_CLEARING_DETAIL 
    Weapon = PRIMARY DozerMineDisarmingWeapon
  End
 
  ArmorSet
    Conditions      = None
    Armor           = LightVehicleArmor
    DamageFX        = TankDamageFX
  End

  BuildCost       = 150
  BuildTime       = 20.0          ;in seconds    
  VisionRange     = 225
  ShroudClearingRange = 150
  Prerequisites
	Object = Boss_WarFactory
	Object = Boss_TechCentr
  End

  ExperienceValue         = 85 85 140 225  ;Experience point value at each level
  IsTrainable = No             ;Can gain experience
  CrusherLevel           = 0  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet      = RussiaRobotUranCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect           = SentryDroneVoiceSelect
  VoiceMove             = SentryDroneVoiceMove
  VoiceGuard            = SentryDroneVoiceMove
  VoiceAttack           = SentryDroneVoiceMove
  SoundMoveStart        = SentryDroneMoveStart
  SoundMoveStartDamaged = NoSound
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate         = NoSound
    TurretMoveStart     = NoSound
    TurretMoveLoop      = NoSound
    VoiceEnter          = NoSound
    Deploy              = NoSound
    Undeploy            = NoSound
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority     = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS VEHICLE SCORE ATTACK_NEEDS_LINE_OF_SIGHT DRONE
  Body              = ActiveBody ModuleTag_02
    MaxHealth       = 400.0
    InitialHealth   = 400.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 600
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

  Behavior = DeployStyleAIUpdate ModuleTag_03
    Turret
      TurretTurnRate        = 450
      AllowsPitch           = No
      RecenterTime          = 100         ; how long to wait during idle before recentering
      ControlledWeaponSlots = PRIMARY SECONDARY TERTIARY
      NaturalTurretAngle    = 0
      InitiallyDisabled     = No
    End
    AutoAcquireEnemiesWhenIdle = Yes
    PackTime = 100
    UnpackTime = 200
    TurretsFunctionOnlyWhenDeployed = Yes
    TurretsMustCenterBeforePacking = Yes
    ManualDeployAnimations = No
    AutoAcquireEnemiesWhenIdle = Yes
    MoodAttackCheckRate        = 10
  End

  Locomotor = SET_NORMAL Uran9Locomotor
  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 30.0
  End

;Upgrades----------------------------------------------------------
  ; Behavior = WeaponBonusUpgrade Upgrade_01
    ; TriggeredBy = Upgrade_Range
  ; End
  ; Behavior = MaxHealthUpgrade Upgrade_Armor
    ; TriggeredBy   = Upgrade_Reflection
    ; AddMaxHealth  = 100
    ; ChangeType    = ADD_CURRENT_HEALTH_TOO
  ; End
;Deaths-------------------------------------------------------------
  ; Catch fire, and explode death
  Behavior = SlowDeathBehavior DeathTag_01
    ;DeathTypes = ALL -CRUSHED -SPLATTED -POISONED -POISONED_BETA -EXTRA_8
	DeathTypes = ALL -CRUSHED -SPLATTED -POISONED -POISONED_BETA
    FX = INITIAL FX_BigTruckDeathFX
    FX = FINAL FX_BuggyNewDeathExplosion
    OCL = FINAL    OCL_URAN9Debris
  End
    Behavior = SlowDeathBehavior DeathTag_02
    ;DeathTypes = ALL -CRUSHED -SPLATTED -POISONED -POISONED_BETA -EXTRA_8
	DeathTypes = ALL -CRUSHED -SPLATTED -POISONED -POISONED_BETA
    FX = INITIAL FX_BigTruckDeathFX
    FX = MIDPOINT FX_BTRBurningAmmo
    ;OCL = MIDPOINT OCL_BRDMRandomRockets
    FX = FINAL FX_BuggyNewDeathExplosion
    OCL = FINAL    OCL_URAN9Debris
  End
  ; A crushing defeat
  Behavior = DestroyDie DeathTag_03
    DeathTypes = NONE +CRUSHED +SPLATTED
  End
  Behavior = FXListDie DeathTag_04
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  Behavior = CreateObjectDie DeathTag_05
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_URAN9Debris
  End
  ; Behavior = UpgradeDie  DeathTag_07
    ; ;This frees the object based upgrade for the producer object.
    ; DeathTypes = ALL
    ; UpgradeToRemove     = Upgrade_ChinaOverlordPropagandaTower
  ; End
  ;Radiation
  ; Behavior = SlowDeathBehavior DeathTag_08
    ; DeathTypes = NONE +EXTRA_8
    ; FX  = INITIAL FX_VehicleRadiationDeath
    ; SinkRate = 2.5
    ; SinkDelay = 6000
    ; DestructionDelay = 14000
  ; End
;Poison
  Behavior = SlowDeathBehavior DeathTag_09
    DeathTypes = NONE +POISONED
    FX  = INITIAL FX_VehiclePoisonDeath
    SinkRate = 2.5
    SinkDelay = 6000
    DestructionDelay = 14000
  End
;PoisonBeta
    Behavior = SlowDeathBehavior DeathTag_10
    DeathTypes = NONE +POISONED_BETA
    FX  = INITIAL FX_VehiclePoisonBetaDeath
    SinkRate = 2.5
    SinkDelay = 6000
    DestructionDelay = 14000
  End
;Stealth-------------------------------------------------------------
;---------------------------------------------------------------------

  Behavior = TransitionDamageFX ModuleTag_05
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_ScudLauncherDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_06
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  ; Behavior = CreateCrateDie ModuleTag_07
    ; CrateData = SalvageCrateData
    ; ;CrateData = EliteTankCrateData
    ; ;CrateData = HeroicTankCrateData
  ; End

  Behavior = StealthUpdate ModuleStealth_GPSScramblerGenericStealthModule
    StealthDelay                = 2000 ; msec
    InnateStealth               = Yes
    StealthForbiddenConditions  = ATTACKING USING_ABILITY
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
    RequiredStatus = REASSIGN_PARKING
  End

  Geometry            = BOX
  GeometryMajorRadius = 5.0
  GeometryMinorRadius = 4.0
  GeometryHeight      = 5.0     
  GeometryIsSmall     = Yes
  Shadow              = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length
  Scale = 0.92    
End

;==========================================================================================================================
Object Boss_RussianVehicleS400

  ; *** ART Parameters ***
  SelectPortrait         = SAPatriot_L
  ButtonImage            = SAPatriot
  
  ; UpgradeCameo1 = Upgrade_Range
  ; UpgradeCameo2 = Upgrade_Reflection
  
  Draw = W3DTruckDraw ModuleTag_01
    OkToChangeModelColor = Yes


    DefaultConditionState
      Model           = RUS-300PMU2
      Animation       = RUS-300PMU2.RUS-300PMU2
      AnimationMode                   = ONCE_BACKWARDS
      Turret                          = TURRET01
      Flags                           = START_FRAME_FIRST
      WeaponLaunchBone                = PRIMARY WEAPONA
      WeaponLaunchBone                = SECONDARY WEAPONA
      WeaponLaunchBone                = TERTIARY WEAPONA
      WeaponFireFXBone                = PRIMARY WEAPONA
      WeaponFireFXBone                = SECONDARY WEAPONA
      WeaponFireFXBone                = TERTIARY WEAPONA
      WeaponMuzzleFlash   = PRIMARY FIREFX
      WeaponMuzzleFlash   = TERTIARY FIREFXB
    End
      
    ConditionState                    = RUBBLE
      Model           = RUS-300PMU2DM
      Animation       = RUS-300PMU2DM.RUS-300PMU2DM
      AnimationMode                   = ONCE_BACKWARDS
      Turret                          = TURRET01
      Flags                           = START_FRAME_FIRST
      WeaponLaunchBone                = PRIMARY WEAPONA
      WeaponLaunchBone                = SECONDARY WEAPONA
      WeaponLaunchBone                = TERTIARY WEAPONA
      WeaponFireFXBone                = PRIMARY WEAPONA
      WeaponFireFXBone                = SECONDARY WEAPONA
      WeaponFireFXBone                = TERTIARY WEAPONA
      WeaponMuzzleFlash   = PRIMARY FIREFX
      WeaponMuzzleFlash   = TERTIARY FIREFXB
    End

    AliasConditionState = DAMAGED
    AliasConditionState = REALLYDAMAGED

    ;*** PACKED STATE -- ready to move ***
    ConditionState    = MOVING
      Animation       = RUS-300PMU2.RUS-300PMU2
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_FIRST
    End
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_B
    AliasConditionState = BETWEEN_FIRING_SHOTS_B

    ConditionState    = REALLYDAMAGED MOVING
      Model           = RUS-300PMU2DM
      Animation       = RUS-300PMU2DM.RUS-300PMU2DM
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_FIRST
    End
    AliasConditionState = REALLYDAMAGED MOVING BETWEEN_FIRING_SHOTS_B
     
    ;*** UNPACKING STATE  -- preparing to fire ***
    ConditionState    = UNPACKING
      Animation       = RUS-300PMU2.RUS-300PMU2
      AnimationMode   = ONCE
    End
    AliasConditionState = UNPACKING BETWEEN_FIRING_SHOTS_B

    ConditionState    = REALLYDAMAGED UNPACKING
      Model           = RUS-300PMU2DM
      Animation       = RUS-300PMU2DM.RUS-300PMU2DM
      AnimationMode   = ONCE
    End
    AliasConditionState = REALLYDAMAGED UNPACKING BETWEEN_FIRING_SHOTS_B
    AliasConditionState = DAMAGED UNPACKING
    AliasConditionState = RUBBLE UNPACKING
    AliasConditionState = DAMAGED UNPACKING BETWEEN_FIRING_SHOTS_B
    AliasConditionState = RUBBLE UNPACKING BETWEEN_FIRING_SHOTS_B

    ;*** PACKING STATE -- preparing to move ***
    ConditionState    = PACKING
      Animation       = RUS-300PMU2.RUS-300PMU2
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End
    AliasConditionState = PACKING BETWEEN_FIRING_SHOTS_B

    ConditionState    = REALLYDAMAGED PACKING
      Model           = RUS-300PMU2DM
      Animation       = RUS-300PMU2DM.RUS-300PMU2DM
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End
    AliasConditionState = REALLYDAMAGED PACKING BETWEEN_FIRING_SHOTS_B


    ;*** DEPLOYED STATE -- ready to fire ***
    ConditionState  = DEPLOYED
      Model           = RUS-300PMU2
      Animation       = RUS-300PMU2.RUS-300PMU2
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
    End
    AliasConditionState = DEPLOYED MOVING
    AliasConditionState = DEPLOYED BETWEEN_FIRING_SHOTS_B
    AliasConditionState = DEPLOYED FIRING_B
    AliasConditionState = DEPLOYED RELOADING_B

    ConditionState  = DEPLOYED REALLYDAMAGED
      Model           = RUS-300PMU2DM
      Animation       = RUS-300PMU2DM.RUS-300PMU2DM
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
    End
    AliasConditionState = DEPLOYED REALLYDAMAGED MOVING
    AliasConditionState = DEPLOYED REALLYDAMAGED BETWEEN_FIRING_SHOTS_B
    AliasConditionState = DEPLOYED REALLYDAMAGED FIRING_B
    AliasConditionState = DEPLOYED REALLYDAMAGED RELOADING_B

    OkToChangeModelColor = Yes

    TrackMarks = EXTireTrack.tga

    Dust = ScudLauncherDust

    ; These parameters are only used if the model has a separate suspension,
    ; and the locomotor has HasSuspension = Yes.
    LeftFrontTireBone = Tire01
    RightFrontTireBone = Tire05
    LeftRearTireBone = Tire04
    RightRearTireBone = Tire08
    MidLeftFrontTireBone = Tire02
    MidRightFrontTireBone = Tire06
    MidLeftRearTireBone = Tire03
    MidRightRearTireBone = Tire07

    TireRotationMultiplier = 0.2   ; this * speed = rotation.
  End

  ; ***DESIGN parameters ***
  DisplayName               = OBJECT:S400
  Side                      = Boss
  EditorSorting             = VEHICLE
  TransportSlotCount        = 8            ;how many "slots" we take in a transport (0 == not transportable)
  
  WeaponSet
    Conditions = None
    Weapon            = PRIMARY S300GrumbleDummyWeapon
    AutoChooseSources = PRIMARY NONE
    Weapon            = SECONDARY S400MissileWeapon
  End
  
  ArmorSet
    Conditions      = None
    Armor           = HeavyAntiAirArmor
    DamageFX        = TruckDamageFX
  End

  BuildCost          = 45000
  BuildTime          = 25.0          ;in seconds    
  VisionRange        = 400
  ShroudClearingRange = 350
  Prerequisites
    Object = Boss_WarFactory
    Object = Boss_TechCentr
	Object = Boss_RussiaSatelliteCenter
  End

  ExperienceValue         = 200 200 250 400  ;Experience point value at each level
  IsTrainable = No             ;Can gain experience
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet      = Boss_GrumbleCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect       = S300VoiceSelect
  VoiceMove         = S300VoiceMove
  VoiceGuard        = S300VoiceGuard
  VoiceAttack       = S300VoiceAttack
  SoundMoveStart    = ScudLauncherMoveStart
  SoundMoveStartDamaged = ScudLauncherMoveStart
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate     = S300VoiceCreate
    Deploy              = SAMDeploy
    Undeploy            = SAMUNDeploy
    VoiceEnter         = S300VoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = SALVAGER PRELOAD IGNORES_SELECT_ALL  CAN_ATTACK SELECTABLE DONT_AUTO_CRUSH_INFANTRY CAN_CAST_REFLECTIONS VEHICLE HUGE_VEHICLE FS_TECHNOLOGY SCORE
  
  Body = ActiveBody ModuleTag_02
    MaxHealth       = 350.0
    InitialHealth   = 350.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 480
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

   Behavior = DeployStyleAIUpdate ModuleTag_03
   Turret
      TurretTurnRate        = 0
      TurretPitchRate       = 0
      ControlledWeaponSlots = PRIMARY SECONDARY TERTIARY
      InitiallyDisabled     = Yes
    End
    PackTime = 3333
    UnpackTime = 3333
    TurretsFunctionOnlyWhenDeployed = Yes
    TurretsMustCenterBeforePacking = Yes
    ManualDeployAnimations = Yes
    AutoAcquireEnemiesWhenIdle = Yes
    MoodAttackCheckRate        = 1
  End
  
  Locomotor = SET_NORMAL S400Locomotor
  
  Behavior = PhysicsBehavior ModuleTag_06
    Mass = 50.0
  End
  
  Behavior = FireWeaponCollide ModuleTag_07
    CollideWeapon  = S300GrumbleDeployedDecalWeapon
    RequiredStatus = DEPLOYED
  End

  ; Catch fire, and explode death
  Behavior = SlowDeathBehavior DeathTag_01
	DeathTypes = ALL -NORMAL -BURNED -CRUSHED -SPLATTED -POISONED -POISONED_BETA
    FX  = INITIAL FX_BigMissileCarrierDeath
    OCL = MIDPOINT OCL_SCUDDebrisFlyoff
    OCL = FINAL OCL_S300Debris
  End
  Behavior = SlowDeathBehavior DeathTag_02
    DeathTypes = NONE +NORMAL +BURNED
    FX = INITIAL FX_BigTruckDeathFX
    FX = FINAL FX_BuggyNewDeathExplosion
    OCL = FINAL OCL_S300Debris
  End
  ; A crushing defeat
  Behavior = DestroyDie DeathTag_05
    DeathTypes = NONE +CRUSHED +SPLATTED
  End
  Behavior = FXListDie DeathTag_06
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  Behavior = CreateObjectDie DeathTag_07
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_S300Debris
  End
;Poison
  Behavior = SlowDeathBehavior DeathTag_09
    DeathTypes = NONE +POISONED
    FX  = INITIAL FX_VehiclePoisonDeath
    SinkRate = 2.5
    SinkDelay = 6000
    DestructionDelay = 14000
  End
;PoisonBeta
  Behavior = SlowDeathBehavior DeathTag_10
    DeathTypes = NONE +POISONED_BETA
    FX  = INITIAL FX_VehiclePoisonBetaDeath
    SinkRate = 2.5
    SinkDelay = 6000
    DestructionDelay = 14000
  End
  
  Behavior = ProductionUpdate ModuleTag_08
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End
  
  Behavior = FlammableUpdate ModuleTag_09
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End
  
  Behavior = StealthUpdate ModuleStealth_GPSScramblerGenericStealthModule
    StealthDelay                = 2000 ; msec
    InnateStealth               = Yes
    StealthForbiddenConditions  = ATTACKING USING_ABILITY
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
    RequiredStatus = REASSIGN_PARKING
  End

  Geometry            = BOX
  GeometryMajorRadius = 29.0
  GeometryMinorRadius = 8.0
  GeometryHeight      = 15.0     
  GeometryIsSmall     = Yes
  Shadow              = SHADOW_VOLUME 
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length   
  Scale = 1.1
End

;==========================================================================================================================
Object Boss_RussianVehicleS500

  ; *** ART Parameters ***
  SelectPortrait         = SAMicroPat_L
  ButtonImage            = SAMicroPat
  
  Draw = W3DTruckDraw ModuleTag_01
    OkToChangeModelColor = Yes


     DefaultConditionState
      Model                           = RU-S500
      Animation                       = RU-S500.RU-S500
      AnimationMode                   = ONCE_BACKWARDS
      Turret                          = TURRET01
      Flags                           = START_FRAME_FIRST
      WeaponLaunchBone                = PRIMARY WEAPONA
      WeaponLaunchBone                = SECONDARY WEAPONA
      WeaponLaunchBone                = TERTIARY WEAPONA
      WeaponFireFXBone                = PRIMARY WEAPONA
      WeaponFireFXBone                = SECONDARY WEAPONA
      WeaponFireFXBone                = TERTIARY WEAPONA
      WeaponMuzzleFlash   = PRIMARY FIREFX
      WeaponMuzzleFlash   = TERTIARY FIREFXB
    End
      
    ConditionState                    = RUBBLE
      Model                           = RU-S500_D
      Animation                       = RU-S500_D.RU-S500_D
      AnimationMode                   = ONCE_BACKWARDS
      Turret                          = TURRET01
      Flags                           = START_FRAME_FIRST
      WeaponLaunchBone                = PRIMARY WEAPONA
      WeaponLaunchBone                = SECONDARY WEAPONA
      WeaponLaunchBone                = TERTIARY WEAPONA
      WeaponFireFXBone                = PRIMARY WEAPONA
      WeaponFireFXBone                = SECONDARY WEAPONA
      WeaponFireFXBone                = TERTIARY WEAPONA
      WeaponMuzzleFlash   = PRIMARY FIREFX
      WeaponMuzzleFlash   = TERTIARY FIREFXB
    End

    AliasConditionState = DAMAGED
    AliasConditionState = REALLYDAMAGED

    ;*** PACKED STATE -- ready to move ***
    ConditionState    = MOVING
      Animation                       = RU-S500.RU-S500
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_FIRST
    End
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_A
    AliasConditionState = BETWEEN_FIRING_SHOTS_A

    ConditionState    = REALLYDAMAGED MOVING
      Model                           = RU-S500_D
      Animation                       = RU-S500_D.RU-S500_D
      ;AnimationMode   = ONCE_BACKWARDS
      ;Flags           = START_FRAME_FIRST
    End
    AliasConditionState = REALLYDAMAGED MOVING BETWEEN_FIRING_SHOTS_A
     
    ;*** UNPACKING STATE  -- preparing to fire ***
    ConditionState    = UNPACKING
      Animation                       = RU-S500.RU-S500
      AnimationMode   = ONCE
    End
    AliasConditionState = UNPACKING BETWEEN_FIRING_SHOTS_A

    ConditionState    = REALLYDAMAGED UNPACKING
      Model                           = RU-S500_D
      Animation                       = RU-S500_D.RU-S500_D
      AnimationMode   = ONCE
    End
    AliasConditionState = REALLYDAMAGED UNPACKING BETWEEN_FIRING_SHOTS_A
    AliasConditionState = DAMAGED UNPACKING
    AliasConditionState = RUBBLE UNPACKING
    AliasConditionState = DAMAGED UNPACKING BETWEEN_FIRING_SHOTS_A
    AliasConditionState = RUBBLE UNPACKING BETWEEN_FIRING_SHOTS_A

    ;*** PACKING STATE -- preparing to move ***
    ConditionState    = PACKING
      Animation                       = RU-S500.RU-S500
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End
    AliasConditionState = PACKING BETWEEN_FIRING_SHOTS_A

    ConditionState    = REALLYDAMAGED PACKING
      Model                           = RU-S500_D
      Animation                       = RU-S500_D.RU-S500_D
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End
    AliasConditionState = REALLYDAMAGED PACKING BETWEEN_FIRING_SHOTS_A


    ;*** DEPLOYED STATE -- ready to fire ***
    ConditionState  = DEPLOYED
      Model                           = RU-S500
      Animation                       = RU-S500.RU-S500
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
    End
    AliasConditionState = DEPLOYED MOVING
    AliasConditionState = DEPLOYED BETWEEN_FIRING_SHOTS_A
    AliasConditionState = DEPLOYED FIRING_A
    AliasConditionState = DEPLOYED RELOADING_A

    ConditionState  = DEPLOYED REALLYDAMAGED
      Model                           = RU-S500_D
      Animation                       = RU-S500_D.RU-S500_D
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
    End
    AliasConditionState = DEPLOYED REALLYDAMAGED MOVING
    AliasConditionState = DEPLOYED REALLYDAMAGED BETWEEN_FIRING_SHOTS_A
    AliasConditionState = DEPLOYED REALLYDAMAGED FIRING_A
    AliasConditionState = DEPLOYED REALLYDAMAGED RELOADING_A

    OkToChangeModelColor = Yes

    TrackMarks = EXTireTrack.tga

    Dust = ScudLauncherDust

    ; These parameters are only used if the model has a separate suspension,
    ; and the locomotor has HasSuspension = Yes.
    LeftFrontTireBone = Tire01
    RightFrontTireBone = Tire05
    LeftRearTireBone = Tire04
    RightRearTireBone = Tire08
    MidLeftFrontTireBone = Tire02
    MidRightFrontTireBone = Tire06
    MidLeftRearTireBone = Tire03
    MidRightRearTireBone = Tire07

    TireRotationMultiplier = 0.2   ; this * speed = rotation.
  End

  ; ***DESIGN parameters ***
  DisplayName               = OBJECT:S500
  Side                      = Boss
  EditorSorting             = VEHICLE
  TransportSlotCount        = 8            ;how many "slots" we take in a transport (0 == not transportable)
  
  WeaponSet
    Conditions = None
    Weapon            = PRIMARY S300GrumbleDummyWeapon
    AutoChooseSources = PRIMARY NONE
    Weapon            = SECONDARY S500MissileWeapon
  End
  
  ArmorSet
    Conditions      = None
    Armor           = HeavyAntiAirArmor
    DamageFX        = TruckDamageFX
  End

  BuildCost          = 65000
  BuildTime          = 60.0          ;in seconds    
  VisionRange        = 450
  ShroudClearingRange = 400
  Prerequisites
    Object = Boss_WarFactory
    Object = Boss_TechCentr
	Object = Boss_RussiaSatelliteCenter
  End

  ExperienceValue         = 200 200 250 400  ;Experience point value at each level
  IsTrainable = No             ;Can gain experience
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet      = Boss_GrumbleCommandSet

  ; *** AUDIO Parameters ***
  VoiceCreated      = S500Create
  VoiceSelect       = S500VoiceSelect
  VoiceMove         = S500VoiceMove
  VoiceGuard        = S500VoiceGuard
  VoiceAttack       = S500VoiceAttack
  SoundMoveStart    = ScudLauncherMoveStart
  SoundMoveStartDamaged = ScudLauncherMoveStart
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate     = S500Create
    Deploy              = SAMDeploy
    Undeploy            = SAMUNDeploy
    VoiceEnter         = S500VoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = SALVAGER PRELOAD IGNORES_SELECT_ALL  CAN_ATTACK SELECTABLE DONT_AUTO_CRUSH_INFANTRY CAN_CAST_REFLECTIONS VEHICLE HUGE_VEHICLE FS_TECHNOLOGY SCORE
  
  Body = ActiveBody ModuleTag_02
    MaxHealth       = 350.0
    InitialHealth   = 350.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 480
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

   Behavior = DeployStyleAIUpdate ModuleTag_03
   Turret
      TurretTurnRate        = 0
      TurretPitchRate       = 0
      ControlledWeaponSlots = PRIMARY SECONDARY TERTIARY
      InitiallyDisabled     = Yes
    End
    PackTime = 3333
    UnpackTime = 3333
    TurretsFunctionOnlyWhenDeployed = Yes
    TurretsMustCenterBeforePacking = Yes
    ManualDeployAnimations = Yes
    AutoAcquireEnemiesWhenIdle = Yes
    MoodAttackCheckRate        = 1
  End
  
  Locomotor = SET_NORMAL S400Locomotor
  
  Behavior = PhysicsBehavior ModuleTag_06
    Mass = 50.0
  End
  
  Behavior = FireWeaponCollide ModuleTag_07
    CollideWeapon  = S300GrumbleDeployedDecalWeapon
    RequiredStatus = DEPLOYED
  End

  ; Catch fire, and explode death
  Behavior = SlowDeathBehavior DeathTag_01
	DeathTypes = ALL -NORMAL -BURNED -CRUSHED -SPLATTED -POISONED -POISONED_BETA
    FX  = INITIAL FX_BigMissileCarrierDeath
    OCL = MIDPOINT OCL_SCUDDebrisFlyoff
    OCL = FINAL OCL_FinalS500Debris
  End
  Behavior = SlowDeathBehavior DeathTag_02
    DeathTypes = NONE +NORMAL +BURNED
    FX = INITIAL FX_BigTruckDeathFX
    FX = FINAL FX_BuggyNewDeathExplosion
    OCL = FINAL OCL_FinalS500Debris
  End
  ; A crushing defeat
  Behavior = DestroyDie DeathTag_05
    DeathTypes = NONE +CRUSHED +SPLATTED
  End
  Behavior = FXListDie DeathTag_06
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  Behavior = CreateObjectDie DeathTag_07
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_FinalS500Debris
  End
;Poison
  Behavior = SlowDeathBehavior DeathTag_09
    DeathTypes = NONE +POISONED
    FX  = INITIAL FX_VehiclePoisonDeath
    SinkRate = 2.5
    SinkDelay = 6000
    DestructionDelay = 14000
  End
;PoisonBeta
  Behavior = SlowDeathBehavior DeathTag_10
    DeathTypes = NONE +POISONED_BETA
    FX  = INITIAL FX_VehiclePoisonBetaDeath
    SinkRate = 2.5
    SinkDelay = 6000
    DestructionDelay = 14000
  End
  
  Behavior = ProductionUpdate ModuleTag_08
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End
  
  Behavior = FlammableUpdate ModuleTag_09
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End
  
  Behavior = StealthUpdate ModuleStealth_GPSScramblerGenericStealthModule
    StealthDelay                = 2000 ; msec
    InnateStealth               = Yes
    StealthForbiddenConditions  = ATTACKING USING_ABILITY
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
    RequiredStatus = REASSIGN_PARKING
  End

  Geometry            = BOX
  GeometryMajorRadius = 30.0
  GeometryMinorRadius = 8.0
  GeometryHeight      = 14.0     
  GeometryIsSmall     = Yes
  Shadow              = SHADOW_VOLUME 
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length    
  Scale = 1.05
End

;=====================================================================
Object Boss_HangarBuilding

  SelectPortrait         = MUBarracks
  ButtonImage            = MUBarracks

  ; *** ART Parameters ***
  ; Draw = W3DModelDraw ModuleTag_01
    ; DefaultConditionState
	  ; Model         = CBTHanger2
	; End
  ; End
  Draw = W3DModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
   
    ; day
    ConditionState = NONE
      Model         = CBTHanger2
    End
    ConditionState = DAMAGED
      Model         = CBTHanger2_D
    End
    ConditionState = REALLYDAMAGED
      Model         = CBTHanger2_E
    End

    ; night
    ConditionState = NIGHT
      Model         = CBTHanger2_N
    End
    ConditionState = DAMAGED NIGHT
      Model         = CBTHanger2_DN
    End
    ConditionState = REALLYDAMAGED NIGHT
      Model         = CBTHanger2_EN
    End

       ; Snow
    ConditionState = SNOW
      Model         = CBTHanger2_S
    End
    ConditionState = DAMAGED SNOW
      Model         = CBTHanger2_DS
    End
    ConditionState = REALLYDAMAGED SNOW
      Model         = CBTHanger2_ES
    End

    ; night snow
    ConditionState = SNOW NIGHT
      Model         = CBTHanger2_SN
    End
    ConditionState = DAMAGED SNOW NIGHT
      Model         = CBTHanger2_DSN
    End
    ConditionState = REALLYDAMAGED SNOW NIGHT
      Model         = CBTHanger2_ESN
    End

    ; ;**************************************************************************************************************************
    ; ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ; ;for this draw module
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = CBTHanger2
      Animation          = CBTHanger2.CBTHanger2
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = CBTHanger2_D
      Animation          = CBTHanger2_D.CBTHanger2_D
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = CBTHanger2_E
      Animation          = CBTHanger2_E.CBTHanger2_E
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
     ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
      Model              = CBTHanger2_N
      Animation          = CBTHanger2_N.CBTHanger2_N
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
      Model              = CBTHanger2_DN
      Animation          = CBTHanger2_DN.CBTHanger2_DN
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
      Model              = CBTHanger2_EN
      ;Animation          = CBTHanger2_EN.CBTHanger2_EN
      ;AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model              = CBTHanger2_S
      Animation          = CBTHanger2_S.CBTHanger2_S
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
      Model              = CBTHanger2_DS
      Animation          = CBTHanger2_DS.CBTHanger2_DS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
      Model              = CBTHanger2_ES
      ;Animation          = CBTHanger2_ES.CBTHanger2_ES
      ;AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End

    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    ; ;**************************************************************************************************************************

  End

  ; ------------ construction-zone fence -----------------
  Draw = W3DModelDraw ModuleTag_02
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = NBBarracks_A4
      Animation       = NBBarracks_A4.NBBarracks_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
    End
    ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = NBBarracks_A4N
      Animation       = NBBarracks_A4N.NBBarracks_A4N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
    End
    ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = NBBarracks_A4S
      Animation       = NBBarracks_A4S.NBBarracks_A4S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
    End
    ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = NBBarracks_A4SN
      Animation       = NBBarracks_A4SN.NBBarracks_A4SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = NBBarracks_A4
      Animation       = NBBarracks_A4.NBBarracks_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = NBBarracks_A4N
      Animation       = NBBarracks_A4N.NBBarracks_A4N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = NBBarracks_A4S
      Animation       = NBBarracks_A4S.NBBarracks_A4S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = NBBarracks_A4SN
      Animation       = NBBarracks_A4SN.NBBarracks_A4SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = NBBarracks_A4
      Animation       = NBBarracks_A4.NBBarracks_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
     Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = NBBarracks_A4N
      Animation       = NBBarracks_A4N.NBBarracks_A4N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
     Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = NBBarracks_A4S
      Animation       = NBBarracks_A4S.NBBarracks_A4S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
     Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = NBBarracks_A4SN
      Animation       = NBBarracks_A4SN.NBBarracks_A4SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
     Flags           = START_FRAME_LAST
    End
  End

  ; ------------ under-construction scaffolding -----------------
  Draw = W3DModelDraw ModuleTag_03
  AnimationsRequirePower = No
    MinLODRequired = MEDIUM
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = NBBarracks_A6
      Animation       = NBBarracks_A6.NBBarracks_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Dust01 BuildingDustChina
      ParticleSysBone = Smoke01 BuildUpSmokeChina
      ParticleSysBone = Smoke02 BuildUpSmokeChina
      ParticleSysBone = Smoke03 BuildUpSmokeChina
      ParticleSysBone = Smoke04 BuildUpSmokeChina
      ParticleSysBone = Smoke05 BuildUpSmokeChina
    End
    ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      Model           = NBBarracks_A6N
      Animation       = NBBarracks_A6N.NBBarracks_A6N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = Dust01 BuildingDustChina
      ParticleSysBone = Smoke01 BuildUpSmokeChina
      ParticleSysBone = Smoke02 BuildUpSmokeChina
      ParticleSysBone = Smoke03 BuildUpSmokeChina
      ParticleSysBone = Smoke04 BuildUpSmokeChina
      ParticleSysBone = Smoke05 BuildUpSmokeChina
    End
    ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      Model           = NBBarracks_A6S
      Animation       = NBBarracks_A6S.NBBarracks_A6S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = Dust01 BuildingSnowDust
      ParticleSysBone = Smoke01 BuildUpSnowSmoke
      ParticleSysBone = Smoke02 BuildUpSnowSmoke
      ParticleSysBone = Smoke03 BuildUpSnowSmoke
      ParticleSysBone = Smoke04 BuildUpSnowSmoke
      ParticleSysBone = Smoke05 BuildUpSnowSmoke
    End
    ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      Model           = NBBarracks_A6SN
      Animation       = NBBarracks_A6SN.NBBarracks_A6SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = Dust01 BuildingNightSnowDust
      ParticleSysBone = Smoke01 BuildUpNightSnowSmoke
      ParticleSysBone = Smoke02 BuildUpNightSnowSmoke
      ParticleSysBone = Smoke03 BuildUpNightSnowSmoke
      ParticleSysBone = Smoke04 BuildUpNightSnowSmoke
      ParticleSysBone = Smoke05 BuildUpNightSnowSmoke
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
     Model            = NBBarracks_A6
      Animation       = NBBarracks_A6.NBBarracks_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
     Model            = NBBarracks_A6N
      Animation       = NBBarracks_A6N.NBBarracks_A6N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
     Model            = NBBarracks_A6S
      Animation       = NBBarracks_A6S.NBBarracks_A6S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
     Model            = NBBarracks_A6SN
      Animation       = NBBarracks_A6SN.NBBarracks_A6SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = NBBarracks_A6
      Animation       = NBBarracks_A6.NBBarracks_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = NBBarracks_A6N
      Animation       = NBBarracks_A6N.NBBarracks_A6N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = NBBarracks_A6S
      Animation       = NBBarracks_A6S.NBBarracks_A6S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = NBBarracks_A6SN
      Animation       = NBBarracks_A6SN.NBBarracks_A6SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ being-constructed crane -----------------
  Draw = W3DModelDraw ModuleTag_04
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SOLD
      Model           = NONE
    End

    ConditionState  = ACTIVELY_BEING_CONSTRUCTED
      Model           = NBBarracks_A5
      Animation       = NBBarracks_A5.NBBarracks_A5
      AnimationMode   = LOOP
      TransitionKey  = UP_DAY
    End

    ConditionState  = NIGHT ACTIVELY_BEING_CONSTRUCTED
      Model           = NBBarracks_A5N
      Animation       = NBBarracks_A5N.NBBarracks_A5N
      AnimationMode   = LOOP
      TransitionKey  = UP_NIGHT
    End
    ConditionState  = SNOW ACTIVELY_BEING_CONSTRUCTED
      Model           = NBBarracks_A5S
      Animation       = NBBarracks_A5S.NBBarracks_A5S
      AnimationMode   = LOOP
      TransitionKey  = UP_SNOW
    End
    ConditionState  = SNOW NIGHT ACTIVELY_BEING_CONSTRUCTED
      Model           = NBBarracks_A5SN
      Animation       = NBBarracks_A5SN.NBBarracks_A5SN
      AnimationMode   = LOOP
      TransitionKey  = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = NBBarracks_AB
      Animation       = NBBarracks_AB.NBBarracks_AB
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End

    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model            = NBBarracks_ABN
      Animation       = NBBarracks_ABN.NBBarracks_ABN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model            = NBBarracks_ABS
      Animation       = NBBarracks_ABS.NBBarracks_ABS
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model            = NBBarracks_ABSN
      Animation       = NBBarracks_ABSN.NBBarracks_ABSN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model            = NBBarracks_AB
      Animation       = NBBarracks_AB.NBBarracks_AB
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model            = NBBarracks_ABN
      Animation       = NBBarracks_ABN.NBBarracks_ABN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model            = NBBarracks_ABS
      Animation       = NBBarracks_ABS.NBBarracks_ABS
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model            = NBBarracks_ABSN
      Animation       = NBBarracks_ABSN.NBBarracks_ABSN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; *** AUDIO Parameters ***
  ; SoundDie              = BuildingDie
  ; SoundOnDamaged        = BuildingDamagedStateLight
  ; SoundOnReallyDamaged  = BuildingDestroy

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Hangar
  Side             = Boss
  EditorSorting    = STRUCTURE
  BuildCost           = 1500
  BuildTime           = 10.0           ; in seconds
  EnergyProduction    = 0
  
  ArmorSet
    Conditions      = None
    Armor           = StructureArmor
    DamageFX        = StructureDamageFXNoShake
  End
 CommandSet        =  HangarCommandSet

  ; *** ENGINEERING Parameters ***
  RadarPriority       = STRUCTURE
  ;KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE CAPTURABLE MP_COUNT_FOR_VICTORY FS_BASE_DEFENSE GARRISONABLE_UNTIL_DESTROYED
  KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE CAPTURABLE FS_TECHNOLOGY MP_COUNT_FOR_VICTORY FS_FACTORY FS_AIRFIELD AUTO_RALLYPOINT

  Body                = StructureBody ModuleTag_05
    MaxHealth         = 15000.0
    InitialHealth     = 15000.0
  End
  
  Behavior = ProductionUpdate ModuleTag_06
       ConstructionCompleteDuration = 1000  ;in mSeconds
  End
  
  Behavior = TransportContain ModuleTag_07
    Slots                = 20
    DamagePercentToUnits = 0%
    AllowInsideKindOf    = INFANTRY VEHICLE DOZER HUGE_VEHICLE
    ForbidInsideKindOf   = AIRCRAFT
    ExitDelay            = 100
    NumberOfExitPaths    = 1
    PassengersAllowedToFire = No
  End
  
  ; Behavior = ProductionUpdate ModuleTag_13
    ; ; nothing, but is required if we have any Object-level Upgrades!
  ; End
  
  Behavior = FlammableUpdate ModuleTag_08
    FlameDamageLimit = 20         ;Catch fire if I take this much fire damage...
    FlameDamageExpiration = 2000  ;in a span of this long
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 25       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End
  
  Behavior = TransitionDamageFX ModuleTag_09
    ; -------------DESIGNED FOR SMALL SIZED CIVILIAN BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1          = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ; ---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave  
  End

  Behavior = DestroyDie ModuleTag_10
    ;nothing
  End
  Behavior = CreateObjectDie ModuleTag_11
    CreationList = OCL_ABPowerPlantExplode
  End

  Behavior = FXListDie ModuleTag_12
    DeathFX = FX_StructureMediumDeath
  End

  Geometry              = BOX
  GeometryMajorRadius   = 22.0
  GeometryMinorRadius   = 36.0
  GeometryHeight        = 23.0
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
  BuildCompletion       = PLACED_BY_PLAYER
End

;==================================================================================
Object Boss_CivilianBunker

  SelectPortrait         = SABunker
  ButtonImage            = SABunker

  ; *** ART Parameters ***
  Draw = W3DModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    
    ConditionState = NONE
      Model         = CBBunker01_G
      Animation     = CBBunker01_G.CBBunker01_G
      AnimationMode = LOOP
    End
    ConditionState = DAMAGED
      Model         = CBBunker01_DG
      Animation     = CBBunker01_DG.CBBunker01_DG
      AnimationMode = LOOP
    End
    ConditionState = REALLYDAMAGED
      Model         = CBBunker01_EG
      Animation     = CBBunker01_EG.CBBunker01_EG
      AnimationMode = LOOP
    End
    
    ConditionState = NIGHT 
      Model         = CBBunker01_NG
      Animation     = CBBunker01_NG.CBBunker01_NG
      AnimationMode = LOOP
    End
    ConditionState = DAMAGED NIGHT 
      Model         = CBBunker01_DNG
      Animation     = CBBunker01_DNG.CBBunker01_DNG
      AnimationMode = LOOP
    End
    ConditionState = REALLYDAMAGED NIGHT
      Model         = CBBunker01_ENG
      Animation     = CBBunker01_ENG.CBBunker01_ENG
      AnimationMode = LOOP
    End
    

    ConditionState = SNOW 
      Model         = CBBunker01_SG
      Animation     = CBBunker01_SG.CBBunker01_SG
      AnimationMode = LOOP
    End
    ConditionState = DAMAGED SNOW
      Model         = CBBunker01_DSG
      Animation     = CBBunker01_DSG.CBBunker01_DSG
      AnimationMode = LOOP
    End
    ConditionState = REALLYDAMAGED SNOW
      Model         = CBBunker01_ESG
      Animation     = CBBunker01_ESG.CBBunker01_ESG
      AnimationMode = LOOP
    End
    

    ConditionState = SNOW NIGHT
      Model         = CBBunker01_SNG
      Animation     = CBBunker01_SNG.CBBunker01_SNG
      AnimationMode = LOOP
    End
    ConditionState = DAMAGED SNOW NIGHT
      Model         = CBBunker01_DSNG
      Animation     = CBBunker01_DSNG.CBBunker01_DSNG
      AnimationMode = LOOP
    End
    ConditionState = REALLYDAMAGED SNOW NIGHT
      Model         = CBBunker01_ESNG
      Animation     = CBBunker01_ESNG.CBBunker01_ESNG
      AnimationMode = LOOP
    End

    ;**************************************************************************************************************************
    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ;for this draw module
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = CBBunker01
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = CBBunker01_D
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = CBBunker01_E
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End

    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    ;**************************************************************************************************************************
  End
    
  ; ------------ construction-zone fence -----------------
  Draw = W3DModelDraw ModuleTag_02
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = NBBunker_A4
      Animation       = NBBunker_A4.NBBunker_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
    End
    ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = NBBunker_A4N
      Animation       = NBBunker_A4N.NBBunker_A4N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
    End
    ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = NBBunker_A4S
      Animation       = NBBunker_A4S.NBBunker_A4S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
    End
    ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = NBBunker_A4SN
      Animation       = NBBunker_A4SN.NBBunker_A4SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = NBBunker_A4
      Animation       = NBBunker_A4.NBBunker_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = NBBunker_A4N
      Animation       = NBBunker_A4N.NBBunker_A4N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = NBBunker_A4S
      Animation       = NBBunker_A4S.NBBunker_A4S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = NBBunker_A4SN
      Animation       = NBBunker_A4SN.NBBunker_A4SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = NBBunker_A4
      Animation       = NBBunker_A4.NBBunker_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = NBBunker_A4N
      Animation       = NBBunker_A4N.NBBunker_A4N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = NBBunker_A4S
      Animation       = NBBunker_A4S.NBBunker_A4S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = NBBunker_A4SN
      Animation       = NBBunker_A4SN.NBBunker_A4SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ under-construction scaffolding -----------------
  Draw = W3DModelDraw ModuleTag_03
  AnimationsRequirePower = No
    MinLODRequired = MEDIUM
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = NBBunker_A6
      Animation       = NBBunker_A6.NBBunker_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Smoke01 BuildUpSmokeChina
      ParticleSysBone = Smoke02 BuildUpSmokeChina
      ParticleSysBone = Smoke03 BuildUpSmokeChina
      ParticleSysBone = Smoke04 BuildUpSmokeChina
    End
    ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      Model           = NBBunker_A6N
      Animation       = NBBunker_A6N.NBBunker_A6N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = Smoke01 BuildUpSmokeChina
      ParticleSysBone = Smoke02 BuildUpSmokeChina
      ParticleSysBone = Smoke03 BuildUpSmokeChina
      ParticleSysBone = Smoke04 BuildUpSmokeChina
    End
    ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      Model           = NBBunker_A6S
      Animation       = NBBunker_A6S.NBBunker_A6S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = Smoke01 BuildUpSnowSmoke
      ParticleSysBone = Smoke02 BuildUpSnowSmoke
      ParticleSysBone = Smoke03 BuildUpSnowSmoke
      ParticleSysBone = Smoke04 BuildUpSnowSmoke
    End
    ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      Model           = NBBunker_A6SN
      Animation       = NBBunker_A6SN.NBBunker_A6SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = Smoke01 BuildUpNightSnowSmoke
      ParticleSysBone = Smoke02 BuildUpNightSnowSmoke
      ParticleSysBone = Smoke03 BuildUpNightSnowSmoke
      ParticleSysBone = Smoke04 BuildUpNightSnowSmoke
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
     Model            = NBBunker_A6
      Animation       = NBBunker_A6.NBBunker_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
     Model            = NBBunker_A6N
      Animation       = NBBunker_A6N.NBBunker_A6N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
     Model            = NBBunker_A6S
      Animation       = NBBunker_A6S.NBBunker_A6S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
     Model            = NBBunker_A6SN
      Animation       = NBBunker_A6SN.NBBunker_A6SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = NBBunker_A6
      Animation       = NBBunker_A6.NBBunker_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = NBBunker_A6N
      Animation       = NBBunker_A6N.NBBunker_A6N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = NBBunker_A6S
      Animation       = NBBunker_A6S.NBBunker_A6S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = NBBunker_A6SN
      Animation       = NBBunker_A6SN.NBBunker_A6SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ being-constructed crane -----------------
  Draw = W3DModelDraw ModuleTag_04
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SOLD
      Model           = NONE
    End

    ConditionState  = ACTIVELY_BEING_CONSTRUCTED
      Model           = NBBunker_A5
      Animation       = NBBunker_A5.NBBunker_A5
      AnimationMode   = LOOP
      TransitionKey  = UP_DAY
    End

    ConditionState  = NIGHT ACTIVELY_BEING_CONSTRUCTED
      Model           = NBBunker_A5N
      Animation       = NBBunker_A5N.NBBunker_A5N
      AnimationMode   = LOOP
      TransitionKey  = UP_NIGHT
    End
    ConditionState  = SNOW ACTIVELY_BEING_CONSTRUCTED
      Model           = NBBunker_A5S
      Animation       = NBBunker_A5S.NBBunker_A5S
      AnimationMode   = LOOP
      TransitionKey  = UP_SNOW
    End
    ConditionState  = SNOW NIGHT ACTIVELY_BEING_CONSTRUCTED
      Model           = NBBunker_A5SN
      Animation       = NBBunker_A5SN.NBBunker_A5SN
      AnimationMode   = LOOP
      TransitionKey  = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model            = NBBunker_AB
      Animation       = NBBunker_AB.NBBunker_AB
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End

    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model            = NBBunker_ABN
      Animation       = NBBunker_ABN.NBBunker_ABN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model            = NBBunker_ABS
      Animation       = NBBunker_ABS.NBBunker_ABS
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model            = NBBunker_ABSN
      Animation       = NBBunker_ABSN.NBBunker_ABSN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model            = NBBunker_AB
      Animation       = NBBunker_AB.NBBunker_AB
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model            = NBBunker_ABN
      Animation       = NBBunker_ABN.NBBunker_ABN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model            = NBBunker_ABS
      Animation       = NBBunker_ABS.NBBunker_ABS
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model            = NBBunker_ABSN
      Animation       = NBBunker_ABSN.NBBunker_ABSN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; *** AUDIO Parameters ***
  ;SoundDie              = BuildingDie
  ;SoundOnDamaged        = BuildingDamagedStateLight
  ;SoundOnReallyDamaged  = BuildingDestroy

  ; ***DESIGN parameters ***
  DisplayName     = OBJECT:Bunker
  Side            = Boss
  EditorSorting   = STRUCTURE
  Prerequisites
    Object = Boss_Barracks
  End
  BuildCost        = 1000
  BuildTime        = 8.0           ; in seconds
  ArmorSet
    Conditions      = None
    Armor           = StructureArmor
    DamageFX        = StructureDamageFXNoShake
  End

  ; *** ENGINEERING Parameters ***  
  RadarPriority     = STRUCTURE
  KindOf            = PRELOAD STRUCTURE SELECTABLE STICK_TO_TERRAIN_SLOPE IMMOBILE SCORE FS_BASE_DEFENSE GARRISONABLE_UNTIL_DESTROYED IMMUNE_TO_CAPTURE MP_COUNT_FOR_VICTORY
  
  Body              = StructureBody ModuleTag_05
    MaxHealth       = 2000.0
    InitialHealth   = 2000.0
  End

  CommandSet       = CivilBunkerCommandSet

  Behavior = GarrisonContain ModuleTag_06
    ContainMax        = 10
    EnterSound        = GarrisonEnter
    ExitSound         = GarrisonExit
	ImmuneToClearBuildingAttacks  = No
    DamagePercentToUnits          = 30%
    IsEnclosingContainer          = Yes
    AllowInsideKindOf             = INFANTRY
    ForbidInsideKindOf            = VEHICLE AIRCRAFT HUGE_VEHICLE
  End

  Behavior = FlammableUpdate ModuleTag_07
    FlameDamageLimit = 20         ;Catch fire if I take this much fire damage...
    FlameDamageExpiration = 2000  ;in a span of this long
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 25       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End
  
  Behavior = TransitionDamageFX ModuleTag_08
    ;-------------DESIGNED FOR SMALL SIZED CIVILIAN BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1          = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
  End

  Behavior = DestroyDie ModuleTag_09
    ;nothing
  End
  Behavior        = CreateObjectDie ModuleTag_10
    CreationList  = OCL_ABPowerPlantExplode
  End
  ; Behavior             = CreateObjectDie ModuleTag_11
    ; CreationList  = OCL_AmericanRangerDebris02
    ; ExemptStatus  = UNDER_CONSTRUCTION
  ; End
  Behavior        = FXListDie ModuleTag_12
    DeathFX       = FX_StructureSmallDeath
  End

  Geometry            = BOX
  GeometryMajorRadius = 20.0
  GeometryMinorRadius = 16.0
  GeometryHeight      = 12.0
  GeometryIsSmall     = No
  Shadow              = SHADOW_VOLUME
  BuildCompletion     = PLACED_BY_PLAYER
End


;------------------------------------------------------------------------------
Object Boss_ChemicalBunker

  ; *** ART Parameters ***
  SelectPortrait = SSChemBunk_L
  ButtonImage    = SSChemBunk_L
  
  Draw = W3DModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    ; day
    ConditionState = NONE
      Model        = CBChemBunk
    End
    ConditionState = DAMAGED
      Model        = CBChemBunk_D
    End
    ConditionState = REALLYDAMAGED
      Model        = CBChemBunk_E
    End
    ConditionState = RUBBLE
      Model        = CBChemBunk_R
    End

    ; night
    ConditionState = NIGHT
      Model        = CBChemBunk_N
    End
    ConditionState = DAMAGED NIGHT
      Model        = CBChemBunk_DN
    End
    ConditionState = REALLYDAMAGED NIGHT
      Model        = CBChemBunk_EN
    End
    ConditionState = RUBBLE NIGHT
      Model        = CBChemBunk_RN
    End
    
    ; Snow
    ConditionState = SNOW
      Model        = CBChemBunk_S
    End
    ConditionState = DAMAGED SNOW
      Model        = CBChemBunk_DS
    End
    ConditionState = REALLYDAMAGED SNOW
      Model        = CBChemBunk_ES
    End
    ConditionState = RUBBLE SNOW
      Model        = CBChemBunk_RS
    End

    ; night snow
    ConditionState = SNOW NIGHT
      Model        = CBChemBunk_SN
    End
    ConditionState = DAMAGED SNOW NIGHT
      Model        = CBChemBunk_DSN
    End
    ConditionState = REALLYDAMAGED SNOW NIGHT
      Model        = CBChemBunk_ESN
    End
    ConditionState = RUBBLE SNOW NIGHT
      Model        = CBChemBunk_RSN
    End

    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ;for this draw module
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = CBChemBunk
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = CBChemBunk_D
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = CBChemBunk_E
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
      Model              = CBChemBunk_N
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
      Model              = CBChemBunk_DN
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
      Model              = CBChemBunk_EN
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model              = CBChemBunk_S
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
      Model              = CBChemBunk_DS
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
      Model              = CBChemBunk_ES
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
      Model              = UBToxTunn_NS
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
      Model              = CBChemBunk_DSN
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
      Model              = CBChemBunk_ESN
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End

    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
  End

  ; ------------ construction-zone fence -----------------
  Draw = W3DModelDraw ModuleTag_02
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = UBStingerS_A4
      Animation       = UBStingerS_A4.UBStingerS_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
    End
    ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = UBStingerS_A4N
      Animation       = UBStingerS_A4N.UBStingerS_A4N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
    End
    ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = UBStingerS_A4S
      Animation       = UBStingerS_A4S.UBStingerS_A4S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
    End
    ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = UBStingerS_A4SN
      Animation       = UBStingerS_A4SN.UBStingerS_A4SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = UBStingerS_A4
      Animation       = UBStingerS_A4.UBStingerS_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = UBStingerS_A4N
      Animation       = UBStingerS_A4N.UBStingerS_A4N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = UBStingerS_A4S
      Animation       = UBStingerS_A4S.UBStingerS_A4S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = UBStingerS_A4SN
      Animation       = UBStingerS_A4SN.UBStingerS_A4SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = UBStingerS_A4
      Animation       = UBStingerS_A4.UBStingerS_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = UBStingerS_A4N
      Animation       = UBStingerS_A4N.UBStingerS_A4N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = UBStingerS_A4S
      Animation       = UBStingerS_A4S.UBStingerS_A4S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = UBStingerS_A4SN
      Animation       = UBStingerS_A4SN.UBStingerS_A4SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ under-construction scaffolding -----------------
  Draw = W3DModelDraw ModuleTag_03
  AnimationsRequirePower = No
    MinLODRequired = MEDIUM
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = UBStingerS_A6
      Animation       = UBStingerS_A6.UBStingerS_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Smoke01 BuildUpSmoke
      ParticleSysBone = Smoke02 BuildUpSmoke
      ParticleSysBone = Smoke03 BuildUpSmoke
    End
    ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      Model           = UBStingerS_A6N
      Animation       = UBStingerS_A6N.UBStingerS_A6N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = Smoke01 BuildUpSmoke
      ParticleSysBone = Smoke02 BuildUpSmoke
      ParticleSysBone = Smoke03 BuildUpSmoke
    End
    ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      Model           = UBStingerS_A6S
      Animation       = UBStingerS_A6S.UBStingerS_A6S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = Smoke01 BuildUpSnowSmoke
      ParticleSysBone = Smoke02 BuildUpSnowSmoke
      ParticleSysBone = Smoke03 BuildUpSnowSmoke
    End
    ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      Model           = UBStingerS_A6SN
      Animation       = UBStingerS_A6SN.UBStingerS_A6SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = Smoke01 BuildUpNightSnowSmoke
      ParticleSysBone = Smoke02 BuildUpNightSnowSmoke
      ParticleSysBone = Smoke03 BuildUpNightSnowSmoke
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
     Model            = UBStingerS_A6
      Animation       = UBStingerS_A6.UBStingerS_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
     Model            = UBStingerS_A6N
      Animation       = UBStingerS_A6N.UBStingerS_A6N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
     Model            = UBStingerS_A6S
      Animation       = UBStingerS_A6S.UBStingerS_A6S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
     Model            = UBStingerS_A6SN
      Animation       = UBStingerS_A6SN.UBStingerS_A6SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = UBStingerS_A6
      Animation       = UBStingerS_A6.UBStingerS_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = UBStingerS_A6N
      Animation       = UBStingerS_A6N.UBStingerS_A6N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = UBStingerS_A6S
      Animation       = UBStingerS_A6S.UBStingerS_A6S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = UBStingerS_A6SN
      Animation       = UBStingerS_A6SN.UBStingerS_A6SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  PlacementViewAngle = -135

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:ToxinBunker
  Side             = Boss
  EditorSorting    = STRUCTURE

  ArmorSet
    Conditions      = None
    Armor           = StructureArmor
    DamageFX        = StructureDamageFXNoShake
  End


  WeaponSet
    ;The weapon set is used to determine detonation mode
    Conditions = None 
    Weapon = PRIMARY    DummyWeapon ;Used for mode matching only (when to detonate)
    Weapon = SECONDARY  DummyWeapon ;Used for mode matching only (when to detonate)
    Weapon = TERTIARY   DummyWeapon ;Used for mode matching only (when to detonate)
    AutoChooseSources = PRIMARY   NONE
    AutoChooseSources = SECONDARY NONE
    AutoChooseSources = TERTIARY  NONE
  End

  ShroudClearingRange = 100
  Prerequisites
    Object            = Boss_TechCentr
  End
  BuildCost           = 15000
  BuildTime           = 10.0           ; in seconds
  EnergyProduction    = 0
  CommandSet          = BossChemicalBunkerCommandSet

  ; ***AUDIO parameters ***
  ;SoundAmbientDamaged = ChemBunkerDamagedAmbientLoop
  ;SoundAmbientReallyDamaged = ChemBunkerDamagedAmbientLoop

  ; *** ENGINEERING Parameters ***  
  RadarPriority         = STRUCTURE
  KindOf                = PRELOAD STRUCTURE SELECTABLE IMMOBILE FS_TECHNOLOGY MP_COUNT_FOR_VICTORY SCORE_CREATE
  Body                  = ActiveBody ModuleTag_05
    MaxHealth       = 5000.0
    InitialHealth   = 5000.0
  End

  Behavior = DemoTrapUpdate ModuleTag_06
    DefaultProximityMode      = Yes       ;If yes, defaults to proximity mode, otherwise defaults to manual.
    DetonationWeaponSlot      = PRIMARY   ;The slot the weapon is in when it detonates.
    ProximityModeWeaponSlot   = SECONDARY ;The slot proximity mode is determined by (bogus weapon)
    ManualModeWeaponSlot      = TERTIARY  ;The slot manual mode is determined by (bogus weapon)
    TriggerDetonationRange    = 40.0      ;Detonation range when in proximity mode (and must be on ground)
    IgnoreTargetTypes         = PROJECTILE UNATTACKABLE
    AutoDetonationWithFriendsInvolved = No ;GLA are low tech 
;    DetonationWeapon          = DemoTrapDetonationWeapon
    DetonateWhenKilled        = Yes
  End

  Behavior = FireWeaponWhenDeadBehavior     ModuleTag_ChangeDeathWeapon
    DeathWeapon   = AnthraxBombWeapon
    StartsActive  = Yes
  End

  Behavior = FireWeaponWhenDamagedBehavior     ModuleTag_SoloMissionChange
    StartsActive = No
    ContinuousWeaponDamaged         = SmallPoisonFieldWeaponUpgraded
    ContinuousWeaponReallyDamaged   = MediumPoisonFieldWeaponUpgraded
    DamageTypes = ALL
    DamageAmount = 1  ; if damage is >= this value, fire the weapon
  End

  Behavior = FXListDie ModuleTag_07
    DeathFX = WeaponFX_BombTruckHighExplosiveAnthraxBombDetonation
    OrientToObject = No
  End
    
  Behavior                = TransitionDamageFX ModuleTag_08
    DamagedFXList1        = Loc: X:0 Y:0 Z:0 FXList:FX_ToxicBunkerDamageTransition
    ReallyDamagedFXList1  = Loc: X:0 Y:0 Z:0 FXList:FX_ToxicBunkerDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_09
    FlameDamageLimit = 20         ;Catch fire if I take this much fire damage...
    FlameDamageExpiration = 2000  ;in a span of this long
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 25       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = InstantDeathBehavior ModuleTag_10
    ; if we are under construction, use this death instead
    RequiredStatus = UNDER_CONSTRUCTION
    ; no effect
  End


  Behavior = DestroyDie ModuleTag_11
    ;nothing
  End
  Behavior        = CreateObjectDie ModuleTag_12
    CreationList  = OCL_ABPowerPlantExplode
  End
  Behavior        = FXListDie ModuleTag_13
    DeathFX       = FX_StructureSmallDeath
  End

  Behavior = ProductionUpdate ModuleTag_14
    ; nothing
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 28.0
  GeometryMinorRadius   = 36.0
  GeometryHeight        = 22.0
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

;-----------------------------------------------------------------------------------------------------
Object Boss_MilitiaAntiTankCannon

  ; *** ART Parameters ***
  SelectPortrait         = SBFirebase
  ButtonImage            = SBFirebase

  ;UpgradeCameo1 = Upgrade_GLAToxinShells
  ;UpgradeCameo2 = Upgrade_GLACamoNetting

  ; *** ART Parameters ***
  Draw                    = W3DModelDraw ModuleTag_Draw04
    OkToChangeModelColor  = Yes

    ConditionState = NONE
      Model = UVBS1
      Turret = TURRET01
      WeaponFireFXBone = PRIMARY FIREFX
      WeaponMuzzleFlash = PRIMARY MUZZLEFX
      WeaponLaunchBone = PRIMARY FIREFX
    End
    AliasConditionState = SNOW
    AliasConditionState = NIGHT
    AliasConditionState = SNOW NIGHT
    AliasConditionState = DAMAGED
    AliasConditionState = SNOW DAMAGED
    AliasConditionState = NIGHT DAMAGED
    AliasConditionState = NIGHT SNOW DAMAGED
    AliasConditionState = REALLYDAMAGED RUBBLE
    AliasConditionState = SNOW REALLYDAMAGED RUBBLE
    AliasConditionState = NIGHT REALLYDAMAGED RUBBLE
    AliasConditionState = NIGHT SNOW REALLYDAMAGED RUBBLE

    ConditionState = RELOADING_A
      Model = UVBS1
      Turret = TURRET01
      WeaponFireFXBone = PRIMARY FIREFX
      WeaponMuzzleFlash = PRIMARY MUZZLEFX
      WeaponLaunchBone = PRIMARY FIREFX
      Animation = UVBS1.UVBS1
      AnimationMode = ONCE
    End
    AliasConditionState = RELOADING_A SNOW
    AliasConditionState = RELOADING_A NIGHT
    AliasConditionState = RELOADING_A SNOW NIGHT
    AliasConditionState = RELOADING_A DAMAGED
    AliasConditionState = RELOADING_A DAMAGED SNOW
    AliasConditionState = RELOADING_A DAMAGED NIGHT
    AliasConditionState = RELOADING_A DAMAGED SNOW NIGHT
    AliasConditionState = RELOADING_A REALLYDAMAGED RUBBLE
    AliasConditionState = RELOADING_A REALLYDAMAGED RUBBLE SNOW
    AliasConditionState = RELOADING_A REALLYDAMAGED RUBBLE NIGHT
    AliasConditionState = RELOADING_A REALLYDAMAGED RUBBLE SNOW NIGHT

    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = UVBS1
      Turret = TURRET01
      WeaponFireFXBone = PRIMARY FIREFX
      WeaponMuzzleFlash = PRIMARY MUZZLEFX
      WeaponLaunchBone = PRIMARY FIREFX
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED

    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
  End

  ;******************************************
  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes

    ExtraPublicBone = OILTANK01
    
    ; day ************************************
    ConditionState = NONE
      Model = UBStingerS
      HideSubObject = TURRETUP02 PLANE02
    End
    AliasConditionState = NIGHT 
    ConditionState = DAMAGED
      Model = UBStingerS_D
      HideSubObject = TURRETUP02 PLANE02
    End
    AliasConditionState = DAMAGED NIGHT 
    ConditionState = REALLYDAMAGED RUBBLE
      Model = UBStingerS_E
      HideSubObject = TURRETUP02 PLANE02
    End
    AliasConditionState = REALLYDAMAGED NIGHT RUBBLE

    ; day snow ************************************
    ConditionState = SNOW
      Model = UBStingerS_S
      HideSubObject = TURRETUP02 PLANE02
    End
    AliasConditionState       = NIGHT SNOW
    ConditionState = DAMAGED SNOW
      Model = UBStingerS_DS
      HideSubObject = TURRETUP02 PLANE02
    End
    AliasConditionState       = DAMAGED NIGHT SNOW
    ConditionState = REALLYDAMAGED SNOW RUBBLE
      Model = UBStingerS_ES
      HideSubObject = TURRETUP02 PLANE02
    End
    AliasConditionState       = REALLYDAMAGED NIGHT SNOW RUBBLE

    ;**********************************************
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = UBStingerS
      HideSubObject      = TURRETUP02 PLANE02
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = UBStingerS_D
      HideSubObject      = TURRETUP02 PLANE02
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = UBStingerS_E
      HideSubObject      = TURRETUP02 PLANE02
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model              = UBStingerS_S
      HideSubObject      = TURRETUP02 PLANE02
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
      Model              = UBStingerS_DS
      HideSubObject      = TURRETUP02 PLANE02
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
      Model              = UBStingerS_ES
      HideSubObject      = TURRETUP02 PLANE02
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED

    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
  End

  ; ------------ construction-zone fence -----------------
  Draw = W3DModelDraw ModuleTag_02
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = UBStingerS_A4
      Animation       = UBStingerS_A4.UBStingerS_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
    End
    ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = UBStingerS_A4N
      Animation       = UBStingerS_A4N.UBStingerS_A4N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
    End
    ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = UBStingerS_A4S
      Animation       = UBStingerS_A4S.UBStingerS_A4S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
    End
    ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = UBStingerS_A4SN
      Animation       = UBStingerS_A4SN.UBStingerS_A4SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = UBStingerS_A4
      Animation       = UBStingerS_A4.UBStingerS_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = UBStingerS_A4N
      Animation       = UBStingerS_A4N.UBStingerS_A4N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = UBStingerS_A4S
      Animation       = UBStingerS_A4S.UBStingerS_A4S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = UBStingerS_A4SN
      Animation       = UBStingerS_A4SN.UBStingerS_A4SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = UBStingerS_A4
      Animation       = UBStingerS_A4.UBStingerS_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = UBStingerS_A4N
      Animation       = UBStingerS_A4N.UBStingerS_A4N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = UBStingerS_A4S
      Animation       = UBStingerS_A4S.UBStingerS_A4S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = UBStingerS_A4SN
      Animation       = UBStingerS_A4SN.UBStingerS_A4SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ under-construction scaffolding -----------------
  Draw = W3DModelDraw ModuleTag_03
  AnimationsRequirePower = No
    MinLODRequired = MEDIUM
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = UBStingerS_A6
      Animation       = UBStingerS_A6.UBStingerS_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Smoke01 BuildUpSmoke
      ParticleSysBone = Smoke02 BuildUpSmoke
      ParticleSysBone = Smoke03 BuildUpSmoke
    End
    ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      Model           = UBStingerS_A6N
      Animation       = UBStingerS_A6N.UBStingerS_A6N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = Smoke01 BuildUpSmoke
      ParticleSysBone = Smoke02 BuildUpSmoke
      ParticleSysBone = Smoke03 BuildUpSmoke
    End
    ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      Model           = UBStingerS_A6S
      Animation       = UBStingerS_A6S.UBStingerS_A6S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = Smoke01 BuildUpSnowSmoke
      ParticleSysBone = Smoke02 BuildUpSnowSmoke
      ParticleSysBone = Smoke03 BuildUpSnowSmoke
    End
    ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      Model           = UBStingerS_A6SN
      Animation       = UBStingerS_A6SN.UBStingerS_A6SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = Smoke01 BuildUpNightSnowSmoke
      ParticleSysBone = Smoke02 BuildUpNightSnowSmoke
      ParticleSysBone = Smoke03 BuildUpNightSnowSmoke
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
     Model            = UBStingerS_A6
      Animation       = UBStingerS_A6.UBStingerS_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
     Model            = UBStingerS_A6N
      Animation       = UBStingerS_A6N.UBStingerS_A6N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
     Model            = UBStingerS_A6S
      Animation       = UBStingerS_A6S.UBStingerS_A6S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
     Model            = UBStingerS_A6SN
      Animation       = UBStingerS_A6SN.UBStingerS_A6SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = UBStingerS_A6
      Animation       = UBStingerS_A6.UBStingerS_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = UBStingerS_A6N
      Animation       = UBStingerS_A6N.UBStingerS_A6N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = UBStingerS_A6S
      Animation       = UBStingerS_A6S.UBStingerS_A6S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = UBStingerS_A6SN
      Animation       = UBStingerS_A6SN.UBStingerS_A6SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

 ;PlacementViewAngle = -45
  PlacementViewAngle = -135

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:DefenseSiteAntiTank
  Side                = Boss
  EditorSorting       = STRUCTURE
  VisionRange         = 350.0
  ShroudClearingRange = 350.0
;---------------------------------------------
  WeaponSet
    Conditions = None 
    Weapon = PRIMARY DefenseSiteTankGun
    PreferredAgainst = PRIMARY VEHICLE
  End
;---------------------------------------------
  ArmorSet
    Conditions = None
    Armor      = StructureArmor
    DamageFX   = StructureDamageFXNoShake
  End
;---------------------------------------------
  Prerequisites
    Object = Boss_Barracks
	Object = Boss_WarFactory Boss_SmallFactory
	Object = Boss_ArtilleryWarehouse
  End
  
  BuildCost = 800
  BuildTime = 14.0
  EnergyProduction = 0
;---------------------------------------------
  ExperienceValue = 100 100 100 100  ; Experience point value at each level
  ;ExperienceValue    = 60 80 106 142
  ;ExperienceRequired = 0  180 240 319
  ;IsTrainable        = Yes
  CommandSet = AmericaPatriotBatteryCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect          = StingerSiteSelect
  SoundOnDamaged       = BuildingDamagedStateLight
  SoundOnReallyDamaged = BuildingDestroy
  UnitSpecificSounds
    UnderConstruction  = UnderConstructionLoop
  End

  ; *** ENGINEERING Parameters ***
 
  RadarPriority = STRUCTURE
  KindOf = PRELOAD STRUCTURE SELECTABLE IMMUNE_TO_CAPTURE SCORE_CREATE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT IMMOBILE FS_BASE_DEFENSE SALVAGER WEAPON_SALVAGER
;--------------------------------------------------------------------------------------------------------------------------
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;  Body = StructureBody ModuleTag_04
;    MaxHealth     = 900.0
;    InitialHealth = 900.0
;  End
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
  Body = StructureBody ModuleTag_05
    MaxHealth     = 1500.0
    InitialHealth = 1500.0
    SubdualDamageCap = 1200
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
  End
;------------------------------------------------------
  Behavior = AIUpdateInterface ModuleTag_AI
    Turret
      ControlledWeaponSlots = PRIMARY
      TurretTurnRate = 90
      AllowsPitch    = No
      RecenterTime   = 1000000
    End
    AutoAcquireEnemiesWhenIdle = Yes Stealthed ;[:        =  ]
    MoodAttackCheckRate = 250  ;[:     = 250]
  End
;------------------------------------------------------
  Behavior = DestroyDie ModuleTag_09
  End
  Behavior = CreateObjectDie ModuleTag_10
    CreationList  = OCL_ABStingerSiteDebris
  End
  Behavior = FXListDie ModuleTag_11
    DeathFX = FX_StructureSmallDeath
  End
;----------------------------------------------------------------------------------------------------------
  Behavior = StealthDetectorUpdate ModuleTag_13
    DetectionRate  = 500          ;How often to rescan for stealthed things in my sight (msec)
    DetectionRange = 200          ;Dustin, enable this for independant balancing!
    CanDetectWhileGarrisoned = No ;Garrisoned means being in a structure that you units can shoot out of.
    CanDetectWhileContained  = No ;Contained means being in a transport or tunnel network.
  End
;----------------------------------------------------------------------------------------------------------

  Behavior = FlammableUpdate ModuleTag_16
    AflameDuration = 8000
    AflameDamageAmount = 1
    AflameDamageDelay = 500
  End
  Behavior = TransitionDamageFX ModuleTag_17
    ;-------------DESIGNED FOR SMALL SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
  End
  ; Behavior = BaseRegenerateUpdate ModuleTag_Regen
  ; End 
  Behavior = ProductionUpdate ModuleTag_Production
  End
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;  Behavior = RebuildHoleExposeDie ModuleTag_1238
;    HoleName      = GLAHoleStingerSite
;    HoleMaxHealth = 400.0
;  End
;  Behavior = RebuildHoleExposeDie ModuleTag_4568
;    HoleName      = GLAHoleStingerSite
;    HoleMaxHealth = 400.0
;  End
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

  Geometry            = BOX
  GeometryMajorRadius = 20.0
  GeometryMinorRadius = 20.0
  GeometryHeight      = 10.0
  GeometryIsSmall     = No
  Shadow              = SHADOW_VOLUME
  BuildCompletion     = PLACED_BY_PLAYER
End

;-------------------------------------------------------------------------------------------------------------
Object Boss_MilitiaArtilleryCannon

  ; *** ART Parameters ***
  SelectPortrait         = SAFirebase
  ButtonImage            = SAFirebase

  ;UpgradeCameo1 = Upgrade_GLAToxinShells
  ;UpgradeCameo2 = Upgrade_GLACamoNetting

  Draw                    = W3DModelDraw ModuleTag_Draw04
    OkToChangeModelColor  = Yes

    ConditionState = NONE
      Model = UVD30
      Turret = TURRET
      WeaponFireFXBone = PRIMARY FIREFX
      WeaponMuzzleFlash = PRIMARY MUZZLEFX
      WeaponLaunchBone = PRIMARY FIREFX
    End
    AliasConditionState = SNOW
    AliasConditionState = NIGHT
    AliasConditionState = SNOW NIGHT
    AliasConditionState = DAMAGED
    AliasConditionState = DAMAGED SNOW
    AliasConditionState = DAMAGED NIGHT
    AliasConditionState = DAMAGED SNOW NIGHT
    AliasConditionState = REALLYDAMAGED RUBBLE
    AliasConditionState = REALLYDAMAGED RUBBLE SNOW
    AliasConditionState = REALLYDAMAGED RUBBLE NIGHT
    AliasConditionState = REALLYDAMAGED RUBBLE SNOW NIGHT

    ConditionState = RELOADING_A
      Model = UVD30
      Turret = TURRET
      WeaponFireFXBone = PRIMARY FIREFX
      WeaponMuzzleFlash = PRIMARY MUZZLEFX
      WeaponLaunchBone = PRIMARY FIREFX
      Animation = UVD30.UVD30
      AnimationMode = ONCE
    End
    AliasConditionState = RELOADING_A SNOW
    AliasConditionState = RELOADING_A NIGHT
    AliasConditionState = RELOADING_A SNOW NIGHT
    AliasConditionState = RELOADING_A DAMAGED
    AliasConditionState = RELOADING_A DAMAGED SNOW
    AliasConditionState = RELOADING_A DAMAGED NIGHT
    AliasConditionState = RELOADING_A DAMAGED SNOW NIGHT
    AliasConditionState = RELOADING_A REALLYDAMAGED RUBBLE
    AliasConditionState = RELOADING_A REALLYDAMAGED RUBBLE SNOW
    AliasConditionState = RELOADING_A REALLYDAMAGED RUBBLE NIGHT
    AliasConditionState = RELOADING_A REALLYDAMAGED RUBBLE SNOW NIGHT

    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model = UVD30
      Turret = TURRET
      WeaponFireFXBone = PRIMARY FIREFX
      WeaponMuzzleFlash = PRIMARY MUZZLEFX
      WeaponLaunchBone = PRIMARY FIREFX
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED

    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
  End

  ;*****************************************************
  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes

    ExtraPublicBone = OILTANK01
    
    ; day ************************************
    ConditionState = NONE
      Model = UBStingerS
      HideSubObject = TURRETUP02 PLANE01
    End
    AliasConditionState = NIGHT 
    ConditionState = DAMAGED
      Model = UBStingerS_D
      HideSubObject = TURRETUP02 PLANE01
    End
    AliasConditionState = DAMAGED NIGHT 
    ConditionState = REALLYDAMAGED RUBBLE
      Model = UBStingerS_E
      HideSubObject = TURRETUP02 PLANE01
    End
    AliasConditionState = REALLYDAMAGED NIGHT RUBBLE

    ; day snow ************************************
    ConditionState = SNOW
      Model = UBStingerS_S
      HideSubObject = TURRETUP02 PLANE01
    End
    AliasConditionState       = NIGHT SNOW
    ConditionState = DAMAGED SNOW
      Model = UBStingerS_DS
      HideSubObject = TURRETUP02 PLANE01
    End
    AliasConditionState       = DAMAGED NIGHT SNOW
    ConditionState = REALLYDAMAGED SNOW RUBBLE
      Model = UBStingerS_ES
      HideSubObject = TURRETUP02 PLANE01
    End
    AliasConditionState       = REALLYDAMAGED NIGHT SNOW RUBBLE

    ;**********************************************
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = UBStingerS
      HideSubObject      = TURRETUP02 PLANE01
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = UBStingerS_D
      HideSubObject      = TURRETUP02 PLANE01
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = UBStingerS_E
      HideSubObject      = TURRETUP02 PLANE01
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model              = UBStingerS_S
      HideSubObject      = TURRETUP02 PLANE01
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
      Model              = UBStingerS_DS
      HideSubObject      = TURRETUP02 PLANE01
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
      Model              = UBStingerS_ES
      HideSubObject      = TURRETUP02 PLANE01
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED

    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
  End

  ; ------------ construction-zone fence -----------------
  Draw = W3DModelDraw ModuleTag_02
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = UBStingerS_A4
      Animation       = UBStingerS_A4.UBStingerS_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
    End
    ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = UBStingerS_A4N
      Animation       = UBStingerS_A4N.UBStingerS_A4N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
    End
    ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = UBStingerS_A4S
      Animation       = UBStingerS_A4S.UBStingerS_A4S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
    End
    ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = UBStingerS_A4SN
      Animation       = UBStingerS_A4SN.UBStingerS_A4SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = UBStingerS_A4
      Animation       = UBStingerS_A4.UBStingerS_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = UBStingerS_A4N
      Animation       = UBStingerS_A4N.UBStingerS_A4N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = UBStingerS_A4S
      Animation       = UBStingerS_A4S.UBStingerS_A4S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = UBStingerS_A4SN
      Animation       = UBStingerS_A4SN.UBStingerS_A4SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = UBStingerS_A4
      Animation       = UBStingerS_A4.UBStingerS_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = UBStingerS_A4N
      Animation       = UBStingerS_A4N.UBStingerS_A4N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = UBStingerS_A4S
      Animation       = UBStingerS_A4S.UBStingerS_A4S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = UBStingerS_A4SN
      Animation       = UBStingerS_A4SN.UBStingerS_A4SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ under-construction scaffolding -----------------
  Draw = W3DModelDraw ModuleTag_03
  AnimationsRequirePower = No
    MinLODRequired = MEDIUM
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = UBStingerS_A6
      Animation       = UBStingerS_A6.UBStingerS_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Smoke01 BuildUpSmoke
      ParticleSysBone = Smoke02 BuildUpSmoke
      ParticleSysBone = Smoke03 BuildUpSmoke
    End
    ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      Model           = UBStingerS_A6N
      Animation       = UBStingerS_A6N.UBStingerS_A6N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = Smoke01 BuildUpSmoke
      ParticleSysBone = Smoke02 BuildUpSmoke
      ParticleSysBone = Smoke03 BuildUpSmoke
    End
    ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      Model           = UBStingerS_A6S
      Animation       = UBStingerS_A6S.UBStingerS_A6S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = Smoke01 BuildUpSnowSmoke
      ParticleSysBone = Smoke02 BuildUpSnowSmoke
      ParticleSysBone = Smoke03 BuildUpSnowSmoke
    End
    ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      Model           = UBStingerS_A6SN
      Animation       = UBStingerS_A6SN.UBStingerS_A6SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = Smoke01 BuildUpNightSnowSmoke
      ParticleSysBone = Smoke02 BuildUpNightSnowSmoke
      ParticleSysBone = Smoke03 BuildUpNightSnowSmoke
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
     Model            = UBStingerS_A6
      Animation       = UBStingerS_A6.UBStingerS_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
     Model            = UBStingerS_A6N
      Animation       = UBStingerS_A6N.UBStingerS_A6N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
     Model            = UBStingerS_A6S
      Animation       = UBStingerS_A6S.UBStingerS_A6S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
     Model            = UBStingerS_A6SN
      Animation       = UBStingerS_A6SN.UBStingerS_A6SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = UBStingerS_A6
      Animation       = UBStingerS_A6.UBStingerS_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = UBStingerS_A6N
      Animation       = UBStingerS_A6N.UBStingerS_A6N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = UBStingerS_A6S
      Animation       = UBStingerS_A6S.UBStingerS_A6S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = UBStingerS_A6SN
      Animation       = UBStingerS_A6SN.UBStingerS_A6SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End
 
 ;PlacementViewAngle = -45
  PlacementViewAngle = -135

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:DefenseSiteArtillery ;-[ ]
  Side                = Militia ;GLA
  EditorSorting       = STRUCTURE
  VisionRange         = 650.0
  ShroudClearingRange = 650.0
;---------------------------------------------------------------------
  WeaponSet
    Conditions = None 
    Weapon     = PRIMARY ALMajArtilCannonGun
  End
;---------------------------------------------------------------------
  ArmorSet
    Conditions = None
    Armor      = StructureArmor
    DamageFX   = StructureDamageFXNoShake
  End
;---------------------------------------------------------------------
  Prerequisites
    Object = Boss_Barracks
	Object = Boss_WarFactory Boss_SmallFactory
	Object = Boss_ArtilleryWarehouse
  End
  BuildCost        = 1000 ;[800]*  ;1700
  BuildTime        = 16.0 ;20.0 ;[10.0]* ;34.0
  EnergyProduction = 0
;---------------------------------------------------------------------
  ExperienceValue = 100 100 100 100  ; Experience point value at each level
  ;ExperienceValue    = 101 134 178 238
  ;ExperienceRequired = 0 302 402 535
  ;IsTrainable        = Yes
  CommandSet = AmericaPatriotBatteryCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect          = StingerSiteSelect
  SoundOnDamaged       = BuildingDamagedStateLight
  SoundOnReallyDamaged = BuildingDestroy
  UnitSpecificSounds
    UnderConstruction  = UnderConstructionLoop
  End

  ; *** ENGINEERING Parameters *** 
  RadarPriority = STRUCTURE
  KindOf = PRELOAD STRUCTURE SELECTABLE IMMUNE_TO_CAPTURE SCORE_CREATE CAN_ATTACK IMMOBILE FS_BASE_DEFENSE SALVAGER WEAPON_SALVAGER
;;[    - ,    ....- : PRELOAD STRUCTURE SELECTABLE CAN_ATTACK IMMOBILE SCORE FS_TECHNOLOGY FS_BASE_DEFENSE IMMUNE_TO_CAPTURE ]
;--------------------------------------------------------------------------------------------------------------------
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;  Body = StructureBody ModuleTag_04
;    MaxHealth     = 900.0
;    InitialHealth = 900.0
;  End
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
  Body = StructureBody ModuleTag_05
    MaxHealth     = 1500.0
    InitialHealth = 1500.0
    SubdualDamageCap = 1200
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
  End
;--------------------------------------------?????????????????????????.........
  Behavior = AIUpdateInterface ModuleTag_06
    Turret
      TurretTurnRate        = 60
      AllowsPitch           = No
      ControlledWeaponSlots = PRIMARY
      RecenterTime   = 1000000
    End
    AutoAcquireEnemiesWhenIdle = Yes Stealthed ATTACK_BUILDINGS ;[:        =    ATTACK]
    MoodAttackCheckRate = 250  ;[:     = 250]
  End
;--------------------------------------------------------------------
  Behavior = DestroyDie ModuleTag_09
  End
  Behavior = CreateObjectDie ModuleTag_10
    CreationList = OCL_ABStingerSiteDebris
  End
  Behavior = FXListDie ModuleTag_11
    DeathFX = FX_StructureSmallDeath
  End
;----------------------------------------------------------------------------------------------------------
  Behavior = StealthDetectorUpdate ModuleTag_13
    DetectionRate  = 500          ;How often to rescan for stealthed things in my sight (msec)
    DetectionRange = 200          ;Dustin, enable this for independant balancing!
    CanDetectWhileGarrisoned = No ;Garrisoned means being in a structure that you units can shoot out of.
    CanDetectWhileContained  = No ;Contained means being in a transport or tunnel network.
  End
;----------------------------------------------------------------------------------------------------------
  Behavior = FlammableUpdate ModuleTag_16
    AflameDuration = 8000   ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 5  ; taking this much damage...
    AflameDamageDelay = 500 ; this often.
  End
  Behavior = TransitionDamageFX ModuleTag_17
    ;-------------DESIGNED FOR SMALL SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
  End
  ; Behavior = BaseRegenerateUpdate ModuleTag_Regen
  ; End 
  Behavior = ProductionUpdate ModuleTag_Production
  End
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;  Behavior= RebuildHoleExposeDie ModuleTag_658
;    HoleName      = GLAHoleStingerSite
;    HoleMaxHealth = 400.0
;  End
;  Behavior = RebuildHoleExposeDie ModuleTag_65658
;    HoleName      = GLAHoleStingerSite
;    HoleMaxHealth = 400.0
;  End
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

  Geometry            = BOX
  GeometryMajorRadius = 20.0
  GeometryMinorRadius = 20.0
  GeometryHeight = 10.0
  GeometryIsSmall     = No
  Shadow              = SHADOW_VOLUME
  BuildCompletion     = PLACED_BY_PLAYER
End

;-----------------------------------------------------------------------------------
Object Boss_RussiaVehicleSprut

  ; *** ART Parameters ***
  SelectPortrait         = BIAlMajnoon
  ButtonImage            = BIAlMajnoon
  
  Draw = W3DTankDraw ModuleTag_01
    OkToChangeModelColor = Yes
    MaxRecoilDistance    = 4
    RecoilSettleSpeed    = 6

    ; ConditionState = NONE
      ; Model = RVBMD4
      ; Turret = TURRET_DUM
      ; TurretPitch = TURRETEL01
      ; HideSubObject = SPRTTRRT SPRTBRL01 BARRELMG01 LIGHT01 LIGHT02 LIGHT03
      ; WeaponRecoilBone    = SECONDARY Barrel
      ; WeaponMuzzleFlash   = SECONDARY MuzzleFX
      ; WeaponFireFXBone    = SECONDARY Muzzle
      ; WeaponLaunchBone    = SECONDARY Muzzle
    ; End
    ; AliasConditionState = FIRING_A

    ; ConditionState = REALLYDAMAGED
      ; Model = RVBMD4_D
      ; Turret = TURRET_DUM
      ; TurretPitch = TURRETEL01
      ; HideSubObject = SPRTTRRT SPRTBRL01 BARRELMG01 LIGHT01 LIGHT02 LIGHT03
      ; WeaponRecoilBone    = SECONDARY Barrel
      ; WeaponMuzzleFlash   = SECONDARY MuzzleFX
      ; WeaponFireFXBone    = SECONDARY Muzzle
      ; WeaponLaunchBone    = SECONDARY Muzzle
    ; End
    ; AliasConditionState = FIRING_A REALLYDAMAGED
    ; AliasConditionState = RUBBLE
    
    ;Sprut Tank Destroyer
    ConditionState = NONE
      Model = RVBMD4
      Animation = RVBMD4.RVBMD4
      AnimationMode = ONCE
      Flags = START_FRAME_LAST
      Turret = TURRET_DUM
      TurretPitch = SPRTTRRTEL
      ShowSubObject = SPRTTRRT SPRTBRL01
      HideSubObject = TURRET HOUSECOLOR02 BARREL01 BARRELMG01 LIGHT01 LIGHT02 LIGHT03
      WeaponRecoilBone    = PRIMARY None
      WeaponMuzzleFlash   = PRIMARY None
      WeaponFireFXBone    = PRIMARY SprtMzl
      WeaponLaunchBone    = PRIMARY SprtMzl
      WaitForStateToFinishIfPossible = TRANS_FIRING_A
    End
    
    ConditionState = FIRING_A
      Model = RVBMD4
      Animation = RVBMD4.RVBMD4
      AnimationMode = ONCE
      Flags = START_FRAME_FIRST
      TransitionKey = TRANS_FIRING_A
      Turret = TURRET_DUM
      TurretPitch = SPRTTRRTEL
      ShowSubObject = SPRTTRRT SPRTBRL01
      HideSubObject = TURRET HOUSECOLOR02 BARREL01 BARRELMG01 LIGHT01 LIGHT02 LIGHT03
      WeaponRecoilBone    = PRIMARY None
      WeaponMuzzleFlash   = PRIMARY None
      WeaponFireFXBone    = PRIMARY SprtMzl
      WeaponLaunchBone    = PRIMARY SprtMzl
    End

    ConditionState = REALLYDAMAGED
      Model = RVBMD4_D
      Animation = RVBMD4_D.RVBMD4_D
      AnimationMode = ONCE
      Flags = START_FRAME_LAST
      Turret = TURRET_DUM
      TurretPitch = SPRTTRRTEL
      ShowSubObject = SPRTTRRT SPRTBRL01
      HideSubObject = TURRET HOUSECOLOR02 BARREL01 BARRELMG01 LIGHT01 LIGHT02 LIGHT03
      WeaponRecoilBone    = PRIMARY None
      WeaponMuzzleFlash   = PRIMARY None
      WeaponFireFXBone    = PRIMARY SprtMzl
      WeaponLaunchBone    = PRIMARY SprtMzl
      WaitForStateToFinishIfPossible = TRANS_FIRING_DAMAGED_A
    End
    AliasConditionState = RUBBLE
    
    ConditionState = FIRING_A REALLYDAMAGED
      Model = RVBMD4_D
      Animation = RVBMD4_D.RVBMD4_D
      AnimationMode = ONCE
      Flags = START_FRAME_FIRST
      TransitionKey = TRANS_FIRING_DAMAGED_A
      Turret = TURRET_DUM
      TurretPitch = SPRTTRRTEL
      ShowSubObject = SPRTTRRT SPRTBRL01
      HideSubObject = TURRET HOUSECOLOR02 BARREL01 BARRELMG01 LIGHT01 LIGHT02 LIGHT03
      WeaponRecoilBone    = PRIMARY None
      WeaponMuzzleFlash   = PRIMARY None
      WeaponFireFXBone    = PRIMARY SprtMzl
      WeaponLaunchBone    = PRIMARY SprtMzl
    End

    TrackMarks             = EXTnkTrack.tga
    TreadAnimationRate      = 2.0  ;  amount of tread texture to move per second
    TreadDriveSpeedFraction = 0.3  ; fraction of locomotor speed below which treads stop moving.
    TreadPivotSpeedFraction = 0.6  ; fraction of locomotor speed below which we allow pivoting.
  End
  
  ; Draw = W3DModelDraw ModuleTag_AutoCannonBarrel01
    ; MaxRecoilDistance    = 1
    ; RecoilSettleSpeed    = 6
    ; ConditionState = NONE
      ; Model = RVBMD4
      ; Turret = TURRET_DUM
      ; TurretPitch = TURRETEL02
      ; HideSubObject = CHASSIS TURRET SPRTTRRT LIGHT01 LIGHT02 LIGHT03 HOUSECOLOR02 BARREL01 SPRTBRL01
      ; WeaponMuzzleFlash = SECONDARY MuzzleMGFX
    ; End
    ; ConditionState = USING_WEAPON_A
      ; Model = RVBMD4
      ; Turret = TURRET_DUM
      ; TurretPitch = TURRETEL02
      ; HideSubObject = CHASSIS TURRET SPRTTRRT LIGHT01 LIGHT02 LIGHT03 HOUSECOLOR02 BARREL01 SPRTBRL01
      ; WeaponRecoilBone    = PRIMARY BarrelMG
      ; WeaponMuzzleFlash   = PRIMARY MuzzleMGFX
      ; WeaponFireFXBone    = PRIMARY MuzzleMG
      ; WeaponLaunchBone    = PRIMARY MuzzleMG
    ; End
    ; ConditionState = REALLYDAMAGED
      ; Model = RVBMD4_D
      ; Turret = TURRET_DUM
      ; TurretPitch = TURRETEL02
      ; HideSubObject = CHASSIS TURRET SPRTTRRT LIGHT01 LIGHT02 LIGHT03 HOUSECOLOR02 BARREL01 SPRTBRL01
      ; WeaponMuzzleFlash   = SECONDARY MuzzleMGFX
    ; End
    ; AliasConditionState = RUBBLE
    ; ConditionState = REALLYDAMAGED USING_WEAPON_A
      ; Model = RVBMD4_D
      ; Turret = TURRET_DUM
      ; TurretPitch = TURRETEL02
      ; HideSubObject = CHASSIS TURRET SPRTTRRT LIGHT01 LIGHT02 LIGHT03 HOUSECOLOR02 BARREL01 SPRTBRL01
      ; WeaponRecoilBone    = PRIMARY BarrelMG
      ; WeaponMuzzleFlash   = PRIMARY MuzzleMGFX
      ; WeaponFireFXBone    = PRIMARY MuzzleMG
      ; WeaponLaunchBone    = PRIMARY MuzzleMG
    ; End
    ; ;Sprut Tank Destroyer
    ; ConditionState = NONE
      ; Model = NONE
    ; End
    ; AliasConditionState = USING_WEAPON_A
    ; AliasConditionState = REALLYDAMAGED
    ; AliasConditionState = RUBBLE
    ; AliasConditionState = REALLYDAMAGED USING_WEAPON_A
  ; End
  
  Draw = W3DModelDraw ModuleTag_TurretLights01
    OkToChangeModelColor = Yes
    DefaultConditionState
      Model = NONE
    End
    AliasConditionState = REALLYDAMAGED
    AliasConditionState = RUBBLE
    AliasConditionState = NIGHT RUBBLE
    ConditionState = NIGHT
      Model = RVBMD4
      Turret = TURRET_DUM
      ShowSubObject = LIGHT03
      HideSubObject = CHASSIS TURRET SPRTTRRT HOUSECOLOR02 BARREL01 BARRELMG01 SPRTTRRT SPRTBRL01 LIGHT02
    End
    AliasConditionState = NIGHT REALLYDAMAGED
  End
  
  Draw = W3DModelDraw ModuleMod_OverWater
    DefaultConditionState
      Model = NVTCrawler_W
    End
    AliasConditionState  = MOVING
    ConditionState       = OVER_WATER
      ParticleSysBone    = TreadFX01 AmphibWaveRest
      ParticleSysBone    = TreadFX02 AmphibWaveRest
    End   
    ConditionState       = OVER_WATER MOVING
      ParticleSysBone    = TreadFX01 AmphibWave
      ParticleSysBone    = TreadFX02 AmphibWave
    End
  End
  
  Draw = W3DModelDraw ModuleTag_ParachutePlate01
    DefaultConditionState
      Model             = NONE
    End
    AliasConditionState = REALLYDAMAGED
    AliasConditionState = RUBBLE
    ConditionState = FREEFALL
      Model             = RVParaPlate
    End
    AliasConditionState = FREEFALL REALLYDAMAGED
    AliasConditionState = FREEFALL RUBBLE
    AliasConditionState = PARACHUTING
    AliasConditionState = PARACHUTING REALLYDAMAGED
    AliasConditionState = PARACHUTING RUBBLE
  End

  Draw = W3DModelDraw ModuleMod_ExitBones01
    DefaultConditionState
      Model = RVBMP3_B
    End   
  End
  ;---------------TEOD VERSION-------------------------------
  ; Draw = W3DTankDraw ModuleTag_01
    ; OkToChangeModelColor = Yes
    ; DefaultConditionState
      ; Model               = RU_Sprut
      ; Turret              = TURRET01
      ; WeaponFireFXBone    = PRIMARY Muzzle
      ; WeaponRecoilBone    = PRIMARY Barrel
      ; WeaponMuzzleFlash   = PRIMARY MuzzleFX
      ; WeaponLaunchBone    = PRIMARY Muzzle
      ; WeaponFireFXBone    = SECONDARY FIREPOINT02
      ; WeaponLaunchBone    = SECONDARY FIREPOINT02
      ; WeaponFireFXBone    = TERTIARY WeaponB
      ; WeaponLaunchBone    = TERTIARY WeaponB
    ; End
    ; ConditionState = REALLYDAMAGED
      ; Model               = RU_Sprut_D
      ; Turret              = Turret01
      ; WeaponFireFXBone    = PRIMARY Muzzle
      ; WeaponRecoilBone    = PRIMARY Barrel
      ; WeaponMuzzleFlash   = PRIMARY MuzzleFX
      ; WeaponLaunchBone    = PRIMARY Muzzle
      ; WeaponFireFXBone    = SECONDARY FIREPOINT02
      ; WeaponLaunchBone    = SECONDARY FIREPOINT02
      ; WeaponFireFXBone    = TERTIARY WeaponB
      ; WeaponLaunchBone    = TERTIARY WeaponB
    ; End
    ; ConditionState = RUBBLE
      ; Model               = RU_Sprut_D
      ; Turret              = Turret01
    ; End
    ; ConditionState = USER_1 RUBBLE
      ; Model               = RU_Sprut_D
      ; Turret              = Turret01
    ; End
    ; TrackMarks              = EXTnkTrack.tga
    ; TreadAnimationRate      = 2.0  ; amount of tread texture to move per second
  ; End 

  ; Draw = W3DModelDraw ModuleTag_02
    ; ParticlesAttachedToAnimatedBones = Yes
    ; DefaultConditionState
      ; Model = None
    ; End
    ; AliasConditionState = DOOR_1_OPENING
    ; ConditionState = DOOR_1_WAITING_OPEN
      ; Model = None
    ; End 
    ; ConditionState = DOOR_1_CLOSING
      ; Model = Sprut_Shtora
      ; Animation = Sprut_Shtora.Sprut_Shtora
      ; AnimationMode = LOOP
      ; Turret              = Turret01
      ; ParticleSysBone = Shtora01 ShtoraLightEffect
      ; ParticleSysBone = Shtora02 ShtoraLightEffect
      ; ParticleSysBone = TURRET01 ShtoraSphere
    ; End 
    ; AliasConditionState = DOOR_1_WAITING_TO_CLOSE
  ; End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Sprut
  Side = Boss
  EditorSorting   = VEHICLE
  TransportSlotCount = 3                 ;how many "slots" we take in a transport (0 == not transportable)
  
  ; WeaponSet
    ; Conditions = None 
    ; Weapon = PRIMARY TEODSprutTankGun
  ; End
  
  WeaponSet
    Conditions = None 
    Weapon = PRIMARY SprutTankGun
  End
  
  WeaponSet
    Conditions = HERO 
    Weapon = PRIMARY HeroicSprutTankGun
  End

  ArmorSet
    Conditions      = None
    Armor           = LightTankArmor
    DamageFX        = TankDamageFX
  End

  BuildCost       = 700
  BuildTime       = 9.0          ;in seconds    
  VisionRange     = 180
  ShroudClearingRange = 400
  Prerequisites
    Object = Boss_WarFactory Boss_SmallFactory
  End

  ExperienceValue         = 85 85 150 250  ;Experience point value at each level
  ExperienceRequired      = 0 250 400 600   ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet       =  GenericCommandSet ;Boss_RussianVehicleNonaCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = SprutSelect
  VoiceMove = SprutMove
  VoiceGuard = SprutGuard
  VoiceAttack = SprutAttack
  SoundMoveStart = TroopCrawlerMoveStart
  SoundMoveStartDamaged = TroopCrawlerMoveStart
  
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate     = SprutCreate
    TurretMoveStart = NoSound
    TurretMoveLoop = TurretMoveLoop
    TruckLandingSound = NoSound
    TruckPowerslideSound = NoSound
    VoiceCrush = SprutAttack
    VoiceUnload   = SprutMove
    VoiceEnter = SprutMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE TRANSPORT

  Body = ActiveBody ModuleTag_03
    MaxHealth       = 300
    InitialHealth   = 300

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 800
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

  Behavior = TransportAIUpdate ModuleTag_04
    Turret
      TurretTurnRate        = 180
      TurretPitchRate       = 70
      NaturalTurretPitch    = 5
      MinPhysicalPitch      = -10
      AllowsPitch           = Yes
      RecenterTime          = 5000   ; how long to wait during idle before recentering
      MinIdleScanAngle      = 10
      MaxIdleScanAngle      = 40
      MinIdleScanInterval   = 5000
      MaxIdleScanInterval   = 10000
      ControlledWeaponSlots = PRIMARY SECONDARY TERTIARY
    End
    AutoAcquireEnemiesWhenIdle = Yes
    MoodAttackCheckRate        = 250
  End

  Locomotor = SET_NORMAL BMD4Locomotor TroopCrawlerWaterLocomotor

  Behavior = PhysicsBehavior ModuleTag_06
    Mass = 40.0
  End

 Behavior = SlowDeathBehavior ModuleTag_07
    DeathTypes = ALL -CRUSHED -SPLATTED
    DestructionDelay = 1
    FX  = FINAL    FX_BattleMasterExplosionOneFinal
    OCL = FINAL    OCL_FinalBMD4Debris
  End

  Behavior = DestroyDie ModuleTag_10
    DeathTypes = NONE +CRUSHED +SPLATTED
  End

  Behavior = FXListDie ModuleTag_11
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End

  Behavior = TransitionDamageFX ModuleTag_08
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End
  Behavior = FlammableUpdate ModuleTag_09
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End
  
  Behavior = CommandButtonHuntUpdate  ModuleTag_10 ; allows use of command button hunt script with this unit. 
  End

  Behavior = StealthUpdate ModuleStealth_GPSScramblerGenericStealthModule
    StealthDelay                = 2000 ; msec
    InnateStealth               = Yes
    StealthForbiddenConditions  = ATTACKING USING_ABILITY
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
    RequiredStatus = REASSIGN_PARKING
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 14.0
  GeometryMinorRadius = 9.0
  GeometryHeight = 12     
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME    
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length
  Scale = 0.98
End

;-------------------------------------------------------------------
Object Boss_RussiaVehicleECM

  ; *** ART Parameters ***
  SelectPortrait         = SAThunderBolt2_L
  ButtonImage            = SAThunderBolt2
  

  ;UpgradeCameo1 = Upgrade_Reflection

  Draw = W3DTruckDraw ModuleTag_01
    OkToChangeModelColor = Yes


    DefaultConditionState
      Model                           = RU-ECMRadar
      Animation                       = RU-ECMRadar.RU-ECMRadar
      AnimationMode                   = ONCE_BACKWARDS
      Turret                          = TURRET01
      Flags                           = START_FRAME_FIRST
      WeaponFireFXBone    = PRIMARY WEAPONA
      WeaponLaunchBone = PRIMARY WEAPONA
    End
      
    ConditionState                    = RUBBLE
      Model           = RU-ECMRadar_D 
      Animation       = RU-ECMRadar_D.RU-ECMRadar_D
      AnimationMode                   = ONCE_BACKWARDS
      Turret                          = TURRET01
      Flags                           = START_FRAME_FIRST
      WeaponLaunchBone                = PRIMARY WEAPONA
      WeaponLaunchBone                = SECONDARY WEAPONA
      WeaponLaunchBone                = TERTIARY WEAPONA
      WeaponFireFXBone                = PRIMARY WEAPONA
      WeaponFireFXBone                = SECONDARY WEAPONA
      WeaponFireFXBone                = TERTIARY WEAPONA
      WeaponMuzzleFlash   = PRIMARY FIREFX
      WeaponMuzzleFlash   = TERTIARY FIREFXB
    End

    ;*** PACKED STATE -- ready to move ***
    ConditionState    = MOVING
      Animation       = RU-ECMRadar.RU-ECMRadar
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_FIRST
    End
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_A
    AliasConditionState = BETWEEN_FIRING_SHOTS_A
    ;AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_C
    ;AliasConditionState = BETWEEN_FIRING_SHOTS_C

    ConditionState    = REALLYDAMAGED MOVING
      Model           = RU-ECMRadar_D 
      Animation       = RU-ECMRadar_D.RU-ECMRadar_D
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_FIRST
    End
    AliasConditionState = REALLYDAMAGED MOVING BETWEEN_FIRING_SHOTS_A
    ;AliasConditionState = REALLYDAMAGED MOVING BETWEEN_FIRING_SHOTS_C
     
    ;*** UNPACKING STATE  -- preparing to fire ***
    ConditionState    = UNPACKING
      Animation       = RU-ECMRadar.RU-ECMRadar
      AnimationMode   = ONCE
    End
    AliasConditionState = UNPACKING BETWEEN_FIRING_SHOTS_A
    ;AliasConditionState = UNPACKING BETWEEN_FIRING_SHOTS_C

    ConditionState    = REALLYDAMAGED UNPACKING
      Model           = RU-ECMRadar_D 
      Animation       = RU-ECMRadar_D.RU-ECMRadar_D
      AnimationMode   = ONCE
    End
    AliasConditionState = REALLYDAMAGED UNPACKING BETWEEN_FIRING_SHOTS_A
    ;AliasConditionState = REALLYDAMAGED UNPACKING BETWEEN_FIRING_SHOTS_C

    ;*** PACKING STATE -- preparing to move ***
    ConditionState    = PACKING
      Animation       = RU-ECMRadar.RU-ECMRadar
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End
    AliasConditionState = PACKING BETWEEN_FIRING_SHOTS_A
    ;AliasConditionState = PACKING BETWEEN_FIRING_SHOTS_C

    ConditionState    = REALLYDAMAGED PACKING
      Model           = RU-ECMRadar_D 
      Animation       = RU-ECMRadar_D.RU-ECMRadar_D
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End
    AliasConditionState = REALLYDAMAGED PACKING BETWEEN_FIRING_SHOTS_A
    ;AliasConditionState = REALLYDAMAGED PACKING BETWEEN_FIRING_SHOTS_C


    ;*** DEPLOYED STATE -- ready to fire ***
    ConditionState  = DEPLOYED
      Model           = RU-ECMRadar 
      Animation       = RU-ECMRadar.RU-ECMRadar
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
    End
    AliasConditionState = DEPLOYED MOVING
    AliasConditionState = DEPLOYED BETWEEN_FIRING_SHOTS_A
    AliasConditionState = DEPLOYED FIRING_A
    AliasConditionState = DEPLOYED RELOADING_A

    ConditionState  = DEPLOYED REALLYDAMAGED
      Model           = RU-ECMRadar_D 
      Animation       = RU-ECMRadar_D.RU-ECMRadar_D
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
    End
    AliasConditionState = DEPLOYED REALLYDAMAGED MOVING
    AliasConditionState = DEPLOYED REALLYDAMAGED BETWEEN_FIRING_SHOTS_A
    AliasConditionState = DEPLOYED REALLYDAMAGED FIRING_A
    AliasConditionState = DEPLOYED REALLYDAMAGED RELOADING_A

    ;*** DEPLOYED STATE -- ready to fire ***
    ConditionState  = DEPLOYED USING_WEAPON_C
      Model           = RU-ECMRUWC
      Animation       = RU-ECMRUWC.RU-ECMRUWC
      AnimationMode   = LOOP
    End

    ConditionState  = DEPLOYED USING_WEAPON_C REALLYDAMAGED
      Model           = RU-ECMRUWC_D
      Animation       = RU-ECMRUWC_D.RU-ECMRUWC_D
      AnimationMode   = LOOP
    End
  

    TrackMarks = EXTireTrack.tga

    Dust = ScudLauncherDust
    DirtSpray = RocketBuggyDirtSpray
    PowerslideSpray = RocketBuggyDirtPowerSlide

    ; These parameters are only used if the model has a separate suspension,
    ; and the locomotor has HasSuspension = Yes.
    LeftFrontTireBone = Tire01
    RightFrontTireBone = Tire05
    LeftRearTireBone = Tire07
    MidLeftFrontTireBone = Tire02
    MidRightFrontTireBone = Tire06
    MidLeftRearTireBone = Tire03
    MidRightRearTireBone = Tire04

    TireRotationMultiplier = 0.2   ; this * speed = rotation.
    ;PowerslideRotationAddition = 0.0   ; This speed is added to the rotation speed when powersliding.

  End

; ***DESIGN parameters ***
  DisplayName      = OBJECT:Disturber
  Side = Boss
  EditorSorting   = VEHICLE
  TransportSlotCount = 8                 ;how many "slots" we take in a transport (0 == not transportable)

  WeaponSet
    Conditions = None
    ;Weapon = PRIMARY RUECMVehicleDisabler
    ;PreferredAgainst = PRIMARY VEHICLE HUGE_VEHICLE
    Weapon = SECONDARY S300FakeWeapon
    AutoChooseSources = SECONDARY NONE
    Weapon = TERTIARY TargetingBlockerFieldWeapon
    AutoChooseSources = TERTIARY NONE
  End

  ArmorSet
    Conditions      = None
    Armor           = ArtilleryVehicleArmor
    DamageFX        = TruckDamageFX
  End

  BuildCost       = 30000
  BuildTime       = 15.0          ;in seconds    
  VisionRange     = 375
  ShroudClearingRange = 250
  Prerequisites
    Object = Boss_WarFactory
	Object = Boss_TechCentr
	Object = Boss_RussiaSatelliteCenter
  End

  ExperienceValue         = 115 115 200 325  ;Experience point value at each level
  ExperienceRequired      = 0 200 325 600   ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet      = Boss_RussiaVehicleECMCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = DisturberVoiceSelect
  VoiceMove = DisturberVoiceMove
  VoiceGuard = DisturberVoiceGuard
  VoiceAttack = DisturberVoiceAttack
  SoundMoveStart  = ScudLauncherMoveStart
  SoundMoveStartDamaged = ScudLauncherMoveStart

  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate     = DisturberVoiceCreate
    TurretMoveStart = NoSound
    TurretMoveLoop  = TurretMoveLoopLoud
    Deploy              = NukeCannonDeploy
    Undeploy            = NukeCannonUnDeploy
    VoiceEnter      = DisturberVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority     = UNIT
  KindOf            = PRELOAD CAN_ATTACK SELECTABLE VEHICLE HUGE_VEHICLE SCORE FS_SUPERWEAPON SALVAGER
  
  Body              = ActiveBody ModuleTag_02
    MaxHealth       = 400.0
    InitialHealth   = 400.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 600
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End
  Behavior = DeployStyleAIUpdate ModuleTag_03
    Turret
      TurretTurnRate        = 200
      TurretPitchRate       = 0
      FirePitch             = 90            ; Instead of aiming pitchwise at the target, it will aim here
      AllowsPitch           = No
      RecenterTime          = 1000         ; how long to wait during idle before recentering
      MinIdleScanInterval   = 2500    ; in milliseconds
      MaxIdleScanInterval   = 7500    ; in milliseconds
      MinIdleScanAngle      = 0       ; in degrees off the natural turret angle
      MaxIdleScanAngle      = 90     ; in degrees off the natural turret angle
      ControlledWeaponSlots = PRIMARY SECONDARY TERTIARY
      NaturalTurretAngle    = 0
      InitiallyDisabled     = Yes
    End
    AutoAcquireEnemiesWhenIdle = Yes
    PackTime = 1666
    UnpackTime = 1666
    TurretsFunctionOnlyWhenDeployed = Yes
    TurretsMustCenterBeforePacking = Yes
    ManualDeployAnimations = Yes
    AutoAcquireEnemiesWhenIdle = Yes
    MoodAttackCheckRate        = 1
  End

  Locomotor = SET_NORMAL SmerchLocomotor
  ;Locomotor = SET_NORMAL_UPGRADED SmerchLocomotorL2
  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 40.0
  End

;Upgrades----------------------------------------------------------
  ; Behavior = LocomotorSetUpgrade Upgrade_01
    ; TriggeredBy = Upgrade_BallisticCommandset
  ; End
  ; Behavior                = ArmorUpgrade Upgrade_02
    ; TriggeredBy           = Upgrade_BallisticCommandset
  ; End
  ; Behavior = MaxHealthUpgrade Upgrade_Armor
    ; TriggeredBy   = Upgrade_Reflection
    ; AddMaxHealth  = 100.0
    ; ChangeType    = ADD_CURRENT_HEALTH_TOO
  ; End
;Deaths-------------------------------------------------------------
  ; Catch fire, and explode death
  Behavior = SlowDeathBehavior DeathTag_01
    ;DeathTypes = ALL -CRUSHED -SPLATTED -POISONED -POISONED_BETA -EXTRA_8
	DeathTypes = ALL -CRUSHED -SPLATTED -POISONED -POISONED_BETA
    FX = INITIAL FX_BigTruckDeathFX
    FX = FINAL FX_BuggyNewDeathExplosion
    OCL = FINAL    OCL_RUECMDebris
  End
  ; A crushing defeat
  Behavior = DestroyDie DeathTag_02
    DeathTypes = NONE +CRUSHED +SPLATTED
  End
  Behavior = FXListDie DeathTag_03
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  Behavior = CreateObjectDie DeathTag_04
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_RUECMDebris
  End
  ;Radiation
  ; Behavior = SlowDeathBehavior DeathTag_05
    ; DeathTypes = NONE +EXTRA_8
    ; FX  = INITIAL FX_VehicleRadiationDeath
    ; SinkRate = 2.5
    ; SinkDelay = 6000
    ; DestructionDelay = 14000
  ; End
;Poison
  Behavior = SlowDeathBehavior DeathTag_06
    DeathTypes = NONE +POISONED
    FX  = INITIAL FX_VehiclePoisonDeath
    SinkRate = 2.5
    SinkDelay = 6000
    DestructionDelay = 14000
  End
;PoisonBeta
    Behavior = SlowDeathBehavior DeathTag_07
    DeathTypes = NONE +POISONED_BETA
    FX  = INITIAL FX_VehiclePoisonBetaDeath
    SinkRate = 2.5
    SinkDelay = 6000
    DestructionDelay = 14000
  End
;Stealth-------------------------------------------------------------
;---------------------------------------------------------------------

  Behavior = TransitionDamageFX ModuleTag_05
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_ScudLauncherDamageTransition
  End

  ; Behavior = CreateCrateDie ModuleTag_06
    ; CrateData = SalvageCrateData
    ; ;CrateData = EliteTankCrateData
    ; ;CrateData = HeroicTankCrateData
  ; End

  Behavior = FlammableUpdate ModuleTag_07
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End
  
  Behavior = SpecialAbility ModuleTag_08
    SpecialPowerTemplate      = SpecialAbilityBlackLotusDisableVehicleHack
    UpdateModuleStartsAttack  = Yes
    InitiateSound           = DisturberVoiceAttack
  End
  Behavior = SpecialAbilityUpdate ModuleTag_09
    SpecialPowerTemplate    = SpecialAbilityBlackLotusDisableVehicleHack
    StartAbilityRange       = 7500.0
    UnpackTime              = 2000 ;6730 ;animation time is 6730 (changing this will scale anim speed)
    PackTime                = 1000 ;2800 ;animation time is 5800 (changing this will scale anim speed)
    PreparationTime         = 2000 ;time to complete hack once prepared (unpacked)
    EffectDuration          = 90000 ;duration vehicle is disabled  (30 seconds)
    DisableFXParticleSystem = DisabledEffectBinaryShower0
    SpecialObject           = BinaryDataStream
    PackSound               = BlackLotusPack
    UnpackSound             = BlackLotusUnpack
    TriggerSound            = BlackLotusTrigger
    PrepSoundLoop           = BlackLotusPrepLoop
    AwardXPForTriggering    = 0
    ;SkillPointsForTriggering = ???  -- Dustin, fill me out if you want different balance values.
  End
  
    Behavior = SpecialAbility ModuleTag_10
    SpecialPowerTemplate      = SpecialAbilityMicrowaveDisableBuilding
    UpdateModuleStartsAttack  = Yes
    InitiateSound           = DisturberVoiceAttack
  End
  Behavior = SpecialAbilityUpdate ModuleTag_11
    SpecialPowerTemplate    = SpecialAbilityMicrowaveDisableBuilding
    StartAbilityRange       = 10000.0
    UnpackTime              = 5000
    PackTime                = 5000
    PreparationTime         = 5000
    EffectDuration          = 60000
    DisableFXParticleSystem = DisabledEffectBinaryShower0
    SpecialObject           = BinaryDataStream
    PackSound               = BlackLotusPack
    UnpackSound             = BlackLotusUnpack
    TriggerSound            = BlackLotusTrigger
    PrepSoundLoop           = BlackLotusPrepLoop
    AwardXPForTriggering    = 0
  End

  Behavior = StealthUpdate ModuleStealth_GPSScramblerGenericStealthModule
    StealthDelay                = 2000 ; msec
    InnateStealth               = Yes
    StealthForbiddenConditions  = ATTACKING USING_ABILITY
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
    RequiredStatus = REASSIGN_PARKING
  End

  Geometry            = BOX
  GeometryMajorRadius = 20.0
  GeometryMinorRadius = 8.0
  GeometryHeight      = 12.0     
  GeometryIsSmall     = Yes
  Shadow              = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length    
  Scale = 1.0
End

;---------------------------------------------------------------------------------
Object Boss_RussiaVehicleEagleEye

  ; *** ART Parameters ***
  SelectPortrait         = SURadarVan
  ButtonImage            = SURadarVan
  
  ;UpgradeCameo1 = Upgrade_Reflection
  
  Draw = W3DTruckDraw ModuleTag_01
    OkToChangeModelColor = Yes
    
    ConditionState = NONE
      Model = RUAIRadar
    End

    ConditionState       = REALLYDAMAGED  
      Model              = RUAIRadar_D
    End

    ConditionState       = RUBBLE   
      Model              = RU30N6E01_E
      HideSubObject      = TURRET01      ;Hide the dish, since an ocl makes an airborne one is slow death behavior
    End

    TrackMarks = EXTireTrack.tga

    Dust = RocketBuggyDust
    DirtSpray = RocketBuggyDirtSpray
    ; These parameters are only used if the model has a separate suspension,
    ; and the locomotor has HasSuspension = Yes.
    LeftFrontTireBone = Tire01
    RightFrontTireBone = Tire05
    MidLeftFrontTireBone = Tire02
    MidRightFrontTireBone = Tire06
    LeftRearTireBone = Tire03
    RightRearTireBone = Tire04
    TireRotationMultiplier      = 0.2   ; this * speed = rotation.
    PowerslideRotationAddition  = 0   ; This vehicle doesn't powerslide.
  End

  Draw = W3DModelDraw ModuleTag_02
    OkToChangeModelColor = Yes
    
    ConditionState = NONE
      Model = RUAIRadar_A
      Animation = RUAIRadar_A.RUAIRadar_A
      AnimationMode     = LOOP
      TransitionKey = Trans_Moving
    End
    ConditionState = REALLYDAMAGED
      Model = RUAIRadar_AD
      Animation = RUAIRadar_AD.RUAIRadar_AD
      AnimationMode     = LOOP
      TransitionKey = Trans_Moving_ReallyDamaged
    End

    ConditionState = MOVING
      Model = RUAIRadar_B
      ;Animation = RUAIRadar_B.RUAIRadar_B
      ;AnimationMode     = ONCE
      TransitionKey = Trans_Deployed
    End
    ConditionState = REALLYDAMAGED MOVING
      Model = RUAIRadar_BD
      ;Animation = RUAIRadar_BD.RUAIRadar_BD
      ;AnimationMode     = ONCE
      TransitionKey = Trans_Deployed_ReallyDamaged
    End
    
    ConditionState = RUBBLE
      Model = NONE
    End
    AliasConditionState = RUBBLE MOVING

    ;**** PACKING AND UNPACKING MODES ***
    TransitionState     = Trans_Moving Trans_Deployed
      Model = RUAIRadar_C
      Animation = RUAIRadar_C.RUAIRadar_C
      AnimationMode     = ONCE_BACKWARDS
    End
    TransitionState     = Trans_Moving_ReallyDamaged Trans_Deployed_ReallyDamaged
      Model = RUAIRadar_CD
      Animation = RUAIRadar_CD.RUAIRadar_CD
      AnimationMode     = ONCE_BACKWARDS
    End

    TransitionState     = Trans_Deployed Trans_Moving 
      Model = RUAIRadar_C
      Animation = RUAIRadar_C.RUAIRadar_C
      AnimationMode     = ONCE
    End
    TransitionState     = Trans_Deployed_ReallyDamaged Trans_Moving_ReallyDamaged 
      Model = RUAIRadar_CD
      Animation = RUAIRadar_CD.RUAIRadar_CD
      AnimationMode     = ONCE
    End
  End

  ; ***DESIGN parameters ***
  DisplayName               = OBJECT:RadarStation
  Side                      = Boss
  EditorSorting             = VEHICLE
  TransportSlotCount        = 8            ;how many "slots" we take in a transport (0 == not transportable)
  
  WeaponSet
    Conditions = None
    Weapon            = PRIMARY S300GrumbleDummyWeapon
    AutoChooseSources = PRIMARY NONE
  End
  
  ArmorSet
    Conditions      = None
    Armor           = MobileRadarArmor
    DamageFX        = TruckDamageFX
  End

  BuildCost          = 40000
  BuildTime          = 10.0          ;in seconds    
  VisionRange        = 3000
  ShroudClearingRange = 3000
  Prerequisites
    Object = Boss_WarFactory
	Object = Boss_TechCentr
	Object = Boss_RussiaSatelliteCenter
  End

  ExperienceValue         = 115 115 200 325  ;Experience point value at each level
  IsTrainable = No             ;Can gain experience
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet      = 96L6RadarCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = 30N6EVoiceSelect
  VoiceMove = 30N6EVoiceMove
  VoiceGuard = 30N6EVoiceGuard
  VoiceAttack = 30N6EVoiceAttack
  SoundMoveStart  = ScudLauncherMoveStart
  SoundMoveStartDamaged = ScudLauncherMoveStart

  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate     = 30N6EVoiceCreate
    TurretMoveStart = NoSound
    TurretMoveLoop  = TurretMoveLoopLoud
    Deploy              = NukeCannonDeploy
    Undeploy            = NukeCannonUnDeploy
    VoiceEnter      = 30N6EVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD IGNORES_SELECT_ALL CAN_ATTACK SELECTABLE DONT_AUTO_CRUSH_INFANTRY CAN_CAST_REFLECTIONS VEHICLE HUGE_VEHICLE FS_TECHNOLOGY SCORE
  
  Body = ActiveBody ModuleTag_03
    MaxHealth       = 400
    InitialHealth   = 400.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 480
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

   Behavior = DeployStyleAIUpdate ModuleTag_04
    PackTime = 3333
    UnpackTime = 3333
    TurretsFunctionOnlyWhenDeployed = Yes
    TurretsMustCenterBeforePacking = Yes
    ManualDeployAnimations = Yes
    AutoAcquireEnemiesWhenIdle = No
  End

  Behavior = ProductionUpdate ModuleTag_05
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End

  Locomotor = SET_NORMAL SmerchLocomotor
  ;Locomotor = SET_NORMAL_UPGRADED SmerchLocomotorL2
  Behavior = PhysicsBehavior ModuleTag_06
    Mass = 40.0
  End

;Upgrades----------------------------------------------------------
  ; Behavior = LocomotorSetUpgrade Upgrade_01
    ; TriggeredBy = Upgrade_BallisticCommandset
  ; End
  ; Behavior                = ArmorUpgrade Upgrade_02
    ; TriggeredBy           = Upgrade_BallisticCommandset
  ; End
; Behavior = MaxHealthUpgrade Upgrade_Armor
    ; TriggeredBy   = Upgrade_Reflection
    ; AddMaxHealth  = 100.0
    ; ChangeType    = ADD_CURRENT_HEALTH_TOO
  ; End
;Deaths-------------------------------------------------------------
; Catch fire, and explode death
  Behavior = SlowDeathBehavior DeathTag_01
    ;DeathTypes = ALL -CRUSHED -SPLATTED -POISONED -POISONED_BETA -EXTRA_8
	DeathTypes = ALL -CRUSHED -SPLATTED -POISONED -POISONED_BETA
    ProbabilityModifier = 50
    DestructionDelay = 2000
    DestructionDelayVariance = 300
    FX  = INITIAL  FX_CrusaderCatchFire
    OCL = FINAL    OCL_30N6Debris
    FX  = FINAL    FX_ScudLauncherExplosionOneFinal
  End
    ; A crushing defeat
  Behavior = DestroyDie DeathTag_02
    DeathTypes = NONE +CRUSHED +SPLATTED
  End
  Behavior = FXListDie DeathTag_03
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  Behavior = CreateObjectDie DeathTag_04
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_30N6Debris
  End
  ;Radiation
  ; Behavior = SlowDeathBehavior DeathTag_05
    ; DeathTypes = NONE +EXTRA_8
    ; FX  = INITIAL FX_VehicleRadiationDeath
    ; SinkRate = 2.5
    ; SinkDelay = 6000
    ; DestructionDelay = 14000
  ; End
;Poison
  Behavior = SlowDeathBehavior DeathTag_06
    DeathTypes = NONE +POISONED
    FX  = INITIAL FX_VehiclePoisonDeath
    SinkRate = 2.5
    SinkDelay = 6000
    DestructionDelay = 14000
  End
;PoisonBeta
    Behavior = SlowDeathBehavior DeathTag_07
    DeathTypes = NONE +POISONED_BETA
    FX  = INITIAL FX_VehiclePoisonBetaDeath
    SinkRate = 2.5
    SinkDelay = 6000
    DestructionDelay = 14000
  End
;Stealth-------------------------------------------------------------
;---------------------------------------------------------------------
    
  ; Behavior = CreateCrateDie ModuleTag_07
    ; CrateData = SalvageCrateData
    ; ;CrateData = EliteTankCrateData
    ; ;CrateData = HeroicTankCrateData
  ; End

  Behavior = FlammableUpdate ModuleTag_08
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End
  Behavior = StealthDetectorUpdate ModuleTag_09
    DetectionRate   = 2000   ; how often to rescan for stealthed things in my sight (msec)
    DetectionRange = 1500 ;Dustin, enable this for independant balancing!
    ExtraRequiredKindOf      = AIRCRAFT
    CanDetectWhileGarrisoned  = No ;Garrisoned means being in a structure that you units can shoot out of.
    CanDetectWhileContained   = No ;Contained means being in a transport or tunnel network.
  End
  Behavior = StealthDetectorUpdate ModuleTag_09a
    DetectionRate   = 2000   ; how often to rescan for stealthed things in my sight (msec)
    DetectionRange = 1500 ;Dustin, enable this for independant balancing!
    ExtraRequiredKindOf      = DRONE
    CanDetectWhileGarrisoned  = No ;Garrisoned means being in a structure that you units can shoot out of.
    CanDetectWhileContained   = No ;Contained means being in a transport or tunnel network.
  End
  ; Behavior = StealthDetectorUpdate ModuleTag_10
    ; DetectionRate   = 1000   ; how often to rescan for stealthed things in my sight (msec)
    ; DetectionRange = 385 ;Dustin, enable this for independant balancing!
    ; ;ExtraForbiddenKindOf     = AIRCRAFT 
    ; CanDetectWhileGarrisoned  = No ;Garrisoned means being in a structure that you units can shoot out of.
    ; CanDetectWhileContained   = No ;Contained means being in a transport or tunnel network.
  ; End

  ; Behavior = FireWeaponWhenDamagedBehavior ModuleTag_11
    ; StartsActive = Yes
    ; ReactionWeaponPristine = DroneRevealWeapon
    ; ReactionWeaponDamaged = DroneRevealWeapon
    ; ReactionWeaponReallyDamaged = DroneRevealWeapon
    ; ReactionWeaponRubble = DroneRevealWeapon
    ; DamageTypes = NONE +MELEE
  ; End

  Behavior = StealthUpdate ModuleStealth_GPSScramblerGenericStealthModule
    StealthDelay                = 2000 ; msec
    InnateStealth               = Yes
    StealthForbiddenConditions  = ATTACKING USING_ABILITY
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
    RequiredStatus = REASSIGN_PARKING
  End

  Geometry            = BOX
  GeometryMajorRadius = 28.0
  GeometryMinorRadius = 9.0
  GeometryHeight      = 19.0     
  GeometryIsSmall     = Yes
  Shadow              = SHADOW_VOLUME 
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length 
  Scale = 1.0
End

;-------------------------------------------------------------------------------------
Object Boss_RussiaVehicleSmerch

  ; *** ART Parameters ***
  SelectPortrait         = typhoon
  ButtonImage            = typhoon_s
  
  ; UpgradeCameo1 = Upgrade_Range
  ; UpgradeCameo2 = Upgrade_Reflection

  Draw = W3DTruckDraw ModuleTag_01
    OkToChangeModelColor = Yes

    DefaultConditionState
      Model                           = RUSmerch
      Animation                       = RUSmerch.RUSmerch
      AnimationMode                   = ONCE_BACKWARDS
      Turret                          = TURRET01
      TurretPitch         = TurretEL
      Flags                           = START_FRAME_FIRST
      WeaponLaunchBone                = PRIMARY WEAPONA
      WeaponLaunchBone                = SECONDARY WEAPONA
      WeaponLaunchBone                = TERTIARY WEAPONA
      WeaponFireFXBone                = PRIMARY WEAPONA
      WeaponFireFXBone                = SECONDARY WEAPONA
      WeaponFireFXBone                = TERTIARY WEAPONA
      WeaponMuzzleFlash   = PRIMARY FIREFX
      WeaponMuzzleFlash   = TERTIARY FIREFXB
    End
      
    ConditionState                    = RUBBLE
      Model           = RUSmerch_D 
      Animation       = RUSmerch_D.RUSmerch_D
      AnimationMode                   = ONCE_BACKWARDS
      Turret                          = TURRET01
      TurretPitch         = TurretEL
      Flags                           = START_FRAME_FIRST
      WeaponLaunchBone                = PRIMARY WEAPONA
      WeaponLaunchBone                = SECONDARY WEAPONA
      WeaponLaunchBone                = TERTIARY WEAPONA
      WeaponFireFXBone                = PRIMARY WEAPONA
      WeaponFireFXBone                = SECONDARY WEAPONA
      WeaponFireFXBone                = TERTIARY WEAPONA
      WeaponMuzzleFlash   = PRIMARY FIREFX
      WeaponMuzzleFlash   = TERTIARY FIREFXB
    End

    ;*** PACKED STATE -- ready to move ***
    ConditionState    = MOVING
      Animation       = RUSmerch.RUSmerch
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_FIRST
    End
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_A
    AliasConditionState = BETWEEN_FIRING_SHOTS_A

    ConditionState    = REALLYDAMAGED MOVING
      Model           = RUSmerch_D 
      Animation       = RUSmerch_D.RUSmerch_D
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_FIRST
    End
    AliasConditionState = REALLYDAMAGED MOVING BETWEEN_FIRING_SHOTS_A
     
    ;*** UNPACKING STATE  -- preparing to fire ***
    ConditionState    = UNPACKING
      Animation       = RUSmerch.RUSmerch
      AnimationMode   = ONCE
    End
    AliasConditionState = UNPACKING BETWEEN_FIRING_SHOTS_A

    ConditionState    = REALLYDAMAGED UNPACKING
      Model           = RUSmerch_D 
      Animation       = RUSmerch_D.RUSmerch_D
      AnimationMode   = ONCE
    End
    AliasConditionState = REALLYDAMAGED UNPACKING BETWEEN_FIRING_SHOTS_A

    ;*** PACKING STATE -- preparing to move ***
    ConditionState    = PACKING
      Animation       = RUSmerch.RUSmerch
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End
    AliasConditionState = PACKING BETWEEN_FIRING_SHOTS_A

    ConditionState    = REALLYDAMAGED PACKING
      Model           = RUSmerch_D 
      Animation       = RUSmerch_D.RUSmerch_D
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End
    AliasConditionState = REALLYDAMAGED PACKING BETWEEN_FIRING_SHOTS_A


    ;*** DEPLOYED STATE -- ready to fire ***
    ConditionState  = DEPLOYED
      Model           = RUSmerch 
      Animation       = RUSmerch.RUSmerch
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
    End
    AliasConditionState = DEPLOYED MOVING
    AliasConditionState = DEPLOYED BETWEEN_FIRING_SHOTS_A
    AliasConditionState = DEPLOYED FIRING_A
    AliasConditionState = DEPLOYED RELOADING_A

    ConditionState  = DEPLOYED REALLYDAMAGED
      Model           = RUSmerch_D 
      Animation       = RUSmerch_D.RUSmerch_D
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
    End
    AliasConditionState = DEPLOYED REALLYDAMAGED MOVING
    AliasConditionState = DEPLOYED REALLYDAMAGED BETWEEN_FIRING_SHOTS_A
    AliasConditionState = DEPLOYED REALLYDAMAGED FIRING_A
    AliasConditionState = DEPLOYED REALLYDAMAGED RELOADING_A
  

    TrackMarks = EXTireTrack.tga

    Dust = ScudLauncherDust
    DirtSpray = RocketBuggyDirtSpray
    PowerslideSpray = RocketBuggyDirtPowerSlide
    ; These parameters are only used if the model has a separate suspension,
    ; and the locomotor has HasSuspension = Yes.
    LeftFrontTireBone = Tire01
    RightFrontTireBone = Tire05
    LeftRearTireBone = Tire04
    RightRearTireBone = Tire08
    MidLeftFrontTireBone = Tire02
    MidRightFrontTireBone = Tire06
    MidLeftRearTireBone = Tire03
    MidRightRearTireBone = Tire07
    TireRotationMultiplier = 0.2   ; this * speed = rotation.
    ;PowerslideRotationAddition = 0.0   ; This speed is added to the rotation speed when powersliding.
  End

; ***DESIGN parameters ***
  DisplayName      = OBJECT:Smerch
  Side = Boss
  EditorSorting   = VEHICLE
  TransportSlotCount = 8                 ;how many "slots" we take in a transport (0 == not transportable)
  
  WeaponSet
    Conditions = None
    Weapon = PRIMARY SmerchLauncherExplosive
  End
  
  ; WeaponSet
    ; Conditions = None
    ; Weapon = PRIMARY SmerchMLRS
    ; Weapon = TERTIARY SmerchMLRSRapid
    ; AutoChooseSources = TERTIARY NONE
  ; End

  ; WeaponSet
    ; Conditions = PLAYER_UPGRADE
    ; Weapon = PRIMARY SmerchMLRS2
    ; Weapon = TERTIARY SmerchMLRSRapid2
    ; AutoChooseSources = TERTIARY NONE
  ; End

  ArmorSet
    Conditions      = None
    Armor           = ArtilleryVehicleArmor
    DamageFX        = TankDamageFX
  End

  BuildCost       = 12000
  BuildTime       = 26.0          ;in seconds    
  VisionRange     = 180
  ShroudClearingRange = 500
  Prerequisites
    Object = Boss_WarFactory
	Object = Boss_TechCentr
  End

  ExperienceValue         = 100 100 175 300  ;Experience point value at each level
  ExperienceRequired      = 0 350 600 1100   ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet      = ChinaVehicleTyphoonLauncherCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect     = SmerchVoiceSelect
  VoiceMove       = SmerchVoiceMove
  VoiceGuard      = SmerchVoiceGuard
  VoiceAttack     = SmerchVoiceAttack
  SoundMoveStart  = ScudLauncherMoveStart
  SoundMoveStartDamaged = ScudLauncherMoveStart

  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate     = SmerchVoiceCreate
    TurretMoveStart = NoSound
    TurretMoveLoop  = TurretMoveLoopLoud
    Deploy              = 2secDeploySound
    Undeploy            = 2secDeploySound
    VoiceEnter      = SmerchVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority     = UNIT
  KindOf            = SALVAGER PRELOAD CAN_ATTACK CANNOT_RETALIATE SELECTABLE VEHICLE HUGE_VEHICLE SCORE FS_SUPERWEAPON
  
  Body              = ActiveBody ModuleTag_02
    MaxHealth       = 350.0
    InitialHealth   = 350.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 600
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End
  Behavior = DeployStyleAIUpdate ModuleTag_03
    AutoAcquireEnemiesWhenIdle = No NOTWHILEATTACKING
    PackTime = 333
    UnpackTime = 333
    TurretsFunctionOnlyWhenDeployed = Yes
    TurretsMustCenterBeforePacking = Yes
    ManualDeployAnimations = Yes
    Turret
      ;RecenterTime = 3333
      TurretTurnRate        = 120
      TurretPitchRate       = 60
      AllowsPitch = Yes
      FirePitch = 45
      ControlledWeaponSlots = PRIMARY ;TERTIARY
    End
  End

  Locomotor = SET_NORMAL SmerchLocomotor
  ;Locomotor = SET_NORMAL_UPGRADED SmerchLocomotorL2
  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 40.0
  End

;Upgrades----------------------------------------------------------
  ; Behavior = LocomotorSetUpgrade Upgrade_01
    ; TriggeredBy = Upgrade_BallisticCommandset
  ; End

  ; Behavior = MaxHealthUpgrade Upgrade_Armor
    ; TriggeredBy   = Upgrade_Reflection
    ; AddMaxHealth  = 137.5
    ; ChangeType    = ADD_CURRENT_HEALTH_TOO
  ; End
  ; Behavior = WeaponBonusUpgrade Upgrade_03
    ; TriggeredBy = Upgrade_Range
  ; End 

  ; Behavior = WeaponSetUpgrade Upgrade_04
    ; TriggeredBy = Upgrade_Range
  ; End
;Deaths-------------------------------------------------------------
;--!!!
  ; Catch fire, and explode death
  Behavior = SlowDeathBehavior DeathTag_01
    ;DeathTypes = ALL -CRUSHED -SPLATTED -POISONED -POISONED_BETA -EXTRA_8
	DeathTypes = ALL -CRUSHED -SPLATTED -POISONED -POISONED_BETA
    FX  = INITIAL  FX_BuggyNewDeathExplosion
    FX  =  FINAL FX_BigTruckDeathFX
    OCL = FINAL  OCL_SmerchDebris 
  End
  Behavior = SlowDeathBehavior DeathTag_02
    ;DeathTypes = ALL -CRUSHED -SPLATTED -POISONED -POISONED_BETA -EXTRA_8
	DeathTypes = ALL -CRUSHED -SPLATTED -POISONED -POISONED_BETA
    FX  = INITIAL  FX_BigMissileCarrierDeath
    OCL = MIDPOINT OCL_SCUDDebrisFlyoff
    OCL = FINAL  OCL_SmerchDebris
  End
  ; Behavior = SlowDeathBehavior DeathTag_03
    ; ;DeathTypes = ALL -CRUSHED -SPLATTED -POISONED -POISONED_BETA -EXTRA_8
	; DeathTypes = ALL -CRUSHED -SPLATTED -POISONED -POISONED_BETA
    ; RequiredStatus = DEPLOYED
    ; FX  = INITIAL  FX_BuggyNewDeathExplosion
    ; ;OCL = MIDPOINT OCL_SmerchRandomRockets
    ; FX  =  FINAL FX_BigTruckDeathFX
    ; OCL = FINAL  OCL_SmerchDebris 
  ; End
  ; Behavior = SlowDeathBehavior DeathTag_04
    ; ;DeathTypes = ALL -CRUSHED -SPLATTED -POISONED -POISONED_BETA -EXTRA_8
	; DeathTypes = ALL -CRUSHED -SPLATTED -POISONED -POISONED_BETA
    ; RequiredStatus = DEPLOYED
    ; FX  = INITIAL  FX_BigMissileCarrierDeath
    ; OCL = INITIAL OCL_SCUDDebrisFlyoff
    ; ;OCL = MIDPOINT OCL_SmerchRandomRockets
    ; OCL = FINAL  OCL_SmerchDebris
  ; End
;--!!!
  ; A crushing defeat
  Behavior = DestroyDie DeathTag_05
    DeathTypes = NONE +CRUSHED +SPLATTED
  End
  Behavior = FXListDie DeathTag_06
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  Behavior = CreateObjectDie DeathTag_07
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_SmerchDebris
  End
  ;Radiation
  ; Behavior = SlowDeathBehavior DeathTag_08
    ; DeathTypes = NONE +EXTRA_8
    ; FX  = INITIAL FX_VehicleRadiationDeath
    ; SinkRate = 2.5
    ; SinkDelay = 6000
    ; DestructionDelay = 14000
  ; End
;Poison
  Behavior = SlowDeathBehavior DeathTag_09
    DeathTypes = NONE +POISONED
    FX  = INITIAL FX_VehiclePoisonDeath
    SinkRate = 2.5
    SinkDelay = 6000
    DestructionDelay = 14000
  End
;PoisonBeta
    Behavior = SlowDeathBehavior DeathTag_10
    DeathTypes = NONE +POISONED_BETA
    FX  = INITIAL FX_VehiclePoisonBetaDeath
    SinkRate = 2.5
    SinkDelay = 6000
    DestructionDelay = 14000
  End
;Stealth-------------------------------------------------------------
;---------------------------------------------------------------------

  Behavior = FlammableUpdate ModuleTag_05
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  ; Behavior = VeterancyGainCreate ModuleTag_06
    ; StartingLevel = VETERAN
    ; ScienceRequired = SCIENCE_ArtilleryVeteran
   ; End

  ; Behavior = CreateCrateDie ModuleTag_DeathTag_07
    ; CrateData = SalvageCrateData2
    ; ;CrateData = EliteTankCrateData
    ; ;CrateData = HeroicTankCrateData
  ; End

  Behavior = StealthUpdate ModuleStealth_GPSScramblerGenericStealthModule
    StealthDelay                = 2000 ; msec
    InnateStealth               = Yes
    StealthForbiddenConditions  = ATTACKING USING_ABILITY
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
    RequiredStatus = REASSIGN_PARKING
  End

  Geometry            = BOX
  GeometryMajorRadius = 21.0
  GeometryMinorRadius = 8.0
  GeometryHeight      = 12.0     
  GeometryIsSmall     = Yes
  Shadow              = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length    
  Scale = 1.1
End

;----------------------------------------------------------------
Object Boss_RussiaVehicleBMPT

  ; *** ART Parameters ***
  SelectPortrait         = BombCrub_L
  ButtonImage            = BombCrub
  
  UpgradeCameo1 = Upgrade_AmericaAdvancedTraining
  ;UpgradeCameo2 = Upgrade_GLAScorpionRocket
  UpgradeCameo2 = Upgrade_GLAJunkRepair
  UpgradeCameo3 = Upgrade_GLAAPBullets
  
  ;UpgradeCameo1 = Upgrade_BTR90MP
  ;UpgradeCameo1 = Upgrade_AdvancedWarhead
  ;UpgradeCameo2 = Upgrade_Active

  Draw = W3DTankDraw ModuleTag_01
    OkToChangeModelColor = Yes

    ConditionState      = NONE
      Model                     = RU-BMPT
      Turret                     = TURRET01
      HideSubObject       = NERA
      WeaponLaunchBone  = PRIMARY WEAPONA
      WeaponFireFXBone  = PRIMARY WEAPONA
      WeaponMuzzleFlash = PRIMARY WEAPONA
      WeaponRecoilBone  = PRIMARY BARREL
      WeaponLaunchBone  = SECONDARY WEAPONB 
      WeaponFireFXBone  = SECONDARY WEAPONB
      WeaponLaunchBone  = TERTIARY WEAPONC
      WeaponFireFXBone  = TERTIARY WEAPONC
    End

    ConditionState = REALLYDAMAGED
      Model = RU-BMPT_D
      Turret = TURRET01
      HideSubObject       = NERA
      WeaponLaunchBone  = PRIMARY WEAPONA
      WeaponFireFXBone  = PRIMARY WEAPONA
      WeaponMuzzleFlash = PRIMARY WEAPONA
      WeaponRecoilBone  = PRIMARY BARREL
      WeaponLaunchBone  = SECONDARY WEAPONB 
      WeaponFireFXBone  = SECONDARY WEAPONB
      WeaponLaunchBone  = TERTIARY WEAPONC
      WeaponFireFXBone  = TERTIARY WEAPONC
    End

    ConditionState = RUBBLE
      Model = RU-BMPT_D
      Turret = TURRET01
      HideSubObject       = NERA
      WeaponLaunchBone  = PRIMARY WEAPONA
      WeaponFireFXBone  = PRIMARY WEAPONA
      WeaponMuzzleFlash = PRIMARY WEAPONA
      WeaponRecoilBone  = PRIMARY BARREL
      WeaponLaunchBone  = SECONDARY WEAPONB 
      WeaponFireFXBone  = SECONDARY WEAPONB
      WeaponLaunchBone  = TERTIARY WEAPONC
      WeaponFireFXBone  = TERTIARY WEAPONC
    End


    ConditionState      = USER_1
      Model                     = RU-BMPT
      Turret                     = TURRET01
      ShowSubObject       = NERA
      WeaponLaunchBone  = PRIMARY WEAPONA
      WeaponFireFXBone  = PRIMARY WEAPONA
      WeaponMuzzleFlash = PRIMARY WEAPONA
      WeaponRecoilBone  = PRIMARY BARREL
      WeaponLaunchBone  = SECONDARY WEAPONB 
      WeaponFireFXBone  = SECONDARY WEAPONB
      WeaponLaunchBone  = TERTIARY WEAPONC
      WeaponFireFXBone  = TERTIARY WEAPONC
    End

    ConditionState = USER_1 REALLYDAMAGED
      Model = RU-BMPT_D
      Turret = TURRET01
      ShowSubObject       = NERA
      WeaponLaunchBone  = PRIMARY WEAPONA
      WeaponFireFXBone  = PRIMARY WEAPONA
      WeaponMuzzleFlash = PRIMARY WEAPONA
      WeaponRecoilBone  = PRIMARY BARREL
      WeaponLaunchBone  = SECONDARY WEAPONB 
      WeaponFireFXBone  = SECONDARY WEAPONB
      WeaponLaunchBone  = TERTIARY WEAPONC
      WeaponFireFXBone  = TERTIARY WEAPONC
    End

    ConditionState = USER_1 RUBBLE
      Model = RU-BMPT_D
      Turret = TURRET01
      ShowSubObject       = NERA
      WeaponLaunchBone  = PRIMARY WEAPONA
      WeaponFireFXBone  = PRIMARY WEAPONA
      WeaponMuzzleFlash = PRIMARY WEAPONA
      WeaponRecoilBone  = PRIMARY BARREL
      WeaponLaunchBone  = SECONDARY WEAPONB 
      WeaponFireFXBone  = SECONDARY WEAPONB
      WeaponLaunchBone  = TERTIARY WEAPONC
      WeaponFireFXBone  = TERTIARY WEAPONC
    End

    TrackMarks              = EXTnkTrack.tga
    TreadAnimationRate      = 2.0  ; amount of tread texture to move per second
End 

  ; ***DESIGN parameters ***
  DisplayName               = OBJECT:BMPT
  Side                      = Boss
  EditorSorting             = VEHICLE
  TransportSlotCount        = 3            ;how many "slots" we take in a transport (0 == not transportable)

  ; WeaponSet
    ; Conditions              = None 
    ; Weapon                  = PRIMARY   BMPTMachineGun
    ; ;PreferredAgainst    = PRIMARY     INFANTRY
    ; AutoChooseSources   = PRIMARY     FROM_PLAYER FROM_SCRIPT FROM_AI
  ; End

  ; WeaponSet
    ; Conditions = PLAYER_UPGRADE
    ; Weapon                  = PRIMARY   BMPTMachineGun
    ; ;PreferredAgainst    = PRIMARY     INFANTRY
    ; AutoChooseSources   = PRIMARY     FROM_PLAYER FROM_SCRIPT FROM_AI
    ; Weapon                  = SECONDARY BMPTRocketWeapon
    ; ;PreferredAgainst    = SECONDARY VEHICLE STRUCTURE INFANTRY
    ; AutoChooseSources   = SECONDARY FROM_PLAYER FROM_SCRIPT FROM_AI
    ; Weapon                  = TERTIARY BMPTRocketWeapon
    ; ;PreferredAgainst    = TERTIARY   VEHICLE STRUCTURE INFANTRY
    ; AutoChooseSources   = TERTIARY   FROM_PLAYER FROM_SCRIPT FROM_AI
  ; End

  WeaponSet
    Conditions        = None
   ;-------
    Weapon            = PRIMARY ShilkaMachineGunAntiGround
    PreferredAgainst  = PRIMARY INFANTRY VEHICLE
    AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
   ;-------
    Weapon            = SECONDARY ShilkaMachineGunAntiAir
    PreferredAgainst  = SECONDARY VEHICLE AIRCRAFT
    AutoChooseSources = SECONDARY FROM_PLAYER FROM_SCRIPT FROM_AI
    Weapon            = TERTIARY  Boss_BmptMissileWeapon
	PreferredAgainst  = TERTIARY VEHICLE STRUCTURE
    AutoChooseSources = TERTIARY  FROM_PLAYER FROM_SCRIPT FROM_AI
  End

  ArmorSet
    Conditions      = None
    Armor           = BMPTArmor
    DamageFX        = TankDamageFX
  End
  
  BuildCost       = 3000
  BuildTime       = 18.0          ;in seconds    
  VisionRange     = 250
  ShroudClearingRange = 240
  Prerequisites
    Object = Boss_WarFactory
	Object = Boss_TechCentr
  End

  ExperienceValue         = 85 85 150 250  ;Experience point value at each level
  ExperienceRequired      = 0 200 500 800   ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet      = AmericaTankAvengerCommandSet


  ; *** AUDIO Parameters ***
  VoiceSelect     = TerminatorSelect
  VoiceMove       = TerminatorMove
  VoiceGuard      = TerminatorGuard
  VoiceAttack     = TerminatorAttack
  SoundMoveStart  = GattlingTankMoveStart
  SoundMoveStartDamaged = GattlingTankMoveStart

  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate     = TerminatorCreate
    TurretMoveStart = NoSound
    TurretMoveLoop  = TurretMoveLoopLoud
    VoiceCrush      = TerminatorAttack
    VoiceEnter      = TerminatorMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority     = UNIT
  KindOf            = PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS VEHICLE SCORE ATTACK_NEEDS_LINE_OF_SIGHT SALVAGER
  
  Body              = ActiveBody ModuleTag_02
    MaxHealth       = 800.0
    InitialHealth   = 800.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 600
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End
  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      ControlledWeaponSlots = PRIMARY SECONDARY TERTIARY
      TurretTurnRate      = 180   // turn rate, in degrees per sec
      FiresWhileTurning     = Yes
      MinIdleScanInterval   = 2500    ; in milliseconds
      MaxIdleScanInterval   = 7500    ; in milliseconds
      MinIdleScanAngle      = 0       ; in degrees off the natural turret angle
      MaxIdleScanAngle      = 90     ; in degrees off the natural turret angle
    End
    AutoAcquireEnemiesWhenIdle = Yes
    MoodAttackCheckRate        = 500
  End
  Locomotor       = SET_NORMAL T90Locomotor
  Behavior          = PhysicsBehavior ModuleTag_04
    Mass            = 40.0
  End
    
;Upgrades----------------------------------------------------------
  ; Behavior = WeaponSetUpgrade Upgrade_01
    ; TriggeredBy = Upgrade_BTR90MP
  ; End
;Deaths-------------------------------------------------------------
  ; Just explode death
  Behavior = SlowDeathBehavior DeathTag_01
    ;DeathTypes = ALL -CRUSHED -SPLATTED -POISONED -POISONED_BETA -EXTRA_8
	DeathTypes = ALL -CRUSHED -SPLATTED -POISONED -POISONED_BETA
    ProbabilityModifier  = 50
    DestructionDelay  = 500
    DestructionDelayVariance  = 100
    FX  = INITIAL  FX_BuggyNewDeathExplosion
    ;OCL = MIDPOINT OCL_BRDMRandomRockets
    ;FX = MIDPOINT   FX_BTRBurningAmmo
    FX  = FINAL    FX_BigTruckDeathFX
    OCL = FINAL    OCL_BMPTDebris
  End
    Behavior = SlowDeathBehavior DeathTag_02
    ;DeathTypes = ALL -CRUSHED -SPLATTED -POISONED -POISONED_BETA -EXTRA_8
	DeathTypes = ALL -CRUSHED -SPLATTED -POISONED -POISONED_BETA
    ProbabilityModifier  = 50
    DestructionDelay  = 2000
    DestructionDelayVariance  = 300
    FX  = INITIAL  FX_CrusaderCatchFire
    FX = MIDPOINT FX_BigTruckDeathFX
    OCL = FINAL    OCL_BMPTDebris
    FX  = FINAL FX_ArmouredVehicleDeathExplosion
  End
    ; A crushing defeat
  Behavior = DestroyDie DeathTag_03
    DeathTypes = NONE +CRUSHED +SPLATTED
  End
  Behavior = FXListDie DeathTag_04
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  Behavior = CreateObjectDie DeathTag_05
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_T90_CrushEffect
  End
  ;Radiation
  ; Behavior = SlowDeathBehavior DeathTag_06
    ; DeathTypes = NONE +EXTRA_8
    ; FX  = INITIAL FX_VehicleRadiationDeath
    ; SinkRate = 2.5
    ; SinkDelay = 6000
    ; DestructionDelay = 14000
  ; End
;Poison
  Behavior = SlowDeathBehavior DeathTag_07
    DeathTypes = NONE +POISONED
    FX  = INITIAL FX_VehiclePoisonDeath
    SinkRate = 2.5
    SinkDelay = 6000
    DestructionDelay = 14000
  End
;PoisonBeta
    Behavior = SlowDeathBehavior DeathTag_08
    DeathTypes = NONE +POISONED_BETA
    FX  = INITIAL FX_VehiclePoisonBetaDeath
    SinkRate = 2.5
    SinkDelay = 6000
    DestructionDelay = 14000
  End
;Stealth-------------------------------------------------------------
;---------------------------------------------------------------------

  Behavior = TransitionDamageFX ModuleTag_05
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  ; Behavior = CreateCrateDie ModuleTag_06
    ; CrateData = SalvageCrateData
    ; ;CrateData = EliteTankCrateData
    ; ;CrateData = HeroicTankCrateData
  ; End
  ;-------------------------------------------------------------------
  Behavior = ExperienceScalarUpgrade ModuleTag_15
    TriggeredBy = Upgrade_AmericaAdvancedTraining
    AddXPScalar = 1.0 ;Increases experience gained by an additional 100%
  End
;-------------------------------------------------------------------
  Behavior = WeaponSetUpgrade ModuleTag_16
    TriggeredBy = Upgrade_GLAAPBullets
  End
;-------------------------------------------------------------------
  Behavior = AutoHealBehavior ModuleTag_17
    HealingAmount = 2
    HealingDelay = 1000 ; msec
    TriggeredBy = Upgrade_GLAJunkRepair
  End
  
  Behavior = FlammableUpdate ModuleTag_07
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = StealthUpdate ModuleStealth_GPSScramblerGenericStealthModule
    StealthDelay                = 2000 ; msec
    InnateStealth               = Yes
    StealthForbiddenConditions  = ATTACKING USING_ABILITY
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
    RequiredStatus = REASSIGN_PARKING
  End

  Geometry            = BOX
  GeometryMajorRadius = 13.0
  GeometryMinorRadius = 8.0
  GeometryHeight      = 10.0     
  GeometryIsSmall     = Yes
  Shadow              = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length    
  ;Scale = 0.98 ;BMPT
End

;-------------------------------------------------------------------
Object Boss_RussiaVehicleBMP2

  ; *** ART Parameters ***
  SelectPortrait         = SUTechnicalDG
  ButtonImage            = SUTechnicalDG
  
    Draw = W3DTankDraw ModuleTag_01
    OkToChangeModelColor = Yes
    MaxRecoilDistance    = 4
    RecoilSettleSpeed    = 6

    ConditionState = NONE
      Model = RVBMP3
      Turret = TURRET_DUM
      TurretPitch = TURRETEL01
      HideSubObject = LAUNCHER ARMOR01 ARMOR02 TURRETEL02 LIGHT01 LIGHT02 BARRELMG01 MUZZLEMGFX01
      WeaponRecoilBone    = SECONDARY Barrel
      WeaponMuzzleFlash   = SECONDARY MuzzleFX
      WeaponFireFXBone    = SECONDARY Muzzle
      WeaponLaunchBone    = SECONDARY Muzzle
    End

    ConditionState = REALLYDAMAGED
      Model = RVBMP3_D
      Turret = TURRET_DUM
      TurretPitch = TURRETEL01
      HideSubObject = LAUNCHER ARMOR01 ARMOR02 TURRETEL02 LIGHT01 LIGHT02 BARRELMG01 MUZZLEMGFX01
      WeaponRecoilBone    = SECONDARY Barrel
      WeaponMuzzleFlash   = SECONDARY MuzzleFX
      WeaponFireFXBone    = SECONDARY Muzzle
      WeaponLaunchBone    = SECONDARY Muzzle
    End
    AliasConditionState = RUBBLE
    
    ;ERA
    ConditionState = USER_1
      Model = RVBMP3
      Turret = TURRET_DUM
      TurretPitch = TURRETEL01
      ShowSubObject = ARMOR01 ARMOR02
      HideSubObject = LAUNCHER TURRETEL02 LIGHT01 LIGHT02 BARRELMG01 MUZZLEMGFX01
      WeaponRecoilBone    = SECONDARY Barrel
      WeaponMuzzleFlash   = SECONDARY MuzzleFX
      WeaponFireFXBone    = SECONDARY Muzzle
      WeaponLaunchBone    = SECONDARY Muzzle
    End

    ConditionState = USER_1 REALLYDAMAGED
      Model = RVBMP3_D
      Turret = TURRET_DUM
      TurretPitch = TURRETEL01
      ShowSubObject = ARMOR01 ARMOR02
      HideSubObject = LAUNCHER TURRETEL02 LIGHT01 LIGHT02 BARRELMG01 MUZZLEMGFX01
      WeaponRecoilBone    = SECONDARY Barrel
      WeaponMuzzleFlash   = SECONDARY MuzzleFX
      WeaponFireFXBone    = SECONDARY Muzzle
      WeaponLaunchBone    = SECONDARY Muzzle
    End
    AliasConditionState = USER_1 RUBBLE
    
    ;Missile Launchers
    ConditionState = WEAPONSET_PLAYER_UPGRADE
      Model = RVBMP3
      Turret = TURRET_DUM
      TurretPitch = TURRETEL01
      ShowSubObject = LAUNCHER
      HideSubObject = ARMOR01 ARMOR02 TURRETEL02 LIGHT01 LIGHT02 BARRELMG01 MUZZLEMGFX01
      WeaponRecoilBone    = SECONDARY Barrel
      WeaponMuzzleFlash   = SECONDARY MuzzleFX
      WeaponFireFXBone    = SECONDARY Muzzle
      WeaponLaunchBone    = SECONDARY Muzzle
      WeaponFireFXBone    = TERTIARY WeaponA
      WeaponLaunchBone    = TERTIARY WeaponA
    End

    ConditionState = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
      Model = RVBMP3_D
      Turret = TURRET_DUM
      TurretPitch = TURRETEL01
      ShowSubObject = LAUNCHER
      HideSubObject = ARMOR01 ARMOR02 TURRETEL02 LIGHT01 LIGHT02 BARRELMG01 MUZZLEMGFX01
      WeaponRecoilBone    = SECONDARY Barrel
      WeaponMuzzleFlash   = SECONDARY MuzzleFX
      WeaponFireFXBone    = SECONDARY Muzzle
      WeaponLaunchBone    = SECONDARY Muzzle
      WeaponFireFXBone    = TERTIARY WeaponA
      WeaponLaunchBone    = TERTIARY WeaponA
    End
    AliasConditionState = WEAPONSET_PLAYER_UPGRADE RUBBLE
    
    ;Missile Launchers & ERA
    ConditionState = WEAPONSET_PLAYER_UPGRADE USER_1
      Model = RVBMP3
      Turret = TURRET_DUM
      TurretPitch = TURRETEL01
      ShowSubObject = LAUNCHER ARMOR01 ARMOR02
      HideSubObject = TURRETEL02 LIGHT01 LIGHT02 BARRELMG01 MUZZLEMGFX01
      WeaponRecoilBone    = SECONDARY Barrel
      WeaponMuzzleFlash   = SECONDARY MuzzleFX
      WeaponFireFXBone    = SECONDARY Muzzle
      WeaponLaunchBone    = SECONDARY Muzzle
      WeaponFireFXBone    = TERTIARY WeaponA
      WeaponLaunchBone    = TERTIARY WeaponA
    End

    ConditionState = WEAPONSET_PLAYER_UPGRADE USER_1 REALLYDAMAGED
      Model = RVBMP3_D
      Turret = TURRET_DUM
      TurretPitch = TURRETEL01
      ShowSubObject = LAUNCHER ARMOR01 ARMOR02
      HideSubObject = TURRETEL02 LIGHT01 LIGHT02 BARRELMG01 MUZZLEMGFX01
      WeaponRecoilBone    = SECONDARY Barrel
      WeaponMuzzleFlash   = SECONDARY MuzzleFX
      WeaponFireFXBone    = SECONDARY Muzzle
      WeaponLaunchBone    = SECONDARY Muzzle
      WeaponFireFXBone    = TERTIARY WeaponA
      WeaponLaunchBone    = TERTIARY WeaponA
    End
    AliasConditionState = WEAPONSET_PLAYER_UPGRADE USER_1 RUBBLE

    TrackMarks             = EXTnkTrack.tga
    TreadAnimationRate      = 2.0  ;  amount of tread texture to move per second
    TreadDriveSpeedFraction = 0.3  ; fraction of locomotor speed below which treads stop moving.
    TreadPivotSpeedFraction = 0.6  ; fraction of locomotor speed below which we allow pivoting.
  End
  
  Draw = W3DModelDraw ModuleTag_AutoCannonBarrel01
  
    MaxRecoilDistance    = 1
    RecoilSettleSpeed    = 6

    ConditionState = NONE
      Model = RVBMP3
      Turret = TURRET_DUM
      TurretPitch = TURRETEL02
      HideSubObject = CHASSIS TURRET LAUNCHER ARMOR02 TURRETEL01 LIGHT01 LIGHT02 BARREL01 HOUSECOLOR03 MUZZLEFX01
      WeaponMuzzleFlash = SECONDARY MuzzleMGFX
    End

    ConditionState        = USING_WEAPON_A
      Model = RVBMP3
      Turret = TURRET_DUM
      TurretPitch = TURRETEL02
      HideSubObject = CHASSIS TURRET LAUNCHER ARMOR02 TURRETEL01 LIGHT01 LIGHT02 BARREL01 HOUSECOLOR03 MUZZLEFX01
      WeaponRecoilBone    = PRIMARY BarrelMG
      WeaponMuzzleFlash   = PRIMARY MuzzleMGFX
      WeaponFireFXBone    = PRIMARY MuzzleMG
      WeaponLaunchBone    = PRIMARY MuzzleMG
    End

    ConditionState = REALLYDAMAGED
      Model = RVBMP3_D
      Turret = TURRET_DUM
      TurretPitch = TURRETEL02
      HideSubObject = CHASSIS TURRET LAUNCHER ARMOR02 TURRETEL01 LIGHT01 LIGHT02 BARREL01 HOUSECOLOR03 MUZZLEFX01
      WeaponMuzzleFlash   = SECONDARY MuzzleMGFX
    End
    AliasConditionState = RUBBLE

    ConditionState = REALLYDAMAGED USING_WEAPON_A
      Model = RVBMP3_D
      Turret = TURRET_DUM
      TurretPitch = TURRETEL02
      HideSubObject = CHASSIS TURRET LAUNCHER ARMOR02 TURRETEL01 LIGHT01 LIGHT02 BARREL01 HOUSECOLOR03 MUZZLEFX01
      WeaponRecoilBone    = PRIMARY BarrelMG
      WeaponMuzzleFlash   = PRIMARY MuzzleMGFX
      WeaponFireFXBone    = PRIMARY MuzzleMG
      WeaponLaunchBone    = PRIMARY MuzzleMG
    End

  End
  
  Draw = W3DModelDraw ModuleTag_HeadLights01
    
    OkToChangeModelColor = Yes
    
    DefaultConditionState
      Model = NONE
    End
    AliasConditionState = REALLYDAMAGED
    AliasConditionState = RUBBLE
    AliasConditionState = NIGHT RUBBLE
    
    ConditionState = NIGHT
      Model = RVBMP3
      Turret = TURRET_DUM
      HideSubObject = CHASSIS TURRET LAUNCHER ARMOR02 TURRETEL01 TURRETEL02 BARREL01 HOUSECOLOR03 MUZZLEFX01 BARRELMG01 MUZZLEMGFX01
    End
    AliasConditionState = NIGHT REALLYDAMAGED
    
  End
  
  Draw = W3DModelDraw ModuleMod_OverWater
    DefaultConditionState
      Model = NVTCrawler_W
    End
    AliasConditionState  = MOVING
    ConditionState       = OVER_WATER
      ParticleSysBone    = TreadFX01 AmphibWaveRest
      ParticleSysBone    = TreadFX02 AmphibWaveRest
    End   
    ConditionState       = OVER_WATER MOVING
      ParticleSysBone    = TreadFX01 AmphibWave
      ParticleSysBone    = TreadFX02 AmphibWave
    End
  End

  Draw = W3DModelDraw Module_ExitBones
  
    DefaultConditionState
      Model = RVBMP3_B
    End
    
  End
  
  ; ***DESIGN parameters ***
  DisplayName           = OBJECT:BMP2
  Side                  = Boss
  EditorSorting         = VEHICLE
  TransportSlotCount    = 3                 ;how many "slots" we take in a transport (0 == not transportable)

  WeaponSet
    Conditions              = None 
    Weapon                  = PRIMARY T15MachineGun
    PreferredAgainst        = PRIMARY INFANTRY
    AutoChooseSources       = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
    ;Weapon                  = TERTIARY T15RocketWeapon
  End

  ArmorSet
    Conditions        = None
    Armor             = BMPTankArmor
    DamageFX          = TankDamageFX
  End
  
  BuildCost       = 900
  BuildTime       = 4.5          ;in seconds
  VisionRange     = 200
  ShroudClearingRange = 200
  
  Prerequisites
    Object = Boss_WarFactory Boss_SmallFactory
  End
  
  ExperienceValue    = 50 50  100 150  ;Experience point value at each level
  ExperienceRequired = 0  100 200 300  ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  
  CommandSet      = RussianVehicleBMP2CommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect    = BMP3VoiceSelect
  VoiceMove      = BMP3VoiceMove
  VoiceGuard     = BMP3VoiceMove
  VoiceAttack    = BMP3VoiceAttack
  SoundMoveStart        = BMP3MoveStart
  SoundMoveStartDamaged = BMP3MoveStart
  SoundEnter = HumveeEnter
  SoundExit  = HumveeExit

  UnitSpecificSounds
    VoiceCreate = BMP3VoiceCreate
    VoiceCrush  = BMP3VoiceMove
    VoiceUnload = BMP3VoiceUnload
    VoiceEnter  = BMP3VoiceMove
  End


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE TRANSPORT

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 400.0
    InitialHealth   = 400.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 600
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End
  
  Behavior = TransportAIUpdate ModuleTag_03
    Turret
      TurretTurnRate        = 180
      TurretPitchRate       = 70
      NaturalTurretPitch    = 5
      MinPhysicalPitch      = -10
      AllowsPitch           = Yes
      RecenterTime          = 5000   ; how long to wait during idle before recentering
      MinIdleScanAngle      = 10
      MaxIdleScanAngle      = 40
      MinIdleScanInterval   = 5000
      MaxIdleScanInterval   = 10000
      ControlledWeaponSlots = PRIMARY SECONDARY TERTIARY
    End
    AutoAcquireEnemiesWhenIdle = Yes
    MoodAttackCheckRate        = 250
  End
  
  Locomotor = SET_NORMAL BMP3Locomotor TroopCrawlerWaterLocomotor

  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 50.0
  End

  Behavior = TransportContain  ModuleTag_05
    Slots                = 7
	;InitialPayload       = Boss_RussiaInfantryConscript 7
    EnterSound           = GarrisonEnter
    ExitSound            = GarrisonExit
    DamagePercentToUnits = 0%
    AllowInsideKindOf    = INFANTRY
    ExitDelay            = 250
    NumberOfExitPaths    = 3
    GoAggressiveOnExit   = Yes ; AI Will tell people to set their mood to Aggressive on exiting
  End
  
  ; Behavior = ModelConditionUpgrade ModuleTag_Upgrade03
    ; ConditionFlag = USER_1
    ; TriggeredBy = Upgrade_RussiaTankERA
  ; End

  Behavior = SlowDeathBehavior ModuleTag_11
    DeathTypes = ALL -CRUSHED -SPLATTED
    DestructionDelay = 1
    FX  = FINAL    FX_BattleMasterExplosionOneFinal
    OCL = FINAL    OCL_FinalBMP3Debris
  End

  Behavior = DestroyDie ModuleTag_12
    DeathTypes = NONE +CRUSHED +SPLATTED
  End

  Behavior = FXListDie ModuleTag_13
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End

  ; Behavior = CreateCrateDie ModuleTag_CratesChange
    ; CrateData = SalvageCrateData
  ; End

  Behavior = TransitionDamageFX ModuleTag_17
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End
  
  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End
  
  Behavior = StealthUpdate ModuleTag_GPSStealth01
    StealthDelay                = 2000 ; msec
    StealthForbiddenConditions  = FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
    InnateStealth               = Yes
    RequiredStatus              = REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
  End
  
  ;This module ensures that emerging infantry from a destroyed transport have a very short time where they cannot be targeted
  ; Behavior = FireWeaponWhenDeadBehavior ModuleTag_InvulWhenDestroye01
    ; DeathWeapon   = InfantryEmergingFromTransportInvulnerabilityObjectTriggerWeapon
    ; StartsActive  = Yes
  ; End

  Geometry = BOX
  GeometryMajorRadius = 15.5
  GeometryMinorRadius = 8.5
  GeometryHeight = 11.5     
  GeometryIsSmall = Yes 
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length
End

;----------------------------------------------------------------------------
Object Boss_RussianCopterMi28

  ; *** ART Parameters ***
  SelectPortrait         = SACApache_L
  ButtonImage            = SACApache
  
  ;UpgradeCameo1 = Upgrade_RussiaCountermeasures
  ;UpgradeCameo2 = Upgrade_HeliArmor
  UpgradeCameo1 = Upgrade_AmericaAdvancedTraining
  UpgradeCameo2 = Upgrade_AmericaCountermeasures

    Draw = W3DOverlordAircraftDraw  ModuleTag_01; Works with the dependencyModelDraw of the upgrade portable structures 

      ParticlesAttachedToAnimatedBones = Yes

    DefaultConditionState
      Model = RUMI-28
      Animation = RUMI-28.RUMI-28
      AnimationMode = LOOP
      WeaponFireFXBone = PRIMARY Muzzle01
      WeaponMuzzleFlash = PRIMARY Muzzle01
      WeaponLaunchBone = PRIMARY Muzzle01
      WeaponFireFXBone = SECONDARY WEAPONA
      WeaponLaunchBone = SECONDARY WEAPONA
      WeaponFireFXBone = TERTIARY WEAPONB
      WeaponLaunchBone = TERTIARY WEAPONB
    End

    ConditionState = REALLYDAMAGED
      Model = RUMI-28_D
      Animation = RUMI-28_D.RUMI-28_D
      AnimationMode = LOOP
      WeaponFireFXBone = PRIMARY Muzzle01
      WeaponMuzzleFlash = PRIMARY Muzzle01
      WeaponFireFXBone = SECONDARY WEAPONA
      WeaponLaunchBone = SECONDARY WEAPONA
      WeaponFireFXBone = TERTIARY WEAPONB
      WeaponLaunchBone = TERTIARY WEAPONB
    End

    ConditionState = MOVING
      Model = RUMI-28
      Animation = RUMI-28.RUMI-28
      AnimationMode = LOOP
    End
    ConditionState = REALLYDAMAGED MOVING
      Model = RUMI-28_D
      Animation = RUMI-28_D.RUMI-28_D
      AnimationMode = LOOP
    End
    ConditionState = RUBBLE
      Model = RUMI-28_D
      Animation = RUMI-28_D.RUMI-28_D
      AnimationMode = LOOP
    End
    ConditionState = RUBBLE MOVING
      Model = RUMI-28_D
      Animation = RUMI-28_D.RUMI-28_D
      AnimationMode = LOOP
    End

    ConditionState = RUBBLE SPECIAL_DAMAGED
      Model = RUMI-28_D 
    End

    OkToChangeModelColor = Yes
  End


  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:MI28
  EditorSorting       = VEHICLE
  Side                = Boss
  TransportSlotCount  = 0                 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange         = 450.0 
  ShroudClearingRange = 400
  BuildCost           = 25000
  BuildTime           = 45.0          ;in seconds  
  Prerequisites
    Object = Boss_Airfield
	Object = Boss_TechCentr
  End
  ExperienceValue         = 100 100 175 300  ;Experience point value at each level
  ExperienceRequired      = 0 250 500 600   ;Experience points needed to gain each level
  IsTrainable         = Yes  
  CommandSet          = Boss_Mi28CommandSet 


  ArmorSet
    Conditions      = None
    Armor           = RussiaMi28HeliArmor
    DamageFX        = AAHitscanDamageFX
  End

  ArmorSet
    Conditions            = PLAYER_UPGRADE
    Armor                 = RussiaMi28HeliArmorUpgraded
    DamageFX              = AAHitscanDamageFX
  End

  ; WeaponSet
    ; Conditions          = None 
    ; Weapon              = PRIMARY Mi28MinigunWeapon
    ; PreferredAgainst    = PRIMARY INFANTRY
    ; Weapon              = SECONDARY Mi28RocketWeapon
    ; Weapon              = TERTIARY Mi28AARocketWeapon
  ; End
  
  WeaponSet
    Conditions          = None 
    Weapon              = PRIMARY     ApacheMachineGun
    PreferredAgainst    = PRIMARY     INFANTRY
    AutoChooseSources   = PRIMARY     FROM_PLAYER FROM_SCRIPT FROM_AI
    Weapon              = SECONDARY   ApacheMulti-roleMissileWeapon ;should have clipsize=16
    PreferredAgainst    = SECONDARY   VEHICLE STRUCTURE
    AutoChooseSources   = SECONDARY   FROM_PLAYER FROM_SCRIPT FROM_AI
    Weapon              = TERTIARY    NONE
  End

  ; *** AUDIO Parameters ***
  VoiceSelect     = HavocSelect
  VoiceMove       = HavocMoving
  VoiceGuard      = HavocGuard
  VoiceAttack     = HavocAttack
  VoiceAttackAir  = HavocAttackAir
  SoundAmbient    = ComancheAmbientLoop
  ;SoundEnter      = HumveeEnter
  ;SoundExit       = HumveeExit
  UnitSpecificSounds
    VoiceCreate         = HavocCreate
    ;VoiceUnload         = HavocMoving
    ;VoiceGarrison       = HavocMoving
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority   = UNIT
  ; note that, although Helixes aren't produced at helipads, we want to set this KINDOF so that they can land at
  ; (well, "near" actually) an Airfield to get healed...
  KindOf          = SALVAGER PRELOAD CAN_CAST_REFLECTIONS SELECTABLE VEHICLE HUGE_VEHICLE AIRCRAFT SCORE PRODUCED_AT_HELIPAD CAN_ATTACK 

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 750.0
    InitialHealth   = 750.0
  End

  Behavior                       = TransitionDamageFX ModuleTag_03
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuousDown
    ReallyDamagedFXList1         = Loc: X:0 Y:0 Z:0 FXList:FX_ComancheDamageTransition
  End

  Behavior = ChinookAIUpdate ModuleTag_04
     AutoAcquireEnemiesWhenIdle = Yes 
     RotorWashParticleSystem = HelixRotorWashRing
  End
  Locomotor = SET_NORMAL    MI28Locomotor
  Locomotor = SET_TAXIING   BasicHelicopterTaxiLocomotor


  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 50.0
  End

;Upgrades----------------------------------------------------------
;=============================================================================================
  Behavior = ExperienceScalarUpgrade ModuleTag_11
    TriggeredBy = Upgrade_AmericaAdvancedTraining
    AddXPScalar = 1.0 ;Increases experience gained by an additional 100%
  End
;=============================================================================================
  Behavior = ArmorUpgrade ModuleTag_Armor01
    TriggeredBy = Upgrade_AmericaCountermeasures
  End
;-----------------------------------------------------------
  Behavior = CountermeasuresBehavior ModuleTag_13
    TriggeredBy           = Upgrade_AmericaCountermeasures
    FlareTemplateName     = CountermeasureFlare
    FlareBoneBaseName     = Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
    VolleySize            = 2     ; Number of flares launched per volley (requires bones)
    VolleyArcAngle        = 60.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
    VolleyVelocityFactor  = 2.0   ; Shoots out flares at a stronger velocity with a higher value.
    DelayBetweenVolleys   = 1000  ; Time between flare volleys
    NumberOfVolleys       = 3     ; Number of times the volleys will fire before reloading
    ReloadTime            = 4000  ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
    EvasionRate           = 30%   ; With active flares, the specified percentage will be diverted.
    ReactionLaunchLatency = 0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
    MissileDecoyDelay     = 200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
  End
  ; Behavior                = ArmorUpgrade Upgrade_01
    ; TriggeredBy           = Upgrade_RussiaCountermeasures
  ; End
  ; Behavior                = CountermeasuresBehavior Upgrade_02
    ; TriggeredBy           = Upgrade_RussiaCountermeasures
    ; FlareTemplateName     = RuCountermeasureFlareHeli
    ; FlareBoneBaseName     = Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
    ; VolleySize            = 1   ; Number of flares launched per volley (requires bones)
    ; VolleyArcAngle        = 0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
    ; VolleyVelocityFactor  = 0   ; Shoots out flares at a stronger velocity with a higher value.
    ; DelayBetweenVolleys   = 500  ; Time between flare volleys
    ; NumberOfVolleys       = 5    ; Number of times the volleys will fire before reloading
    ; ReloadTime            = 7000     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
    ; EvasionRate           = 35%   ; With active flares, the specified percentage will be diverted.
    ; ReactionLaunchLatency = 0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
    ; MissileDecoyDelay     = 50   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
  ; End
  ; Behavior = MaxHealthUpgrade Upgrade_03
    ; TriggeredBy   = Upgrade_ArmorCommandset
    ; AddMaxHealth  = 55.0
    ; ChangeType    = ADD_CURRENT_HEALTH_TOO   ;Choices are PRESERVE_RATIO, ADD_CURRENT_HEALTH_TOO, and SAME_CURRENTHEALTH
  ; End
;Deaths-------------------------------------------------------------
  Behavior = HelicopterSlowDeathBehavior DeathTag_01
    ProbabilityModifier = 50
    DeathTypes                      = ALL
    DestructionDelay                = 20000        ; the destruction delay
    SpiralOrbitTurnRate             = 80.0           ; in degrees per second, bigger # = tighter spiral
    SpiralOrbitForwardSpeed         = 110.0           ; bigger # = larger spiral
    SpiralOrbitForwardSpeedDamping  = .9999           ; smaller #'s = slow down faster
    MaxBraking                      = 210   ; max braking we can use during death spiral (lower num = wilder spiral)    
    SoundDeathLoop                  = HelixDamagedLoop
    MinSelfSpin                     = 40                     ; in degrees per second
    MaxSelfSpin                     = 120                     ; in degrees per second
    SelfSpinUpdateDelay             = 300                     ; in milliseconds
    SelfSpinUpdateAmount            = 5                      ; in degrees   
    FallHowFast                     = 8.0%                   ; fraction of gravity, lower = take longer to fall
    MinBladeFlyOffDelay             = 1000                    ; in milliseconds
    MaxBladeFlyOffDelay             = 1000                    ; in milliseconds
    AttachParticle                  = HeliFallSmoke
    AttachParticleBone              = Propeller02 
    FXHitGround                     = FX_HelicopterHitGround
    FXBlade                         = FX_HelicopterBladeExplosion
    OCLHitGround                    = OCL_UniversalHelicopterWatercheck
    DelayFromGroundToFinalDeath     = 30
    FinalRubbleObject               = MI28DeadHull
    OCLFinalBlowUp = OCL_HelicopterHitGround
  End
  Behavior                            = SlowDeathBehavior DeathTag_02
    ProbabilityModifier = 50
    DeathTypes                         = ALL
    FX = INITIAL FX_HelicopterBladeExplosion
    OCL = INITIAL OCL_MI28SlowBD
  End
  Behavior = FXListDie DeathTag_03
    DeathFX = FX_Mi28Falling
  End
;Stealth-------------------------------------------------------------
;---------------------------------------------------------------------

  Behavior = FlammableUpdate ModuleTag_06
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3        ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  ; Behavior = FireWeaponWhenDamagedBehavior ModuleTag_07
    ; StartsActive = Yes
    ; ReactionWeaponPristine = DroneRevealWeapon
    ; ReactionWeaponDamaged = DroneRevealWeapon
    ; ReactionWeaponReallyDamaged = DroneRevealWeapon
    ; ReactionWeaponRubble = DroneRevealWeapon
    ; DamageTypes = NONE +MELEE
  ; End

  Geometry              = BOX
  GeometryMajorRadius   = 18.0
  GeometryMinorRadius = 4.0
  GeometryHeight        = 14.0   
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME    
  ShadowSizeX           = 89  ; minimum elevation angle above horizon. Used to limit shadow length
  ;Scale = 0.98
End

;-------------------------------------------------------------
Object MI28SlowBDObject
  ; *** ART Parameters ***
  Draw                = W3DModelDraw ModuleTag_01
    DefaultConditionState
      Model = RUMI-28_D
      Animation = RUMI-28_D.RUMI-28_D
      AnimationMode = LOOP
      ParticleSysBone = Propeller01 HeliFallSmoke
      ParticleSysBone     = Propeller02 JetFireLarge
    End
  End
  KindOf = CAN_CAST_REFLECTIONS NO_COLLIDE HULK IGNORED_IN_GUI UNATTACKABLE
  ;------------------!!!
  Behavior = PhysicsBehavior ModuleTag_02
    Mass                    = 25
    AllowCollideForce       = No
    ZFriction                = 1
    LateralFriction = 1
    AerodynamicFriction = 1
    ShockResistance = 1
  End
  ;------------------!!!

  Behavior = SlowDeathBehavior DeathTag_01
    DeathTypes     = ALL
    OCL = INITIAL OCL_HelicopterHitGround
    OCL = FINAL OCL_MI28WatercheckObject
  End

  Behavior = HeightDieUpdate DeathTag_02
    TargetHeight = 1
    TargetHeightIncludesStructures = Yes
    InitialDelay                    = 1 ; Can't explode in the first second so we don't explode on the pad
  End

  Behavior = FireWeaponUpdate ModuleTag_04
      Weapon               = HeliLoseControlWeapon
      InitialDelay         = 0
  End

  Geometry                 = Box
  GeometryIsSmall          = Yes
  GeometryMajorRadius      = 1.0
  GeometryMinorRadius      = 1.0
  GeometryHeight           = 1.0
  Shadow                   = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length.
  Scale = 1.05
End

;--------------------------------------------------------------------------------------
Object Boss_RussiaNavySubBallistic

  ; *** ART Parameters ***
  SelectPortrait         = Sub
  ButtonImage            = Sub
  
  ;UpgradeCameo1 = Upgrade_Passive
  ;UpgradeCameo4 = Upgrade_Range

  Draw = W3DTruckDraw ModuleTag_01
    OkToChangeModelColor = Yes

    DefaultConditionState
      Model                           = RU-Kursk
      Turret                          = TURRET
      WeaponLaunchBone                = PRIMARY WEAPONB
      WeaponFireFXBone                = PRIMARY WEAPONB
    End
      
    ConditionState                    = REALLYDAMAGED
      Model                           = RU-Kursk_D
      WeaponLaunchBone                = PRIMARY WEAPONB
      WeaponFireFXBone                = PRIMARY WEAPONB
    End

    ConditionState                    = RUBBLE
      Model                           = RU-Kursk_E
      WeaponLaunchBone                = PRIMARY WEAPONB
      WeaponFireFXBone                = PRIMARY WEAPONB
    End

    ; These parameters are only used if the model has a separate suspension, 
    ; and the locomotor has HasSuspension = Yes.
    LeftFrontTireBone = Tire01
    RightFrontTireBone = Tire02
    TireRotationMultiplier = 0.4   ; this * speed = rotation.
    PowerslideRotationAddition = 1.25   ; This speed is added to the rotation speed when powersliding.
End

  Draw = W3DModelDraw ModuleTag_02
    DefaultConditionState
      Model = RU-KurskN_A
      Turret                          = TURRET
      WeaponLaunchBone = SECONDARY WEAPONA
      WeaponFireFXBone  = SECONDARY FIREFXA
      TransitionKey = TRANS_Stand
    End

    TransitionState = TRANS_Stand TRANS_Firing_B
      Animation = RU-KurskN_A.RU-KurskN_A
      AnimationMode = ONCE
    End

    ConditionState = USING_WEAPON_B
      Model = RU-KurskN_A
      Animation = RU-KurskN_A.RU-KurskN_A
      AnimationMode = MANUAL
      Flags = START_FRAME_LAST
      TransitionKey = TRANS_Firing_B
    End

    TransitionState = TRANS_Firing_B TRANS_Stand
      Animation = RU-KurskN_A.RU-KurskN_A
      AnimationMode = ONCE_BACKWARDS
    End
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Kursk
  Side = Boss
  EditorSorting   = VEHICLE
  TransportSlotCount = 0                 ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions = None 
    Weapon = PRIMARY Shkval
    Weapon = SECONDARY KurskMissileWeapon
    AutoChooseSources = SECONDARY None
    ;ShareWeaponReloadTime = Yes
  End

  ; WeaponSet
    ; Conditions = PLAYER_UPGRADE 
    ; Weapon = PRIMARY ShkvalUG
    ; Weapon = SECONDARY KurskMissileWeapon2
    ; AutoChooseSources = SECONDARY None
    ; ;ShareWeaponReloadTime = Yes
  ; End

  ArmorSet
    Conditions      = None
    Armor           = TankArmor
    DamageFX        = TankDamageFX
  End
  BuildCost       = 65000
  BuildTime       = 50.0         ;in seconds    
  VisionRange     = 400
  ShroudClearingRange = 250
  Prerequisites
    Object = Boss_RussiaNavalYard
    Object = Boss_TechCentr
	Object = Boss_EnergyPlant
  End

  ExperienceValue = 200 200 400 800    ;Experience point value at each level
  ExperienceRequired = 0 800 1200 2400  ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 1  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet    = Russia_KurskBallisticCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect           = IskanderVoiceSelect
  VoiceMove             = IskanderVoiceMove
  VoiceGuard            = IskanderVoiceGuard
  VoiceAttack           = IskanderVoiceAttack
  SoundMoveStart        = ScudLauncherMoveStart
  SoundMoveStartDamaged = ScudLauncherMoveStart
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate         = IskanderVoiceCreate
  VoiceGuard            = IskanderVoiceMove
    Deploy              = NukeCannonDeploy
    Undeploy            = NukeCannonUnDeploy
  End


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = SALVAGER PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS VEHICLE SCORE BOAT
  
  Body = ActiveBody ModuleTag_03
    MaxHealth       = 35000.0
    InitialHealth   = 35000.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 480
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

  Behavior = AIUpdateInterface ModuleTag_04
    Turret
      TurretTurnRate = 290   ; turn rate, in degrees per sec
      ;TurretPitchRate     = 90
      FiresWhileTurning   = Yes
      NaturalTurretPitch  = 0 ; this keeps it aimed half way between land and sky
      AllowsPitch         = No
      ControlledWeaponSlots = SECONDARY TERTIARY
    End
    AutoAcquireEnemiesWhenIdle = No
  End

  Locomotor = SET_NORMAL KurskLocomotor

  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 100.0
  End
    
;Upgrades----------------------------------------------------------
  ; Behavior = WeaponBonusUpgrade Upgrade_01
    ; TriggeredBy = Upgrade_Range
  ; End
  ; Behavior = WeaponSetUpgrade Upgrade_02
    ; TriggeredBy = Upgrade_Range
  ; End
;Deaths-------------------------------------------------------------
  ; Catch fire, and explode death
  Behavior = SlowDeathBehavior DeathTag_01
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier = 50
    DestructionDelay = 2000
    DestructionDelayVariance = 300
    FX  = INITIAL  FX_CrusaderCatchFire
    OCL = FINAL    OCL_IskanderDebris
    FX  = FINAL    FX_ScudLauncherExplosionOneFinal
  End
;Stealth-------------------------------------------------------------
;---------------------------------------------------------------------

  ; Behavior = CreateCrateDie ModuleTag_06
    ; CrateData = SalvageCrateData
    ; ;CrateData = EliteTankCrateData
    ; ;CrateData = HeroicTankCrateData
  ; End

  Behavior = TransitionDamageFX ModuleTag_07
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End
  Behavior = ProductionUpdate ModuleTag_08
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End

  Behavior = FlammableUpdate ModuleTag_09
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = CommandButtonHuntUpdate  ModuleTag_10 ; allows use of command button hunt script with this unit. 
  End

  Behavior = StealthUpdate ModuleStealth_GPSScramblerGenericStealthModule
    StealthDelay                = 2000 ; msec
    InnateStealth               = Yes
    StealthForbiddenConditions  = ATTACKING USING_ABILITY
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
    RequiredStatus = REASSIGN_PARKING
  End

  Geometry            = BOX
  GeometryMajorRadius = 120.0
  GeometryMinorRadius = 22.0
  GeometryHeight      = 30.0     
  GeometryIsSmall     = No
  Shadow              = SHADOW_VOLUME 
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length   
  Scale = 1.0
End

;--------------------------------------------------------------------------------------
Object Boss_RussiaNavySubKalibr

  ; *** ART Parameters ***
  SelectPortrait         = Sub
  ButtonImage            = Sub
  
  ;UpgradeCameo1 = Upgrade_Passive
  ;UpgradeCameo4 = Upgrade_Range

  Draw = W3DTruckDraw ModuleTag_01
    OkToChangeModelColor = Yes

    DefaultConditionState
      Model                           = RU-Kursk
      Turret                          = TURRET
      WeaponLaunchBone                = PRIMARY WEAPONB
      WeaponFireFXBone                = PRIMARY WEAPONB
    End
      
    ConditionState                    = REALLYDAMAGED
      Model                           = RU-Kursk_D
      WeaponLaunchBone                = PRIMARY WEAPONB
      WeaponFireFXBone                = PRIMARY WEAPONB
    End

    ConditionState                    = RUBBLE
      Model                           = RU-Kursk_E
      WeaponLaunchBone                = PRIMARY WEAPONB
      WeaponFireFXBone                = PRIMARY WEAPONB
    End

    ; These parameters are only used if the model has a separate suspension, 
    ; and the locomotor has HasSuspension = Yes.
    LeftFrontTireBone = Tire01
    RightFrontTireBone = Tire02
    TireRotationMultiplier = 0.4   ; this * speed = rotation.
    PowerslideRotationAddition = 1.25   ; This speed is added to the rotation speed when powersliding.
End

  Draw = W3DModelDraw ModuleTag_02
    DefaultConditionState
      Model = RU-KurskN_A
      Turret                          = TURRET
      WeaponLaunchBone = SECONDARY WEAPONA
      WeaponFireFXBone  = SECONDARY FIREFXA
      TransitionKey = TRANS_Stand
    End

    TransitionState = TRANS_Stand TRANS_Firing_B
      Animation = RU-KurskN_A.RU-KurskN_A
      AnimationMode = ONCE
    End

    ConditionState = USING_WEAPON_B
      Model = RU-KurskN_A
      Animation = RU-KurskN_A.RU-KurskN_A
      AnimationMode = MANUAL
      Flags = START_FRAME_LAST
      TransitionKey = TRANS_Firing_B
    End

    TransitionState = TRANS_Firing_B TRANS_Stand
      Animation = RU-KurskN_A.RU-KurskN_A
      AnimationMode = ONCE_BACKWARDS
    End
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Kursk
  Side = Boss
  EditorSorting   = VEHICLE
  TransportSlotCount = 0                 ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions = None 
    Weapon = PRIMARY Shkval
    Weapon = SECONDARY SubKalibrStormWeapon
    AutoChooseSources = SECONDARY None
    ;ShareWeaponReloadTime = Yes
  End

  ; WeaponSet
    ; Conditions = PLAYER_UPGRADE 
    ; Weapon = PRIMARY ShkvalUG
    ; Weapon = SECONDARY KurskMissileWeapon2
    ; AutoChooseSources = SECONDARY None
    ; ;ShareWeaponReloadTime = Yes
  ; End

  ArmorSet
    Conditions      = None
    Armor           = TankArmor
    DamageFX        = TankDamageFX
  End
  BuildCost       = 60000
  BuildTime       = 50.0         ;in seconds    
  VisionRange     = 400
  ShroudClearingRange = 250
  Prerequisites
    Object = Boss_RussiaNavalYard
    Object = Boss_TechCentr
	Object = Boss_EnergyPlant
  End

  ExperienceValue = 200 200 400 800    ;Experience point value at each level
  ExperienceRequired = 0 800 1200 2400  ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 1  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet    = Russia_KurskKalibrCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect           = IskanderVoiceSelect
  VoiceMove             = IskanderVoiceMove
  VoiceGuard            = IskanderVoiceGuard
  VoiceAttack           = IskanderVoiceAttack
  SoundMoveStart        = ScudLauncherMoveStart
  SoundMoveStartDamaged = ScudLauncherMoveStart
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate         = IskanderVoiceCreate
  VoiceGuard            = IskanderVoiceMove
    Deploy              = NukeCannonDeploy
    Undeploy            = NukeCannonUnDeploy
  End


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = SALVAGER PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS VEHICLE SCORE BOAT
  
  Body = ActiveBody ModuleTag_03
    MaxHealth       = 35000.0
    InitialHealth   = 35000.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 480
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

  Behavior = AIUpdateInterface ModuleTag_04
    Turret
      TurretTurnRate = 290   ; turn rate, in degrees per sec
      ;TurretPitchRate     = 90
      FiresWhileTurning   = Yes
      NaturalTurretPitch  = 0 ; this keeps it aimed half way between land and sky
      AllowsPitch         = No
      ControlledWeaponSlots = SECONDARY TERTIARY
    End
    AutoAcquireEnemiesWhenIdle = No
  End

  Locomotor = SET_NORMAL KurskLocomotor

  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 100.0
  End
    
;Upgrades----------------------------------------------------------
  ; Behavior = WeaponBonusUpgrade Upgrade_01
    ; TriggeredBy = Upgrade_Range
  ; End
  ; Behavior = WeaponSetUpgrade Upgrade_02
    ; TriggeredBy = Upgrade_Range
  ; End
;Deaths-------------------------------------------------------------
  ; Catch fire, and explode death
  Behavior = SlowDeathBehavior DeathTag_01
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier = 50
    DestructionDelay = 2000
    DestructionDelayVariance = 300
    FX  = INITIAL  FX_CrusaderCatchFire
    OCL = FINAL    OCL_IskanderDebris
    FX  = FINAL    FX_ScudLauncherExplosionOneFinal
  End
;Stealth-------------------------------------------------------------
;---------------------------------------------------------------------

  ; Behavior = CreateCrateDie ModuleTag_06
    ; CrateData = SalvageCrateData
    ; ;CrateData = EliteTankCrateData
    ; ;CrateData = HeroicTankCrateData
  ; End

  Behavior = TransitionDamageFX ModuleTag_07
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End
  Behavior = ProductionUpdate ModuleTag_08
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End

  Behavior = FlammableUpdate ModuleTag_09
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = CommandButtonHuntUpdate  ModuleTag_10 ; allows use of command button hunt script with this unit. 
  End

  Behavior = StealthUpdate ModuleStealth_GPSScramblerGenericStealthModule
    StealthDelay                = 2000 ; msec
    InnateStealth               = Yes
    StealthForbiddenConditions  = ATTACKING USING_ABILITY
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
    RequiredStatus = REASSIGN_PARKING
  End

  Geometry            = BOX
  GeometryMajorRadius = 120.0
  GeometryMinorRadius = 22.0
  GeometryHeight      = 30.0     
  GeometryIsSmall     = No
  Shadow              = SHADOW_VOLUME 
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length   
  Scale = 1.0
End

;------------------------------------------------------------------------------
Object Boss_RussiaNavyShipZubr

  ; *** ART Parameters ***
  SelectPortrait         = Hover1_L
  ButtonImage            = Hover1
  
  ;UpgradeCameo1 = Upgrade_Passive
  ;UpgradeCameo4 = Upgrade_Range

  Draw = W3DTruckDraw ModuleTag_01
    OkToChangeModelColor = Yes

    DefaultConditionState
      Model                           = RU-Zubr
      Animation                       = RU-Zubr.RU-Zubr
      AnimationMode                   = LOOP
      Turret                          = TURRET
      Flags                           = START_FRAME_FIRST
      WeaponLaunchBone                = PRIMARY WEAPONA
      WeaponFireFXBone                = PRIMARY WEAPONA
    End
      
    ConditionState                    = RUBBLE
      Model                           = RU-Zubr_D
      Animation                       = RU-Zubr_D.RU-Zubr_D
      AnimationMode                   = LOOP
      Turret                          = TURRET
      Flags                           = START_FRAME_FIRST
      WeaponLaunchBone                = PRIMARY WEAPONA
      WeaponFireFXBone                = PRIMARY WEAPONA
    End

    ConditionState    = OVER_WATER
      Model                           = RU-Zubr
      Animation                       = RU-Zubr.RU-Zubr
      ParticleSysBone = Wave01 AmphibWaveRest
      ParticleSysBone = Wave02 AmphibWaveRest
      ParticleSysBone = Wave03 AmphibWaveRest
      ParticleSysBone = Wave04 AmphibWaveRest
    End

    ConditionState    = MOVING
      Model                           = RU-Zubr
      Animation                       = RU-Zubr.RU-Zubr
      ParticleSysBone = Wave01 RocketBuggyDust
      ParticleSysBone = Wave02 RocketBuggyDust
      ParticleSysBone = Wave03 RocketBuggyDust
      ParticleSysBone = Wave04 RocketBuggyDust
    End
    ConditionState    = OVER_WATER MOVING 
      Model                           = RU-Zubr
      Animation                       = RU-Zubr.RU-Zubr
      ParticleSysBone = Mist01 AmphibWave
      ParticleSysBone = Wave01 AmphibMistSide
      ParticleSysBone = Wave02 AmphibMistSide
    End

    ConditionState    = REALLYDAMAGED 
      Model                           = RU-Zubr_D
      Animation                       = RU-Zubr_D.RU-Zubr_D
      ParticleSysBone = CoreFX01 RocketBuggyDust
    End

    ConditionState    = REALLYDAMAGED OVER_WATER
      Model                           = RU-Zubr_D
      Animation                       = RU-Zubr_D.RU-Zubr_D
      ParticleSysBone = Wave01 AmphibWaveRest
      ParticleSysBone = Wave02 AmphibWaveRest
      ParticleSysBone = Wave03 AmphibWaveRest
      ParticleSysBone = Wave04 AmphibWaveRest
    End

    ConditionState    = REALLYDAMAGED MOVING
      Model                           = RU-Zubr_D
      Animation                       = RU-Zubr_D.RU-Zubr_D
      ParticleSysBone = Wave01 RocketBuggyDust
      ParticleSysBone = Wave02 RocketBuggyDust
      ParticleSysBone = Wave03 RocketBuggyDust
      ParticleSysBone = Wave04 RocketBuggyDust
    End
    ConditionState    = REALLYDAMAGED OVER_WATER MOVING 
      Model                           = RU-Zubr_D
      Animation                       = RU-Zubr_D.RU-Zubr_D
      ParticleSysBone = Mist01 AmphibWave
      ParticleSysBone = Wave01 AmphibMistSide
      ParticleSysBone = Wave02 AmphibMistSide
    End

    ConditionState  = RUBBLE OVER_WATER
      Model                           = RU-Zubr_D
      Animation                       = RU-Zubr_D.RU-Zubr_D
      ParticleSysBone     = Wave01 airCarrierDeathSplash0
      ParticleSysBone     = Wave02 airCarrierDeathSplash0
    End
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Zubr
  Side = Boss
  EditorSorting   = VEHICLE
  TransportSlotCount = 0                ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions = None 
    Weapon = PRIMARY ZubrGun
  End

;  WeaponSet
;    Conditions = PLAYER_UPGRADE 
;    Weapon = PRIMARY KurskMissileWeapon2
;  End

  
  ArmorSet
    Conditions      = None
    Armor           = TankArmor
    DamageFX        = TankDamageFX
  End
  BuildCost       = 35000
  BuildTime       = 20.0          ;in seconds    
  VisionRange     = 250
  ShroudClearingRange = 250
  Prerequisites
    Object  = Boss_RussiaNavalYard
    Object = Boss_Barracks
	Object = Boss_WarFactory
  End

  ExperienceValue = 150 150 300 500    ;Experience point value at each level
  ExperienceRequired = 0 200 400 700  ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet    = ZubrCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect           = IskanderVoiceSelect
  VoiceMove             = IskanderVoiceMove
  VoiceGuard            = IskanderVoiceGuard
  VoiceAttack           = IskanderVoiceAttack
  SoundMoveStart        = ScudLauncherMoveStart
  SoundMoveStartDamaged = ScudLauncherMoveStart
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate         = IskanderVoiceCreate
  VoiceGuard            = IskanderVoiceMove
    Deploy              = NukeCannonDeploy
    Undeploy            = NukeCannonUnDeploy
  End


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = SALVAGER PRELOAD SELECTABLE CAN_ATTACK DONT_AUTO_CRUSH_INFANTRY CAN_CAST_REFLECTIONS VEHICLE SCORE
  
  Body = ActiveBody ModuleTag_02
    MaxHealth       = 7500.0
    InitialHealth   = 7500.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 480
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      TurretTurnRate = 290   ; turn rate, in degrees per sec
      ControlledWeaponSlots = PRIMARY SECONDARY TERTIARY
    End
    AutoAcquireEnemiesWhenIdle = Yes
  End

  Locomotor = SET_NORMAL LargeAmphibiousLocomotor LargeAmphibiousGLocomotor

  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 100.0
  End

;Upgrades----------------------------------------------------------
  ; Behavior = WeaponBonusUpgrade Upgrade_01
    ; TriggeredBy = Upgrade_Range
  ; End
  ; Behavior = WeaponSetUpgrade Upgrade_02
    ; TriggeredBy = Upgrade_Range
  ; End
;Deaths-------------------------------------------------------------
  ; Catch fire, and explode death
  Behavior = SlowDeathBehavior DeathTag_01
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier = 50
    DestructionDelay = 2000
    DestructionDelayVariance = 300
    FX  = INITIAL  FX_CrusaderCatchFire
    OCL = FINAL    OCL_IskanderDebris
    FX  = FINAL    FX_ScudLauncherExplosionOneFinal
  End
;Stealth-------------------------------------------------------------
;---------------------------------------------------------------------

  ; Behavior = CreateCrateDie ModuleTag_05
    ; CrateData = SalvageCrateData
    ; ;CrateData = EliteTankCrateData
    ; ;CrateData = HeroicTankCrateData
  ; End

  Behavior = TransitionDamageFX ModuleTag_06
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = TransportContain ModuleTag_07
    Slots                 = 12
    DamagePercentToUnits  = 100%
    AllowInsideKindOf     = INFANTRY VEHICLE HUGE_VEHICLE
    ForbidInsideKindOf    = AIRCRAFT
    ExitDelay             = 500
    NumberOfExitPaths     = 3
  End

  Behavior = ProductionUpdate ModuleTag_08
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End

  Behavior = FlammableUpdate ModuleTag_09
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = CommandButtonHuntUpdate  ModuleTag_10; allows use of command button hunt script with this unit. 
  End

  Geometry            = BOX
  GeometryMajorRadius = 45.0
  GeometryMinorRadius = 22.0
  GeometryHeight      = 30.0     
  GeometryIsSmall     = Yes
  Shadow              = SHADOW_VOLUME 
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length   
  Scale = 1.2
End

;---------------------------------------------------------------------
Object KA52SlowBDObject
  ; *** ART Parameters ***
  Draw                = W3DModelDraw ModuleTag_01
    DefaultConditionState
      Model = RU-KA52_D
      Animation = RU-KA52_D.RU-KA52_D
      AnimationMode = LOOP
      HideSubObject      =  BARRELFX01
      ParticleSysBone = Propeller01 HeliFallSmoke
      ParticleSysBone     = Propeller02 JetFireLarge
    End
  End
  KindOf = CAN_CAST_REFLECTIONS NO_COLLIDE HULK IGNORED_IN_GUI UNATTACKABLE
  ;------------------!!!
  Behavior = PhysicsBehavior ModuleTag_02
    Mass                    = 25
    AllowCollideForce       = No
    ZFriction                = 1
    LateralFriction = 1
    AerodynamicFriction = 1
    ShockResistance = 1
  End
  ;------------------!!!

  Behavior = SlowDeathBehavior DeathTag_01
    DeathTypes     = ALL
    OCL = INITIAL OCL_HelicopterHitGround
    OCL = FINAL   OCL_KA52WatercheckObject
  End

  Behavior = HeightDieUpdate DeathTag_02
    TargetHeight = 1
    TargetHeightIncludesStructures = Yes
    InitialDelay                    = 1 ; Can't explode in the first second so we don't explode on the pad
  End

  Behavior = FireWeaponUpdate ModuleTag_04
      Weapon               = HeliLoseControlWeapon
      InitialDelay         = 0
  End
  Geometry                 = Box
  GeometryIsSmall          = Yes
  GeometryMajorRadius      = 1.0
  GeometryMinorRadius      = 1.0
  GeometryHeight           = 1.0
  Shadow                   = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length.
End

;-----------------------------------------------------------------------------------
Object Boss_RussiaCopterKa52

  ; *** ART Parameters ***
  SelectPortrait         = SNHokum_L
  ButtonImage            = SNHokum

  ;UpgradeCameo1 = Upgrade_RussiaCountermeasures

    Draw = W3DOverlordAircraftDraw  ModuleTag_01; Works with the dependencyModelDraw of the upgrade portable structures 

      ParticlesAttachedToAnimatedBones = Yes

    DefaultConditionState
      Model = RU-KA52
      Animation = RU-KA52.RU-KA52
      AnimationMode = LOOP
      Turret              = Turret01
      WeaponFireFXBone = PRIMARY WEAPONC
      WeaponMuzzleFlash   = PRIMARY BARRELFX
      WeaponLaunchBone = PRIMARY WEAPONC
      WeaponFireFXBone = SECONDARY WEAPONA
      WeaponLaunchBone = SECONDARY WEAPONA
      WeaponFireFXBone = TERTIARY WEAPONB
      WeaponLaunchBone = TERTIARY WEAPONB
    End

    ConditionState = REALLYDAMAGED
      Model = RU-KA52_D
      Animation = RU-KA52_D.RU-KA52_D
      AnimationMode = LOOP
      Turret              = Turret01
      WeaponFireFXBone = PRIMARY WEAPONC
      WeaponMuzzleFlash   = PRIMARY BARRELFX
      WeaponLaunchBone = PRIMARY WEAPONC
      WeaponFireFXBone = SECONDARY WEAPONA
      WeaponLaunchBone = SECONDARY WEAPONA
      WeaponFireFXBone = TERTIARY WEAPONB
      WeaponLaunchBone = TERTIARY WEAPONB
    End

    ConditionState = MOVING
      Model = RU-KA52
      Animation = RU-KA52.RU-KA52
      AnimationMode = LOOP
    End
    ConditionState = REALLYDAMAGED MOVING
      Model = RU-KA52_D
      Animation = RU-KA52_D.RU-KA52_D
      AnimationMode = LOOP
    End
    ConditionState = RUBBLE
      Model = RU-KA52DR
      Animation = RU-KA52DR.RU-KA52DR
      AnimationMode = LOOP
    End
    ConditionState = RUBBLE MOVING
      Model = RU-KA52DR
      Animation = RU-KA52DR.RU-KA52DR
      AnimationMode = LOOP
    End

    ConditionState = RUBBLE SPECIAL_DAMAGED
      Model = RU-KA52DR
    End

    OkToChangeModelColor = Yes
  End


  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:KA52
  EditorSorting       = VEHICLE
  Side                = Boss
  TransportSlotCount  = 0                 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange         = 550.0 
  ShroudClearingRange = 540
  BuildCost           = 30000
  BuildTime           = 30.0          ;in seconds  
  Prerequisites
    Object = Boss_Airfield
	Object = Boss_TechCentr
  End
  ExperienceValue         = 200 200 300 450  ;Experience point value at each level
  ExperienceRequired      = 0 350 500 800   ;Experience points needed to gain each level
  IsTrainable         = Yes  
  CommandSet          = Ka52CommandSet


  ArmorSet
    Conditions      = None
    Armor           = RussiaHeliArmor1Kill
    DamageFX        = AAHitscanDamageFX
  End

  ; ArmorSet
    ; Conditions            = PLAYER_UPGRADE
    ; Armor                 = RussiaAdvancedHeliArmor1Kill
    ; DamageFX              = AAHitscanDamageFX
  ; End

  WeaponSet
    Conditions          = None 
    ;----------------------------
    Weapon              = PRIMARY     KA5235mmCannonWeapon
    PreferredAgainst    = PRIMARY     INFANTRY
    AutoChooseSources   = PRIMARY     FROM_PLAYER FROM_SCRIPT FROM_AI
    Weapon              = SECONDARY   Ka52MissileMWeapon
    PreferredAgainst    = SECONDARY   VEHICLE STRUCTURE
    AutoChooseSources   = SECONDARY   FROM_PLAYER FROM_SCRIPT FROM_AI
    Weapon              = TERTIARY    KA52IglaWeapon
    ;----------------------------
  End

  ; *** AUDIO Parameters ***
  VoiceSelect     = Ka50VoiceSelect
  VoiceMove       = Ka50VoiceMove
  VoiceGuard      = Ka50VoiceGuard
  VoiceAttack     = Ka50VoiceAttack
  VoiceAttackAir     = Ka50VoiceAttack
  SoundAmbient    = HelixAmbientLoop
  SoundEnter      = HumveeEnter
  SoundExit       = HumveeExit
  SoundStealthOn = StealthOn
  SoundStealthOff = StealthOff
  UnitSpecificSounds
    VoiceCreate         = Ka50VoiceCreate
    VoiceUnload         = HelixVoiceUnload
    VoiceGarrison       = HelixVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority   = UNIT
  ; note that, although Helixes aren't produced at helipads, we want to set this KINDOF so that they can land at
  ; (well, "near" actually) an Airfield to get healed...
  KindOf          = SALVAGER PRELOAD CAN_CAST_REFLECTIONS SELECTABLE VEHICLE AIRCRAFT SCORE PRODUCED_AT_HELIPAD CAN_ATTACK 

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 800.0
    InitialHealth   = 800.0
  End

  Behavior                       = TransitionDamageFX ModuleTag_03
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuousDown
    ReallyDamagedFXList1         = Loc: X:0 Y:0 Z:0 FXList:FX_ComancheDamageTransition
  End

  Behavior = ChinookAIUpdate ModuleTag_04
    Turret
      TurretTurnRate = 280   ; turn rate, in degrees per sec
      ControlledWeaponSlots = PRIMARY SECONDARY TERTIARY
    End
     AutoAcquireEnemiesWhenIdle = Yes 
     RotorWashParticleSystem = HelixRotorWashRing
  End

  Locomotor = SET_NORMAL    Ka50Locomotor 
  Locomotor = SET_TAXIING   BasicHelicopterTaxiLocomotor

  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 50.0
  End

;Upgrades----------------------------------------------------------
  ; Behavior                = ArmorUpgrade Upgrade_01
    ; TriggeredBy           = Upgrade_RussiaCountermeasures
  ; End
  ; Behavior                = CountermeasuresBehavior Upgrade_02
    ; TriggeredBy           = Upgrade_RussiaCountermeasures
    ; FlareTemplateName     = RuCountermeasureFlareHeli
    ; FlareBoneBaseName     = Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
    ; VolleySize            = 1   ; Number of flares launched per volley (requires bones)
    ; VolleyArcAngle        = 0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
    ; VolleyVelocityFactor  = 0   ; Shoots out flares at a stronger velocity with a higher value.
    ; DelayBetweenVolleys   = 500  ; Time between flare volleys
    ; NumberOfVolleys       = 5    ; Number of times the volleys will fire before reloading
    ; ReloadTime            = 7000     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
    ; EvasionRate           = 35%   ; With active flares, the specified percentage will be diverted.
    ; ReactionLaunchLatency = 0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
    ; MissileDecoyDelay     = 50   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
  ; End
  ; Behavior = WeaponBonusUpgrade Upgrade_03
    ; TriggeredBy = Upgrade_ArmorCommandset
  ; End
  ; Behavior = MaxHealthUpgrade Upgrade_04
    ; TriggeredBy   = Upgrade_ArmorCommandset
    ; AddMaxHealth  = 50.0
    ; ChangeType    = ADD_CURRENT_HEALTH_TOO   ;Choices are PRESERVE_RATIO, ADD_CURRENT_HEALTH_TOO, and SAME_CURRENTHEALTH
  ; End
  ; Behavior = ObjectCreationUpgrade Upgrade_05
    ; UpgradeObject = OCL_GroundRadarDrone
    ; TriggeredBy = Upgrade_GroundRadarDrone
  ; End
;Deaths-------------------------------------------------------------
Behavior = HelicopterSlowDeathBehavior DeathTag_01
    ProbabilityModifier = 50
    DeathTypes                      = ALL
    DestructionDelay                = 20000        ; the destruction delay
    SpiralOrbitTurnRate             = 80.0           ; in degrees per second, bigger # = tighter spiral
    SpiralOrbitForwardSpeed         = 110.0           ; bigger # = larger spiral
    SpiralOrbitForwardSpeedDamping  = .9999           ; smaller #'s = slow down faster
    MaxBraking                      = 210   ; max braking we can use during death spiral (lower num = wilder spiral)    
    SoundDeathLoop                  = HelixDamagedLoop
    MinSelfSpin                     = 40                     ; in degrees per second
    MaxSelfSpin                     = 120                     ; in degrees per second
    SelfSpinUpdateDelay             = 300                     ; in milliseconds
    SelfSpinUpdateAmount            = 5                      ; in degrees   
    FallHowFast                     = 8.0%                   ; fraction of gravity, lower = take longer to fall
    MinBladeFlyOffDelay             = 1000                    ; in milliseconds
    MaxBladeFlyOffDelay             = 1000                    ; in milliseconds
    AttachParticle                  = HeliFallSmoke
    FXBlade                         = FX_HelicopterBladeExplosion
    AttachParticleBone              = Propeller02 
    OCLHitGround                    = OCL_UniversalHelicopterWatercheck
    DelayFromGroundToFinalDeath     = 30
    FinalRubbleObject               = KA52DeadHull
    OCLFinalBlowUp = OCL_HelicopterHitGround
  End
  Behavior = SlowDeathBehavior DeathTag_02
    ProbabilityModifier = 50
    DeathTypes = ALL
    FX = INITIAL FX_HelicopterBladeExplosion
    OCL = INITIAL OCL_KA52SlowBD
  End
  Behavior = FXListDie DeathTag_03
    DeathFX = FX_Ka52VoiceDie
  End
;Stealth-------------------------------------------------------------
  Behavior = StealthUpdate ModuleStealth_01
    StealthDelay                = 2000 ; msec
    InnateStealth               = Yes
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
    RequiredStatus = STEALTHED
    StealthForbiddenConditions  = ATTACKING
  End
;---------------------------------------------------------------------

  Behavior = FlammableUpdate ModuleTag_06
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3        ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = ProductionUpdate ModuleTag_07
    MaxQueueEntries = 1
  End

  ; Behavior    = OCLSpecialPower ModuleTag_08
    ; SpecialPowerTemplate = SpecialAbilityKA52Stealth
    ; OCL                  = OCL_Ka52StealthDrone
  ; End
  
  ; If enabled, sticks to helipad upon creation
  ; Behavior = JetAIUpdate ModuleTag_08
    ; KeepsParkingSpaceWhenAirborne = No
    ; MinHeight = 5
    ; NeedsRunway = No
    ; OutOfAmmoDamagePerSecond = 0%     ; amount of damage to take per SEC (not per frame) when out of ammo
    ; ReturnToBaseIdleTime = 120000 ; if idle for this long, return to base, even if not out of ammo
    ; TakeoffPause = 1000
    ; TakeoffDistForMaxLift = 100%   ; larger numbers give more lift sooner when taking off
    ; AutoAcquireEnemiesWhenIdle = Yes
    ; LockonTime = 1000
    ; LockonCursor = CWCgenLockOnCursor
    ; LockonInitialDist = 50
    ; LockonFreq = 1
    ; LockonAngleSpin = 1440
    ; LockonBlinky = No
  ; End

  Behavior = HelixContain ModuleTag_09
    PayloadTemplateName = KA52MissilePods
  End

  ; Behavior = GrantUpgradeCreate ModuleTag_10
    ; UpgradeToGrant = Upgrade_GroundRadarDrone
  ; End

  Geometry              = BOX
  GeometryMajorRadius   = 18.0
  GeometryMinorRadius = 4.0
  GeometryHeight        = 10.0  
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
  ShadowSizeX           = 89  ; minimum elevation angle above horizon. Used to limit shadow length
End

;--------------------------------------------------------------------
Object KA52MissilePods
  ; *** ART Parameters ***
  Draw = W3DDependencyModelDraw ModuleTag_01
    AttachToBoneInContainer = FIREPOINT01

    DefaultConditionState
      Model = RU-KA52MP
    End

    ConditionState = DAMAGED
      Model               = RU-KA52MP_D
    End
    OkToChangeModelColor = Yes
  End

  ; ***DESIGN parameters ***
  Side             = Russia
  EditorSorting    = SYSTEM
  TransportSlotCount = 1
  
  ArmorSet
    Conditions     = None
    Armor          = InvulnerableAllArmor ; We can't be hurt on the field.  We share damage from the Overlord with his damage module
  End

  VisionRange     = 200

  ; *** AUDIO Parameters ***
  UnitSpecificSounds
    TurretMoveStart = NoSound
    TurretMoveLoop  = NoSound ;TurretMoveLoop
    VoiceRapidFire  = NoSound
  End

  ; *** ENGINEERING Parameters ***
  KindOf            = PRELOAD PORTABLE_STRUCTURE CAN_ATTACK CLICK_THROUGH IGNORED_IN_GUI
  
  Body            = StructureBody ModuleTag_02
    MaxHealth       = 100.0
    InitialHealth   = 100.0
  End

  Behavior             = DestroyDie DeathTag_01
    ;<No Data>
  End

  Behavior = StealthUpdate ModuleStealth_23
    StealthDelay                = 1000 ; msec
    InnateStealth               = Yes
    StealthForbiddenConditions  = NONE
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
    RequiredStatus = STEALTHED
  End
  Geometry              = CYLINDER
  GeometryMajorRadius   = 1.0
  GeometryHeight        = 1.0     
  GeometryIsSmall       = No
  Shadow                = NONE
  ;ShadowSizeX           = 89  ; minimum elevation angle above horizon. Used to limit shadow length
End

;================================================================================================

;----------------------------------------------------------------------------
Object Boss_RussiaCopterKa50

  ; *** ART Parameters ***
  SelectPortrait         = SACommanche_L
  ButtonImage            = SACommanche

  ;UpgradeCameo1 = Upgrade_RussiaCountermeasures
  ;UpgradeCameo2 = Upgrade_MI35MP

    Draw = W3DOverlordAircraftDraw  ModuleTag_01; Works with the dependencyModelDraw of the upgrade portable structures 

      ParticlesAttachedToAnimatedBones = Yes

    DefaultConditionState
      Model = KA-50
      Animation = KA-50.KA-50
      AnimationMode = LOOP
      Turret              = Turret01
      HideSubObject = WEAPONB01 WEAPONB02
      WeaponFireFXBone = PRIMARY WEAPONC01
      WeaponMuzzleFlash = PRIMARY WEAPONC01
      WeaponFireFXBone = SECONDARY WEAPONA
      WeaponLaunchBone = SECONDARY WEAPONA
    End

    ConditionState = REALLYDAMAGED
      Model = KA-50_D
      Animation = KA-50_D.KA-50_D
      AnimationMode = LOOP
      Turret              = Turret01
      HideSubObject = WEAPONB01 WEAPONB02
      WeaponFireFXBone = PRIMARY WEAPONC01
      WeaponMuzzleFlash = PRIMARY WEAPONC01
      WeaponFireFXBone = SECONDARY WEAPONA
      WeaponLaunchBone = SECONDARY WEAPONA
    End

    ConditionState = WEAPONSET_PLAYER_UPGRADE
      Model = KA-50
      Animation = KA-50.KA-50
      AnimationMode = LOOP
      Turret              = Turret01
      ShowSubObject = WEAPONB01 WEAPONB02
      WeaponFireFXBone = PRIMARY WEAPONC01
      WeaponMuzzleFlash = PRIMARY WEAPONC01
      WeaponFireFXBone = SECONDARY WEAPONA
      WeaponLaunchBone = SECONDARY WEAPONA
      WeaponFireFXBone = TERTIARY WEAPONB
      WeaponLaunchBone = TERTIARY WEAPONB
    End

    ConditionState = REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE
      Model = KA-50_D
      Animation = KA-50_D.KA-50_D
      AnimationMode = LOOP
      Turret              = Turret01
      ShowSubObject = WEAPONB01 WEAPONB02
      WeaponFireFXBone = PRIMARY WEAPONC01
      WeaponMuzzleFlash = PRIMARY WEAPONC01
      WeaponFireFXBone = SECONDARY WEAPONA
      WeaponLaunchBone = SECONDARY WEAPONA
      WeaponFireFXBone = TERTIARY WEAPONB
      WeaponLaunchBone = TERTIARY WEAPONB
    End

    ConditionState = MOVING
      Model = KA-50
      Animation = KA-50.KA-50
      AnimationMode = LOOP
    End
    ConditionState = REALLYDAMAGED MOVING
      Model = KA-50_D
      Animation = KA-50_D.KA-50_D
      AnimationMode = LOOP
    End
    ConditionState = RUBBLE
      Model = KA-50_D
      Animation = KA-50_D.KA-50_D
      AnimationMode = LOOP
    End
    ConditionState = RUBBLE MOVING
      Model = KA-50_D
      Animation = KA-50_D.KA-50_D
      AnimationMode = LOOP
    End

    ConditionState = RUBBLE SPECIAL_DAMAGED
      Model = KA-50_D
    End

    OkToChangeModelColor = Yes
  End


  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:KA50
  EditorSorting       = VEHICLE
  Side                = Russia
  TransportSlotCount  = 0                 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange         = 450.0 
  ShroudClearingRange = 440
  BuildCost           = 40000
  BuildTime           = 33.0          ;in seconds  
  Prerequisites
    Object = Boss_Airfield
	Object = Boss_TechCentr
  End
  ExperienceValue         = 125 125 225 425  ;Experience point value at each level
  ExperienceRequired      = 0 250 375 650   ;Experience points needed to gain each level
  IsTrainable         = Yes  
  CommandSet          = Ka52CommandSet


  ArmorSet
    Conditions      = None
    Armor           = RussiaHeliArmor
    DamageFX        = AAHitscanDamageFX
  End

  ; ArmorSet
    ; Conditions            = PLAYER_UPGRADE
    ; Armor                 = RussiaAdvancedHeliArmor
    ; DamageFX              = AAHitscanDamageFX
  ; End

  WeaponSet
    Conditions          = None 
    Weapon              = PRIMARY     KA5030mmCannonWeapon
    PreferredAgainst    = PRIMARY     INFANTRY
    Weapon              = SECONDARY     Ka50MissileMWeapon
  End

  ; WeaponSet
    ; Conditions          = PLAYER_UPGRADE 
    ; Weapon              = PRIMARY     KA5030mmCannonWeapon
    ; PreferredAgainst    = PRIMARY     INFANTRY
    ; ;AutoChooseSources   = PRIMARY     FROM_PLAYER FROM_SCRIPT FROM_AI
    ; Weapon              = SECONDARY     Ka50MissileMWeapon
    ; Weapon              = TERTIARY     Mi35BarageWeapon
    ; AutoChooseSources = TERTIARY NONE
  ; End



  ; *** AUDIO Parameters ***
  VoiceSelect     = Ka50VoiceSelect
  VoiceMove       = Ka50VoiceMove
  VoiceGuard      = Ka50VoiceGuard
  VoiceAttack     = Ka50VoiceAttack
  SoundAmbient    = HelixAmbientLoop
  SoundEnter      = HumveeEnter
  SoundExit       = HumveeExit
  UnitSpecificSounds
    VoiceCreate         = Ka50VoiceCreate
    VoiceUnload         = HelixVoiceUnload
    VoiceGarrison       = HelixVoiceMove
  End




  ; *** ENGINEERING Parameters ***
  RadarPriority   = UNIT
  ; note that, although Helixes aren't produced at helipads, we want to set this KINDOF so that they can land at
  ; (well, "near" actually) an Airfield to get healed...
  KindOf          = PRELOAD CAN_CAST_REFLECTIONS SELECTABLE VEHICLE AIRCRAFT SCORE PRODUCED_AT_HELIPAD CAN_ATTACK 

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 800.0
    InitialHealth   = 800.0
  End

  Behavior = FXListDie DeathTag_01
    DeathFX = FX_HelicopterStartDeath
  End

  Behavior                       = TransitionDamageFX ModuleTag_03
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuousDown
    ReallyDamagedFXList1         = Loc: X:0 Y:0 Z:0 FXList:FX_ComancheDamageTransition
  End

  Behavior = ChinookAIUpdate ModuleTag_04
    Turret
      TurretTurnRate = 290   ; turn rate, in degrees per sec
      ControlledWeaponSlots = PRIMARY SECONDARY TERTIARY
    End
     AutoAcquireEnemiesWhenIdle = Yes 
     RotorWashParticleSystem = HelixRotorWashRing
  End

  Locomotor = SET_NORMAL    Ka50Locomotor 
  Locomotor = SET_TAXIING   BasicHelicopterTaxiLocomotor


  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 50.0
  End

  Behavior = HelicopterSlowDeathBehavior DeathTag_02
    ProbabilityModifier = 50
    DestructionDelay                = 20000        ; the destruction delay
    SpiralOrbitTurnRate             = 80.0           ; in degrees per second, bigger # = tighter spiral
    SpiralOrbitForwardSpeed         = 110.0           ; bigger # = larger spiral
    SpiralOrbitForwardSpeedDamping  = .9999           ; smaller #'s = slow down faster
    MaxBraking                      = 210   ; max braking we can use during death spiral (lower num = wilder spiral)    
    SoundDeathLoop                  = HelixDamagedLoop
    MinSelfSpin                     = 40                     ; in degrees per second
    MaxSelfSpin                     = 120                     ; in degrees per second
    SelfSpinUpdateDelay             = 300                     ; in milliseconds
    SelfSpinUpdateAmount            = 5                      ; in degrees   
    FallHowFast                     = 8.0%                   ; fraction of gravity, lower = take longer to fall
    MinBladeFlyOffDelay             = 1000                    ; in milliseconds
    MaxBladeFlyOffDelay             = 1000                    ; in milliseconds
    AttachParticle                  = HeliFallSmoke
    AttachParticleBone              = Propeller02    
    FXHitGround                     = FX_HelicopterHitGround
    OCLHitGround                    = OCL_UniversalHelicopterWatercheck
    DelayFromGroundToFinalDeath     = 30
    OCLFinalBlowUp = OCL_HelicopterHitGround
    FinalRubbleObject = KA52DeadHull
  End

  Behavior                            = SlowDeathBehavior DeathTag_03
    ProbabilityModifier = 50
    DeathTypes                         = ALL -LASERED
    FX = INITIAL FX_HelicopterBladeExplosion
    OCL = INITIAL OCL_KA52SlowBD
  End

  Behavior = FlammableUpdate ModuleTag_06
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3        ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  ; Behavior                = ArmorUpgrade Upgrade_01
    ; TriggeredBy           = Upgrade_RussiaCountermeasures
  ; End

  ; Behavior                = CountermeasuresBehavior Upgrade_02
    ; TriggeredBy           = Upgrade_RussiaCountermeasures
    ; FlareTemplateName     = CountermeasureFlare
    ; FlareBoneBaseName     = Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
    ; VolleySize            = 4     ; Number of flares launched per volley (requires bones)
    ; VolleyArcAngle        = 90.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
    ; VolleyVelocityFactor  = 1.0   ; Shoots out flares at a stronger velocity with a higher value.
    ; DelayBetweenVolleys   = 500  ; Time between flare volleys
    ; NumberOfVolleys       = 8     ; Number of times the volleys will fire before reloading
    ; ReloadTime            = 0     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
    ; EvasionRate           = 40%   ; With active flares, the specified percentage will be diverted.
    ; ReactionLaunchLatency = 0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
    ; MissileDecoyDelay     = 200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
  ; End

  ; Behavior = CommandSetUpgrade Upgrade_03
    ; CommandSet = Ka50CommandSet
    ; TriggeredBy = Upgrade_MI35MP
  ; End

  ; Behavior = WeaponSetUpgrade Upgrade_04
    ; TriggeredBy = Upgrade_MI35MP
  ; End

  ; Behavior = WeaponBonusUpgrade Upgrade_05
    ; TriggeredBy = Upgrade_BallisticCommandset
  ; End

  ; Behavior = FireWeaponWhenDamagedBehavior ModuleTag_07
    ; StartsActive = Yes
    ; ReactionWeaponPristine = DroneRevealWeapon
    ; ReactionWeaponDamaged = DroneRevealWeapon
    ; ReactionWeaponReallyDamaged = DroneRevealWeapon
    ; ReactionWeaponRubble = DroneRevealWeapon
    ; DamageTypes = NONE +MELEE
  ; End

  Geometry              = CYLINDER
  GeometryMajorRadius   = 35.0
  GeometryHeight        = 30.0     
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME    
  ShadowSizeX           = 89  ; minimum elevation angle above horizon. Used to limit shadow length
End

;---------------------------------------------------------------------------
Object MI26SlowBDObject
  ; *** ART Parameters ***
  Draw                = W3DModelDraw ModuleTag_01
    DefaultConditionState
      Model = RUMI-26_d
      Animation = RUMI-26_d.RUMI-26_d
      AnimationMode = LOOP
      ParticleSysBone = Propeller01 HeliFallSmoke
      ParticleSysBone     = Propeller02 JetFireLarge
    End
  End
  KindOf = CAN_CAST_REFLECTIONS NO_COLLIDE HULK IGNORED_IN_GUI UNATTACKABLE
  Behavior = PhysicsBehavior ModuleTag_02
    Mass                    = 25
    AllowCollideForce       = No
    ZFriction                = 1
    LateralFriction = 1
    AerodynamicFriction = 1
    ShockResistance = 1
  End
  Behavior = SlowDeathBehavior DeathTag_01
    DeathTypes     = ALL
    OCL                 = INITIAL   OCL_HelicopterHitGround
    OCL                 = FINAL   OCL_MI26WatercheckObject
  End
  Behavior = HeightDieUpdate DeathTag_02
    TargetHeight = 1
    TargetHeightIncludesStructures = Yes
    InitialDelay                    = 1 ; Can't explode in the first second so we don't explode on the pad
  End
  Behavior = FireWeaponUpdate ModuleTag_04
      Weapon               = HeliLoseControlWeapon
      InitialDelay         = 0
  End
  Geometry                 = Box
  GeometryIsSmall          = Yes
  GeometryMajorRadius      = 1.0
  GeometryMinorRadius      = 1.0
  GeometryHeight           = 1.0
  Shadow                   = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length.
End


;----------------------------------------------------------------
Object Boss_RussiaCopterMi26

  ; *** ART Parameters ***
  SelectPortrait         = SASeaDevil_L
  ButtonImage            = SASeaDevil
 
  ;UpgradeCameo1 = Upgrade_RussiaCountermeasures

    Draw = W3DModelDraw                         ModuleTag_01 ; Helicopter 

    ExtraPublicBone = RopeStart
    ExtraPublicBone = RopeEnd

    DefaultConditionState
      Model = RUMI-26
      Animation = RUMI-26.RUMI-26
      AnimationMode = LOOP
    End

    ConditionState = REALLYDAMAGED
      Model = RUMI-26_d
      Animation = RUMI-26_d.RUMI-26_d
      AnimationMode = LOOP
    End

    ConditionState = RUBBLE
      Model = RUMI-26_d
      Animation = RUMI-26_d.RUMI-26_d
      AnimationMode = LOOP
    End

    ConditionState = RUBBLE SPECIAL_DAMAGED
      Model = RUMI-26_d
      HideSubObject = Props01
      HideSubObject = Props02
    End

    OkToChangeModelColor = Yes
  End

  Draw = W3DModelDraw                         ModuleTag_02 ; Cargo net 
    ConditionState = NONE
      Model = None  ; Nothing here
      TransitionKey = TRANS_Empty
      WaitForStateToFinishIfPossible = TRANS_Unloading
    End

    ConditionState = DYING 
      Model = None  ; Nothing here
    End
    AliasConditionState = RUBBLE
    AliasConditionState = CARRYING RUBBLE
    AliasConditionState = DOCKING RUBBLE
    AliasConditionState = DOCKING CARRYING RUBBLE
 
     ConditionState = CARRYING
      Model = AVChinook_A ;Carrying a full wobbly net of stuff
      Animation = AVChinook_A.AVChinook_A
      AnimationMode = LOOP
      TransitionKey = TRANS_Full
      WaitForStateToFinishIfPossible = TRANS_PickingUp
    End

    ConditionState = DOCKING
      Model = AVChinook_A1MSH ;Lowering an empty net, pulling up with stuff
      Animation = AVChinook_A1SK.AVChinook_A1
      AnimationMode = ONCE_BACKWARDS
      Flags = START_FRAME_LAST
      TransitionKey = TRANS_PickingUp
      WaitForStateToFinishIfPossible = TRANS_Unloading  ;Trick.  Without hardcoding the difference between what we are docking with, need to use DOCKING for both.
    End

    ConditionState = DOCKING CARRYING
      Model = AVChinook_A1MSH ; Lowering a full net, letting stuff fall out, and pulling up an empty net
      Animation = AVChinook_A1SK.AVChinook_A1
      AnimationMode = ONCE
      TransitionKey = TRANS_Unloading
      WaitForStateToFinishIfPossible = TRANS_PickingUp  ;Trick.  Without hardcoding the difference between what we are docking with, need to use DOCKING for both.
    End
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:MI26
  EditorSorting       = VEHICLE
  Side                = Boss
  TransportSlotCount  = 0                 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange         = 250.0 
  ShroudClearingRange = 250
  BuildCost           = 18000
  BuildTime           = 26.0          ;in seconds  
  ; Prerequisites
    ; Object = Boss_Airfield
	; Object = Boss_WarFactory
  ; End
  ExperienceValue         = 65 65 120 200  ;Experience point value at each level
  IsTrainable         = No  
  CommandSet          = MI26CommandSet

  ArmorSet
    Conditions      = None
    Armor           = RussiaHeliArmor
    DamageFX        = AAHitscanDamageFX
  End

  ; ArmorSet
    ; Conditions            = PLAYER_UPGRADE
    ; Armor                 = RussiaAdvancedHeliArmor
    ; DamageFX              = AAHitscanDamageFX
  ; End

  ; *** AUDIO Parameters ***
  VoiceSelect     = Mi26VoiceSelect
  VoiceMove       = Mi26VoiceMove
  VoiceAttack     = Mi26VoiceAttack
  VoiceGuard       = Mi26VoiceMove
  SoundAmbient    = HelixAmbientLoop
  SoundEnter      = HumveeEnter
  SoundExit       = HumveeExit
  UnitSpecificSounds
    VoiceCreate         = Mi26VoiceCreate
    VoiceUnload         = Mi26VoiceEvac
    VoiceGarrison       = Mi26VoiceMove
    VoiceSupply         = Mi26VoiceCollect
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority   = UNIT
  ; note that, although Chinooks aren't produced at helipads, we want to set this KINDOF so that they can land at
  ; (well, "near" actually) an Airfield to get healed...
  ; also note that we should NOT set CAN_ATTACK for chinooks. they can't attack. so there.
  KindOf          = PRELOAD CAN_CAST_REFLECTIONS SELECTABLE VEHICLE TRANSPORT AIRCRAFT HARVESTER SCORE PRODUCED_AT_HELIPAD
  ;KindOf          = PRELOAD CAN_CAST_REFLECTIONS SELECTABLE VEHICLE TRANSPORT AIRCRAFT SCORE PRODUCED_AT_HELIPAD

  Body = ActiveBody ModuleTag_03
    MaxHealth       = 500.0
    InitialHealth   = 500.0
  End

  Behavior                       = TransitionDamageFX ModuleTag_04
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuousDown
    ReallyDamagedFXList1         = Loc: X:0 Y:0 Z:0 FXList:FX_ComancheDamageTransition
  End

  Behavior = ChinookAIUpdate ModuleTag_05
    MaxBoxes                = 30
    SupplyCenterActionDelay = 15000 ;3000     ; ms for whole thing (one transaction)
    SupplyWarehouseActionDelay = 800 ;1250  ; 875 ; ms per box (many small transactions)
    SupplyWarehouseScanDistance = 700 ;350 ; Max distance to look for a warehouse, or we go home.  (Direct dock command on warehouse overrides, and no max on Center Scan)
    SuppliesDepletedVoice = Mi26VoiceNoSupplies
    NumRopes                = 4
    ; these define how long we can wait, once a guy is on-rope, before throwing another
    ; guy onto that same rope. (Hint: you don't want to use zero.) Omit entirely
    ; and we'll wait for each guy to clear before spawning another.
    PerRopeDelayMin         = 4500
    PerRopeDelayMax         = 7500
    RopeWidth               = 0.5
    RopeColor               = R:0 G:0 B:0
    RopeWobbleLen           = 10
    RopeWobbleAmplitude     = 0.25
    RopeWobbleRate          = 180
    RopeFinalHeight         = 10    ; stop this far above ground
    RappelSpeed             = 30
    MinDropHeight           = 40    ; if dropping into a tall bldg, go at least this far above it
    UpgradedSupplyBoost     = 60    ; increase in value of the crates when supply lines has been upgraded
  End
  Locomotor = SET_NORMAL    MI-26Locomotor
  Locomotor = SET_TAXIING   BasicHelicopterTaxiLocomotor

  Behavior = TransportContain ModuleTag_06
    Slots                 = 80
    DamagePercentToUnits  = 100%
    AllowInsideKindOf     = INFANTRY VEHICLE HUGE_VEHICLE
    ForbidInsideKindOf    = AIRCRAFT
    ExitDelay             = 100
    NumberOfExitPaths     = 1
  End
  Behavior = PhysicsBehavior ModuleTag_07
    Mass = 50.0
  End

;Upgrades----------------------------------------------------------
  ; Behavior                = ArmorUpgrade Upgrade_01
    ; TriggeredBy           = Upgrade_RussiaCountermeasures
  ; End
  ; Behavior                = CountermeasuresBehavior Upgrade_02
    ; TriggeredBy           = Upgrade_RussiaCountermeasures
    ; FlareTemplateName     = RuCountermeasureFlareHeli
    ; FlareBoneBaseName     = Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
    ; VolleySize            = 1   ; Number of flares launched per volley (requires bones)
    ; VolleyArcAngle        = 0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
    ; VolleyVelocityFactor  = 0   ; Shoots out flares at a stronger velocity with a higher value.
    ; DelayBetweenVolleys   = 500  ; Time between flare volleys
    ; NumberOfVolleys       = 4    ; Number of times the volleys will fire before reloading
    ; ReloadTime            = 7000     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
    ; EvasionRate           = 30%   ; With active flares, the specified percentage will be diverted.
    ; ReactionLaunchLatency = 0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
    ; MissileDecoyDelay     = 50   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
  ; End
  ; Behavior = MaxHealthUpgrade Upgrade_03
    ; TriggeredBy   = Upgrade_ArmorCommandset
    ; AddMaxHealth  = 75.0
    ; ChangeType    = ADD_CURRENT_HEALTH_TOO   ;Choices are PRESERVE_RATIO, ADD_CURRENT_HEALTH_TOO, and SAME_CURRENTHEALTH
  ; End
;Deaths-------------------------------------------------------------
Behavior = HelicopterSlowDeathBehavior DeathTag_01
    ProbabilityModifier = 50
    DeathTypes                      = ALL
    DestructionDelay                = 20000        ; the destruction delay
    SpiralOrbitTurnRate             = 80.0           ; in degrees per second, bigger # = tighter spiral
    SpiralOrbitForwardSpeed         = 110.0           ; bigger # = larger spiral
    SpiralOrbitForwardSpeedDamping  = .9999           ; smaller #'s = slow down faster
    MaxBraking                      = 210   ; max braking we can use during death spiral (lower num = wilder spiral)    
    SoundDeathLoop                  = HelixDamagedLoop
    MinSelfSpin                     = 40                     ; in degrees per second
    MaxSelfSpin                     = 120                     ; in degrees per second
    SelfSpinUpdateDelay             = 300                     ; in milliseconds
    SelfSpinUpdateAmount            = 5                      ; in degrees   
    FallHowFast                     = 8.0%                   ; fraction of gravity, lower = take longer to fall
    MinBladeFlyOffDelay             = 1000                    ; in milliseconds
    MaxBladeFlyOffDelay             = 1000                    ; in milliseconds
    AttachParticle                  = HeliFallSmoke
    AttachParticleBone              = Propeller02    
    FXHitGround                     = FX_HelicopterHitGround
    FXBlade                         = FX_HelicopterBladeExplosion
    OCLHitGround                    = OCL_UniversalBigHelicopterWatercheck
    DelayFromGroundToFinalDeath     = 30
    FinalRubbleObject               = MI26DeadHull
    OCLFinalBlowUp                 = OCL_HelicopterHitGround
  End
  Behavior                            = SlowDeathBehavior DeathTag_02
    ProbabilityModifier = 50
    DeathTypes                         = ALL
    FX = INITIAL FX_HelicopterBladeExplosion
    OCL = INITIAL OCL_MI26SlowBD
  End
  Behavior = FXListDie DeathTag_03
    DeathFX = FX_Mi26BladeExplosion
  End
;Stealth-------------------------------------------------------------
;---------------------------------------------------------------------

  Behavior = FlammableUpdate ModuleTag_08
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = SpecialPowerCreate ModuleTag_09
    ;nothing
  End

  ; Behavior = FireWeaponWhenDamagedBehavior ModuleTag_10
    ; StartsActive = Yes
    ; ReactionWeaponPristine = DroneRevealWeapon
    ; ReactionWeaponDamaged = DroneRevealWeapon
    ; ReactionWeaponReallyDamaged = DroneRevealWeapon
    ; ReactionWeaponRubble = DroneRevealWeapon
    ; DamageTypes = NONE +MELEE
  ; End

  Geometry              = BOX
  GeometryMajorRadius   = 40.0
  GeometryMinorRadius   = 20.0
  GeometryHeight        = 20.0     
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME    
  ShadowSizeX           = 89  ; minimum elevation angle above horizon. Used to limit shadow length
  Scale = 1.0
End

;----------------------------------------------------------------------------------------------------------
Object Boss_RussiaAntiSubCopterKa27

  ; *** ART Parameters ***
  SelectPortrait         = HelixI_L
  ButtonImage            = HelixI
  
  ; UpgradeCameo1 = Upgrade_HelixNapalmBomb
  ; UpgradeCameo2 = Upgrade_ChinaBlackNapalm
  ; UpgradeCameo3 = Upgrade_ChinaHelixGattlingCannon
  ; UpgradeCameo4 = Upgrade_ChinaHelixPropagandaTower
  ; UpgradeCameo5 = Upgrade_ChinaHelixBattleBunker

  Draw = W3DModelDraw  ModuleTag_01
      ParticlesAttachedToAnimatedBones = Yes

    DefaultConditionState
      Model = NVHELIX
      Animation = NVHELIX.NVHELIX
      AnimationMode = LOOP

      WeaponFireFXBone    = PRIMARY Muzzle03
      WeaponMuzzleFlash   = PRIMARY TurretFX03

      ParticleSysBone = SMOKE01 HelixExhaust
      ParticleSysBone = SMOKE02 HelixExhaust

      HideSubObject       = BombWing
    End
    ConditionState = REALLYDAMAGED
      Model = NVHELIX_d
      Animation = NVHELIX_d.NVHELIX_d
      AnimationMode = LOOP
    End

    ConditionState = RUBBLE
      Model = NVHELIX_d
      Animation = NVHELIX_d.NVHELIX_d
      AnimationMode = LOOP
    End

    ConditionState = RUBBLE SPECIAL_DAMAGED
      Model = NVHELIX_d 
    End

    OkToChangeModelColor = Yes
  End
  
  Draw                    = W3DModelDraw ModuleTag_02
    OkToChangeModelColor  = Yes
    ;AttachToBoneInContainer = CHASSISBONE

    ConditionState = NONE
      Model         = NVHELIX_B
    End
    ConditionState = REALLYDAMAGED
      Model         = NVHELIX_BD
      ParticleSysBone = Smoke01 SmolderingSmoke
      ParticleSysBone = Smoke02 SmolderingSmoke
      ParticleSysBone = Flame01 SmolderingFire
      ParticleSysBone = Flame01 SmolderingFlameCore
      ParticleSysBone = Spark01 LiveWireSparks
    End
    ; night
    ConditionState = NIGHT
      Model         = NVHELIX_B
    End 
    ConditionState = NIGHT REALLYDAMAGED
      Model         = NVHELIX_BD
      ParticleSysBone = Smoke01 SmolderingSmoke
      ParticleSysBone = Smoke02 SmolderingSmoke
      ParticleSysBone = Flame01 SmolderingFire
      ParticleSysBone = Flame01 SmolderingFlameCore
      ParticleSysBone = Spark01 LiveWireSparks
    End
  End


  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Ka27
  EditorSorting       = VEHICLE
  Side                = Boss
  TransportSlotCount  = 0                 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange         = 200.0 
  ShroudClearingRange = 600
  BuildCost           = 20000
  BuildTime           = 20.0          ;in seconds  
  Prerequisites
    Object = Boss_Airfield
	Object = Boss_TechCentr
  End
  ExperienceValue     = 50 100 150 200 ;Experience point value at each level
  ExperienceRequired  = 0 100 200 400  ;Experience points needed to gain each level
  IsTrainable         = Yes  
  CommandSet          = Boss_RussiaAntiSubCopterCommandSet

  ArmorSet
    Conditions      = None
    Armor           = ChinookArmor
    DamageFX        = None
  End

  WeaponSet
    Conditions          = None
    Weapon              = PRIMARY     HelixMinigunWeapon
    PreferredAgainst    = PRIMARY     INFANTRY
    AutoChooseSources   = PRIMARY     FROM_PLAYER FROM_SCRIPT FROM_AI
  End

  ; *** AUDIO Parameters ***
  VoiceSelect     = HelixVoiceSelect
  VoiceMove       = HelixVoiceMove
  VoiceAttack     = HelixVoiceAttack
  SoundAmbient    = HelixAmbientLoop
  SoundEnter      = HumveeEnter
  SoundExit       = HumveeExit
  UnitSpecificSounds
    VoiceCreate         = HelixVoiceCreate
    VoiceUnload         = HelixVoiceUnload
    VoiceGarrison       = HelixVoiceMove
  End
  
  ; *** ENGINEERING Parameters ***
  RadarPriority   = UNIT
  ; note that, although Helixes aren't produced at helipads, we want to set this KINDOF so that they can land at
  ; (well, "near" actually) an Airfield to get healed...
  KindOf          = PRELOAD CAN_CAST_REFLECTIONS SELECTABLE VEHICLE HUGE_VEHICLE TRANSPORT AIRCRAFT SCORE PRODUCED_AT_HELIPAD CAN_ATTACK

  Body = ActiveBody ModuleTag_03
    MaxHealth       = 300.0
    InitialHealth   = 300.0
  End

  Behavior = FXListDie ModuleTag_05
    DeathFX = FX_HelicopterStartDeath
  End

  Behavior                       = TransitionDamageFX ModuleTag_06
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuousDown
    ReallyDamagedFXList1         = Loc: X:0 Y:0 Z:0 FXList:FX_ComancheDamageTransition
  End

  Behavior = ChinookAIUpdate ModuleTag_07
     AutoAcquireEnemiesWhenIdle = Yes 
     RotorWashParticleSystem = HelixRotorWashRing
  End
  Locomotor = SET_NORMAL    HelixLocomotor
  Locomotor = SET_TAXIING   BasicHelicopterTaxiLocomotor

  ; Behavior = WeaponSetUpgrade ModuleNapalmTag_30
    ; TriggeredBy = Upgrade_ChinaBlackNapalm
  ; End

;*****Start Napalm Bomb Code******
  Behavior = SpecialAbility ModuleNapalmTag_32
    SpecialPowerTemplate      = SpecialAbilityHelixNapalmBomb
    UpdateModuleStartsAttack  = Yes
    StartsPaused              = No
    InitiateSound             = HelixVoiceAttack
  End
  Behavior = SpecialAbilityUpdate ModuleNapalmTag_33
    SpecialPowerTemplate = SpecialAbilityHelixNapalmBomb
    StartAbilityRange = 3.0
    PreparationTime = 0
    SpecialObject = AntiSubBomb
    MaxSpecialObjects = 1
    SpecialObjectsPersistWhenOwnerDies = Yes 
    SpecialObjectsPersistent = Yes          ;Charges are persistent till lifetime expires or owner detonates them.
    UniqueSpecialObjectTargets = No        ;This would prevent multiple charges placed on the same object.
    UnpackTime              = 500     ;slight delay to drop bomb
    FlipOwnerAfterUnpacking = No
    FleeRangeAfterCompletion = 0.0         ;DOes not run away after finishing ability
    UnpackSound               = NoSound 
    LoseStealthOnTrigger      = No
    ApproachRequiresLOS       = No ; we are a helicopter, we can see everything
    NeedToFaceTarget          = No ; can drop the bomb at any angle to target
    PersistentPrepTime        = 100
    PersistenceRequiresRecharge = Yes
  End
  ; Behavior = UnpauseSpecialPowerUpgrade ModuleNapalmTag_38
    ; SpecialPowerTemplate = SpecialAbilityHelixNapalmBomb
    ; TriggeredBy = Upgrade_HelixNapalmBomb
  ; End
  ; Behavior = SubObjectsUpgrade ModuleNapalmTag_39
    ; TriggeredBy    = Upgrade_HelixNapalmBomb 
    ; ShowSubObjects = BombWing 
  ; End
;*****End Napalm Bomb Code******

  Behavior = PhysicsBehavior ModuleTag_09
    Mass = 50.0
  End

  Behavior = HelicopterSlowDeathBehavior ModuleTag_10
    DestructionDelay                = 99999999        ; the destruction delay
    SpiralOrbitTurnRate             = 80.0           ; in degrees per second, bigger # = tighter spiral
    SpiralOrbitForwardSpeed         = 110.0           ; bigger # = larger spiral
    SpiralOrbitForwardSpeedDamping  = .9999           ; smaller #'s = slow down faster
    MaxBraking                      = 210   ; max braking we can use during death spiral (lower num = wilder spiral)    
    SoundDeathLoop                  = HelixDamagedLoop
    MinSelfSpin                     = 40                     ; in degrees per second
    MaxSelfSpin                     = 120                     ; in degrees per second
    SelfSpinUpdateDelay             = 300                     ; in milliseconds
    SelfSpinUpdateAmount            = 5                      ; in degrees   
    FallHowFast                     = 8.0%                   ; fraction of gravity, lower = take longer to fall
    MinBladeFlyOffDelay             = 1000                    ; in milliseconds
    MaxBladeFlyOffDelay             = 1000                    ; in milliseconds
    AttachParticle                  = SootySmokeTrail
    AttachParticleBone              = Propeller02
    BladeObjectName                 = HelixBlades
    BladeBoneName                   = Propeller01    
    FXBlade                         = FX_HelicopterBladeExplosion
    OCLBlade                        = OCL_HelicopterBladeExplosion
    FXHitGround                     = FX_HelicopterHitGround
    OCLHitGround                    = OCL_HelicopterHitGround
    FXFinalBlowUp                   = FX_GroundedHelicopterBlowUpBig
    OCLFinalBlowUp                  = OCL_HelixBlades
    DelayFromGroundToFinalDeath     = 30
    FinalRubbleObject               = HelixRubbleHull
  End
    
  Behavior = ProductionUpdate ModuleTag_11
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3        ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = HelixContain ModuleTag_29
    Slots                   = 5 ;Special, high-capacity Helix
    DamagePercentToUnits    = 100%
    AllowInsideKindOf       = INFANTRY
    ForbidInsideKindOf      = AIRCRAFT 
    ExitDelay               = 100
    NumberOfExitPaths       = 1
    PassengersAllowedToFire = Yes
  End

  ; Behavior = WeaponSetUpgrade ModuleTag_30
    ; TriggeredBy = Upgrade_ChinaBlackNapalm
  ; End

  Behavior = SpecialAbility ModuleTag_32
    SpecialPowerTemplate      = SpecialAbilityHelixNapalmBomb
    UpdateModuleStartsAttack  = Yes
    StartsPaused              = No; so the UnpauseSpecialPowerUpgrade, below can turn it on
    InitiateSound             = HelixVoiceAttack
  End
  
  Behavior = SpecialAbilityUpdate ModuleTag_33
    SpecialPowerTemplate = SpecialAbilityHelixNapalmBomb
    StartAbilityRange = 3.0
    PreparationTime = 0
    SpecialObject = AntiSubBomb
    MaxSpecialObjects = 1
    SpecialObjectsPersistWhenOwnerDies = Yes 
    SpecialObjectsPersistent = Yes          ;Charges are persistent till lifetime expires or owner detonates them.
    UniqueSpecialObjectTargets = No        ;This would prevent multiple charges placed on the same object.
    UnpackTime              = 500     ;slight delay to drop bomb
    FlipOwnerAfterUnpacking = No
    FleeRangeAfterCompletion = 0.0         ;DOes not run away after finishing ability
    UnpackSound               = NoSound 
    LoseStealthOnTrigger      = No
    ApproachRequiresLOS       = No ; we are a helicopter, we can see everything
    NeedToFaceTarget          = No ; can drop the bomb at any angle to target

    PersistentPrepTime        = 100
    PersistenceRequiresRecharge = Yes

  End
  
  ; Behavior = UnpauseSpecialPowerUpgrade ModuleTag_38
    ; SpecialPowerTemplate = SpecialAbilityHelixNapalmBomb
    ; TriggeredBy = Upgrade_HelixNapalmBomb
  ; End
  
  ; Behavior = SubObjectsUpgrade ModuleTag_39
    ; TriggeredBy    = Upgrade_HelixNapalmBomb 
    ; ShowSubObjects = BombWing 
  ; End

  Geometry              = CYLINDER
  GeometryMajorRadius   = 35.0
  GeometryHeight        = 30.0     
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME    
  ShadowSizeX           = 89  ; minimum elevation angle above horizon. Used to limit shadow length
End

;=============================================================================
Object Boss_RussiaJetSu25

  ; *** ART Parameters ***
  SelectPortrait         = SAWarthog_L
  ButtonImage            = SAWarthog
  
  ;UpgradeCameo1 = Upgrade_RussiaCountermeasures
  ;UpgradeCameo2 = Upgrade_RussiaMissiles
  
  Draw = W3DModelDraw ModuleTag_01

    OkToChangeModelColor = Yes
    ExtraPublicBone = WeaponA01
    ExtraPublicBone = WeaponA02
    ExtraPublicBone = WeaponA03
    ExtraPublicBone = WeaponA04
    ExtraPublicBone = WeaponA05
    ExtraPublicBone = WeaponA06
    ExtraPublicBone = WeaponB01
    ExtraPublicBone = WeaponB02

    ProjectileBoneFeedbackEnabledSlots = SECONDARY

    DefaultConditionState
      Model               = RUSU-25
      WeaponLaunchBone    = PRIMARY WeaponA
      WeaponLaunchBone    = SECONDARY WeaponB
    End

    ConditionState        = JETEXHAUST
      Model               = RUSU-25
      WeaponLaunchBone    = PRIMARY WeaponA
      WeaponLaunchBone    = SECONDARY WeaponB
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail 
    End

    ConditionState       = JETEXHAUST JETAFTERBURNER
      Model               = RUSU-25
      WeaponLaunchBone    = PRIMARY WeaponA
      WeaponLaunchBone    = SECONDARY WeaponB
      ParticleSysBone     = ENGINE01 JetExhaust
      ParticleSysBone     = ENGINE02 JetExhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = REALLYDAMAGED
      Model               = RUSU-25_D
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = RUBBLE
      Model               = RUSU-25_R
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = REALLYDAMAGED JETEXHAUST
      Model               = RUSU-25_D
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = REALLYDAMAGED JETEXHAUST JETAFTERBURNER
      Model               = RUSU-25_D
      ParticleSysBone     = ENGINE01 JetExhaust
      ParticleSysBone     = ENGINE02 JetExhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = RUBBLE JETEXHAUST JETAFTERBURNER
      Model               = RUSU-25_R 
      ParticleSysBone     = ENGINE01 JetExhaust
      ParticleSysBone     = ENGINE02 JetExhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End
  End

  Draw = W3DModelDraw ModuleTag_PickBox
    DefaultConditionState
      Model               = JetPickBox
    End
  End

  ; ***DESIGN parameters ***
  DisplayName             = OBJECT:SU25
  EditorSorting           = VEHICLE
  Side                    = Boss
  TransportSlotCount      = 0          ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange             = 600.0 
  ShroudClearingRange     = 550.0

  Prerequisites
    Object        = Boss_Airfield
  End

  WeaponSet
    Conditions        = None 
    Weapon            = PRIMARY      SU25BarageWeapon
    ;PreferredAgainst    = PRIMARY     HUGE_VEHICLE VEHICLE
    ;AutoChooseSources   = PRIMARY     FROM_PLAYER FROM_SCRIPT FROM_AI 
    Weapon            = SECONDARY    SU-25BombWeapon
    ;PreferredAgainst    = SECONDARY     HUGE_VEHICLE VEHICLE
    ;AutoChooseSources   = SECONDARY     FROM_PLAYER FROM_SCRIPT FROM_AI 
  End

  ArmorSet
    Conditions           = None
    Armor                = RussiaAirplaneArmor
    DamageFX             = AAHitscanDamageFX
  End

  ; ArmorSet
    ; Conditions            = PLAYER_UPGRADE
    ; Armor                 = RussiaStealthAdvancedAirplaneArmor
    ; DamageFX              = AAHitscanDamageFX
  ; End

  BuildCost               = 16000
  BuildTime               = 28  
  ExperienceValue         = 125 125 225 425  ;Experience point value at each level
  ExperienceRequired      = 0 300 500 800   ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 1  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet             = SU25CommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect             = Su25Select
  VoiceMove               = Su25Move
  VoiceAttack             = Su25Attack
  VoiceAttackAir          = Su25Attack
  VoiceGuard              = Su25Guard
  SoundAmbient            = MigAmbientLoop
  UnitSpecificSounds
    VoiceCreate           = Su25Create
    Afterburner           = RaptorAfterburner
    VoiceGarrison         = Su25Move
    VoiceLowFuel          = Su25LowFuel
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority          = UNIT
  KindOf                 = SALVAGER PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT
  Body                   = ActiveBody ModuleTag_02
    MaxHealth            = 950.0
    InitialHealth        = 950.0
  End

  Behavior = PhysicsBehavior ModuleTag_03
    Mass = 28.0
  End

  Behavior = JetAIUpdate ModuleTag_04
    OutOfAmmoDamagePerSecond  = 1%     ; amount of damage to take per SEC (not per frame) when out of ammo
    TakeoffDistForMaxLift     = 0%   ; larger numbers give more lift sooner when taking off
    TakeoffPause              = 500
    MinHeight                 = 5
    ReturnToBaseIdleTime      = 10000         ; if idle for this long, return to base, even if not out of ammo
    AutoAcquireEnemiesWhenIdle    = Yes
    MoodAttackCheckRate           = 1
  End

  Locomotor = SET_NORMAL SU-25locomotor
  Locomotor = SET_TAXIING BasicJetTaxiLocomotor
  ;Locomotor = SET_NORMAL_UPGRADED SU-25locomotor2

;Upgrades----------------------------------------------------------
  ; Behavior = LocomotorSetUpgrade Upgrade_01
    ; TriggeredBy = Upgrade_ArmorCommandset
  ; End
  ; Behavior                = ArmorUpgrade Upgrade_02
    ; TriggeredBy           = Upgrade_RussiaCountermeasures
  ; End
    ; Behavior                = CountermeasuresBehavior Upgrade_03
    ; TriggeredBy           = Upgrade_RussiaCountermeasures
    ; FlareTemplateName     = RuCountermeasureFlareJet
    ; FlareBoneBaseName     = Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
    ; VolleySize            = 1   ; Number of flares launched per volley (requires bones)
    ; VolleyArcAngle        = 0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
    ; VolleyVelocityFactor  = 0   ; Shoots out flares at a stronger velocity with a higher value.
    ; DelayBetweenVolleys   = 200  ; Time between flare volleys
    ; NumberOfVolleys       = 5   ; Number of times the volleys will fire before reloading
    ; ReloadTime            = 7000     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
    ; EvasionRate           = 30%   ; With active flares, the specified percentage will be diverted.
    ; ReactionLaunchLatency = 0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
    ; MissileDecoyDelay     = 50   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
  ; End
  ; Behavior = WeaponBonusUpgrade Upgrade_04
    ; TriggeredBy = Upgrade_ArmorCommandset
  ; End
  ; Behavior = WeaponSetUpgrade Upgrade_05
    ; TriggeredBy = Upgrade_RussiaMissiles
  ; End 
;Deaths-------------------------------------------------------------
 ;--spinning and burning
 Behavior                            = JetSlowDeathBehavior DeathTag_01
    ProbabilityModifier = 50
    FXOnGroundDeath = FX_JetGroundDeathSmall
    OCLOnGroundDeath = OCL_SU25DeathFinalBlowUp
    FX = INITIAL FX_Su25DeathInitial
    OCL = INITIAL OCL_SU25SlowBD
 End
 ;--lifted nose up
 Behavior                            = JetSlowDeathBehavior DeathTag_02
    ProbabilityModifier = 50
    FX = INITIAL FX_Su25DeathInitial
    OCL = INITIAL OCL_SU25FastBD
 End

  Behavior = FlammableUpdate ModuleTag_05
    AflameDuration = 5000        ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500      ; this often.
  End
  Behavior                       = TransitionDamageFX ModuleTag_06
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes Psys:SmokeSmallContinuous01
    ReallyDamagedFXList1         = Loc: X:0 Y:0 Z:0 FXList:FX_MIGDamageTransition
  End

  ; Behavior = FireWeaponUpdate ModuleTag_07
    ; Weapon = SU37StealthRadarWeapon
    ; ExclusiveWeaponDelay = 1000
  ; End

  ; Behavior = FireWeaponWhenDamagedBehavior ModuleTag_08
    ; StartsActive = Yes
    ; ReactionWeaponPristine = DroneRevealWeapon
    ; ReactionWeaponDamaged = DroneRevealWeapon
    ; ReactionWeaponReallyDamaged = DroneRevealWeapon
    ; ReactionWeaponRubble = DroneRevealWeapon
    ; DamageTypes = NONE +MELEE
  ; End

  Geometry                 = Box
  GeometryIsSmall          = Yes
  GeometryMajorRadius      = 14.0
  GeometryMinorRadius      = 7.0
  GeometryHeight           = 5.0
  Shadow                   = SHADOW_VOLUME
  Shadow                   = SHADOW_VOLUME
  ShadowSizeX              = 89  ; minimum elevation angle above horizon. Used to limit shadow length
  Scale = 1.02
End

;--------------------------------------------------------------------------------
Object SU25SlowBDObject
  ; *** ART Parameters ***
  Draw                = W3DModelDraw ModuleTag_01
    DefaultConditionState
      Model               = RUSU-25_R
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End
  End
  ; *** ENGINEERING Parameters ***
  KindOf = CAN_CAST_REFLECTIONS NO_COLLIDE HULK IGNORED_IN_GUI UNATTACKABLE
  Behavior                  = PhysicsBehavior ModuleTag_02
    Mass                    = 0.8
    AllowCollideForce       = No
    ShockResistance = 1
    CenterOfMassOffset       = 1
  End
  Behavior = SlowDeathBehavior DeathTag_01
    ;FX                  = FINAL   FX_JetHitGround
    OCL                 = FINAL   OCL_SU25DeathWatercheck
    Weapon              = FINAL   FallingJetWeapon
  End
  Behavior = HeightDieUpdate DeathTag_02
    TargetHeight = 1
    TargetHeightIncludesStructures = Yes
    InitialDelay                    = 1 ; Can't explode in the first second so we don't explode on the pad
  End
  Geometry                 = Box
  GeometryIsSmall          = Yes
  GeometryMajorRadius      = 1.0
  GeometryMinorRadius      = 1.0
  GeometryHeight           = 1.0
  Shadow                   = SHADOW_VOLUME
  ShadowSizeX              = 89  ; minimum elevation angle above horizon. Used to limit shadow length.
End

;--------------------------------------------------------------------------------
Object SU25FastBDObject
  Draw                = W3DModelDraw ModuleTag_01
    DefaultConditionState
      Model               = RUSU-25_R
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End
  End
  KindOf = CAN_CAST_REFLECTIONS NO_COLLIDE HULK IGNORED_IN_GUI UNATTACKABLE
  Behavior                  = PhysicsBehavior ModuleTag_02
    Mass                    = 1.83
    AllowCollideForce       = No
    ShockResistance = 1
    CenterOfMassOffset       = 1
  End
  Behavior = SlowDeathBehavior DeathTag_01
    ;FX                  = FINAL   FX_JetHitGround
    OCL                 = FINAL   OCL_SU25DeathWatercheck
    Weapon              = FINAL   FallingJetWeapon
  End
  Behavior = HeightDieUpdate DeathTag_02
    TargetHeight = 1
    TargetHeightIncludesStructures = Yes
    InitialDelay                    = 1 ; Can't explode in the first second so we don't explode on the pad
  End
  Geometry                 = Box
  GeometryIsSmall          = Yes
  GeometryMajorRadius      = 1.0
  GeometryMinorRadius      = 1.0
  GeometryHeight           = 1.0
  Shadow                   = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length.
End

;==============================================================================================
Object Boss_RussiaBomberSu24

  ; *** ART Parameters ***
  SelectPortrait = IronDragon_L
  ButtonImage = IronDragon

  ;UpgradeCameo1 = NONE
  ;UpgradeCameo2 = NONE

  Draw = W3DModelDraw ModuleTag_01

    OkToChangeModelColor = No
    ParticlesAttachedToAnimatedBones = Yes
    ProjectileBoneFeedbackEnabledSlots = PRIMARY

    DefaultConditionState
      Model = CWCruSu24
      Animation = CWCruSu24.CWCruSu24
      AnimationMode = ONCE_BACKWARDS
      Flags = START_FRAME_FIRST MAINTAIN_FRAME_ACROSS_STATES
      WeaponLaunchBone = PRIMARY WEAPONA
      ParticleSysBone = Engine01 CWCgenJetAfterburner
      ParticleSysBone = Engine02 CWCgenJetAfterburner
      ParticleSysBone = Engine01 CWCgenJetAfterburnerHeat
      ParticleSysBone = Engine02 CWCgenJetAfterburnerHeat
      ParticleSysBone = Wingtip01 CWCgenJetContrail
      ParticleSysBone = Wingtip02 CWCgenJetContrail
      HideSubObject = ENGINE_N
      ShowSubObject = ENGINE_AB
    End

    ConditionState = REALLYDAMAGED
      Model = CWCruSu24_d
      Animation = CWCruSu24_d.CWCruSu24_d
      AnimationMode = ONCE_BACKWARDS
      Flags = START_FRAME_FIRST MAINTAIN_FRAME_ACROSS_STATES
      ; damage
      ParticleSysBone = Smoke01 JetSmoke
      ParticleSysBone = Engine01 JetEngineDamagedSmoke
      HideSubObject = ENGINE_N
      ShowSubObject = ENGINE_AB
    End

    ConditionState = RUBBLE
      Model = CWCruSu24_d
      Animation = CWCruSu24_d.CWCruSu24_d
      AnimationMode = ONCE_BACKWARDS
      Flags = START_FRAME_FIRST MAINTAIN_FRAME_ACROSS_STATES
      HideSubObject = ENGINE_N
      ShowSubObject = ENGINE_AB
    End

    ConditionState = DOOR_1_OPENING
      Model = CWCruSu24
      Animation = CWCruSu24.CWCruSu24
      AnimationMode = ONCE
      Flags = MAINTAIN_FRAME_ACROSS_STATES
      HideSubObject = ENGINE_N
      ShowSubObject = ENGINE_AB
    End

    ConditionState = DOOR_1_CLOSING
      Model = CWCruSu24
      Animation = CWCruSu24.CWCruSu24
      AnimationMode = ONCE_BACKWARDS
      Flags = MAINTAIN_FRAME_ACROSS_STATES
      HideSubObject = ENGINE_N
      ShowSubObject = ENGINE_AB
    End

    ConditionState = DOOR_1_OPENING REALLYDAMAGED
      Model = CWCruSu24_d
      Animation = CWCruSu24_d.CWCruSu24_d
      AnimationMode = ONCE
      Flags = MAINTAIN_FRAME_ACROSS_STATES
      HideSubObject = ENGINE_N
      ShowSubObject = ENGINE_AB
    End

    ConditionState = DOOR_1_CLOSING REALLYDAMAGED
      Model = CWCruSu24_d
      Animation = CWCruSu24_d.CWCruSu24_d
      AnimationMode = ONCE_BACKWARDS
      Flags = MAINTAIN_FRAME_ACROSS_STATES
      HideSubObject = ENGINE_N
      ShowSubObject = ENGINE_AB
    End

    ConditionState = DOOR_1_OPENING RUBBLE
      Model = CWCruSu24_d
      Animation = CWCruSu24_d.CWCruSu24_d
      AnimationMode = ONCE
      Flags = MAINTAIN_FRAME_ACROSS_STATES
      HideSubObject = ENGINE_N
      ShowSubObject = ENGINE_AB
    End

    ConditionState = DOOR_1_CLOSING RUBBLE
      Model = CWCruSu24_d
      Animation = CWCruSu24_d.CWCruSu24_d
      AnimationMode = ONCE_BACKWARDS
      Flags = MAINTAIN_FRAME_ACROSS_STATES
      HideSubObject = ENGINE_N
      ShowSubObject = ENGINE_AB
    End

  End

  ; ***DESIGN parameters ***
  DisplayName = OBJECT:Su24
  EditorSorting = VEHICLE
  Side = Boss
  TransportSlotCount = 0 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange = 250.0
  ShroudClearingRange = 240.0
  Prerequisites
    Object = Boss_Airfield
  End
  BuildCost = 22000
  BuildTime = 25.0 ;in seconds
  WeaponSet
    Conditions = None
    Weapon = PRIMARY Su24Bomb
  End
  ArmorSet
    Conditions = None
    Armor = RussiaAirplaneArmor
    DamageFX = None
  End

  ;CWCExpMarker: Su-24
  ExperienceValue = 1500 2250 3000 4500 ;Experience point value at each level
  IsTrainable = Yes ;Can gain experience

  CrusherLevel = 1 ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel = 2 ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = SU24CommandSet

  ; *** AUDIO Parameters ***
  ;VoiceSelect = CWCruSu24VoiceSelect
  VoiceSelect             = RazorVoiceSelect
  VoiceMove               = RazorVoiceMove
  VoiceAttack             = RazorVoiceAttack
  VoiceGuard              = RazorVoiceMove
  SoundAmbient = CWCusHeavyFSeriesEngineLoop
  SoundAmbientRubble = NoSound
  UnitSpecificSounds
    VoiceCreate = RazorVoiceCreate
    ;VoiceEject = CWCruSu24VoiceEject
  End   

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = AIRCRAFT CAN_ATTACK CAN_CAST_REFLECTIONS PRELOAD SCORE SELECTABLE VEHICLE 

  Body = ActiveBody ModuleTag_02
    MaxHealth = 600.0
    InitialHealth = 600.0
  End
  
  Behavior = JetAIUpdate ModuleTag_04
    OutOfAmmoDamagePerSecond  = 1%     ; amount of damage to take per SEC (not per frame) when out of ammo
    TakeoffDistForMaxLift     = 0%   ; larger numbers give more lift sooner when taking off
    TakeoffPause              = 500
    MinHeight                 = 5
    ReturnToBaseIdleTime      = 10000         ; if idle for this long, return to base, even if not out of ammo
    AutoAcquireEnemiesWhenIdle    = Yes
    MoodAttackCheckRate           = 1
  End
  
  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 500.0
  End

  ; Behavior = DeliverPayloadAIUpdate ModuleTag_06
  ; End
  
  Locomotor = SET_NORMAL Su24Locomotor
  Locomotor = SET_TAXIING BasicJetTaxiLocomotor

  ; Behavior = TransportContain ModuleTag_07
    ; Slots = 3
    ; ScatterNearbyOnExit = No
    ; OrientLikeContainerOnExit = Yes
    ; KeepContainerVelocityOnExit = Yes
    ; ExitPitchRate = 30
    ; ExitBone = WEAPONA
    ; AllowInsideKindOf = PROJECTILE
    ; DoorOpenTime = 0 ; this prevents the Contain module from messing with the doors, since we want DeliverPayload to handle 'em
    ; NumberOfExitPaths = 3
    ; DestroyRidersWhoAreNotFreeToExit = Yes ; 'destroy' as opposed to 'kill'
    ; ExitSound = CWCruSu24VoiceLeave
  ; End

  ; Behavior = SpecialPowerCompletionDie ModuleTag_08
    ; SpecialPowerTemplate = SUPERWEAPON_CWCruSu24ClusterBombStrike
  ; End

; --- begin Death modules ---
  Behavior = TransitionDamageFX ModuleTag_Death01
    DamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenTankDeathSmokeDamaged
    DamagedFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDamageTransition
    ;
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenTankDeathSmokeReallyDamaged
    ReallyDamagedFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDamageTransition
    ;
    RubbleParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenTankDeathSmokeRubble
    RubbleFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDamageTransition
  End
  Behavior = JetSlowDeathBehavior ModuleTag_Death02
    DestructionDelay = 9000
    RollRate = 0.1
    RollRateDelta = 105%
    PitchRate = 0
    FallHowFast = 70.0%
    ;
    FXInitialDeath = FX_CWCgenJetDeathInitial
    ;
    DelaySecondaryFromInitialDeath = 250 ;in milliseconds
    FXSecondary = FX_CWCgenJetDeathSecondary
    ;
    FXHitGround = FX_CWCgenJetDeathHitGround
    OCLHitGround = OCL_CWCruSu24_k
    ;
    FXOnGroundDeath = FX_CWCgenJetOnGroundDeath
    OCLOnGroundDeath = OCL_CWCruSu24_k
  End
; --- end Death modules ---

  ClientUpdate = AnimatedParticleSysBoneClientUpdate ModuleTag_Client01
  End

  ; Behavior = ObjectCreationUpgrade ModuleTag_RadarDrone
    ; UpgradeObject = OCL_CWCgenRadarDrone
    ; TriggeredBy = Upgrade_CWCgenRadarDrone
  ; End

  ; Behavior = GrantUpgradeCreate ModuleTag_RadarDroneCreate
    ; UpgradeToGrant = Upgrade_CWCgenRadarDrone
  ; End

  Geometry = Box
  GeometryIsSmall = Yes
  GeometryMajorRadius = 24.0
  GeometryMinorRadius = 14.0
  GeometryHeight = 12.0
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45 ; minimum elevation angle above horizon. Used to limit shadow length
  Scale = 1.05
End

;==============================================================================================
Object Boss_UkraineBomberSu24

  ; *** ART Parameters ***
  SelectPortrait = IronDragon_L
  ButtonImage = IronDragon

  ;UpgradeCameo1 = NONE
  ;UpgradeCameo2 = NONE

  Draw = W3DModelDraw ModuleTag_01

    OkToChangeModelColor = No
    ParticlesAttachedToAnimatedBones = Yes
    ProjectileBoneFeedbackEnabledSlots = PRIMARY

    DefaultConditionState
      Model = CWCruSu24
      Animation = CWCruSu24.CWCruSu24
      AnimationMode = ONCE_BACKWARDS
      Flags = START_FRAME_FIRST MAINTAIN_FRAME_ACROSS_STATES
      WeaponLaunchBone = PRIMARY WEAPONA
      ParticleSysBone = Engine01 CWCgenJetAfterburner
      ParticleSysBone = Engine02 CWCgenJetAfterburner
      ParticleSysBone = Engine01 CWCgenJetAfterburnerHeat
      ParticleSysBone = Engine02 CWCgenJetAfterburnerHeat
      ParticleSysBone = Wingtip01 CWCgenJetContrail
      ParticleSysBone = Wingtip02 CWCgenJetContrail
      HideSubObject = ENGINE_N
      ShowSubObject = ENGINE_AB
    End

    ConditionState = REALLYDAMAGED
      Model = CWCruSu24_d
      Animation = CWCruSu24_d.CWCruSu24_d
      AnimationMode = ONCE_BACKWARDS
      Flags = START_FRAME_FIRST MAINTAIN_FRAME_ACROSS_STATES
      ; damage
      ParticleSysBone = Smoke01 JetSmoke
      ParticleSysBone = Engine01 JetEngineDamagedSmoke
      HideSubObject = ENGINE_N
      ShowSubObject = ENGINE_AB
    End

    ConditionState = RUBBLE
      Model = CWCruSu24_d
      Animation = CWCruSu24_d.CWCruSu24_d
      AnimationMode = ONCE_BACKWARDS
      Flags = START_FRAME_FIRST MAINTAIN_FRAME_ACROSS_STATES
      HideSubObject = ENGINE_N
      ShowSubObject = ENGINE_AB
    End

    ConditionState = DOOR_1_OPENING
      Model = CWCruSu24
      Animation = CWCruSu24.CWCruSu24
      AnimationMode = ONCE
      Flags = MAINTAIN_FRAME_ACROSS_STATES
      HideSubObject = ENGINE_N
      ShowSubObject = ENGINE_AB
    End

    ConditionState = DOOR_1_CLOSING
      Model = CWCruSu24
      Animation = CWCruSu24.CWCruSu24
      AnimationMode = ONCE_BACKWARDS
      Flags = MAINTAIN_FRAME_ACROSS_STATES
      HideSubObject = ENGINE_N
      ShowSubObject = ENGINE_AB
    End

    ConditionState = DOOR_1_OPENING REALLYDAMAGED
      Model = CWCruSu24_d
      Animation = CWCruSu24_d.CWCruSu24_d
      AnimationMode = ONCE
      Flags = MAINTAIN_FRAME_ACROSS_STATES
      HideSubObject = ENGINE_N
      ShowSubObject = ENGINE_AB
    End

    ConditionState = DOOR_1_CLOSING REALLYDAMAGED
      Model = CWCruSu24_d
      Animation = CWCruSu24_d.CWCruSu24_d
      AnimationMode = ONCE_BACKWARDS
      Flags = MAINTAIN_FRAME_ACROSS_STATES
      HideSubObject = ENGINE_N
      ShowSubObject = ENGINE_AB
    End

    ConditionState = DOOR_1_OPENING RUBBLE
      Model = CWCruSu24_d
      Animation = CWCruSu24_d.CWCruSu24_d
      AnimationMode = ONCE
      Flags = MAINTAIN_FRAME_ACROSS_STATES
      HideSubObject = ENGINE_N
      ShowSubObject = ENGINE_AB
    End

    ConditionState = DOOR_1_CLOSING RUBBLE
      Model = CWCruSu24_d
      Animation = CWCruSu24_d.CWCruSu24_d
      AnimationMode = ONCE_BACKWARDS
      Flags = MAINTAIN_FRAME_ACROSS_STATES
      HideSubObject = ENGINE_N
      ShowSubObject = ENGINE_AB
    End

  End

  ; ***DESIGN parameters ***
  DisplayName = OBJECT:Su24
  EditorSorting = VEHICLE
  Side = Boss
  TransportSlotCount = 0 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange = 250.0
  ShroudClearingRange = 240.0
  Prerequisites
    Object = Boss_UkraineAirfield
  End
  BuildCost = 35000
  BuildTime = 30.0 ;in seconds
  WeaponSet
    Conditions = None
    Weapon = PRIMARY Su24Bomb
  End
  ArmorSet
    Conditions = None
    Armor = RussiaAirplaneArmor
    DamageFX = None
  End

  ;CWCExpMarker: Su-24
  ExperienceValue = 1500 2250 3000 4500 ;Experience point value at each level
  IsTrainable = Yes ;Can gain experience

  CrusherLevel = 1 ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel = 2 ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = SU24CommandSet

  ; *** AUDIO Parameters ***
  ;VoiceSelect = CWCruSu24VoiceSelect
  VoiceSelect             = RazorVoiceSelect
  VoiceMove               = RazorVoiceMove
  VoiceAttack             = RazorVoiceAttack
  VoiceGuard              = RazorVoiceMove
  SoundAmbient = CWCusHeavyFSeriesEngineLoop
  SoundAmbientRubble = NoSound
  UnitSpecificSounds
    VoiceCreate = RazorVoiceCreate
    ;VoiceEject = CWCruSu24VoiceEject
  End   

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = AIRCRAFT CAN_ATTACK CAN_CAST_REFLECTIONS PRELOAD SCORE SELECTABLE VEHICLE 

  Body = ActiveBody ModuleTag_02
    MaxHealth = 600.0
    InitialHealth = 600.0
  End
  
  Behavior = JetAIUpdate ModuleTag_04
    OutOfAmmoDamagePerSecond  = 1%     ; amount of damage to take per SEC (not per frame) when out of ammo
    TakeoffDistForMaxLift     = 0%   ; larger numbers give more lift sooner when taking off
    TakeoffPause              = 500
    MinHeight                 = 5
    ReturnToBaseIdleTime      = 10000         ; if idle for this long, return to base, even if not out of ammo
    AutoAcquireEnemiesWhenIdle    = Yes
    MoodAttackCheckRate           = 1
  End
  
  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 500.0
  End

  ; Behavior = DeliverPayloadAIUpdate ModuleTag_06
  ; End
  
  Locomotor = SET_NORMAL Su24Locomotor
  Locomotor = SET_TAXIING BasicJetTaxiLocomotor

  ; Behavior = TransportContain ModuleTag_07
    ; Slots = 3
    ; ScatterNearbyOnExit = No
    ; OrientLikeContainerOnExit = Yes
    ; KeepContainerVelocityOnExit = Yes
    ; ExitPitchRate = 30
    ; ExitBone = WEAPONA
    ; AllowInsideKindOf = PROJECTILE
    ; DoorOpenTime = 0 ; this prevents the Contain module from messing with the doors, since we want DeliverPayload to handle 'em
    ; NumberOfExitPaths = 3
    ; DestroyRidersWhoAreNotFreeToExit = Yes ; 'destroy' as opposed to 'kill'
    ; ExitSound = CWCruSu24VoiceLeave
  ; End

  ; Behavior = SpecialPowerCompletionDie ModuleTag_08
    ; SpecialPowerTemplate = SUPERWEAPON_CWCruSu24ClusterBombStrike
  ; End

; --- begin Death modules ---
  Behavior = TransitionDamageFX ModuleTag_Death01
    DamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenTankDeathSmokeDamaged
    DamagedFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDamageTransition
    ;
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenTankDeathSmokeReallyDamaged
    ReallyDamagedFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDamageTransition
    ;
    RubbleParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenTankDeathSmokeRubble
    RubbleFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDamageTransition
  End
  Behavior = JetSlowDeathBehavior ModuleTag_Death02
    DestructionDelay = 9000
    RollRate = 0.1
    RollRateDelta = 105%
    PitchRate = 0
    FallHowFast = 70.0%
    ;
    FXInitialDeath = FX_CWCgenJetDeathInitial
    ;
    DelaySecondaryFromInitialDeath = 250 ;in milliseconds
    FXSecondary = FX_CWCgenJetDeathSecondary
    ;
    FXHitGround = FX_CWCgenJetDeathHitGround
    OCLHitGround = OCL_CWCruSu24_k
    ;
    FXOnGroundDeath = FX_CWCgenJetOnGroundDeath
    OCLOnGroundDeath = OCL_CWCruSu24_k
  End
; --- end Death modules ---

  ClientUpdate = AnimatedParticleSysBoneClientUpdate ModuleTag_Client01
  End

  ; Behavior = ObjectCreationUpgrade ModuleTag_RadarDrone
    ; UpgradeObject = OCL_CWCgenRadarDrone
    ; TriggeredBy = Upgrade_CWCgenRadarDrone
  ; End

  ; Behavior = GrantUpgradeCreate ModuleTag_RadarDroneCreate
    ; UpgradeToGrant = Upgrade_CWCgenRadarDrone
  ; End

  Geometry = Box
  GeometryIsSmall = Yes
  GeometryMajorRadius = 24.0
  GeometryMinorRadius = 14.0
  GeometryHeight = 12.0
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45 ; minimum elevation angle above horizon. Used to limit shadow length
  Scale = 1.05
End

;------------------------------------------------------------------------------
Object Boss_RussiaJetMIG29

  ; *** ART Parameters ***
  SelectPortrait = RVMIG29
  ButtonImage = RVMIG29

  ;UpgradeCameo1 = NONE
  ;UpgradeCameo2 = NONE

  Draw = W3DOverlordAircraftDraw ModuleTag_01

    OkToChangeModelColor = No
    ParticlesAttachedToAnimatedBones = Yes
    ProjectileBoneFeedbackEnabledSlots = PRIMARY SECONDARY

    DefaultConditionState
      Model = CWCruMiG29
      WeaponLaunchBone = PRIMARY MISSILE
      WeaponLaunchBone = SECONDARY MISSILEB
      ShowSubObject = TURBINE_N
      HideSubObject = TURBINE_AB
    End

    ConditionState = REALLYDAMAGED
      Model = CWCruMiG29_d
      ShowSubObject = TURBINE_N
      HideSubObject = TURBINE_AB
    End

    ConditionState = RUBBLE
      Model = CWCruMiG29_d
      ShowSubObject = TURBINE_N
      HideSubObject = TURBINE_AB
    End
    AliasConditionState = RUBBLE JETEXHAUST
    AliasConditionState = RUBBLE JETAFTERBURNER
    AliasConditionState = RUBBLE JETEXHAUST JETAFTERBURNER

    ConditionState = JETEXHAUST
      Model = CWCruMiG29
      ParticleSysBone = Wingtip01 CWCgenJetContrail
      ParticleSysBone = Wingtip02 CWCgenJetContrail
      ShowSubObject = TURBINE_N
      HideSubObject = TURBINE_AB
    End

    ConditionState = REALLYDAMAGED JETEXHAUST
      Model = CWCruMiG29_d
      ParticleSysBone = Wingtip01 CWCgenJetContrail
      ParticleSysBone = Wingtip02 CWCgenJetContrail
      ShowSubObject = TURBINE_N
      HideSubObject = TURBINE_AB
    End

    ConditionState = JETAFTERBURNER
      Model = CWCruMiG29
      ParticleSysBone = Engine01 CWCgenJetAfterburner
      ParticleSysBone = Engine02 CWCgenJetAfterburner
      ParticleSysBone = Engine01 CWCgenJetAfterburnerHeat
      ParticleSysBone = Engine02 CWCgenJetAfterburnerHeat
      HideSubObject = TURBINE_N
      ShowSubObject = TURBINE_AB
    End
    AliasConditionState = JETAFTERBURNER JETEXHAUST

    ConditionState = REALLYDAMAGED JETAFTERBURNER
      Model = CWCruMiG29_d
      ParticleSysBone = Engine01 CWCgenJetAfterburner
      ParticleSysBone = Engine02 CWCgenJetAfterburner
      ParticleSysBone = Engine01 CWCgenJetAfterburnerHeat
      ParticleSysBone = Engine02 CWCgenJetAfterburnerHeat
      HideSubObject = TURBINE_N
      ShowSubObject = TURBINE_AB
    End
    AliasConditionState = REALLYDAMAGED JETAFTERBURNER JETEXHAUST

  End

  Draw = W3DTruckDraw ModuleTag_GearDraw

    OkToChangeModelColor = No
    ParticlesAttachedToAnimatedBones = Yes
    AttachToBoneInAnotherModule = ROOT

    DefaultConditionState
      Model = CWCruMiG29_r
      Animation = CWCruMiG29_r.CWCruMiG29_r
      AnimationMode = ONCE_BACKWARDS
      Flags = START_FRAME_FIRST MAINTAIN_FRAME_ACROSS_STATES
      HideSubObject = HLIGHT01
    End
    AliasConditionState = REALLYDAMAGED

    ConditionState = JETEXHAUST
      Model = CWCruMiG29_r
      Animation = CWCruMiG29_r.CWCruMiG29_r
      AnimationMode = ONCE
      Flags = MAINTAIN_FRAME_ACROSS_STATES
      HideSubObject = HLIGHT01
    End
    AliasConditionState = REALLYDAMAGED JETEXHAUST
    AliasConditionState = JETAFTERBURNER
    AliasConditionState = JETAFTERBURNER JETEXHAUST
    AliasConditionState = REALLYDAMAGED JETAFTERBURNER
    AliasConditionState = REALLYDAMAGED JETAFTERBURNER JETEXHAUST
    AliasConditionState = RUBBLE
    AliasConditionState = RUBBLE JETAFTERBURNER
    AliasConditionState = RUBBLE JETEXHAUST
    AliasConditionState = RUBBLE JETAFTERBURNER JETEXHAUST

    ConditionState = NIGHT
      Model = CWCruMiG29_r
      Animation = CWCruMiG29_r.CWCruMiG29_r
      AnimationMode = ONCE_BACKWARDS
      Flags = START_FRAME_FIRST MAINTAIN_FRAME_ACROSS_STATES
      ShowSubObject = HLIGHT01
    End
    AliasConditionState = NIGHT REALLYDAMAGED

    ConditionState = NIGHT JETEXHAUST
      Model = CWCruMiG29_r
      Animation = CWCruMiG29_r.CWCruMiG29_r
      AnimationMode = ONCE
      Flags = MAINTAIN_FRAME_ACROSS_STATES
      HideSubObject = HLIGHT01
    End
    AliasConditionState = NIGHT REALLYDAMAGED JETEXHAUST
    AliasConditionState = NIGHT JETAFTERBURNER
    AliasConditionState = NIGHT JETAFTERBURNER JETEXHAUST
    AliasConditionState = NIGHT REALLYDAMAGED JETAFTERBURNER
    AliasConditionState = NIGHT REALLYDAMAGED JETAFTERBURNER JETEXHAUST
    AliasConditionState = NIGHT RUBBLE
    AliasConditionState = NIGHT RUBBLE JETAFTERBURNER
    AliasConditionState = NIGHT RUBBLE JETEXHAUST
    AliasConditionState = NIGHT RUBBLE JETAFTERBURNER JETEXHAUST

    ; These parameters are only used if the model has a separate suspension,
    ; and the locomotor has HasSuspension = Yes.

    RightFrontTireBone = TIRE01
    LeftFrontTireBone = TIRE02
    MidRightFrontTireBone = TIRE03
    ;MidLeftFrontTireBone = TIRE04
    ;------------------------------
    ;MidRightMidTireBone = TIRE05
    ;MidLeftMidTireBone = TIRE06
    ;------------------------------
    ;MidRightRearTireBone = TIRE07
    ;MidLeftRearTireBone = TIRE08
    ;RightRearTireBone = TIRE09
    ;LeftRearTireBone = TIRE10

    TireRotationMultiplier = 0.4 ; this * speed = rotation.

  End

  ; ***DESIGN parameters ***
  DisplayName = OBJECT:MIG29
  EditorSorting = VEHICLE
  Side = Boss
  TransportSlotCount = 0 ;how many "slots" we take in a transport (0 == not transportable)

  ;EnergyProduction = -10

  VisionRange = 350
  ShroudClearingRange = 330.0

  Prerequisites
    Object = Boss_Airfield
  End

  WeaponSet
    Conditions = None
	Weapon              = PRIMARY     RaptorJetMissileWeapon
    PreferredAgainst    = PRIMARY     INFANTRY VEHICLE AIRCRAFT STRUCTURE
    ; Weapon = PRIMARY CWCruR27_MRAAM_MiG29 ; ClipSize = 2
    ; PreferredAgainst = PRIMARY AIRCRAFT
    ; AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
    ; Weapon = SECONDARY CWCruR73_SRAAM_MiG29 ; ClipSize = 4
  End

  ArmorSet
    Conditions = None
    Armor = RussiaAirplaneArmor
    DamageFX = None
  End

  BuildCost = 17000
  BuildTime = 15

  ;CWCExpMarker: MiG-29
  ExperienceValue = 1200 1800 2400 3600 ;Experience point value at each level
  ExperienceRequired = 0 2443 4886 8550 ;Experience points needed to gain each level
  IsTrainable = Yes ;Can gain experience

  CrusherLevel = 1 ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel = 2 ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = FighterJetCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = CWCruMiG29VoiceSelect
  VoiceMove = CWCruMiG29VoiceMove
  VoiceAttackAir = CWCruMiG29VoiceAttack
  VoiceGuard = CWCruMiG29VoiceGuard
  SoundAmbient = CWCruMiGSeriesEngineLoop
  UnitSpecificSounds
    VoiceCreate = CWCruMiG29VoiceCreate
    Afterburner = CWCgenJetAfterburner
    VoiceGarrison = CWCruMiG29VoiceMove
    VoiceLowFuel = CWCruMiG29VoiceFuel
    ;VoiceEject = CWCruMiG29VoiceEject
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = AIRCRAFT CAN_ATTACK CAN_CAST_REFLECTIONS PRELOAD SCORE SELECTABLE VEHICLE
  Body = ActiveBody ModuleTag_02
    MaxHealth = 750.0
    InitialHealth = 750.0
  End

  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 500.0
  End

  Behavior = JetAIUpdate ModuleTag_06
    KeepsParkingSpaceWhenAirborne = Yes
    MinHeight = 5
    NeedsRunway = Yes
    OutOfAmmoDamagePerSecond = 1%     ; amount of damage to take per SEC (not per frame) when out of ammo
                                        ; note that it's expressed as a percent of max health, not an absolute
    ReturnToBaseIdleTime = 10000 ; if idle for this long, return to base, even if not out of ammo
    TakeoffPause = 1000
    TakeoffDistForMaxLift = 0%   ; larger numbers give more lift sooner when taking off
    AutoAcquireEnemiesWhenIdle = Yes
    LockonTime = 1000
    ;LockonCursor = CWCgenLockOnCursor
    LockonInitialDist = 50
    LockonFreq = 1
    LockonAngleSpin = 1440
    LockonBlinky = No
  End

  Locomotor = SET_NORMAL CWCruMiG29Locomotor
  Locomotor = SET_TAXIING BasicJetTaxiLocomotor

  ; Behavior = SpecialAbility ModuleTag_BombDrop01
    ; SpecialPowerTemplate = SUPERWEAPON_CWCruMiG29BombStrike
    ; UpdateModuleStartsAttack = No
    ; StartsPaused = No
    ; InitiateSound = CWCruMiG29VoiceAttack
  ; End

  ; Behavior = SpecialAbilityUpdate ModuleTag_BombDrop02
    ; SpecialPowerTemplate = SUPERWEAPON_CWCruMiG29BombStrike
    ; StartAbilityRange = 75
    ; SpecialObject = CWCruFAB1000
    ; SpecialObjectsPersistWhenOwnerDies = Yes
    ; SpecialObjectsPersistent = Yes
    ; ApproachRequiresLOS = No
    ; NeedToFaceTarget = No
  ; End

  ; Behavior = HelixContain ModuleTag_07
    ; Slots = 1
    ; DamagePercentToUnits = 100%
    ; AllowInsideKindOf = PORTABLE_STRUCTURE
    ; PassengersAllowedToFire = Yes
    ; ShouldDrawPips = No
    ; PayloadTemplateName = CWCruMiG29_SD_R73s
  ; End
  ; Behavior = ProductionUpdate ModuleTag_07b
  ; End

  ; Behavior = CountermeasuresBehavior ModuleTag_08
    ; TriggeredBy = Upgrade_CWCruPreSetUpgrades
    ; FlareTemplateName = CWCruCountermeasureFlare
    ; FlareBoneBaseName = FLARE ; Name of the base flare bone (Flare01, Flare02, Flare03)
    ; VolleySize = 4 ; Number of flares launched per volley (requires bones)
    ; VolleyArcAngle = 90.0 ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
    ; VolleyVelocityFactor = 2.5 ; Shoots out flares at a stronger velocity with a higher value.
    ; DelayBetweenVolleys = 500 ; Time between flare volleys
    ; NumberOfVolleys = 3 ; Number of times the volleys will fire before reloading
    ; ReloadTime = 5000 ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
    ; EvasionRate = 25%   ; With active flares, the specified percentage will be diverted.
    ; ReactionLaunchLatency = 0 ; Reaction between getting shot at and the firing of the first volley of countermeasures.
    ; MissileDecoyDelay = 50 ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
  ; End

; --- begin Death modules ---
  Behavior = TransitionDamageFX ModuleTag_Death01
    DamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenTankDeathSmokeDamaged
    DamagedFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDamageTransition
    ;
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenTankDeathSmokeReallyDamaged
    ReallyDamagedFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDamageTransition
    ;
    RubbleParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenTankDeathSmokeRubble
    RubbleFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDamageTransition
  End
  Behavior = JetSlowDeathBehavior ModuleTag_Death02
    DestructionDelay = 9000
    RollRate = 0.1
    RollRateDelta = 105%
    PitchRate = 0
    FallHowFast = 70.0%
    ;
    FXInitialDeath = FX_CWCgenJetDeathInitial
    ;
    DelaySecondaryFromInitialDeath = 250 ;in milliseconds
    FXSecondary = FX_CWCgenJetDeathSecondary
    ;
    FXHitGround = FX_CWCgenJetDeathHitGround
    OCLHitGround = OCL_CWCruMiG29_k
    ;
    FXOnGroundDeath = FX_CWCgenJetOnGroundDeath
    OCLOnGroundDeath = OCL_CWCruMiG29_k
  End
; --- end Death modules ---

  ; Behavior = FireWeaponUpdate ModuleTag_Radar
    ; Weapon = CWCruMiG29RadarWeapon
  ; End

  ; ClientUpdate = AnimatedParticleSysBoneClientUpdate ModuleTag_Client01
  ; End

  Behavior = CommandButtonHuntUpdate ModuleTag_UnguidedBombs01
  End

  ; Behavior = ObjectCreationUpgrade ModuleTag_RadarDrone
    ; UpgradeObject = OCL_CWCgenRadarDrone
    ; TriggeredBy = Upgrade_CWCgenRadarDrone
  ; End

  ; Behavior = GrantUpgradeCreate ModuleTag_RadarDroneCreate
    ; UpgradeToGrant = Upgrade_CWCgenRadarDrone
  ; End

  ; Behavior = EjectPilotDie ModuleTag_Pilot
    ; ExemptStatus = HIJACKED
    ; AirCreationList = OCL_EjectCWCruPilot
    ; VeterancyLevels =  ALL
  ; End

  Geometry = Box
  GeometryIsSmall = Yes
  GeometryMajorRadius = 24.0
  GeometryMinorRadius = 14.0
  GeometryHeight = 12.0
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45
  ;Scale = 1.0
End

;------------------------------------------------------------------------------
Object Boss_UkraineJetMIG29

  ; *** ART Parameters ***
  SelectPortrait = RVMIG29
  ButtonImage = RVMIG29

  ;UpgradeCameo1 = NONE
  ;UpgradeCameo2 = NONE

  Draw = W3DOverlordAircraftDraw ModuleTag_01

    OkToChangeModelColor = No
    ParticlesAttachedToAnimatedBones = Yes
    ProjectileBoneFeedbackEnabledSlots = PRIMARY SECONDARY

    DefaultConditionState
      Model = CWCruMiG29
      WeaponLaunchBone = PRIMARY MISSILE
      WeaponLaunchBone = SECONDARY MISSILEB
      ShowSubObject = TURBINE_N
      HideSubObject = TURBINE_AB
    End

    ConditionState = REALLYDAMAGED
      Model = CWCruMiG29_d
      ShowSubObject = TURBINE_N
      HideSubObject = TURBINE_AB
    End

    ConditionState = RUBBLE
      Model = CWCruMiG29_d
      ShowSubObject = TURBINE_N
      HideSubObject = TURBINE_AB
    End
    AliasConditionState = RUBBLE JETEXHAUST
    AliasConditionState = RUBBLE JETAFTERBURNER
    AliasConditionState = RUBBLE JETEXHAUST JETAFTERBURNER

    ConditionState = JETEXHAUST
      Model = CWCruMiG29
      ParticleSysBone = Wingtip01 CWCgenJetContrail
      ParticleSysBone = Wingtip02 CWCgenJetContrail
      ShowSubObject = TURBINE_N
      HideSubObject = TURBINE_AB
    End

    ConditionState = REALLYDAMAGED JETEXHAUST
      Model = CWCruMiG29_d
      ParticleSysBone = Wingtip01 CWCgenJetContrail
      ParticleSysBone = Wingtip02 CWCgenJetContrail
      ShowSubObject = TURBINE_N
      HideSubObject = TURBINE_AB
    End

    ConditionState = JETAFTERBURNER
      Model = CWCruMiG29
      ParticleSysBone = Engine01 CWCgenJetAfterburner
      ParticleSysBone = Engine02 CWCgenJetAfterburner
      ParticleSysBone = Engine01 CWCgenJetAfterburnerHeat
      ParticleSysBone = Engine02 CWCgenJetAfterburnerHeat
      HideSubObject = TURBINE_N
      ShowSubObject = TURBINE_AB
    End
    AliasConditionState = JETAFTERBURNER JETEXHAUST

    ConditionState = REALLYDAMAGED JETAFTERBURNER
      Model = CWCruMiG29_d
      ParticleSysBone = Engine01 CWCgenJetAfterburner
      ParticleSysBone = Engine02 CWCgenJetAfterburner
      ParticleSysBone = Engine01 CWCgenJetAfterburnerHeat
      ParticleSysBone = Engine02 CWCgenJetAfterburnerHeat
      HideSubObject = TURBINE_N
      ShowSubObject = TURBINE_AB
    End
    AliasConditionState = REALLYDAMAGED JETAFTERBURNER JETEXHAUST

  End

  Draw = W3DTruckDraw ModuleTag_GearDraw

    OkToChangeModelColor = No
    ParticlesAttachedToAnimatedBones = Yes
    AttachToBoneInAnotherModule = ROOT

    DefaultConditionState
      Model = CWCruMiG29_r
      Animation = CWCruMiG29_r.CWCruMiG29_r
      AnimationMode = ONCE_BACKWARDS
      Flags = START_FRAME_FIRST MAINTAIN_FRAME_ACROSS_STATES
      HideSubObject = HLIGHT01
    End
    AliasConditionState = REALLYDAMAGED

    ConditionState = JETEXHAUST
      Model = CWCruMiG29_r
      Animation = CWCruMiG29_r.CWCruMiG29_r
      AnimationMode = ONCE
      Flags = MAINTAIN_FRAME_ACROSS_STATES
      HideSubObject = HLIGHT01
    End
    AliasConditionState = REALLYDAMAGED JETEXHAUST
    AliasConditionState = JETAFTERBURNER
    AliasConditionState = JETAFTERBURNER JETEXHAUST
    AliasConditionState = REALLYDAMAGED JETAFTERBURNER
    AliasConditionState = REALLYDAMAGED JETAFTERBURNER JETEXHAUST
    AliasConditionState = RUBBLE
    AliasConditionState = RUBBLE JETAFTERBURNER
    AliasConditionState = RUBBLE JETEXHAUST
    AliasConditionState = RUBBLE JETAFTERBURNER JETEXHAUST

    ConditionState = NIGHT
      Model = CWCruMiG29_r
      Animation = CWCruMiG29_r.CWCruMiG29_r
      AnimationMode = ONCE_BACKWARDS
      Flags = START_FRAME_FIRST MAINTAIN_FRAME_ACROSS_STATES
      ShowSubObject = HLIGHT01
    End
    AliasConditionState = NIGHT REALLYDAMAGED

    ConditionState = NIGHT JETEXHAUST
      Model = CWCruMiG29_r
      Animation = CWCruMiG29_r.CWCruMiG29_r
      AnimationMode = ONCE
      Flags = MAINTAIN_FRAME_ACROSS_STATES
      HideSubObject = HLIGHT01
    End
    AliasConditionState = NIGHT REALLYDAMAGED JETEXHAUST
    AliasConditionState = NIGHT JETAFTERBURNER
    AliasConditionState = NIGHT JETAFTERBURNER JETEXHAUST
    AliasConditionState = NIGHT REALLYDAMAGED JETAFTERBURNER
    AliasConditionState = NIGHT REALLYDAMAGED JETAFTERBURNER JETEXHAUST
    AliasConditionState = NIGHT RUBBLE
    AliasConditionState = NIGHT RUBBLE JETAFTERBURNER
    AliasConditionState = NIGHT RUBBLE JETEXHAUST
    AliasConditionState = NIGHT RUBBLE JETAFTERBURNER JETEXHAUST

    ; These parameters are only used if the model has a separate suspension,
    ; and the locomotor has HasSuspension = Yes.

    RightFrontTireBone = TIRE01
    LeftFrontTireBone = TIRE02
    MidRightFrontTireBone = TIRE03
    TireRotationMultiplier = 0.4 ; this * speed = rotation.
  End

  ; ***DESIGN parameters ***
  DisplayName = OBJECT:MIG29
  EditorSorting = VEHICLE
  Side = Boss
  TransportSlotCount = 0 ;how many "slots" we take in a transport (0 == not transportable)

  ;EnergyProduction = -10

  VisionRange = 350
  ShroudClearingRange = 330.0

  Prerequisites
    Object = Boss_UkraineAirfield
  End

  WeaponSet
    Conditions = None
	Weapon              = PRIMARY     RaptorJetMissileWeapon
    PreferredAgainst    = PRIMARY     INFANTRY VEHICLE AIRCRAFT STRUCTURE
    ; Weapon = PRIMARY CWCruR27_MRAAM_MiG29 ; ClipSize = 2
    ; PreferredAgainst = PRIMARY AIRCRAFT
    ; AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
    ; Weapon = SECONDARY CWCruR73_SRAAM_MiG29 ; ClipSize = 4
  End

  ArmorSet
    Conditions = None
    Armor = RussiaAirplaneArmor
    DamageFX = None
  End

  BuildCost = 40000
  BuildTime = 15

  ;CWCExpMarker: MiG-29
  ExperienceValue = 1200 1800 2400 3600 ;Experience point value at each level
  ExperienceRequired = 0 2443 4886 8550 ;Experience points needed to gain each level
  IsTrainable = Yes ;Can gain experience

  CrusherLevel = 1 ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel = 2 ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = FighterJetCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = CWCruMiG29VoiceSelect
  VoiceMove = CWCruMiG29VoiceMove
  VoiceAttackAir = CWCruMiG29VoiceAttack
  VoiceGuard = CWCruMiG29VoiceGuard
  SoundAmbient = CWCruMiGSeriesEngineLoop
  UnitSpecificSounds
    VoiceCreate = CWCruMiG29VoiceCreate
    Afterburner = CWCgenJetAfterburner
    VoiceGarrison = CWCruMiG29VoiceMove
    VoiceLowFuel = CWCruMiG29VoiceFuel
    ;VoiceEject = CWCruMiG29VoiceEject
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = AIRCRAFT CAN_ATTACK CAN_CAST_REFLECTIONS PRELOAD SCORE SELECTABLE VEHICLE
  Body = ActiveBody ModuleTag_02
    MaxHealth = 750.0
    InitialHealth = 750.0
  End

  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 500.0
  End

  Behavior = JetAIUpdate ModuleTag_06
    KeepsParkingSpaceWhenAirborne = Yes
    MinHeight = 5
    NeedsRunway = Yes
    OutOfAmmoDamagePerSecond = 1%     ; amount of damage to take per SEC (not per frame) when out of ammo
                                        ; note that it's expressed as a percent of max health, not an absolute
    ReturnToBaseIdleTime = 10000 ; if idle for this long, return to base, even if not out of ammo
    TakeoffPause = 1000
    TakeoffDistForMaxLift = 0%   ; larger numbers give more lift sooner when taking off
    AutoAcquireEnemiesWhenIdle = Yes
    LockonTime = 1000
    ;LockonCursor = CWCgenLockOnCursor
    LockonInitialDist = 50
    LockonFreq = 1
    LockonAngleSpin = 1440
    LockonBlinky = No
  End

  Locomotor = SET_NORMAL CWCruMiG29Locomotor
  Locomotor = SET_TAXIING BasicJetTaxiLocomotor

; --- begin Death modules ---
  Behavior = TransitionDamageFX ModuleTag_Death01
    DamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenTankDeathSmokeDamaged
    DamagedFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDamageTransition
    ;
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenTankDeathSmokeReallyDamaged
    ReallyDamagedFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDamageTransition
    ;
    RubbleParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenTankDeathSmokeRubble
    RubbleFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDamageTransition
  End
  Behavior = JetSlowDeathBehavior ModuleTag_Death02
    DestructionDelay = 9000
    RollRate = 0.1
    RollRateDelta = 105%
    PitchRate = 0
    FallHowFast = 70.0%
    ;
    FXInitialDeath = FX_CWCgenJetDeathInitial
    ;
    DelaySecondaryFromInitialDeath = 250 ;in milliseconds
    FXSecondary = FX_CWCgenJetDeathSecondary
    ;
    FXHitGround = FX_CWCgenJetDeathHitGround
    OCLHitGround = OCL_CWCruMiG29_k
    ;
    FXOnGroundDeath = FX_CWCgenJetOnGroundDeath
    OCLOnGroundDeath = OCL_CWCruMiG29_k
  End
; --- end Death modules ---

  Geometry = Box
  GeometryIsSmall = Yes
  GeometryMajorRadius = 24.0
  GeometryMinorRadius = 14.0
  GeometryHeight = 12.0
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45
  ;Scale = 1.0
End

;------------------------------------------------------------------------------
Object Boss_RussiaJetSu27

  ; *** ART Parameters ***
  SelectPortrait = SAJSF_L
  ButtonImage = SAJSF

  UpgradeCameo1 = Upgrade_ChinaTacticalNukeMig
  ;UpgradeCameo2 = NONE

  Draw = W3DOverlordAircraftDraw ModuleTag_01

    OkToChangeModelColor = No
    ParticlesAttachedToAnimatedBones = Yes
    ProjectileBoneFeedbackEnabledSlots = PRIMARY TERTIARY
    ExtraPublicBone = ROOT

    DefaultConditionState
      Model = CWCruSu27
      WeaponLaunchBone = PRIMARY MISSILEB
      WeaponLaunchBone = SECONDARY MISSILE
      WeaponLaunchBone = TERTIARY MISSILED
      ShowSubObject = ENGINE_N
      HideSubObject = ENGINE_AB
    End

    ConditionState = JETEXHAUST
      Model = CWCruSu27
      ParticleSysBone = Wingtip01 CWCgenJetContrail
      ParticleSysBone = Wingtip02 CWCgenJetContrail
      ShowSubObject = ENGINE_N
      HideSubObject = ENGINE_AB
    End
    AliasConditionState = REALLYDAMAGED JETEXHAUST

    ConditionState = JETAFTERBURNER
      Model = CWCruSu27
      ParticleSysBone = Engine01 CWCgenJetAfterburner
      ParticleSysBone = Engine02 CWCgenJetAfterburner
      ParticleSysBone = Engine01 CWCgenJetAfterburnerHeat
      ParticleSysBone = Engine02 CWCgenJetAfterburnerHeat
      HideSubObject = ENGINE_N
      ShowSubObject = ENGINE_AB
    End
    AliasConditionState = JETAFTERBURNER JETEXHAUST

    ConditionState = REALLYDAMAGED JETAFTERBURNER
      Model = CWCruSu27_d
      ParticleSysBone = Engine01 CWCgenJetAfterburner
      ParticleSysBone = Engine02 CWCgenJetAfterburner
      ParticleSysBone = Engine01 CWCgenJetAfterburnerHeat
      ParticleSysBone = Engine02 CWCgenJetAfterburnerHeat
      HideSubObject = ENGINE_N
      ShowSubObject = ENGINE_AB
    End
    AliasConditionState = JETAFTERBURNER JETEXHAUST REALLYDAMAGED

    ConditionState = REALLYDAMAGED
      Model = CWCruSu27_d
      ShowSubObject = ENGINE_N
      HideSubObject = ENGINE_AB
    End

    ConditionState = RUBBLE
      Model = CWCruSu27_d
      ShowSubObject = ENGINE_N
      HideSubObject = ENGINE_AB
    End

    ConditionState = RUBBLE JETEXHAUST JETAFTERBURNER
      Model = CWCruSu27_d
      ShowSubObject = ENGINE_N
      HideSubObject = ENGINE_AB
    End

  End
  
  Draw = W3DTruckDraw ModuleTag_GearDraw

    OkToChangeModelColor = No
    ParticlesAttachedToAnimatedBones = Yes
    AttachToBoneInAnotherModule = ROOT

    DefaultConditionState
      Model = CWCruSu27_r
      Animation = CWCruSu27_r.CWCruSu27_r
      AnimationMode = ONCE_BACKWARDS
      Flags = START_FRAME_FIRST MAINTAIN_FRAME_ACROSS_STATES
      HideSubObject = HLIGHT01
    End
    AliasConditionState = REALLYDAMAGED

    ConditionState = JETEXHAUST
      Model = CWCruSu27_r
      Animation = CWCruSu27_r.CWCruSu27_r
      AnimationMode = ONCE
      Flags = MAINTAIN_FRAME_ACROSS_STATES
      HideSubObject = HLIGHT01
    End
    AliasConditionState = REALLYDAMAGED JETEXHAUST
    AliasConditionState = JETAFTERBURNER
    AliasConditionState = JETAFTERBURNER JETEXHAUST
    AliasConditionState = REALLYDAMAGED JETAFTERBURNER
    AliasConditionState = REALLYDAMAGED JETAFTERBURNER JETEXHAUST
    AliasConditionState = RUBBLE
    AliasConditionState = RUBBLE JETAFTERBURNER
    AliasConditionState = RUBBLE JETEXHAUST
    AliasConditionState = RUBBLE JETAFTERBURNER JETEXHAUST

    ConditionState = NIGHT
      Model = CWCruSu27_r
      Animation = CWCruSu27_r.CWCruSu27_r
      AnimationMode = ONCE_BACKWARDS
      Flags = START_FRAME_FIRST MAINTAIN_FRAME_ACROSS_STATES
      ShowSubObject = HLIGHT01
    End
    AliasConditionState = NIGHT REALLYDAMAGED

    ConditionState = NIGHT JETEXHAUST
      Model = CWCruSu27_r
      Animation = CWCruSu27_r.CWCruSu27_r
      AnimationMode = ONCE
      Flags = MAINTAIN_FRAME_ACROSS_STATES
      HideSubObject = HLIGHT01
    End
    AliasConditionState = NIGHT REALLYDAMAGED JETEXHAUST
    AliasConditionState = NIGHT JETAFTERBURNER
    AliasConditionState = NIGHT JETAFTERBURNER JETEXHAUST
    AliasConditionState = NIGHT REALLYDAMAGED JETAFTERBURNER
    AliasConditionState = NIGHT REALLYDAMAGED JETAFTERBURNER JETEXHAUST
    AliasConditionState = NIGHT RUBBLE
    AliasConditionState = NIGHT RUBBLE JETAFTERBURNER
    AliasConditionState = NIGHT RUBBLE JETEXHAUST
    AliasConditionState = NIGHT RUBBLE JETAFTERBURNER JETEXHAUST

    ; These parameters are only used if the model has a separate suspension,
    ; and the locomotor has HasSuspension = Yes.

    RightFrontTireBone = TIRE01
    LeftFrontTireBone = TIRE02
    MidRightFrontTireBone = TIRE03
    ;MidLeftFrontTireBone = TIRE04
    ;------------------------------
    ;MidRightMidTireBone = TIRE05
    ;MidLeftMidTireBone = TIRE06
    ;------------------------------
    ;MidRightRearTireBone = TIRE07
    ;MidLeftRearTireBone = TIRE08
    ;RightRearTireBone = TIRE09
    ;LeftRearTireBone = TIRE10

    TireRotationMultiplier = 0.4 ; this * speed = rotation.

  End  

  ; ***DESIGN parameters ***
  DisplayName = OBJECT:Su27
  EditorSorting = VEHICLE
  Side = Boss
  TransportSlotCount = 0 ;how many "slots" we take in a transport (0 == not transportable)

  VisionRange = 400
  ShroudClearingRange = 380.0

  ;EnergyProduction = -12

  Prerequisites
    Object = Boss_Airfield
  End

  WeaponSet
    Conditions = None
    Weapon            = PRIMARY F-23Missile
	PreferredAgainst  = PRIMARY AIRCRAFT
	AutoChooseSources = PRIMARY FROM_SCRIPT FROM_AI
  End
  
  WeaponSet
    Conditions = PLAYER_UPGRADE 
    Weapon            = PRIMARY F-23Missile
	PreferredAgainst  = PRIMARY AIRCRAFT
	AutoChooseSources = PRIMARY FROM_SCRIPT FROM_AI
    Weapon            = SECONDARY Su27NukeMissileWeapon
    PreferredAgainst  = SECONDARY VEHICLE STRUCTURE
    AutoChooseSources = SECONDARY FROM_SCRIPT FROM_AI
  End

  ArmorSet
    Conditions = None
    Armor = RussiaAirplaneArmor
    DamageFX = None
  End

  BuildCost = 24000
  BuildTime = 30

  ;CWCExpMarker: Su-27
  ExperienceValue = 1700 2550 3400 5100 ;Experience point value at each level
  ExperienceRequired = 0 2850 5700 9975 ;Experience points needed to gain each level
  IsTrainable = Yes ;Can gain experience

  CrusherLevel = 1 ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel = 2 ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = FighterJetCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = CWCruSu27VoiceSelect
  VoiceMove = CWCruSu27VoiceMove
  VoiceAttackAir = CWCruSu27VoiceAttack
  VoiceGuard = CWCruSu27VoiceGuard
  SoundAmbient = CWCusFSeriesEngineLoop
  UnitSpecificSounds
    VoiceCreate = CWCruSu27VoiceCreate
    VoiceGarrison = CWCruSu27VoiceMove
    VoiceLowFuel = CWCruSu27VoiceFuel
    ;VoiceEject = CWCruSu27VoiceEject
    Afterburner = CWCgenJetAfterburner
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = AIRCRAFT CAN_ATTACK CAN_CAST_REFLECTIONS PRELOAD SCORE SELECTABLE VEHICLE 
  Body = ActiveBody ModuleTag_02
    MaxHealth = 800.0
    InitialHealth = 800.0
  End
  
  Behavior = WeaponSetUpgrade ModuleTag_04
    TriggeredBy = Upgrade_ChinaTacticalNukeMig
  End

  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 500.0
  End

  Behavior = JetAIUpdate ModuleTag_06
    KeepsParkingSpaceWhenAirborne = Yes
    MinHeight = 5
    NeedsRunway = Yes
    OutOfAmmoDamagePerSecond = 1%     ; amount of damage to take per SEC (not per frame) when out of ammo
                                        ; note that it's expressed as a percent of max health, not an absolute
    ReturnToBaseIdleTime = 10000 ; if idle for this long, return to base, even if not out of ammo
    TakeoffPause = 1000
    TakeoffDistForMaxLift = 0%   ; larger numbers give more lift sooner when taking off
    AutoAcquireEnemiesWhenIdle = Yes
    LockonTime = 1000
    ;LockonCursor = CWCgenLockOnCursor
    LockonInitialDist = 50
    LockonFreq = 1
    LockonAngleSpin = 1440
    LockonBlinky = No
  End

  Locomotor = SET_NORMAL CWCruSu27Locomotor
  Locomotor = SET_TAXIING BasicJetTaxiLocomotor

  ;Behavior = HelixContain ModuleTag_07
  ;  Slots = 1
  ;  DamagePercentToUnits = 100%
  ;  AllowInsideKindOf = PORTABLE_STRUCTURE
  ;  PassengersAllowedToFire = Yes
  ;  ShouldDrawPips = No
  ;  PayloadTemplateName = CWCruSu27_SD_R73s
  ;End

  ; Behavior = CountermeasuresBehavior ModuleTag_08
    ; TriggeredBy = Upgrade_CWCruPreSetUpgrades
    ; FlareTemplateName = CWCruInvisibleCountermeasureFlare
    ; FlareBoneBaseName = FLARE ; Name of the base flare bone (Flare01, Flare02, Flare03)
    ; VolleySize = 4 ; Number of flares launched per volley (requires bones)
    ; VolleyArcAngle = 90.0 ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
    ; VolleyVelocityFactor = 2.5 ; Shoots out flares at a stronger velocity with a higher value.
    ; DelayBetweenVolleys = 500 ; Time between flare volleys
    ; NumberOfVolleys = 3 ; Number of times the volleys will fire before reloading
    ; ReloadTime = 5000 ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
    ; EvasionRate = 25%   ; With active flares, the specified percentage will be diverted.
    ; ReactionLaunchLatency = 0 ; Reaction between getting shot at and the firing of the first volley of countermeasures.
    ; MissileDecoyDelay = 50 ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
  ; End

; --- begin Death modules ---
  Behavior = TransitionDamageFX ModuleTag_Death01
    DamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenTankDeathSmokeDamaged
    DamagedFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDamageTransition
    ;
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenTankDeathSmokeReallyDamaged
    ReallyDamagedFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDamageTransition
    ;
    RubbleParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenTankDeathSmokeRubble
    RubbleFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDamageTransition
  End
  Behavior = JetSlowDeathBehavior ModuleTag_Death02
    DestructionDelay = 9000
    RollRate = 0.1
    RollRateDelta = 105%
    PitchRate = 0
    FallHowFast = 70.0%
    ;
    FXInitialDeath = FX_CWCgenJetDeathInitial
    ;
    DelaySecondaryFromInitialDeath = 250 ;in milliseconds
    FXSecondary = FX_CWCgenJetDeathSecondary
    ;
    FXHitGround = FX_CWCgenJetDeathHitGround
    OCLHitGround = OCL_CWCruSu27_k
    ;
    FXOnGroundDeath = FX_CWCgenJetOnGroundDeath
    OCLOnGroundDeath = OCL_CWCruSu27_k
  End
; --- end Death modules ---

  ; Behavior = FireWeaponUpdate ModuleTag_Radar
    ; Weapon = CWCruSu27RadarWeapon
  ; End

  ; ClientUpdate = AnimatedParticleSysBoneClientUpdate ModuleTag_Client01
  ; End

  ; Behavior = ObjectCreationUpgrade ModuleTag_RadarDrone
    ; UpgradeObject = OCL_CWCgenRadarDrone
    ; TriggeredBy = Upgrade_CWCgenRadarDrone
  ; End

  ; Behavior = GrantUpgradeCreate ModuleTag_RadarDroneCreate
    ; UpgradeToGrant = Upgrade_CWCgenRadarDrone
  ; End

  ; Behavior = EjectPilotDie ModuleTag_Pilot
    ; ExemptStatus = HIJACKED
    ; AirCreationList = OCL_EjectCWCruPilot
    ; VeterancyLevels =  ALL
  ; End

  Geometry = Box
  GeometryIsSmall = Yes
  GeometryMajorRadius = 24.0
  GeometryMinorRadius = 14.0
  GeometryHeight = 12.0
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45 ; minimum elevation angle above horizon. Used to limit shadow length
  ;Scale = 1.0
End

;------------------------------------------------------------------------------
Object Boss_UkraineJetSu27

  ; *** ART Parameters ***
  SelectPortrait = SAJSF_L
  ButtonImage = SAJSF

  Draw = W3DOverlordAircraftDraw ModuleTag_01

    OkToChangeModelColor = No
    ParticlesAttachedToAnimatedBones = Yes
    ProjectileBoneFeedbackEnabledSlots = PRIMARY TERTIARY
    ExtraPublicBone = ROOT

    DefaultConditionState
      Model = CWCruSu27
      WeaponLaunchBone = PRIMARY MISSILEB
      WeaponLaunchBone = SECONDARY MISSILE
      WeaponLaunchBone = TERTIARY MISSILED
      ShowSubObject = ENGINE_N
      HideSubObject = ENGINE_AB
    End

    ConditionState = JETEXHAUST
      Model = CWCruSu27
      ParticleSysBone = Wingtip01 CWCgenJetContrail
      ParticleSysBone = Wingtip02 CWCgenJetContrail
      ShowSubObject = ENGINE_N
      HideSubObject = ENGINE_AB
    End
    AliasConditionState = REALLYDAMAGED JETEXHAUST

    ConditionState = JETAFTERBURNER
      Model = CWCruSu27
      ParticleSysBone = Engine01 CWCgenJetAfterburner
      ParticleSysBone = Engine02 CWCgenJetAfterburner
      ParticleSysBone = Engine01 CWCgenJetAfterburnerHeat
      ParticleSysBone = Engine02 CWCgenJetAfterburnerHeat
      HideSubObject = ENGINE_N
      ShowSubObject = ENGINE_AB
    End
    AliasConditionState = JETAFTERBURNER JETEXHAUST

    ConditionState = REALLYDAMAGED JETAFTERBURNER
      Model = CWCruSu27_d
      ParticleSysBone = Engine01 CWCgenJetAfterburner
      ParticleSysBone = Engine02 CWCgenJetAfterburner
      ParticleSysBone = Engine01 CWCgenJetAfterburnerHeat
      ParticleSysBone = Engine02 CWCgenJetAfterburnerHeat
      HideSubObject = ENGINE_N
      ShowSubObject = ENGINE_AB
    End
    AliasConditionState = JETAFTERBURNER JETEXHAUST REALLYDAMAGED

    ConditionState = REALLYDAMAGED
      Model = CWCruSu27_d
      ShowSubObject = ENGINE_N
      HideSubObject = ENGINE_AB
    End

    ConditionState = RUBBLE
      Model = CWCruSu27_d
      ShowSubObject = ENGINE_N
      HideSubObject = ENGINE_AB
    End

    ConditionState = RUBBLE JETEXHAUST JETAFTERBURNER
      Model = CWCruSu27_d
      ShowSubObject = ENGINE_N
      HideSubObject = ENGINE_AB
    End
  End
  
  Draw = W3DTruckDraw ModuleTag_GearDraw

    OkToChangeModelColor = No
    ParticlesAttachedToAnimatedBones = Yes
    AttachToBoneInAnotherModule = ROOT

    DefaultConditionState
      Model = CWCruSu27_r
      Animation = CWCruSu27_r.CWCruSu27_r
      AnimationMode = ONCE_BACKWARDS
      Flags = START_FRAME_FIRST MAINTAIN_FRAME_ACROSS_STATES
      HideSubObject = HLIGHT01
    End
    AliasConditionState = REALLYDAMAGED

    ConditionState = JETEXHAUST
      Model = CWCruSu27_r
      Animation = CWCruSu27_r.CWCruSu27_r
      AnimationMode = ONCE
      Flags = MAINTAIN_FRAME_ACROSS_STATES
      HideSubObject = HLIGHT01
    End
    AliasConditionState = REALLYDAMAGED JETEXHAUST
    AliasConditionState = JETAFTERBURNER
    AliasConditionState = JETAFTERBURNER JETEXHAUST
    AliasConditionState = REALLYDAMAGED JETAFTERBURNER
    AliasConditionState = REALLYDAMAGED JETAFTERBURNER JETEXHAUST
    AliasConditionState = RUBBLE
    AliasConditionState = RUBBLE JETAFTERBURNER
    AliasConditionState = RUBBLE JETEXHAUST
    AliasConditionState = RUBBLE JETAFTERBURNER JETEXHAUST

    ConditionState = NIGHT
      Model = CWCruSu27_r
      Animation = CWCruSu27_r.CWCruSu27_r
      AnimationMode = ONCE_BACKWARDS
      Flags = START_FRAME_FIRST MAINTAIN_FRAME_ACROSS_STATES
      ShowSubObject = HLIGHT01
    End
    AliasConditionState = NIGHT REALLYDAMAGED

    ConditionState = NIGHT JETEXHAUST
      Model = CWCruSu27_r
      Animation = CWCruSu27_r.CWCruSu27_r
      AnimationMode = ONCE
      Flags = MAINTAIN_FRAME_ACROSS_STATES
      HideSubObject = HLIGHT01
    End
    AliasConditionState = NIGHT REALLYDAMAGED JETEXHAUST
    AliasConditionState = NIGHT JETAFTERBURNER
    AliasConditionState = NIGHT JETAFTERBURNER JETEXHAUST
    AliasConditionState = NIGHT REALLYDAMAGED JETAFTERBURNER
    AliasConditionState = NIGHT REALLYDAMAGED JETAFTERBURNER JETEXHAUST
    AliasConditionState = NIGHT RUBBLE
    AliasConditionState = NIGHT RUBBLE JETAFTERBURNER
    AliasConditionState = NIGHT RUBBLE JETEXHAUST
    AliasConditionState = NIGHT RUBBLE JETAFTERBURNER JETEXHAUST

    ; These parameters are only used if the model has a separate suspension,
    ; and the locomotor has HasSuspension = Yes.
    RightFrontTireBone = TIRE01
    LeftFrontTireBone = TIRE02
    MidRightFrontTireBone = TIRE03
    TireRotationMultiplier = 0.4 ; this * speed = rotation.
  End  

  ; ***DESIGN parameters ***
  DisplayName = OBJECT:Su27
  EditorSorting = VEHICLE
  Side = Boss
  TransportSlotCount = 0 ;how many "slots" we take in a transport (0 == not transportable)

  VisionRange = 400
  ShroudClearingRange = 380.0

  Prerequisites
    Object = Boss_UkraineAirfield
  End

  WeaponSet
    Conditions = None
    Weapon            = PRIMARY F-23Missile
	PreferredAgainst  = PRIMARY AIRCRAFT
	AutoChooseSources = PRIMARY FROM_SCRIPT FROM_AI
  End

  ArmorSet
    Conditions = None
    Armor = RussiaAirplaneArmor
    DamageFX = None
  End

  BuildCost = 45000
  BuildTime = 35.0

  ;CWCExpMarker: Su-27
  ExperienceValue = 1700 2550 3400 5100 ;Experience point value at each level
  ExperienceRequired = 0 2850 5700 9975 ;Experience points needed to gain each level
  IsTrainable = Yes ;Can gain experience

  CrusherLevel = 1 ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel = 2 ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = FighterJetCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = CWCruSu27VoiceSelect
  VoiceMove = CWCruSu27VoiceMove
  VoiceAttackAir = CWCruSu27VoiceAttack
  VoiceGuard = CWCruSu27VoiceGuard
  SoundAmbient = CWCusFSeriesEngineLoop
  UnitSpecificSounds
    VoiceCreate = CWCruSu27VoiceCreate
    VoiceGarrison = CWCruSu27VoiceMove
    VoiceLowFuel = CWCruSu27VoiceFuel
    ;VoiceEject = CWCruSu27VoiceEject
    Afterburner = CWCgenJetAfterburner
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = AIRCRAFT CAN_ATTACK CAN_CAST_REFLECTIONS PRELOAD SCORE SELECTABLE VEHICLE 
  Body = ActiveBody ModuleTag_02
    MaxHealth = 800.0
    InitialHealth = 800.0
  End

  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 500.0
  End

  Behavior = JetAIUpdate ModuleTag_06
    KeepsParkingSpaceWhenAirborne = Yes
    MinHeight = 5
    NeedsRunway = Yes
    OutOfAmmoDamagePerSecond = 1%     ; amount of damage to take per SEC (not per frame) when out of ammo
                                        ; note that it's expressed as a percent of max health, not an absolute
    ReturnToBaseIdleTime = 10000 ; if idle for this long, return to base, even if not out of ammo
    TakeoffPause = 1000
    TakeoffDistForMaxLift = 0%   ; larger numbers give more lift sooner when taking off
    AutoAcquireEnemiesWhenIdle = Yes
    LockonTime = 1000
    ;LockonCursor = CWCgenLockOnCursor
    LockonInitialDist = 50
    LockonFreq = 1
    LockonAngleSpin = 1440
    LockonBlinky = No
  End

  Locomotor = SET_NORMAL CWCruSu27Locomotor
  Locomotor = SET_TAXIING BasicJetTaxiLocomotor

; --- begin Death modules ---
  Behavior = TransitionDamageFX ModuleTag_Death01
    DamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenTankDeathSmokeDamaged
    DamagedFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDamageTransition
    ;
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenTankDeathSmokeReallyDamaged
    ReallyDamagedFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDamageTransition
    ;
    RubbleParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenTankDeathSmokeRubble
    RubbleFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDamageTransition
  End
  Behavior = JetSlowDeathBehavior ModuleTag_Death02
    DestructionDelay = 9000
    RollRate = 0.1
    RollRateDelta = 105%
    PitchRate = 0
    FallHowFast = 70.0%
    FXInitialDeath = FX_CWCgenJetDeathInitial
    DelaySecondaryFromInitialDeath = 250 ;in milliseconds
    FXSecondary = FX_CWCgenJetDeathSecondary
    FXHitGround = FX_CWCgenJetDeathHitGround
    OCLHitGround = OCL_CWCruSu27_k
    FXOnGroundDeath = FX_CWCgenJetOnGroundDeath
    OCLOnGroundDeath = OCL_CWCruSu27_k
  End
; --- end Death modules ---

  Geometry = Box
  GeometryIsSmall = Yes
  GeometryMajorRadius = 24.0
  GeometryMinorRadius = 14.0
  GeometryHeight = 12.0
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45 ; minimum elevation angle above horizon. Used to limit shadow length
  ;Scale = 1.0
End

;==========================================================================================================
Object SU34SlowBDObject
  ; *** ART Parameters ***
  Draw                = W3DModelDraw ModuleTag_01
    DefaultConditionState
      Model               = RUSU-34_R
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ParticleSysBone     = None JetSmokeLarge
      ParticleSysBone     = None JetFireLarge
    End
  End
  ; *** ENGINEERING Parameters ***
  KindOf = CAN_CAST_REFLECTIONS NO_COLLIDE HULK IGNORED_IN_GUI UNATTACKABLE
  Behavior                  = PhysicsBehavior ModuleTag_02
    Mass                    = 0.8
    AllowCollideForce       = No
    ShockResistance = 1
    CenterOfMassOffset       = 1
  End
  Behavior = SlowDeathBehavior DeathTag_01
    ;FX                  = FINAL   FX_JetHitGround
    OCL                 = FINAL   OCL_SU34DeathWatercheck
    Weapon              = FINAL   FallingJetWeapon
  End
  Behavior = HeightDieUpdate DeathTag_02
    TargetHeight = 1
    TargetHeightIncludesStructures = Yes
    InitialDelay                    = 1 ; Can't explode in the first second so we don't explode on the pad
  End
  Geometry                 = Box
  GeometryIsSmall          = Yes
  GeometryMajorRadius      = 1.0
  GeometryMinorRadius      = 1.0
  GeometryHeight           = 1.0
  Shadow                   = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length.
End

;-----------------------------------------------------------------------------
Object SU34FastBDObject
  Draw                = W3DModelDraw ModuleTag_01
    DefaultConditionState
      Model               = RUSU-34_R
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ParticleSysBone     = None JetSmokeLarge
      ParticleSysBone     = None JetFireLarge
    End
  End
  KindOf = CAN_CAST_REFLECTIONS NO_COLLIDE HULK IGNORED_IN_GUI UNATTACKABLE
  Behavior                  = PhysicsBehavior ModuleTag_02
    Mass                    = 1.83
    AllowCollideForce       = No
    ShockResistance = 1
    CenterOfMassOffset       = 1
  End
  Behavior = SlowDeathBehavior DeathTag_01
    ;FX                  = FINAL   FX_JetHitGround
    OCL                 = FINAL   OCL_SU34DeathWatercheck
    Weapon              = FINAL   FallingJetWeapon
  End
  Behavior = HeightDieUpdate DeathTag_02
    TargetHeight = 1
    TargetHeightIncludesStructures = Yes
    InitialDelay                    = 1 ; Can't explode in the first second so we don't explode on the pad
  End
  Geometry                 = Box
  GeometryIsSmall          = Yes
  GeometryMajorRadius      = 1.0
  GeometryMinorRadius      = 1.0
  GeometryHeight           = 1.0
  Shadow                   = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length.
End

;-----------------------------------------------------------------------------
Object Boss_RussiaJetSu34

  ; *** ART Parameters ***
  SelectPortrait         = SuperStriker_L
  ButtonImage            = SuperStriker
  
  ;UpgradeCameo1 = Upgrade_RussiaCountermeasures
  
  Draw = W3DModelDraw ModuleTag_01

    OkToChangeModelColor = Yes
    ExtraPublicBone = WeaponA01
    ExtraPublicBone = WeaponA02

    ProjectileBoneFeedbackEnabledSlots = PRIMARY SECONDARY

    DefaultConditionState
      Model               = RUSU-34
      HideSubObject       = WEAPONA05 WEAPONA06 HOUSECOLOR01 BurnerFX01 BurnerFX02
      WeaponLaunchBone    = PRIMARY WeaponA
      WeaponLaunchBone    = PRIMARY WeaponA
      WeaponLaunchBone = TERTIARY Muzzle
      WeaponMuzzleFlash = TERTIARY MuzzleFX
    End

    ConditionState        = JETEXHAUST
      Model               = RUSU-34
      HideSubObject       = WEAPONA05 WEAPONA06 HOUSECOLOR01 BurnerFX01 BurnerFX02
      WeaponLaunchBone    = PRIMARY WeaponA
      WeaponLaunchBone    = PRIMARY WeaponA
      WeaponLaunchBone = TERTIARY Muzzle
      WeaponMuzzleFlash = TERTIARY MuzzleFX
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail 
    End

    ConditionState       = JETEXHAUST JETAFTERBURNER
      Model               = RUSU-34
      Animation       = RUSU-34.RUSU-34
      AnimationMode   = LOOP
      WeaponLaunchBone    = PRIMARY WeaponA
      WeaponLaunchBone    = PRIMARY WeaponA
      WeaponLaunchBone = TERTIARY Muzzle
      WeaponMuzzleFlash = TERTIARY MuzzleFX
      ShowSubObject      = BurnerFX01 BurnerFX02
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = REALLYDAMAGED
      Model               = RUSU-34_D
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = RUBBLE
      Model               = RUSU-34_R
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = REALLYDAMAGED JETEXHAUST
      Model               = RUSU-34_D
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = REALLYDAMAGED JETEXHAUST JETAFTERBURNER
      Model               = RUSU-34_D
      Animation       = RUSU-34_D.RUSU-34_D
      AnimationMode   = LOOP
      ShowSubObject       = BurnerFX01 BurnerFX02
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = RUBBLE JETEXHAUST JETAFTERBURNER
      Model               = RUSU-34_R
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = WEAPONSET_PLAYER_UPGRADE
      Model               = RUSU-34
      ShowSubObject       = WEAPONA05 WEAPONA06 HOUSECOLOR01
      WeaponLaunchBone    = SECONDARY WeaponA
      WeaponLaunchBone    = SECONDARY WeaponA
      WeaponLaunchBone = TERTIARY Muzzle
      WeaponMuzzleFlash = TERTIARY MuzzleFX
    End

    ConditionState        = WEAPONSET_PLAYER_UPGRADE JETEXHAUST
      Model               = RUSU-34
      WeaponLaunchBone    = PRIMARY WeaponA
      WeaponLaunchBone    = PRIMARY WeaponA
      WeaponLaunchBone = TERTIARY Muzzle
      WeaponMuzzleFlash = TERTIARY MuzzleFX
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail 
    End

    ConditionState       = WEAPONSET_PLAYER_UPGRADE JETEXHAUST JETAFTERBURNER
      Model               = RUSU-34
      Animation       = RUSU-34.RUSU-34
      AnimationMode   = LOOP
      ShowSubObject       = BurnerFX01 BurnerFX02
      WeaponLaunchBone    = PRIMARY WeaponA
      WeaponLaunchBone    = PRIMARY WeaponA
      WeaponLaunchBone = TERTIARY Muzzle
      WeaponMuzzleFlash = TERTIARY MuzzleFX
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
      Model               = RUSU-34_D
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = WEAPONSET_PLAYER_UPGRADE RUBBLE
      Model               = RUSU-34_R
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED JETEXHAUST
      Model               = RUSU-34_D
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED JETEXHAUST JETAFTERBURNER
      Model               = RUSU-34_D
      Animation       = RUSU-34_D.RUSU-34_D
      AnimationMode   = LOOP
      ShowSubObject       = BurnerFX01 BurnerFX02
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = WEAPONSET_PLAYER_UPGRADE RUBBLE JETEXHAUST JETAFTERBURNER
      Model               = RUSU-34_R
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

  End

  Draw = W3DModelDraw ModuleTag_PickBox
    DefaultConditionState
      Model               = JetPickBox
    End
  End

  ; ***DESIGN parameters ***
  DisplayName             = OBJECT:Su34
  EditorSorting           = VEHICLE
  Side                    = Boss
  TransportSlotCount      = 0          ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange             = 500.0 
  ShroudClearingRange     = 450.0

  Prerequisites
    Object = Boss_Airfield
    Object = Boss_TechCentr
  End

  WeaponSet
    Conditions        = None 
    Weapon            = PRIMARY    SU34DropBombWeapon
	PreferredAgainst  = PRIMARY VEHICLE STRUCTURE
	AutoChooseSources = PRIMARY FROM_SCRIPT FROM_AI
	Weapon            = SECONDARY Su50JetMissileWeapon
	PreferredAgainst  = SECONDARY AIRCRAFT
	AutoChooseSources = SECONDARY FROM_SCRIPT FROM_AI
  End

  ArmorSet
    Conditions           = None
    Armor                = RussiaAirplaneArmor
    DamageFX             = AAHitscanDamageFX
  End

  ; ArmorSet
    ; Conditions            = PLAYER_UPGRADE
    ; Armor                 = RussiaStealthAdvancedAirplaneArmor
    ; DamageFX              = AAHitscanDamageFX
  ; End

  BuildCost              = 45000
  BuildTime              = 30   
  ExperienceValue        = 125 125 225 425  ;Experience point value at each level
  ExperienceRequired     = 0 300 500 800   ;Experience points needed to gain each level
  IsTrainable            = Yes             ;Can gain experience
  CrusherLevel           = 1  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet             = Su34CommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect             = SU34VoiceSelect
  VoiceMove               = SU34VoiceMove
  VoiceAttack             = SU34VoiceAttack
  VoiceAttackAir          = SU34VoiceAttack
  VoiceGuard              = SU34VoiceGuard
  SoundAmbient            = MigAmbientLoop
  UnitSpecificSounds
    VoiceCreate           = SU34VoiceCreate
    Afterburner           = RaptorAfterburner
    VoiceGarrison         = SU34VoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority          = UNIT
  KindOf                 = SALVAGER PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT
  
  Body                   = ActiveBody ModuleTag_02
    MaxHealth            = 1200.0
    InitialHealth        = 1200.0
  End

  ; Behavior = SpecialPowerCreate ModuleTag_03
    ; ;nothing
  ; End

  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 500.0
  End

  Behavior = JetAIUpdate ModuleTag_05
    OutOfAmmoDamagePerSecond  = 1%     ; amount of damage to take per SEC (not per frame) when out of ammo
                                        ; note that it's expressed as a percent of max health, not an absolute
    TakeoffDistForMaxLift     = 0%   ; larger numbers give more lift sooner when taking off
    TakeoffPause              = 500
    MinHeight                 = 5
    ReturnToBaseIdleTime      = 10000         ; if idle for this long, return to base, even if not out of ammo
    AutoAcquireEnemiesWhenIdle    = No
    MoodAttackCheckRate           = 1
  End

  Locomotor = SET_NORMAL Su-34locomotor
  Locomotor = SET_TAXIING BasicJetTaxiLocomotor
  ;Locomotor = SET_NORMAL_UPGRADED Su-34locomotorL2
  
  Behavior = SpecialAbility ModuleTag_09
    SpecialPowerTemplate      = SpecialAbilityBlackLotusDisableVehicleHack
    UpdateModuleStartsAttack  = Yes
    InitiateSound           = DisturberVoiceAttack
  End
  Behavior = SpecialAbilityUpdate ModuleTag_10
    SpecialPowerTemplate    = SpecialAbilityBlackLotusDisableVehicleHack
    StartAbilityRange       = 5000.0
    UnpackTime              = 1000 ;6730 ;animation time is 6730 (changing this will scale anim speed)
    PackTime                = 1000 ;2800 ;animation time is 5800 (changing this will scale anim speed)
    PreparationTime         = 1000
    EffectDuration          = 60000
    DisableFXParticleSystem = DisabledEffectBinaryShower0
    SpecialObject           = BinaryDataStream
    PackSound               = BlackLotusPack
    UnpackSound             = BlackLotusUnpack
    TriggerSound            = BlackLotusTrigger
    PrepSoundLoop           = BlackLotusPrepLoop
    AwardXPForTriggering    = 0
  End

;Upgrades----------------------------------------------------------
  ; Behavior = LocomotorSetUpgrade Upgrade_01
    ; TriggeredBy = Upgrade_ArmorCommandset
  ; End
  ; Behavior = MaxHealthUpgrade Upgrade_02
    ; TriggeredBy   = Upgrade_ArmorCommandset
    ; AddMaxHealth  = 20.0
    ; ChangeType    = ADD_CURRENT_HEALTH_TOO   ;Choices are PRESERVE_RATIO, ADD_CURRENT_HEALTH_TOO, and SAME_CURRENTHEALTH
  ; End
  ; Behavior                = ArmorUpgrade Upgrade_03
    ; TriggeredBy           = Upgrade_RussiaCountermeasures
  ; End
  ; Behavior                = CountermeasuresBehavior Upgrade_04
    ; TriggeredBy           = Upgrade_RussiaCountermeasures
    ; FlareTemplateName     = RuCountermeasureFlareJet
    ; FlareBoneBaseName     = Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
    ; VolleySize            = 1   ; Number of flares launched per volley (requires bones)
    ; VolleyArcAngle        = 0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
    ; VolleyVelocityFactor  = 0   ; Shoots out flares at a stronger velocity with a higher value.
    ; DelayBetweenVolleys   = 200  ; Time between flare volleys
    ; NumberOfVolleys       = 5    ; Number of times the volleys will fire before reloading
    ; ReloadTime            = 7000     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
    ; EvasionRate           = 35%   ; With active flares, the specified percentage will be diverted.
    ; ReactionLaunchLatency = 0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
    ; MissileDecoyDelay     = 50   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
  ; End
;Deaths-------------------------------------------------------------
 Behavior                            = JetSlowDeathBehavior DeathTag_01
  ProbabilityModifier = 50
    FXOnGroundDeath = FX_JetGroundDeathSmall
    OCLOnGroundDeath = OCL_SU34DeathFinalBlowUp
    FX = INITIAL FX_SUDeathInitial
    OCL = INITIAL OCL_SU34SlowBD
 End
 ;--lifted nose up
 Behavior                            = JetSlowDeathBehavior DeathTag_02
    ProbabilityModifier = 50
    FX = INITIAL FX_SUDeathInitial
    OCL = INITIAL OCL_SU34FastBD
 End
;Stealth-------------------------------------------------------------
;---------------------------------------------------------------------

  Behavior = FlammableUpdate ModuleTag_06
    AflameDuration = 5000        ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500      ; this often.
  End
;  Behavior = LocomotorSetUpgrade ModuleTag_07
;    TriggeredBy = Upgrade_Engine
;  End

  Behavior                       = TransitionDamageFX ModuleTag_08
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes Psys:SmokeSmallContinuous01
    ReallyDamagedFXList1         = Loc: X:0 Y:0 Z:0 FXList:FX_MIGDamageTransition
  End

  ; Behavior = FireWeaponUpdate ModuleTag_09
    ; Weapon = SU37StealthRadarWeapon
    ; ExclusiveWeaponDelay = 1000
  ; End

  ; Behavior = FireWeaponWhenDamagedBehavior ModuleTag_10
    ; StartsActive = Yes
    ; ReactionWeaponPristine = DroneRevealWeapon
    ; ReactionWeaponDamaged = DroneRevealWeapon
    ; ReactionWeaponReallyDamaged = DroneRevealWeapon
    ; ReactionWeaponRubble = DroneRevealWeapon
    ; DamageTypes = NONE +MELEE
  ; End
  Geometry                 = Box
  GeometryIsSmall          = Yes
  GeometryMajorRadius      = 26.0
  GeometryMinorRadius      = 16.0
  GeometryHeight           = 5.0
  Shadow                   = SHADOW_VOLUME
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length
  ;Scale = 0.99
End

;=====================================================================================================
Object SU37SlowBDObject
    ; *** ART Parameters ***
  Draw                = W3DModelDraw ModuleTag_01
    DefaultConditionState
      Model               = SU-37_R
      ParticleSysBone     = Wingtip01 JetBurning
      ParticleSysBone     = Wingtip02 JetContrail
    End
  End
  ; *** ENGINEERING Parameters ***
  KindOf              =  VEHICLE PRELOAD IGNORED_IN_GUI
  Behavior                  = PhysicsBehavior ModuleTag_02
    Mass                    = 0.8
    AllowCollideForce       = No
    ShockResistance = 1
    CenterOfMassOffset       = 1
  End
  Behavior = SlowDeathBehavior DeathTag_01
    ;FX                  = FINAL   FX_JetHitGround
    OCL                 = FINAL   OCL_SU37DeathWatercheck
    Weapon              = FINAL   FallingJetWeapon
  End
  Behavior = HeightDieUpdate ModuleTag_03
    TargetHeight = 1
    TargetHeightIncludesStructures = Yes
    InitialDelay                    = 1 ; Can't explode in the first second so we don't explode on the pad
  End
  Geometry                 = Box
  GeometryIsSmall          = Yes
  GeometryMajorRadius      = 1.0
  GeometryMinorRadius      = 1.0
  GeometryHeight           = 1.0
  Shadow                   = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length.
End


;--------------------------------------------------------------
Object SU37FastBDObject
  ; *** ART Parameters ***
  Draw                = W3DModelDraw ModuleTag_01
    DefaultConditionState
      Model               = SU-37_R
      ParticleSysBone     = None JetSmokeLarge
      ParticleSysBone     = Wingtip02 JetContrail
      ParticleSysBone     = None JetSmokeLarge
      ParticleSysBone     = None JetFireLarge
    End
  End
  KindOf = CAN_CAST_REFLECTIONS NO_COLLIDE HULK IGNORED_IN_GUI UNATTACKABLE
  Behavior                  = PhysicsBehavior ModuleTag_02
    Mass                    = 1.83
    AllowCollideForce       = No
    ShockResistance = 1
    CenterOfMassOffset       = 1
  End
  Behavior = SlowDeathBehavior DeathTag_01
    ;FX                  = FINAL   FX_JetHitGround
    OCL                 = FINAL   OCL_SU37DeathWatercheck
    Weapon              = FINAL   FallingJetWeapon
  End
  Behavior = HeightDieUpdate ModuleTag_03
    TargetHeight = 1
    TargetHeightIncludesStructures = Yes
    InitialDelay                    = 1 ; Can't explode in the first second so we don't explode on the pad
  End
  Geometry                 = Box
  GeometryIsSmall          = Yes
  GeometryMajorRadius      = 1.0
  GeometryMinorRadius      = 1.0
  GeometryHeight           = 1.0
  Shadow                   = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length.
End
;--------------------------------------------------------------
Object SU37SlowUWObject
  ; *** ART Parameters ***
  Draw                = W3DModelDraw ModuleTag_01
    DefaultConditionState
      Model               = SU-37_D
      ;HideSubObject is needed cause there're inherited from default condition state      
      HideSubObject       = WEAPONA01 WEAPONA02 WEAPONA03 WEAPONA04 WEAPONA05 WEAPONA06 HOUSECOLOR01 BurnerFX01 BurnerFX02 MuzzleFX
      ParticleSysBone     = Engine01 JetBurning
      ParticleSysBone     = None JetFireLarge
      ParticleSysBone     = None JetSmokeLarge
      ParticleSysBone     = Wingtip02 JetContrail
    End
  End
  ; *** ENGINEERING Parameters ***
  KindOf = CAN_CAST_REFLECTIONS NO_COLLIDE HULK IGNORED_IN_GUI UNATTACKABLE
  Behavior                  = PhysicsBehavior ModuleTag_02
    Mass                    = 0.02
    AllowCollideForce       = No
    AerodynamicFriction     = 15
  End
  Behavior = LifetimeUpdate ModuleTag_03
    MinLifetime = 2500   ; min lifetime in msec
    MaxLifetime = 5000   ; max lifetime in msec
  End
  Behavior = SlowDeathBehavior DeathTag_01
    DeathTypes = ALL
    FX = FINAL JetUnderwaterFinalExplosionFX
  End
  Scale = 0.96
  Geometry                 = Box
  GeometryIsSmall          = Yes
  GeometryMajorRadius      = 14.0
  GeometryMinorRadius      = 7.0
  GeometryHeight           = 5.0
End

;---------------------------------------------------------------------------------------------
Object Boss_RussiaJetSu35

  ; *** ART Parameters ***
  SelectPortrait         = SARazor_L
  ButtonImage            = SARazor
  
  ;UpgradeCameo1 = Upgrade_RussiaCountermeasures
  ;UpgradeCameo2 = Upgrade_RussiaMissiles
  
  Draw = W3DModelDraw ModuleTag_01

    OkToChangeModelColor = Yes
    ExtraPublicBone = WeaponA01
    ExtraPublicBone = WeaponA02
    ExtraPublicBone = WeaponA03
    ExtraPublicBone = WeaponA04
    ExtraPublicBone = WeaponA05
    ExtraPublicBone = WeaponA06
    ExtraPublicBone = WeaponB01
    ExtraPublicBone = WeaponB02

    ProjectileBoneFeedbackEnabledSlots = PRIMARY SECONDARY

    DefaultConditionState
      Model               = SU-37
      HideSubObject       = BurnerFX01 BurnerFX02
      WeaponLaunchBone    = PRIMARY WEAPONA
      WeaponLaunchBone    = SECONDARY WEAPONB
      WeaponLaunchBone = TERTIARY Muzzle
      WeaponMuzzleFlash = TERTIARY MuzzleFX
    End

    ConditionState        = JETEXHAUST
      Model               = SU-37
      WeaponLaunchBone    = PRIMARY WEAPONA
      WeaponLaunchBone    = SECONDARY WEAPONB
      WeaponLaunchBone = TERTIARY Muzzle
      WeaponMuzzleFlash = TERTIARY MuzzleFX
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail 
    End

    ConditionState       = JETEXHAUST JETAFTERBURNER
      Model               = SU-37
      Animation       = SU-37.SU-37
      AnimationMode   = LOOP
      WeaponLaunchBone    = PRIMARY WEAPONA
      WeaponLaunchBone    = SECONDARY WEAPONB
      WeaponLaunchBone = TERTIARY Muzzle
      WeaponMuzzleFlash = TERTIARY MuzzleFX
      ShowSubObject      = BurnerFX01 BurnerFX02
      ;ParticleSysBone     = ENGINE01 JetExhaust
      ;ParticleSysBone     = ENGINE02 JetExhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = REALLYDAMAGED
      Model               = SU-37_D
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = RUBBLE
      Model               = SU-37_R
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = REALLYDAMAGED JETEXHAUST
      Model               = SU-37_D
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = REALLYDAMAGED JETEXHAUST JETAFTERBURNER
      Model               = SU-37_D
      Animation       = SU-37_D.SU-37_D
      AnimationMode   = LOOP
      ShowSubObject       = BurnerFX01 BurnerFX02
      ;ParticleSysBone     = ENGINE01 JetExhaust
      ;ParticleSysBone     = ENGINE02 JetExhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = RUBBLE JETEXHAUST JETAFTERBURNER
      Model               = SU-37_R
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = WEAPONSET_PLAYER_UPGRADE
      Model               = SU-37
      WeaponLaunchBone    = PRIMARY WEAPONA
      WeaponLaunchBone    = SECONDARY WEAPONA
      WeaponLaunchBone = TERTIARY Muzzle
      WeaponMuzzleFlash = TERTIARY MuzzleFX
    End

    ConditionState        = WEAPONSET_PLAYER_UPGRADE JETEXHAUST
      Model               = SU-37
      WeaponLaunchBone    = PRIMARY WEAPONA
      WeaponLaunchBone    = SECONDARY WEAPONB
      WeaponLaunchBone = TERTIARY Muzzle
      WeaponMuzzleFlash = TERTIARY MuzzleFX
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail 
    End

    ConditionState       = WEAPONSET_PLAYER_UPGRADE JETEXHAUST JETAFTERBURNER
      Model               = SU-37
      Animation       = SU-37.SU-37
      AnimationMode   = LOOP
      ShowSubObject       = BurnerFX01 BurnerFX02
      WeaponLaunchBone    = PRIMARY WEAPONA
      WeaponLaunchBone    = SECONDARY WEAPONB
      WeaponLaunchBone = TERTIARY Muzzle
      WeaponMuzzleFlash = TERTIARY MuzzleFX
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
      Model               = SU-37_D
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = WEAPONSET_PLAYER_UPGRADE RUBBLE
      Model               = SU-37_R
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED JETEXHAUST
      Model               = SU-37_D
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED JETEXHAUST JETAFTERBURNER
      Model               = SU-37_D
      Animation       = SU-37_D.SU-37_D
      AnimationMode   = LOOP
      ShowSubObject       = BurnerFX01 BurnerFX02
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = WEAPONSET_PLAYER_UPGRADE RUBBLE JETEXHAUST JETAFTERBURNER
       Model               = SU-37_R
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

  End

  Draw = W3DModelDraw ModuleTag_PickBox
    DefaultConditionState
      Model               = JetPickBox
    End
  End

  ; ***DESIGN parameters ***
  DisplayName             = OBJECT:Su35
  EditorSorting           = VEHICLE
  Side                    = Boss
  TransportSlotCount      = 0          ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange             = 550.0 
  ShroudClearingRange     = 530.0

  Prerequisites
    Object = Boss_Airfield
	Object = Boss_TechCentr
  End

  WeaponSet
    Conditions        = None 
    Weapon            = PRIMARY    SU37missileweaponPW
    Weapon            = SECONDARY SU37BVRMissileWeapon
    Weapon            = TERTIARY    SU-37MinigunWeapon
  End

  ArmorSet
    Conditions           = None
    Armor                = RussiaAirplaneArmor
    DamageFX             = AAHitscanDamageFX
  End

  ; ArmorSet
    ; Conditions            = PLAYER_UPGRADE
    ; Armor                 = RussiaStealthAdvancedAirplaneArmor
    ; DamageFX              = AAHitscanDamageFX
  ; End

  BuildCost               = 50000
  BuildTime               = 35 
  ExperienceValue         = 100 100 175 300  ;Experience point value at each level
  ExperienceRequired      = 0 250 400 600   ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 1  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet             = FighterJetCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect             = SU30VoiceSelect
  VoiceMove               = SU30VoiceMove
  VoiceAttack             = SU30VoiceAttack
  VoiceAttackAir          = SU30VoiceAttackAir
  VoiceGuard              = SU30VoiceGuard
  SoundAmbient            = MigAmbientLoop
  UnitSpecificSounds
    VoiceCreate           = SU30VoiceCreate
    Afterburner           = RaptorAfterburner
    VoiceGarrison         = SU30VoiceMove
    VoiceLowFuel          = SU30VoicelowFuel
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority          = UNIT
  KindOf                 = SALVAGER PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT
  Body                   = ActiveBody ModuleTag_02
    MaxHealth            = 1500.0
    InitialHealth        = 1500.0
  End

  Behavior = SpecialPowerCreate ModuleTag_03
    ;nothing
  End

  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 500.0
  End

  Behavior = JetAIUpdate ModuleTag_05
    OutOfAmmoDamagePerSecond  = 1%     ; amount of damage to take per SEC (not per frame) when out of ammo
                                        ; note that it's expressed as a percent of max health, not an absolute
    TakeoffDistForMaxLift     = 0%   ; larger numbers give more lift sooner when taking off
    TakeoffPause              = 500
    MinHeight                 = 5
    ReturnToBaseIdleTime      = 10000         ; if idle for this long, return to base, even if not out of ammo
    AutoAcquireEnemiesWhenIdle    = No
    MoodAttackCheckRate           = 1
  End
  Locomotor = SET_NORMAL Su35Locomotor
  Locomotor = SET_TAXIING BasicJetTaxiLocomotor
  ;Locomotor = SET_NORMAL_UPGRADED PAKFAlocomotor

;Upgrades----------------------------------------------------------
  ; Behavior = LocomotorSetUpgrade Upgrade_01
    ; TriggeredBy = Upgrade_ArmorCommandset
  ; End
  ; Behavior = MaxHealthUpgrade Upgrade_02
    ; TriggeredBy   = Upgrade_ArmorCommandset
    ; AddMaxHealth  = 22.0
    ; ChangeType    = ADD_CURRENT_HEALTH_TOO   ;Choices are PRESERVE_RATIO, ADD_CURRENT_HEALTH_TOO, and SAME_CURRENTHEALTH
  ; End
  ; Behavior                = ArmorUpgrade Upgrade_03
    ; TriggeredBy           = Upgrade_RussiaCountermeasures
  ; End
  ; Behavior                = CountermeasuresBehavior Upgrade_04
    ; TriggeredBy           = Upgrade_RussiaCountermeasures
    ; FlareTemplateName     = RuCountermeasureFlareJet
    ; FlareBoneBaseName     = Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
    ; VolleySize            = 1   ; Number of flares launched per volley (requires bones)
    ; VolleyArcAngle        = 0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
    ; VolleyVelocityFactor  = 0   ; Shoots out flares at a stronger velocity with a higher value.
    ; DelayBetweenVolleys   = 100  ; Time between flare volleys
    ; NumberOfVolleys       = 5    ; Number of times the volleys will fire before reloading
    ; ReloadTime            = 7000     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
    ; EvasionRate           = 35%   ; With active flares, the specified percentage will be diverted.
    ; ReactionLaunchLatency = 0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
    ; MissileDecoyDelay     = 50   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
  ; End
  ; Behavior = WeaponSetUpgrade Upgrade_05
    ; TriggeredBy = Upgrade_RussiaMissiles
  ; End
  ; Behavior = WeaponBonusUpgrade Upgrade_06
    ; TriggeredBy = Upgrade_ArmorCommandset
  ; End
;Deaths-------------------------------------------------------------
 ;--spinning and burning
 Behavior                            = JetSlowDeathBehavior DeathTag_01
    ProbabilityModifier = 50
    FXOnGroundDeath = FX_JetGroundDeathSmall
    OCLOnGroundDeath = OCL_SU37DeathFinalBlowUp
    FX = INITIAL FX_SU35DeathInitial
    OCL = INITIAL OCL_SU37SlowBD
 End
 ;--lifted nose up
 Behavior                            = JetSlowDeathBehavior DeathTag_02
  ProbabilityModifier = 50
  FX = INITIAL FX_SU35DeathInitial
  OCL = INITIAL OCL_SU37FastBD
 End
;Stealth-------------------------------------------------------------
;---------------------------------------------------------------------

  Behavior = FlammableUpdate ModuleTag_06
    AflameDuration = 5000        ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500      ; this often.
  End

  Behavior                       = TransitionDamageFX ModuleTag_07
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes Psys:SmokeSmallContinuous01
    ReallyDamagedFXList1         = Loc: X:0 Y:0 Z:0 FXList:FX_MIGDamageTransition
  End

  ; Behavior = FireWeaponUpdate ModuleTag_08
    ; Weapon = SU37StealthRadarWeapon
    ; ExclusiveWeaponDelay = 1000
  ; End

  ; Behavior = FireWeaponWhenDamagedBehavior ModuleTag_09
    ; StartsActive = Yes
    ; ReactionWeaponPristine = DroneRevealWeapon
    ; ReactionWeaponDamaged = DroneRevealWeapon
    ; ReactionWeaponReallyDamaged = DroneRevealWeapon
    ; ReactionWeaponRubble = DroneRevealWeapon
    ; DamageTypes = NONE +MELEE
  ; End

  Geometry                 = Box
  GeometryIsSmall          = Yes
  GeometryMajorRadius      = 26.0
  GeometryMinorRadius      = 16.0
  GeometryHeight           = 5.0
  Shadow                   = SHADOW_VOLUME
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length
  ;Scale = 0.99
End

;===========================================================================================
Object Boss_RussiaJetSu33

  ; *** ART Parameters ***
  SelectPortrait         = SACHornet2
  ButtonImage            = SACHornet2
  
  ;UpgradeCameo1 = Upgrade_RussiaCountermeasures
  ;UpgradeCameo2 = Upgrade_RussiaMissiles
  
  Draw = W3DModelDraw ModuleTag_01

    OkToChangeModelColor = Yes
    ExtraPublicBone = WeaponA01
    ExtraPublicBone = WeaponA02
    ExtraPublicBone = WeaponA03
    ExtraPublicBone = WeaponA04

    DefaultConditionState
      Model               = RU-SU33
      HideSubObject       = BurnerFX01 BurnerFX02
      WeaponLaunchBone    = PRIMARY WEAPONB
      WeaponLaunchBone    = SECONDARY WEAPONA
    End

    ConditionState        = JETEXHAUST
      Model               = RU-SU33
      WeaponLaunchBone    = PRIMARY WEAPONB
      WeaponLaunchBone    = SECONDARY WEAPONA
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail 
    End

    ConditionState       = JETEXHAUST JETAFTERBURNER
      Model               = RU-SU33
      WeaponLaunchBone    = PRIMARY WEAPONB
      WeaponLaunchBone    = SECONDARY WEAPONA
      ShowSubObject      = BurnerFX01 BurnerFX02
      ParticleSysBone     = ENGINE01 JetExhaust
      ParticleSysBone     = ENGINE02 JetExhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = REALLYDAMAGED
      Model               = RU-SU33_D
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = RUBBLE
      Model               = RU-SU33_D
    End

    ConditionState        = REALLYDAMAGED JETEXHAUST
      Model               = RU-SU33_D
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = REALLYDAMAGED JETEXHAUST JETAFTERBURNER
      Model               = RU-SU30MK2_D
      ShowSubObject       = BurnerFX01 BurnerFX02
      ParticleSysBone     = ENGINE01 JetExhaust
      ParticleSysBone     = ENGINE02 JetExhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = RUBBLE JETEXHAUST JETAFTERBURNER
      Model               = RU-SU33_D
      ;HideSubObject is needed cause there're inherited from default condition state      
      HideSubObject       = None 
      ShowSubObject       = None
      ParticleSysBone     = ENGINE01 JetExhaust
      ParticleSysBone     = ENGINE02 JetExhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

  End

  ; ***DESIGN parameters ***
  DisplayName             = OBJECT:Su33
  EditorSorting           = VEHICLE
  Side                    = Boss
  TransportSlotCount      = 0          ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange             = 400.0 
  ShroudClearingRange     = 350

  Prerequisites
    Object = Boss_Airfield
	Object = Boss_RussiaNavalYard
  End

  WeaponSet
    Conditions        = None 
    Weapon            = PRIMARY    SU33missileweapon
	;Weapon            = PRIMARY    RaptorJetMissileWeapon
	;Weapon            = PRIMARY    RaptorJetMissileWeaponAir
  End

  ; WeaponSet
    ; Conditions        = PLAYER_UPGRADE
    ; Weapon            = PRIMARY    SU33missileweapon2
  ; End

  ArmorSet
    Conditions           = None
    Armor                = RussiaAirplaneArmor
    DamageFX             = AAHitscanDamageFX
  End

  ; ArmorSet
    ; Conditions            = PLAYER_UPGRADE
    ; Armor                 = RussiaAdvancedAirplaneArmor
    ; DamageFX              = AAHitscanDamageFX
  ; End

  BuildCost              = 18000
  BuildTime              = 15
  ExperienceValue        = 100 100 175 300  ;Experience point value at each level
  ExperienceRequired     = 0 200 300 500   ;Experience points needed to gain each level
  IsTrainable            = Yes             ;Can gain experience
  CrusherLevel           = 1  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet             = FighterJetCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect             = SU30VoiceSelect
  VoiceMove               = SU30VoiceMove
  VoiceAttack             = SU30VoiceAttack
  VoiceAttackAir          = SU30VoiceAttack
  VoiceGuard              = SU30VoiceGuard
  SoundAmbient            = MigAmbientLoop
  UnitSpecificSounds
    VoiceCreate           = SU30VoiceCreate
    Afterburner           = RaptorAfterburner
    VoiceGarrison         = SU30VoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority          = UNIT
  KindOf                 = SALVAGER PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT
  Body                   = ActiveBody ModuleTag_02
    MaxHealth            = 750.0
    InitialHealth        = 750.0
  End

  Behavior = SpecialPowerCreate ModuleTag_03
    ;nothing
  End

  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 500.0
  End

  Behavior = JetAIUpdate ModuleTag_05
    OutOfAmmoDamagePerSecond  = 1%  ; amount of damage to take per SEC (not per frame) when out of ammo
                                    ; note that it's expressed as a percent of max health, not an absolute
    TakeoffDistForMaxLift     = 0%   ; larger numbers give more lift sooner when taking off
    TakeoffPause              = 500
    MinHeight                 = 5
    ParkingOffset             = 3             ; scooch it a little forward so the tail doesn't hit the doors
    ReturnToBaseIdleTime      = 10000         ; if idle for this long, return to base, even if not out of ammo
    AutoAcquireEnemiesWhenIdle = No
	MoodAttackCheckRate           = 1
  End
  Locomotor = SET_NORMAL CWCruSu27Locomotor
  Locomotor = SET_TAXIING BasicJetTaxiLocomotor


;Upgrades----------------------------------------------------------
  ; Behavior                = ArmorUpgrade Upgrade_01
    ; TriggeredBy           = Upgrade_RussiaCountermeasures
  ; End
  ; Behavior                = CountermeasuresBehavior Upgrade_02
    ; TriggeredBy           = Upgrade_RussiaCountermeasures
    ; FlareTemplateName     = CountermeasureFlare
    ; FlareBoneBaseName     = Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
    ; VolleySize            = 3     ; Number of flares launched per volley (requires bones)
    ; VolleyArcAngle        = 90.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
    ; VolleyVelocityFactor  = 1.0   ; Shoots out flares at a stronger velocity with a higher value.
    ; DelayBetweenVolleys   = 600  ; Time between flare volleys
    ; NumberOfVolleys       = 5     ; Number of times the volleys will fire before reloading
    ; ReloadTime            = 0     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
    ; EvasionRate           = 35%   ; With active flares, the specified percentage will be diverted.
    ; ReactionLaunchLatency = 0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
    ; MissileDecoyDelay     = 200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
  ; End
  ; Behavior = WeaponSetUpgrade Upgrade_03
    ; TriggeredBy = Upgrade_RussiaMissiles
  ; End
;Deaths-------------------------------------------------------------
  Behavior                          = JetSlowDeathBehavior DeathTag_01
    FXOnGroundDeath                 = FX_JetOnGroundDeath
    OCLOnGroundDeath                = OCL_MIGDeathFinalBlowUp
    DestructionDelay                = 99999999  ; destruction will happen when we
    RollRate                        = 0.2
    RollRateDelta                   = 100%      ;each frame, rollrate = rollrate * rollrateDelta
    PitchRate                       = 0.0
    FallHowFast                     = 110.0%    ;Bigger is faster (can be over 100%,it's a fraction of gravity)
    FXInitialDeath                  = FX_SU35DeathInitial
    OCLInitialDeath                 = OCL_MIGDeathInitial
    DelaySecondaryFromInitialDeath  = 500       ; in milliseconds
    FXSecondary                     = FX_JetDeathSecondary
    OCLSecondary                    = OCL_MIGDeathSecondary
    FXHitGround                     = FX_JetDeathHitGround
    OCLHitGround                    = OCL_SU37DeathHitGround
    DelayFinalBlowUpFromHitGround   = 200       ; in milliseconds
  ; FXFinalBlowUp                   = FX_spectreGunshipDeathExplosion
    OCLFinalBlowUp                  = OCL_SU37DeathFinalBlowUp
  End
;Stealth-------------------------------------------------------------
;---------------------------------------------------------------------

  Behavior = FlammableUpdate ModuleTag_06
    AflameDuration = 5000        ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500      ; this often.
  End

  Behavior                       = TransitionDamageFX ModuleTag_07
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes Psys:SmokeSmallContinuous01
    ReallyDamagedFXList1         = Loc: X:0 Y:0 Z:0 FXList:FX_MIGDamageTransition
  End

  ; Behavior = FireWeaponUpdate ModuleTag_08
    ; Weapon = SU37StealthRadarWeapon
    ; ExclusiveWeaponDelay = 1000
  ; End

  ; Behavior = FireWeaponWhenDamagedBehavior ModuleTag_09
    ; StartsActive = Yes
    ; ReactionWeaponPristine = DroneRevealWeapon
    ; ReactionWeaponDamaged = DroneRevealWeapon
    ; ReactionWeaponReallyDamaged = DroneRevealWeapon
    ; ReactionWeaponRubble = DroneRevealWeapon
    ; DamageTypes = NONE +MELEE
  ; End

  Geometry                 = Box
  GeometryIsSmall          = Yes
  GeometryMajorRadius      = 26.0
  GeometryMinorRadius      = 16.0
  GeometryHeight           = 5.0
  Shadow                   = SHADOW_VOLUME
  
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length
  ;Scale = 0.99
End

;===============================================================================================
Object Mig35SlowBDObject
  ; *** ART Parameters ***
  Draw                = W3DModelDraw ModuleTag_01
    DefaultConditionState
      Model               = RUMIG_35_R
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ParticleSysBone     = None JetSmokeLarge
      ParticleSysBone     = None JetFireLarge
    End
  End
  ; *** ENGINEERING Parameters ***
  KindOf = CAN_CAST_REFLECTIONS NO_COLLIDE HULK IGNORED_IN_GUI UNATTACKABLE
  Behavior                  = PhysicsBehavior ModuleTag_02
    Mass                    = 0.8
    AllowCollideForce       = No
    ShockResistance = 1
    CenterOfMassOffset       = 1
  End
  Behavior = SlowDeathBehavior DeathTag_01
    ;FX                  = FINAL   FX_JetHitGround
    OCL                 = FINAL   OCL_Mig35DeathWatercheck
    Weapon              = FINAL   FallingJetWeapon
  End
  Behavior = HeightDieUpdate DeathTag_02
    TargetHeight = 1
    TargetHeightIncludesStructures = Yes
    InitialDelay                    = 1 ; Can't explode in the first second so we don't explode on the pad
  End
  Geometry                 = Box
  GeometryIsSmall          = Yes
  GeometryMajorRadius      = 1.0
  GeometryMinorRadius      = 1.0
  GeometryHeight           = 1.0
  Shadow                   = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length.
End

Object Mig35FastBDObject
  Draw                = W3DModelDraw ModuleTag_01
    DefaultConditionState
      Model               = RUMIG_35_R
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ParticleSysBone     = None JetSmokeLarge
      ParticleSysBone     = None JetFireLarge
    End
  End
  KindOf = CAN_CAST_REFLECTIONS NO_COLLIDE HULK IGNORED_IN_GUI UNATTACKABLE
  Behavior                  = PhysicsBehavior ModuleTag_02
    Mass                    = 1.83
    AllowCollideForce       = No
    ShockResistance = 1
    CenterOfMassOffset       = 1
  End
  Behavior = SlowDeathBehavior DeathTag_01
    ;FX                  = FINAL   FX_JetHitGround
    OCL                 = FINAL   OCL_Mig35DeathWatercheck
    Weapon              = FINAL   FallingJetWeapon
  End
  Behavior = HeightDieUpdate DeathTag_02
    TargetHeight = 1
    TargetHeightIncludesStructures = Yes
    InitialDelay                    = 1 ; Can't explode in the first second so we don't explode on the pad
  End
  Geometry                 = Box
  GeometryIsSmall          = Yes
  GeometryMajorRadius      = 1.0
  GeometryMinorRadius      = 1.0
  GeometryHeight           = 1.0
  Shadow                   = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length.
End

;------------------------------------------------------------------------------
Object Boss_RussiaJetMIG35

  ; *** ART Parameters ***
  SelectPortrait         = SACRaptor_L
  ButtonImage            = SACRaptor
  
  ;UpgradeCameo1 = Upgrade_RussiaCountermeasures
  ;UpgradeCameo2 = Upgrade_RussiaMissiles
  
  Draw = W3DModelDraw ModuleTag_01

    OkToChangeModelColor = Yes
    ExtraPublicBone = WeaponA01
    ExtraPublicBone = WeaponA02
    ExtraPublicBone = WeaponA03
    ExtraPublicBone = WeaponA04
    ExtraPublicBone = WeaponA05
    ExtraPublicBone = WeaponA06
    ExtraPublicBone = WeaponA07
    ExtraPublicBone = WeaponA08

    ProjectileBoneFeedbackEnabledSlots = PRIMARY SECONDARY

    DefaultConditionState
      Model               = RUMIG_35
      HideSubObject       = WEAPONA05 WEAPONA06 HOUSECOLOR06 BurnerFX01 BurnerFX02
      WeaponLaunchBone    = PRIMARY WEAPONA
      WeaponLaunchBone    = SECONDARY WEAPONA
      WeaponFireFXBone = TERTIARY Muzzle01
      WeaponMuzzleFlash = TERTIARY Muzzle01
      WeaponLaunchBone = TERTIARY Muzzle01
    End

    ConditionState        = JETEXHAUST
      Model               = RUMIG_35
      HideSubObject       = WEAPONA05 WEAPONA06 HOUSECOLOR06
      WeaponLaunchBone    = PRIMARY WEAPONA
      WeaponLaunchBone    = SECONDARY WEAPONA
      WeaponFireFXBone = TERTIARY Muzzle01
      WeaponMuzzleFlash = TERTIARY Muzzle01
      WeaponLaunchBone = TERTIARY Muzzle01
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail 
    End

    ConditionState       = JETEXHAUST JETAFTERBURNER
      Model               = RUMIG_35
      HideSubObject       = WEAPONA05 WEAPONA06 HOUSECOLOR06
      WeaponLaunchBone    = PRIMARY WEAPONA
      WeaponLaunchBone    = SECONDARY WEAPONA
      WeaponFireFXBone = TERTIARY Muzzle01
      WeaponMuzzleFlash = TERTIARY Muzzle01
      WeaponLaunchBone = TERTIARY Muzzle01
      ShowSubObject      = BurnerFX01 BurnerFX02
      ParticleSysBone     = ENGINE01 JetExhaust 
      ParticleSysBone     = ENGINE02 JetExhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = REALLYDAMAGED
      Model               = RUMIG_35D
      HideSubObject       = WEAPONA05 WEAPONA06 HOUSECOLOR06
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = RUBBLE
      Model               = RUMIG_35_R
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = REALLYDAMAGED JETEXHAUST
      Model               = RUMIG_35D
      HideSubObject       = WEAPONA05 WEAPONA06 HOUSECOLOR06
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = REALLYDAMAGED JETEXHAUST JETAFTERBURNER
      Model               = RUMIG_35D
      HideSubObject       = WEAPONA05 WEAPONA06 HOUSECOLOR06
      ShowSubObject       = BurnerFX01 BurnerFX02
      ParticleSysBone     = ENGINE01 JetExhaust
      ParticleSysBone     = ENGINE02 JetExhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = RUBBLE JETEXHAUST JETAFTERBURNER
      Model               = RUMIG_35_R
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = WEAPONSET_PLAYER_UPGRADE
      Model               = RUMIG_35
      ShowSubObject       = WEAPONA05 WEAPONA06 HOUSECOLOR06 BurnerFX01 BurnerFX02
      WeaponLaunchBone    = PRIMARY WEAPONA
      WeaponLaunchBone    = SECONDARY WEAPONA
      WeaponFireFXBone = TERTIARY Muzzle01
      WeaponMuzzleFlash = TERTIARY Muzzle01
      WeaponLaunchBone = TERTIARY Muzzle01
    End

    ConditionState        = WEAPONSET_PLAYER_UPGRADE JETEXHAUST
      Model               = RUMIG_35
      ShowSubObject       = WEAPONA05 WEAPONA06 HOUSECOLOR06
      WeaponLaunchBone    = PRIMARY WEAPONA
      WeaponLaunchBone    = SECONDARY WEAPONA
      WeaponFireFXBone = TERTIARY Muzzle01
      WeaponMuzzleFlash = TERTIARY Muzzle01
      WeaponLaunchBone = TERTIARY Muzzle01
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail 
    End

    ConditionState       = WEAPONSET_PLAYER_UPGRADE JETEXHAUST JETAFTERBURNER
      Model               = RUMIG_35
      ShowSubObject       = WEAPONA05 WEAPONA06 HOUSECOLOR06 BurnerFX01 BurnerFX02
      WeaponLaunchBone    = PRIMARY WEAPONA
      WeaponLaunchBone    = SECONDARY WEAPONA
      WeaponFireFXBone = TERTIARY Muzzle01
      WeaponMuzzleFlash = TERTIARY Muzzle01
      WeaponLaunchBone = TERTIARY Muzzle01
      ParticleSysBone     = ENGINE01 JetExhaust
      ParticleSysBone     = ENGINE02 JetExhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
      Model               = RUMIG_35D
      ShowSubObject       = WEAPONA05 WEAPONA06 HOUSECOLOR06
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = WEAPONSET_PLAYER_UPGRADE RUBBLE
      Model               = RUMIG_35_R
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED JETEXHAUST
      Model               = RUMIG_35D
      ShowSubObject       = WEAPONA05 WEAPONA06 HOUSECOLOR06
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED JETEXHAUST JETAFTERBURNER
      Model               = RUMIG_35D
      ShowSubObject       = WEAPONA05 WEAPONA06 HOUSECOLOR06 BurnerFX01 BurnerFX02
      ParticleSysBone     = ENGINE01 JetExhaust
      ParticleSysBone     = ENGINE02 JetExhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = WEAPONSET_PLAYER_UPGRADE RUBBLE JETEXHAUST JETAFTERBURNER
      Model               = RUMIG_35_R
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

  End

  Draw = W3DModelDraw ModuleTag_PickBox
    DefaultConditionState
      Model               = JetPickBox
    End
  End

  ; ***DESIGN parameters ***
  DisplayName             = OBJECT:Mig35
  EditorSorting           = VEHICLE
  Side                    = Boss
  TransportSlotCount      = 0          ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange             = 450.0 
  ShroudClearingRange     = 430.0

  Prerequisites
    Object = Boss_Airfield
	Object = Boss_TechCentr
  End

  WeaponSet
    Conditions        = None 
    Weapon            = PRIMARY    Mig35missileweapon
    ;Weapon            = TERTIARY    SU-37MinigunWeapon
  End

  ; WeaponSet
    ; Conditions        = PLAYER_UPGRADE
    ; Weapon            = PRIMARY    Mig35missileweapon2
    ; Weapon            = TERTIARY    SU-37MinigunWeapon
  ; End

  ArmorSet
    Conditions           = None
    Armor                = RussiaAirplaneArmor
    DamageFX             = AAHitscanDamageFX
  End

  ; ArmorSet
    ; Conditions            = PLAYER_UPGRADE
    ; Armor                 = RussiaAdvancedAirplaneArmor
    ; DamageFX              = AAHitscanDamageFX
  ; End

  BuildCost               = 40000
  BuildTime               = 25   
  ExperienceValue         = 100 100 175 300  ;Experience point value at each level
  ExperienceRequired      = 0 250 400 600   ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 1  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet             = FighterJetCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect             = MiG35Select
  VoiceMove               = MiG35Move
  VoiceAttack             = MiG35Attack
  VoiceAttackAir          = MiG35AttackAir
  VoiceGuard              = MiG35Guard
  SoundAmbient            = MigAmbientLoop
  UnitSpecificSounds
    VoiceCreate           = MiG35Create
    VoiceLowFuel          = MiG35LowFuel
    Afterburner           = RaptorAfterburner
    VoiceGarrison         = MiG35Move
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority          = UNIT
  KindOf                 = SALVAGER PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT
  Body                   = ActiveBody ModuleTag_02
    MaxHealth            = 1000.0
    InitialHealth        = 1000.0
  End

  Behavior = SpecialPowerCreate ModuleTag_03
    ;nothing
  End

  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 500.0
  End

  Behavior = JetAIUpdate ModuleTag_05
    OutOfAmmoDamagePerSecond  = 1%
    TakeoffDistForMaxLift     = 0%
    TakeoffPause              = 500
    MinHeight                 = 5
    ReturnToBaseIdleTime      = 10000
    AutoAcquireEnemiesWhenIdle    = No
    MoodAttackCheckRate           = 1
  End

  Locomotor = SET_NORMAL Mig35locomotor
  Locomotor = SET_TAXIING BasicJetTaxiLocomotor
  ;Locomotor = SET_NORMAL_UPGRADED su-37L2locomotor


;Upgrades----------------------------------------------------------
  ; Behavior = LocomotorSetUpgrade Upgrade_01
    ; TriggeredBy = Upgrade_ArmorCommandset
  ; End
  ; Behavior = MaxHealthUpgrade Upgrade_02
    ; TriggeredBy   = Upgrade_ArmorCommandset
    ; AddMaxHealth  = 18.0
    ; ChangeType    = ADD_CURRENT_HEALTH_TOO   ;Choices are PRESERVE_RATIO, ADD_CURRENT_HEALTH_TOO, and SAME_CURRENTHEALTH
  ; End
  ; Behavior                = ArmorUpgrade Upgrade_03
    ; TriggeredBy           = Upgrade_RussiaCountermeasures
  ; End
  ; Behavior                = CountermeasuresBehavior Upgrade_04
    ; TriggeredBy           = Upgrade_RussiaCountermeasures
    ; FlareTemplateName     = RuCountermeasureFlareJet
    ; FlareBoneBaseName     = Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
    ; VolleySize            = 1   ; Number of flares launched per volley (requires bones)
    ; VolleyArcAngle        = 0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
    ; VolleyVelocityFactor  = 0   ; Shoots out flares at a stronger velocity with a higher value.
    ; DelayBetweenVolleys   = 100  ; Time between flare volleys
    ; NumberOfVolleys       = 5    ; Number of times the volleys will fire before reloading
    ; ReloadTime            = 7000     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
    ; EvasionRate           = 30%   ; With active flares, the specified percentage will be diverted.
    ; ReactionLaunchLatency = 0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
    ; MissileDecoyDelay     = 50   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
  ; End
  ; Behavior = WeaponSetUpgrade Upgrade_05
    ; TriggeredBy = Upgrade_RussiaMissiles
  ; End
  ; Behavior = WeaponBonusUpgrade Upgrade_06
    ; TriggeredBy = Upgrade_ArmorCommandset
  ; End
;Deaths-------------------------------------------------------------
 Behavior                            = JetSlowDeathBehavior DeathTag_01
    ProbabilityModifier = 50
    FXOnGroundDeath = FX_JetGroundDeathSmall
    OCLOnGroundDeath = OCL_Mig35DeathFinalBlowUp
    FX = INITIAL FX_FulcrumDeathInitial
    OCL = INITIAL OCL_Mig35SlowBD
 End
 ;--lifted nose up
 Behavior                            = JetSlowDeathBehavior DeathTag_02
    ProbabilityModifier = 50
    FX = INITIAL FX_FulcrumDeathInitial
    OCL = INITIAL OCL_Mig35FastBD
 End
;Stealth-------------------------------------------------------------
;---------------------------------------------------------------------
  Behavior = FlammableUpdate ModuleTag_06
    AflameDuration = 5000        ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500      ; this often.
  End

  Behavior                       = TransitionDamageFX ModuleTag_07
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes Psys:SmokeSmallContinuous01
    ReallyDamagedFXList1         = Loc: X:0 Y:0 Z:0 FXList:FX_MIGDamageTransition
  End

  ; Behavior = FireWeaponUpdate ModuleTag_08
    ; Weapon = SU37StealthRadarWeapon
    ; ExclusiveWeaponDelay = 1000
  ; End

  ; Behavior = FireWeaponWhenDamagedBehavior ModuleTag_09
    ; StartsActive = Yes
    ; ReactionWeaponPristine = DroneRevealWeapon
    ; ReactionWeaponDamaged = DroneRevealWeapon
    ; ReactionWeaponReallyDamaged = DroneRevealWeapon
    ; ReactionWeaponRubble = DroneRevealWeapon
    ; DamageTypes = NONE +MELEE
  ; End

  Geometry                 = Box
  GeometryIsSmall          = Yes
  GeometryMajorRadius      = 26.0
  GeometryMinorRadius      = 16.0
  GeometryHeight           = 5.0
  Shadow                   = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length
  ;Scale = 0.99
End

;========================================================================================
Object Boss_RussiaInterceptorMIG31

  ; *** ART Parameters ***
  SelectPortrait         = SNMiG31
  ButtonImage            = SNMiG31_s
  
  ;UpgradeCameo1 = Upgrade_AmericaCountermeasures
  ;UpgradeCameo5 = NONE
  
  Draw = W3DModelDraw ModuleTag_01

    OkToChangeModelColor = Yes
    ExtraPublicBone = WeaponA01
    ExtraPublicBone = WeaponA02
    ExtraPublicBone = WeaponA03
    ExtraPublicBone = WeaponA04
    ExtraPublicBone = WeaponB01
    ExtraPublicBone = WeaponB02

    ProjectileBoneFeedbackEnabledSlots = PRIMARY SECONDARY

    DefaultConditionState
      Model               = RU-Mig31
      HideSubObject       = BurnerFX01 BurnerFX02
      WeaponLaunchBone    = SECONDARY WeaponB
      WeaponLaunchBone    = TERTIARY WeaponA
    End

    ConditionState        = JETEXHAUST
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState       = JETEXHAUST JETAFTERBURNER
      ShowSubObject      = BurnerFX01 BurnerFX02
      ParticleSysBone     = Exhaust01 JetExhaust
      ParticleSysBone     = Exhaust02 JetExhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = REALLYDAMAGED
      Model               = RU-Mig31_D
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = RUBBLE
      Model               = RU-Mig31_D
    End

    ConditionState        = REALLYDAMAGED JETEXHAUST
      Model               = RU-Mig31_D
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = REALLYDAMAGED JETEXHAUST JETAFTERBURNER
      Model               = RU-Mig31_D
      ShowSubObject       = BurnerFX01 BurnerFX02
      ParticleSysBone     = Engine01 JetExhaust
      ParticleSysBone     = Engine02 JetExhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = RUBBLE JETEXHAUST JETAFTERBURNER
      Model               = RU-Mig31_D
      ;HideSubObject is needed cause there're inherited from default condition state      
      HideSubObject       = None 
      ShowSubObject       = None
      ParticleSysBone     = Engine01 JetExhaust
      ParticleSysBone     = Engine02 JetExhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

  End

  ; ***DESIGN parameters ***
  DisplayName             = OBJECT:MIG31
  EditorSorting           = VEHICLE
  Side                    = Boss
  TransportSlotCount      = 0          ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange             = 500.0 
  ShroudClearingRange     = 500.0

  Prerequisites
    Object = Boss_Airfield
	Object = Boss_TechCentr
  End

  WeaponSet
    Conditions        = None 
    Weapon            = SECONDARY    Mig31missileWeapon
  End

  ArmorSet
    Conditions           = None
    Armor                = RussiaAirplaneArmor
    DamageFX             = None
  End

  ; ArmorSet
    ; Conditions            = PLAYER_UPGRADE
    ; Armor                 = RussiaAdvancedAirplaneArmor
    ; DamageFX              = None
  ; End

  BuildCost               = 60000
  BuildTime               = 20  
  ExperienceValue         = 100 100 200 300   ;Experience point value at each level
  ExperienceRequired      = 0 200 400 600  ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 1  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet             = MIGInterceptorCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect             = MiG35Select
  VoiceMove               = MiG35Move
  VoiceAttack             = MiG35Attack
  VoiceAttackAir          = MiG35AttackAir
  VoiceGuard              = MiG35Guard
  SoundAmbient            = MigAmbientLoop
  UnitSpecificSounds
    VoiceCreate           = MiG35Create
    Afterburner           = RaptorAfterburner
    VoiceGarrison         = MiG35Move
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority          = UNIT
  KindOf                 = PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT
  Body                   = ActiveBody ModuleTag_02
    MaxHealth            = 1500.0
    InitialHealth        = 1500.0
  End

  Behavior = PhysicsBehavior ModuleTag_03
    Mass = 500.0
  End

;Upgrades----------------------------------------------------------
  ; Behavior                = ArmorUpgrade Upgrade_01
    ; TriggeredBy           = Upgrade_AmericaCountermeasures
  ; End
  ; Behavior                = CountermeasuresBehavior Upgrade_02
    ; TriggeredBy           = Upgrade_AmericaCountermeasures
    ; FlareTemplateName     = RuCountermeasureECMJet
    ; FlareBoneBaseName     = Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
    ; VolleySize            = 1   ; Number of flares launched per volley (requires bones)
    ; VolleyArcAngle        = 0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
    ; VolleyVelocityFactor  = 0   ; Shoots out flares at a stronger velocity with a higher value.
    ; DelayBetweenVolleys   = 100  ; Time between flare volleys
    ; NumberOfVolleys       = 4    ; Number of times the volleys will fire before reloading
    ; ReloadTime            = 7000     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
    ; EvasionRate           = 35%   ; With active flares, the specified percentage will be diverted.
    ; ReactionLaunchLatency = 0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
    ; MissileDecoyDelay     = 50   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
  ; End
;Deaths-------------------------------------------------------------
  Behavior                          = JetSlowDeathBehavior DeathTag_01
    FXOnGroundDeath                 = FX_JetOnGroundDeath
    OCLOnGroundDeath                = OCL_MIGDeathFinalBlowUp
    DestructionDelay                = 99999999  ; destruction will happen when we
    RollRate                        = 0.2
    RollRateDelta                   = 100%      ;each frame, rollrate = rollrate * rollrateDelta
    PitchRate                       = 0.0
    FallHowFast                     = 110.0%    ;Bigger is faster (can be over 100%,it's a fraction of gravity)
    FXInitialDeath                  = FX_SUDeathInitial
    OCLInitialDeath                 = OCL_MIGDeathInitial
    DelaySecondaryFromInitialDeath  = 500       ; in milliseconds
    FXSecondary                     = FX_JetDeathSecondary
    OCLSecondary                    = OCL_MIGDeathSecondary
    FXHitGround                     = FX_JetDeathHitGround
    OCLHitGround                    = OCL_Mig31DeathHitGround
    DelayFinalBlowUpFromHitGround   = 200       ; in milliseconds
    FXFinalBlowUp                   = FX_JetDeathFinalBlowUp
    OCLFinalBlowUp                  = OCL_Mig31DeathFinalBlowUp
  End
  Behavior = JetAIUpdate ModuleTag_04
    OutOfAmmoDamagePerSecond  = 1%     ; amount of damage to take per SEC (not per frame) when out of ammo
                                        ; note that it's expressed as a percent of max health, not an absolute
    TakeoffDistForMaxLift     = 0%   ; larger numbers give more lift sooner when taking off
    TakeoffPause              = 500
    MinHeight                 = 5
    ReturnToBaseIdleTime      = 10000         ; if idle for this long, return to base, even if not out of ammo
    AutoAcquireEnemiesWhenIdle    = Yes
    MoodAttackCheckRate           = 1
  End
  Locomotor = SET_NORMAL Mig-31locomotor
  Locomotor = SET_TAXIING BasicJetTaxiLocomotor
  Behavior = FlammableUpdate ModuleTag_05
    AflameDuration = 5000        ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500      ; this often.
  End
  Behavior                       = TransitionDamageFX ModuleTag_06
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes Psys:SmokeSmallContinuous01
    ReallyDamagedFXList1         = Loc: X:0 Y:0 Z:0 FXList:FX_MIGDamageTransition
  End
  Geometry                 = Box
  GeometryIsSmall          = Yes
  GeometryMajorRadius      = 14.0
  GeometryMinorRadius      = 7.0
  GeometryHeight           = 5.0
  Shadow                   = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length
  Scale = 1.0
End

;==========================================================================================
Object Boss_RussiaVehicleCorvette

  ;  ART Parameters 
  SelectPortrait         = SACruiser_L
  ButtonImage            = SACruiser
  
  ;UpgradeCameo1 = Upgrade_Passive
  ;UpgradeCameo2 = Upgrade_Active
  ;UpgradeCameo4 = Upgrade_Range
  ;UpgradeCameo5 = Upgrade_AdvancedWarhead

  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes

    DefaultConditionState
      Model                           = RU-Corvette
      Animation = RU-Corvette.RU-Corvette
      AnimationMode = ONCE
      Turret                          = TURRET01
      TurretPitch         = TURRETEL
      WeaponLaunchBone                = PRIMARY Muzzle01
      WeaponFireFXBone                = PRIMARY Muzzle01
      WeaponLaunchBone                = SECONDARY WEAPONA
      WeaponFireFXBone                = SECONDARY WEAPONA
      WeaponLaunchBone                = TERTIARY WEAPONB
      WeaponFireFXBone                = TERTIARY WEAPONB
      ParticleSysBone = Wave01 SmallShipRest
      ParticleSysBone = Wave02 SmallShipRest
    End
      
    ConditionState                    = RUBBLE
      Model                           = RU-Corvette_D
      Turret                          = TURRET01
      TurretPitch         = TURRETEL
      WeaponLaunchBone                = PRIMARY Muzzle01
      WeaponFireFXBone                = PRIMARY Muzzle01
      WeaponLaunchBone                = SECONDARY WEAPONA
      WeaponFireFXBone                = SECONDARY WEAPONA
      WeaponLaunchBone                = TERTIARY WEAPONB
      WeaponFireFXBone                = TERTIARY WEAPONB
      ParticleSysBone = Wave01 SmallShipRest
      ParticleSysBone = Wave02 SmallShipRest
    End

    ConditionState    = OVER_WATER
      Model                           = RU-Corvette
      Animation = RU-Corvette.RU-Corvette
      AnimationMode = ONCE
      ParticleSysBone = Wave01 ShipWave
    End

    ConditionState    = OVER_WATER MOVING 
      Model                           = RU-Corvette
      Animation = RU-Corvette.RU-Corvette
      AnimationMode = ONCE
      ParticleSysBone = Mist01 ShipWave
    End

    ConditionState    = REALLYDAMAGED 
      Model                           = RU-Corvette_D
      ParticleSysBone = CoreFX01 RocketBuggyDust
    End

    ConditionState    = REALLYDAMAGED OVER_WATER
      Model                           = RU-Corvette_D
      ParticleSysBone = Wave01 ShipWave
    End

    ConditionState    = REALLYDAMAGED OVER_WATER MOVING 
      Model                           = RU-Corvette_D
      ParticleSysBone = Mist01 ShipWave
    End

    ConditionState  = RUBBLE OVER_WATER
      Model                           = RU-Corvette_D
      Animation = RU-Corvette_D.RU-Corvette_D
      AnimationMode = ONCE
      ParticleSysBone     = Wave01 airCarrierDeathSplash0
      ParticleSysBone     = Wave02 airCarrierDeathSplash0
    End
  End

  ; DESIGN parameters 
  DisplayName = OBJECT:Corvette
  Side = Boss
  EditorSorting = VEHICLE
  TransportSlotCount = 0                ;how many slots we take in a transport (0 == not transportable)
  WeaponSet
    Conditions = None 
    Weapon = PRIMARY CorvetteGun
    Weapon = SECONDARY CorvetteMissileWeapon
    Weapon = TERTIARY SA17MissileWeapon
  End
  
  ArmorSet
    Conditions      = None
    Armor           = TankArmor
    DamageFX        = TankDamageFX
  End
  BuildCost       = 37000
  BuildTime       = 40.0          ;in seconds    
  VisionRange     = 350
  ShroudClearingRange = 350
  Prerequisites
    Object = Boss_RussiaNavalYard
  End

  ExperienceValue = 150 150 300 500    ;Experience point value at each level
  ExperienceRequired = 0 200 400 700  ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 0  ;What can I crush 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 0  ;What am I        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet    = CruiserCommandSet

  ;  AUDIO Parameters 
  VoiceSelect           = IskanderVoiceSelect
  VoiceMove             = IskanderVoiceMove
  VoiceGuard            = IskanderVoiceGuard
  VoiceAttack           = IskanderVoiceAttack
  SoundMoveStart        = ScudLauncherMoveStart
  SoundMoveStartDamaged = ScudLauncherMoveStart
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate         = IskanderVoiceCreate
    VoiceGuard            = IskanderVoiceMove
    Deploy              = NukeCannonDeploy
    Undeploy            = NukeCannonUnDeploy
  End


  ;  ENGINEERING Parameters 
  RadarPriority = UNIT
  KindOf = SALVAGER PRELOAD SELECTABLE CAN_ATTACK DONT_AUTO_CRUSH_INFANTRY CAN_CAST_REFLECTIONS VEHICLE SCORE BOAT
  
  Body = ActiveBody ModuleTag_02
    MaxHealth       = 12500.0
    InitialHealth   = 12500.0
  End

  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      TurretTurnRate = 290   ; turn rate, in degrees per sec
      ;TurretPitchRate     = 90
      FiresWhileTurning   = Yes
      NaturalTurretPitch  = 0 ; this keeps it aimed half way between land and sky
      AllowsPitch         = No
      ControlledWeaponSlots = SECONDARY TERTIARY
    End
    AutoAcquireEnemiesWhenIdle = Yes
  End

  Locomotor = SET_NORMAL CorvetteLocomotor

  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 40.0
  End
    
;Upgrades----------------------------------------------------------
;Deaths-------------------------------------------------------------
Behavior = FXListDie DeathTag_01
    ;DeathFX = FX_GenericMediumShipSinkingDeath
  End

  Behavior = HelicopterSlowDeathBehavior DeathTag_02
    DestructionDelay                = 12000        ; the destruction delay
    SpiralOrbitTurnRate             = 75.0           ; in degrees per second, bigger # = tighter spiral
    SpiralOrbitForwardSpeed         = 27.0           ; bigger # = larger spiral
    SpiralOrbitForwardSpeedDamping  = .9999           ; smaller #'s = slow down faster
    MaxBraking                      = 210   ; max braking we can use during death spiral (lower num = wilder spiral)    
    MinSelfSpin                     = 4                     ; in degrees per second
    MaxSelfSpin                     = 12                     ; in degrees per second
    SelfSpinUpdateDelay             = 600                     ; in milliseconds
    SelfSpinUpdateAmount            = 5                      ; in degrees   
    FallHowFast                     = 3.0%                   ; fraction of gravity, lower = take longer to fall
    DelayFromGroundToFinalDeath     = 1200
    FXHitGround                     = FX_HelicopterHitGround
    OCLHitGround                    = OCL_HelicopterHitGround
    FXFinalBlowUp                   = FX_HelixHelicopterBlowUpBig
    FinalRubbleObject               = MI35RubbleHull
  End
;Stealth-------------------------------------------------------------
;---------------------------------------------------------------------

  Behavior = FlammableUpdate ModuleTag_05
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 5       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = FloatUpdate ModuleTag_06
    Enabled = No ; 'no' because we dont want to be lifted by this update, just swayed around like a buoy
  End

  Behavior = StealthUpdate ModuleStealth_GPSScramblerGenericStealthModule
    StealthDelay                = 2000 ; msec
    InnateStealth               = Yes
    StealthForbiddenConditions  = ATTACKING USING_ABILITY
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
    RequiredStatus = REASSIGN_PARKING
  End

  Geometry            = BOX
  GeometryMajorRadius = 20.0
  GeometryMinorRadius = 60.0
  GeometryHeight      = 30.0     
  GeometryIsSmall     = No
  Shadow              = SHADOW_VOLUME 
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length   
  Scale = 1.2
End

;------------------------------------------------------------------------------
Object Boss_AirfieldBig

  ; *** ART Parameters ***
  SelectPortrait         = SNAirfield_L
  ButtonImage            = SNAirfield

  ; Draw = W3DModelDraw ModuleTag_01
    ; ExtraPublicBone = Runway1Parking1 
    ; ExtraPublicBone = Runway1Parking2 
    ; ExtraPublicBone = Runway2Parking1 
    ; ExtraPublicBone = Runway2Parking2 
    ; ExtraPublicBone = Runway1Park1Han
    ; ExtraPublicBone = Runway1Park2Han
    ; ExtraPublicBone = Runway2Park1Han
    ; ExtraPublicBone = Runway2Park2Han 
    ; ExtraPublicBone = Runway1Prep1 
    ; ExtraPublicBone = Runway1Prep2 
    ; ExtraPublicBone = Runway2Prep1 
    ; ExtraPublicBone = Runway2Prep2 
    ; ExtraPublicBone = RunwayStart1 
    ; ExtraPublicBone = RunwayStart2 
    ; ExtraPublicBone = RunwayEnd1 
    ; ExtraPublicBone = RunwayEnd2
    ; ExtraPublicBone = HeliPark01
    ; OkToChangeModelColor = Yes
    ; DefaultConditionState
      ; Model = USAirfield
      ; Animation = USAirfield.USAirfield
      ; AnimationMode = LOOP
    ; End
    ; AliasConditionState = NIGHT
    ; ConditionState = DAMAGED
      ; Model = USAirfield_D
      ; Animation = USAirfield_D.USAirfield_D
      ; AnimationMode = LOOP
      ; ParticleSysBone = Smoke01 SmolderingSmoke
      ; ParticleSysBone = Smoke02 SmolderingSmoke
      ; ParticleSysBone = Smoke03 SmolderingSmoke
      ; ParticleSysBone = Smoke04 SmolderingFire
    ; End
    ; AliasConditionState = NIGHT DAMAGED
    ; ConditionState = REALLYDAMAGED RUBBLE
      ; Model = USAirfield_E
      ; Animation = USAirfield_E.USAirfield_E
      ; AnimationMode = LOOP
      ; ParticleSysBone = Smoke01 SmolderingSmoke
      ; ParticleSysBone = Smoke02 SmolderingSmoke
      ; ParticleSysBone = Smoke03 SmolderingSmoke
      ; ParticleSysBone = Smoke04 SmolderingSmoke
      ; ParticleSysBone = Smoke05 SmokeFactionLarge
      ; ParticleSysBone = Smoke06 SmokeFactionLarge
      ; ParticleSysBone = Smoke04 SmolderingFire
      ; ParticleSysBone = Smoke06 SmolderingFire
      ; ParticleSysBone = Smoke06 FireFactionLarge
      ; ParticleSysBone = Smoke06 SparksLarge
    ; End    
    ; AliasConditionState = NIGHT REALLYDAMAGED RUBBLE
    ; ConditionState = SNOW
      ; Model = USAirfield_S
      ; Animation = ABArFrcCmd_S.ABArFrcCmd_S
      ; AnimationMode = LOOP
    ; End
    ; AliasConditionState = SNOW NIGHT
    ; ConditionState = DAMAGED SNOW
      ; Model = USAirfield_DS
      ; Animation = ABArFrcCmd_DS.ABArFrcCmd_DS
      ; AnimationMode = LOOP
      ; ParticleSysBone = Smoke01 SmolderingSmoke
      ; ParticleSysBone = Smoke02 SmolderingSmoke
      ; ParticleSysBone = Smoke03 SmolderingSmoke
      ; ParticleSysBone = Smoke04 SmolderingFire
    ; End
    ; AliasConditionState = SNOW NIGHT DAMAGED
    ; ConditionState = REALLYDAMAGED RUBBLE SNOW
      ; Model = USAirfield_ES
      ; Animation = USAirfield_ES.USAirfield_ES
      ; AnimationMode = LOOP
      ; ParticleSysBone = Smoke01 SmolderingSmoke
      ; ParticleSysBone = Smoke02 SmolderingSmoke
      ; ParticleSysBone = Smoke03 SmolderingSmoke
      ; ParticleSysBone = Smoke04 SmolderingSmoke
      ; ParticleSysBone = Smoke05 SmokeFactionLarge
      ; ParticleSysBone = Smoke06 SmokeFactionLarge
      ; ParticleSysBone = Smoke04 SmolderingFire
      ; ParticleSysBone = Smoke06 SmolderingFire
      ; ParticleSysBone = Smoke06 FireFactionLarge
      ; ParticleSysBone = Smoke06 SparksLarge
    ; End
    ; AliasConditionState = SNOW NIGHT REALLYDAMAGED RUBBLE
    ; ConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      ; Model = USAirfield
      ; Animation = USAirfield.USAirfield
      ; AnimationMode = LOOP
      ; Flags = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
    ; ConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      ; Model = USAirfield_D
      ; Animation = USAirfield_D.USAirfield_D
      ; AnimationMode = LOOP
      ; Flags = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
    ; ConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      ; Model = USAirfield_E
      ; Animation = USAirfield_E.USAirfield_E
      ; AnimationMode = LOOP
      ; Flags = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
    ; ConditionState = PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      ; Model = USAirfield_S
      ; Animation = ABArFrcCmd_S.ABArFrcCmd_S
      ; AnimationMode = LOOP
      ; Flags = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
    ; ConditionState = PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
      ; Model = USAirfield_DS
      ; Animation = ABArFrcCmd_DS.ABArFrcCmd_DS
      ; AnimationMode = LOOP
      ; Flags = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
    ; ConditionState = PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
      ; Model = USAirfield_ES
      ; Animation = USAirfield_ES.USAirfield_ES
      ; AnimationMode = LOOP
      ; Flags = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    ; End
    ; AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
    ; ConditionState = AWAITING_CONSTRUCTION 
      ; Model = NONE
    ; End
    ; AliasConditionState = AWAITING_CONSTRUCTION DAMAGED
    ; AliasConditionState = AWAITING_CONSTRUCTION REALLYDAMAGED
    ; AliasConditionState = AWAITING_CONSTRUCTION NIGHT
    ; AliasConditionState = AWAITING_CONSTRUCTION NIGHT DAMAGED
    ; AliasConditionState = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    ; AliasConditionState = AWAITING_CONSTRUCTION SNOW
    ; AliasConditionState = AWAITING_CONSTRUCTION SNOW DAMAGED
    ; AliasConditionState = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    ; AliasConditionState = AWAITING_CONSTRUCTION NIGHT SNOW
    ; AliasConditionState = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    ; AliasConditionState = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    ; AliasConditionState = SOLD 
    ; AliasConditionState = SOLD DAMAGED
    ; AliasConditionState = SOLD REALLYDAMAGED
    ; AliasConditionState = SOLD NIGHT
    ; AliasConditionState = SOLD NIGHT DAMAGED
    ; AliasConditionState = SOLD NIGHT REALLYDAMAGED
    ; AliasConditionState = SOLD SNOW
    ; AliasConditionState = SOLD SNOW DAMAGED
    ; AliasConditionState = SOLD SNOW REALLYDAMAGED
    ; AliasConditionState = SOLD NIGHT SNOW
    ; AliasConditionState = SOLD NIGHT SNOW DAMAGED
    ; AliasConditionState = SOLD NIGHT SNOW REALLYDAMAGED
  ; End
  ; Draw = W3DModelDraw ModuleTag_02
    ; AnimationsRequirePower = No
    ; DefaultConditionState
      ; Model = None
      ; TransitionKey = DOWN_DEFAULT
    ; End
    ; ConditionState = NIGHT
      ; Model = None
      ; TransitionKey = DOWN_DEFAULT
    ; End
    ; ConditionState = SNOW
      ; Model = None
      ; TransitionKey = DOWN_DEFAULT
    ; End
    ; ConditionState = SNOW NIGHT
      ; Model = None
      ; TransitionKey = DOWN_DEFAULT
    ; End
    ; ConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      ; Model = USAirfield_A4
      ; Animation = USAirfield_A4.USAirfield_A4
      ; AnimationMode = MANUAL
      ; Flags = START_FRAME_LAST
      ; TransitionKey = UP_DAY
    ; End
    ; ConditionState = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED 
      ; Model = USAirfield_A4N
      ; Animation = USAirfield_A4N.USAirfield_A4N
      ; AnimationMode = MANUAL
      ; Flags = START_FRAME_LAST
      ; TransitionKey = UP_NIGHT
    ; End
    ; ConditionState = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED 
      ; Model = USAirfield_A4S
      ; Animation = USAirfield_A4S.USAirfield_A4S
      ; AnimationMode = MANUAL
      ; Flags = START_FRAME_LAST
      ; TransitionKey = UP_SNOW
    ; End
    ; ConditionState = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED 
      ; Model = USAirfield_A4S
      ; Animation = USAirfield_A4S.USAirfield_A4S
      ; AnimationMode = MANUAL
      ; Flags = START_FRAME_LAST
      ; TransitionKey = UP_SNOWNIGHT
    ; End
    ; TransitionState = DOWN_DEFAULT UP_DAY
      ; Model = USAirfield_A4
      ; Animation = USAirfield_A4.USAirfield_A4
      ; AnimationMode = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags = START_FRAME_FIRST
    ; End
    ; TransitionState = DOWN_DEFAULT UP_NIGHT
      ; Model = USAirfield_A4N
      ; Animation = USAirfield_A4N.USAirfield_A4N
      ; AnimationMode = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags = START_FRAME_FIRST
    ; End
    ; TransitionState = DOWN_DEFAULT UP_SNOW
      ; Model = USAirfield_A4S
      ; Animation = USAirfield_A4S.USAirfield_A4S
      ; AnimationMode = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags = START_FRAME_FIRST
    ; End
    ; TransitionState = DOWN_DEFAULT UP_SNOWNIGHT
      ; Model = USAirfield_A4S
      ; Animation = USAirfield_A4S.USAirfield_A4S
      ; AnimationMode = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags = START_FRAME_FIRST
    ; End
    ; TransitionState = UP_DAY DOWN_DEFAULT
      ; Model = USAirfield_A4
      ; Animation = USAirfield_A4.USAirfield_A4
      ; AnimationMode = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0
      ; Flags = START_FRAME_LAST
    ; End
    ; TransitionState = UP_NIGHT DOWN_DEFAULT
      ; Model = USAirfield_A4N
      ; Animation = USAirfield_A4N.USAirfield_A4N
      ; AnimationMode = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0
      ; Flags = START_FRAME_LAST
    ; End
    ; TransitionState = UP_SNOW DOWN_DEFAULT
      ; Model = USAirfield_A4S
      ; Animation = USAirfield_A4S.USAirfield_A4S
      ; AnimationMode = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0
      ; Flags = START_FRAME_LAST
    ; End
    ; TransitionState = UP_SNOWNIGHT DOWN_DEFAULT
      ; Model = USAirfield_A4S
      ; Animation = USAirfield_A4S.USAirfield_A4S
      ; AnimationMode = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0
      ; Flags = START_FRAME_LAST
    ; End
  ; End
  ; Draw = W3DModelDraw ModuleTag_03
    ; AnimationsRequirePower = No
    ; MinLODRequired = MEDIUM
    ; DefaultConditionState
      ; Model = None
      ; TransitionKey = DOWN_DEFAULT
    ; End
    ; ConditionState = NIGHT
      ; Model = None
      ; TransitionKey = DOWN_DEFAULT
    ; End
    ; ConditionState = SNOW
      ; Model = None
      ; TransitionKey = DOWN_DEFAULT
    ; End
    ; ConditionState = SNOW NIGHT
      ; Model = None
      ; TransitionKey = DOWN_DEFAULT
    ; End
    ; ConditionState = PARTIALLY_CONSTRUCTED
      ; Model = USAirfield_A6
      ; Animation = USAirfield_A6.USAirfield_A6
      ; AnimationMode = MANUAL
      ; Flags = START_FRAME_LAST
      ; TransitionKey = UP_DAY
      ; ParticleSysBone = Dust01 BuildingDustChina
      ; ParticleSysBone = Smoke01 BuildUpSmokeChina
      ; ParticleSysBone = Smoke02 BuildUpSmokeChina
      ; ParticleSysBone = Smoke03 BuildUpSmokeChina
      ; ParticleSysBone = Smoke04 BuildUpSmokeChina
      ; ParticleSysBone = Smoke05 BuildUpSmokeChina
    ; End
    ; ConditionState = NIGHT PARTIALLY_CONSTRUCTED
      ; Model = USAirfield_A6
      ; Animation = USAirfield_A6.USAirfield_A6
      ; AnimationMode = MANUAL
      ; Flags = START_FRAME_LAST
      ; TransitionKey = UP_NIGHT
      ; ParticleSysBone = Dust01 BuildingDustChina
      ; ParticleSysBone = Smoke01 BuildUpSmokeChina
      ; ParticleSysBone = Smoke02 BuildUpSmokeChina
      ; ParticleSysBone = Smoke03 BuildUpSmokeChina
      ; ParticleSysBone = Smoke04 BuildUpSmokeChina
      ; ParticleSysBone = Smoke05 BuildUpSmokeChina
    ; End
    ; ConditionState = SNOW PARTIALLY_CONSTRUCTED
      ; Model = USAirfield_A6S
      ; Animation = USAirfield_A6S.USAirfield_A6S
      ; AnimationMode = MANUAL
      ; Flags = START_FRAME_LAST
      ; TransitionKey = UP_SNOW
      ; ParticleSysBone = Dust01 BuildingSnowDust
      ; ParticleSysBone = Smoke01 BuildUpSnowSmoke
      ; ParticleSysBone = Smoke02 BuildUpSnowSmoke
      ; ParticleSysBone = Smoke03 BuildUpSnowSmoke
      ; ParticleSysBone = Smoke04 BuildUpSnowSmoke
      ; ParticleSysBone = Smoke05 BuildUpSnowSmoke
    ; End
    ; ConditionState = SNOW NIGHT PARTIALLY_CONSTRUCTED
      ; Model = USAirfield_A6S
      ; Animation = USAirfield_A6S.USAirfield_A6S
      ; AnimationMode = MANUAL
      ; Flags = START_FRAME_LAST
      ; TransitionKey = UP_SNOWNIGHT
      ; ParticleSysBone = Dust01 BuildingNightSnowDust
      ; ParticleSysBone = Smoke01 BuildUpNightSnowSmoke
      ; ParticleSysBone = Smoke02 BuildUpNightSnowSmoke
      ; ParticleSysBone = Smoke03 BuildUpNightSnowSmoke
      ; ParticleSysBone = Smoke04 BuildUpNightSnowSmoke
      ; ParticleSysBone = Smoke05 BuildUpNightSnowSmoke
    ; End
    ; TransitionState = DOWN_DEFAULT UP_DAY
     ; Model = USAirfield_A6
      ; Animation = USAirfield_A6.USAirfield_A6
      ; AnimationMode = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags = START_FRAME_FIRST
    ; End
    ; TransitionState = DOWN_DEFAULT UP_NIGHT
     ; Model = USAirfield_A6
      ; Animation = USAirfield_A6.USAirfield_A6
      ; AnimationMode = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags = START_FRAME_FIRST
    ; End
    ; TransitionState = DOWN_DEFAULT UP_SNOW
     ; Model = USAirfield_A6S
      ; Animation = USAirfield_A6S.USAirfield_A6S
      ; AnimationMode = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags = START_FRAME_FIRST
    ; End
    ; TransitionState = DOWN_DEFAULT UP_SNOWNIGHT
     ; Model = USAirfield_A6S
      ; Animation = USAirfield_A6S.USAirfield_A6S
      ; AnimationMode = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags = START_FRAME_FIRST
    ; End
    ; TransitionState = UP_DAY DOWN_DEFAULT
      ; Model = USAirfield_A6
      ; Animation = USAirfield_A6.USAirfield_A6
      ; AnimationMode = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0
      ; Flags = START_FRAME_LAST
    ; End
    ; TransitionState = UP_NIGHT DOWN_DEFAULT
      ; Model = USAirfield_A6
      ; Animation = USAirfield_A6.USAirfield_A6
      ; AnimationMode = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0
      ; Flags = START_FRAME_LAST
    ; End
    ; TransitionState = UP_SNOW DOWN_DEFAULT
      ; Model = USAirfield_A6S
      ; Animation = USAirfield_A6S.USAirfield_A6S
      ; AnimationMode = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0
      ; Flags = START_FRAME_LAST
    ; End
    ; TransitionState = UP_SNOWNIGHT DOWN_DEFAULT
      ; Model = USAirfield_A6S
      ; Animation = USAirfield_A6S.USAirfield_A6S
      ; AnimationMode = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0
      ; Flags = START_FRAME_LAST
    ; End
  ; End
  ; Draw = W3DModelDraw ModuleTag_04
    ; AnimationsRequirePower = No
    ; DefaultConditionState
      ; Model = None
      ; TransitionKey = DOWN_DEFAULT
    ; End
    ; ConditionState = NIGHT
      ; Model = None
      ; TransitionKey = DOWN_DEFAULT
    ; End
    ; ConditionState = SNOW
      ; Model = None
      ; TransitionKey = DOWN_DEFAULT
    ; End
    ; ConditionState = SNOW NIGHT
      ; Model = None
      ; TransitionKey = DOWN_DEFAULT
    ; End
    ; ConditionState = SOLD
      ; Model = NONE
    ; End
    ; ConditionState = ACTIVELY_BEING_CONSTRUCTED
      ; Model = NBAirfield_A5
      ; Animation = NBAirfield_A5.NBAirfield_A5
      ; AnimationMode = LOOP
      ; TransitionKey = UP_DAY
    ; End
    ; ConditionState = NIGHT ACTIVELY_BEING_CONSTRUCTED
      ; Model = NBAirfield_A5N
      ; Animation = NBAirfield_A5N.NBAirfield_A5N
      ; AnimationMode = LOOP
      ; TransitionKey = UP_NIGHT
    ; End
    ; ConditionState = SNOW ACTIVELY_BEING_CONSTRUCTED
      ; Model = NBAirfield_A5S
      ; Animation = NBAirfield_A5S.NBAirfield_A5S
      ; AnimationMode = LOOP
      ; TransitionKey = UP_SNOW
    ; End
    ; ConditionState = SNOW NIGHT ACTIVELY_BEING_CONSTRUCTED
      ; Model = NBAirfield_A5SN
      ; Animation = NBAirfield_A5SN.NBAirfield_A5SN
      ; AnimationMode = LOOP
      ; TransitionKey = UP_SNOWNIGHT
    ; End
    ; TransitionState = DOWN_DEFAULT UP_DAY
      ; Model = NBAirfield_AB
      ; Animation = NBAirfield_AB.NBAirfield_AB
      ; AnimationMode = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags = START_FRAME_FIRST
    ; End
    ; TransitionState = DOWN_DEFAULT UP_NIGHT
      ; Model = NBAirfield_ABN
      ; Animation = NBAirfield_ABN.NBAirfield_ABN
      ; AnimationMode = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags = START_FRAME_FIRST
    ; End
    ; TransitionState = DOWN_DEFAULT UP_SNOW
      ; Model = NBAirfield_ABS
      ; Animation = NBAirfield_ABS.NBAirfield_ABS
      ; AnimationMode = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags = START_FRAME_FIRST
    ; End
    ; TransitionState = DOWN_DEFAULT UP_SNOWNIGHT
      ; Model = NBAirfield_ABSN
      ; Animation = NBAirfield_ABSN.NBAirfield_ABSN
      ; AnimationMode = ONCE
      ; AnimationSpeedFactorRange = 1.0 1.0
      ; Flags = START_FRAME_FIRST
    ; End
    ; TransitionState = UP_DAY DOWN_DEFAULT
      ; Model = NBAirfield_AB
      ; Animation = NBAirfield_AB.NBAirfield_AB
      ; AnimationMode = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0
      ; Flags = START_FRAME_LAST
    ; End
    ; TransitionState = UP_NIGHT DOWN_DEFAULT
      ; Model = NBAirfield_ABN
      ; Animation = NBAirfield_ABN.NBAirfield_ABN
      ; AnimationMode = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0
      ; Flags = START_FRAME_LAST
    ; End
    ; TransitionState = UP_SNOW DOWN_DEFAULT
      ; Model = NBAirfield_ABS
      ; Animation = NBAirfield_ABS.NBAirfield_ABS
      ; AnimationMode = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0
      ; Flags = START_FRAME_LAST
    ; End
    ; TransitionState = UP_SNOWNIGHT DOWN_DEFAULT
      ; Model = NBAirfield_ABSN
      ; Animation = NBAirfield_ABSN.NBAirfield_ABSN
      ; AnimationMode = ONCE_BACKWARDS
      ; AnimationSpeedFactorRange = 2.0 2.0
      ; Flags = START_FRAME_LAST
    ; End
  ; End

 ; PlacementViewAngle = -45
 
  Draw = W3DModelDraw ModuleTag_01
  
    OkToChangeModelColor = Yes
    
    DefaultConditionState
      Model              = RBAirfield
      Animation          = RBAirfield.RBAirfield
      AnimationMode      = LOOP
      HideSubObject      = DOOR01 DOOR02 DOOR03 DOOR1LIGHTG DOOR1LIGHTR DOOR2LIGHTG DOOR2LIGHTR DOOR3LIGHTG DOOR3LIGHTR
    End
    AliasConditionState = NIGHT
    
    ConditionState       = DAMAGED
      Model              = RBAirfield_D
      Animation          = RBAirfield_D.RBAirfield_D
      AnimationMode      = LOOP
      ParticleSysBone    = Smoke01 SmolderingSmoke
      ParticleSysBone    = Smoke04 SmolderingSmoke

    End
    AliasConditionState = DAMAGED NIGHT
    AliasConditionState = DAMAGED SNOW
    AliasConditionState = DAMAGED NIGHT SNOW
    
    ConditionState = REALLYDAMAGED RUBBLE
      Model              = RBAirfield_D
      Animation          = RBAirfield_D.RBAirfield_D
      AnimationMode      = LOOP
      ParticleSysBone    = Smoke01 SmolderingFire
      ParticleSysBone    = Smoke01 SmolderingSmoke
      ParticleSysBone    = Smoke02 SmolderingSmoke
      ParticleSysBone    = Smoke03 SmolderingSmoke
      ParticleSysBone    = Smoke04 SmolderingFire
      ParticleSysBone    = Smoke04 SmolderingSmoke
    End
    AliasConditionState = REALLYDAMAGED RUBBLE NIGHT
    AliasConditionState = REALLYDAMAGED RUBBLE SNOW
    AliasConditionState = REALLYDAMAGED RUBBLE NIGHT SNOW

    ConditionState = SNOW
      Model              = RBAirfield_S
      Animation          = RBAirfield_S.RBAirfield_S
      AnimationMode      = LOOP
    End
    AliasConditionState = NIGHT SNOW
    
    ;**************************************************************************************************************************

    ConditionState      = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model             = RBAirfield
      HideSubObject     = DOOR01 DOOR02 DOOR03 DOOR1LIGHTG DOOR1LIGHTR DOOR2LIGHTG DOOR2LIGHTR DOOR3LIGHTG DOOR3LIGHTR
      Flags             = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
    
    ConditionState      = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model             = RBAirfield_D
      HideSubObject     = DOOR01 DOOR02 DOOR03 DOOR1LIGHTG DOOR1LIGHTR DOOR2LIGHTG DOOR2LIGHTR DOOR3LIGHTG DOOR3LIGHTR
      Flags             = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED

    ConditionState      = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model             = RBAirfield_D
      HideSubObject     = DOOR01 DOOR02 DOOR03 DOOR1LIGHTG DOOR1LIGHTR DOOR2LIGHTG DOOR2LIGHTR DOOR3LIGHTG DOOR3LIGHTR
      Flags             = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED

    ConditionState      = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model             = RBAirfield_S
      HideSubObject     = DOOR01 DOOR02 DOOR03 DOOR1LIGHTG DOOR1LIGHTR DOOR2LIGHTG DOOR2LIGHTR DOOR3LIGHTG DOOR3LIGHTR
      Flags             = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    ;**************************************************************************************************************************
  End
  
  ; ------------ construction-zone fence -----------------
  Draw = W3DModelDraw ModuleTag_02
  AnimationsRequirePower = No

    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    AliasConditionState = NIGHT
    AliasConditionState = SNOW
    AliasConditionState = SNOW NIGHT

    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = RBAirfield_BF
      Animation       = RBAirfield_BF.RBAirfield_BF
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
    End
    AliasConditionState = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
    AliasConditionState = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
    AliasConditionState = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED

    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = RBAirfield_BF
      Animation       = RBAirfield_BF.RBAirfield_BF
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = RBAirfield_BF
      Animation       = RBAirfield_BF.RBAirfield_BF
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_LAST
    End

  End

; ------------ under-construction scaffolding -----------------
  Draw = W3DModelDraw ModuleTag_03
  AnimationsRequirePower = No
    MinLODRequired = MEDIUM
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    AliasConditionState = NIGHT
    AliasConditionState = SNOW
    AliasConditionState = SNOW NIGHT

    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = RBAirfield_SC
      Animation       = RBAirfield_SC.RBAirfield_SC
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Smoke01 BuildUpSmokeChina
      ParticleSysBone = Smoke02 BuildUpSmokeChina
      ParticleSysBone = Smoke03 BuildUpSmokeChina
    End
    AliasConditionState = NIGHT PARTIALLY_CONSTRUCTED
    AliasConditionState = SNOW PARTIALLY_CONSTRUCTED
    AliasConditionState = SNOW NIGHT PARTIALLY_CONSTRUCTED

    TransitionState   = DOWN_DEFAULT UP_DAY
     Model            = RBAirfield_SC
      Animation       = RBAirfield_SC.RBAirfield_SC
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = RBAirfield_SC
      Animation       = RBAirfield_SC.RBAirfield_SC
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_LAST
    End

  End
  
; ------------ Hangar door 1 -----------------

  Draw                = W3DModelDraw ModuleTag_HangarDoor01
  
    ConditionState    = NONE
      Model           = RBAirfield
      Animation       = RBAirfield.RBAirfield
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
      HideSubObject   = BASE DOOR02 DOOR03 DOOR1LIGHTR DOOR2LIGHTG DOOR2LIGHTR DOOR3LIGHTG DOOR3LIGHTR
      ShowSubObject   = DOOR1LIGHTG
    End
    AliasConditionState = NIGHT
       
    ConditionState    = DOOR_1_OPENING
      Model           = RBAirfield
      Animation       = RBAirfield.RBAirfield
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
      AnimationSpeedFactorRange = 2.0 2.0
      HideSubObject   = BASE DOOR02 DOOR03 DOOR1LIGHTG DOOR2LIGHTG DOOR2LIGHTR DOOR3LIGHTG DOOR3LIGHTR
      ShowSubObject   = DOOR1LIGHTR
    End 
    AliasConditionState = NIGHT DOOR_1_OPENING
     
    ConditionState    = DOOR_1_CLOSING
      Model           = RBAirfield
      Animation       = RBAirfield.RBAirfield
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
      AnimationSpeedFactorRange = 2.0 2.0
      HideSubObject   = BASE DOOR02 DOOR03 DOOR1LIGHTR DOOR2LIGHTG DOOR2LIGHTR DOOR3LIGHTG DOOR3LIGHTR
      ShowSubObject   = DOOR1LIGHTG
    End   
    AliasConditionState = NIGHT DOOR_1_CLOSING
    
    ConditionState    = DOOR_1_WAITING_OPEN
      Model           = RBAirfield
      Animation       = RBAirfield.RBAirfield
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      HideSubObject   = BASE DOOR02 DOOR03 DOOR1LIGHTG DOOR2LIGHTG DOOR2LIGHTR DOOR3LIGHTG DOOR3LIGHTR
      ShowSubObject   = DOOR1LIGHTR
    End   
    AliasConditionState = NIGHT DOOR_1_WAITING_OPEN
    
    ;Damaged Conditions
    
    ConditionState    = DAMAGED
      Model           = RBAirfield_D
      Animation       = RBAirfield_D.RBAirfield_D
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
      HideSubObject   = BASE DOOR02 DOOR03 DOOR1LIGHTR DOOR2LIGHTG DOOR2LIGHTR DOOR3LIGHTG DOOR3LIGHTR
      ShowSubObject   = DOOR1LIGHTG
    End
    AliasConditionState = DAMAGED NIGHT
    AliasConditionState = REALLYDAMAGED
    AliasConditionState = REALLYDAMAGED NIGHT
    AliasConditionState = SNOW DAMAGED
    AliasConditionState = SNOW DAMAGED NIGHT
    AliasConditionState = SNOW REALLYDAMAGED
    AliasConditionState = SNOW REALLYDAMAGED NIGHT
       
    ConditionState    = DAMAGED DOOR_1_OPENING
      Model           = RBAirfield_D
      Animation       = RBAirfield_D.RBAirfield_D
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
      AnimationSpeedFactorRange = 2.0 2.0
      HideSubObject   = BASE DOOR02 DOOR03 DOOR1LIGHTG DOOR2LIGHTG DOOR2LIGHTR DOOR3LIGHTG DOOR3LIGHTR
      ShowSubObject   = DOOR1LIGHTR
    End 
    AliasConditionState = DAMAGED NIGHT DOOR_1_OPENING
    AliasConditionState = REALLYDAMAGED DOOR_1_OPENING
    AliasConditionState = REALLYDAMAGED NIGHT DOOR_1_OPENING
    AliasConditionState = SNOW DAMAGED DOOR_1_OPENING
    AliasConditionState = SNOW DAMAGED NIGHT DOOR_1_OPENING
    AliasConditionState = SNOW REALLYDAMAGED DOOR_1_OPENING
    AliasConditionState = SNOW REALLYDAMAGED NIGHT DOOR_1_OPENING
     
    ConditionState    = DAMAGED DOOR_1_CLOSING
      Model           = RBAirfield_D
      Animation       = RBAirfield_D.RBAirfield_D
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
      AnimationSpeedFactorRange = 2.0 2.0
      HideSubObject   = BASE DOOR02 DOOR03 DOOR1LIGHTG DOOR2LIGHTG DOOR2LIGHTR DOOR3LIGHTG DOOR3LIGHTR
      ShowSubObject   = DOOR1LIGHTR
    End   
    AliasConditionState = DAMAGED NIGHT DOOR_1_CLOSING
    AliasConditionState = REALLYDAMAGED DOOR_1_CLOSING
    AliasConditionState = REALLYDAMAGED NIGHT DOOR_1_CLOSING
    AliasConditionState = SNOW DAMAGED DOOR_1_CLOSING
    AliasConditionState = SNOW DAMAGED NIGHT DOOR_1_CLOSING
    AliasConditionState = SNOW REALLYDAMAGED DOOR_1_CLOSING
    AliasConditionState = SNOW REALLYDAMAGED NIGHT DOOR_1_CLOSING
    
    ConditionState    = DAMAGED DOOR_1_WAITING_OPEN
      Model           = RBAirfield_D
      Animation       = RBAirfield_D.RBAirfield_D
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      HideSubObject   = BASE DOOR02 DOOR03 DOOR1LIGHTG DOOR2LIGHTG DOOR2LIGHTR DOOR3LIGHTG DOOR3LIGHTR
      ShowSubObject   = DOOR1LIGHTR
    End   
    AliasConditionState = DAMAGED NIGHT DOOR_1_WAITING_OPEN
    AliasConditionState = REALLYDAMAGED DOOR_1_WAITING_OPEN
    AliasConditionState = REALLYDAMAGED NIGHT DOOR_1_WAITING_OPEN
    AliasConditionState = SNOW DAMAGED DOOR_1_WAITING_OPEN
    AliasConditionState = SNOW DAMAGED NIGHT DOOR_1_WAITING_OPEN
    AliasConditionState = SNOW REALLYDAMAGED DOOR_1_WAITING_OPEN
    AliasConditionState = SNOW REALLYDAMAGED NIGHT DOOR_1_WAITING_OPEN
    
    ;Snow Conditions
    
    ConditionState    = SNOW
      Model           = RBAirfield_S
      Animation       = RBAirfield_S.RBAirfield_S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
      HideSubObject   = BASE DOOR02 DOOR03 DOOR1LIGHTR DOOR2LIGHTG DOOR2LIGHTR DOOR3LIGHTG DOOR3LIGHTR
      ShowSubObject   = DOOR1LIGHTG
    End
    AliasConditionState = SNOW NIGHT
       
    ConditionState    = SNOW DOOR_1_OPENING
      Model           = RBAirfield_S
      Animation       = RBAirfield_S.RBAirfield_S
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
      AnimationSpeedFactorRange = 2.0 2.0
      HideSubObject   = BASE DOOR02 DOOR03 DOOR1LIGHTG DOOR2LIGHTG DOOR2LIGHTR DOOR3LIGHTG DOOR3LIGHTR
      ShowSubObject   = DOOR1LIGHTR
    End 
    AliasConditionState = SNOW NIGHT DOOR_1_OPENING
     
    ConditionState    = SNOW DOOR_1_CLOSING
      Model           = RBAirfield_S
      Animation       = RBAirfield_S.RBAirfield_S
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
      AnimationSpeedFactorRange = 2.0 2.0
      HideSubObject   = BASE DOOR02 DOOR03 DOOR1LIGHTR DOOR2LIGHTG DOOR2LIGHTR DOOR3LIGHTG DOOR3LIGHTR
      ShowSubObject   = DOOR1LIGHTG
    End   
    AliasConditionState = SNOW NIGHT DOOR_1_CLOSING
    
    ConditionState    = SNOW DOOR_1_WAITING_OPEN
      Model           = RBAirfield_S
      Animation       = RBAirfield_S.RBAirfield_S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      HideSubObject   = BASE DOOR02 DOOR03 DOOR1LIGHTG DOOR2LIGHTG DOOR2LIGHTR DOOR3LIGHTG DOOR3LIGHTR
      ShowSubObject   = DOOR1LIGHTR
    End   
    AliasConditionState = SNOW NIGHT DOOR_1_WAITING_OPEN
    
    ;**************************************************************************************************************************
    
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = RBAirfield
      HideSubObject      = BASE DOOR02 DOOR03 DOOR1LIGHTR DOOR2LIGHTG DOOR2LIGHTR DOOR3LIGHTG DOOR3LIGHTR
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
    
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = RBAirfield_D
      HideSubObject      = BASE DOOR02 DOOR03 DOOR1LIGHTR DOOR2LIGHTG DOOR2LIGHTR DOOR3LIGHTG DOOR3LIGHTR
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT    
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT    
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED NIGHT
    
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model              = RBAirfield_S
      HideSubObject      = BASE DOOR02 DOOR03 DOOR1LIGHTR DOOR2LIGHTG DOOR2LIGHTR DOOR3LIGHTG DOOR3LIGHTR
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW NIGHT

    
    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    
    ;**************************************************************************************************************************
    
  End
  
; ------------ Hangar door 2 -----------------

  Draw                = W3DModelDraw ModuleTag_HangarDoor02
  
    ConditionState    = NONE
      Model           = RBAirfield
      Animation       = RBAirfield.RBAirfield
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
      HideSubObject   = BASE DOOR01 DOOR03 DOOR1LIGHTG DOOR1LIGHTR DOOR2LIGHTR DOOR3LIGHTG DOOR3LIGHTR
      ShowSubObject   = DOOR2LIGHTG
    End
    AliasConditionState = NIGHT
       
    ConditionState    = DOOR_2_OPENING
      Model           = RBAirfield
      Animation       = RBAirfield.RBAirfield
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
      AnimationSpeedFactorRange = 2.0 2.0
      HideSubObject   = BASE DOOR01 DOOR03 DOOR1LIGHTG DOOR1LIGHTR DOOR2LIGHTG DOOR3LIGHTG DOOR3LIGHTR
      ShowSubObject   = DOOR2LIGHTR
    End 
    AliasConditionState = NIGHT DOOR_2_OPENING
     
    ConditionState    = DOOR_2_CLOSING
      Model           = RBAirfield
      Animation       = RBAirfield.RBAirfield
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
      AnimationSpeedFactorRange = 2.0 2.0
      HideSubObject   = BASE DOOR01 DOOR03 DOOR1LIGHTG DOOR1LIGHTR DOOR2LIGHTR DOOR3LIGHTG DOOR3LIGHTR
      ShowSubObject   = DOOR2LIGHTG
    End   
    AliasConditionState = NIGHT DOOR_2_CLOSING
    
    ConditionState    = DOOR_2_WAITING_OPEN
      Model           = RBAirfield
      Animation       = RBAirfield.RBAirfield
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      HideSubObject   = BASE DOOR01 DOOR03 DOOR1LIGHTG DOOR1LIGHTR DOOR2LIGHTG DOOR3LIGHTG DOOR3LIGHTR
      ShowSubObject   = DOOR2LIGHTR
    End   
    AliasConditionState = NIGHT DOOR_2_WAITING_OPEN
    
    ;Damaged Conditions
    
    ConditionState    = DAMAGED
      Model           = RBAirfield_D
      Animation       = RBAirfield_D.RBAirfield_D
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
      HideSubObject   = BASE DOOR01 DOOR03 DOOR1LIGHTG DOOR1LIGHTR DOOR2LIGHTR DOOR3LIGHTG DOOR3LIGHTR
      ShowSubObject   = DOOR2LIGHTG
    End
    AliasConditionState = DAMAGED NIGHT
    AliasConditionState = REALLYDAMAGED
    AliasConditionState = REALLYDAMAGED NIGHT
    AliasConditionState = SNOW DAMAGED
    AliasConditionState = SNOW DAMAGED NIGHT
    AliasConditionState = SNOW REALLYDAMAGED
    AliasConditionState = SNOW REALLYDAMAGED NIGHT
       
    ConditionState    = DAMAGED DOOR_2_OPENING
      Model           = RBAirfield_D
      Animation       = RBAirfield_D.RBAirfield_D
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
      AnimationSpeedFactorRange = 2.0 2.0
      HideSubObject   = BASE DOOR01 DOOR03 DOOR1LIGHTG DOOR1LIGHTR DOOR2LIGHTG DOOR3LIGHTG DOOR3LIGHTR
      ShowSubObject   = DOOR2LIGHTR
    End 
    AliasConditionState = DAMAGED NIGHT DOOR_2_OPENING
    AliasConditionState = REALLYDAMAGED DOOR_2_OPENING
    AliasConditionState = REALLYDAMAGED NIGHT DOOR_2_OPENING
    AliasConditionState = SNOW DAMAGED DOOR_2_OPENING
    AliasConditionState = SNOW DAMAGED NIGHT DOOR_2_OPENING
    AliasConditionState = SNOW REALLYDAMAGED DOOR_2_OPENING
    AliasConditionState = SNOW REALLYDAMAGED NIGHT DOOR_2_OPENING
     
    ConditionState    = DAMAGED DOOR_2_CLOSING
      Model           = RBAirfield_D
      Animation       = RBAirfield_D.RBAirfield_D
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
      AnimationSpeedFactorRange = 2.0 2.0
      HideSubObject   = BASE DOOR01 DOOR03 DOOR1LIGHTG DOOR1LIGHTR DOOR2LIGHTR DOOR3LIGHTG DOOR3LIGHTR
      ShowSubObject   = DOOR2LIGHTG
    End   
    AliasConditionState = DAMAGED NIGHT DOOR_2_CLOSING
    AliasConditionState = REALLYDAMAGED DOOR_2_CLOSING
    AliasConditionState = REALLYDAMAGED NIGHT DOOR_2_CLOSING
    AliasConditionState = SNOW DAMAGED DOOR_2_CLOSING
    AliasConditionState = SNOW DAMAGED NIGHT DOOR_2_CLOSING
    AliasConditionState = SNOW REALLYDAMAGED DOOR_2_CLOSING
    AliasConditionState = SNOW REALLYDAMAGED NIGHT DOOR_2_CLOSING
    
    ConditionState    = DAMAGED DOOR_2_WAITING_OPEN
      Model           = RBAirfield_D
      Animation       = RBAirfield_D.RBAirfield_D
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      HideSubObject   = BASE DOOR01 DOOR03 DOOR1LIGHTG DOOR1LIGHTR DOOR2LIGHTG DOOR3LIGHTG DOOR3LIGHTR
      ShowSubObject   = DOOR2LIGHTR
    End   
    AliasConditionState = DAMAGED NIGHT DOOR_2_WAITING_OPEN
    AliasConditionState = REALLYDAMAGED DOOR_2_WAITING_OPEN
    AliasConditionState = REALLYDAMAGED NIGHT DOOR_2_WAITING_OPEN
    AliasConditionState = SNOW DAMAGED DOOR_2_WAITING_OPEN
    AliasConditionState = SNOW DAMAGED NIGHT DOOR_2_WAITING_OPEN
    AliasConditionState = SNOW REALLYDAMAGED DOOR_2_WAITING_OPEN
    AliasConditionState = SNOW REALLYDAMAGED NIGHT DOOR_2_WAITING_OPEN
    
    ;Snow Conditions
    
    ConditionState    = SNOW
      Model           = RBAirfield_S
      Animation       = RBAirfield_S.RBAirfield_S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
      HideSubObject   = BASE DOOR01 DOOR03 DOOR1LIGHTG DOOR1LIGHTR DOOR2LIGHTR DOOR3LIGHTG DOOR3LIGHTR
      ShowSubObject   = DOOR2LIGHTG
    End
    AliasConditionState = SNOW NIGHT
       
    ConditionState    = SNOW DOOR_2_OPENING
      Model           = RBAirfield_S
      Animation       = RBAirfield_S.RBAirfield_S
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
      AnimationSpeedFactorRange = 2.0 2.0
      HideSubObject   = BASE DOOR01 DOOR03 DOOR1LIGHTG DOOR1LIGHTR DOOR2LIGHTG DOOR3LIGHTG DOOR3LIGHTR
      ShowSubObject   = DOOR2LIGHTR
    End 
    AliasConditionState = SNOW NIGHT DOOR_2_OPENING
     
    ConditionState    = SNOW DOOR_2_CLOSING
      Model           = RBAirfield_S
      Animation       = RBAirfield_S.RBAirfield_S
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
      AnimationSpeedFactorRange = 2.0 2.0
      HideSubObject   = BASE DOOR01 DOOR03 DOOR1LIGHTG DOOR1LIGHTR DOOR2LIGHTR DOOR3LIGHTG DOOR3LIGHTR
      ShowSubObject   = DOOR2LIGHTG
    End   
    AliasConditionState = SNOW NIGHT DOOR_2_CLOSING
    
    ConditionState    = SNOW DOOR_2_WAITING_OPEN
      Model           = RBAirfield_S
      Animation       = RBAirfield_S.RBAirfield_S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      HideSubObject   = BASE DOOR01 DOOR03 DOOR1LIGHTG DOOR1LIGHTR DOOR2LIGHTG DOOR3LIGHTG DOOR3LIGHTR
      ShowSubObject   = DOOR2LIGHTR
    End   
    AliasConditionState = SNOW NIGHT DOOR_2_WAITING_OPEN
    
    ;**************************************************************************************************************************
    
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = RBAirfield
      HideSubObject      = BASE DOOR01 DOOR03 DOOR1LIGHTG DOOR1LIGHTR DOOR2LIGHTR DOOR3LIGHTG DOOR3LIGHTR
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
    
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = RBAirfield_D
      HideSubObject      = BASE DOOR01 DOOR03 DOOR1LIGHTG DOOR1LIGHTR DOOR2LIGHTR DOOR3LIGHTG DOOR3LIGHTR
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT    
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT    
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED NIGHT
    
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model              = RBAirfield_S
      HideSubObject      = BASE DOOR01 DOOR03 DOOR1LIGHTG DOOR1LIGHTR DOOR2LIGHTR DOOR3LIGHTG DOOR3LIGHTR
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW NIGHT

    
    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    
    ;**************************************************************************************************************************
    
  End
  
; ------------ Hangar door 3 -----------------

  Draw                = W3DModelDraw ModuleTag_HangarDoor03
  
    ConditionState    = NONE
      Model           = RBAirfield
      Animation       = RBAirfield.RBAirfield
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
      HideSubObject   = BASE DOOR01 DOOR02 DOOR1LIGHTG DOOR1LIGHTR DOOR2LIGHTG DOOR2LIGHTR DOOR3LIGHTR
      ShowSubObject   = DOOR3LIGHTG
    End
    AliasConditionState = NIGHT
       
    ConditionState    = DOOR_3_OPENING
      Model           = RBAirfield
      Animation       = RBAirfield.RBAirfield
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
      AnimationSpeedFactorRange = 2.0 2.0
      HideSubObject   = BASE DOOR01 DOOR02 DOOR1LIGHTG DOOR1LIGHTR DOOR2LIGHTG DOOR2LIGHTR DOOR3LIGHTG
      ShowSubObject   = DOOR3LIGHTR
    End 
    AliasConditionState = NIGHT DOOR_3_OPENING
     
    ConditionState    = DOOR_3_CLOSING
      Model           = RBAirfield
      Animation       = RBAirfield.RBAirfield
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
      AnimationSpeedFactorRange = 2.0 2.0
      HideSubObject   = BASE DOOR01 DOOR02 DOOR1LIGHTG DOOR1LIGHTR DOOR2LIGHTG DOOR2LIGHTR DOOR3LIGHTR
      ShowSubObject   = DOOR3LIGHTG
    End   
    AliasConditionState = NIGHT DOOR_3_CLOSING
    
    ConditionState    = DOOR_3_WAITING_OPEN
      Model           = RBAirfield
      Animation       = RBAirfield.RBAirfield
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      HideSubObject   = BASE DOOR01 DOOR02 DOOR1LIGHTG DOOR1LIGHTR DOOR2LIGHTG DOOR2LIGHTR DOOR3LIGHTG
      ShowSubObject   = DOOR3LIGHTR
    End   
    AliasConditionState = NIGHT DOOR_3_WAITING_OPEN
    
    ;Damaged Conditions
    
    ConditionState    = DAMAGED
      Model           = RBAirfield_D
      Animation       = RBAirfield_D.RBAirfield_D
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
      HideSubObject   = BASE DOOR01 DOOR02 DOOR1LIGHTG DOOR1LIGHTR DOOR2LIGHTG DOOR2LIGHTR DOOR3LIGHTR
      ShowSubObject   = DOOR3LIGHTG
    End
    AliasConditionState = DAMAGED NIGHT
    AliasConditionState = REALLYDAMAGED
    AliasConditionState = REALLYDAMAGED NIGHT
    AliasConditionState = SNOW DAMAGED
    AliasConditionState = SNOW DAMAGED NIGHT
    AliasConditionState = SNOW REALLYDAMAGED
    AliasConditionState = SNOW REALLYDAMAGED NIGHT
       
    ConditionState    = DAMAGED DOOR_3_OPENING
      Model           = RBAirfield_D
      Animation       = RBAirfield_D.RBAirfield_D
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
      AnimationSpeedFactorRange = 2.0 2.0
      HideSubObject   = BASE DOOR01 DOOR02 DOOR1LIGHTG DOOR1LIGHTR DOOR2LIGHTG DOOR2LIGHTR DOOR3LIGHTG
      ShowSubObject   = DOOR3LIGHTR
    End 
    AliasConditionState = DAMAGED NIGHT DOOR_3_OPENING
    AliasConditionState = REALLYDAMAGED DOOR_3_OPENING
    AliasConditionState = REALLYDAMAGED NIGHT DOOR_3_OPENING
    AliasConditionState = SNOW DAMAGED DOOR_3_OPENING
    AliasConditionState = SNOW DAMAGED NIGHT DOOR_3_OPENING
    AliasConditionState = SNOW REALLYDAMAGED DOOR_3_OPENING
    AliasConditionState = SNOW REALLYDAMAGED NIGHT DOOR_3_OPENING
     
    ConditionState    = DAMAGED DOOR_3_CLOSING
      Model           = RBAirfield_D
      Animation       = RBAirfield_D.RBAirfield_D
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
      AnimationSpeedFactorRange = 2.0 2.0
      HideSubObject   = BASE DOOR01 DOOR02 DOOR1LIGHTG DOOR1LIGHTR DOOR2LIGHTG DOOR2LIGHTR DOOR3LIGHTR
      ShowSubObject   = DOOR3LIGHTG
    End   
    AliasConditionState = DAMAGED NIGHT DOOR_3_CLOSING
    AliasConditionState = REALLYDAMAGED DOOR_3_CLOSING
    AliasConditionState = REALLYDAMAGED NIGHT DOOR_3_CLOSING
    AliasConditionState = SNOW DAMAGED DOOR_3_CLOSING
    AliasConditionState = SNOW DAMAGED NIGHT DOOR_3_CLOSING
    AliasConditionState = SNOW REALLYDAMAGED DOOR_3_CLOSING
    AliasConditionState = SNOW REALLYDAMAGED NIGHT DOOR_3_CLOSING
    
    ConditionState    = DAMAGED DOOR_3_WAITING_OPEN
      Model           = RBAirfield_D
      Animation       = RBAirfield_D.RBAirfield_D
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      HideSubObject   = BASE DOOR01 DOOR02 DOOR1LIGHTG DOOR1LIGHTR DOOR2LIGHTG DOOR2LIGHTR DOOR3LIGHTG
      ShowSubObject   = DOOR3LIGHTR
    End   
    AliasConditionState = DAMAGED NIGHT DOOR_3_WAITING_OPEN
    AliasConditionState = REALLYDAMAGED DOOR_3_WAITING_OPEN
    AliasConditionState = REALLYDAMAGED NIGHT DOOR_3_WAITING_OPEN
    AliasConditionState = SNOW DAMAGED DOOR_3_WAITING_OPEN
    AliasConditionState = SNOW DAMAGED NIGHT DOOR_3_WAITING_OPEN
    AliasConditionState = SNOW REALLYDAMAGED DOOR_3_WAITING_OPEN
    AliasConditionState = SNOW REALLYDAMAGED NIGHT DOOR_3_WAITING_OPEN
    
    ;Snow Conditions
    
    ConditionState    = SNOW
      Model           = RBAirfield_S
      Animation       = RBAirfield_S.RBAirfield_S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
      HideSubObject   = BASE DOOR01 DOOR02 DOOR1LIGHTG DOOR1LIGHTR DOOR2LIGHTG DOOR2LIGHTR DOOR3LIGHTR
      ShowSubObject   = DOOR3LIGHTG
    End
    AliasConditionState = SNOW NIGHT
       
    ConditionState    = SNOW DOOR_3_OPENING
      Model           = RBAirfield_S
      Animation       = RBAirfield_S.RBAirfield_S
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
      AnimationSpeedFactorRange = 2.0 2.0
      HideSubObject   = BASE DOOR01 DOOR02 DOOR1LIGHTG DOOR1LIGHTR DOOR2LIGHTG DOOR2LIGHTR DOOR3LIGHTG
      ShowSubObject   = DOOR3LIGHTR
    End 
    AliasConditionState = SNOW NIGHT DOOR_3_OPENING
     
    ConditionState    = SNOW DOOR_3_CLOSING
      Model           = RBAirfield_S
      Animation       = RBAirfield_S.RBAirfield_S
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
      AnimationSpeedFactorRange = 2.0 2.0
      HideSubObject   = BASE DOOR01 DOOR02 DOOR1LIGHTG DOOR1LIGHTR DOOR2LIGHTG DOOR2LIGHTR DOOR3LIGHTR
      ShowSubObject   = DOOR3LIGHTG
    End   
    AliasConditionState = SNOW NIGHT DOOR_3_CLOSING
    
    ConditionState    = SNOW DOOR_3_WAITING_OPEN
      Model           = RBAirfield_S
      Animation       = RBAirfield_S.RBAirfield_S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      HideSubObject   = BASE DOOR01 DOOR02 DOOR1LIGHTG DOOR1LIGHTR DOOR2LIGHTG DOOR2LIGHTR DOOR3LIGHTG
      ShowSubObject   = DOOR3LIGHTR
    End   
    AliasConditionState = SNOW NIGHT DOOR_3_WAITING_OPEN
    
    ;**************************************************************************************************************************
    
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = RBAirfield
      HideSubObject      = BASE DOOR01 DOOR02 DOOR1LIGHTG DOOR1LIGHTR DOOR2LIGHTG DOOR2LIGHTR DOOR3LIGHTR
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
    
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = RBAirfield_D
      HideSubObject      = BASE DOOR01 DOOR02 DOOR1LIGHTG DOOR1LIGHTR DOOR2LIGHTG DOOR2LIGHTR DOOR3LIGHTR
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT    
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT    
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED NIGHT
    
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model              = RBAirfield_S
      HideSubObject      = BASE DOOR01 DOOR02 DOOR1LIGHTG DOOR1LIGHTR DOOR2LIGHTG DOOR2LIGHTR DOOR3LIGHTR
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW NIGHT

    
    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    
    ;**************************************************************************************************************************
    
  End
  
; ------------ Runway bones -----------------
  Draw = W3DModelDraw ModuleTag_BONES01
  
    ExtraPublicBone = Runway1Parking1
    ExtraPublicBone = Runway2Parking1
    ExtraPublicBone = Runway3Parking1
    ExtraPublicBone = Runway1Park1Han
    ExtraPublicBone = Runway2Park1Han
    ExtraPublicBone = Runway3Park1Han
    ExtraPublicBone = Runway1Prep1
    ExtraPublicBone = Runway2Prep1
    ExtraPublicBone = Runway3Prep1
    ExtraPublicBone = RunwayStart1
    ExtraPublicBone = RunwayStart2
    ExtraPublicBone = RunwayStart3
    ExtraPublicBone = RunwayEnd1
    ExtraPublicBone = RunwayEnd2
    ExtraPublicBone = RunwayEnd3
    
    DefaultConditionState
      Model           = RBAirfield_B
    End
    
  End
  
; ------------ Night conditions -----------------
  Draw = W3DModelDraw ModuleTag_Night
    
    DefaultConditionState
      Model           = RBAirfield_N
    End
    AliasConditionState = DAMAGED
    AliasConditionState = REALLYDAMAGED
    AliasConditionState = SNOW
    AliasConditionState = SNOW DAMAGED
    AliasConditionState = SNOW REALLYDAMAGED
    
    ConditionState = AWAITING_CONSTRUCTION
      Model           = RBAirfield_N
      ShowSubObject   = NONE
      Flags           = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
    
    ConditionState = SOLD
      Model           = NONE
    End
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED

  End
  
  PlacementViewAngle = -135

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:HugeAirfield
  Side             = Boss
  EditorSorting    = STRUCTURE
  Prerequisites
    Object = Boss_WarFactory
	Object = Boss_SupplyCenter
  End
  BuildCost        = 40000
  BuildTime        = 30.0           ; in seconds
  EnergyProduction = -1
  CommandSet       = Boss_RussiaHeavyAirfieldCommandSet
  VisionRange     = 200.0           ; Shroud clearing distance
  ShroudClearingRange = 200
  ArmorSet
    Conditions      = None
    Armor           = StructureArmor
    DamageFX        = StructureDamageFXNoShake
  End
  ExperienceValue     = 150 150 150 150  ; Experience point value at each level

  ; *** AUDIO Parameters ***
  VoiceSelect = AirfieldChinaSelect
  SoundOnDamaged        = BuildingDamagedStateLight
  SoundOnReallyDamaged  = BuildingDestroy

  UnitSpecificSounds
    UnderConstruction     = UnderConstructionLoop
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority   = STRUCTURE
  KindOf          = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE CAPTURABLE FS_TECHNOLOGY MP_COUNT_FOR_VICTORY FS_FACTORY FS_AIRFIELD AUTO_RALLYPOINT
  Body            = StructureBody ModuleTag_09
    MaxHealth       = 150000.0
    InitialHealth   = 150000.0
  End

  Behavior = ParkingPlaceBehavior ModuleTag_10
    HealAmountPerSecond   = 10
    NumRows               = 2
    NumCols               = 2
    HasRunways            = Yes
    ApproachHeight        = 50
    ParkInHangars         = Yes
  End

  Behavior = ProductionUpdate ModuleTag_11
    NumDoorAnimations            = 4
    DoorOpeningTime              = 2000  ;in mSeconds
    DoorWaitOpenTime             = 3000  ;in mSeconds
    DoorCloseTime                = 2000  ;in mSeconds
    ConstructionCompleteDuration = 1000  ;in mSeconds
  End

  Behavior = DestroyDie ModuleTag_12
    ;nothing
  End
  Behavior             = CreateObjectDie ModuleTag_13
    CreationList  = OCL_ABPowerPlantExplode
  End
  Behavior             = FXListDie ModuleTag_14
    DeathFX       = FX_StructureMediumDeath
  End

  Behavior = FlammableUpdate ModuleTag_17
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 5       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = TransitionDamageFX ModuleTag_18
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionMediumExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionMediumShockwave
  End

  ; Geometry = BOX
  ; GeometryMajorRadius = 85.0
  ; GeometryMinorRadius = 80.0
  ; GeometryHeight = 25.0
  ; GeometryIsSmall = No
  ; Shadow = SHADOW_VOLUME
  ; BuildCompletion = PLACED_BY_PLAYER
  ; Scale = 1.2
  
  Geometry            = BOX
  GeometryMajorRadius = 70.0
  GeometryMinorRadius = 95.0
  GeometryHeight      = 82.0
  GeometryIsSmall     = No
  Shadow          = SHADOW_VOLUME
  BuildCompletion = PLACED_BY_PLAYER
  Scale = 1.3
End

;------------------------------------------------------------------------------
Object Boss_RussiaBomberTu95

  ; *** ART Parameters ***
  SelectPortrait = SSCarpetBomb
  ButtonImage = SSCarpetBomb

  ; *** ART Parameters ***
  Draw = W3DModelDraw ModuleTag_01

    ExtraPublicBone = WEAPONA01
    ExtraPublicBone = WEAPONA02
    ExtraPublicBone = WEAPONA03
    ExtraPublicBone = WEAPONA04

    OkToChangeModelColor = Yes
    IgnoreConditionStates = DOOR_1_OPENING DOOR_1_CLOSING
    ParticlesAttachedToAnimatedBones = Yes
    DefaultConditionState
      Model = CWCruTu95
      Animation = CWCruTu95.CWCruTu95
      AnimationMode = LOOP
      ParticleSysBone = WINGTIP01 CWCgenJetContrail
      ParticleSysBone = WINGTIP02 CWCgenJetContrail
    End
    ConditionState = DAMAGED
      Model = CWCruTu95
      Animation = CWCruTu95.CWCruTu95
      AnimationMode = LOOP
      ParticleSysBone = SMOKE01 JetFireLarge
      ParticleSysBone = SMOKE02 JetFireLarge
      ParticleSysBone = ENGINE02 JetFireLarge
    End
    ConditionState = REALLYDAMAGED
      Model = CWCruTu95_d
      Animation = CWCruTu95_d.CWCruTu95_d
      AnimationMode = LOOP
      ParticleSysBone = SMOKE01 JetFireLarge
      ParticleSysBone = SMOKE02 JetFireLarge
      ParticleSysBone = SMOKE01 JetSmokeLarge
      ParticleSysBone = SMOKE02 JetSmokeLarge
      ParticleSysBone = ENGINE02 JetFireLarge
      ParticleSysBone = ENGINE02 JetSmokeLarge
    End
    ConditionState = RUBBLE
      Model = CWCruTu95_d
      Animation = CWCruTu95_d.CWCruTu95_d
      AnimationMode = LOOP
      ParticleSysBone = SMOKE01 JetFireLarge
      ParticleSysBone = SMOKE02 JetSmokeLarge
      ParticleSysBone = SMOKE01 JetFireLarge
      ParticleSysBone = SMOKE02 JetSmokeLarge
      ParticleSysBone = ENGINE02 JetFireLarge
      ParticleSysBone = ENGINE02 JetSmokeLarge
      ParticleSysBone = ENGINE04 JetFireLarge
      ParticleSysBone = ENGINE04 JetSmokeLarge
    End
    AliasConditionState = REALLYDAMAGED RUBBLE
  End

  ; ***DESIGN parameters ***
  DisplayName = OBJECT:Tu95
  EditorSorting = VEHICLE
  Side = Boss
  BuildCost = 55000
  BuildTime = 50.0
  TransportSlotCount = 0 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange = 450.0
  ShroudClearingRange = 425.0
  ArmorSet
    Conditions = None
    Armor = CWCruTu95Armor
    DamageFX = None
  End
  
  WeaponSet
    Conditions = None
	Weapon = PRIMARY Tu95CruiseMissile
  End

  CommandSet = RussiaBomberTu95CommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = CWCruTu95VoiceSelect
  SoundAmbient = CWCruTu95EngineLoop
  SoundAmbientRubble = NoSound
  UnitSpecificSounds
    VoiceCreate = CWCruTu95VoiceSpecialPower
    VoiceEject = CWCruTu95VoiceEject
  End  

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = AIRCRAFT CAN_ATTACK CAN_CAST_REFLECTIONS PRELOAD SCORE SELECTABLE VEHICLE 
  Body = ActiveBody ModuleTag_03
    MaxHealth = 1000.0
    InitialHealth = 1000.0
  End

  ;CWCExpMarker: Tu-95
  ExperienceValue = 3000 4500 6000 9000 ;Experience point value at each level
  ExperienceRequired = 0 1500 1500 3000   ;Experience points needed to gain each level
  IsTrainable    = Yes             ;Can gain experience
  CrusherLevel   = 1  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles

  Behavior = PhysicsBehavior ModuleTag_07
    Mass = 500.0
  End

  Behavior = DeliverPayloadAIUpdate ModuleTag_08
  End
  
  Behavior = JetAIUpdate ModuleTag_09
    OutOfAmmoDamagePerSecond = 0%
    TakeoffDistForMaxLift    = 0%
    TakeoffPause             = 500
    MinHeight                = 5
    ReturnToBaseIdleTime     = 5000
    AutoAcquireEnemiesWhenIdle = Yes
    KeepsParkingSpaceWhenAirborne = Yes
    MoodAttackCheckRate = 100
  End
  
  Locomotor = SET_NORMAL CWCruTu95Locomotor
  Locomotor = SET_TAXIING BasicJetTaxiLocomotor

; --- begin Death modules ---
  Behavior = TransitionDamageFX ModuleTag_Death01
    DamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenTankDeathSmokeDamaged
    DamagedFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDamageTransition
    ;
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenTankDeathSmokeReallyDamaged
    ReallyDamagedFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDamageTransition
    ;
    RubbleParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenTankDeathSmokeRubble
    RubbleFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDamageTransition
  End
  Behavior = JetSlowDeathBehavior ModuleTag_Death02
    DestructionDelay = 9000
    RollRate = 0.1
    RollRateDelta = 103% ;105%
    PitchRate = 0
    FallHowFast = 90.0%
    FXInitialDeath = FX_CWCgenJetDeathInitial
    DelaySecondaryFromInitialDeath = 250 ;in milliseconds
    FXSecondary = FX_CWCgenJetDeathSecondary
    FXHitGround = FX_CWCgenJetDeathHitGround
    OCLHitGround = OCL_CWCruTu95_k
    FXOnGroundDeath = FX_CWCgenJetOnGroundDeath
    OCLOnGroundDeath = OCL_CWCruTu95_k
  End
; --- end Death modules ---

  ClientUpdate = AnimatedParticleSysBoneClientUpdate ModuleTag_Client01
  End ; This allows the wingtip trails to stay stuck to the retractable wings

  ; Behavior = ObjectCreationUpgrade ModuleTag_RadarDrone
    ; UpgradeObject = OCL_CWCgenRadarDrone
    ; TriggeredBy = Upgrade_CWCgenRadarDrone
  ; End

  ; Behavior = GrantUpgradeCreate ModuleTag_RadarDroneCreate
    ; UpgradeToGrant = Upgrade_CWCgenRadarDrone
  ; End

  Geometry = Box
  GeometryIsSmall = Yes
  GeometryMajorRadius = 56.0
  GeometryMinorRadius = 48.0
  GeometryHeight = 5.0
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45 ; minimum elevation angle above horizon. Used to limit shadow length
  Scale = 1.0
End

;=============================================================================================
Object TU160SlowBDObject
   ; *** ART Parameters ***
   Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes
    ConditionState = NONE
    Model             = RU-TU160_D
      ParticleSysBone = ENGINE01 JetBlackTrailThin
      ParticleSysBone = ENGINE02 JetBlackTrailThin
      ParticleSysBone = ENGINE03 JetBlackTrailThin
      ParticleSysBone = ENGINE04 JetBlackTrailThin
      ParticleSysBone = Wingtip01 JetContrailThin
      ParticleSysBone = Wingtip02 JetContrailThin
    End
  End
  KindOf = CAN_CAST_REFLECTIONS NO_COLLIDE HULK IGNORED_IN_GUI UNATTACKABLE
  Behavior                  = PhysicsBehavior ModuleTag_02
    Mass                    = 0.8
    AllowCollideForce       = No
    ZFriction = 1
    ForwardFriction = 0.2
    ShockResistance = 1
    CenterOfMassOffset       = 1
  End
  Behavior = SlowDeathBehavior DeathTag_01
    OCL                 = FINAL   OCL_TU160DeathWatercheck
  End
  Behavior = HeightDieUpdate ModuleTag_03
    TargetHeight = 1
    TargetHeightIncludesStructures = Yes
    InitialDelay                    = 1 ; Can't explode in the first second so we don't explode on the pad
  End
  Geometry                 = Box
  GeometryIsSmall          = Yes
  GeometryMajorRadius      = 1.0
  GeometryMinorRadius      = 1.0
  GeometryHeight           = 1.0
  Shadow                   = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length.
  Scale = 0.95
End

;-----------------------------------------------------------------------------------
Object Boss_RussiaBomberTu160

  ; *** ART Parameters ***
  SelectPortrait         = SAAurora
  ButtonImage            = SAAurora

  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes
    ProjectileBoneFeedbackEnabledSlots = PRIMARY
    DefaultConditionState
      Model             = RU-TU160
      ;Animation = RU-TU160.RU-TU160
      ;AnimationMode = MANUAL
      ;Flags = MAINTAIN_FRAME_ACROSS_STATES
      WeaponMuzzleFlash = PRIMARY WEAPONA
      WeaponFireFXBone  = PRIMARY WEAPONA
      WeaponMuzzleFlash = SECONDARY WEAPONA
      WeaponFireFXBone  = SECONDARY WEAPONA
      WeaponMuzzleFlash = TERTIARY WEAPONA
      WeaponFireFXBone  = TERTIARY WEAPONA
      ParticleSysBone = ENGINE01 JetBlackTrailThin
      ParticleSysBone = ENGINE02 JetBlackTrailThin
      ParticleSysBone = ENGINE03 JetBlackTrailThin
      ParticleSysBone = ENGINE04 JetBlackTrailThin
      ParticleSysBone = Wingtip01 JetContrailThin
      ParticleSysBone = Wingtip02 JetContrailThin
    End

    ConditionState      = REALLYDAMAGED
      Model             = RU-TU160_D
      ;Animation = RU-TU160_D.RU-TU160_D
      ;AnimationMode = MANUAL
      ;Flags = MAINTAIN_FRAME_ACROSS_STATES
      WeaponMuzzleFlash = PRIMARY WEAPONA
      WeaponFireFXBone  = PRIMARY WEAPONA
      WeaponMuzzleFlash = SECONDARY WEAPONA
      WeaponFireFXBone  = SECONDARY WEAPONA
      WeaponMuzzleFlash = TERTIARY WEAPONA
      WeaponFireFXBone  = TERTIARY WEAPONA
      ParticleSysBone = ENGINE01 JetBlackTrailThin
      ParticleSysBone = ENGINE02 JetBlackTrailThin
      ParticleSysBone = ENGINE03 JetBlackTrailThin
      ParticleSysBone = ENGINE04 JetBlackTrailThin
      ParticleSysBone = Wingtip01 JetContrailThin
      ParticleSysBone = Wingtip02 JetContrailThin
    End
    AliasConditionState  = RUBBLE

   ParticlesAttachedToAnimatedBones = Yes 

    ConditionState = DOOR_1_OPENING
      ;Animation = RU-TU160.RU-TU160
      ;AnimationMode = ONCE
      ;Flags = MAINTAIN_FRAME_ACROSS_STATES
      WeaponMuzzleFlash = PRIMARY WEAPONA
      WeaponFireFXBone  = PRIMARY WEAPONA
      WeaponMuzzleFlash = SECONDARY WEAPONA
      WeaponFireFXBone  = SECONDARY WEAPONA
      WeaponMuzzleFlash = TERTIARY WEAPONA
      WeaponFireFXBone  = TERTIARY WEAPONA
      ParticleSysBone = ENGINE01 JetBlackTrailThin
      ParticleSysBone = ENGINE02 JetBlackTrailThin
      ParticleSysBone = ENGINE03 JetBlackTrailThin
      ParticleSysBone = ENGINE04 JetBlackTrailThin
      ParticleSysBone = Wingtip01 JetContrailThin
      ParticleSysBone = Wingtip02 JetContrailThin
    End

    ConditionState = DOOR_1_OPENING DAMAGED
      ;Animation = RU-TU160_D.RU-TU160_D
      ;AnimationMode = ONCE
      ;Flags = MAINTAIN_FRAME_ACROSS_STATES
      WeaponMuzzleFlash = PRIMARY WEAPONA
      WeaponFireFXBone  = PRIMARY WEAPONA
      WeaponMuzzleFlash = SECONDARY WEAPONA
      WeaponFireFXBone  = SECONDARY WEAPONA
      WeaponMuzzleFlash = TERTIARY WEAPONA
      WeaponFireFXBone  = TERTIARY WEAPONA
      ParticleSysBone = ENGINE01 JetBlackTrailThin
      ParticleSysBone = ENGINE02 JetBlackTrailThin
      ParticleSysBone = ENGINE03 JetBlackTrailThin
      ParticleSysBone = ENGINE04 JetBlackTrailThin
      ParticleSysBone = Wingtip01 JetContrailThin
      ParticleSysBone = Wingtip02 JetContrailThin
    End

    ConditionState = DOOR_1_CLOSING
      ;Animation = RU-TU160.RU-TU160
      ;AnimationMode   = ONCE_BACKWARDS
      ;Flags           = MAINTAIN_FRAME_ACROSS_STATES
      WeaponMuzzleFlash = PRIMARY WEAPONA
      WeaponFireFXBone  = PRIMARY WEAPONA
      WeaponMuzzleFlash = SECONDARY WEAPONA
      WeaponFireFXBone  = SECONDARY WEAPONA
      WeaponMuzzleFlash = TERTIARY WEAPONA
      WeaponFireFXBone  = TERTIARY WEAPONA
      ParticleSysBone = ENGINE01 JetBlackTrailThin
      ParticleSysBone = ENGINE02 JetBlackTrailThin
      ParticleSysBone = ENGINE03 JetBlackTrailThin
      ParticleSysBone = ENGINE04 JetBlackTrailThin
      ParticleSysBone = Wingtip01 JetContrailThin
      ParticleSysBone = Wingtip02 JetContrailThin
    End

    ConditionState = DOOR_1_CLOSING DAMAGED
      ;Animation = RU-TU160_D.RU-TU160_D
      ;AnimationMode   = ONCE_BACKWARDS
      ;Flags           = MAINTAIN_FRAME_ACROSS_STATES
      WeaponMuzzleFlash = PRIMARY WEAPONA
      WeaponFireFXBone  = PRIMARY WEAPONA
      WeaponMuzzleFlash = SECONDARY WEAPONA
      WeaponFireFXBone  = SECONDARY WEAPONA
      WeaponMuzzleFlash = TERTIARY WEAPONA
      WeaponFireFXBone  = TERTIARY WEAPONA
      ParticleSysBone = ENGINE01 JetBlackTrailThin
      ParticleSysBone = ENGINE02 JetBlackTrailThin
      ParticleSysBone = ENGINE03 JetBlackTrailThin
      ParticleSysBone = ENGINE04 JetBlackTrailThin
      ParticleSysBone = Wingtip01 JetContrailThin
      ParticleSysBone = Wingtip02 JetContrailThin
    End
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Tu160
  EditorSorting       = VEHICLE
  Side                = Boss
  TransportSlotCount  = 0                 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange         = 500.0 
  ShroudClearingRange = 490.0
  BuildCost = 60000.0
  BuildTime = 50.0
  Prerequisites
    Object = Boss_AirfieldBig
	Object = Boss_TechCentr
  End
  WeaponSet
    Conditions = None 
    Weapon = PRIMARY Tu160MissileWeapon
  End
  ArmorSet
    Conditions      = None
    Armor           = AirplaneArmor
    DamageFX        = AAHitscanDamageFX
  End
  ; ArmorSet
    ; Conditions            = PLAYER_UPGRADE
    ; Armor                 = CountermeasuresAirplaneArmor
    ; DamageFX              = AAHitscanDamageFX
  ; End

  ExperienceValue = 50 100 150 400    ;Experience point value at each level
  ExperienceRequired = 0 150 450 900  ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel   = 1  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = RussiaBomberTu160CommandSet

  ; *** AUDIO Parameters ***
  SoundAmbient = B52AmbientLoop
  SoundAmbientRubble = NoSound
  UnitSpecificSounds
    SoundEject = PilotSoundEject
    VoiceEject = PilotVoiceEject
    StartDive  = A10ThunderboltDive
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = AIRCRAFT CAN_ATTACK CAN_CAST_REFLECTIONS PRELOAD SCORE SELECTABLE VEHICLE 
  Body = ActiveBody ModuleTag_02
    MaxHealth       = 1800.0
    InitialHealth   = 1800.0
  End
  
  Behavior = PhysicsBehavior ModuleTag_03
    Mass = 500.0
  End
  
  Behavior = JetSlowDeathBehavior DeathTag_01
    OCLInitialDeath = OCL_TU160SlowBD
  End
  
  Behavior = JetAIUpdate ModuleTag_04
    OutOfAmmoDamagePerSecond = 0%
    TakeoffDistForMaxLift    = 0%
    TakeoffPause             = 500
    MinHeight                = 5
    ReturnToBaseIdleTime     = 5000
    AutoAcquireEnemiesWhenIdle = Yes
    KeepsParkingSpaceWhenAirborne = Yes
    MoodAttackCheckRate = 100
  End

  ; Behavior = DeliverPayloadAIUpdate ModuleTag_04
    ; DoorDelay = 500
    ; MaxAttempts = 4
    ; DropOffset = X:0 Y:0 Z:-10
    ; DropDelay = 300 ;500 ; time in between each item dropped (if more than one)
    ; PutInContainer = AmericaParachute
    ; DeliveryDistance = 150
  ; End

  ; Behavior = TransportContain ModuleTag_05
    ; Slots = 100                     ; hey, it's a BIG transport
    ; ScatterNearbyOnExit = No
    ; OrientLikeContainerOnExit = Yes
    ; KeepContainerVelocityOnExit = Yes
    ; ExitPitchRate = 30
    ; ExitBone = WeaponA01
    ; AllowInsideKindOf  = INFANTRY VEHICLE PROJECTILE DOZER PARACHUTABLE
    ; DoorOpenTime = 0                ; this prevents the Contain module from messing with the doors, since we want DeliverPayload to handle 'em
    ; NumberOfExitPaths = 0
    ; DestroyRidersWhoAreNotFreeToExit = Yes  ; 'destroy' as opposed to 'kill'
  ; End

  Locomotor = SET_NORMAL TU160locomotor
  Locomotor = SET_TAXIING BasicJetTaxiLocomotor

  Behavior = FlammableUpdate ModuleTag_06
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  ; Behavior = FireWeaponWhenDamagedBehavior ModuleTag_07
    ; StartsActive = Yes
    ; ReactionWeaponPristine = DroneRevealWeapon
    ; ReactionWeaponDamaged = DroneRevealWeapon
    ; ReactionWeaponReallyDamaged = DroneRevealWeapon
    ; ReactionWeaponRubble = DroneRevealWeapon
    ; DamageTypes = NONE +MELEE
  ; End
  
  Geometry = Cylinder
  GeometryIsSmall = Yes
  GeometryMajorRadius = 60.0
  GeometryMinorRadius = 35.0
  GeometryHeight = 20.0
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length
  Scale = 0.95
End

;=============================================================================================
Object TU22M3SlowBDObject
  ; *** ART Parameters ***
  Draw                = W3DModelDraw ModuleTag_01
    DefaultConditionState
      Model            = RU-TU22KH55_D
      Animation        = RU-TU22KH55_D.RU-TU22KH55_D
      AnimationMode    = ONCE_BACKWARDS
      Flags = START_FRAME_LAST
      ParticleSysBone     = Engine01 JetBurning
      ParticleSysBone     = Engine02 JetSmokeLarge
      ParticleSysBone     = Wingtip01 JetBurning
      ParticleSysBone     = Wingtip02 JetContrail
    End
  End
  KindOf = CAN_CAST_REFLECTIONS NO_COLLIDE HULK IGNORED_IN_GUI UNATTACKABLE
  Behavior                  = PhysicsBehavior ModuleTag_02
    Mass                    = 0.8
    AllowCollideForce       = No
    ZFriction = 1
    ForwardFriction = 0.2
    ShockResistance = 1
    CenterOfMassOffset       = 1
  End
  Behavior = SlowDeathBehavior DeathTag_01
    ;FX                  = FINAL   FX_JetHitGround
    OCL                 = FINAL   OCL_TU22M3DeathWatercheck
    Weapon              = FINAL   FallingJetWeapon
  End
  Behavior = HeightDieUpdate ModuleTag_03
    TargetHeight = 1
    TargetHeightIncludesStructures = Yes
    InitialDelay                    = 1 ; Can't explode in the first second so we don't explode on the pad
  End
  Geometry                 = Box
  GeometryIsSmall          = Yes
  GeometryMajorRadius      = 1.0
  GeometryMinorRadius      = 1.0
  GeometryHeight           = 1.0
  Shadow                   = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length.
  Scale = 0.95
End

;--------------------------------------------------------------------------
Object Boss_RussianBomberTu22M3

  ; *** ART Parameters ***
  SelectPortrait         = SAFulArAurora_L
  ButtonImage            = SAFulArAurora

  ; UpgradeCameo1 = Upgrade_RussiaCountermeasures
  ; UpgradeCameo2 = Upgrade_Brahmos

  Draw                   = W3DModelDraw ModuleTag_01
    ExtraPublicBone = WeaponA01
    ExtraPublicBone = WeaponA02

    ProjectileBoneFeedbackEnabledSlots =  SECONDARY PRIMARY
    OkToChangeModelColor = Yes

    DefaultConditionState
      Model            = RU-TU22KH55
      Animation        = RU-TU22KH55.RU-TU22KH55
      AnimationMode = MANUAL
      Flags = START_FRAME_LAST
      WeaponLaunchBone  = PRIMARY WeaponA
      WeaponFireFXBone  = PRIMARY WeaponA
      WeaponLaunchBone  = SECONDARY WeaponA
      WeaponFireFXBone  = SECONDARY WeaponA
    End

    ConditionState       = JETEXHAUST JETAFTERBURNER
      Model            = RU-TU22KH55
      Animation        = RU-TU22KH55.RU-TU22KH55
      AnimationMode    = ONCE_BACKWARDS
      Flags = START_FRAME_FIRST
      ;ParticleSysBone     = EXHAUST01 JetLenzflare
      ;ParticleSysBone     = EXHAUST02 JetLenzflare
      ParticleSysBone = Wingtip01 JetContrailThin
      ParticleSysBone = Wingtip02 JetContrailThin
    End

    TransitionState    = Trans_READY Trans_ATTACKING
      Model            = RU-TU22KH55
      Animation        = RU-TU22KH55.RU-TU22KH55
      AnimationMode    = ONCE_BACKWARDS
      Flags            = START_FRAME_FIRST
      WeaponLaunchBone  = PRIMARY WeaponA
      WeaponFireFXBone  = PRIMARY WeaponA
      WeaponLaunchBone  = SECONDARY WeaponA
      WeaponFireFXBone  = SECONDARY WeaponA
    End

    ConditionState     = ATTACKING
      Model            = RU-TU22KH55
      Animation        = RU-TU22KH55.RU-TU22KH55
      AnimationMode = ONCE
      Flags = START_FRAME_FIRST
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ParticleSysBone     = EXHAUST01 JetLenzflare
      ParticleSysBone     = EXHAUST02 JetLenzflare
      TransitionKey    = Trans_ATTACKING
      WeaponLaunchBone  = PRIMARY WeaponA
      WeaponFireFXBone  = PRIMARY WeaponA
      WeaponLaunchBone  = SECONDARY WeaponA
      WeaponFireFXBone  = SECONDARY WeaponA
    End

    TransitionState    = Trans_ATTACKING Trans_READY
      Model            = RU-TU22KH55
      Animation        = RU-TU22KH55.RU-TU22KH55
      AnimationMode    = ONCE_BACKWARDS
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ;ParticleSysBone     = EXHAUST01 JetLenzflare
      ;ParticleSysBone     = EXHAUST02 JetLenzflare
      Flags            = START_FRAME_FIRST
      WeaponLaunchBone  = PRIMARY WeaponA
      WeaponFireFXBone  = PRIMARY WeaponA
      WeaponLaunchBone  = SECONDARY WeaponA
      WeaponFireFXBone  = SECONDARY WeaponA
    End

    TransitionState    = Trans_ATTACKING Trans_NOT_READY
      Model            = RU-TU22KH55
      Animation        = RU-TU22KH55.RU-TU22KH55
      AnimationMode    = ONCE_BACKWARDS
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ;ParticleSysBone     = EXHAUST01 JetLenzflare
      ;ParticleSysBone     = EXHAUST02 JetLenzflare
      Flags            = START_FRAME_LAST
      WeaponLaunchBone  = PRIMARY WeaponA
      WeaponFireFXBone  = PRIMARY WeaponA
      WeaponLaunchBone  = SECONDARY WeaponA
      WeaponFireFXBone  = SECONDARY WeaponA
    End

    ConditionState      = REALLYDAMAGED
      Model            = RU-TU22KH55_D
      Animation        = RU-TU22KH55_D.RU-TU22KH55_D
      AnimationMode    = MANUAL
      Flags = START_FRAME_FIRST
      WeaponLaunchBone  = PRIMARY WeaponA
      WeaponFireFXBone  = PRIMARY WeaponA
      WeaponLaunchBone  = SECONDARY WeaponA
      WeaponFireFXBone  = SECONDARY WeaponA
      ;ParticleSysBone     = EXHAUST01 JetLenzflare
      ;ParticleSysBone     = EXHAUST02 JetLenzflare
      ParticleSysBone = Wingtip01 JetContrailThin
      ParticleSysBone = Wingtip02 JetContrailThin
    End
    AliasConditionState  = RUBBLE

    ConditionState       = REALLYDAMAGED JETEXHAUST JETAFTERBURNER
      Model            = RU-TU22KH55_D
      Animation        = RU-TU22KH55_D.RU-TU22KH55_D
      AnimationMode    = ONCE_BACKWARDS
      Flags = START_FRAME_LAST
      ;ParticleSysBone     = EXHAUST01 JetLenzflare
      ;ParticleSysBone     = EXHAUST02 JetLenzflare
      ParticleSysBone = Wingtip01 JetContrailThin
      ParticleSysBone = Wingtip02 JetContrailThin
    End

    TransitionState    = REALLYDAMAGED Trans_READY Trans_ATTACKING
      Model            = RU-TU22KH55_D
      Animation        = RU-TU22KH55_D.RU-TU22KH55_D
      AnimationMode    = ONCE_BACKWARDS
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ;ParticleSysBone     = EXHAUST01 JetLenzflare
      ;ParticleSysBone     = EXHAUST02 JetLenzflare
      Flags            = START_FRAME_FIRST
      WeaponLaunchBone  = PRIMARY WeaponA
      WeaponFireFXBone  = PRIMARY WeaponA
      WeaponLaunchBone  = SECONDARY WeaponA
      WeaponFireFXBone  = SECONDARY WeaponA
    End

    ConditionState     = REALLYDAMAGED ATTACKING
      Model            = RU-TU22KH55_D
      Animation        = RU-TU22KH55_D.RU-TU22KH55_D
      AnimationMode    = ONCE_BACKWARDS
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ;ParticleSysBone     = EXHAUST01 JetLenzflare
      ;ParticleSysBone     = EXHAUST02 JetLenzflare
      TransitionKey    = Trans_ATTACKING
      Flags            = START_FRAME_FIRST
      WeaponLaunchBone  = PRIMARY WeaponA
      WeaponFireFXBone  = PRIMARY WeaponA
      WeaponLaunchBone  = SECONDARY WeaponA
      WeaponFireFXBone  = SECONDARY WeaponA
    End

    TransitionState    = REALLYDAMAGED Trans_ATTACKING Trans_READY
      Model            = RU-TU22KH55_D
      Animation        = RU-TU22KH55_D.RU-TU22KH55_D
      AnimationMode    = ONCE_BACKWARDS
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ;ParticleSysBone     = EXHAUST01 JetLenzflare
      ;ParticleSysBone     = EXHAUST02 JetLenzflare
      Flags            = START_FRAME_FIRST
      WeaponLaunchBone  = PRIMARY WeaponA
      WeaponFireFXBone  = PRIMARY WeaponA
      WeaponLaunchBone  = SECONDARY WeaponA
      WeaponFireFXBone  = SECONDARY WeaponA
    End

    TransitionState    = REALLYDAMAGED Trans_ATTACKING Trans_NOT_READY
      Model            = RU-TU22KH55_D
      Animation        = RU-TU22KH55_D.RU-TU22KH55_D
      AnimationMode    = ONCE_BACKWARDS
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ;ParticleSysBone     = EXHAUST01 JetLenzflare
      ;ParticleSysBone     = EXHAUST02 JetLenzflare
      Flags            = START_FRAME_FIRST
      WeaponLaunchBone  = PRIMARY WeaponA
      WeaponFireFXBone  = PRIMARY WeaponA
      WeaponLaunchBone  = SECONDARY WeaponA
      WeaponFireFXBone  = SECONDARY WeaponA
    End

    ConditionState = WEAPONSET_PLAYER_UPGRADE
      Model            = RU-TU22M
      Animation        = RU-TU22M.RU-TU22M
      AnimationMode = MANUAL
      Flags = START_FRAME_LAST
      WeaponLaunchBone  = PRIMARY WeaponA
      WeaponFireFXBone  = PRIMARY WeaponA
    End

    ConditionState       = WEAPONSET_PLAYER_UPGRADE JETEXHAUST JETAFTERBURNER
      Model            = RU-TU22M
      Animation        = RU-TU22M.RU-TU22M
      AnimationMode    = ONCE_BACKWARDS
      Flags = START_FRAME_LAST
      ;ParticleSysBone     = EXHAUST01 JetLenzflare
      ;ParticleSysBone     = EXHAUST02 JetLenzflare
      ParticleSysBone = Wingtip01 JetContrailThin
      ParticleSysBone = Wingtip02 JetContrailThin
    End

    TransitionState    = WEAPONSET_PLAYER_UPGRADE Trans_READY Trans_ATTACKING
      Model            = RU-TU22M
      Animation        = RU-TU22M.RU-TU22M
      AnimationMode    = ONCE_BACKWARDS
      Flags            = START_FRAME_FIRST
      WeaponLaunchBone  = PRIMARY WeaponA
      WeaponFireFXBone  = PRIMARY WeaponA
    End

    ConditionState     = WEAPONSET_PLAYER_UPGRADE ATTACKING
      Model            = RU-TU22M
      Animation        = RU-TU22M.RU-TU22M
      AnimationMode = ONCE
      Flags = START_FRAME_FIRST
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ParticleSysBone     = EXHAUST01 JetLenzflare
      ParticleSysBone     = EXHAUST02 JetLenzflare
      TransitionKey    = Trans_ATTACKING
      WeaponLaunchBone  = PRIMARY WeaponA
      WeaponFireFXBone  = PRIMARY WeaponA
    End

    TransitionState    = WEAPONSET_PLAYER_UPGRADE Trans_ATTACKING Trans_READY
      Model            = RU-TU22M
      Animation        = RU-TU22M.RU-TU22M
      AnimationMode    = ONCE_BACKWARDS
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ;ParticleSysBone     = EXHAUST01 JetLenzflare
      ;ParticleSysBone     = EXHAUST02 JetLenzflare
      Flags            = START_FRAME_FIRST
      WeaponLaunchBone  = PRIMARY WeaponA
      WeaponFireFXBone  = PRIMARY WeaponA
    End

    TransitionState    = WEAPONSET_PLAYER_UPGRADE Trans_ATTACKING Trans_NOT_READY
      Model            = RU-TU22M
      Animation        = RU-TU22M.RU-TU22M
      AnimationMode    = ONCE_BACKWARDS
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ;ParticleSysBone     = EXHAUST01 JetLenzflare
      ;ParticleSysBone     = EXHAUST02 JetLenzflare
      Flags            = START_FRAME_FIRST
      WeaponLaunchBone  = PRIMARY WeaponA
      WeaponFireFXBone  = PRIMARY WeaponA
    End

    ConditionState      = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
      Model            = RU-TU22M_D
      Animation        = RU-TU22M_D.RU-TU22M_D
      AnimationMode = MANUAL
      Flags = START_FRAME_FIRST
      WeaponLaunchBone  = PRIMARY WeaponA
      WeaponFireFXBone  = PRIMARY WeaponA
      ;ParticleSysBone     = EXHAUST01 JetLenzflare
      ;ParticleSysBone     = EXHAUST02 JetLenzflare
      ParticleSysBone = Wingtip01 JetContrailThin
      ParticleSysBone = Wingtip02 JetContrailThin
    End
    AliasConditionState  = WEAPONSET_PLAYER_UPGRADE RUBBLE

    ConditionState       = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED JETEXHAUST JETAFTERBURNER
      Model            = RU-TU22M_D
      Animation        = RU-TU22M_D.RU-TU22M_D
      AnimationMode    = ONCE_BACKWARDS
      Flags = START_FRAME_LAST
      ;ParticleSysBone     = EXHAUST01 JetLenzflare
      ;ParticleSysBone     = EXHAUST02 JetLenzflare
      ParticleSysBone = Wingtip01 JetContrailThin
      ParticleSysBone = Wingtip02 JetContrailThin
    End

    TransitionState    = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED Trans_READY Trans_ATTACKING
      Model            = RU-TU22M_D
      Animation        = RU-TU22M_D.RU-TU22M_D
      AnimationMode    = ONCE_BACKWARDS
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ;ParticleSysBone     = EXHAUST01 JetLenzflare
      ;ParticleSysBone     = EXHAUST02 JetLenzflare
      Flags            = START_FRAME_FIRST
      WeaponLaunchBone  = PRIMARY WeaponA
      WeaponFireFXBone  = PRIMARY WeaponA
    End

    ConditionState     = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED ATTACKING
      Model            = RU-TU22M_D
      Animation        = RU-TU22M_D.RU-TU22M_D
      AnimationMode    = ONCE_BACKWARDS
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ;ParticleSysBone     = EXHAUST01 JetLenzflare
      ;ParticleSysBone     = EXHAUST02 JetLenzflare
      TransitionKey    = Trans_ATTACKING
      Flags            = START_FRAME_FIRST
      WeaponLaunchBone  = PRIMARY WeaponA
      WeaponFireFXBone  = PRIMARY WeaponA
    End

    TransitionState    = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED Trans_ATTACKING Trans_READY
      Model            = RU-TU22M_D
      Animation        = RU-TU22M_D.RU-TU22M_D
      AnimationMode    = ONCE_BACKWARDS
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ;ParticleSysBone     = EXHAUST01 JetLenzflare
      ;ParticleSysBone     = EXHAUST02 JetLenzflare
      Flags            = START_FRAME_FIRST
      WeaponLaunchBone  = PRIMARY WeaponA
      WeaponFireFXBone  = PRIMARY WeaponA
    End

    TransitionState    = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED Trans_ATTACKING Trans_NOT_READY
      Model            = RU-TU22M_D
      Animation        = RU-TU22M_D.RU-TU22M_D
      AnimationMode    = ONCE_BACKWARDS
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ;ParticleSysBone     = EXHAUST01 JetLenzflare
      ;ParticleSysBone     = EXHAUST02 JetLenzflare
      Flags            = START_FRAME_FIRST
      WeaponLaunchBone  = PRIMARY WeaponA
      WeaponFireFXBone  = PRIMARY WeaponA
    End

  End

  Draw = W3DModelDraw ModuleTag_PickBox
    DefaultConditionState
      Model               = JetPickBox
    End
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Tu22M3
  EditorSorting       = VEHICLE
  Side                = Boss
  TransportSlotCount  = 0                 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange         = 500.0 
  ShroudClearingRange = 450.0
  Prerequisites
    Object  = Boss_AirfieldBig
  End
  WeaponSet
    Conditions = None
    Weapon = PRIMARY TU22BombWeapon2
	Weapon = SECONDARY KinzhalMissileWeapon
	PreferredAgainst = SECONDARY STRUCTURE HUGE_VEHICLE VEHICLE
	AutoChooseSources = SECONDARY NONE
  End

  ArmorSet
    Conditions           = None
    Armor                = AirplaneArmor
    DamageFX             = AAHitscanDamageFX
  End

  BuildCost               = 50000
  BuildTime               = 40.0
  ExperienceValue         = 150 150 275 475  ;Experience point value at each level
  ExperienceRequired      = 0 500 1200 2000   ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 1  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet             = RussiaBomberTu22M3CommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect             = TU22VoiceSelect
  VoiceMove               = TU22VoiceMove
  VoiceAttack             = TU22VoiceAttack
  VoiceGuard              = TU22VoiceGuard
  SoundAmbient            = AuroraBomberAmbientLoop
  UnitSpecificSounds
    VoiceCreate           = TU22VoiceCreate
    Afterburner           = RaptorAfterburner
    VoiceGarrison         = TU22VoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority          = UNIT
  KindOf                 = SALVAGER PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT CANNOT_RETALIATE
  Body                   = ActiveBody ModuleTag_02
    MaxHealth            = 1200.0
    InitialHealth        = 1200.0
  End

  Behavior = PhysicsBehavior ModuleTag_03
    Mass = 500.0
  End

  Behavior = JetAIUpdate ModuleTag_04
    OutOfAmmoDamagePerSecond  = 1%     ; amount of damage to take per SEC (not per frame) when out of ammo
    TakeoffDistForMaxLift     = 0%   ; larger numbers give more lift sooner when taking off
    TakeoffPause              = 500
    MinHeight                 = 5
    ReturnToBaseIdleTime      = 10000         ; if idle for this long, return to base, even if not out of ammo
    AutoAcquireEnemiesWhenIdle    = No
    MoodAttackCheckRate           = 1
    AttackLocomotorType         = SET_SUPERSONIC
    ReturnForAmmoLocomotorType  = SET_NORMAL
  End

  Locomotor = SET_NORMAL TU22locomotor
  Locomotor = SET_TAXIING BasicJetTaxiLocomotor
  Locomotor = SET_SUPERSONIC  TU22SUPERSONIClocomotor

;Upgrades----------------------------------------------------------
  ; Behavior                = ArmorUpgrade Upgrade_01
    ; TriggeredBy           = Upgrade_RussiaCountermeasures
  ; End
  ; Behavior                = CountermeasuresBehavior Upgrade_02
    ; TriggeredBy           = Upgrade_RussiaCountermeasures
    ; FlareTemplateName     = CountermeasureFlare
    ; FlareBoneBaseName     = Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
    ; VolleySize            = 3     ; Number of flares launched per volley (requires bones)
    ; VolleyArcAngle        = 90.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
    ; VolleyVelocityFactor  = 1.0   ; Shoots out flares at a stronger velocity with a higher value.
    ; DelayBetweenVolleys   = 600  ; Time between flare volleys
    ; NumberOfVolleys       = 6     ; Number of times the volleys will fire before reloading
    ; ReloadTime            = 0     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
    ; EvasionRate           = 40%   ; With active flares, the specified percentage will be diverted.
    ; ReactionLaunchLatency = 0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
    ; MissileDecoyDelay     = 200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
  ; End
  ; Behavior = WeaponSetUpgrade Upgrade_03
    ; TriggeredBy = Upgrade_Brahmos
  ; End
  ;Behavior = MaxHealthUpgrade Upgrade_04
    ;TriggeredBy   = Upgrade_Brahmos
    ;AddMaxHealth  = -100.0
    ;ChangeType    = PRESERVE_RATIO ;Choices are PRESERVE_RATIO, ADD_CURRENT_HEALTH_TOO, and SAME_CURRENTHEALTH
  ;End
  ; Behavior = CommandSetUpgrade Upgrade_05
    ; TriggeredBy = Upgrade_Brahmos
    ; CommandSet = TU-22M3CommandSet2
  ; End
  
;Deaths-------------------------------------------------------------
 Behavior                            = JetSlowDeathBehavior DeathTag_01
    FXOnGroundDeath = FX_BigMissileCarrierDeath
    OCLOnGroundDeath = OCL_TU22M3DeathFinalBlowUp
    FXInitialDeath                     = FX_TU22DeathInitial
    OCLInitialDeath                    = OCL_TU22M3SlowBD
 End

  Behavior = FlammableUpdate ModuleTag_05
    AflameDuration = 5000        ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500      ; this often.
  End

  Behavior                       = TransitionDamageFX ModuleTag_06
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes Psys:SmokeSmallContinuous01
    ReallyDamagedFXList1         = Loc: X:0 Y:0 Z:0 FXList:FX_MIGDamageTransition
  End

  Behavior = ProductionUpdate ModuleTag_07
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End

  ; Behavior = FireWeaponUpdate ModuleTag_08
    ; Weapon = StealthBombersRadarWeapon
    ; ExclusiveWeaponDelay = 1000
  ; End

  ; Behavior = FireWeaponWhenDamagedBehavior ModuleTag_09
    ; StartsActive = Yes
    ; ReactionWeaponPristine = DroneRevealWeapon
    ; ReactionWeaponDamaged = DroneRevealWeapon
    ; ReactionWeaponReallyDamaged = DroneRevealWeapon
    ; ReactionWeaponRubble = DroneRevealWeapon
    ; DamageTypes = NONE +MELEE
  ; End

  Geometry = Cylinder
  GeometryIsSmall = Yes
  GeometryMajorRadius = 40.0
  GeometryMinorRadius = 25.0
  GeometryHeight = 15.0
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length
  Scale = 1.0
End

;=================================================================================================
;------------------------------------------------------------------------------
Object Boss_SovietVehicleBM21

  ; *** ART Parameters ***
  SelectPortrait = ScudTrk_L
  ButtonImage = ScudTrk

  Draw = W3DTruckDraw ModuleTag_01
    ExtraPublicBone = CORE
    OkToChangeModelColor = Yes
    DefaultConditionState
      Model = CWCruBM21
      WeaponLaunchBone = PRIMARY WEAPONA
      WeaponFireFXBone = PRIMARY WEAPONFX
      Turret = TURRET01
      TurretPitch = TURRETEL01
    End
    ConditionState = REALLYDAMAGED
      Model = CWCruBM21_d
      Turret = TURRET01
      TurretPitch = TURRETEL01
    End
    ConditionState = RUBBLE
      Model = CWCruBM21_k
      Turret = TURRET01
      TurretPitch = TURRETEL01
    End
    TrackMarks = EXTireTrack.tga
    Dust = RocketBuggyDust
    DirtSpray = RocketBuggyDirtSpray
    ; These parameters are only used if the model has a separate suspension,
    ; and the locomotor has HasSuspension = Yes.
    LeftFrontTireBone = WHEEL01
    RightFrontTireBone = WHEEL04
    MidLeftRearTireBone = WHEEL02
    MidRightRearTireBone = WHEEL05
    LeftRearTireBone = WHEEL03
    RightRearTireBone = WHEEL06
    TireRotationMultiplier = 0.2 ; this * speed = rotation.
  End
  Draw = W3DModelDraw ModuleTag_BrakeDraw
    IgnoreConditionStates = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED RUBBLE
    AttachToBoneInAnotherModule = CORE
    ParticlesAttachedToAnimatedBones = Yes
    OkToChangeModelColor = Yes
    ConditionState = NONE
      Model = CWCruBM21_l
      HideSubObject = HLIGHT01 HLIGHT02
      ParticleSysBone = BRAKE01 CWCgenRearLightBraking
      ParticleSysBone = BRAKE02 CWCgenRearLightBraking
    End
    ConditionState = MOVING
      Model = CWCruBM21_l
      HideSubObject = HLIGHT01 HLIGHT02
    End
    ;night, I always have my lights on when I move, and they flash whenever I brake
    ConditionState = NIGHT
      Model = CWCruBM21_l
      ParticleSysBone = BRAKE01 CWCgenRearLight
      ParticleSysBone = BRAKE02 CWCgenRearLight
      ShowSubObject = HLIGHT01 HLIGHT02
      ParticleSysBone = BRAKE01 CWCgenRearLightBraking
      ParticleSysBone = BRAKE02 CWCgenRearLightBraking
    End
    ConditionState = NIGHT MOVING
      Model = CWCruBM21_l
      ParticleSysBone = BRAKE01 CWCgenRearLight
      ParticleSysBone = BRAKE02 CWCgenRearLight
      ShowSubObject = HLIGHT01 HLIGHT02
    End
    ;enemynear, hide those red lights!
    ConditionState = ENEMYNEAR
      Model = CWCruBM21_l
      HideSubObject = HLIGHT01 HLIGHT02
    End
    AliasConditionState = MOVING ENEMYNEAR
    AliasConditionState = NIGHT ENEMYNEAR
    AliasConditionState = NIGHT MOVING ENEMYNEAR
  End

  ; ***DESIGN parameters ***
  DisplayName = OBJECT:BM21
  Side = BossGeneral
  EditorSorting = VEHICLE
  TransportSlotCount = 8

  WeaponSet
    Conditions = None 
    Weapon = PRIMARY GLABM21GradRocketLauncherWeapon
    Weapon = SECONDARY GLABM21GradRocketLauncherWeaponSingleFire
    AutoChooseSources = PRIMARY FROM_SCRIPT FROM_AI DEFAULT_SWITCH_WEAPON
    AutoChooseSources = SECONDARY FROM_SCRIPT FROM_AI
    PreferredAgainst = SECONDARY INFANTRY
    ShareWeaponReloadTime = Yes
    WeaponLockSharedAcrossSets = Yes 
  End

  ArmorSet
    Conditions = None
    Armor = CWCruBM21Armor
    DamageFX = TruckDamageFX
  End

  BuildCost = 6000
  BuildTime = 12.0 ;in seconds
  VisionRange = 200
  ShroudClearingRange = 500

  Prerequisites
    Object = Boss_WarFactory Boss_SmallFactory
  End

  ;CWCExpMarker: BM-21
  ExperienceValue = 2000 3000 4000 6000 ;Experience point value at each level
  ExperienceRequired = 0 2134 4269 7470 ;Experience points needed to gain each level
  IsTrainable = Yes ;Can gain experience
  CrusherLevel = 2 ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel = 2 ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles

  CommandSet = GLABM21GradCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = CWCruBM21VoiceSelect
  VoiceMove = CWCruBM21VoiceMove
  VoiceAttack = CWCruBM21VoiceAttack
  VoiceGuard = CWCruBM21VoiceGuard
  SoundMoveLoop = CWCruUralSeriesVehicleMoving
  UnitSpecificSounds
    VoiceCreate = CWCruBM21VoiceCreate
    TurretMoveLoop = CWCgenTurretServo
    VoiceCrush = CWCruBM21VoiceCrush
    VoiceEnter = CWCruBM21VoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = CAN_ATTACK CAN_CAST_REFLECTIONS DONT_AUTO_CRUSH_INFANTRY POWERED PRELOAD SCORE SELECTABLE VEHICLE 

  Body = ActiveBody ModuleTag_02
    MaxHealth = 500.0
    InitialHealth = 500.0
  End

  Behavior = DeployStyleAIUpdate ModuleTag_03
    Turret
      TurretTurnRate = 80
      TurretPitchRate = 40
      FirePitch = 30 ; Instead of aiming pitchwise at the target, it will aim here
      AllowsPitch = Yes
      RecenterTime = 2500 ; how long to wait during idle before recentering
      ControlledWeaponSlots = PRIMARY ;SECONDARY
      NaturalTurretAngle = 0
      InitiallyDisabled = Yes
    End
    AutoAcquireEnemiesWhenIdle = No NotWhileAttacking
    PackTime = 4000
    UnpackTime = 4000
    TurretsFunctionOnlyWhenDeployed = Yes
    TurretsMustCenterBeforePacking = Yes
    ManualDeployAnimations = Yes
  End

  Locomotor = SET_NORMAL CWCruBM21Locomotor

  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 50.0
  End

; --- begin Death modules ---
  Behavior = TransitionDamageFX ModuleTag_Death01
    DamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenTankDeathSmokeDamaged
    DamagedFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDamageTransition
    ;
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenTankDeathSmokeReallyDamaged
    ReallyDamagedFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDamageTransition
    ;
    RubbleParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenTankDeathSmokeRubble
    RubbleFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDamageTransition
    RubbleFXList2 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDeathRubble1
  End
  Behavior = SlowDeathBehavior ModuleTag_Death02
    DestructionDelay = 18000
    FX = MIDPOINT FX_CWCgenTankDeathRubble2
    ;OCL = MIDPOINT OCL_CWCgenTankDeathTrails
    SinkDelay = 15000
    SinkRate = 4.0
  End
; --- end Death modules ---
  Geometry = BOX
  GeometryMajorRadius = 17.0
  GeometryMinorRadius = 7.0
  GeometryHeight = 14.0
  GeometryIsSmall = No
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45 ; minimum elevation angle above horizon. Used to limit shadow length
  Scale = 1.2
End

;==============================================================================================
Object AN225SlowBDObject
   ; *** ART Parameters ***
  Draw                = W3DModelDraw ModuleTag_01
    DefaultConditionState
      Model           = RU-AN225_D
      Flags           = START_FRAME_FIRST
      ParticleSysBone = ENGINE01 JetFireLarge
      ParticleSysBone = ENGINE03 JetFireLarge
      ParticleSysBone = ENGINE05 JetFireLarge
      ParticleSysBone = ENGINE01 JetBlackTrailThin
      ParticleSysBone = ENGINE02 JetBlackTrailThin
      ParticleSysBone = ENGINE03 JetBlackTrailThin
      ParticleSysBone = ENGINE04 JetBlackTrailThin
      ParticleSysBone = ENGINE05 JetBlackTrailThin
      ParticleSysBone = ENGINE06 JetBlackTrailThin
      ParticleSysBone = Wingtip01 JetContrailThin
      ParticleSysBone = Wingtip02 JetContrailThin
    End
  End
  KindOf = CAN_CAST_REFLECTIONS NO_COLLIDE HULK IGNORED_IN_GUI UNATTACKABLE
  Behavior                  = PhysicsBehavior ModuleTag_02
    Mass                    = 0.8
    AllowCollideForce       = No
    ZFriction = 1
    ForwardFriction = 0.2
    ShockResistance = 1
    CenterOfMassOffset       = 1
  End
  Behavior = SlowDeathBehavior DeathTag_01
    ;FX                  = FINAL   FX_JetHitGround
    OCL                 = FINAL   OCL_AN225DeathWatercheck
  End
  Behavior = HeightDieUpdate DeathTag_02
    TargetHeight = 1
    TargetHeightIncludesStructures = Yes
    InitialDelay                    = 1 ; Can't explode in the first second so we don't explode on the pad
  End
  Scale = 0.95
  Geometry                 = Box
  GeometryIsSmall          = Yes
  GeometryMajorRadius      = 1.0
  GeometryMinorRadius      = 1.0
  GeometryHeight           = 1.0
  Shadow                   = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length.
End

;------------------------------------------------------------------
Object Boss_AN225CargoPlane

  SelectPortrait = SACParatroopers
  ButtonImage    = SACParatroopers
  
  ; *** ART Parameters ***
  Draw = W3DModelDraw ModuleTag_01
    DefaultConditionState
      Model           = RU-AN225
      ParticleSysBone = ENGINE01 JetBlackTrailThin
      ParticleSysBone = ENGINE02 JetBlackTrailThin
      ParticleSysBone = ENGINE03 JetBlackTrailThin
      ParticleSysBone = ENGINE04 JetBlackTrailThin
      ParticleSysBone = ENGINE05 JetBlackTrailThin
      ParticleSysBone = ENGINE06 JetBlackTrailThin
      ParticleSysBone = Wingtip01 JetContrailThin
      ParticleSysBone = Wingtip02 JetContrailThin
    End
    ConditionState = DAMAGED
      Model           = RU-AN225_D
      Flags           = START_FRAME_FIRST
      ParticleSysBone = ENGINE01 JetFireLarge
      ParticleSysBone = ENGINE03 JetFireLarge
      ParticleSysBone = ENGINE01 JetBlackTrailThin
      ParticleSysBone = ENGINE02 JetBlackTrailThin
      ParticleSysBone = ENGINE03 JetBlackTrailThin
      ParticleSysBone = ENGINE04 JetBlackTrailThin
      ParticleSysBone = ENGINE05 JetBlackTrailThin
      ParticleSysBone = ENGINE06 JetBlackTrailThin
      ParticleSysBone = Wingtip01 JetContrailThin
      ParticleSysBone = Wingtip02 JetContrailThin
    End
    ConditionState = REALLYDAMAGED
      Model           = RU-AN225_D
      Flags           = START_FRAME_FIRST
      ParticleSysBone = ENGINE01 JetFireLarge
      ParticleSysBone = ENGINE03 JetFireLarge
      ParticleSysBone = ENGINE05 JetFireLarge
      ParticleSysBone = ENGINE01 JetBlackTrailThin
      ParticleSysBone = ENGINE02 JetBlackTrailThin
      ParticleSysBone = ENGINE03 JetBlackTrailThin
      ParticleSysBone = ENGINE04 JetBlackTrailThin
      ParticleSysBone = ENGINE05 JetBlackTrailThin
      ParticleSysBone = ENGINE06 JetBlackTrailThin
      ParticleSysBone = Wingtip01 JetContrailThin
      ParticleSysBone = Wingtip02 JetContrailThin
    End
    ConditionState = RUBBLE
      Model           = RU-AN225_D
      ParticleSysBone = ENGINE01 JetFireLarge
      ParticleSysBone = ENGINE05 JetFireLarge
      ParticleSysBone = ENGINE03 JetFireLarge
      ParticleSysBone = ENGINE06 JetFireLarge
      ParticleSysBone = ENGINE01 JetSmokeLarge
      ParticleSysBone = ENGINE03 JetSmokeLarge
      ParticleSysBone = ENGINE05 JetSmokeLarge
      ParticleSysBone = ENGINE04 JetSmokeLarge
    End
    
    OkToChangeModelColor = Yes
    ParticlesAttachedToAnimatedBones = Yes 
End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:AN225
  EditorSorting       = VEHICLE
  Side                = Boss
  TransportSlotCount  = 0                 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange         = 250.0
  ShroudClearingRange = 250.0
  BuildCost = 60000.0
  BuildTime = 1.0
  
  ; Prerequisites
    ; Object = Boss_WarFactory
    ; Object = Boss_AirfieldBig
    ; Object = Boss_TechCentr
  ; End
  
  ArmorSet
    Conditions      = None
    Armor           = AirplaneArmor
    DamageFX        = AAHitscanDamageFX
  End
  CommandSet        = An225CommandSet

  ; *** AUDIO Parameters ***
  SoundAmbient = B52AmbientLoop
  SoundAmbientRubble    = NoSound

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT TRANSPORT
  Body = ActiveBody ModuleTag_02
    MaxHealth       = 1000.0
    InitialHealth   = 1000.0
  End

  ExperienceValue     = 40 40 40 40  ; Experience point value at each level
  ExperienceRequired = 0 0 0 0   ;Experience points needed to gain each level
  IsTrainable        = No             ;Can gain experience
  CrusherLevel   = 1  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
 
  Behavior = PhysicsBehavior ModuleTag_03
    Mass = 500.0
  End

;Upgrades----------------------------------------------------------
; Behavior                = CountermeasuresBehavior Upgrade_01
    ; TriggeredBy           = Upgrade_RussiaCountermeasures
    ; FlareTemplateName     = CountermeasureFlare
    ; FlareBoneBaseName     = Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
    ; VolleySize            = 3     ; Number of flares launched per volley (requires bones)
    ; VolleyArcAngle        = 90.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
    ; VolleyVelocityFactor  = 1.0   ; Shoots out flares at a stronger velocity with a higher value.
    ; DelayBetweenVolleys   = 600  ; Time between flare volleys
    ; NumberOfVolleys       = 5     ; Number of times the volleys will fire before reloading
    ; ReloadTime            = 0     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
    ; EvasionRate           = 30%   ; With active flares, the specified percentage will be diverted.
    ; ReactionLaunchLatency = 0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
    ; MissileDecoyDelay     = 200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
  ; End
;Deaths-------------------------------------------------------------
  Behavior = JetSlowDeathBehavior DeathTag_01
    OCLInitialDeath = OCL_AN225SlowBD
  End

  Behavior = DeliverPayloadAIUpdate ModuleTag_04
    DoorDelay = 500
    MaxAttempts = 4
    DropOffset = X:0 Y:0 Z:-10
    DropDelay = 300 ;500 ; time in between each item dropped (if more than one)
    PutInContainer = AmericaParachute
    DeliveryDistance = 150
  End
  
  Locomotor = SET_NORMAL B52Locomotor
  Locomotor = SET_TAXIING AirF_AC-130BasicJetTaxiLocomotor

  Behavior = TransportContain ModuleTag_05
    Slots = 100
    ScatterNearbyOnExit = No
    OrientLikeContainerOnExit = Yes
    KeepContainerVelocityOnExit = Yes
    ExitPitchRate = 30
    ExitBone = WeaponA01
    AllowInsideKindOf  = INFANTRY VEHICLE HUGE_VEHICLE DOZER
    DoorOpenTime = 0                ; this prevents the Contain module from messing with the doors, since we want DeliverPayload to handle 'em
    NumberOfExitPaths = 0
    DestroyRidersWhoAreNotFreeToExit = Yes  ; 'destroy' as opposed to 'kill'
  End
  
  ; Behavior = JetAIUpdate ModuleTag_06
    ; OutOfAmmoDamagePerSecond = 0%
    ; TakeoffDistForMaxLift    = 0%
    ; TakeoffPause             = 500
    ; MinHeight                = 5
    ; ReturnToBaseIdleTime     = 5000
    ; AutoAcquireEnemiesWhenIdle = Yes
    ; KeepsParkingSpaceWhenAirborne = Yes
    ; MoodAttackCheckRate = 100
  ; End
  
  ; Behavior    = OCLSpecialPower ModuleTag_07
    ; SpecialPowerTemplate = SuperweaponParadropAmerica
    ; ;UpgradeOCL           = SCIENCE_Paradrop3 SUPERWEAPON_Paradrop3
    ; ;UpgradeOCL           = SCIENCE_Paradrop2 SUPERWEAPON_Paradrop2
    ; OCL                  = SUPERWEAPON_Paradrop1
    ; CreateLocation       = USE_OWNER_OBJECT
    ; ScriptedSpecialPowerOnly = No
  ; End

  Behavior = TransitionDamageFX ModuleTag_11
    DamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
  End

  ; Behavior = FireWeaponWhenDamagedBehavior ModuleTag_12
    ; StartsActive = Yes
    ; ReactionWeaponPristine = DroneRevealWeapon
    ; ReactionWeaponDamaged = DroneRevealWeapon
    ; ReactionWeaponReallyDamaged = DroneRevealWeapon
    ; ReactionWeaponRubble = DroneRevealWeapon
    ; DamageTypes = NONE +MELEE
  ; End

  Geometry = Box
  GeometryIsSmall = No
  GeometryMajorRadius = 60.0
  GeometryMinorRadius = 40.0
  GeometryHeight = 20.0
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length
  Scale = 1.1
End

;------------------------------------------------------------------
Object Boss_RussiaCargoJetIl76

  SelectPortrait = SACParatroopers
  ButtonImage    = SACParatroopers
  ; *** ART Parameters ***
  Draw = W3DModelDraw ModuleTag_01
    DefaultConditionState
      Model            = RVCargoPln
      Animation       = RVCargoPln.RVCargoPln
      AnimationMode   = LOOP
      ParticleSysBone = Propeller01 JetBlackTrailThin
      ParticleSysBone = Propeller02 JetBlackTrailThin
      ParticleSysBone = Propeller03 JetBlackTrailThin
      ParticleSysBone = Propeller04 JetBlackTrailThin
      ParticleSysBone = WingTip01 JetContrailThin
      ParticleSysBone = WingTip02 JetContrailThin
    End
    ConditionState = DAMAGED
      Model           = RVCargoPln_D
      Animation       = RVCargoPln_D.RVCargoPln_D
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
      ParticleSysBone = Smoke01 JetFireLarge
      ParticleSysBone = Smoke02 JetFireLarge
      ParticleSysBone = Propeller03 JetBlackTrailThin
      ParticleSysBone = Propeller04 JetBlackTrailThin
      ParticleSysBone = Smoke01 JetSmokeLarge
      ParticleSysBone = Smoke02 JetSmokeLarge
    End
    ConditionState = REALLYDAMAGED
      Model           = RVCargoPln_D
      Animation       = RVCargoPln_D.RVCargoPln_D
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
      ParticleSysBone = Smoke01 JetFireLarge
      ParticleSysBone = Smoke02 JetFireLarge
      ParticleSysBone = Smoke03 JetFireLarge
      ParticleSysBone = Smoke05 JetFireLarge
      ParticleSysBone = Propeller03 JetBlackTrailThin
      ParticleSysBone = Propeller04 JetBlackTrailThin
      ParticleSysBone = Smoke01 JetSmokeLarge
      ParticleSysBone = Smoke02 JetSmokeLarge
      ParticleSysBone = Smoke03 JetSmokeLarge
      ParticleSysBone = Smoke05 JetSmokeLarge
    End
    ConditionState = RUBBLE
      Model           = RVCargoPln_D1
      Animation       = RVCargoPln_D.RVCargoPln_D
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
      ParticleSysBone = Smoke01 JetFireLarge
      ParticleSysBone = Smoke06 JetFireLarge
      ParticleSysBone = Smoke03 JetFireLarge
      ParticleSysBone = Smoke05 JetFireLarge
      ParticleSysBone = Smoke01 JetSmokeLarge
      ParticleSysBone = Smoke06 JetSmokeLarge
      ParticleSysBone = Smoke03 JetSmokeLarge
      ParticleSysBone = Smoke05 JetSmokeLarge
    End
  OkToChangeModelColor = Yes
  ParticlesAttachedToAnimatedBones = Yes 
  End

  Draw = W3DModelDraw ModuleTag_02
    DefaultConditionState
      Model           = RVCargoPln_A2
      Animation       = RVCargoPln_A2.RVCargoPln_A2
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End
    ConditionState = DOOR_1_OPENING
      Model           = RVCargoPln_A2
      Animation       = RVCargoPln_A2.RVCargoPln_A2
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End
    ConditionState = DOOR_1_CLOSING
      Model           = RVCargoPln_A2
      Animation       = RVCargoPln_A2.RVCargoPln_A2
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Il76
  EditorSorting       = VEHICLE
  Side                = Boss
  TransportSlotCount  = 0                 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange         = 250.0
  ShroudClearingRange = 250.0
  BuildCost = 12000.0
  BuildTime = 10.0
  
  Prerequisites
    Object = Boss_AirfieldBig
  End
  
  ArmorSet
    Conditions      = None
    Armor           = AirplaneArmor
    DamageFX        = AAHitscanDamageFX
  End
  CommandSet        = Il76CommandSet

  ; *** AUDIO Parameters ***
  SoundAmbient = C130AmbientLoop
  SoundAmbientRubble    = NoSound

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT TRANSPORT
  Body = ActiveBody ModuleTag_02
    MaxHealth       = 1000.0
    InitialHealth   = 1000.0
  End

  ExperienceValue     = 40 40 40 40  ; Experience point value at each level
  ExperienceRequired = 0 0 0 0   ;Experience points needed to gain each level
  IsTrainable        = No             ;Can gain experience
  CrusherLevel   = 1  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
 
  Behavior = PhysicsBehavior ModuleTag_03
    Mass = 500.0
  End

;Upgrades----------------------------------------------------------
; Behavior                = CountermeasuresBehavior Upgrade_01
    ; TriggeredBy           = Upgrade_RussiaCountermeasures
    ; FlareTemplateName     = CountermeasureFlare
    ; FlareBoneBaseName     = Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
    ; VolleySize            = 3     ; Number of flares launched per volley (requires bones)
    ; VolleyArcAngle        = 90.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
    ; VolleyVelocityFactor  = 1.0   ; Shoots out flares at a stronger velocity with a higher value.
    ; DelayBetweenVolleys   = 600  ; Time between flare volleys
    ; NumberOfVolleys       = 5     ; Number of times the volleys will fire before reloading
    ; ReloadTime            = 0     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
    ; EvasionRate           = 30%   ; With active flares, the specified percentage will be diverted.
    ; ReactionLaunchLatency = 0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
    ; MissileDecoyDelay     = 200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
  ; End
;Deaths-------------------------------------------------------------
  Behavior = JetSlowDeathBehavior DeathTag_01
    DestructionDelay                = 2000 
    RollRate                        = 0.0
    RollRateDelta                   = 100%      ;each frame, rollrate = rollrate * rollrateDelta
    PitchRate                       = 0
    FallHowFast                     = 25.0%    ;Bigger is faster (can be over 100%,it's a fraction of gravity)
    FXInitialDeath                  = FX_JetBigDeathInitial
    OCLInitialDeath                 = OCL_AmericaJetCargoDeathStart
    DelaySecondaryFromInitialDeath  = 2000       ; in milliseconds     This guy won't hit the ground, so this time equals the above time
    OCLSecondary                    = OCL_AmericaJetCargoHulkDeath
    FXSecondary                     = FX_BigPlaneDeath
  End

  Behavior = DeliverPayloadAIUpdate ModuleTag_04
    DoorDelay = 500
    MaxAttempts = 4
    DropOffset = X:0 Y:0 Z:-10
    DropDelay = 300 ;500 ; time in between each item dropped (if more than one)
    PutInContainer = AmericaParachute
    DeliveryDistance = 150
  End
  Locomotor = SET_NORMAL AirF_AC-130JetLocomotor
  Locomotor = SET_TAXIING AirF_AC-130BasicJetTaxiLocomotor

  Behavior = TransportContain ModuleTag_05
    Slots = 100
    ScatterNearbyOnExit = No
    OrientLikeContainerOnExit = Yes
    KeepContainerVelocityOnExit = Yes
    ExitPitchRate = 30
    ExitBone = WeaponA01
    AllowInsideKindOf  = INFANTRY VEHICLE PROJECTILE DOZER PARACHUTABLE
    DoorOpenTime = 0                ; this prevents the Contain module from messing with the doors, since we want DeliverPayload to handle 'em
    NumberOfExitPaths = 0
    DestroyRidersWhoAreNotFreeToExit = Yes  ; 'destroy' as opposed to 'kill'
  End
  
  ; Behavior = JetAIUpdate ModuleTag_06
    ; OutOfAmmoDamagePerSecond = 0%
    ; TakeoffDistForMaxLift    = 0%
    ; TakeoffPause             = 500
    ; MinHeight                = 5
    ; ReturnToBaseIdleTime     = 5000
    ; AutoAcquireEnemiesWhenIdle = Yes
    ; KeepsParkingSpaceWhenAirborne = Yes
    ; MoodAttackCheckRate = 100
  ; End

  ; Behavior    = OCLSpecialPower ModuleTag_07
    ; SpecialPowerTemplate = SuperweaponParadropAmerica
    ; ;UpgradeOCL           = SCIENCE_Paradrop3 SUPERWEAPON_Paradrop3
    ; ;UpgradeOCL           = SCIENCE_Paradrop2 SUPERWEAPON_Paradrop2
    ; OCL                  = SUPERWEAPON_Paradrop1
    ; CreateLocation       = USE_OWNER_OBJECT
    ; ScriptedSpecialPowerOnly = No
  ; End 

  Behavior = TransitionDamageFX ModuleTag_11
    DamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
  End

  ; Behavior = FireWeaponWhenDamagedBehavior ModuleTag_12
    ; StartsActive = Yes
    ; ReactionWeaponPristine = DroneRevealWeapon
    ; ReactionWeaponDamaged = DroneRevealWeapon
    ; ReactionWeaponReallyDamaged = DroneRevealWeapon
    ; ReactionWeaponRubble = DroneRevealWeapon
    ; DamageTypes = NONE +MELEE
  ; End

  Geometry = Box
  GeometryIsSmall = No
  GeometryMajorRadius = 60.0
  GeometryMinorRadius = 40.0
  GeometryHeight = 20.0
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length
  Scale = 1.0
End

;------------------------------------------------------------------------------
Object Boss_UralTruck

  ; *** ART Parameters ***
  SelectPortrait         = SMSupplyTK_L
  ButtonImage            = SMSupplyTK

  Draw = W3DTruckDraw ModuleTag_01
    OkToChangeModelColor = Yes
    ExtraPublicBone = CORE
    DefaultConditionState
      Model = CWCruUral
      HideSubObject = CARGO01
    End
    ConditionState = REALLYDAMAGED
      Model = CWCruUral_d
    End
    ConditionState = RUBBLE
      Model = CWCruUral_k
    End
    ConditionState = CARRYING
      Model = CWCruUral
      ShowSubObject = CARGO01
    End
    ConditionState = REALLYDAMAGED CARRYING
      Model = CWCruUral_d
      ShowSubObject = CARGO01
    End
    ConditionState = RUBBLE CARRYING
      Model = CWCruUral_k
      ShowSubObject = CARGO01
    End
    TrackMarks = EXTireTrack.tga
    Dust = RocketBuggyDust
    DirtSpray = RocketBuggyDirtSpray
    ; PowerslideSpray = RocketBuggyDirtPowerSlide doesn't powerslide
    ; These parameters are only used if the model has a separate suspension,
    ; and the locomotor has HasSuspension = Yes.
    LeftFrontTireBone = WHEEL01
    RightFrontTireBone = WHEEL04
    LeftRearTireBone = WHEEL03
    RightRearTireBone = WHEEL06
    MidLeftRearTireBone = WHEEL02
    MidRightRearTireBone = WHEEL05
    TireRotationMultiplier = 0.2 ; this * speed = rotation.
    PowerslideRotationAddition = 0 ; This vehicle doesn't powerslide.
  End

  ; ***DESIGN parameters ***
  DisplayName           = OBJECT:TroopTruck
  Side                  = Boss
  EditorSorting         = VEHICLE
  TransportSlotCount    = 5                 ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions          = NONE
    Weapon              = PRIMARY     NONE
  End
  ArmorSet
    Conditions      = None
    Armor           = HumveeArmor
    DamageFX        = TruckDamageFX
  End
  BuildCost       = 100
  BuildTime       = 3.0          ;in seconds
  VisionRange     = 150
  ShroudClearingRange = 150
  Prerequisites
    Object = Boss_SmallFactory Boss_WarFactory Boss_UkraineWarFactory
  End
  ExperienceValue = 50 50 100 150   ;Experience point value at each level
  ExperienceRequired = 0 100 150 300  ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet      = MilitiaVehicleTransportCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = CWCruUralVoiceSelect
  VoiceMove = CWCruUralVoiceMove
  SoundMoveStart = HumveeMoveStart
  SoundMoveStartDamaged = HumveeMoveStart
  SoundMoveLoop = CWCruUralSeriesVehicleMoving
  SoundEnter = HumveeEnter
  SoundExit = HumveeExit
  UnitSpecificSounds
    VoiceCreate         = CWCruUralVoiceCreate
    VoiceCrush          = CWCruUralVoiceCrush
  ; Required for the W3DTruckDraw module
    TruckLandingSound = RocketBuggyLand
    TruckPowerslideSound = RocketBuggyPowerslide
    VoiceUnload = CWCruUralVoiceUnload
    VoiceEnter = CWCruUralVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE TRANSPORT CASH_GENERATOR CANNOT_BUILD_NEAR_SUPPLIES FS_SUPPLY_CENTER

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 240.0
    InitialHealth   = 240.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 480
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End
  Behavior = TransportAIUpdate ModuleTag_03
    Turret
      TurretTurnRate = 0
      RecenterTime = 5000   ; how long to wait during idle before recentering
      ControlledWeaponSlots = PRIMARY SECONDARY TERTIARY
    End
    AutoAcquireEnemiesWhenIdle = Yes
    MoodAttackCheckRate        = 250
  End
  Locomotor = SET_NORMAL TroopTruckLocomotor

  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 50.0
  End

  Behavior = SupplyCenterCreate ModuleTag_60
    ;nothing
  End
  Behavior = ProductionUpdate ModuleTag_10
    ; nothing
  End
  Behavior = SupplyCenterProductionExitUpdate ModuleTag_70
    UnitCreatePoint   = X: -13.426  Y: -24.064   Z:0.0
    NaturalRallyPoint = X: -13.436  Y: -35.145   Z:0.0;NaturalRallyPointX must always match GeometryMajorRadius! -ML
  End

  Behavior = SupplyCenterDockUpdate ModuleTag_50
    AllowsPassthrough = No ;You can't drive through this guy while docking.  Use this when the dock points are all outside
    NumberApproachPositions = -1 ; This is a Boneless dock, so this means infinite can approach
  End

  Behavior = TransportContain  ModuleTag_05
    Slots             = 12
    EnterSound          = GarrisonEnter
    ExitSound           = GarrisonExit
    DamagePercentToUnits = 70%
    AllowInsideKindOf  = INFANTRY
    ExitDelay = 250
    NumberOfExitPaths = 3 ; Defaults to 1.  Set 0 to not use ExitStart/ExitEnd, set higher than 1 to use ExitStart01-nn/ExitEnd01-nn
    GoAggressiveOnExit = Yes ; AI Will tell people to set their mood to Aggressive on exiting
  End

  Behavior = SlowDeathBehavior ModuleTag_11
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier = 25
    DestructionDelay = 1
    OCL = INITIAL  OCL_InitialSupplyDebris
    FX  = FINAL    FX_BattleMasterExplosionOneFinal
  End

  Behavior = DestroyDie ModuleTag_12
    DeathTypes = NONE +CRUSHED +SPLATTED
  End

  Behavior = FXListDie ModuleTag_13
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End

  Behavior = TransitionDamageFX ModuleTag_17
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Geometry = BOX
  GeometryMajorRadius = 14.0
  GeometryMinorRadius = 7.0
  GeometryHeight = 11.5
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length
  Scale = 1.05
End

;------------------------------------------------------------------------------
Object Boss_SovietVehicleBTR80

  ; *** ART Parameters ***
  SelectPortrait = SNTransport_L
  ButtonImage = SNTransport

  Draw = W3DTruckDraw ModuleTag_01
    OkToChangeModelColor = Yes
    ExtraPublicBone = CORE
    InitialRecoilSpeed = 120
    MaxRecoilDistance = 1
    RecoilSettleSpeed = 20
    
    DefaultConditionState
      Model = CWCruBTR80
      Turret = TURRET
      TurretPitch = TURRETEL
      WeaponFireFXBone = PRIMARY Muzzle
      WeaponLaunchBone = PRIMARY Muzzle
      WeaponRecoilBone = PRIMARY BARREL
      WeaponFireFXBone = TERTIARY CHASSIS
      WeaponLaunchBone = TERTIARY CHASSIS
      ShowSubObject = FOG_MACHINE
      HideSubObject = SPEAKER_MOUNT_L SPEAKER_MOUNT_R SPEAKER ANTENA02 ANTENA03
    End
    ConditionState = REALLYDAMAGED
      Model = CWCruBTR80_d
      ShowSubObject = FOG_MACHINE
      HideSubObject = SPEAKER_MOUNT_L SPEAKER_MOUNT_R SPEAKER ANTENA02 ANTENA03
    End
    ConditionState = RUBBLE
      Model = CWCruBTR80_k
      ShowSubObject = FOG_MACHINE
      HideSubObject = SPEAKER_MOUNT_L SPEAKER_MOUNT_R SPEAKER ANTENA02 ANTENA03
    End

    ConditionState = WEAPONSET_PLAYER_UPGRADE
      Model = CWCruBTR80
      ShowSubObject = SPEAKER_MOUNT_L SPEAKER_MOUNT_R SPEAKER ANTENA02 ANTENA03
      ;HideSubObject = FOG_MACHINE
    End
    ConditionState = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
      Model = CWCruBTR80_d
      ShowSubObject = SPEAKER_MOUNT_L SPEAKER_MOUNT_R SPEAKER ANTENA02 ANTENA03
      ;HideSubObject = FOG_MACHINE
    End
    ConditionState = WEAPONSET_PLAYER_UPGRADE RUBBLE
      Model = CWCruBTR80_k
      ShowSubObject = SPEAKER_MOUNT_L SPEAKER_MOUNT_R SPEAKER ANTENA02 ANTENA03
      ;HideSubObject = FOG_MACHINE
    End

    TrackMarks = EXTireTrack.tga
    Dust = RocketBuggyDust
    DirtSpray = RocketBuggyDirtSpray
    ; PowerslideSpray = RocketBuggyDirtPowerSlide doesn't powerslide
    ; These parameters are only used if the model has a separate suspension,
    ; and the locomotor has HasSuspension = Yes.
    LeftFrontTireBone = WHEEL01
    RightFrontTireBone = WHEEL05
    LeftRearTireBone = WHEEL04
    RightRearTireBone = WHEEL08
    MidLeftFrontTireBone = WHEEL02
    MidRightFrontTireBone = WHEEL06
    MidLeftRearTireBone = WHEEL03
    MidRightRearTireBone = WHEEL07
    TireRotationMultiplier = 0.2 ; this * speed = rotation.
    PowerslideRotationAddition = 0 ; This vehicle doesn't powerslide.
  End

  ;the particle effects
  Draw = W3DModelDraw Module_ParticleEffects

    DefaultConditionState
      Model = CWCruBTR80_W
    End
    AliasConditionState = REALLYDAMAGED
    AliasConditionState = RUBBLE

    ConditionState = MOVING
      Model = CWCruBTR80_W
      ParticleSysBone = TreadFX01 RocketBuggyDust
      ParticleSysBone = TreadFX02 RocketBuggyDust
    End
    AliasConditionState = MOVING REALLYDAMAGED
    AliasConditionState = MOVING RUBBLE

    ConditionState = OVER_WATER
      Model = CWCruBTR80_W
      ParticleSysBone = WATER01 CWCgenAmphibWaveRest
      ParticleSysBone = WATER02 CWCgenAmphibWaveRest
    End
    AliasConditionState = OVER_WATER REALLYDAMAGED
    AliasConditionState = OVER_WATER RUBBLE

    ConditionState = OVER_WATER MOVING
      Model = CWCruBTR80_W
      ParticleSysBone = WATER03 CWCgenAmphibWave1
    End
    AliasConditionState = OVER_WATER MOVING REALLYDAMAGED
    AliasConditionState = OVER_WATER MOVING RUBBLE

  End

  ;---------------------------------------
  ; The brakes kick in
  ;---------------------------------------
  Draw = W3DModelDraw ModuleTag_BrakeDraw
    IgnoreConditionStates = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED RUBBLE
    AttachToBoneInAnotherModule = CORE
    ParticlesAttachedToAnimatedBones = Yes
    OkToChangeModelColor = Yes
    ;day, no lights, only if I brake
    ConditionState = NONE
      Model = CWCruBTR80_l
      HideSubObject = HLIGHT01 HLIGHT02
      ParticleSysBone = BRAKE01 CWCgenRearLightBraking
      ParticleSysBone = BRAKE02 CWCgenRearLightBraking
    End
    ConditionState = MOVING
      Model = CWCruBTR80_l
      HideSubObject = HLIGHT01 HLIGHT02
    End
    ;night, I always have my lights on when I move, and they flash whenever I brake
    ConditionState = NIGHT
      Model = CWCruBTR80_l
      ParticleSysBone = BRAKE01 CWCgenRearLight
      ParticleSysBone = BRAKE02 CWCgenRearLight
      ShowSubObject = HLIGHT01 HLIGHT02
      ParticleSysBone = BRAKE01 CWCgenRearLightBraking
      ParticleSysBone = BRAKE02 CWCgenRearLightBraking
    End
    ConditionState = NIGHT MOVING
      Model = CWCruBTR80_l
      ParticleSysBone = BRAKE01 CWCgenRearLight
      ParticleSysBone = BRAKE02 CWCgenRearLight
      ShowSubObject = HLIGHT01 HLIGHT02
    End
    ;enemynear, hide those red lights!
    ConditionState = ENEMYNEAR
      Model = CWCruBTR80_l
      HideSubObject = HLIGHT01 HLIGHT02
    End
    AliasConditionState = MOVING ENEMYNEAR
    AliasConditionState = NIGHT ENEMYNEAR
    AliasConditionState = NIGHT MOVING ENEMYNEAR

  End

  ;---------------------------------------
  ; The rotating housecolors
  ;---------------------------------------
  ; Draw = W3DModelDraw ModuleTag_HousecolorDraw
    ; OkToChangeModelColor = Yes

    ; ConditionState = NONE
      ; Model = CWCruHC_B
      ; Animation = CWCruHC_B.CWCruHC_B
      ; AnimationMode = LOOP
      ; HideSubObject = HOUSECOLOR02
    ; End
    ; AliasConditionState = WEAPONSET_PLAYER_UPGRADE
    ; AliasConditionState = REALLYDAMAGED
    ; AliasConditionState = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
    ; AliasConditionState = RUBBLE
    ; AliasConditionState = WEAPONSET_PLAYER_UPGRADE RUBBLE
    ; AliasConditionState = ENEMYNEAR RUBBLE
    ; AliasConditionState = ENEMYNEAR WEAPONSET_PLAYER_UPGRADE RUBBLE

    ; ConditionState = ENEMYNEAR
      ; Model = CWCruHC_B
      ; Animation = CWCruHC_B.CWCruHC_B
      ; AnimationMode = LOOP
      ; ShowSubObject = HOUSECOLOR02
    ; End
    ; AliasConditionState = ENEMYNEAR WEAPONSET_PLAYER_UPGRADE
    ; AliasConditionState = ENEMYNEAR REALLYDAMAGED
    ; AliasConditionState = ENEMYNEAR WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
  ; End


  ; ***DESIGN parameters ***
  DisplayName = OBJECT:BTR80
  Side = Boss
  EditorSorting = VEHICLE
  TransportSlotCount = 3

  WeaponSet
    Conditions          = None
    Weapon              = PRIMARY CWCruKPVT_14_5mm_Machinegun
    PreferredAgainst    = PRIMARY INFANTRY
    AutoChooseSources   = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
  End

  ArmorSet
    Conditions = None
    Armor = CWCruBTR80Armor
    DamageFX = TankDamageFX
  End

  BuildCost = 600
  BuildTime = 10.0 ;in seconds
  VisionRange = 225
  ShroudClearingRange = 200
  Prerequisites
    Object = Boss_WarFactory Boss_SmallFactory
  End

  ;CWCExpMarker: BTR-80
  ExperienceValue = 600 900 1200 1800 ;Experience point value at each level
  ExperienceRequired = 0 497 994 1739 ;Experience points needed to gain each level
  IsTrainable = Yes ;Can gain experience

  CrusherLevel = 2 ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel = 2 ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = RussianVehicleBTR90CommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = CWCruBTR80VoiceSelect
  VoiceMove = CWCruBTR80VoiceMove
  VoiceGuard = CWCruBTR80VoiceGuard
  VoiceAttack = CWCruBTR80VoiceAttack
  SoundMoveLoop = CWCgenLightVehicleMoving
  SoundEnter = HumveeEnter
  SoundExit = HumveeExit
  UnitSpecificSounds
    VoiceCreate = CWCruBTR80VoiceCreate
    TurretMoveLoop = CWCgenIFV_APCTurretServo
    VoiceCrush = CWCruBTR80VoiceCrush
    VoiceUnload = CWCruBTR80VoiceUnload
    VoiceEnter = CWCruBTR80VoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = ATTACK_NEEDS_LINE_OF_SIGHT CAN_ATTACK CAN_CAST_REFLECTIONS DONT_AUTO_CRUSH_INFANTRY POWERED PRELOAD SCORE SELECTABLE TRANSPORT VEHICLE 

  Body = ActiveBody ModuleTag_02
    MaxHealth = 350.0
    InitialHealth = 350.0
  End

  Behavior = AIUpdateInterface ModuleTag_04
    Turret
      TurretTurnRate = 120 ; turn rate, in degrees per sec
      TurretPitchRate = 120
      MinPhysicalPitch = -5
      AllowsPitch = Yes
      ControlledWeaponSlots = PRIMARY SECONDARY TERTIARY
      MinIdleScanAngle = 0 ; in degrees off the natural turret angle
      MaxIdleScanAngle = 45 ; in degrees off the natural turret angle
      MinIdleScanInterval = 10000 ; in milliseconds
      MaxIdleScanInterval = 20000 ; in milliseconds
    End
    AutoAcquireEnemiesWhenIdle = Yes
  End

  Locomotor = SET_NORMAL CWCruBTR80Locomotor CWCruBTR80AmphibiousLocomotor
  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 50.0
  End
  Behavior = TransportContain ModuleTag_06
    Slots = 7
	;InitialPayload = Boss_RussiaInfantryConscript 7
    ScatterNearbyOnExit = No
    HealthRegen%PerSec = 10
    DamagePercentToUnits = 30%
    AllowInsideKindOf = INFANTRY
    ExitDelay = 250
    NumberOfExitPaths = 2 ; Defaults to 1.  Set 0 to not use ExitStart/ExitEnd, set higher than 1 to use ExitStart01-nn/ExitEnd01-nn
    GoAggressiveOnExit = Yes ; AI Will tell people to set their mood to Aggressive on exiting
    DestroyRidersWhoAreNotFreeToExit = Yes
  End

  Behavior = EnemyNearUpdate ModuleTag_Housecolor
    ;nothing
  End

  Behavior = StealthDetectorUpdate ModuleTag_DetectStealth_Vehicle01
    CanDetectWhileContained = No ; this is a vehicle ; Can the object detect stealth objects when it is inside an object?
    CanDetectWhileGarrisoned = No ; this is a vehicle ; Can the object detect stealth objects when it is inside an object with a GarrisonContain module?
    DetectionRange = 63 ; 1/2 its visionrange ; The maximum distance that the object can detect enemy stealthed obejcts. Defaults to the object's VisionRange.
    DetectionRate = 1000 ; The time between scanning for stealthed objects.
    ExtraRequiredKindOf = INFANTRY
    ExtraForbiddenKindOf = BOAT
    InitiallyDisabled = No ; Does the detector start off in a disabled state?
  End

  ; Behavior = StealthUpdate ModuleTag_07
    ; StealthDelay = 100
    ; StealthForbiddenConditions = None ;ATTACKING
    ; InnateStealth = Yes
    ; RequiredStatus = STATUS_RIDER2
    ; OrderIdleEnemiesToAttackMeUponReveal = Yes
  ; End

  ; Behavior = WeaponSetUpgrade ModuleTag_08
    ; TriggeredBy = Upgrade_CWCruBTR80p
  ; End

  ; Behavior = CommandSetUpgrade ModuleTag_09
    ; TriggeredBy = Upgrade_CWCruBTR80p
    ; CommandSet = CWCruBTR80pCommandSet
  ; End

  ; Behavior = ProductionUpdate ModuleTag_10
    ; ;nothing
  ; End

; --- begin Death modules ---
  Behavior = TransitionDamageFX ModuleTag_Death01
    DamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenTankDeathSmokeDamaged
    DamagedFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDamageTransition
    ;
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenTankDeathSmokeReallyDamaged
    ReallyDamagedFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDamageTransition
    ;
    RubbleParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenTankDeathSmokeRubble
    RubbleFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDamageTransition
    RubbleFXList2 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDeathRubble1
  End
  Behavior = SlowDeathBehavior ModuleTag_Death02
    DestructionDelay = 18000
    FX = MIDPOINT FX_CWCgenTankDeathRubble2
    ;OCL = MIDPOINT OCL_CWCgenTankDeathTrails
    SinkDelay = 15000
    SinkRate = 4.0
    ;Weapon = MIDPOINT CWCgenVehicleExplodeWeapon
  End
; --- end Death modules ---

  Geometry = BOX
  GeometryMajorRadius = 22.0
  GeometryMinorRadius = 9.0
  GeometryHeight = 13.0
  GeometryIsSmall = No
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45 ; minimum elevation angle above horizon. Used to limit shadow length
  Scale = 1.12
End

; #TAG_UA
; ======================= TESTING UKRAINE UNITS =============================================================================================================================================

;------------------------------------------------------------------------------
Object Boss_UkraineVehicleBTR70

  ; *** ART Parameters ***
  SelectPortrait         = SNTransport_L
  ButtonImage            = SNTransport

  ;UpgradeCameo1 = Upgrade_ChinaOmegaBattleDrone
  
  Draw = W3DTruckDraw ModuleTag_01
    OkToChangeModelColor = Yes
    ConditionState = NONE
      Model = NVTCrawler
      ;note, the IRSonar particle system is added in StealthDetectorUpdate.cpp, not here
    End
    ConditionState       = REALLYDAMAGED RUBBLE ; THIS IS VERY IMPORTANT... DO NOT REMOVE 'RUBBLE'
                                                ; @todo find out why a non-animating model like this has such trouble matching
                                                ; reallydamaged against moving against rubble, etc.
      Model              = NVTCrawler_D
    End

    TrackMarks = EXTireTrack.tga

    Dust = RocketBuggyDust
    DirtSpray = RocketBuggyDirtSpray
    ; PowerslideSpray = RocketBuggyDirtPowerSlide doesn't powerslide

    ; These parameters are only used if the model has a separate suspension, 
    ; and the locomotor has HasSuspension = Yes.
    LeftFrontTireBone     = Wheel01
    RightFrontTireBone    = Wheel08
    LeftRearTireBone      = Wheel03
    RightRearTireBone     = Wheel05
    MidLeftFrontTireBone  = Wheel02
    MidRightFrontTireBone = Wheel07
    MidLeftRearTireBone   = Wheel04
    MidRightRearTireBone  = Wheel06

    TireRotationMultiplier      = 0.2   ; this * speed = rotation.
    PowerslideRotationAddition  = 0   ; This vehicle doesn't powerslide.

  End

  Draw = W3DModelDraw ModuleMod_OverWater ;CV04C
    DefaultConditionState
      Model = NVTCrawler_W
    End
    AliasConditionState  = MOVING
    ConditionState       = OVER_WATER
      ParticleSysBone    = TreadFX05 AmphibWaveRest
      ParticleSysBone    = TreadFX06 AmphibWaveRest
    End
    ConditionState       = OVER_WATER MOVING
      ParticleSysBone    = TreadFX05 AmphibWave
      ParticleSysBone    = TreadFX06 AmphibWave
    End
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:TroopCrawler
  Side = Boss
  EditorSorting   = VEHICLE
  TransportSlotCount = 8                 ;Just enough to fit into a Chinook.
  WeaponSet
    Conditions = None
    Weapon = PRIMARY NONE
  End
  ArmorSet
    Conditions      = None
    Armor           = Nuke_TankArmor
    DamageFX        = TankDamageFX
  End
  BuildCost       = 600
  BuildTime       = 15.0          ;in seconds    
  VisionRange     = 175           ;Needs to see farther and match it's weapon range -- else troop crawlers will get slaughtered against tanks!
  ShroudClearingRange = 400
  Prerequisites
    Object = Boss_UkraineWarFactory
  End
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = SovietVehicleBTR70CommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = TroopCrawlerVoiceSelect
  VoiceMove = TroopCrawlerVoiceMove
  VoiceGuard = TroopCrawlerVoiceMove
  VoiceAttack = TroopCrawlerVoiceAttack
  SoundMoveStart = TroopCrawlerMoveStart
  SoundMoveStartDamaged = TroopCrawlerMoveStart
  SoundEnter = HumveeEnter
  SoundExit = HumveeExit
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate     = TroopCrawlerVoiceCreate
    TurretMoveStart = NoSound
    TurretMoveLoop = TurretMoveLoop
    TruckLandingSound = NoSound ;RocketBuggyLand
    TruckPowerslideSound = NoSound ;RocketBuggyPowerslide
    VoiceCrush = TroopCrawlerVoiceCrush
    VoiceUnload   = TroopCrawlerVoiceUnload
    VoiceEnter = TroopCrawlerVoiceMove
  End


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS TRANSPORT VEHICLE SCORE
  
  Body = ActiveBody ModuleTag_02
    MaxHealth       = 240.0
    InitialHealth   = 240.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 480
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

  Behavior = ProductionUpdate ModuleTag_24
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End

  ; Behavior    = OCLSpecialPower ModuleTag_Laymines01
    ; SpecialPowerTemplate = SpecialAbilityLaymines
    ; OCL                  = OCL_AmericaBattleMines
  ; End

  ; Behavior = ObjectCreationUpgrade ModuleTag_13
    ; UpgradeObject = OCL_ChinaOmegaBattleDrone
    ; TriggeredBy   = Upgrade_ChinaOmegaBattleDrone
  ; End

  ; Behavior = StealthDetectorUpdate ModuleTag_03
    ; DetectionRate             = 900   ; how often to rescan for stealthed things in my sight (msec)
    ; ;DetectionRange           = ??? ;Dustin, enable this for independant balancing!
    ; CanDetectWhileGarrisoned  = No ;Garrisoned means being in a structure that you units can shoot out of.
    ; CanDetectWhileContained   = No ;Contained means being in a transport or tunnel network.
    ; PingSound                 = IRPing
    ; LoudPingSound             = IRPingLoud
    ; IRParticleSysName         = IRDetectSonar
    ; IRBrightParticleSysName   = IRDetectSonarBright
    ; IRGridParticleSysName     = IRDetectGrid
    ; IRBeaconParticleSysName   = IRLenzflare
    ; IRParticleSysBone         = IRFX
  ; End

  Behavior = AssaultTransportAIUpdate ModuleTag_NewAI
    MembersGetHealedAtLifeRatio = 0.5
  End

  Locomotor = SET_NORMAL TroopCrawlerLocomotor TroopCrawlerWaterLocomotor
  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 50.0
  End
  Behavior = TransportContain ModuleTag_06
    PassengersAllowedToFire = Yes
    Slots                 = 8
    ;InitialPayload        = Boss_RussiaInfantryConscript 8
    ScatterNearbyOnExit   = Yes
    ;HealthRegen%PerSec    = 10
    DamagePercentToUnits  = 10%
    AllowInsideKindOf     = INFANTRY
    ExitDelay         = 250
    NumberOfExitPaths = 3 ; Defaults to 1.  Set 0 to not use ExitStart/ExitEnd, set higher than 1 to use ExitStart01-nn/ExitEnd01-nn
    GoAggressiveOnExit = Yes ; AI Will tell people to set their mood to Aggressive on exiting
  End

  Behavior = SlowDeathBehavior ModuleTag_07
    DeathTypes = ALL -CRUSHED -SPLATTED
    DestructionDelay = 1
    FX  = FINAL    FX_SupplyTruckExplosionOneFinal
    OCL = FINAL    OCL_FinalTroopCrawlerDebris
  End

  Behavior                 = TransitionDamageFX ModuleTag_08
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_NukeCannonDamageTransition
  End

  Behavior = DestroyDie ModuleTag_09
    DeathTypes = NONE +CRUSHED +SPLATTED
  End

  Behavior = FXListDie ModuleTag_10
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End

  ; A crushing defeat
  Behavior = FXListDie ModuleTag_11
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End

  Behavior = CreateCrateDie ModuleTag_12
    CrateData = SalvageCrateData
    ;CrateData = EliteTankCrateData
    ;CrateData = HeroicTankCrateData
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Geometry = BOX
  GeometryMajorRadius = 22.0
  GeometryMinorRadius = 9.0
  GeometryHeight = 13.0     
  GeometryIsSmall = No
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length    
End

;------------------------------------------------------------------------------
Object Boss_UkraineVehicleBM21

  ; *** ART Parameters ***
  SelectPortrait = ScudTrk_L
  ButtonImage = ScudTrk

  Draw = W3DTruckDraw ModuleTag_01
    ExtraPublicBone = CORE
    OkToChangeModelColor = Yes
    DefaultConditionState
      Model = CWCruBM21
      WeaponLaunchBone = PRIMARY WEAPONA
      WeaponFireFXBone = PRIMARY WEAPONFX
      Turret = TURRET01
      TurretPitch = TURRETEL01
    End
    ConditionState = REALLYDAMAGED
      Model = CWCruBM21_d
      Turret = TURRET01
      TurretPitch = TURRETEL01
    End
    ConditionState = RUBBLE
      Model = CWCruBM21_k
      Turret = TURRET01
      TurretPitch = TURRETEL01
    End
    TrackMarks = EXTireTrack.tga
    Dust = RocketBuggyDust
    DirtSpray = RocketBuggyDirtSpray
    ; These parameters are only used if the model has a separate suspension,
    ; and the locomotor has HasSuspension = Yes.
    LeftFrontTireBone = WHEEL01
    RightFrontTireBone = WHEEL04
    MidLeftRearTireBone = WHEEL02
    MidRightRearTireBone = WHEEL05
    LeftRearTireBone = WHEEL03
    RightRearTireBone = WHEEL06
    TireRotationMultiplier = 0.2 ; this * speed = rotation.
  End
  Draw = W3DModelDraw ModuleTag_BrakeDraw
    IgnoreConditionStates = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED RUBBLE
    AttachToBoneInAnotherModule = CORE
    ParticlesAttachedToAnimatedBones = Yes
    OkToChangeModelColor = Yes
    ConditionState = NONE
      Model = CWCruBM21_l
      HideSubObject = HLIGHT01 HLIGHT02
      ParticleSysBone = BRAKE01 CWCgenRearLightBraking
      ParticleSysBone = BRAKE02 CWCgenRearLightBraking
    End
    ConditionState = MOVING
      Model = CWCruBM21_l
      HideSubObject = HLIGHT01 HLIGHT02
    End
    ;night, I always have my lights on when I move, and they flash whenever I brake
    ConditionState = NIGHT
      Model = CWCruBM21_l
      ParticleSysBone = BRAKE01 CWCgenRearLight
      ParticleSysBone = BRAKE02 CWCgenRearLight
      ShowSubObject = HLIGHT01 HLIGHT02
      ParticleSysBone = BRAKE01 CWCgenRearLightBraking
      ParticleSysBone = BRAKE02 CWCgenRearLightBraking
    End
    ConditionState = NIGHT MOVING
      Model = CWCruBM21_l
      ParticleSysBone = BRAKE01 CWCgenRearLight
      ParticleSysBone = BRAKE02 CWCgenRearLight
      ShowSubObject = HLIGHT01 HLIGHT02
    End
    ;enemynear, hide those red lights!
    ConditionState = ENEMYNEAR
      Model = CWCruBM21_l
      HideSubObject = HLIGHT01 HLIGHT02
    End
    AliasConditionState = MOVING ENEMYNEAR
    AliasConditionState = NIGHT ENEMYNEAR
    AliasConditionState = NIGHT MOVING ENEMYNEAR
  End

  ;---------------------------------------
  ; The ability indicator
  ;---------------------------------------
  ; Draw = W3DModelDraw ModuleTag_AbilityDraw
    ; OkToChangeModelColor = Yes
    ; IgnoreConditionStates = FIRING_A RELOADING_A BETWEEN_FIRING_SHOTS_A RAPPELLING PARACHUTING FREEFALL ATTACKING REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE MOVING
    ; DefaultConditionState
      ; Model = CWCgenAbHC
      ; Animation = CWCgenAbHC.CWCgenAbHC
      ; AnimationMode = LOOP
      ; HideSubObject = HOUSECOLOR02
    ; End
    ; ConditionState = UNPACKING
      ; Model = CWCgenAbHC
      ; Animation = CWCgenAbHC.CWCgenAbHC
      ; AnimationMode = LOOP
      ; ShowSubObject = HOUSECOLOR02
    ; End
    ; AliasConditionState = PACKING
    ; AliasConditionState = RAISING_FLAG
    ; ConditionState = DYING
      ; Model = CWCgenAbHC
      ; Animation = CWCgenAbHC.CWCgenAbHC
      ; AnimationMode = LOOP
      ; HideSubObject = HOUSECOLOR02
    ; End
    ; AliasConditionState = EXPLODED_BOUNCING
    ; AliasConditionState = EXPLODED_FLAILING
    ; AliasConditionState = RUBBLE
  ; End

  ; ;---------------------------------------
  ; ; The rotating housecolors
  ; ;---------------------------------------
  ; Draw = W3DModelDraw ModuleTag_HousecolorDraw
    ; OkToChangeModelColor = Yes

    ; ConditionState = NONE
      ; Model = CWCruHC_B
      ; Animation = CWCruHC_B.CWCruHC_B
      ; AnimationMode = LOOP
      ; HideSubObject = HOUSECOLOR02
    ; End
    ; AliasConditionState = WEAPONSET_PLAYER_UPGRADE
    ; AliasConditionState = REALLYDAMAGED
    ; AliasConditionState = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
    ; AliasConditionState = RUBBLE
    ; AliasConditionState = WEAPONSET_PLAYER_UPGRADE RUBBLE
    ; AliasConditionState = ENEMYNEAR RUBBLE
    ; AliasConditionState = ENEMYNEAR WEAPONSET_PLAYER_UPGRADE RUBBLE

    ; ConditionState = ENEMYNEAR
      ; Model = CWCruHC_B
      ; Animation = CWCruHC_B.CWCruHC_B
      ; AnimationMode = LOOP
      ; ShowSubObject = HOUSECOLOR02
    ; End
    ; AliasConditionState = ENEMYNEAR WEAPONSET_PLAYER_UPGRADE
    ; AliasConditionState = ENEMYNEAR REALLYDAMAGED
    ; AliasConditionState = ENEMYNEAR WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
  ; End

  ; ***DESIGN parameters ***
  DisplayName = OBJECT:BM21
  Side = Boss
  EditorSorting = VEHICLE
  TransportSlotCount = 8

  WeaponSet
    Conditions = None 
    Weapon = PRIMARY GLABM21GradRocketLauncherWeapon
    Weapon = SECONDARY GLABM21GradRocketLauncherWeaponSingleFire
    AutoChooseSources = PRIMARY FROM_SCRIPT FROM_AI DEFAULT_SWITCH_WEAPON
    AutoChooseSources = SECONDARY FROM_SCRIPT FROM_AI
    PreferredAgainst = SECONDARY INFANTRY
    ShareWeaponReloadTime = Yes
    WeaponLockSharedAcrossSets = Yes 
  End

  ArmorSet
    Conditions = None
    Armor = CWCruBM21Armor
    DamageFX = TruckDamageFX
  End

  BuildCost = 8000
  BuildTime = 30.0 ;in seconds
  VisionRange = 200
  ShroudClearingRange = 500

  Prerequisites
    Object = Boss_UkraineWarFactory
  End

  ;CWCExpMarker: BM-21
  ExperienceValue = 2000 3000 4000 6000 ;Experience point value at each level
  ExperienceRequired = 0 2134 4269 7470 ;Experience points needed to gain each level
  IsTrainable = Yes ;Can gain experience
  CrusherLevel = 2 ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel = 2 ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles

  CommandSet = GLABM21GradCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = CWCruBM21VoiceSelect
  VoiceMove = CWCruBM21VoiceMove
  VoiceAttack = CWCruBM21VoiceAttack
  VoiceGuard = CWCruBM21VoiceGuard
  SoundMoveLoop = CWCruUralSeriesVehicleMoving
  UnitSpecificSounds
    VoiceCreate = CWCruBM21VoiceCreate
    TurretMoveLoop = CWCgenTurretServo
    VoiceCrush = CWCruBM21VoiceCrush
    VoiceEnter = CWCruBM21VoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = CAN_ATTACK CAN_CAST_REFLECTIONS DONT_AUTO_CRUSH_INFANTRY POWERED PRELOAD SCORE SELECTABLE VEHICLE 

  Body = ActiveBody ModuleTag_02
    MaxHealth = 500.0
    InitialHealth = 500.0
  End

  Behavior = DeployStyleAIUpdate ModuleTag_03
    Turret
      TurretTurnRate = 80
      TurretPitchRate = 40
      FirePitch = 30 ; Instead of aiming pitchwise at the target, it will aim here
      AllowsPitch = Yes
      RecenterTime = 2500 ; how long to wait during idle before recentering
      ControlledWeaponSlots = PRIMARY ;SECONDARY
      NaturalTurretAngle = 0
      InitiallyDisabled = Yes
    End
    AutoAcquireEnemiesWhenIdle = No NotWhileAttacking
    PackTime = 4000
    UnpackTime = 4000
    TurretsFunctionOnlyWhenDeployed = Yes
    TurretsMustCenterBeforePacking = Yes
    ManualDeployAnimations = Yes
  End

  Locomotor = SET_NORMAL CWCruBM21Locomotor

  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 50.0
  End

  ; Behavior = EnemyNearUpdate ModuleTag_Housecolor
    ; ;nothing
  ; End

  ; Behavior = StealthDetectorUpdate ModuleTag_DetectStealth_Vehicle01
    ; CanDetectWhileContained = No ; this is a vehicle ; Can the object detect stealth objects when it is inside an object?
    ; CanDetectWhileGarrisoned = No ; this is a vehicle ; Can the object detect stealth objects when it is inside an object with a GarrisonContain module?
    ; DetectionRange = 50 ; 1/2 its visionrange ; The maximum distance that the object can detect enemy stealthed obejcts. Defaults to the object's VisionRange.
    ; DetectionRate = 1000 ; The time between scanning for stealthed objects.
    ; ExtraRequiredKindOf = INFANTRY
    ; ExtraForbiddenKindOf = BOAT
    ; InitiallyDisabled = No ; Does the detector start off in a disabled state?
  ; End

; --- begin Death modules ---
  Behavior = TransitionDamageFX ModuleTag_Death01
    DamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenTankDeathSmokeDamaged
    DamagedFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDamageTransition
    ;
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenTankDeathSmokeReallyDamaged
    ReallyDamagedFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDamageTransition
    ;
    RubbleParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenTankDeathSmokeRubble
    RubbleFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDamageTransition
    RubbleFXList2 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDeathRubble1
  End
  Behavior = SlowDeathBehavior ModuleTag_Death02
    DestructionDelay = 18000
    FX = MIDPOINT FX_CWCgenTankDeathRubble2
    ;OCL = MIDPOINT OCL_CWCgenTankDeathTrails
    SinkDelay = 15000
    SinkRate = 4.0
  End
; --- end Death modules ---
  Geometry = BOX
  GeometryMajorRadius = 17.0
  GeometryMinorRadius = 7.0
  GeometryHeight = 14.0
  GeometryIsSmall = No
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45 ; minimum elevation angle above horizon. Used to limit shadow length
  Scale = 1.2
End


;------------------------------------------------------------------------------
Object Boss_UkraineVehicleBMP2
  
  ; *** ART Parameters ***
  SelectPortrait         = SUTechnicalDG
  ButtonImage            = SUTechnicalDG

  Draw = W3DModelDraw ModuleTag_01

    OkToChangeModelColor = Yes
    ParticlesAttachedToAnimatedBones = Yes
    ExtraPublicBone = CORE
    InitialRecoilSpeed = 120
    MaxRecoilDistance = 1
    RecoilSettleSpeed = 20
	
    DefaultConditionState
      Model = CWCruBMP2
      Turret = TURRET01
      TurretPitch = BARLF01
      WeaponFireFXBone = PRIMARY MUZZLE
      WeaponLaunchBone = PRIMARY MUZZLE
      WeaponRecoilBone = PRIMARY BARREL
      WeaponFireFXBone = SECONDARY MG
      WeaponLaunchBone = SECONDARY MG
      WeaponLaunchBone = TERTIARY MISSILE
      WeaponFireFXBone = TERTIARY MISSILE
    End

    ConditionState = REALLYDAMAGED
      Model = CWCruBMP2_d
    End

    ConditionState = RUBBLE
      Model = CWCruBMP2_k
    End

    TrackMarks = EXTnkTrack.tga
  End

  ;the particle effects
  Draw = W3DModelDraw Module_ParticleEffects

    DefaultConditionState
      Model = CWCruBMP2_W
    End
    AliasConditionState = REALLYDAMAGED
    AliasConditionState = RUBBLE

    ConditionState = MOVING
      Model = CWCruBMP2_W
      ParticleSysBone = TreadFX01 RocketBuggyDust
      ParticleSysBone = TreadFX02 RocketBuggyDust
    End
    AliasConditionState = MOVING REALLYDAMAGED
    AliasConditionState = MOVING RUBBLE

    ConditionState = OVER_WATER
      Model = CWCruBMP2_W
      ParticleSysBone = WATER01 CWCgenAmphibWaveRest
      ParticleSysBone = WATER02 CWCgenAmphibWaveRest
    End
    AliasConditionState = OVER_WATER REALLYDAMAGED
    AliasConditionState = OVER_WATER RUBBLE

    ConditionState = OVER_WATER MOVING
      Model = CWCruBMP2_W
      ParticleSysBone = WATER03 CWCgenAmphibWave1
    End
    AliasConditionState = OVER_WATER MOVING REALLYDAMAGED
    AliasConditionState = OVER_WATER MOVING RUBBLE

  End

  ;---------------------------------------
  ; The brakes kick in
  ;---------------------------------------
  Draw = W3DModelDraw ModuleTag_BrakeDraw

    IgnoreConditionStates = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED RUBBLE

    AttachToBoneInAnotherModule = CORE
    ParticlesAttachedToAnimatedBones = Yes
    OkToChangeModelColor = No

    ;day, no lights, only if I brake

    ConditionState = NONE
      Model = CWCruBMP2_l
      HideSubObject = HLIGHT01 HLIGHT02
      ParticleSysBone = BRAKE01 CWCgenRearLightBraking
      ParticleSysBone = BRAKE02 CWCgenRearLightBraking
    End

    ConditionState = MOVING
      Model = CWCruBMP2_l
      HideSubObject = HLIGHT01 HLIGHT02
    End

    ;night, I always have my lights on when I move, and they flash whenever I brake

    ConditionState = NIGHT
      Model = CWCruBMP2_l
      ParticleSysBone = BRAKE01 CWCgenRearLight
      ParticleSysBone = BRAKE02 CWCgenRearLight
      ShowSubObject = HLIGHT01 HLIGHT02
      ParticleSysBone = BRAKE01 CWCgenRearLightBraking
      ParticleSysBone = BRAKE02 CWCgenRearLightBraking
    End

    ConditionState = NIGHT MOVING
      Model = CWCruBMP2_l
      ParticleSysBone = BRAKE01 CWCgenRearLight
      ParticleSysBone = BRAKE02 CWCgenRearLight
      ShowSubObject = HLIGHT01 HLIGHT02
    End

    ;enemynear, hide those red lights!

    ConditionState = ENEMYNEAR
      Model = CWCruBMP2_l
      HideSubObject = HLIGHT01 HLIGHT02
    End
    AliasConditionState = MOVING ENEMYNEAR
    AliasConditionState = NIGHT ENEMYNEAR
    AliasConditionState = NIGHT MOVING ENEMYNEAR

  End

  ;---------------------------------------
  Draw = W3DTruckDraw ModuleTag_TracksDraw
    OkToChangeModelColor = Yes
    ParticlesAttachedToAnimatedBones = Yes
    AttachToBoneInAnotherModule = CORE
    DefaultConditionState
      Model = CWCruBMP2_t
    End
    ; These parameters are only used if the model has a separate suspension,
    ; and the locomotor has HasSuspension = Yes.
    RightFrontTireBone = TIRE01
    LeftFrontTireBone = TIRE02
    MidRightFrontTireBone = TIRE03
    MidLeftFrontTireBone = TIRE04
    MidRightMidTireBone = TIRE05
    MidLeftMidTireBone = TIRE06
    MidRightRearTireBone = TIRE07
    MidLeftRearTireBone = TIRE08
    ;RightRearTireBone = TIRE09
    ;LeftRearTireBone = TIRE10
    TireRotationMultiplier = 0.4 ; this * speed = rotation.
  End

  ;---------------------------------------
  ; The rotating housecolors
  ;---------------------------------------
  ; Draw = W3DModelDraw ModuleTag_HousecolorDraw
    ; OkToChangeModelColor = Yes

    ; ConditionState = NONE
      ; Model = CWCruHC_B
      ; Animation = CWCruHC_B.CWCruHC_B
      ; AnimationMode = LOOP
      ; HideSubObject = HOUSECOLOR02
    ; End
    ; AliasConditionState = WEAPONSET_PLAYER_UPGRADE
    ; AliasConditionState = REALLYDAMAGED
    ; AliasConditionState = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
    ; AliasConditionState = RUBBLE
    ; AliasConditionState = WEAPONSET_PLAYER_UPGRADE RUBBLE
    ; AliasConditionState = ENEMYNEAR RUBBLE
    ; AliasConditionState = ENEMYNEAR WEAPONSET_PLAYER_UPGRADE RUBBLE

    ; ConditionState = ENEMYNEAR
      ; Model = CWCruHC_B
      ; Animation = CWCruHC_B.CWCruHC_B
      ; AnimationMode = LOOP
      ; ShowSubObject = HOUSECOLOR02
    ; End
    ; AliasConditionState = ENEMYNEAR WEAPONSET_PLAYER_UPGRADE
    ; AliasConditionState = ENEMYNEAR REALLYDAMAGED
    ; AliasConditionState = ENEMYNEAR WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
  ; End

  ; ***DESIGN parameters ***
  DisplayName = OBJECT:BMP2
  Side = Boss
  EditorSorting = VEHICLE
  TransportSlotCount = 3 ;how many "slots" we take in a transport (0 == not transportable)

  WeaponSet
    Conditions              = None 
    Weapon                  = PRIMARY T15MachineGun
    PreferredAgainst        = PRIMARY INFANTRY
    AutoChooseSources       = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
    ;Weapon                  = TERTIARY T15RocketWeapon
  End

  ArmorSet
    Conditions = None
    Armor = CWCruBMP2Armor
    DamageFX = TankDamageFX
  End

  BuildCost = 1200
  BuildTime = 12.0 ;in seconds
  VisionRange = 200
  ShroudClearingRange = 200
  Prerequisites
    Object = Boss_UkraineWarFactory
  End

  ;CWCExpMarker: BMP-2
  ExperienceValue = 1200 1800 2400 3600 ;Experience point value at each level
  ExperienceRequired = 0 2840 5680 9940 ;Experience points needed to gain each level
  IsTrainable = Yes ;Can gain experience

  CrusherLevel = 2 ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel = 2 ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = RussianVehicleBMP2CommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = CWCruBMP2VoiceSelect
  VoiceMove = CWCruBMP2VoiceMove
  VoiceGuard = CWCruBMP2VoiceGuard
  VoiceAttack = CWCruBMP2VoiceAttack
  SoundMoveLoop = CWCgenOldTreadsMoving
  SoundEnter = HumveeEnter
  SoundExit = HumveeExit
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate = CWCruBMP2VoiceCreate
    TurretMoveLoop = CWCgenIFV_APCTurretServo
    VoiceCrush = CWCruBMP2VoiceCrush
    VoiceEnter = CWCruBMP2VoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = ATTACK_NEEDS_LINE_OF_SIGHT CAN_ATTACK CAN_CAST_REFLECTIONS DONT_AUTO_CRUSH_INFANTRY POWERED PRELOAD SCORE SELECTABLE TRANSPORT VEHICLE 

  Body = ActiveBody ModuleTag_02
    MaxHealth = 400.0
    InitialHealth = 400.0
  End

  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      TurretTurnRate = 100
      TurretPitchRate = 100
      MinPhysicalPitch = -5
      AllowsPitch = Yes
      ControlledWeaponSlots = PRIMARY SECONDARY TERTIARY
      MinIdleScanAngle = 0 ; in degrees off the natural turret angle
      MaxIdleScanAngle = 45 ; in degrees off the natural turret angle
      MinIdleScanInterval = 10000 ; in milliseconds
      MaxIdleScanInterval = 20000 ; in milliseconds
    End
    AutoAcquireEnemiesWhenIdle = Yes
  End

  Locomotor = SET_NORMAL CWCruBMP2Locomotor CWCruBMP2AmphibiousLocomotor

  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 40.0
  End

  ; Behavior = EnemyNearUpdate ModuleTag_Housecolor
    ; ;nothing
  ; End

  Behavior = StealthDetectorUpdate ModuleTag_DetectStealth_Vehicle01
    CanDetectWhileContained = No ; this is a vehicle ; Can the object detect stealth objects when it is inside an object?
    CanDetectWhileGarrisoned = No ; this is a vehicle ; Can the object detect stealth objects when it is inside an object with a GarrisonContain module?
    DetectionRange = 63 ; 1/2 its visionrange ; The maximum distance that the object can detect enemy stealthed obejcts. Defaults to the object's VisionRange.
    DetectionRate = 1000 ; The time between scanning for stealthed objects.
    ExtraRequiredKindOf = INFANTRY
    ExtraForbiddenKindOf = BOAT
    InitiallyDisabled = No ; Does the detector start off in a disabled state?
  End

; --- begin Death modules ---
  Behavior = TransitionDamageFX ModuleTag_Death01
    DamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenTankDeathSmokeDamaged
    DamagedFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDamageTransition
    ;
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenTankDeathSmokeReallyDamaged
    ReallyDamagedFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDamageTransition
    ;
    RubbleParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenTankDeathSmokeRubble
    RubbleFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDamageTransition
    RubbleFXList2 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDeathRubble1
  End
  Behavior = SlowDeathBehavior ModuleTag_Death02
    DestructionDelay = 18000
    FX = MIDPOINT FX_CWCgenTankDeathRubble2
    ;OCL = MIDPOINT OCL_CWCgenTankDeathTrails
    SinkDelay = 15000
    SinkRate = 4.0
  End
; --- end Death modules ---

  Behavior = TransportContain ModuleTag_22
    PassengersAllowedToFire = No
    Slots = 7
    ScatterNearbyOnExit = No
    HealthRegen%PerSec = 10
    DamagePercentToUnits = 50%
    AllowInsideKindOf = INFANTRY
    ExitDelay = 250
    NumberOfExitPaths = 2 ; Defaults to 1.  Set 0 to not use ExitStart/ExitEnd, set higher than 1 to use ExitStart01-nn/ExitEnd01-nn
    GoAggressiveOnExit = Yes ; AI Will tell people to set their mood to Aggressive on exiting
    DestroyRidersWhoAreNotFreeToExit = Yes
  End

  ClientUpdate = AnimatedParticleSysBoneClientUpdate ModuleTag_Client01
  End
  
  Geometry = BOX
  GeometryMajorRadius = 15.0
  GeometryMinorRadius = 9.0
  GeometryHeight = 10
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45 ; minimum elevation angle above horizon. Used to limit shadow length
  Scale = 1.12
End

; ------------------------------------------------------------------------------
Object Boss_UkraineSupplyCenter

  ; *** ART Parameters ***
  SelectPortrait         = MUSupplyCenter
  ButtonImage            = MUSupplyCenter

  Draw = W3DModelDraw ModuleTag_01
  OkToChangeModelColor = Yes

    ; day
    ConditionState = NONE
      Model         = MBSupply
;      Animation     = MBSupply.MBSupply
;      AnimationMode = LOOP
    End
    ConditionState = DAMAGED
      Model         = MBSupply_D
;      Animation     = MBSupply_D.MBSupply_D
;      AnimationMode = LOOP
    End
    ConditionState = REALLYDAMAGED
      Model         = MBSupply_D
;      Animation     = MBSupply_D.MBSupply_D
;      AnimationMode = LOOP
      ParticleSysBone = Smoke01 ChimneySmokeSmall
      ParticleSysBone = Smoke02 SteamVent
    End
    ConditionState = RUBBLE
      Model         = MBSupply_R
    End

    ; night
    ConditionState = NIGHT
      Model         = MBSupply;_N
;      Animation     = MBSupply.MBSupply
;      AnimationMode = LOOP
    End
    ConditionState = DAMAGED NIGHT
      Model         = MBSupply_D
;      Animation     = MBSupply_D.MBSupply_D
;      AnimationMode = LOOP
    End
    ConditionState = REALLYDAMAGED NIGHT
      Model         = MBSupply_D
;      Animation     = MBSupply_D.MBSupply_D
;      AnimationMode = LOOP
      ParticleSysBone = Smoke01 ChimneySmokeSmall
      ParticleSysBone = Smoke02 SteamVent
    End
    ConditionState = RUBBLE NIGHT
      Model         = MBSupply;_RN
    End

    ; Snow
    ConditionState = SNOW
      Model         = MBSupply;_S
;      Animation     = MBSupply.MBSupply
;      AnimationMode = LOOP
    End
    ConditionState = DAMAGED SNOW
      Model         = MBSupply_D
;      Animation     = MBSupply_D.MBSupply_D
;      AnimationMode = LOOP
    End
    ConditionState = REALLYDAMAGED SNOW
      Model         = MBSupply_D
;      Animation     = MBSupply_D.MBSupply_D
;      AnimationMode = LOOP
      ParticleSysBone = Smoke01 ChimneySmokeSmall
      ParticleSysBone = Smoke02 SteamVent
    End
    ConditionState = RUBBLE SNOW
      Model         = MBSupply;_RS
    End

    ; night snow
    ConditionState = SNOW NIGHT
      Model         = MBSupply;_SN
;      Animation     = MBSupply.MBSupply
;      AnimationMode = LOOP
    End
    ConditionState = DAMAGED SNOW NIGHT
      Model         = MBSupply_D
;      Animation     = MBSupply_D.MBSupply_D
;      AnimationMode = LOOP
    End
    ConditionState = REALLYDAMAGED SNOW NIGHT
      Model         = MBSupply_D
;      Animation     = MBSupply_D.MBSupply_D
;      AnimationMode = LOOP
      ParticleSysBone = Smoke01 ChimneySmokeSmall
      ParticleSysBone = Smoke02 SteamVent
    End
    ConditionState = RUBBLE SNOW NIGHT
      Model         = MBSupply;_RSN
    End
    ;**************************************************************************************************************************
    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ;for this draw module
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = MBSupply
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = MBSupply_D
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = MBSupply_D
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
      Model              = MBSupply
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
      Model              = MBSupply_D
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
      Model              = MBSupply_D
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model              = MBSupply
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
      Model              = MBSupply_D
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
      Model              = MBSupply_D
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
      Model              = MBSupply
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
      Model              = MBSupply_D
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
      Model              = MBSupply_D
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End

    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = GARRISONED SOLD 
    AliasConditionState  = GARRISONED SOLD DAMAGED
    AliasConditionState  = GARRISONED SOLD REALLYDAMAGED
    AliasConditionState  = GARRISONED SOLD NIGHT
    AliasConditionState  = GARRISONED SOLD NIGHT DAMAGED
    AliasConditionState  = GARRISONED SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = GARRISONED SOLD SNOW
    AliasConditionState  = GARRISONED SOLD SNOW DAMAGED
    AliasConditionState  = GARRISONED SOLD SNOW REALLYDAMAGED
    AliasConditionState  = GARRISONED SOLD NIGHT SNOW
    AliasConditionState  = GARRISONED SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = GARRISONED SOLD NIGHT SNOW REALLYDAMAGED
    ;**************************************************************************************************************************
  End

  ; ------------ under-construction scaffolding -----------------
  Draw = W3DModelDraw ModuleTag_07s
  AnimationsRequirePower = No
    MinLODRequired = MEDIUM
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = MBSupply_A6
      Animation       = MBSupply_A6.MBSupply_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Dust01 BuildingDustChina
      ParticleSysBone = Smoke01 BuildUpSmokeChina
      ParticleSysBone = Smoke02 BuildUpSmokeChina
      ParticleSysBone = Smoke03 BuildUpSmokeChina
      ParticleSysBone = Smoke04 BuildUpSmokeChina
      ParticleSysBone = Smoke05 BuildUpSmokeChina
    End
    ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      Model           = MBSupply_A6
      Animation       = MBSupply_A6.MBSupply_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = Dust01 BuildingDustChina
      ParticleSysBone = Smoke01 BuildUpSmokeChina
      ParticleSysBone = Smoke02 BuildUpSmokeChina
      ParticleSysBone = Smoke03 BuildUpSmokeChina
      ParticleSysBone = Smoke04 BuildUpSmokeChina
      ParticleSysBone = Smoke05 BuildUpSmokeChina
    End
    ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      Model           = MBSupply_A6
      Animation       = MBSupply_A6.MBSupply_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = Dust01 BuildingSnowDust
      ParticleSysBone = Smoke01 BuildUpSnowSmoke
      ParticleSysBone = Smoke02 BuildUpSnowSmoke
      ParticleSysBone = Smoke03 BuildUpSnowSmoke
      ParticleSysBone = Smoke04 BuildUpSnowSmoke
      ParticleSysBone = Smoke05 BuildUpSnowSmoke
    End
    ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      Model           = MBSupply_A6
      Animation       = MBSupply_A6.MBSupply_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = Dust01 BuildingSnowDust
      ParticleSysBone = Smoke01 BuildUpSnowSmoke
      ParticleSysBone = Smoke02 BuildUpSnowSmoke
      ParticleSysBone = Smoke03 BuildUpSnowSmoke
      ParticleSysBone = Smoke04 BuildUpSnowSmoke
      ParticleSysBone = Smoke05 BuildUpSnowSmoke
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = MBSupply_A6
      Animation       = MBSupply_A6.MBSupply_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = MBSupply_A6
      Animation       = MBSupply_A6.MBSupply_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = MBSupply_A6
      Animation       = MBSupply_A6.MBSupply_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = MBSupply_A6
      Animation       = MBSupply_A6.MBSupply_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End 
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model            = MBSupply_A6
      Animation       = MBSupply_A6.MBSupply_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model            = MBSupply_A6
      Animation       = MBSupply_A6.MBSupply_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model            = MBSupply_A6
      Animation       = MBSupply_A6.MBSupply_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model            = MBSupply_A6
      Animation       = MBSupply_A6.MBSupply_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ construction-zone fence -----------------
  Draw = W3DModelDraw ModuleTag_02121
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = MBSupply_A4
      Animation       = MBSupply_A4.MBSupply_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
    End
    ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = MBSupply_A4
      Animation       = MBSupply_A4.MBSupply_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
    End
    ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = MBSupply_A4
      Animation       = MBSupply_A4.MBSupply_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
    End
    ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = MBSupply_A4
      Animation       = MBSupply_A4.MBSupply_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = MBSupply_A4
      Animation       = MBSupply_A4.MBSupply_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = MBSupply_A4
      Animation       = MBSupply_A4.MBSupply_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = MBSupply_A4
      Animation       = MBSupply_A4.MBSupply_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = MBSupply_A4
      Animation       = MBSupply_A4.MBSupply_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = MBSupply_A4
      Animation       = MBSupply_A4.MBSupply_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = MBSupply_A4
      Animation       = MBSupply_A4.MBSupply_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = MBSupply_A4
      Animation       = MBSupply_A4.MBSupply_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = MBSupply_A4
      Animation       = MBSupply_A4.MBSupply_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:SupplyStash
  Side                = Boss
  EditorSorting       = STRUCTURE
  BuildCost           = 1500
  RefundValue         = 650 ; With nothing (or zero) listed, we sell for half price.
  BuildTime           = 10.0           ; in seconds
  EnergyProduction    = 0
  CommandSet          = UkraineSupplyCenterCommandSet
  VisionRange         = 200.0           ; Shroud clearing distance
  ShroudClearingRange = 200
  ArmorSet
    Conditions        = None
    Armor             = StructureArmor
    DamageFX          = StructureDamageFXNoShake
  End
  ExperienceValue     = 200 200 200 200  ; Experience point value at each level

  ; *** AUDIO Parameters ***
  VoiceSelect = SupplyCenterGLASelect
  SoundOnDamaged        = BuildingDamagedStateLight
  SoundOnReallyDamaged  = BuildingDestroy

  UnitSpecificSounds
    UnderConstruction     = UnderConstructionLoop
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority       = STRUCTURE
  KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE CASH_GENERATOR CAPTURABLE AUTO_RALLYPOINT MP_COUNT_FOR_VICTORY SCORE_CREATE CANNOT_BUILD_NEAR_SUPPLIES FS_SUPPLY_CENTER
  Body                = StructureBody ModuleTag_04
    MaxHealth       = 1500.0
    InitialHealth   = 1500.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 2200
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
  End

  Behavior = SupplyCenterCreate ModuleTag_05
    ;nothing
  End

  Behavior = DestroyDie ModuleTag_07
    ;nothing
  End
  Behavior                 = CreateObjectDie ModuleTag_08
    CreationList      = OCL_SmallStructureDebris
  End
  Behavior                 = FXListDie ModuleTag_09
    DeathFX           = FX_StructureSmallDeath
  End
  Behavior = ProductionUpdate ModuleTag_10
    ; nothing
  End
  Behavior = SupplyCenterProductionExitUpdate ModuleTag_11
    NaturalRallyPoint = X: 44.465  Y: -17.743   Z:0.0
    UnitCreatePoint   = X: 10.896  Y: -17.743   Z:0.0;NaturalRallyPointX must always match GeometryMajorRadius! -ML
  End

  Behavior            = SpawnBehavior ModuleTag_12
    SpawnNumber       = 1
    SpawnReplaceDelay = 9999
    SpawnTemplateName = MilitiaSupplyCrago
    OneShot           = Yes
    CanReclaimOrphans = No
    SlavesHaveFreeWill = Yes
  End

  Behavior = SupplyCenterDockUpdate ModuleTag_13
    AllowsPassthrough = No ;You can't drive through this guy while docking.  Use this when the dock points are all outside
    NumberApproachPositions = -1 ; This is a Boneless dock, so this means infinite can approach
  End

  Behavior = FlammableUpdate ModuleTag_15
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 5       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = TransitionDamageFX ModuleTag_16
    ;-------------DESIGNED FOR SMALL SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
  End

  Geometry            = BOX
  GeometryMajorRadius = 44.0
  GeometryMinorRadius = 44.0
  GeometryHeight      = 35.0
  GeometryIsSmall     = No
  ;FactoryExtraBibWidth= 1.0     ; extra placement border.
  Shadow              = SHADOW_VOLUME
  BuildCompletion     = PLACED_BY_PLAYER

End

; ------------------------------------------------------------------------------
Object Boss_UkraineWarFactory

  ; *** ART Parameters ***
  SelectPortrait         = MUWarFactory
  ButtonImage            = MUWarFactory

  Draw = W3DModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  ExtraPublicBone = FIREPOINT01
    ; day
    DefaultConditionState
      Model         = MBFact
      ParticleSysBone = Exhaust01 SteamVent
      ParticleSysBone = Exhaust02 SteamVent
      ParticleSysBone = Exhaust03 ChimneySmokeSmall
      ParticleSysBone = Exhaust04 ChimneySmokeSmall
    End
    ConditionState = DAMAGED
      Model         = MBFact_D
    End
    ConditionState = REALLYDAMAGED
      Model         = MBFact_D;_E
    End
    ConditionState = RUBBLE
      Model         = MBFact_D;_R
    End

    ; night
    ConditionState = NIGHT
      Model         = MBFact;_N
    End
    ConditionState = DAMAGED NIGHT
      Model         = MBFact_D;_DN
    End
    ConditionState = REALLYDAMAGED NIGHT
      Model         = MBFact_D;_EN
    End
    ConditionState = RUBBLE NIGHT
      Model         = MBFact_D;_RN
    End

    ; Snow
    ConditionState = SNOW
      Model         = MBFact;_S
    End
    ConditionState = DAMAGED SNOW
      Model         = MBFact_D;_DS
    End
    ConditionState = REALLYDAMAGED SNOW
      Model         = MBFact_D;_ES
    End
    ConditionState = RUBBLE SNOW
      Model         = MBFact_D;_RS
    End

    ; night snow
    ConditionState = SNOW NIGHT
      Model         = MBFact;_SN
    End
    ConditionState = DAMAGED SNOW NIGHT
      Model         = MBFact_D;_DSN
    End
    ConditionState = REALLYDAMAGED SNOW NIGHT
      Model         = MBFact_D;_ESN
    End
    ConditionState = RUBBLE SNOW NIGHT
      Model         = MBFact_D;_RSN
    End

;--------------------------------------------------------------------------------------
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = MBFact
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = MBFact_D
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED

    ConditionState       = AWAITING_CONSTRUCTION
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
  End

  ; ------------ construction-zone fence -----------------
  Draw = W3DModelDraw ModuleTag_0202
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = MBFact_A4
      Animation       = MBFact_A4.MBFact_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
    End
    ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = MBFact_A4
      Animation       = MBFact_A4.MBFact_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
    End
    ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = MBFact_A4
      Animation       = MBFact_A4.MBFact_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
    End
    ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = MBFact_A4
      Animation       = MBFact_A4.MBFact_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = MBFact_A4
      Animation       = MBFact_A4.MBFact_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = MBFact_A4
      Animation       = MBFact_A4.MBFact_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = MBFact_A4
      Animation       = MBFact_A4.MBFact_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = MBFact_A4
      Animation       = MBFact_A4.MBFact_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = MBFact_A4
      Animation       = MBFact_A4.MBFact_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = MBFact_A4
      Animation       = MBFact_A4.MBFact_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = MBFact_A4
      Animation       = MBFact_A4.MBFact_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = MBFact_A4
      Animation       = MBFact_A4.MBFact_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ under-construction scaffolding -----------------
  Draw = W3DModelDraw ModuleTag_07s
  AnimationsRequirePower = No
    MinLODRequired = MEDIUM
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = MBFact_A6
      Animation       = MBFact_A6.MBFact_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Dust01 BuildingDustChina
      ParticleSysBone = Smoke01 BuildUpSmokeChina
      ParticleSysBone = Smoke02 BuildUpSmokeChina
      ParticleSysBone = Smoke03 BuildUpSmokeChina
      ParticleSysBone = Smoke04 BuildUpSmokeChina
      ParticleSysBone = Smoke05 BuildUpSmokeChina
    End
    ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      Model           = MBFact_A6
      Animation       = MBFact_A6.MBFact_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = Dust01 BuildingDustChina
      ParticleSysBone = Smoke01 BuildUpSmokeChina
      ParticleSysBone = Smoke02 BuildUpSmokeChina
      ParticleSysBone = Smoke03 BuildUpSmokeChina
      ParticleSysBone = Smoke04 BuildUpSmokeChina
      ParticleSysBone = Smoke05 BuildUpSmokeChina
    End
    ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      Model           = MBFact_A6
      Animation       = MBFact_A6.MBFact_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = Dust01 BuildingSnowDust
      ParticleSysBone = Smoke01 BuildUpSnowSmoke
      ParticleSysBone = Smoke02 BuildUpSnowSmoke
      ParticleSysBone = Smoke03 BuildUpSnowSmoke
      ParticleSysBone = Smoke04 BuildUpSnowSmoke
      ParticleSysBone = Smoke05 BuildUpSnowSmoke
    End
    ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      Model           = MBFact_A6
      Animation       = MBFact_A6.MBFact_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = Dust01 BuildingSnowDust
      ParticleSysBone = Smoke01 BuildUpSnowSmoke
      ParticleSysBone = Smoke02 BuildUpSnowSmoke
      ParticleSysBone = Smoke03 BuildUpSnowSmoke
      ParticleSysBone = Smoke04 BuildUpSnowSmoke
      ParticleSysBone = Smoke05 BuildUpSnowSmoke
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = MBFact_A6
      Animation       = MBFact_A6.MBFact_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = MBFact_A6
      Animation       = MBFact_A6.MBFact_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = MBFact_A6
      Animation       = MBFact_A6.MBFact_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = MBFact_A6
      Animation       = MBFact_A6.MBFact_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End 
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model            = MBFact_A6
      Animation       = MBFact_A6.MBFact_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model            = MBFact_A6
      Animation       = MBFact_A6.MBFact_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model            = MBFact_A6
      Animation       = MBFact_A6.MBFact_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model            = MBFact_A6
      Animation       = MBFact_A6.MBFact_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

; ----------------- the factory door -------------------
  Draw                = W3DModelDraw ModuleTag_06
    DefaultConditionState
      Model           = MBFact_A1D
      Animation       = MBFact_A1D.MBFact_A1D
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End
    AliasConditionState = NIGHT
    AliasConditionState = SNOW
    AliasConditionState = NIGHT SNOW
    
    ConditionState    = DAMAGED
      Model           = MBFact_A1D
      Animation       = MBFact_A1D.MBFact_A1D
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End
    AliasConditionState = NIGHT DAMAGED
    AliasConditionState = SNOW DAMAGED
    AliasConditionState = NIGHT SNOW DAMAGED
    
    ConditionState    = REALLYDAMAGED RUBBLE
      Model           = MBFact_A1D
      Animation       = MBFact_A1D.MBFact_A1D
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End
    AliasConditionState = NIGHT REALLYDAMAGED RUBBLE
    AliasConditionState = SNOW REALLYDAMAGED RUBBLE
    AliasConditionState = NIGHT SNOW REALLYDAMAGED RUBBLE
    
    ConditionState    = DOOR_1_OPENING
      Model           = MBFact_A1D
      Animation       = MBFact_A1D.MBFact_A1D
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End   
    AliasConditionState = NIGHT DOOR_1_OPENING
    AliasConditionState = SNOW DOOR_1_OPENING
    AliasConditionState = NIGHT SNOW DOOR_1_OPENING
    
    ConditionState    = DOOR_1_OPENING DAMAGED
      Model           = MBFact_A1D
      Animation       = MBFact_A1D.MBFact_A1D
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End   
    AliasConditionState = NIGHT DOOR_1_OPENING DAMAGED
    AliasConditionState = SNOW DOOR_1_OPENING DAMAGED
    AliasConditionState = NIGHT SNOW DOOR_1_OPENING DAMAGED
    
    ConditionState    = DOOR_1_OPENING REALLYDAMAGED RUBBLE
      Model           = MBFact_A1D
      Animation       = MBFact_A1D.MBFact_A1D
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End
    AliasConditionState = NIGHT DOOR_1_OPENING REALLYDAMAGED RUBBLE
    AliasConditionState = SNOW DOOR_1_OPENING REALLYDAMAGED RUBBLE
    AliasConditionState = NIGHT SNOW DOOR_1_OPENING REALLYDAMAGED RUBBLE
    
    ConditionState    = DOOR_1_CLOSING
      Model           = MBFact_A1D
      Animation       = MBFact_A1D.MBFact_A1D
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End 
    AliasConditionState = NIGHT DOOR_1_CLOSING
    AliasConditionState = SNOW DOOR_1_CLOSING
    AliasConditionState = NIGHT SNOW DOOR_1_CLOSING
      
    ConditionState    = DOOR_1_CLOSING DAMAGED
      Model           = MBFact_A1D
      Animation       = MBFact_A1D.MBFact_A1D
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End   
    AliasConditionState = NIGHT DOOR_1_CLOSING DAMAGED
    AliasConditionState = SNOW DOOR_1_CLOSING DAMAGED
    AliasConditionState = NIGHT SNOW DOOR_1_CLOSING DAMAGED
    
    ConditionState    = DOOR_1_CLOSING REALLYDAMAGED RUBBLE
      Model           = MBFact_A1D
      Animation       = MBFact_A1D.MBFact_A1D
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End   
    AliasConditionState = NIGHT DOOR_1_CLOSING REALLYDAMAGED RUBBLE
    AliasConditionState = SNOW DOOR_1_CLOSING REALLYDAMAGED RUBBLE
    AliasConditionState = NIGHT SNOW DOOR_1_CLOSING REALLYDAMAGED RUBBLE
    
    ConditionState    = DOOR_1_WAITING_OPEN
      Model           = MBFact_A1D
      Animation       = MBFact_A1D.MBFact_A1D
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
    End  
    AliasConditionState = NIGHT DOOR_1_WAITING_OPEN
    AliasConditionState = SNOW DOOR_1_WAITING_OPEN
    AliasConditionState = NIGHT SNOW DOOR_1_WAITING_OPEN
     
    ConditionState    = DOOR_1_WAITING_OPEN DAMAGED
      Model           = MBFact_A1D
      Animation       = MBFact_A1D.MBFact_A1D
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
    End  
    AliasConditionState = NIGHT DOOR_1_WAITING_OPEN DAMAGED
    AliasConditionState = SNOW DOOR_1_WAITING_OPEN DAMAGED
    AliasConditionState = NIGHT SNOW DOOR_1_WAITING_OPEN DAMAGED
     
    ConditionState    = DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE
      Model           = MBFact_A1D
      Animation       = MBFact_A1D.MBFact_A1D
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
    End   
    AliasConditionState = NIGHT DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE
    AliasConditionState = SNOW DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE
    AliasConditionState = NIGHT SNOW DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE
    
    ;**************************************************************************************************************************
    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ;for this draw module
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = MBFact_A1D
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
    
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model           = MBFact_A1D
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT SNOW
    
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = MBFact_A1D
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT SNOW
    
    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    ;**************************************************************************************************************************
    
  End

  PlacementViewAngle = -45

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:UkraineWarFactory
  Side             = Boss
  EditorSorting    = STRUCTURE
  ; Prerequisites
    ; Object = MilitiaSupplyCenter
  ; End
  BuildCost        = 1800
  BuildTime        = 12.0           ; in seconds
;  WeaponSet
;    Conditions           = None
;    Weapon               = PRIMARY WarFactoryGun
;  End
  EnergyProduction = -6
  CommandSet       = UkraineWarFactoryCommandSet
  VisionRange     = 200.0           ; Shroud clearing distance
  ShroudClearingRange = 200
  ArmorSet
    Conditions      = None
    Armor           = StructureArmor
    DamageFX        = StructureDamageFXNoShake
  End
  ExperienceValue     = 200 200 200 200  ; Experience point value at each level

  ; *** AUDIO Parameters ***
  VoiceSelect = WarFactoryUSASelect
  SoundOnDamaged        = BuildingDamagedStateLight
  SoundOnReallyDamaged  = BuildingDestroy

  UnitSpecificSounds
    UnderConstruction     = UnderConstructionLoop
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority   = STRUCTURE
  KindOf          = PRELOAD STRUCTURE SELECTABLE IMMOBILE REPAIR_PAD SCORE CAPTURABLE FS_FACTORY AUTO_RALLYPOINT MP_COUNT_FOR_VICTORY FS_WARFACTORY ATTACK_NEEDS_LINE_OF_SIGHT
  Body            = StructureBody ModuleTag_09
    MaxHealth       = 2000.0
    InitialHealth   = 2000.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 2200
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
  End
  
  Behavior = CommandSetUpgrade ModuleTag_07
    TriggeredBy = Upgrade_ChinaWarFactoryupCommandSet
    RemovesUpgrades = Upgrade_ChinaWarFactorydownCommandSet
    CommandSet = UkraineWarFactorytechCommandSet
  End

  Behavior = CommandSetUpgrade ModuleTag_08
    TriggeredBy = Upgrade_ChinaWarFactorydownCommandSet
    RemovesUpgrades = Upgrade_ChinaWarFactoryupCommandSet Upgrade_ChinaWarFactorydownCommandSet
    CommandSet = UkraineWarFactoryCommandSet
  End

  Behavior = DefaultProductionExitUpdate ModuleTag_11
    UnitCreatePoint   = X: -10.475 Y:-2.864   Z:0.0
    NaturalRallyPoint = X: 59.925  Y:-2.864   Z:0.0;NaturalRallyPointX must always match GeometryMajorRadius! -ML
  End

  Behavior = ProductionUpdate ModuleTag_10
    NumDoorAnimations            = 1
    DoorOpeningTime              = 3000  ;in mSeconds
    DoorWaitOpenTime             = 3000  ;in mSeconds
    DoorCloseTime                = 3000  ;in mSeconds
    ConstructionCompleteDuration = 1500  ;in mSeconds
  End

  Behavior = RepairDockUpdate ModuleTag_12
    TimeForFullHeal   = 5000   ;(in milliseconds)
    NumberApproachPositions = 5
  End

;---- Removed module
  Behavior = SlowDeathBehavior ModuleTag_16124
    DestructionDelay = 500
    FX             = FINAL   FX_StructureMediumDeath
    OCL            = FINAL   OCL_AmericaWarFactoryDebris
  End

  Behavior = TransitionDamageFX ModuleTag_15
    ;-------------DESIGNED FOR MEDIUM SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionMediumExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionMediumShockwave
  End

  Behavior = FlammableUpdate ModuleTag_18
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 5       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior             = CreateObjectDie ModuleTag_20
    CreationList  = OCL_LargeStructureDebris
  End

  Behavior             = FXListDie ModuleTag_21
    DeathFX       = FX_StructureMediumDeath
  End

  Behavior             = DestroyDie ModuleTag_22
    ;nothing
  End

  Geometry            = BOX
  GeometryMajorRadius = 53.0
  GeometryMinorRadius = 60.0
  GeometryHeight      = 40.0
  GeometryIsSmall     = No
  FactoryExitWidth    = 25     ; How much space to leave for units exiting.
  Shadow          = SHADOW_VOLUME
  BuildCompletion = PLACED_BY_PLAYER
  Scale = 1.1
End

;------------------------------------------------------------------------------
Object Boss_UkraineVehicleSupplyTruck

  ; *** ART Parameters ***
  
  SelectPortrait         = SupplyCrago
  ButtonImage            = SupplyCrago
  
  Draw = W3DTruckDraw ModuleTag_01
    OkToChangeModelColor = Yes
    
    DefaultConditionState
      Model           = MVSupTr
      HideSubObject   = Cargo01 Cargo02
    End
    
    ConditionState    = REALLYDAMAGED
      Model           = MVSupTr_D
    End
    
    ConditionState    = RUBBLE
      Model           = MVSupTr_D
    End
    
    ConditionState    = CARRYING
      ShowSubObject   = Cargo01 Cargo02
    End
    
    ConditionState    = REALLYDAMAGED CARRYING
      Model           = MVSupTr_D
      ShowSubObject   = Cargo01 Cargo02
    End
    
    ConditionState    = RUBBLE CARRYING
      Model           = MVSupTr_D
      ShowSubObject   = Cargo01 Cargo02
    End
    
    TrackMarks              = EXTireTrack.tga

    RightFrontTireBone = Tire01
    LeftFrontTireBone = Tire02
    MidRightFrontTireBone = Tire03
    MidLeftFrontTireBone = Tire04
    MidRightMidTireBone = Tire05
    MidLeftMidTireBone = Tire06
    MidRightRearTireBone = Tire07
    MidLeftRearTireBone = Tire08
    RightRearTireBone = Tire09
    LeftRearTireBone = Tire10

    Dust                    = RocketBuggyDust
    DirtSpray               = RocketBuggyDirtSpray

  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:SupplyTruck
  Side                = Boss
  EditorSorting       = VEHICLE
  TransportSlotCount  = 4                 ;how many "slots" we take in a transport (0 == not transportable)
  BuildCost           = 200
  BuildTime           = 10.0      ;in seconds
  VisionRange         = 150
  ShroudClearingRange = 300

  ArmorSet
    Conditions      = None
    Armor           = TruckArmor
    DamageFX        = TankDamageFX
  End
  CrusherLevel            = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel          = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet              = ChinaSupplyTruckCommandSet
  ; *** AUDIO Parameters ***
  VoiceSelect             = ConvoyTruckSelect
  VoiceMove               = SupplyTruckVoiceMove
  VoiceAttack             = NoSound
  SoundMoveStart          = ConvoyTruckMoveStart
  SoundMoveStartDamaged = SupplyTruckMoveStart
  UnitSpecificSounds
    VoiceCreate           = SupplyTruckVoiceCreate
    TruckLandingSound     = NoSound
    TruckPowerslideSound  = NoSound
    VoiceSupply           = SupplyTruckVoiceSupply
    VoiceCrush            = SupplyTruckVoiceCrush
    VoiceEnter            = SupplyTruckVoiceMove

  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  ;@todo lorenzen removed the CAN_ATTACK from the supplytruck... ok?
  KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS VEHICLE HARVESTER SCORE
  
  Body = ActiveBody ModuleTag_02
    MaxHealth       = 600.0
    InitialHealth   = 600.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 600
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End
  Behavior = SupplyTruckAIUpdate ModuleTag_03
    MaxBoxes = 8
    SupplyCenterActionDelay = 400     ; ms for whole thing (one transaction)
    SupplyWarehouseActionDelay = 1000 ; ms per box (many small transactions)
    SupplyWarehouseScanDistance = 800 ;350 ; Max distance to look for a warehouse, or we go home.  (Direct dock command on warehouse overrides, and no max on Center Scan)
    SuppliesDepletedVoice = SupplyTruckVoiceSuppliesDepleted
  End
  Locomotor = SET_NORMAL WanderCarLocomotor
  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 5.0
  End

  ExperienceValue    = 50 50 50 50 ;Experience point value at each level

  Behavior = SlowDeathBehavior ModuleTag_05
    DeathTypes = ALL -CRUSHED -SPLATTED
    DestructionDelay = 200
    DestructionDelayVariance = 100
    FX  = FINAL    FX_SupplyTruckExplosionOneFinal
    OCL = FINAL    OCL_TankChinaHeavySupplyTruckDeathEffect
  End
    
  Behavior = FXListDie ModuleTag_06
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  
  Behavior = CreateObjectDie ModuleTag_07
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_TankChinaHeavySupplyTruck_CrushEffect
  End

  Behavior                       = TransitionDamageFX ModuleTag_08
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
    ReallyDamagedFXList1         = Loc: X:0 Y:0 Z:0 FXList:FX_NukeCannonDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_10
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  ; A crushing defeat
  Behavior = DestroyDie ModuleTag_11
    DeathTypes = NONE +CRUSHED +SPLATTED
  End

  Behavior        = CreateCrateDie ModuleTag_12
    CrateData     = SalvageCrateData
  End

  Geometry = BOX
  GeometryMajorRadius = 15.0
  GeometryMinorRadius = 5.0
  GeometryHeight = 12.0     
  GeometryIsSmall = No
  Scale = 0.95
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length    
End

;------------------------------------------------------------------------------
Object Boss_UkraineAirfield

  ; *** ART Parameters ***
  SelectPortrait         = MilitiaAirfield
  ButtonImage            = MilitiaAirfield

  Draw = W3DModelDraw ModuleTag_01

    ExtraPublicBone = Runway1Parking1
    ExtraPublicBone = Runway1Parking2
    ExtraPublicBone = Runway1Park1Han
    ExtraPublicBone = Runway1Park2Han
    ExtraPublicBone = Runway1Prep1
    ExtraPublicBone = Runway1Prep2
    ExtraPublicBone = RunwayStart1
    ExtraPublicBone = RunwayStart2
    ExtraPublicBone = RunwayEnd1
    ExtraPublicBone = RunwayEnd2
    ExtraPublicBone = HeliPark01

    OkToChangeModelColor = Yes

    ; day ********************************************
    DefaultConditionState
      Model              = MBAirfield ;CBTechAirPort
      Animation          = MBAirfield.MBAirfield
      AnimationMode      = LOOP
    End
    AliasConditionState = NIGHT
    AliasConditionState = SNOW
    AliasConditionState = NIGHT SNOW

    ConditionState       = DAMAGED
      Model              = MBAirfield_D
      Animation          = MBAirfield_D.MBAirfield_D
      AnimationMode      = LOOP
      ParticleSysBone    = Runway1Parking1 SmolderingSmoke
      ParticleSysBone    = Runway1Park2Han SmolderingSmoke
      ParticleSysBone    = Runway1Prep1 SmolderingSmoke
      ParticleSysBone    = HeliPark01 SmolderingFire
    End
    AliasConditionState = REALLYDAMAGED
    AliasConditionState = RUBBLE
    AliasConditionState = NIGHT DAMAGED
    AliasConditionState = SNOW DAMAGED
    AliasConditionState = NIGHT SNOW DAMAGED
    AliasConditionState = NIGHT REALLYDAMAGED RUBBLE
    AliasConditionState = SNOW REALLYDAMAGED RUBBLE
    AliasConditionState = NIGHT SNOW REALLYDAMAGED RUBBLE

    ;**************************************************************************************************************************
    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ;for this draw module
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = MBAirfield
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = MBAirfield_D
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT SNOW

    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = MBAirfield_D
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT SNOW

    ConditionState       = AWAITING_CONSTRUCTION
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
  End

  ; ----------------- door #1 -------------------
  Draw                = W3DModelDraw ModuleTag_Door1
    ConditionState    = NONE
      Model           = MBAirfield_A1
      Animation       = MBAirfield_A1.MBAirfield_A1
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End
    AliasConditionState = NIGHT 
    AliasConditionState = SNOW 
    AliasConditionState = NIGHT SNOW 
    AliasConditionState = NIGHT DAMAGED
    AliasConditionState = SNOW DAMAGED
    AliasConditionState = NIGHT SNOW DAMAGED
    AliasConditionState = NIGHT REALLYDAMAGED RUBBLE
    AliasConditionState = SNOW REALLYDAMAGED RUBBLE
    AliasConditionState = NIGHT SNOW REALLYDAMAGED RUBBLE 
       
    ConditionState    = DOOR_1_OPENING
      Model           = None;MBAirfield_A1
;      Animation       = MBAirfield_A1.MBAirfield_A1
;      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End 
    AliasConditionState = NIGHT DOOR_1_OPENING
    AliasConditionState = SNOW DOOR_1_OPENING
    AliasConditionState = NIGHT SNOW DOOR_1_OPENING
    AliasConditionState = NIGHT DAMAGED DOOR_1_OPENING
    AliasConditionState = SNOW DAMAGED DOOR_1_OPENING
    AliasConditionState = NIGHT SNOW DAMAGED DOOR_1_OPENING
    AliasConditionState = NIGHT REALLYDAMAGED RUBBLE DOOR_1_OPENING
    AliasConditionState = SNOW REALLYDAMAGED RUBBLE DOOR_1_OPENING
    AliasConditionState = NIGHT SNOW REALLYDAMAGED RUBBLE DOOR_1_OPENING
     
    ConditionState    = DOOR_1_CLOSING
      Model           = MBAirfield_A1
      Animation       = MBAirfield_A1.MBAirfield_A1
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End   
    AliasConditionState = NIGHT DOOR_1_CLOSING
    AliasConditionState = SNOW DOOR_1_CLOSING
    AliasConditionState = NIGHT SNOW DOOR_1_CLOSING
    AliasConditionState = NIGHT DAMAGED DOOR_1_CLOSING
    AliasConditionState = SNOW DAMAGED DOOR_1_CLOSING
    AliasConditionState = NIGHT SNOW DAMAGED DOOR_1_CLOSING
    AliasConditionState = NIGHT REALLYDAMAGED RUBBLE DOOR_1_CLOSING
    AliasConditionState = SNOW REALLYDAMAGED RUBBLE DOOR_1_CLOSING
    AliasConditionState = NIGHT SNOW REALLYDAMAGED RUBBLE  DOOR_1_CLOSING
    
    ConditionState    = DOOR_1_WAITING_OPEN
      Model           = None;MBAirfield_A1
;      Animation       = MBAirfield_A1.MBAirfield_A1
;      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
    End   
    AliasConditionState = NIGHT DOOR_1_WAITING_OPEN
    AliasConditionState = SNOW DOOR_1_WAITING_OPEN
    AliasConditionState = NIGHT SNOW DOOR_1_WAITING_OPEN
    AliasConditionState = NIGHT DAMAGED DOOR_1_WAITING_OPEN
    AliasConditionState = SNOW DAMAGED DOOR_1_WAITING_OPEN
    AliasConditionState = NIGHT SNOW DAMAGED DOOR_1_WAITING_OPEN
    AliasConditionState = NIGHT REALLYDAMAGED RUBBLE DOOR_1_WAITING_OPEN
    AliasConditionState = SNOW REALLYDAMAGED RUBBLE DOOR_1_WAITING_OPEN
    AliasConditionState = NIGHT SNOW REALLYDAMAGED RUBBLE DOOR_1_WAITING_OPEN
    
    
    ;**************************************************************************************************************************
    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ;for this draw module
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = MBAirfield_A1
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
    
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model           = MBAirfield_A1
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End

    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT SNOW
    
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model           = MBAirfield_A1
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT SNOW
    
    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    ;**************************************************************************************************************************
    
  End

  ; ----------------- door #2 -------------------
  Draw                = W3DModelDraw ModuleTag_Door2
    DefaultConditionState
      Model           = MBAirfield_A2
      Animation       = MBAirfield_A2.MBAirfield_A2
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End
    AliasConditionState = NIGHT 
    AliasConditionState = SNOW 
    AliasConditionState = NIGHT SNOW 
    AliasConditionState = NIGHT DAMAGED
    AliasConditionState = SNOW DAMAGED
    AliasConditionState = NIGHT SNOW DAMAGED
    AliasConditionState = NIGHT REALLYDAMAGED RUBBLE
    AliasConditionState = SNOW REALLYDAMAGED RUBBLE
    AliasConditionState = NIGHT SNOW REALLYDAMAGED RUBBLE 
    
    
    ConditionState    = DOOR_2_OPENING
      Model           = None;MBAirfield_A2
;      Animation       = MBAirfield_A2.MBAirfield_A2
;      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End
    AliasConditionState = NIGHT DOOR_2_OPENING
    AliasConditionState = SNOW DOOR_2_OPENING
    AliasConditionState = NIGHT SNOW DOOR_2_OPENING
    AliasConditionState = NIGHT DAMAGED DOOR_2_OPENING
    AliasConditionState = SNOW DAMAGED DOOR_2_OPENING
    AliasConditionState = NIGHT SNOW DAMAGED DOOR_2_OPENING
    AliasConditionState = NIGHT REALLYDAMAGED RUBBLE DOOR_2_OPENING
    AliasConditionState = SNOW REALLYDAMAGED RUBBLE DOOR_2_OPENING
    AliasConditionState = NIGHT SNOW REALLYDAMAGED RUBBLE DOOR_2_OPENING
   
       
    ConditionState    = DOOR_2_CLOSING
      Model           = None;MBAirfield_A2
;      Animation       = MBAirfield_A2.MBAirfield_A2
;      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
    End   
    AliasConditionState = NIGHT DOOR_2_CLOSING
    AliasConditionState = SNOW DOOR_2_CLOSING
    AliasConditionState = NIGHT SNOW DOOR_2_CLOSING
    AliasConditionState = NIGHT DAMAGED DOOR_2_CLOSING
    AliasConditionState = SNOW DAMAGED DOOR_2_CLOSING
    AliasConditionState = NIGHT SNOW DAMAGED DOOR_2_CLOSING
    AliasConditionState = NIGHT REALLYDAMAGED RUBBLE DOOR_2_CLOSING
    AliasConditionState = SNOW REALLYDAMAGED RUBBLE DOOR_2_CLOSING
    AliasConditionState = NIGHT SNOW REALLYDAMAGED RUBBLE DOOR_2_CLOSING
    
    ConditionState    = DOOR_2_WAITING_OPEN
      Model           = None;MBAirfield_A2
;      Animation       = MBAirfield_A2.MBAirfield_A2
;      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST 
    End 
    AliasConditionState = NIGHT DOOR_2_WAITING_OPEN
    AliasConditionState = SNOW DOOR_2_WAITING_OPEN
    AliasConditionState = NIGHT SNOW DOOR_2_WAITING_OPEN
    AliasConditionState = NIGHT DAMAGED DOOR_2_WAITING_OPEN
    AliasConditionState = SNOW DAMAGED DOOR_2_WAITING_OPEN
    AliasConditionState = NIGHT SNOW DAMAGED DOOR_2_WAITING_OPEN
    AliasConditionState = NIGHT REALLYDAMAGED RUBBLE DOOR_2_WAITING_OPEN
    AliasConditionState = SNOW REALLYDAMAGED RUBBLE DOOR_2_WAITING_OPEN
    AliasConditionState = NIGHT SNOW REALLYDAMAGED RUBBLE DOOR_2_WAITING_OPEN
    
        ;**************************************************************************************************************************
    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ;for this draw module
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = MBAirfield_A2
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
    
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model           = MBAirfield_A2
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT SNOW
    
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model           = MBAirfield_A2
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT SNOW
    
    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    ;**************************************************************************************************************************
    
  End

  ; ------------ under-construction scaffolding -----------------
  Draw = W3DModelDraw ModuleTag_0800
  AnimationsRequirePower = No
    MinLODRequired = MEDIUM
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = None;MBAirfield_A4
 ;     Animation       = MBAirfield_A4.MBAirfield_A4
 ;     AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      Model           = None;MBAirfield_A4
 ;     Animation       = MBAirfield_A4.MBAirfield_A4
 ;     AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      Model           = None;MBAirfield_A4
 ;     Animation       = MBAirfield_A4.MBAirfield_A4
 ;     AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      Model           = None;MBAirfield_A4
 ;     Animation       = MBAirfield_A4.MBAirfield_A4
 ;     AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = None;MBAirfield_A4
 ;     Animation       = MBAirfield_A4.MBAirfield_A4
 ;     AnimationMode   = MANUAL
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = None;MBAirfield_A4
 ;     Animation       = MBAirfield_A4.MBAirfield_A4
 ;     AnimationMode   = MANUAL
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End

    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = None;MBAirfield_A4
 ;     Animation       = MBAirfield_A4.MBAirfield_A4
 ;     AnimationMode   = MANUAL
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = None;MBAirfield_A4
 ;     Animation       = MBAirfield_A4.MBAirfield_A4
 ;     AnimationMode   = MANUAL
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = None;MBAirfield_A4
 ;     Animation       = MBAirfield_A4.MBAirfield_A4
 ;     AnimationMode   = MANUAL
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = None;MBAirfield_A4
 ;     Animation       = MBAirfield_A4.MBAirfield_A4
 ;     AnimationMode   = MANUAL
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = None;MBAirfield_A4
 ;     Animation       = MBAirfield_A4.MBAirfield_A4
 ;     AnimationMode   = MANUAL
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = None;MBAirfield_A4
 ;     Animation       = MBAirfield_A4.MBAirfield_A4
 ;     AnimationMode   = MANUAL
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

 ; ------------ construction-zone fence -----------------
  Draw = W3DModelDraw ModuleTag_0600
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = MBAirfield_A5
      Animation       = MBAirfield_A5.MBAirfield_A5
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
    End
    ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED 
      Model           = MBAirfield_A5
      Animation       = MBAirfield_A5.MBAirfield_A5
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
    End
    ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED 
      Model           = MBAirfield_A5
      Animation       = MBAirfield_A5.MBAirfield_A5
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
    End
    ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED 
      Model           = MBAirfield_A5
      Animation       = MBAirfield_A5.MBAirfield_A5
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = MBAirfield_A5
      Animation       = MBAirfield_A5.MBAirfield_A5
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = MBAirfield_A5
      Animation       = MBAirfield_A5.MBAirfield_A5
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = MBAirfield_A5
      Animation       = MBAirfield_A5.MBAirfield_A5
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = MBAirfield_A5
      Animation       = MBAirfield_A5.MBAirfield_A5
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = MBAirfield_A5
      Animation       = MBAirfield_A5.MBAirfield_A5
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = MBAirfield_A5
      Animation       = MBAirfield_A5.MBAirfield_A5
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = MBAirfield_A5
      Animation       = MBAirfield_A5.MBAirfield_A5
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = MBAirfield_A5
      Animation       = MBAirfield_A5.MBAirfield_A5
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ under-construction scaffolding -----------------
  Draw = W3DModelDraw ModuleTag_07s
  AnimationsRequirePower = No
    MinLODRequired = MEDIUM
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = MBAirfield_A6
      Animation       = MBAirfield_A6.MBAirfield_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Dust01 BuildingDustChina
      ParticleSysBone = Smoke01 BuildUpSmokeChina
      ParticleSysBone = Smoke02 BuildUpSmokeChina
      ParticleSysBone = Smoke03 BuildUpSmokeChina
      ParticleSysBone = Smoke04 BuildUpSmokeChina
      ParticleSysBone = Smoke05 BuildUpSmokeChina
    End
    ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      Model           = MBAirfield_A6
      Animation       = MBAirfield_A6.MBAirfield_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = Dust01 BuildingDustChina
      ParticleSysBone = Smoke01 BuildUpSmokeChina
      ParticleSysBone = Smoke02 BuildUpSmokeChina
      ParticleSysBone = Smoke03 BuildUpSmokeChina
      ParticleSysBone = Smoke04 BuildUpSmokeChina
      ParticleSysBone = Smoke05 BuildUpSmokeChina
    End
    ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      Model           = MBAirfield_A6
      Animation       = MBAirfield_A6.MBAirfield_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = Dust01 BuildingSnowDust
      ParticleSysBone = Smoke01 BuildUpSnowSmoke
      ParticleSysBone = Smoke02 BuildUpSnowSmoke
      ParticleSysBone = Smoke03 BuildUpSnowSmoke
      ParticleSysBone = Smoke04 BuildUpSnowSmoke
      ParticleSysBone = Smoke05 BuildUpSnowSmoke
    End
    ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      Model           = MBAirfield_A6
      Animation       = MBAirfield_A6.MBAirfield_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = Dust01 BuildingSnowDust
      ParticleSysBone = Smoke01 BuildUpSnowSmoke
      ParticleSysBone = Smoke02 BuildUpSnowSmoke
      ParticleSysBone = Smoke03 BuildUpSnowSmoke
      ParticleSysBone = Smoke04 BuildUpSnowSmoke
      ParticleSysBone = Smoke05 BuildUpSnowSmoke
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = MBAirfield_A6
      Animation       = MBAirfield_A6.MBAirfield_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = MBAirfield_A6
      Animation       = MBAirfield_A6.MBAirfield_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = MBAirfield_A6
      Animation       = MBAirfield_A6.MBAirfield_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = MBAirfield_A6
      Animation       = MBAirfield_A6.MBAirfield_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End 
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model            = MBAirfield_A6
      Animation       = MBAirfield_A6.MBAirfield_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model            = MBAirfield_A6
      Animation       = MBAirfield_A6.MBAirfield_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model            = MBAirfield_A6
      Animation       = MBAirfield_A6.MBAirfield_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model            = MBAirfield_A6
      Animation       = MBAirfield_A6.MBAirfield_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  PlacementViewAngle = -45

  ; ***DESIGN parameters ***
  DisplayName      = CONTROLBAR:ConstructMilitiaAirfield
  Side             = Boss
  EditorSorting    = STRUCTURE
  Prerequisites
  End
  BuildCost           = 1500
  BuildTime           = 15.0           ; in seconds
  CommandSet          = UkraineAirfieldCommandSet
  VisionRange         = 200.0           ; Shroud clearing distance
  ShroudClearingRange = 200
  ArmorSet
    Conditions        = None
    Armor             = StructureArmor
    DamageFX          = StructureDamageFXNoShake
  End

  ; Prerequisites
    ; Object = Boss_UkraineWarFactory
  ; End

  ExperienceValue     = 150 150 150 150  ; Experience point value at each level

  ; *** AUDIO Parameters ***
  SoundOnDamaged        = BuildingDamagedStateLight
  SoundOnReallyDamaged  = BuildingDestroy

  UnitSpecificSounds
    UnderConstruction     = UnderConstructionLoop
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority       = STRUCTURE
  KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE FS_AIRFIELD SCORE CAPTURABLE FS_FACTORY MP_COUNT_FOR_VICTORY AUTO_RALLYPOINT
  Body                = StructureBody ModuleTag_10
    MaxHealth         = 1400.0
    InitialHealth     = 1400.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 1700
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
  End

  Behavior = ParkingPlaceBehavior ModuleTag_11
    HealAmountPerSecond     = 10
    NumCols                 = 1
    NumRows                 = 2
    HasRunways              = Yes
    ApproachHeight          = 50
    ParkInHangars           = Yes
  End

  Behavior = ProductionUpdate ModuleTag_12
    NumDoorAnimations            = 2
    DoorOpeningTime              = 100  ;in mSeconds
    DoorWaitOpenTime             = 100  ;in mSeconds
    DoorCloseTime                = 1    ;in mSeconds
    ConstructionCompleteDuration = 100  ;in mSeconds
  End

  Behavior = DestroyDie ModuleTag_14
    ;nothing
  End
  Behavior             = CreateObjectDie ModuleTag_15
    CreationList  = OCL_ABPowerPlantExplode
  End
  Behavior             = FXListDie ModuleTag_16
    DeathFX       = FX_StructureMediumDeath
  End

  Behavior = FlammableUpdate ModuleTag_20
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 5       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = TransitionDamageFX ModuleTag_31
    ;-------------DESIGNED FOR MEDIUM SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionMediumExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionMediumShockwave
  End
  Geometry            = BOX
  GeometryMajorRadius = 97.5
  GeometryMinorRadius = 50.0
  GeometryHeight      = 7.5
  GeometryIsSmall     = No
  FactoryExitWidth    = 25
  Shadow          = SHADOW_VOLUME
  BuildCompletion = PLACED_BY_PLAYER
End

;-----------------------------------------------------------------------------------------------------------
Object Boss_UkraineSpyAgent

  ; *** ART Parameters ***
  SelectPortrait         = Agent
  ButtonImage            = Agent


  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes

    DefaultConditionState
      Model = NIAMBSDR_SKN
      IdleAnimation = NIAMBSDR_SKL.NIAMBSDR_STA
      IdleAnimation = NIAMBSDR_SKL.NIAMBSDR_STA
      IdleAnimation = NIAMBSDR_SKL.NIAMBSDR_STA
      IdleAnimation = NIAMBSDR_SKL.NIAMBSDR_STA
      IdleAnimation = NIAMBSDR_SKL.NIAMBSDR_STA
      IdleAnimation = NIAMBSDR_SKL.NIAMBSDR_STA
      IdleAnimation = NIAMBSDR_SKL.NIAMBSDR_STA
      IdleAnimation = NIAMBSDR_SKL.NIAMBSDR_IDA
      IdleAnimation = NIAMBSDR_SKL.NIAMBSDR_IDB
      AnimationMode = ONCE
      TransitionKey = TRANS_Stand
    End
        
    ConditionState = MOVING
      Animation = NIAMBSDR_SKL.NIAMBSDR_RNA ;***was using WKA but it doesn't exist so I changed it to kill the assert -- Kris 
      AnimationMode = LOOP
      Flags = RANDOMSTART
    End

    ConditionState = MOVING PANICKING
      Animation = NIAMBSDR_SKL.NIAMBSDR_RNA 
      AnimationMode = LOOP
      Flags = RANDOMSTART
    End

    ConditionState = DYING
      Animation = NIAMBSDR_SKL.NIAMBSDR_DTA
      Animation = NIAMBSDR_SKL.NIAMBSDR_DTB
      AnimationMode = ONCE
      TransitionKey = TRANS_Dying
    End

    TransitionState = TRANS_Dying TRANS_Flailing
      Animation = NIAMBSDR_SKL.NIAMBSDR_ADTD1
      AnimationMode = ONCE
    End

    ConditionState = DYING EXPLODED_FLAILING
      Animation = NIAMBSDR_SKL.NIAMBSDR_ADTD2
      AnimationMode = LOOP
      TransitionKey = TRANS_Flailing
    End

    ConditionState = DYING EXPLODED_BOUNCING
      Animation = NIAMBSDR_SKL.NIAMBSDR_ADTD3
      AnimationMode = ONCE
      TransitionKey = None
    End
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Ambassador
  Side                = Boss
  EditorSorting       = INFANTRY
  TransportSlotCount  = 1                 ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    ; no weapons
  End
  ArmorSet
    Conditions      = None
    Armor           = HumanArmor
    DamageFX        = InfantryDamageFX
  End
  VisionRange = 300
  ShroudClearingRange = 300

  ExperienceValue = 50 100 150 400    ;Experience point value at each level
  ExperienceRequired = 0 150 450 900  ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CommandSet          = AmbassadorCommandSet

  ; *** AUDIO Parameters ***

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS INFANTRY SCORE

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 90.0
    InitialHealth   = 90.0
  End

  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle = Yes
  End
  Locomotor = SET_NORMAL BasicHumanLocomotor
  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 5.0
  End
  Behavior = SlowDeathBehavior ModuleTag_05
    SinkDelay = 3000
    SinkRate = 0.5     ; in Dist/Sec
    DestructionDelay = 8000
  End
 
  Behavior = SquishCollide ModuleTag_06
    ;nothing
  End

  Behavior = FXListDie ModuleTag_07
    DeathTypes = ALL -CRUSHED -SPLATTED
    DeathFX = FX_RedGuardDie
  End
  Behavior = FXListDie ModuleTag_08
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_GIDieCrushed
  End

  Behavior = PoisonedBehavior ModuleTag_09
    PoisonDamageInterval = 100  ; Every this many msec I will retake the poison damage dealt me...
    PoisonDuration = 3000       ; ... for this long after last hit by poison damage
  End

  Behavior = StealthUpdate ModuleTag_10
    StealthDelay                = 2000 ; msec
    StealthForbiddenConditions  = FIRING_PRIMARY
    HintDetectableConditions    = IS_FIRING_WEAPON 
    FriendlyOpacityMin          = 50.0%
    FriendlyOpacityMax          = 100.0%
    InnateStealth               = Yes
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
  End

  Behavior = StealthDetectorUpdate ModuleTag_11
    DetectionRate   = 500   ; how often to rescan for stealthed things in my sight (msec)
    ;DetectionRange = ??? ;Dustin, enable this for independant balancing!
    CanDetectWhileGarrisoned  = No ;Garrisoned means being in a structure that you units can shoot out of.
    CanDetectWhileContained   = No ;Contained means being in a transport or tunnel network.
  End
 
  Geometry = CYLINDER
  GeometryMajorRadius = 10.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 12.0
  GeometryIsSmall = Yes
  Shadow = SHADOW_DECAL
  Scale = 0.9
  ShadowSizeX = 14
  ShadowSizeY = 14
  ShadowTexture = ShadowI
  BuildCompletion = APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
Object Boss_UkraineRadarPost

  ; *** ART Parameters ***
  SelectPortrait         = RadarPost
  ButtonImage            = RadarPost
  
  Draw = W3DModelDraw ModuleTag_01
  
    OkToChangeModelColor = Yes
    
    DefaultConditionState
      Model              = RBRdrTwr
      Animation          = RBRdrTwr.RBRdrTwr
      AnimationMode      = LOOP
    End
    AliasConditionState = NIGHT    
    AliasConditionState = RUBBLE
    AliasConditionState = RUBBLE NIGHT
    
    ConditionState       = DAMAGED
      Model              = RBRdrTwr_D
      Animation          = RBRdrTwr_D.RBRdrTwr_D
      AnimationMode      = LOOP
      ParticleSysBone    = Smoke01 SmolderingSmoke
      ParticleSysBone    = Smoke01 SmolderingFire
      ParticleSysBone    = Smoke02 SmolderingSmoke
      ParticleSysBone    = Smoke04 SmolderingSmoke

    End
    AliasConditionState = DAMAGED NIGHT
    AliasConditionState = DAMAGED SNOW
    AliasConditionState = DAMAGED NIGHT SNOW
    
    ConditionState = REALLYDAMAGED
      Model              = RBRdrTwr_D
      Animation          = RBRdrTwr_D.RBRdrTwr_D
      AnimationMode      = LOOP
      ParticleSysBone    = Smoke01 SmolderingSmoke
      ParticleSysBone    = Smoke01 SmolderingFire
      ParticleSysBone    = Smoke02 SmolderingSmoke
      ParticleSysBone    = Smoke03 SmolderingSmoke
      ParticleSysBone    = Smoke03 SmolderingFire
      ParticleSysBone    = Smoke04 SmolderingSmoke
    End
    AliasConditionState = REALLYDAMAGED NIGHT
    AliasConditionState = REALLYDAMAGED SNOW
    AliasConditionState = REALLYDAMAGED NIGHT SNOW

    ConditionState = SNOW
      Model              = RBRdrTwr_S
      Animation          = RBRdrTwr_S.RBRdrTwr_S
      AnimationMode      = LOOP
    End
    AliasConditionState = NIGHT SNOW
    AliasConditionState = RUBBLE SNOW
    AliasConditionState = RUBBLE NIGHT SNOW
    
    ;**************************************************************************************************************************

    ConditionState      = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model             = RBRdrTwr
      Flags             = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
    
    ConditionState      = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model             = RBRdrTwr_D
      Flags             = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED

    ConditionState      = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model             = RBRdrTwr_D
      Flags             = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED

    ConditionState      = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model             = RBRdrTwr_S
      Flags             = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    ;**************************************************************************************************************************
  End

  ;Radar dish animations
  Draw = W3DModelDraw ModuleTag_Dish01
  
    OkToChangeModelColor = Yes
    
    DefaultConditionState
      Model              = RBRdrTwr_A2
      Animation          = RBRdrTwr_A2.RBRdrTwr_A2
      AnimationMode      = LOOP
      HideSubObject      = MODE02 MODE03 MODE04
      TransitionKey      = TRANS_NORMAL
    End
    AliasConditionState = NIGHT
    
    ConditionState       = DAMAGED
      Model              = RBRdrTwr_A2D
      Animation          = RBRdrTwr_A2D.RBRdrTwr_A2D
      AnimationMode      = LOOP
      TransitionKey      = TRANS_DAMAGED
    End
    AliasConditionState = DAMAGED NIGHT
    AliasConditionState = DAMAGED SNOW
    AliasConditionState = DAMAGED NIGHT SNOW
    AliasConditionState = REALLYDAMAGED 
    AliasConditionState = REALLYDAMAGED NIGHT
    AliasConditionState = REALLYDAMAGED SNOW
    AliasConditionState = REALLYDAMAGED NIGHT SNOW

    ConditionState = SNOW
      Model              = RBRdrTwr_A2S
      Animation          = RBRdrTwr_A2S.RBRdrTwr_A2S
      AnimationMode      = LOOP
      TransitionKey      = TRANS_SNOW
    End
    AliasConditionState = NIGHT SNOW
    
    
    TransitionState      = TRANS_CONSTRUCTING TRANS_NORMAL
      Model              = RBRdrTwr_A1
      Animation          = RBRdrTwr_A1.RBRdrTwr_A1
      AnimationMode      = ONCE
    End
    
    TransitionState      = TRANS_CONSTRUCTING_DAMAGED TRANS_DAMAGED
      Model              = RBRdrTwr_A1D
      Animation          = RBRdrTwr_A1D.RBRdrTwr_A1D
      AnimationMode      = ONCE
    End

    TransitionState      = TRANS_CONSTRUCTING_SNOW TRANS_SNOW
      Model              = RBRdrTwr_A1S
      Animation          = RBRdrTwr_A1S.RBRdrTwr_A1S
      AnimationMode      = ONCE
    End
    
    ;**************************************************************************************************************************
    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
      TransitionKey      = TRANS_CONSTRUCTING
    End
    AliasConditionState  = SOLD 
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED  
    AliasConditionState  = NIGHT AWAITING_CONSTRUCTION 
    AliasConditionState  = NIGHT SOLD 
    AliasConditionState  = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED  
    AliasConditionState  = SNOW NIGHT AWAITING_CONSTRUCTION 
    AliasConditionState  = SNOW NIGHT SOLD 
    AliasConditionState  = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
    AliasConditionState  = REALLYDAMAGED RUBBLE
    AliasConditionState  = REALLYDAMAGED RUBBLE NIGHT
    AliasConditionState  = REALLYDAMAGED RUBBLE SNOW
    AliasConditionState  = REALLYDAMAGED RUBBLE NIGHT SNOW
    
    ConditionState       = AWAITING_CONSTRUCTION DAMAGED
      Model              = NONE
      TransitionKey      = TRANS_CONSTRUCTING_DAMAGED
    End
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = NIGHT SOLD DAMAGED
    AliasConditionState  = NIGHT SOLD REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
    AliasConditionState  = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
    AliasConditionState  = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
    AliasConditionState  = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
    AliasConditionState  = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
    AliasConditionState  = NIGHT AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = NIGHT AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
    AliasConditionState  = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
    AliasConditionState  = SNOW NIGHT AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = SNOW NIGHT AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = SNOW SOLD DAMAGED
    AliasConditionState  = SNOW SOLD REALLYDAMAGED
    AliasConditionState  = SNOW AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = SNOW AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = SNOW NIGHT SOLD DAMAGED
    AliasConditionState  = SNOW NIGHT SOLD REALLYDAMAGED

    ConditionState       = SNOW AWAITING_CONSTRUCTION 
      Model              = NONE
      TransitionKey      = TRANS_CONSTRUCTING_SNOW
    End
    AliasConditionState  = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
    ;**************************************************************************************************************************
  End
  
  ; ------------ construction-zone fence -----------------
  Draw = W3DModelDraw ModuleTag_02
  AnimationsRequirePower = No

    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    AliasConditionState = NIGHT
    AliasConditionState = SNOW
    AliasConditionState = SNOW NIGHT

    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = RBRdrTwr_BF
      Animation       = RBRdrTwr_BF.RBRdrTwr_BF
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
    End
    AliasConditionState = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
    AliasConditionState = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
    AliasConditionState = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED

    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = RBRdrTwr_BF
      Animation       = RBRdrTwr_BF.RBRdrTwr_BF
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = RBRdrTwr_BF
      Animation       = RBRdrTwr_BF.RBRdrTwr_BF
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_LAST
    End

  End

; ------------ under-construction scaffolding -----------------
  Draw = W3DModelDraw ModuleTag_03
  AnimationsRequirePower = No
    MinLODRequired = MEDIUM
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    AliasConditionState = NIGHT
    AliasConditionState = SNOW
    AliasConditionState = SNOW NIGHT

    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = RBRdrTwr_SC
      Animation       = RBRdrTwr_SC.RBRdrTwr_SC
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Smoke01 BuildUpSmokeChina
      ParticleSysBone = Smoke02 BuildUpSmokeChina
      ParticleSysBone = Smoke03 BuildUpSmokeChina
    End
    AliasConditionState = NIGHT PARTIALLY_CONSTRUCTED
    AliasConditionState = SNOW PARTIALLY_CONSTRUCTED
    AliasConditionState = SNOW NIGHT PARTIALLY_CONSTRUCTED

    TransitionState   = DOWN_DEFAULT UP_DAY
     Model            = RBRdrTwr_SC
      Animation       = RBRdrTwr_SC.RBRdrTwr_SC
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = RBRdrTwr_SC
      Animation       = RBRdrTwr_SC.RBRdrTwr_SC
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_LAST
    End

  End
  
  PlacementViewAngle     = -45

  ; ***DESIGN parameters ***
  DisplayName      = CONTROLBAR:ConstructMilitiaRadarPost
  Side                = Boss
  EditorSorting       = STRUCTURE
  BuildCost           = 15000
  BuildTime           = 30.0           ; in seconds
  EnergyProduction    = -5
  CommandSet          = UkraineRadarPostCommandSet
  VisionRange         = 400.0           ; Shroud clearing distance
  ShroudClearingRange = 400
  ArmorSet
    Conditions        = None
    Armor             = StructureArmor
    DamageFX          = StructureDamageFXNoShake
  End
  ExperienceValue     = 100 100 100 100  ; Experience point value at each level
  ;MaxSimultaneousOfType = 1

  Prerequisites
    Object = Boss_UkrainePowerPlant
  End

  ; *** AUDIO Parameters ***
  SoundOnDamaged        = BuildingDamagedStateLight
  SoundOnReallyDamaged  = BuildingDestroy

  UnitSpecificSounds
    UnderConstruction     = UnderConstructionLoop
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority        = STRUCTURE
  KindOf               = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE CAPTURABLE FS_FACTORY MP_COUNT_FOR_VICTORY
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 1500.0
    InitialHealth   = 1500.0
  End

  Behavior = ProductionUpdate ModuleTag_05
    ; nothing
  End

  Behavior = PreorderCreate ModuleTag_PreorderCreate
  End

  Behavior = GrantUpgradeCreate ModuleTag_09
    UpgradeToGrant           = Upgrade_AmericaRadar
    ExemptStatus      = UNDER_CONSTRUCTION
  End

  Behavior = RadarUpdate ModuleTag_12
    RadarExtendTime   = 4000     ;in mSeconds
  End

  Behavior         = RadarUpgrade ModuleTag_19
    TriggeredBy   = Upgrade_AmericaRadar
  End

  Behavior             = DestroyDie ModuleTag_100
    ;nothing
  End

  ; Behavior           = OCLSpecialPower ModuleTag_21
    ; SpecialPowerTemplate = SpecialPowerSpySatelliteMilitiaSpy
    ; OCL                  = SUPERWEAPON_MilitiaSpyAgent
    ; CreateLocation       = CREATE_ABOVE_LOCATION
  ; End

  Behavior                  = CreateObjectDie ModuleTag_080102
    CreationList       = OCL_LargeStructureDebris
  End
  Behavior                  = FXListDie ModuleTag_10103
    DeathFX            = FX_StructureMediumDeath
  End

  Behavior = FlammableUpdate ModuleTag_07
    FlameDamageLimit = 20         ;Catch fire if I take this much fire damage...
    FlameDamageExpiration = 2000  ;in a span of this long
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 25       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = TransitionDamageFX ModuleTag_08
    ;-------------DESIGNED FOR SMALL SIZED CIVILIAN BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1          = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
    ;---------------------------------------------------------------------------------------
    RubbleParticleSystem1              = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    RubbleParticleSystem2              = Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
    RubbleParticleSystem3              = Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
    RubbleParticleSystem4              = Bone:None RandomBone:No PSys:StructureTransitionSmallFlare

  End
  
  Geometry            = BOX
  GeometryMajorRadius = 26.0
  GeometryMinorRadius = 42.0
  GeometryHeight      = 73.0
  GeometryIsSmall     = No 
  Shadow          = SHADOW_VOLUME
  BuildCompletion = PLACED_BY_PLAYER
End

;------------------------------------------------------------------------------
Object Boss_UkraineGURHeadquaters

  ; *** ART Parameters ***
  SelectPortrait         = SAPrison_L
  ButtonImage            = SAPrison

  Draw = W3DModelDraw ModuleTag_01
  OkToChangeModelColor = Yes

    ; day
    ConditionState = NONE
      Model         = MBRadarPost
      Animation     = MBRadarPost.MBRadarPost
      AnimationMode = LOOP
    End
    ConditionState = DAMAGED
      Model         = MBRadarPost_D
      Animation     = MBRadarPost_D.MBRadarPost_D
      AnimationMode = LOOP
    End
    ConditionState = REALLYDAMAGED
      Model         = MBRadarPost_D
      Animation     = MBRadarPost_D.MBRadarPost_D
      AnimationMode = LOOP
    End
    
    ; night
    ConditionState = NIGHT
      Model         = MBRadarPost
      Animation     = MBRadarPost.MBRadarPost
      AnimationMode = LOOP
    End
    ConditionState = DAMAGED NIGHT
      Model         = MBRadarPost_D
      Animation     = MBRadarPost_D.MBRadarPost_D
      AnimationMode = LOOP
    End
    ConditionState = REALLYDAMAGED NIGHT
      Model         = MBRadarPost_D
      Animation     = MBRadarPost_D.MBRadarPost_D
      AnimationMode = LOOP
    End
      
    ; Snow
    ConditionState = SNOW
      Model         = MBRadarPost
      Animation     = MBRadarPost.MBRadarPost
      AnimationMode = LOOP
    End
    ConditionState = DAMAGED SNOW
      Model         = MBRadarPost_D
      Animation     = MBRadarPost_D.MBRadarPost_D
      AnimationMode = LOOP
    End
    ConditionState = REALLYDAMAGED SNOW
      Model         = MBRadarPost_D
      Animation     = MBRadarPost_D.MBRadarPost_D
      AnimationMode = LOOP
    End
    
    ; night snow
    ConditionState = SNOW NIGHT
      Model         = MBRadarPost
      Animation     = MBRadarPost.MBRadarPost
      AnimationMode = LOOP
    End
    ConditionState = DAMAGED SNOW NIGHT
      Model         = MBRadarPost_D
      Animation     = MBRadarPost_D.MBRadarPost_D
      AnimationMode = LOOP
    End
    ConditionState = REALLYDAMAGED SNOW NIGHT
      Model         = MBRadarPost_D
      Animation     = MBRadarPost_D.MBRadarPost_D
      AnimationMode = LOOP
    End

    ;**************************************************************************************************************************
    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ;for this draw module
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model         = MBRadarPost
      Animation     = MBRadarPost.MBRadarPost
      AnimationMode = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model         = MBRadarPost_D
      Animation     = MBRadarPost_D.MBRadarPost_D
      AnimationMode = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model         = CBTOutpost_DG
      Animation     = CBTOutpost_DG.CBTOutpost_DG
      AnimationMode = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
      Model         = MBRadarPost
      Animation     = MBRadarPost.MBRadarPost
      AnimationMode = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
      Model         = MBRadarPost_D
      Animation     = MBRadarPost_D.MBRadarPost_D
      AnimationMode = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
      Model         = CBTOutpost_DNG
      Animation     = CBTOutpost_DNG.CBTOutpost_DNG
      AnimationMode = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model         = MBRadarPost
      Animation     = MBRadarPost.MBRadarPost
      AnimationMode = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
      Model         = MBRadarPost_D
      Animation     = MBRadarPost_D.MBRadarPost_D
      AnimationMode = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
      Model         = CBTOutpost_DSG
      Animation     = CBTOutpost_DSG.CBTOutpost_DSG
      AnimationMode = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
      Model         = MBRadarPost
      Animation     = MBRadarPost.MBRadarPost
      AnimationMode = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
      Model         = MBRadarPost_D
      Animation     = MBRadarPost_D.MBRadarPost_D
      AnimationMode = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
      Model         = MBRadarPost_D
      Animation     = MBRadarPost_D.MBRadarPost_D
      AnimationMode = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End

    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = GARRISONED SOLD 
    AliasConditionState  = GARRISONED SOLD DAMAGED
    AliasConditionState  = GARRISONED SOLD REALLYDAMAGED
    AliasConditionState  = GARRISONED SOLD NIGHT
    AliasConditionState  = GARRISONED SOLD NIGHT DAMAGED
    AliasConditionState  = GARRISONED SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = GARRISONED SOLD SNOW
    AliasConditionState  = GARRISONED SOLD SNOW DAMAGED
    AliasConditionState  = GARRISONED SOLD SNOW REALLYDAMAGED
    AliasConditionState  = GARRISONED SOLD NIGHT SNOW
    AliasConditionState  = GARRISONED SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = GARRISONED SOLD NIGHT SNOW REALLYDAMAGED
    ;**************************************************************************************************************************
  End

  ; ------------ construction-zone fence -----------------
  Draw = W3DModelDraw ModuleTag_0202
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = MBRadarPost_A4
      Animation       = MBRadarPost_A4.MBRadarPost_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
    End
    ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = MBRadarPost_A4
      Animation       = MBRadarPost_A4.MBRadarPost_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
    End
    ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = MBRadarPost_A4
      Animation       = MBRadarPost_A4.MBRadarPost_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
    End
    ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = MBRadarPost_A4
      Animation       = MBRadarPost_A4.MBRadarPost_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = MBRadarPost_A4
      Animation       = MBRadarPost_A4.MBRadarPost_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = MBRadarPost_A4
      Animation       = MBRadarPost_A4.MBRadarPost_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = MBRadarPost_A4
      Animation       = MBRadarPost_A4.MBRadarPost_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = MBRadarPost_A4
      Animation       = MBRadarPost_A4.MBRadarPost_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = MBRadarPost_A4
      Animation       = MBRadarPost_A4.MBRadarPost_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = MBRadarPost_A4
      Animation       = MBRadarPost_A4.MBRadarPost_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = MBRadarPost_A4
      Animation       = MBRadarPost_A4.MBRadarPost_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = MBRadarPost_A4
      Animation       = MBRadarPost_A4.MBRadarPost_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ under-construction scaffolding -----------------
  Draw = W3DModelDraw ModuleTag_07s
  AnimationsRequirePower = No
    MinLODRequired = MEDIUM
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = MBRadarPost_A6
      Animation       = MBRadarPost_A6.MBRadarPost_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Dust01 BuildingDustChina
      ParticleSysBone = Smoke01 BuildUpSmokeChina
      ParticleSysBone = Smoke02 BuildUpSmokeChina
      ParticleSysBone = Smoke03 BuildUpSmokeChina
      ParticleSysBone = Smoke04 BuildUpSmokeChina
      ParticleSysBone = Smoke05 BuildUpSmokeChina
    End
    ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      Model           = MBRadarPost_A6
      Animation       = MBRadarPost_A6.MBRadarPost_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = Dust01 BuildingDustChina
      ParticleSysBone = Smoke01 BuildUpSmokeChina
      ParticleSysBone = Smoke02 BuildUpSmokeChina
      ParticleSysBone = Smoke03 BuildUpSmokeChina
      ParticleSysBone = Smoke04 BuildUpSmokeChina
      ParticleSysBone = Smoke05 BuildUpSmokeChina
    End
    ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      Model           = MBRadarPost_A6
      Animation       = MBRadarPost_A6.MBRadarPost_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = Dust01 BuildingSnowDust
      ParticleSysBone = Smoke01 BuildUpSnowSmoke
      ParticleSysBone = Smoke02 BuildUpSnowSmoke
      ParticleSysBone = Smoke03 BuildUpSnowSmoke
      ParticleSysBone = Smoke04 BuildUpSnowSmoke
      ParticleSysBone = Smoke05 BuildUpSnowSmoke
    End
    ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      Model           = MBRadarPost_A6
      Animation       = MBRadarPost_A6.MBRadarPost_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = Dust01 BuildingSnowDust
      ParticleSysBone = Smoke01 BuildUpSnowSmoke
      ParticleSysBone = Smoke02 BuildUpSnowSmoke
      ParticleSysBone = Smoke03 BuildUpSnowSmoke
      ParticleSysBone = Smoke04 BuildUpSnowSmoke
      ParticleSysBone = Smoke05 BuildUpSnowSmoke
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = MBRadarPost_A6
      Animation       = MBRadarPost_A6.MBRadarPost_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = MBRadarPost_A6
      Animation       = MBRadarPost_A6.MBRadarPost_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = MBRadarPost_A6
      Animation       = MBRadarPost_A6.MBRadarPost_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = MBRadarPost_A6
      Animation       = MBRadarPost_A6.MBRadarPost_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End 
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model            = MBRadarPost_A6
      Animation       = MBRadarPost_A6.MBRadarPost_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model            = MBRadarPost_A6
      Animation       = MBRadarPost_A6.MBRadarPost_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model            = MBRadarPost_A6
      Animation       = MBRadarPost_A6.MBRadarPost_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model            = MBRadarPost_A6
      Animation       = MBRadarPost_A6.MBRadarPost_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ***DESIGN parameters ***
  DisplayName      = CONTROLBAR:ConstructMilitiaRadarPost
  Side = Boss
  EditorSorting       = STRUCTURE
  BuildCost           = 35000
  BuildTime           = 30.0           ; in seconds
  EnergyProduction    = -2
  CommandSet          = UkraineGURHeadquatersCommandSet
  VisionRange         = 400.0           ; Shroud clearing distance
  ShroudClearingRange = 400
  ArmorSet
    Conditions        = None
    Armor             = StructureArmor
    DamageFX          = StructureDamageFXNoShake
  End
  ExperienceValue     = 100 100 100 100  ; Experience point value at each level
  MaxSimultaneousOfType = 1

  Prerequisites
    Object = Boss_UkraineRadarPost
  End

  ; *** AUDIO Parameters ***
  SoundOnDamaged        = BuildingDamagedStateLight
  SoundOnReallyDamaged  = BuildingDestroy

  UnitSpecificSounds
    UnderConstruction     = UnderConstructionLoop
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority        = STRUCTURE
  KindOf               = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE CAPTURABLE FS_FACTORY MP_COUNT_FOR_VICTORY
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 1500.0
    InitialHealth   = 1500.0
  End

  Behavior = ProductionUpdate ModuleTag_05
    ; nothing
  End

  Behavior = PreorderCreate ModuleTag_PreorderCreate
  End

  ; Behavior = GrantUpgradeCreate ModuleTag_09
    ; UpgradeToGrant           = Upgrade_AmericaRadar
    ; ExemptStatus      = UNDER_CONSTRUCTION
  ; End

  ; Behavior = RadarUpdate ModuleTag_12
    ; RadarExtendTime   = 4000     ;in mSeconds
  ; End

  ; Behavior         = RadarUpgrade ModuleTag_19
    ; TriggeredBy   = Upgrade_AmericaRadar
  ; End

  Behavior             = DestroyDie ModuleTag_100
    ;nothing
  End

  Behavior           = OCLSpecialPower ModuleTag_21
    SpecialPowerTemplate = SpecialPowerUkraineSpy
    OCL                  = SUPERWEAPON_UkraineSpyAgent
    CreateLocation       = CREATE_ABOVE_LOCATION
  End

  Behavior                  = CreateObjectDie ModuleTag_080102
    CreationList       = OCL_LargeStructureDebris
  End
  Behavior                  = FXListDie ModuleTag_10103
    DeathFX            = FX_StructureMediumDeath
  End

  Behavior = FlammableUpdate ModuleTag_07
    FlameDamageLimit = 20         ;Catch fire if I take this much fire damage...
    FlameDamageExpiration = 2000  ;in a span of this long
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 25       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = TransitionDamageFX ModuleTag_08
    ;-------------DESIGNED FOR SMALL SIZED CIVILIAN BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1          = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
    ;---------------------------------------------------------------------------------------
    RubbleParticleSystem1              = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    RubbleParticleSystem2              = Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
    RubbleParticleSystem3              = Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
    RubbleParticleSystem4              = Bone:None RandomBone:No PSys:StructureTransitionSmallFlare

  End

  Geometry            = BOX
  GeometryMajorRadius = 36.0
  GeometryMinorRadius = 44.0
  GeometryHeight      = 30.0
  GeometryIsSmall     = No
  FactoryExitWidth    = 25 
  Shadow          = SHADOW_VOLUME
  BuildCompletion = PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
Object Boss_UkraineInternationalHeadquaters

  ; *** ART Parameters ***
  SelectPortrait         = SMCRHQ
  ButtonImage            = SMCRHQ

  Draw                 = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes
    ConditionState       = NONE
      Model              = MBResistanceHQ 
      Animation          = MBResistanceHQ.MBResistanceHQ 
      AnimationMode      = LOOP
    End

    ConditionState       = DAMAGED
      Model              = MBResistance_D
      Animation          = MBResistance_D.MBResistance_D
      AnimationMode      = LOOP
    End

    ConditionState     = REALLYDAMAGED RUBBLE
      Model              = MBResistance_E
      Animation          = MBResistance_E.MBResistance_E 
      AnimationMode      = LOOP
    End

    ConditionState       = NIGHT
      Model              = MBResistanceHQ
      Animation          = MBResistanceHQ.MBResistanceHQ
      AnimationMode      = LOOP
    End

    ConditionState       = DAMAGED NIGHT
      Model              = MBResistance_D
      Animation          = MBResistance_D.MBResistance_D
      AnimationMode      = LOOP
    End

    ConditionState     = REALLYDAMAGED RUBBLE NIGHT
      Model              = MBResistance_E
      Animation          = MBResistance_E.MBResistance_E 
      AnimationMode      = LOOP
    End

    ;----------- SNOW

    ConditionState       = SNOW
      Model              = MBResistance_S 
      Animation          = MBResistance_S.MBResistance_S
      AnimationMode      = LOOP
    End

    ConditionState       = DAMAGED SNOW
      Model              = MBResistance_D
      Animation          = MBResistance_D.MBResistance_D
      AnimationMode      = LOOP
    End

    ConditionState     = REALLYDAMAGED RUBBLE SNOW
      Model              = MBResistance_E
      Animation          = MBResistance_E.MBResistance_E 
      AnimationMode      = LOOP
    End

    ;---------- SNOW NIGHT

    ConditionState       = NIGHT SNOW
      Model              = MBResistance_S 
      Animation          = MBResistance_S.MBResistance_S
      AnimationMode      = LOOP
    End

    ConditionState       = DAMAGED NIGHT SNOW
      Model              = MBResistance_D
      Animation          = MBResistance_D.MBResistance_D
      AnimationMode      = LOOP
    End

    ConditionState     = REALLYDAMAGED RUBBLE NIGHT SNOW
      Model              = MBResistance_E
      Animation          = MBResistance_E.MBResistance_E 
      AnimationMode      = LOOP
    End

    ;**************************************************************************************************************************
    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ;for this draw module
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = MBResistanceHQ 
      Animation          = MBResistanceHQ.MBResistanceHQ 
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = MBResistance_D 
      Animation          = MBResistance_D.MBResistance_D 
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = MBResistance_E
      Animation          = MBResistance_E.MBResistance_E 
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
      Model              = MBResistanceHQ
      Animation          = MBResistanceHQ.MBResistanceHQ
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
      Model              = MBResistance_D 
      Animation          = MBResistance_D.MBResistance_D 
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
      Model              = MBResistance_E
      Animation          = MBResistance_E.MBResistance_E 
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model              = MBResistanceHQ
      Animation          = MBResistanceHQ.MBResistanceHQ
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
      Model              = MBResistance_D 
      Animation          = MBResistance_D.MBResistance_D 
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
      Model              = MBResistance_E
      Animation          = MBResistance_E.MBResistance_E 
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
      Model              = MBResistanceHQ
      Animation          = MBResistanceHQ.MBResistanceHQ
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
      Model              = MBResistance_D 
      Animation          = MBResistance_D.MBResistance_D 
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
      Model              = MBResistance_E
      Animation          = MBResistance_E.MBResistance_E 
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End

    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = GARRISONED SOLD 
    AliasConditionState  = GARRISONED SOLD DAMAGED
    AliasConditionState  = GARRISONED SOLD REALLYDAMAGED
    AliasConditionState  = GARRISONED SOLD NIGHT
    AliasConditionState  = GARRISONED SOLD NIGHT DAMAGED
    AliasConditionState  = GARRISONED SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = GARRISONED SOLD SNOW
    AliasConditionState  = GARRISONED SOLD SNOW DAMAGED
    AliasConditionState  = GARRISONED SOLD SNOW REALLYDAMAGED
    AliasConditionState  = GARRISONED SOLD NIGHT SNOW
    AliasConditionState  = GARRISONED SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = GARRISONED SOLD NIGHT SNOW REALLYDAMAGED
    ;**************************************************************************************************************************
  End


  ; ------------ construction-zone fence -----------------
  Draw = W3DModelDraw ModuleTag_02121
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = MBResistance_A4
      Animation       = MBResistance_A4.MBResistance_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
    End
    ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = MBResistance_A4
      Animation       = MBResistance_A4.MBResistance_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
    End
    ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = MBResistance_A4
      Animation       = MBResistance_A4.MBResistance_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
    End
    ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = MBResistance_A4
      Animation       = MBResistance_A4.MBResistance_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = MBResistance_A4
      Animation       = MBResistance_A4.MBResistance_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = MBResistance_A4
      Animation       = MBResistance_A4.MBResistance_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = MBResistance_A4
      Animation       = MBResistance_A4.MBResistance_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = MBResistance_A4
      Animation       = MBResistance_A4.MBResistance_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = MBResistance_A4
      Animation       = MBResistance_A4.MBResistance_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = MBResistance_A4
      Animation       = MBResistance_A4.MBResistance_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = MBResistance_A4
      Animation       = MBResistance_A4.MBResistance_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = MBResistance_A4
      Animation       = MBResistance_A4.MBResistance_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ under-construction scaffolding -----------------
  Draw = W3DModelDraw ModuleTag_07s
  AnimationsRequirePower = No
    MinLODRequired = MEDIUM
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = MBResistance_A6
      Animation       = MBResistance_A6.MBResistance_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Dust01 BuildingDustChina
      ParticleSysBone = Smoke01 BuildUpSmokeChina
      ParticleSysBone = Smoke02 BuildUpSmokeChina
      ParticleSysBone = Smoke03 BuildUpSmokeChina
      ParticleSysBone = Smoke04 BuildUpSmokeChina
      ParticleSysBone = Smoke05 BuildUpSmokeChina
    End
    ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      Model           = MBResistance_A6
      Animation       = MBResistance_A6.MBResistance_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = Dust01 BuildingDustChina
      ParticleSysBone = Smoke01 BuildUpSmokeChina
      ParticleSysBone = Smoke02 BuildUpSmokeChina
      ParticleSysBone = Smoke03 BuildUpSmokeChina
      ParticleSysBone = Smoke04 BuildUpSmokeChina
      ParticleSysBone = Smoke05 BuildUpSmokeChina
    End
    ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      Model           = MBResistance_A6
      Animation       = MBResistance_A6.MBResistance_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = Dust01 BuildingSnowDust
      ParticleSysBone = Smoke01 BuildUpSnowSmoke
      ParticleSysBone = Smoke02 BuildUpSnowSmoke
      ParticleSysBone = Smoke03 BuildUpSnowSmoke
      ParticleSysBone = Smoke04 BuildUpSnowSmoke
      ParticleSysBone = Smoke05 BuildUpSnowSmoke
    End
    ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      Model           = MBResistance_A6
      Animation       = MBResistance_A6.MBResistance_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = Dust01 BuildingSnowDust
      ParticleSysBone = Smoke01 BuildUpSnowSmoke
      ParticleSysBone = Smoke02 BuildUpSnowSmoke
      ParticleSysBone = Smoke03 BuildUpSnowSmoke
      ParticleSysBone = Smoke04 BuildUpSnowSmoke
      ParticleSysBone = Smoke05 BuildUpSnowSmoke
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = MBResistance_A6
      Animation       = MBResistance_A6.MBResistance_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = MBResistance_A6
      Animation       = MBResistance_A6.MBResistance_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = MBResistance_A6
      Animation       = MBResistance_A6.MBResistance_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = MBResistance_A6
      Animation       = MBResistance_A6.MBResistance_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End 
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model            = MBResistance_A6
      Animation       = MBResistance_A6.MBResistance_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model            = MBResistance_A6
      Animation       = MBResistance_A6.MBResistance_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model            = MBResistance_A6
      Animation       = MBResistance_A6.MBResistance_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model            = MBResistance_A6
      Animation       = MBResistance_A6.MBResistance_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  PlacementViewAngle = 45

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:CivHQ
  Side                = Boss
  EditorSorting       = STRUCTURE
  Prerequisites
    Object = Boss_UkraineWarFactory
	Object = Boss_UkraineSupplyCenter
  End
  BuildCost = 50000
  BuildTime = 30
  EnergyProduction = 0
  ShroudClearingRange = 200
  MaxSimultaneousOfType = 1
  CommandSet = Boss_UkraineInternationalHeadquatersCommandSet
  ArmorSet
    Conditions        = None
    Armor             = StructureArmor
    DamageFX          = StructureDamageFXNoShake
  End

  ExperienceValue     = 200 200 200 200  ; Experience point value at each level
  ; *** AUDIO Parameters ***
  VoiceSelect = SupplyDropZoneSelect

  UnitSpecificSounds
    UnderConstruction     = UnderConstructionLoop
  End

  ; *** ENGINEERING Parameters ***
  KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE IMMUNE_TO_CAPTURE NO_COLLIDE AUTO_RALLYPOINT FS_FACTORY CONSERVATIVE_BUILDING MP_COUNT_FOR_VICTORY SCORE_CREATE
  RadarPriority       = STRUCTURE

  Body                = ActiveBody ModuleTag_04
    MaxHealth         = 1100.0
    InitialHealth     = 1100.0
  End

  ; Behavior = OCLUpdate ModuleTag_05 ; Context window is a reaction to this, no CommandSet
    ; MinDelay = 130000
    ; MaxDelay = 130000
    ; CreateAtEdge = No ; as opposed to just creating on self
    ; OCL = OCL_CivHQ
  ; End
  
  Behavior           = OCLSpecialPower ModuleTag_05
    SpecialPowerTemplate = SpecialPowerSpySatellite
    OCL                  = SUPERWEAPON_SpySatellite
    CreateLocation       = CREATE_AT_LOCATION
  End
  
  Behavior = DestroyDie ModuleTag_06
  End

  Behavior = DefaultProductionExitUpdate ModuleTag_0600
    UnitCreatePoint   = X: 22.979  Y:  0.958   Z:0.0
    NaturalRallyPoint = X: 34.683  Y:  0.958   Z:0.0;NaturalRallyPointX must always match GeometryMajorRadius! -ML
  End

  Behavior = PreorderCreate ModuleTag_PreorderCreate
  End


  Behavior = ProductionUpdate ModuleTag_05000
    ; nothing
  End

  Behavior = AIUpdateInterface ModuleTag_20
  End

  Behavior             = CreateObjectDie ModuleTag_08
    CreationList       = OCL_LargeStructureDebris
  End

  Behavior             = FlammableUpdate ModuleTag_09
    AflameDuration     = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 5       ; taking this much damage...
    AflameDamageDelay  = 500       ; this often.
  End
  Behavior                  = FXListDie ModuleTag_10
    DeathFX            = FX_StructureMediumDeath
  End
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End

  Behavior = TransitionDamageFX ModuleTag_31
    ;-------------DESIGNED FOR SMALL SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
  End
  Geometry            = BOX
  GeometryMajorRadius = 35.0
  GeometryMinorRadius = 32.0
  GeometryHeight      = 15.0
  GeometryIsSmall     = No
  Shadow              = SHADOW_VOLUME
End

;----------------------------------------------------------------------------------------------------------
Object Boss_UkraineDozer

  ; *** ART Parameters ***
  SelectPortrait         = SACDozer_L
  ButtonImage            = SACDozer

  Draw = W3DModelDraw ModuleTag_01
    ConditionState = NONE
      Model = CVCARGOBM
    End
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:LargeForklift
  Side = Boss
  EditorSorting   = VEHICLE
 
  TransportSlotCount  = 1                 ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions = None 
    Weapon = PRIMARY None
  End
  WeaponSet
    Conditions = MINE_CLEARING_DETAIL 
    Weapon = PRIMARY DozerMineDisarmingWeapon
  End

  ArmorSet
    Conditions        = None
    Armor             = DozerArmor
    DamageFX          = TankDamageFX
  End
  BuildCost       = 1000
  BuildTime       = 5.0          ;in seconds    
  VisionRange     = 200
  ShroudClearingRange = 200
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet          = UkraineDozerCommandSet

  
  ; *** AUDIO Parameters ***
  VoiceSelect         = DozerUSAVoiceSelect
  VoiceMove           = DozerUSAVoiceMove
  VoiceGuard          = DozerUSAVoiceMove
  VoiceTaskComplete   = DozerUSAVoiceBuildComplete
  SoundMoveStart      = DozerUSAMoveStart
  SoundMoveStartDamaged = DozerUSAMoveStart
  UnitSpecificSounds
    VoiceCreate           = DozerUSAVoiceCreate
    VoiceNoBuild          = DozerUSAVoiceBuildNot
    VoiceCrush            = DozerUSAVoiceCrush
    VoiceRepair           = DozerUSAVoiceRepair
    VoiceDisarm           = DozerUSAVoiceClearMine
    TruckLandingSound     = NoSound
    TruckPowerslideSound  = NoSound
    VoiceEnter            = DozerUSAVoiceMove
    VoiceBuildResponse    = DozerUSAVoiceBuild
  End


  ; *** ENGINEERING Parameters ***
  RadarPriority       = UNIT
  KindOf              = PRELOAD VEHICLE SCORE SELECTABLE CAN_CAST_REFLECTIONS DOZER
 
  Body                = ActiveBody ModuleTag_02
    MaxHealth         = 200.0
    InitialHealth     = 200.0
  End
  Behavior = DozerAIUpdate ModuleTag_03
    RepairHealthPercentPerSecond = 4%    ; % of max health to repair each second
    BoredTime                    = 5000  ; in milliseconds
    BoredRange                   = 150   ; when bored, we look this far away to do something
    ; the only "enemies" that workers can acquire are mines, to be disarmed...
    AutoAcquireEnemiesWhenIdle   = Yes
  End

  Locomotor = SET_NORMAL AmericaVehicleDozerLocomotor

  Behavior            = PhysicsBehavior ModuleTag_04
    Mass              = 35.0
  End
  Behavior = StealthDetectorUpdate ModuleTag_05
    DetectionRate         = 500   ; how often to rescan for stealthed things in my sight (msec)
    ;DetectionRange       = ??? ;Dustin, enable this for independant balancing!
    CanDetectWhileGarrisoned  = No ;Garrisoned means being in a structure that you units can shoot out of.
    CanDetectWhileContained   = No ;Contained means being in a transport or tunnel network.
    ExtraRequiredKindOf   = MINE  ; we can only detect MINES, not other stealthed things
  End
  Behavior                 = TransitionDamageFX ModuleTag_06
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End
  
  Behavior = CommandSetUpgrade ModuleTag_08
    TriggeredBy = Upgrade_ChinaWarFactoryupCommandSet
    RemovesUpgrades = Upgrade_ChinaWarFactorydownCommandSet
    CommandSet = UkraineDozerCommandSetTech
  End

  Behavior = CommandSetUpgrade ModuleTag_09
    TriggeredBy = Upgrade_ChinaWarFactorydownCommandSet
    RemovesUpgrades = Upgrade_ChinaWarFactoryupCommandSet Upgrade_ChinaWarFactorydownCommandSet
    CommandSet = UkraineDozerCommandSet
  End
  
  Behavior = ProductionUpdate ModuleTag_10
  End
  
  ; Catch fire, and explode death
  Behavior = SlowDeathBehavior ModuleTag_07
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier = 100
    DestructionDelay = 1500
    DestructionDelayVariance = 600
    FX  = INITIAL  FX_CrusaderCatchFire
    OCL = FINAL    OCL_AmericaDozerExplode  
    FX  = FINAL    FX_BattleMasterExplosionOneFinal
  End   
  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End
  ClientUpdate         = AnimatedParticleSysBoneClientUpdate ModuleTag_22
  End
  Behavior               = FXListDie ModuleTag_23
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX         = FX_CarCrush
  End
  Behavior = DestroyDie ModuleTag_24
    DeathTypes = NONE +CRUSHED +SPLATTED
  End
  Geometry            = BOX
  GeometryMajorRadius = 15.0
  GeometryMinorRadius = 10.0
  GeometryHeight      = 15.0     
  GeometryIsSmall     = Yes
  Shadow              = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length    
End


;------------------------------------------------------------------------------
Object Boss_UkraineVehicleUAZ

  ; *** ART Parameters ***
  SelectPortrait = SNRaider_L
  ButtonImage = SNRaider

  Draw = W3DTruckDraw ModuleTag_01
    ExtraPublicBone = CORE
    OkToChangeModelColor = Yes
    DefaultConditionState
      Model = CWCruUAZ
    End
    ConditionState = REALLYDAMAGED
      Model = CWCruUAZ_d
    End
    ConditionState = RUBBLE
      Model = CWCruUAZ_k
    End
    TrackMarks = EXTireTrack.tga
    Dust = RocketBuggyDust
    DirtSpray = RocketBuggyDirtSpray
    ; PowerslideSpray = RocketBuggyDirtPowerSlide doesn't powerslide
    ; These parameters are only used if the model has a separate suspension,
    ; and the locomotor has HasSuspension = Yes.
    LeftFrontTireBone = WHEEL01
    RightFrontTireBone = WHEEL02
    LeftRearTireBone = WHEEL03
    RightRearTireBone = WHEEL04
    TireRotationMultiplier = 0.2 ; this * speed = rotation.
    PowerslideRotationAddition = 0 ; This vehicle doesn't powerslide.
  End

  ;---------------------------------------
  ; The brakes kick in
  ;---------------------------------------
  Draw = W3DModelDraw ModuleTag_BrakeDraw
    IgnoreConditionStates = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED RUBBLE
    AttachToBoneInAnotherModule = CORE
    ParticlesAttachedToAnimatedBones = Yes
    OkToChangeModelColor = Yes
    ;day, no lights, only if I brake
    ConditionState = NONE
      Model = CWCruUAZ_l
      HideSubObject = HLIGHT01 HLIGHT02
      ParticleSysBone = BRAKE01 CWCgenRearLightBraking
      ParticleSysBone = BRAKE02 CWCgenRearLightBraking
    End
    ConditionState = MOVING
      Model = CWCruUAZ_l
      HideSubObject = HLIGHT01 HLIGHT02
    End
    ;night, I always have my lights on when I move, and they flash whenever I brake
    ConditionState = NIGHT
      Model = CWCruUAZ_l
      ParticleSysBone = BRAKE01 CWCgenRearLight
      ParticleSysBone = BRAKE02 CWCgenRearLight
      ShowSubObject = HLIGHT01 HLIGHT02
      ParticleSysBone = BRAKE01 CWCgenRearLightBraking
      ParticleSysBone = BRAKE02 CWCgenRearLightBraking
    End
    ConditionState = NIGHT MOVING
      Model = CWCruUAZ_l
      ParticleSysBone = BRAKE01 CWCgenRearLight
      ParticleSysBone = BRAKE02 CWCgenRearLight
      ShowSubObject = HLIGHT01 HLIGHT02
    End
    ;enemynear, hide those red lights!
    ConditionState = ENEMYNEAR
      Model = CWCruUAZ_l
      HideSubObject = HLIGHT01 HLIGHT02
    End
    AliasConditionState = MOVING ENEMYNEAR
    AliasConditionState = NIGHT ENEMYNEAR
    AliasConditionState = NIGHT MOVING ENEMYNEAR
  End

  ;---------------------------------------
  ; The rotating housecolors
  ;---------------------------------------
  ; Draw = W3DModelDraw ModuleTag_HousecolorDraw
    ; OkToChangeModelColor = Yes

    ; ConditionState = NONE
      ; Model = CWCruHC_B
      ; Animation = CWCruHC_B.CWCruHC_B
      ; AnimationMode = LOOP
      ; HideSubObject = HOUSECOLOR02
    ; End
    ; AliasConditionState = WEAPONSET_PLAYER_UPGRADE
    ; AliasConditionState = REALLYDAMAGED
    ; AliasConditionState = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
    ; AliasConditionState = RUBBLE
    ; AliasConditionState = WEAPONSET_PLAYER_UPGRADE RUBBLE
    ; AliasConditionState = ENEMYNEAR RUBBLE
    ; AliasConditionState = ENEMYNEAR WEAPONSET_PLAYER_UPGRADE RUBBLE

    ; ConditionState = ENEMYNEAR
      ; Model = CWCruHC_B
      ; Animation = CWCruHC_B.CWCruHC_B
      ; AnimationMode = LOOP
      ; ShowSubObject = HOUSECOLOR02
    ; End
    ; AliasConditionState = ENEMYNEAR WEAPONSET_PLAYER_UPGRADE
    ; AliasConditionState = ENEMYNEAR REALLYDAMAGED
    ; AliasConditionState = ENEMYNEAR WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
  ; End

  ; ***DESIGN parameters ***
  DisplayName = OBJECT:UAZ
  Side = Boss
  EditorSorting = VEHICLE
  TransportSlotCount = 3

  ArmorSet
    Conditions = None
    Armor = CWCruUAZArmor
    DamageFX = TruckDamageFX
  End
  
  WeaponSet 
    ;*** Fully automated and driven by the CleanupHazardUpdate ***
    Conditions        = None 
    Weapon            = PRIMARY AmbulanceCleanHazardWeapon 
    AutoChooseSources = PRIMARY NONE
  End

  BuildCost = 300
  BuildTime = 5.0 ;in seconds
  VisionRange = 150
  ShroudClearingRange = 175
  Prerequisites
    Object = Boss_UkraineWarFactory
  End

  ;CWCExpMarker: UAZ
  ExperienceValue = 800 1200 1600 2400 ;Experience point value at each level
  ExperienceRequired = 0 0 0 0 ;Experience points needed to gain each level
  IsTrainable = Yes ;Can gain experience

  CrusherLevel = 2 ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel = 2 ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  
  CommandSet = RussiaVehicleAmbulanceCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = CWCruUAZVoiceSelect
  VoiceMove = CWCruUAZVoiceMove
  VoiceGuard = CWCruUAZVoiceGuard
  VoiceAttack = CWCruUAZVoiceAttack
  SoundMoveLoop = CWCruUAZVehicleMoving
  SoundEnter = HumveeEnter
  SoundExit = HumveeExit
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate = CWCruUAZVoiceCreate
    VoiceCrush = CWCruUAZVoiceCrush
    VoiceUnload = CWCruUAZVoiceUnload
    VoiceEnter = CWCruUAZVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = CAN_CAST_REFLECTIONS DONT_AUTO_CRUSH_INFANTRY POWERED PRELOAD SCORE SELECTABLE TRANSPORT VEHICLE 

  Body = ActiveBody ModuleTag_02
    MaxHealth = 100.0
    InitialHealth = 100.0
  End

  Behavior = AssaultTransportAIUpdate ModuleTag_NewAI
    MembersGetHealedAtLifeRatio = 0.5
  End

  Locomotor = SET_NORMAL CWCruUAZLocomotor
  
  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 50.0
  End
  
  Behavior = CleanupHazardUpdate ModuleTag_03
    WeaponSlot            = PRIMARY
    ScanRate              = 1000
    ScanRange             = 100.0 ;If this range exceeds the AmbulanceCleanHazardWeapon AttackRange, it'll move!
  End

  ;Can be ordered to clean up a larger area with the ability to move around at an extended range.
  Behavior = CleanupAreaPower ModuleTag_04
    SpecialPowerTemplate          = SpecialAbilityAmbulanceCleanupArea
    MaxMoveDistanceFromLocation   = 300.0 ;allows the unit to move around while cleaning up
    InitiateSound = CWCruUAZVoiceGuard
  End
  
  Behavior = TransportContain ModuleTag_06
    Slots = 4
    ;InitialPayload = CWCruInfAssault 2
    ScatterNearbyOnExit = No
    HealthRegen%PerSec = 10
    DamagePercentToUnits = 50%
    AllowInsideKindOf = INFANTRY
    ExitDelay = 250
    NumberOfExitPaths = 2 ; Defaults to 1.  Set 0 to not use ExitStart/ExitEnd, set higher than 1 to use ExitStart01-nn/ExitEnd01-nn
    GoAggressiveOnExit = Yes ; AI Will tell people to set their mood to Aggressive on exiting
    DestroyRidersWhoAreNotFreeToExit = Yes
  End

  ; Behavior = EnemyNearUpdate ModuleTag_Housecolor
    ; ;nothing
  ; End
  
  Behavior = AutoHealBehavior ModuleTag_07
    HealingAmount     = 4
    HealingDelay      = 1000 ; msec
    Radius            = 100.0f
    StartsActive      = Yes
    KindOf            = INFANTRY
  End

  Behavior = FireWeaponUpdate ModuleTag_08
    Weapon = MedicPulse
    ExclusiveWeaponDelay = 100
  End

  Behavior = StealthDetectorUpdate ModuleTag_DetectStealth_Vehicle01
    CanDetectWhileContained = No ; this is a vehicle ; Can the object detect stealth objects when it is inside an object?
    CanDetectWhileGarrisoned = No ; this is a vehicle ; Can the object detect stealth objects when it is inside an object with a GarrisonContain module?
    DetectionRange = 75 ; 1/2 its visionrange ; The maximum distance that the object can detect enemy stealthed obejcts. Defaults to the object's VisionRange.
    DetectionRate = 1000 ; The time between scanning for stealthed objects.
    ExtraRequiredKindOf = INFANTRY
    ExtraForbiddenKindOf = BOAT
    InitiallyDisabled = No ; Does the detector start off in a disabled state?
  End

; --- begin Death modules ---
  Behavior = TransitionDamageFX ModuleTag_Death01
    DamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenTankDeathSmokeDamaged
    DamagedFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDamageTransition
    ;
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenTankDeathSmokeReallyDamaged
    ReallyDamagedFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDamageTransition
    ;
    RubbleParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenTankDeathSmokeRubble
    RubbleFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDamageTransition
    RubbleFXList2 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDeathRubble1
  End
  Behavior = SlowDeathBehavior ModuleTag_Death02
    DestructionDelay = 18000
    FX = MIDPOINT FX_CWCgenTankDeathRubble2
    ;OCL = MIDPOINT OCL_CWCgenTankDeathTrails
    SinkDelay = 15000
    SinkRate = 4.0
  End
; --- end Death modules ---

  Geometry = BOX
  GeometryMajorRadius = 22.0
  GeometryMinorRadius = 9.0
  GeometryHeight = 13.0
  GeometryIsSmall = No
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45 ; minimum elevation angle above horizon. Used to limit shadow length
  Scale = 1.15
End

;------------------------------------------------------------------------------
Object Boss_UkraineTankT64

  ; *** ART Parameters ***
  SelectPortrait = SACrusader3
  ButtonImage = SACrusader3

  Draw = W3DTankDraw ModuleTag_01
    OkToChangeModelColor = Yes
    ParticlesAttachedToAnimatedBones = Yes
    ExtraPublicBone = CORE
    InitialRecoilSpeed = 120
    MaxRecoilDistance = 3
    RecoilSettleSpeed = 12
    DefaultConditionState
      Model = CWCruT64
      Turret = Turret01
      TurretPitch = Turretel01
      WeaponFireFXBone = PRIMARY MUZZLE
      WeaponLaunchBone = PRIMARY MUZZLE
      WeaponRecoilBone = PRIMARY BARREL
      WeaponFireFXBone = SECONDARY MG
      WeaponLaunchBone = SECONDARY MG
    End
    ConditionState = RELOADING_A
      Model = CWCruT64
      ParticleSysBone = MUZZLE01 CWCgenArtMuzzleFlashBarrelSmoke
    End
    ConditionState = REALLYDAMAGED
      Model = CWCruT64_d
    End
    ConditionState = RELOADING_A REALLYDAMAGED
      Model = CWCruT64_d
      ParticleSysBone = MUZZLE01 CWCgenArtMuzzleFlashBarrelSmoke
    End
    ConditionState = RUBBLE
      Model = CWCruT64_k
    End
    TrackMarks = EXTnkTrack.tga
    TreadAnimationRate = 0.75;  amount of tread texture to move per second
    TreadDriveSpeedFraction = 0.3 ; fraction of locomotor speed below which treads stop moving.
    TreadPivotSpeedFraction = 0.6 ; fraction of locomotor speed below which we allow pivoting.
  End

  ;---------------------------------------
  ; The brakes kick in
  ;---------------------------------------
  Draw = W3DModelDraw ModuleTag_BrakeDraw
    IgnoreConditionStates = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED RUBBLE
    AttachToBoneInAnotherModule = CORE
    ParticlesAttachedToAnimatedBones = Yes
    OkToChangeModelColor = Yes
    ;day, no lights, only if I brake
    ConditionState = NONE
      Model = CWCruT64_l
      HideSubObject = HLIGHT01 HLIGHT02
      ParticleSysBone = BRAKE01 CWCgenRearLightBraking
      ParticleSysBone = BRAKE02 CWCgenRearLightBraking
    End
    ConditionState = MOVING
      Model = CWCruT64_l
      HideSubObject = HLIGHT01 HLIGHT02
    End
    ;night, I always have my lights on when I move, and they flash whenever I brake
    ConditionState = NIGHT
      Model = CWCruT64_l
      ParticleSysBone = BRAKE01 CWCgenRearLight
      ParticleSysBone = BRAKE02 CWCgenRearLight
      ShowSubObject = HLIGHT01 HLIGHT02
      ParticleSysBone = BRAKE01 CWCgenRearLightBraking
      ParticleSysBone = BRAKE02 CWCgenRearLightBraking
    End
    ConditionState = NIGHT MOVING
      Model = CWCruT64_l
      ParticleSysBone = BRAKE01 CWCgenRearLight
      ParticleSysBone = BRAKE02 CWCgenRearLight
      ShowSubObject = HLIGHT01 HLIGHT02
    End
    ;enemynear, hide those red lights!
    ConditionState = ENEMYNEAR
      Model = CWCruT64_l
      HideSubObject = HLIGHT01 HLIGHT02
    End
    AliasConditionState = MOVING ENEMYNEAR
    AliasConditionState = NIGHT ENEMYNEAR
    AliasConditionState = NIGHT MOVING ENEMYNEAR
  End

  ;---------------------------------------
  ; The animated tank tracks
  ;---------------------------------------
  Draw = W3DTruckDraw ModuleTag_TracksDraw
    AttachToBoneInAnotherModule = CORE
    OkToChangeModelColor = Yes
    ParticlesAttachedToAnimatedBones = Yes
    DefaultConditionState
      Model = CWCruT64_t
    End
    ; These parameters are only used if the model has a separate suspension,
    ; and the locomotor has HasSuspension = Yes.
    RightFrontTireBone = TIRE01
    LeftFrontTireBone = TIRE02
    MidRightFrontTireBone = TIRE03
    MidLeftFrontTireBone = TIRE04
    MidRightMidTireBone = TIRE05
    MidLeftMidTireBone = TIRE06
    MidLeftRearTireBone = TIRE07
    MidRightRearTireBone = TIRE08
    RightRearTireBone = TIRE09
    LeftRearTireBone = TIRE10
    TireRotationMultiplier = 0.4 ; this * speed = rotation.
  End

  ;---------------------------------------
  ; The rotating housecolors
  ;---------------------------------------
  ; Draw = W3DModelDraw ModuleTag_HousecolorDraw
    ; OkToChangeModelColor = Yes

    ; ConditionState = NONE
      ; Model = CWCruHC_B
      ; Animation = CWCruHC_B.CWCruHC_B
      ; AnimationMode = LOOP
      ; HideSubObject = HOUSECOLOR02
    ; End
    ; AliasConditionState = WEAPONSET_PLAYER_UPGRADE
    ; AliasConditionState = REALLYDAMAGED
    ; AliasConditionState = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
    ; AliasConditionState = RUBBLE
    ; AliasConditionState = WEAPONSET_PLAYER_UPGRADE RUBBLE
    ; AliasConditionState = ENEMYNEAR RUBBLE
    ; AliasConditionState = ENEMYNEAR WEAPONSET_PLAYER_UPGRADE RUBBLE

    ; ConditionState = ENEMYNEAR
      ; Model = CWCruHC_B
      ; Animation = CWCruHC_B.CWCruHC_B
      ; AnimationMode = LOOP
      ; ShowSubObject = HOUSECOLOR02
    ; End
    ; AliasConditionState = ENEMYNEAR WEAPONSET_PLAYER_UPGRADE
    ; AliasConditionState = ENEMYNEAR REALLYDAMAGED
    ; AliasConditionState = ENEMYNEAR WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
  ; End

  ; ***DESIGN parameters ***
  DisplayName = OBJECT:T64
  Side = Boss
  EditorSorting = VEHICLE
  TransportSlotCount = 4 ;how many "slots" we take in a transport (0 == not transportable)

  WeaponSet
    Conditions = None
    Weapon             = PRIMARY   RhinoTankGun
    AutoChooseSources  = PRIMARY   FROM_PLAYER FROM_SCRIPT FROM_AI
    PreferredAgainst   = PRIMARY VEHICLE STRUCTURE
    Weapon             = SECONDARY M1A2TankMachineGun
    AutoChooseSources  = SECONDARY FROM_PLAYER FROM_SCRIPT FROM_AI
    PreferredAgainst   = SECONDARY INFANTRY
    Weapon             = TERTIARY  T64MissileWeapon
    AutoChooseSources  = TERTIARY  FROM_PLAYER FROM_SCRIPT FROM_AI
    PreferredAgainst   = TERTIARY VEHICLE STRUCTURE
  End

  ArmorSet
    Conditions = None
    Armor = TankArmor
    DamageFX = TankDamageFX
  End

  BuildCost = 2000
  BuildTime = 10.0 ;in seconds

  VisionRange = 200
  ShroudClearingRange = 200
  Prerequisites
    Object = Boss_UkraineWarFactory
  End

  ;CWCExpMarker: T-64
  ExperienceValue = 1000 1500 2000 3000 ;Experience point value at each level
  ExperienceRequired = 0 1420 2840 4970 ;Experience points needed to gain each level
  IsTrainable = Yes ;Can gain experience

  CrusherLevel = 2 ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel = 2 ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = Boss_SovietTankT64CommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = CWCruT64VoiceSelect
  VoiceMove = CWCruT64VoiceMove
  VoiceGuard = CWCruT64VoiceGuard
  VoiceAttack = CWCruT64VoiceAttack
  SoundMoveLoop = CWCgenOldTreadsMoving
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate = CWCruT64VoiceCreate
    TurretMoveLoop = CWCruTSeriesTurretServo
    VoiceCrush = CWCruT64VoiceCrush
    VoiceEnter = CWCruT64VoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = ATTACK_NEEDS_LINE_OF_SIGHT CAN_ATTACK CAN_CAST_REFLECTIONS DONT_AUTO_CRUSH_INFANTRY POWERED PRELOAD SCORE SELECTABLE VEHICLE 

  Body = ActiveBody ModuleTag_02
    MaxHealth = 1000.0
    InitialHealth = 1000.0
  End

  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      TurretTurnRate = 40 ; turn rate, in degrees per sec
      TurretPitchRate = 40
      MinPhysicalPitch = -5
      AllowsPitch = Yes
      ControlledWeaponSlots = PRIMARY SECONDARY
      MinIdleScanAngle = 0 ; in degrees off the natural turret angle
      MaxIdleScanAngle = 45 ; in degrees off the natural turret angle
      MinIdleScanInterval = 10000 ; in milliseconds
      MaxIdleScanInterval = 20000 ; in milliseconds
    End
    AutoAcquireEnemiesWhenIdle = Yes
  End

  Locomotor = SET_NORMAL RhinoTankLocomotor

  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 50.0
  End

  ; Behavior = EnemyNearUpdate ModuleTag_Housecolor
    ; ;nothing
  ; End

  Behavior = StealthDetectorUpdate ModuleTag_DetectStealth_Vehicle01
    CanDetectWhileContained = No ; this is a vehicle ; Can the object detect stealth objects when it is inside an object?
    CanDetectWhileGarrisoned = No ; this is a vehicle ; Can the object detect stealth objects when it is inside an object with a GarrisonContain module?
    DetectionRange = 50 ; 1/2 its visionrange ; The maximum distance that the object can detect enemy stealthed obejcts. Defaults to the object's VisionRange.
    DetectionRate = 1000 ; The time between scanning for stealthed objects.
    ExtraRequiredKindOf = INFANTRY
    ExtraForbiddenKindOf = BOAT
    InitiallyDisabled = No ; Does the detector start off in a disabled state?
  End

; --- begin Death modules ---
  Behavior = TransitionDamageFX ModuleTag_Death01
    DamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenTankDeathSmokeDamaged
    DamagedFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDamageTransition
    ;
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenTankDeathSmokeReallyDamaged
    ReallyDamagedFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDamageTransition
    ;
    RubbleParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenTankDeathSmokeRubble
    RubbleFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDamageTransition
    RubbleFXList2 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDeathRubble1
  End
  Behavior = SlowDeathBehavior ModuleTag_Death02
    DestructionDelay = 18000
    FX = MIDPOINT FX_CWCgenTankDeathRubble2
    ;OCL = MIDPOINT OCL_CWCgenTankDeathTrails
    SinkDelay = 15000
    SinkRate = 4.0
  End
; --- end Death modules ---

  ClientUpdate = AnimatedParticleSysBoneClientUpdate ModuleTag_Client01
  End

  Geometry = BOX
  GeometryMajorRadius = 15.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 10.0
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45 ; minimum elevation angle above horizon. Used to limit shadow length
  Scale = 1.1
End

;------------------------------------------------------------------------------
Object Boss_UkraineTankT72

  ; *** ART Parameters ***
  SelectPortrait = KingCrusader_L
  ButtonImage = KingCrusader

  Draw = W3DTankDraw ModuleTag_01
    OkToChangeModelColor = Yes
    ParticlesAttachedToAnimatedBones = Yes
    ExtraPublicBone = CORE
    ExtraPublicBone = MG
    InitialRecoilSpeed = 120
    MaxRecoilDistance = 3
    RecoilSettleSpeed = 12    
    DefaultConditionState
      Model = CWCruT72
      Turret = Turret01
      TurretPitch = TURRETEL01
      WeaponFireFXBone = PRIMARY MUZZLE
      WeaponRecoilBone = PRIMARY BARREL
      WeaponLaunchBone = PRIMARY MUZZLE
      WeaponFireFXBone = SECONDARY MG
      WeaponLaunchBone = SECONDARY MG
    End
    ConditionState = RELOADING_A
      Model = CWCruT72
      ParticleSysBone = MUZZLE01 CWCgenArtMuzzleFlashBarrelSmoke
    End
    ConditionState = REALLYDAMAGED
      Model = CWCruT72_d
    End
    ConditionState = RELOADING_A REALLYDAMAGED
      Model = CWCruT72_d
      ParticleSysBone = MUZZLE01 CWCgenArtMuzzleFlashBarrelSmoke
    End
    ConditionState = RUBBLE
      Model = CWCruT72_k
    End
    TrackMarks = EXTnkTrack.tga
    ;TreadAnimationRate = 0.75;  amount of tread texture to move per second
    ;TreadDriveSpeedFraction = 0.3 ; fraction of locomotor speed below which treads stop moving.
    ;TreadPivotSpeedFraction = 0.6 ; fraction of locomotor speed below which we allow pivoting.

  End

  ;---------------------------------------
  ; The plow is purchased
  ;---------------------------------------
  ; Draw = W3DModelDraw ModuleTag_PlowDraw

    ; AttachToBoneInAnotherModule = CORE
    ; ParticlesAttachedToAnimatedBones = Yes
    ; OkToChangeModelColor = Yes
    ; ConditionState = NONE
      ; Model = None
    ; End
    ; AliasConditionState = MOVING
    ; AliasConditionState = REALLYDAMAGED
    ; AliasConditionState = MOVING REALLYDAMAGED
    ; AliasConditionState = RUBBLE
    ; AliasConditionState = RUBBLE MOVING
    ; ConditionState = USER_1
      ; Model = CWCruT72_p
    ; End

    ; ConditionState = USER_1 MOVING
      ; Model = CWCruT72_p
      ; ParticleSysBone = PLOUGHFX01 CWCgenMinePloughDirtFallLeft
      ; ParticleSysBone = PLOUGHFX02 CWCgenMinePloughDirtFallRight
    ; End

    ; ConditionState = USER_1 REALLYDAMAGED
      ; Model = CWCruT72_p_d
    ; End

    ; ConditionState = USER_1 MOVING REALLYDAMAGED
      ; Model = CWCruT72_p_d
      ; ParticleSysBone = PLOUGHFX01 CWCgenMinePloughDirtFallLeft
      ; ParticleSysBone = PLOUGHFX02 CWCgenMinePloughDirtFallRight
    ; End
    ; ConditionState = USER_1 RUBBLE
      ; Model = CWCruT72_p_k
    ; End
    ; AliasConditionState = USER_1 RUBBLE MOVING
  ; End
  ;---------------------------------------
  ; The brakes kick in
  ;---------------------------------------
  Draw = W3DModelDraw ModuleTag_BrakeDraw
    IgnoreConditionStates = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED RUBBLE
    AttachToBoneInAnotherModule = CORE
    ParticlesAttachedToAnimatedBones = Yes
    OkToChangeModelColor = Yes
    ;day, no lights, only if I brake
    ConditionState = NONE
      Model = CWCruT72_l
      HideSubObject = HLIGHT01 HLIGHT02
      ParticleSysBone = BRAKE01 CWCgenRearLightBraking
      ParticleSysBone = BRAKE02 CWCgenRearLightBraking
    End
    ConditionState = MOVING
      Model = CWCruT72_l
      HideSubObject = HLIGHT01 HLIGHT02
    End
    ;night, I always have my lights on when I move, and they flash whenever I brake
    ConditionState = NIGHT
      Model = CWCruT72_l
      ParticleSysBone = BRAKE01 CWCgenRearLight
      ParticleSysBone = BRAKE02 CWCgenRearLight
      ShowSubObject = HLIGHT01 HLIGHT02
      ParticleSysBone = BRAKE01 CWCgenRearLightBraking
      ParticleSysBone = BRAKE02 CWCgenRearLightBraking
    End
    ConditionState = NIGHT MOVING
      Model = CWCruT72_l
      ParticleSysBone = BRAKE01 CWCgenRearLight
      ParticleSysBone = BRAKE02 CWCgenRearLight
      ShowSubObject = HLIGHT01 HLIGHT02
    End
    ;enemynear, hide those red lights!
    ConditionState = ENEMYNEAR
      Model = CWCruT72_l
      HideSubObject = HLIGHT01 HLIGHT02
    End
    AliasConditionState = MOVING ENEMYNEAR
    AliasConditionState = NIGHT ENEMYNEAR
    AliasConditionState = NIGHT MOVING ENEMYNEAR
  End

  ;---------------------------------------
  Draw = W3DTruckDraw ModuleTag_TracksDraw
    OkToChangeModelColor = Yes
    ParticlesAttachedToAnimatedBones = Yes
    AttachToBoneInAnotherModule = CORE
    DefaultConditionState
      Model = CWCruT72_t
    End

    ; These parameters are only used if the model has a separate suspension,
    ; and the locomotor has HasSuspension = Yes.

    RightFrontTireBone = TIRE01
    LeftFrontTireBone = TIRE02
    MidRightFrontTireBone = TIRE03
    MidLeftFrontTireBone = TIRE04
    MidRightMidTireBone = TIRE05
    MidLeftMidTireBone = TIRE06
    MidRightRearTireBone = TIRE07
    MidLeftRearTireBone = TIRE08
    TireRotationMultiplier = 0.4 ; this * speed = rotation.

  End

  ;---------------------------------------
  ; The rotating housecolors
  ;---------------------------------------
  ; Draw = W3DModelDraw ModuleTag_HousecolorDraw
    ; OkToChangeModelColor = Yes

    ; ConditionState = NONE
      ; Model = CWCruHC_B
      ; Animation = CWCruHC_B.CWCruHC_B
      ; AnimationMode = LOOP
      ; HideSubObject = HOUSECOLOR02
    ; End
    ; AliasConditionState = WEAPONSET_PLAYER_UPGRADE
    ; AliasConditionState = REALLYDAMAGED
    ; AliasConditionState = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
    ; AliasConditionState = RUBBLE
    ; AliasConditionState = WEAPONSET_PLAYER_UPGRADE RUBBLE
    ; AliasConditionState = ENEMYNEAR RUBBLE
    ; AliasConditionState = ENEMYNEAR WEAPONSET_PLAYER_UPGRADE RUBBLE

    ; ConditionState = ENEMYNEAR
      ; Model = CWCruHC_B
      ; Animation = CWCruHC_B.CWCruHC_B
      ; AnimationMode = LOOP
      ; ShowSubObject = HOUSECOLOR02
    ; End
    ; AliasConditionState = ENEMYNEAR WEAPONSET_PLAYER_UPGRADE
    ; AliasConditionState = ENEMYNEAR REALLYDAMAGED
    ; AliasConditionState = ENEMYNEAR WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
  ; End

  ; ***DESIGN parameters ***
  DisplayName = OBJECT:T72
  Side = Boss
  EditorSorting = VEHICLE
  TransportSlotCount = 4 ;how many "slots" we take in a transport (0 == not transportable)

  WeaponSet
    Conditions = None
    Weapon           = PRIMARY   T-80TankGun
    Weapon           = SECONDARY T-80MachineGun
    PreferredAgainst = SECONDARY INFANTRY
	AutoChooseSources = SECONDARY FROM_PLAYER FROM_SCRIPT FROM_AI
	Weapon           = TERTIARY  None
  End

  ArmorSet
    Conditions = None
    Armor = TankArmor
    DamageFX = TankDamageFX
  End

  BuildCost = 2500
  BuildTime = 25.0 ;in seconds

  VisionRange = 200
  ShroudClearingRange = 200
  Prerequisites
    Object = Boss_UkraineWarFactory
  End

  ;CWCExpMarker: T-72
  ExperienceValue = 800 1200 1600 2400 ;Experience point value at each level
  ExperienceRequired = 0 1065 2130 3728 ;Experience points needed to gain each level
  IsTrainable = Yes ;Can gain experience

  CrusherLevel = 2 ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel = 2 ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = GLATankMarauderCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = CWCruT72VoiceSelect
  VoiceMove = CWCruT72VoiceMove
  VoiceGuard = CWCruT72VoiceGuard
  VoiceAttack = CWCruT72VoiceAttack
  SoundMoveLoop = CWCgenOldTreadsMoving
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate = CWCruT72VoiceCreate
    TurretMoveLoop = CWCruTSeriesTurretServo
    VoiceCrush = CWCruT72VoiceCrush
    VoiceEnter = CWCruT72VoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = ATTACK_NEEDS_LINE_OF_SIGHT CAN_ATTACK CAN_CAST_REFLECTIONS DONT_AUTO_CRUSH_INFANTRY POWERED PRELOAD SCORE SELECTABLE VEHICLE 

  Body = ActiveBody ModuleTag_02
    MaxHealth = 950.0
    InitialHealth = 950.0
  End

  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      TurretTurnRate = 40 ; turn rate, in degrees per sec
      TurretPitchRate = 40
      MinPhysicalPitch = -5
      AllowsPitch = Yes
      ControlledWeaponSlots = PRIMARY SECONDARY
      MinIdleScanAngle = 0 ; in degrees off the natural turret angle
      MaxIdleScanAngle = 45 ; in degrees off the natural turret angle
      MinIdleScanInterval = 10000 ; in milliseconds
      MaxIdleScanInterval = 20000 ; in milliseconds
    End
    AutoAcquireEnemiesWhenIdle = Yes
  End

  Locomotor = SET_NORMAL MarauderLocomotor

  ; Behavior = ArmorUpgrade ModuleTag_Armor02
    ; TriggeredBy = Upgrade_CWCruT72_Plough
  ; End

  ; Behavior = ModelConditionUpgrade ModuleTag_Armor03
    ; ConditionFlag = USER_1
    ; TriggeredBy = Upgrade_CWCruT72_Plough
  ; End

  ; Behavior = ProductionUpdate ModuleTag_Armor04
    ; ;nothing
  ; End

  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 50.0
  End

  ; Behavior = EnemyNearUpdate ModuleTag_Housecolor
    ; ;nothing
  ; End

  Behavior = StealthDetectorUpdate ModuleTag_DetectStealth_Vehicle01
    CanDetectWhileContained = No ; this is a vehicle ; Can the object detect stealth objects when it is inside an object?
    CanDetectWhileGarrisoned = No ; this is a vehicle ; Can the object detect stealth objects when it is inside an object with a GarrisonContain module?
    DetectionRange = 50 ; 1/2 its visionrange ; The maximum distance that the object can detect enemy stealthed obejcts. Defaults to the object's VisionRange.
    DetectionRate = 1000 ; The time between scanning for stealthed objects.
    ExtraRequiredKindOf = INFANTRY
    ExtraForbiddenKindOf = BOAT
    InitiallyDisabled = No ; Does the detector start off in a disabled state?
  End

; --- begin Death modules ---
  Behavior = TransitionDamageFX ModuleTag_Death01
    DamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenTankDeathSmokeDamaged
    DamagedFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDamageTransition
    ;
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenTankDeathSmokeReallyDamaged
    ReallyDamagedFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDamageTransition
    ;
    RubbleParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenTankDeathSmokeRubble
    RubbleFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDamageTransition
    RubbleFXList2 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDeathRubble1
  End
  Behavior = SlowDeathBehavior ModuleTag_Death02
    DestructionDelay = 18000
    FX = MIDPOINT FX_CWCgenTankDeathRubble2
    ;OCL = MIDPOINT OCL_CWCgenTankDeathTrails
    SinkDelay = 15000
    SinkRate = 4.0
    ProbabilityModifier = 75
  End
  Behavior = SlowDeathBehavior ModuleTag_Death03
    DestructionDelay = 1
    ;OCL = MIDPOINT OCL_CWCgenTankDeathTrails
    OCL = FINAL OCL_CWCruT72_k
    ProbabilityModifier = 25
    ModifierBonusPerOverkillPercent = 50%
  End  
; --- end Death modules ---

  ClientUpdate = AnimatedParticleSysBoneClientUpdate ModuleTag_Client01
  End

  Geometry = BOX
  GeometryMajorRadius = 15.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 10.0
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45 ; minimum elevation angle above horizon. Used to limit shadow length
  Scale = 1.1
End

;------------------------------------------------------------------------------
Object Boss_SovietTankT80

  ; *** ART Parameters ***
  SelectPortrait = SAPaladin_L
  ButtonImage = SAPaladin

  UpgradeCameo1 = Upgrade_GLAScorpionRocket

  Draw = W3DOverlordTankDraw ModuleTag_01
    ExtraPublicBone = CORE
    OkToChangeModelColor = Yes
    ParticlesAttachedToAnimatedBones = Yes
    InitialRecoilSpeed = 120
    MaxRecoilDistance = 3
    RecoilSettleSpeed = 12
    DefaultConditionState
      Model = CWCruT80BV
      Turret = Turret01
      TurretPitch = Turretel
      WeaponFireFXBone = PRIMARY MUZZLE
      WeaponLaunchBone = PRIMARY MUZZLE
      WeaponRecoilBone = PRIMARY BARREL
      WeaponFireFXBone = SECONDARY MUZZLE
      WeaponLaunchBone = SECONDARY MUZZLE
      WeaponFireFXBone = TERTIARY MG
      WeaponLaunchBone = TERTIARY MG
    End
    ConditionState = RELOADING_A
      Model = CWCruT80BV
      ParticleSysBone = MUZZLE01 CWCgenArtMuzzleFlashBarrelSmoke
    End
    ConditionState = REALLYDAMAGED
      Model = CWCruT80BV_d
    End
    ConditionState = RELOADING_A REALLYDAMAGED
      Model = CWCruT80BV_d
      ParticleSysBone = MUZZLE01 CWCgenArtMuzzleFlashBarrelSmoke
    End
    ConditionState = RUBBLE
      Model = CWCruT80BV_k
    End
    TrackMarks = EXTnkTrack.tga
    TreadAnimationRate = 0.75;  amount of tread texture to move per second
    TreadDriveSpeedFraction = 0.3 ; fraction of locomotor speed below which treads stop moving.
    TreadPivotSpeedFraction = 0.6 ; fraction of locomotor speed below which we allow pivoting.
  End

  ;---------------------------------------
  ; The brakes kick in
  ;---------------------------------------
  Draw = W3DModelDraw ModuleTag_BrakeDraw
    IgnoreConditionStates = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED RUBBLE
    AttachToBoneInAnotherModule = CORE
    ParticlesAttachedToAnimatedBones = Yes
    OkToChangeModelColor = Yes
    ;day, no lights, only if I brake
    ConditionState = NONE
      Model = CWCruT80BV_l
      HideSubObject = HLIGHT01 HLIGHT02
      ParticleSysBone = BRAKE01 CWCgenRearLightBraking
      ParticleSysBone = BRAKE02 CWCgenRearLightBraking
    End
    ConditionState = MOVING
      Model = CWCruT80BV_l
      HideSubObject = HLIGHT01 HLIGHT02
    End
    ;night, I always have my lights on when I move, and they flash whenever I brake
    ConditionState = NIGHT
      Model = CWCruT80BV_l
      ParticleSysBone = BRAKE01 CWCgenRearLight
      ParticleSysBone = BRAKE02 CWCgenRearLight
      ShowSubObject = HLIGHT01 HLIGHT02
      ParticleSysBone = BRAKE01 CWCgenRearLightBraking
      ParticleSysBone = BRAKE02 CWCgenRearLightBraking
    End
    ConditionState = NIGHT MOVING
      Model = CWCruT80BV_l
      ParticleSysBone = BRAKE01 CWCgenRearLight
      ParticleSysBone = BRAKE02 CWCgenRearLight
      ShowSubObject = HLIGHT01 HLIGHT02
    End
    ;enemynear, hide those red lights!
    ConditionState = ENEMYNEAR
      Model = CWCruT80BV_l
      HideSubObject = HLIGHT01 HLIGHT02
    End
    AliasConditionState = MOVING ENEMYNEAR
    AliasConditionState = NIGHT ENEMYNEAR
    AliasConditionState = NIGHT MOVING ENEMYNEAR
  End

  ;---------------------------------------
  Draw = W3DTruckDraw ModuleTag_TracksDraw
    OkToChangeModelColor = Yes
    ParticlesAttachedToAnimatedBones = Yes
    AttachToBoneInAnotherModule = CORE
    DefaultConditionState
      Model = CWCruT80BV_t
    End
    ; These parameters are only used if the model has a separate suspension,
    ; and the locomotor has HasSuspension = Yes.
    RightFrontTireBone = TIRE01
    LeftFrontTireBone = TIRE02
    MidRightFrontTireBone = TIRE03
    MidLeftFrontTireBone = TIRE04
    MidRightMidTireBone = TIRE05
    MidLeftMidTireBone = TIRE06
    MidLeftRearTireBone = TIRE07
    MidRightRearTireBone = TIRE08
    TireRotationMultiplier = 0.4 ; this * speed = rotation.
  End

  ;---------------------------------------
  ; The rotating housecolors
  ;---------------------------------------
  ; Draw = W3DModelDraw ModuleTag_HousecolorDraw
    ; OkToChangeModelColor = Yes

    ; ConditionState = NONE
      ; Model = CWCruHC_B
      ; Animation = CWCruHC_B.CWCruHC_B
      ; AnimationMode = LOOP
      ; HideSubObject = HOUSECOLOR02
    ; End
    ; AliasConditionState = WEAPONSET_PLAYER_UPGRADE
    ; AliasConditionState = REALLYDAMAGED
    ; AliasConditionState = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
    ; AliasConditionState = RUBBLE
    ; AliasConditionState = WEAPONSET_PLAYER_UPGRADE RUBBLE
    ; AliasConditionState = ENEMYNEAR RUBBLE
    ; AliasConditionState = ENEMYNEAR WEAPONSET_PLAYER_UPGRADE RUBBLE

    ; ConditionState = ENEMYNEAR
      ; Model = CWCruHC_B
      ; Animation = CWCruHC_B.CWCruHC_B
      ; AnimationMode = LOOP
      ; ShowSubObject = HOUSECOLOR02
    ; End
    ; AliasConditionState = ENEMYNEAR WEAPONSET_PLAYER_UPGRADE
    ; AliasConditionState = ENEMYNEAR REALLYDAMAGED
    ; AliasConditionState = ENEMYNEAR WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
  ; End

  ; ***DESIGN parameters ***
  DisplayName = OBJECT:T80
  Side = Boss
  EditorSorting = VEHICLE
  TransportSlotCount = 6 ;how many "slots" we take in a transport (0 == not transportable)

  WeaponSet
    Conditions = None
    Weapon           = PRIMARY  T-80TankGun
	PreferredAgainst = PRIMARY VEHICLE STRUCTURE
	AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
    Weapon           = SECONDARY T-80MachineGun
    PreferredAgainst = SECONDARY INFANTRY
	AutoChooseSources = SECONDARY FROM_PLAYER FROM_SCRIPT FROM_AI
  End

  WeaponSet
    Conditions       = PLAYER_UPGRADE 
    Weapon           = PRIMARY   T-80TankGun
	PreferredAgainst = PRIMARY VEHICLE STRUCTURE
    Weapon           = SECONDARY T-80MachineGun
    PreferredAgainst = SECONDARY INFANTRY
	AutoChooseSources = SECONDARY FROM_PLAYER FROM_SCRIPT FROM_AI
    Weapon           = TERTIARY ScorpionMissileWeapon
	PreferredAgainst = TERTIARY VEHICLE STRUCTURE
	AutoChooseSources = TERTIARY FROM_PLAYER FROM_SCRIPT FROM_AI
  End

  ArmorSet
    Conditions = None
    Armor = TankArmor
    DamageFX = TankDamageFX
  End

  BuildCost = 5000
  BuildTime = 15.0 ;in seconds

  VisionRange = 200
  ShroudClearingRange = 200
  Prerequisites
    Object = Boss_WarFactory Boss_SmallFactory
  End

  ;CWCExpMarker: T-80BV
  ExperienceValue = 1400 2100 2800 4200 ;Experience point value at each level
  ExperienceRequired = 0 1775 3550 6213 ;Experience points needed to gain each level
  IsTrainable = Yes ;Can gain experience

  CrusherLevel = 2 ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel = 2 ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = GLATankMarauderCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = CWCruT80BVVoiceSelect
  VoiceMove = CWCruT80BVVoiceMove
  VoiceGuard = CWCruT80BVVoiceGuard
  VoiceAttack = CWCruT80BVVoiceAttack
  SoundMoveLoop = CWCgenT80SeriesTreadsMoving
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate = CWCruT80BVVoiceCreate
    TurretMoveLoop = CWCruTSeriesTurretServo
    VoiceCrush = CWCruT80BVVoiceCrush
    VoiceEnter = CWCruT80BVVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = ATTACK_NEEDS_LINE_OF_SIGHT CAN_ATTACK CAN_CAST_REFLECTIONS DONT_AUTO_CRUSH_INFANTRY POWERED PRELOAD SCORE SELECTABLE VEHICLE 

  Body = ActiveBody ModuleTag_03
    MaxHealth = 1800.0
    InitialHealth = 1800.0
  End

  Behavior = TransportAIUpdate ModuleTag_04
    Turret
      TurretTurnRate = 80 ; // turn rate, in degrees per sec
      TurretPitchRate = 80
      MinPhysicalPitch = -5
      AllowsPitch = Yes
      ControlledWeaponSlots = PRIMARY SECONDARY TERTIARY
      MinIdleScanAngle = 0 ; in degrees off the natural turret angle
      MaxIdleScanAngle = 45 ; in degrees off the natural turret angle
      MinIdleScanInterval = 10000 ; in milliseconds
      MaxIdleScanInterval = 20000 ; in milliseconds
    End
    AutoAcquireEnemiesWhenIdle = Yes
  End

  Locomotor = SET_NORMAL KodiakTankLocomotor
  
  
  Behavior = WeaponSetUpgrade ModuleTag_05
    TriggeredBy = Upgrade_GLAScorpionRocket
  End

  ; Behavior = OverlordContain ModuleTag_05
    ; Slots = 1
    ; DamagePercentToUnits = 100%
    ; AllowInsideKindOf = PORTABLE_STRUCTURE
    ; PayloadTemplateName = CWCruT80BV_AAGun
    ; PassengersAllowedToFire = Yes
    ; PassengersInTurret = Yes ; My passengers ride in my turret, that's where the Firepoint bones are
    ; ExperienceSinkForRider = Yes ; I get the Exp for things my turret friend kills
  ; End

  Behavior = PhysicsBehavior ModuleTag_10
    Mass = 50.0
  End

  ; Behavior = EnemyNearUpdate ModuleTag_Housecolor
    ; ;nothing
  ; End

  Behavior = StealthDetectorUpdate ModuleTag_DetectStealth_Vehicle01
    CanDetectWhileContained = No ; this is a vehicle ; Can the object detect stealth objects when it is inside an object?
    CanDetectWhileGarrisoned = No ; this is a vehicle ; Can the object detect stealth objects when it is inside an object with a GarrisonContain module?
    DetectionRange = 50 ; 1/2 its visionrange ; The maximum distance that the object can detect enemy stealthed obejcts. Defaults to the object's VisionRange.
    DetectionRate = 1000 ; The time between scanning for stealthed objects.
    ExtraRequiredKindOf = INFANTRY
    ExtraForbiddenKindOf = BOAT
    InitiallyDisabled = No ; Does the detector start off in a disabled state?
  End

; --- begin Death modules ---
  Behavior = TransitionDamageFX ModuleTag_Death01
    DamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenTankDeathSmokeDamaged
    DamagedFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDamageTransition
    ;
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenTankDeathSmokeReallyDamaged
    ReallyDamagedFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDamageTransition
    ;
    RubbleParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenTankDeathSmokeRubble
    RubbleFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDamageTransition
    RubbleFXList2 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDeathRubble1
  End
  Behavior = SlowDeathBehavior ModuleTag_Death02
    DestructionDelay = 18000
    FX = MIDPOINT FX_CWCgenTankDeathRubble2
    ;OCL = MIDPOINT OCL_CWCgenTankDeathTrails
    SinkDelay = 15000
    SinkRate = 4.0
  End
; --- end Death modules ---

  ClientUpdate = AnimatedParticleSysBoneClientUpdate ModuleTag_Client01
  End

  Geometry = BOX
  GeometryMajorRadius = 15.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 10.0
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45 ; minimum elevation angle above horizon. Used to limit shadow length
  Scale = 1.1
End

;------------------------------------------------------------------------------
Object Boss_UkraineVehicleGvozdika

  ; *** ART Parameters ***
  SelectPortrait = T-89_s
  ButtonImage = T-89

  Draw = W3DTankDraw ModuleTag_01
    OkToChangeModelColor = Yes
    ParticlesAttachedToAnimatedBones = Yes
    ExtraPublicBone = CORE
    InitialRecoilSpeed = 120
    MaxRecoilDistance = 3
    RecoilSettleSpeed = 1
    DefaultConditionState
      Model = CWCru2S1
      Turret = TURRET
      TurretPitch = TURRETEL
      WeaponFireFXBone = PRIMARY Muzzle
      WeaponRecoilBone = PRIMARY BARREL
      WeaponLaunchBone = PRIMARY Muzzle
      WeaponFireFXBone = SECONDARY Muzzle
      WeaponRecoilBone = SECONDARY BARREL
      WeaponLaunchBone = SECONDARY Muzzle
    End
    ConditionState = RELOADING_A
      Model = CWCru2S1
      ParticleSysBone = MUZZLE01 CWCgenArtMuzzleFlashBarrelSmoke
    End
    AliasConditionState RELOADING_B
    ConditionState = REALLYDAMAGED
      Model = CWCru2S1_d
    End
    ConditionState = RELOADING_A REALLYDAMAGED
      Model = CWCru2S1_d
      ParticleSysBone = MUZZLE01 CWCgenArtMuzzleFlashBarrelSmoke
    End
    AliasConditionState RELOADING_B REALLYDAMAGED
    ConditionState = RUBBLE
      Model = CWCru2S1_k
    End
    TrackMarks = EXTnkTrack.tga
    TreadAnimationRate = 2.0 ; amount of tread texture to move per second
  End

  ;---------------------------------------
  ; The brakes kick in
  ;---------------------------------------
  Draw = W3DModelDraw ModuleTag_BrakeDraw
    IgnoreConditionStates = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED RUBBLE
    AttachToBoneInAnotherModule = CORE
    ParticlesAttachedToAnimatedBones = Yes
    OkToChangeModelColor = Yes
    ;day, no lights, only if I brake
    ConditionState = NONE
      Model = CWCru2S1_l
      HideSubObject = HLIGHT01 HLIGHT02
      ParticleSysBone = BRAKE01 CWCgenRearLightBraking
      ParticleSysBone = BRAKE02 CWCgenRearLightBraking
    End
    ConditionState = MOVING
      Model = CWCru2S1_l
      HideSubObject = HLIGHT01 HLIGHT02
    End
    ;night, I always have my lights on when I move, and they flash whenever I brake
    ConditionState = NIGHT
      Model = CWCru2S1_l
      ParticleSysBone = BRAKE01 CWCgenRearLight
      ParticleSysBone = BRAKE02 CWCgenRearLight
      ShowSubObject = HLIGHT01 HLIGHT02
      ParticleSysBone = BRAKE01 CWCgenRearLightBraking
      ParticleSysBone = BRAKE02 CWCgenRearLightBraking
    End
    ConditionState = NIGHT MOVING
      Model = CWCru2S1_l
      ParticleSysBone = BRAKE01 CWCgenRearLight
      ParticleSysBone = BRAKE02 CWCgenRearLight
      ShowSubObject = HLIGHT01 HLIGHT02
    End
    ;enemynear, hide those red lights!
    ConditionState = ENEMYNEAR
      Model = CWCru2S1_l
      HideSubObject = HLIGHT01 HLIGHT02
    End
    AliasConditionState = MOVING ENEMYNEAR
    AliasConditionState = NIGHT ENEMYNEAR
    AliasConditionState = NIGHT MOVING ENEMYNEAR
  End

  ;---------------------------------------
  Draw = W3DTruckDraw ModuleTag_TracksDraw
    OkToChangeModelColor = Yes
    ParticlesAttachedToAnimatedBones = Yes
    AttachToBoneInAnotherModule = CORE
    DefaultConditionState
      Model = CWCru2S1_t
    End
    ; These parameters are only used if the model has a separate suspension,
    ; and the locomotor has HasSuspension = Yes.
    RightFrontTireBone = TIRE01
    LeftFrontTireBone = TIRE02
    MidRightFrontTireBone = TIRE03
    MidLeftFrontTireBone = TIRE04
    MidRightMidTireBone = TIRE05
    MidLeftMidTireBone = TIRE06
    MidRightRearTireBone = TIRE07
    MidLeftRearTireBone = TIRE08
    RightRearTireBone = TIRE09
    ;LeftRearTireBone = TIRE10
    TireRotationMultiplier = 0.4 ; this * speed = rotation.
  End

  ;---------------------------------------
  ; The ability indicator
  ;---------------------------------------
  ; Draw = W3DModelDraw ModuleTag_AbilityDraw
    ; OkToChangeModelColor = Yes
    ; IgnoreConditionStates = FIRING_A RELOADING_A BETWEEN_FIRING_SHOTS_A RAPPELLING PARACHUTING FREEFALL ATTACKING REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE MOVING

    ; DefaultConditionState
      ; Model = CWCgenAbHC
      ; Animation = CWCgenAbHC.CWCgenAbHC
      ; AnimationMode = LOOP
      ; HideSubObject = HOUSECOLOR02
    ; End

    ; ConditionState = UNPACKING
      ; Model = CWCgenAbHC
      ; Animation = CWCgenAbHC.CWCgenAbHC
      ; AnimationMode = LOOP
      ; ShowSubObject = HOUSECOLOR02
    ; End
    ; AliasConditionState = PACKING
    ; AliasConditionState = RAISING_FLAG

    ; ConditionState = DYING
      ; Model = CWCgenAbHC
      ; Animation = CWCgenAbHC.CWCgenAbHC
      ; AnimationMode = LOOP
      ; HideSubObject = HOUSECOLOR02
    ; End
    ; AliasConditionState = EXPLODED_BOUNCING
    ; AliasConditionState = EXPLODED_FLAILING
    ; AliasConditionState = RUBBLE
  ; End

  ;---------------------------------------
  ; The rotating housecolors
  ;---------------------------------------
  ; Draw = W3DModelDraw ModuleTag_HousecolorDraw
    ; OkToChangeModelColor = Yes

    ; ConditionState = NONE
      ; Model = CWCruHC_B
      ; Animation = CWCruHC_B.CWCruHC_B
      ; AnimationMode = LOOP
      ; HideSubObject = HOUSECOLOR02
    ; End
    ; AliasConditionState = WEAPONSET_PLAYER_UPGRADE
    ; AliasConditionState = REALLYDAMAGED
    ; AliasConditionState = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
    ; AliasConditionState = RUBBLE
    ; AliasConditionState = WEAPONSET_PLAYER_UPGRADE RUBBLE
    ; AliasConditionState = ENEMYNEAR RUBBLE
    ; AliasConditionState = ENEMYNEAR WEAPONSET_PLAYER_UPGRADE RUBBLE

    ; ConditionState = ENEMYNEAR
      ; Model = CWCruHC_B
      ; Animation = CWCruHC_B.CWCruHC_B
      ; AnimationMode = LOOP
      ; ShowSubObject = HOUSECOLOR02
    ; End
    ; AliasConditionState = ENEMYNEAR WEAPONSET_PLAYER_UPGRADE
    ; AliasConditionState = ENEMYNEAR REALLYDAMAGED
    ; AliasConditionState = ENEMYNEAR WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
  ; End

; ;the particle effects
  ; Draw = W3DModelDraw Module_ParticleEffects

    ; DefaultConditionState
      ; Model = CWCruBTR80_W
    ; End
    ; AliasConditionState = REALLYDAMAGED
    ; AliasConditionState = RUBBLE

    ; ConditionState = MOVING
      ; Model = CWCruBTR80_W
      ; ParticleSysBone = TreadFX01 RocketBuggyDust
      ; ParticleSysBone = TreadFX02 RocketBuggyDust
    ; End
    ; AliasConditionState = MOVING REALLYDAMAGED
    ; AliasConditionState = MOVING RUBBLE

    ; ConditionState = OVER_WATER
      ; Model = CWCruBTR80_W
      ; ParticleSysBone = WATER01 CWCgenAmphibWaveRest
      ; ParticleSysBone = WATER02 CWCgenAmphibWaveRest
    ; End
    ; AliasConditionState = OVER_WATER REALLYDAMAGED
    ; AliasConditionState = OVER_WATER RUBBLE

    ; ConditionState = OVER_WATER MOVING
      ; Model = CWCruBTR80_W
      ; ParticleSysBone = WATER03 CWCgenAmphibWave1
    ; End
    ; AliasConditionState = OVER_WATER MOVING REALLYDAMAGED
    ; AliasConditionState = OVER_WATER MOVING RUBBLE
  ; End

  ; ***DESIGN parameters ***
  DisplayName = OBJECT:Gvozdika
  Side = Boss
  EditorSorting = VEHICLE
  TransportSlotCount = 4 ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions       = None
    Weapon           = PRIMARY Tank_InfernoCannonGun
  End

  ArmorSet
    Conditions = None
    Armor = TankArmor
    DamageFX = TankDamageFX
  End

  BuildCost = 2000
  BuildTime = 15.0 ;in seconds
  VisionRange = 180
  ShroudClearingRange = 550
  Prerequisites
    Object = Boss_UkraineWarFactory
  End

  ExperienceValue = 1100 1650 2200 3300 ;Experience point value at each level
  ExperienceRequired = 0 1067 2134 3735 ;Experience points needed to gain each level
  IsTrainable = Yes ;Can gain experience

  CrusherLevel = 2 ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel = 2 ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = ChinaVehicleInfernoCannonCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = CWCru2S1VoiceSelect
  VoiceMove = CWCru2S1VoiceMove
  VoiceAttack = CWCru2S1VoiceAttack
  VoiceGuard = CWCru2S1VoiceGuard
  SoundMoveLoop = CWCgenOldTreadsMoving
  UnitSpecificSounds
    VoiceCreate = CWCru2S1VoiceCreate
    TurretMoveLoop = CWCgenTurretServo
    VoiceCrush = CWCru2S1VoiceCrush
    VoiceEnter = CWCru2S1VoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = CAN_ATTACK CAN_CAST_REFLECTIONS DONT_AUTO_CRUSH_INFANTRY POWERED PRELOAD SCORE SELECTABLE VEHICLE 

  Body = ActiveBody ModuleTag_02
    MaxHealth = 120.0
    InitialHealth = 120.0
  End

  Behavior = DeployStyleAIUpdate ModuleTag_04
    Turret
      TurretTurnRate = 80
      TurretPitchRate = 80
      AllowsPitch = Yes
      FirePitch = 45
      NaturalTurretPitch = 4
      FiresWhileTurning = No
      RecenterTime = 2500
      ControlledWeaponSlots = PRIMARY
      InitiallyDisabled = Yes
    End
    AutoAcquireEnemiesWhenIdle = No NotWhileAttacking
    PackTime = 2000
    UnpackTime = 2000
    TurretsFunctionOnlyWhenDeployed = Yes
    TurretsMustCenterBeforePacking = Yes
    ResetTurretBeforePacking = Yes
  End

  Locomotor = SET_NORMAL CWCru2S1Locomotor CWCru2S1AmphibiousLocomotor

  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 50.0
  End

  ; Behavior = EnemyNearUpdate ModuleTag_Housecolor
    ; ;nothing
  ; End

  Behavior = StealthDetectorUpdate ModuleTag_DetectStealth_Vehicle01
    CanDetectWhileContained = No ; this is a vehicle ; Can the object detect stealth objects when it is inside an object?
    CanDetectWhileGarrisoned = No ; this is a vehicle ; Can the object detect stealth objects when it is inside an object with a GarrisonContain module?
    DetectionRange = 50 ; 1/2 its visionrange ; The maximum distance that the object can detect enemy stealthed obejcts. Defaults to the object's VisionRange.
    DetectionRate = 1000 ; The time between scanning for stealthed objects.
    ExtraRequiredKindOf = INFANTRY
    ExtraForbiddenKindOf = BOAT
    InitiallyDisabled = No ; Does the detector start off in a disabled state?
  End

; --- begin Death modules ---
  Behavior = TransitionDamageFX ModuleTag_Death01
    DamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenTankDeathSmokeDamaged
    DamagedFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDamageTransition
    ;
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenTankDeathSmokeReallyDamaged
    ReallyDamagedFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDamageTransition
    ;
    RubbleParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenTankDeathSmokeRubble
    RubbleFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDamageTransition
    RubbleFXList2 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDeathRubble1
  End
  Behavior = SlowDeathBehavior ModuleTag_Death02
    DestructionDelay = 18000
    FX = MIDPOINT FX_CWCgenTankDeathRubble2
    ;OCL = MIDPOINT OCL_CWCgenTankDeathTrails
    SinkDelay = 15000
    SinkRate = 4.0
  End
; --- end Death modules ---

  ClientUpdate = AnimatedParticleSysBoneClientUpdate ModuleTag_Client01
  End ; This allows the wingtip trails to stay stuck to the retractable wings

  ; Behavior = LockWeaponCreate ModuleTag_23
    ; SlotToLock = PRIMARY ; Prevents indeterminate state plus two unpickable weapons equaling no attack.
  ; End

  Geometry = BOX
  GeometryMajorRadius = 18.0
  GeometryMinorRadius = 7.5
  GeometryHeight = 7.0
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45 ; minimum elevation angle above horizon. Used to limit shadow length
  Scale = 1.1
End

;------------------------------------------------------------------------------
Object Boss_UkraineVehicleShilka

  ; *** ART Parameters ***
  SelectPortrait = SUQuadCannon_L
  ButtonImage = SUQuadCannon

  Draw = W3DTankDraw ModuleTag_01
    OkToChangeModelColor = Yes
    ExtraPublicBone = CORE
    InitialRecoilSpeed = 120
    MaxRecoilDistance = 1
    RecoilSettleSpeed = 20

    ; anti air mode, dish up
    DefaultConditionState
      Model = CWCruShilka
      Animation = CWCruShilka.CWCruShilka
      AnimationMode = ONCE_BACKWARDS
      Flags = MAINTAIN_FRAME_ACROSS_STATES
      Turret = TURRET01
      TurretPitch = TURRETEL01
      WeaponFireFXBone = PRIMARY MUZZLE
      WeaponRecoilBone = PRIMARY BARREL
      WeaponLaunchBone = PRIMARY MUZZLE
      WeaponFireFXBone = SECONDARY MUZZLE
      WeaponRecoilBone = SECONDARY BARREL
      WeaponLaunchBone = SECONDARY MUZZLEAIR
    End

    ConditionState = REALLYDAMAGED
      Model = CWCruShilka_d
      Animation = CWCruShilka_d.CWCruShilka_d
      AnimationMode = ONCE_BACKWARDS
      Flags = MAINTAIN_FRAME_ACROSS_STATES
    End

    ConditionState = RUBBLE
      Model = CWCruShilka_k
      Animation = CWCruShilka_k.CWCruShilka_k
      AnimationMode = ONCE_BACKWARDS
      Flags = MAINTAIN_FRAME_ACROSS_STATES
    End

    ; ground attack mode, dish down
    ConditionState = USING_WEAPON_A
      Model = CWCruShilka
      Animation = CWCruShilka.CWCruShilka
      AnimationMode = ONCE
      Flags = MAINTAIN_FRAME_ACROSS_STATES
    End

    ConditionState = USING_WEAPON_A REALLYDAMAGED
      Model = CWCruShilka_d
      Animation = CWCruShilka_d.CWCruShilka_d
      AnimationMode = ONCE
      Flags = MAINTAIN_FRAME_ACROSS_STATES
    End

    ConditionState = USING_WEAPON_A RUBBLE
      Model = CWCruShilka_k
      Animation = CWCruShilka_k.CWCruShilka_k
      AnimationMode = ONCE
      Flags = MAINTAIN_FRAME_ACROSS_STATES
    End

    TrackMarks = EXTnkTrack.tga
    TreadAnimationRate = 2.0 ; amount of tread texture to move per second
    TreadDriveSpeedFraction = 0.3 ; fraction of locomotor speed below which treads stop moving.
    TreadPivotSpeedFraction = 0.6 ; fraction of locomotor speed below which we allow pivoting.
  End

  ;---------------------------------------
  ; The camonet appears
  ;---------------------------------------
  ; Draw = W3DModelDraw ModuleTag_CamonetDraw
    ; AttachToBoneInAnotherModule = CORE
    ; ParticlesAttachedToAnimatedBones = Yes
    ; OkToChangeModelColor = No
    ; DefaultConditionState
      ; Model = CWCruShilka_c
      ; Animation = CWCruShilka_c.CWCruShilka_c
      ; AnimationMode = ONCE_BACKWARDS
      ; Flags = MAINTAIN_FRAME_ACROSS_STATES
    ; End
    ; AliasConditionState = WEAPONSET_PLAYER_UPGRADE MOVING
    ; ConditionState = WEAPONSET_PLAYER_UPGRADE
      ; Model = CWCruShilka_c
      ; Animation = CWCruShilka_c.CWCruShilka_c
      ; AnimationMode = ONCE
      ; Flags = MAINTAIN_FRAME_ACROSS_STATES
    ; End
  ; End

  ;---------------------------------------
  ; The brakes kick in
  ;---------------------------------------
  Draw = W3DModelDraw ModuleTag_BrakeDraw
    IgnoreConditionStates = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED RUBBLE
    AttachToBoneInAnotherModule = CORE
    ParticlesAttachedToAnimatedBones = Yes
    OkToChangeModelColor = Yes
    ;day, no lights, only if I brake
    ConditionState = NONE
      Model = CWCruShilka_l
      HideSubObject = HLIGHT01 HLIGHT02
      ParticleSysBone = BRAKE01 CWCgenRearLightBraking
      ParticleSysBone = BRAKE02 CWCgenRearLightBraking
    End
    ConditionState = MOVING
      Model = CWCruShilka_l
      HideSubObject = HLIGHT01 HLIGHT02
    End
    ;night, I always have my lights on when I move, and they flash whenever I brake
    ConditionState = NIGHT
      Model = CWCruShilka_l
      ParticleSysBone = BRAKE01 CWCgenRearLight
      ParticleSysBone = BRAKE02 CWCgenRearLight
      ShowSubObject = HLIGHT01 HLIGHT02
      ParticleSysBone = BRAKE01 CWCgenRearLightBraking
      ParticleSysBone = BRAKE02 CWCgenRearLightBraking
    End
    ConditionState = NIGHT MOVING
      Model = CWCruShilka_l
      ParticleSysBone = BRAKE01 CWCgenRearLight
      ParticleSysBone = BRAKE02 CWCgenRearLight
      ShowSubObject = HLIGHT01 HLIGHT02
    End
    ;enemynear, hide those red lights!
    ConditionState = ENEMYNEAR
      Model = CWCruShilka_l
      HideSubObject = HLIGHT01 HLIGHT02
    End
    AliasConditionState = MOVING ENEMYNEAR
    AliasConditionState = NIGHT ENEMYNEAR
    AliasConditionState = NIGHT MOVING ENEMYNEAR
  End
  ;---------------------------------------
  Draw = W3DTruckDraw ModuleTag_TracksDraw
    OkToChangeModelColor = Yes
    ParticlesAttachedToAnimatedBones = Yes
    AttachToBoneInAnotherModule = CORE
    DefaultConditionState
      Model = CWCruShilka_t
    End
    ; These parameters are only used if the model has a separate suspension,
    ; and the locomotor has HasSuspension = Yes.
    RightFrontTireBone = TIRE01
    LeftFrontTireBone = TIRE02
    MidRightFrontTireBone = TIRE03
    MidLeftFrontTireBone = TIRE04
    MidRightMidTireBone = TIRE05
    MidLeftMidTireBone = TIRE06
    MidLeftRearTireBone = TIRE07
    MidRightRearTireBone = TIRE08
    TireRotationMultiplier = 0.4 ; this * speed = rotation.
  End

  ;---------------------------------------
  ; The rotating housecolors
  ;---------------------------------------
  ; Draw = W3DModelDraw ModuleTag_HousecolorDraw
    ; OkToChangeModelColor = Yes

    ; ConditionState = NONE
      ; Model = CWCruHC_B
      ; Animation = CWCruHC_B.CWCruHC_B
      ; AnimationMode = LOOP
      ; HideSubObject = HOUSECOLOR02
    ; End
    ; AliasConditionState = WEAPONSET_PLAYER_UPGRADE
    ; AliasConditionState = REALLYDAMAGED
    ; AliasConditionState = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
    ; AliasConditionState = RUBBLE
    ; AliasConditionState = WEAPONSET_PLAYER_UPGRADE RUBBLE
    ; AliasConditionState = ENEMYNEAR RUBBLE
    ; AliasConditionState = ENEMYNEAR WEAPONSET_PLAYER_UPGRADE RUBBLE

    ; ConditionState = ENEMYNEAR
      ; Model = CWCruHC_B
      ; Animation = CWCruHC_B.CWCruHC_B
      ; AnimationMode = LOOP
      ; ShowSubObject = HOUSECOLOR02
    ; End
    ; AliasConditionState = ENEMYNEAR WEAPONSET_PLAYER_UPGRADE
    ; AliasConditionState = ENEMYNEAR REALLYDAMAGED
    ; AliasConditionState = ENEMYNEAR WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
  ; End

  ; ***DESIGN parameters ***
  DisplayName = OBJECT:Shilka
  Side = Boss
  EditorSorting = VEHICLE
  TransportSlotCount = 6 ;how many "slots" we take in a transport (0 == not transportable)

  WeaponSet
    Conditions        = None
    Weapon            = PRIMARY ShilkaMachineGunAntiGround
    PreferredAgainst  = PRIMARY INFANTRY VEHICLE STRUCTURE
    AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
    Weapon            = SECONDARY ShilkaMachineGunAntiAir
    PreferredAgainst  = SECONDARY AIRCRAFT
    AutoChooseSources = SECONDARY FROM_PLAYER FROM_SCRIPT FROM_AI
  End

  ArmorSet
    Conditions = None
    Armor = QuadCannonArmor
    DamageFX = TankDamageFX
  End

  BuildCost = 800
  BuildTime = 15.0 ;in seconds
  VisionRange = 250
  ShroudClearingRange = 300
  Prerequisites
    Object = Boss_UkraineWarFactory
  End

  ;CWCExpMarker: Shilka
  ExperienceValue = 700 1050 1400 2100 ;Experience point value at each level
  ExperienceRequired = 0 1691 3382 5918 ;Experience points needed to gain each level
  IsTrainable = Yes ;Can gain experience

  CrusherLevel = 2 ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel = 2 ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = SovietVehicleShilkaCommandSet


  ; *** AUDIO Parameters ***
  VoiceSelect = CWCruShilkaVoiceSelect
  VoiceMove = CWCruShilkaVoiceMove
  VoiceGuard = CWCruShilkaVoiceGuard
  VoiceAttack = CWCruShilkaVoiceAttack
  VoiceAttackAir = CWCruShilkaVoiceAttackAir
  SoundMoveLoop = CWCgenOldTreadsMoving
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate = CWCruShilkaVoiceCreate
    TurretMoveStart = NoSound
    TurretMoveLoop = CWCgenIFV_APCTurretServo
    VoiceCrush = CWCruShilkaVoiceCrush
    VoiceEnter = CWCruShilkaVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = ATTACK_NEEDS_LINE_OF_SIGHT CAN_ATTACK CAN_CAST_REFLECTIONS DONT_AUTO_CRUSH_INFANTRY POWERED PRELOAD SCORE SELECTABLE VEHICLE

  Body = ActiveBody ModuleTag_02
    MaxHealth = 400.0
    InitialHealth = 400.0
    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 400
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
  End
  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      ControlledWeaponSlots = PRIMARY SECONDARY
      TurretTurnRate = 160  ;turn rate, in degrees per sec
      TurretPitchRate = 160
      AllowsPitch = Yes
      FiresWhileTurning = Yes
      NaturalTurretPitch = 20 ; this keeps it aimed half way between land and sky
                               ; since you never know from whence cometh danger
      RecenterTime = 2000
      MinIdleScanInterval = 1000 ; in milliseconds
      MaxIdleScanInterval = 5000 ; in milliseconds
      MinIdleScanAngle = 25 ; in degrees off the natural turret angle
      MaxIdleScanAngle = 45 ; in degrees off the natural turret angle
    End
    AutoAcquireEnemiesWhenIdle = Yes ;Stealthed
    MoodAttackCheckRate = 150
  End

  Locomotor = SET_NORMAL GattlingTankLocomotor

  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 40.0
  End

  ; Behavior = EnemyNearUpdate ModuleTag_Housecolor
    ; ;nothing
  ; End

  Behavior = StealthDetectorUpdate ModuleTag_DetectStealth_Vehicle01
    CanDetectWhileContained = No ; this is a vehicle ; Can the object detect stealth objects when it is inside an object?
    CanDetectWhileGarrisoned = No ; this is a vehicle ; Can the object detect stealth objects when it is inside an object with a GarrisonContain module?
    DetectionRange = 63 ; 1/2 its visionrange ; The maximum distance that the object can detect enemy stealthed obejcts. Defaults to the object's VisionRange.
    DetectionRate = 1000 ; The time between scanning for stealthed objects.
    ExtraRequiredKindOf = INFANTRY
    ExtraForbiddenKindOf = BOAT
    InitiallyDisabled = No ; Does the detector start off in a disabled state?
  End

  ; Behavior = ProductionUpdate ModuleTag_Stealth_Vehicle01
    ; ;nothing
  ; End

  ; Behavior = StealthUpgrade ModuleTag_Stealth_Vehicle02
    ; TriggeredBy = Upgrade_CWCruAntiAir_Stealth
  ; End

  ; Behavior = StealthUpdate ModuleTag_Stealth_Vehicle03
    ; StealthDelay = 2000
    ; StealthForbiddenConditions = MOVING FIRING_PRIMARY FIRING_SECONDARY
    ; FriendlyOpacityMin = 100.0%
    ; FriendlyOpacityMax = 100.0%
    ; InnateStealth = No
    ; OrderIdleEnemiesToAttackMeUponReveal = Yes
  ; End

  ; Behavior = WeaponSetUpgrade ModuleTag_Stealth_Vehicle04
    ; TriggeredBy = Upgrade_CWCruAntiAir_Stealth
  ; End

; --- begin Death modules ---
  Behavior = TransitionDamageFX ModuleTag_Death01
    DamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenTankDeathSmokeDamaged
    DamagedFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDamageTransition
    ;
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenTankDeathSmokeReallyDamaged
    ReallyDamagedFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDamageTransition
    ;
    RubbleParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenTankDeathSmokeRubble
    RubbleFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDamageTransition
    RubbleFXList2 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDeathRubble1
  End
  Behavior = SlowDeathBehavior ModuleTag_Death02
    DestructionDelay = 18000
    FX = MIDPOINT FX_CWCgenTankDeathRubble2
    ;OCL = MIDPOINT OCL_CWCgenTankDeathTrails
    SinkDelay = 15000
    SinkRate = 4.0
  End
; --- end Death modules ---

  ; Behavior = FireWeaponUpdate ModuleTag_Radar
    ; Weapon = CWCruShilkaRadarWeapon
    ; ExclusiveWeaponDelay = 500
  ; End

  ; Behavior = ObjectCreationUpgrade ModuleTag_AntiRadarDrone
    ; UpgradeObject = OCL_CWCgenAntiRadarDrone
    ; TriggeredBy = Upgrade_CWCgenAntiRadarDrone
  ; End

  ; Behavior = GrantUpgradeCreate ModuleTag_AntiRadarDroneCreate
    ; UpgradeToGrant = Upgrade_CWCgenAntiRadarDrone
  ; End

  Geometry = BOX
  GeometryMajorRadius = 15.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 15.0
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45 ; minimum elevation angle above horizon. Used to limit shadow length
  Scale = 1.1
End

;------------------------------------------------------------------------------
Object Boss_UkraineVehicleM109

  ; *** ART Parameters ***
  SelectPortrait = SAAS-90_L
  ButtonImage = SAAS-90

  Draw = W3DOverlordTankDraw ModuleTag_01
    OkToChangeModelColor = Yes
    ParticlesAttachedToAnimatedBones = Yes
    ExtraPublicBone = CORE
    InitialRecoilSpeed = 120
    MaxRecoilDistance = 3
    RecoilSettleSpeed = 1
    DefaultConditionState
      Model = CWCusM109
      Turret = TURRET01
      TurretPitch = TURRETEL01
      WeaponFireFXBone = PRIMARY Muzzle
      WeaponRecoilBone = PRIMARY BARREL
      WeaponLaunchBone = PRIMARY Muzzle
      WeaponFireFXBone = SECONDARY Muzzle
      WeaponRecoilBone = SECONDARY BARREL
      WeaponLaunchBone = SECONDARY Muzzle
    End
    ConditionState = RELOADING_A
      Model = CWCusM109
      ParticleSysBone = MUZZLE01 CWCgenArtMuzzleFlashBarrelSmoke
    End
    AliasConditionState = RELOADING_B
    ConditionState = REALLYDAMAGED
      Model = CWCusM109_d
    End
    ConditionState = RELOADING_A REALLYDAMAGED
      Model = CWCusM109_d
      ParticleSysBone = MUZZLE01 CWCgenArtMuzzleFlashBarrelSmoke
    End
    AliasConditionState = RELOADING_B REALLYDAMAGED
    ConditionState = RUBBLE
      Model = CWCusM109_k
    End
    TrackMarks = EXTnkTrack.tga
    TreadAnimationRate = 2.0 ; amount of tread texture to move per second
  End

  ;---------------------------------------
  ; The brakes kick in
  ;---------------------------------------
  Draw = W3DModelDraw ModuleTag_BrakeDraw
    IgnoreConditionStates = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED RUBBLE
    AttachToBoneInAnotherModule = CORE
    ParticlesAttachedToAnimatedBones = Yes
    OkToChangeModelColor = Yes
    ;day, no lights, only if I brake
    ConditionState = NONE
      Model = CWCusM109_l
      HideSubObject = HLIGHT01 HLIGHT02
      ParticleSysBone = BRAKE01 CWCgenRearLightBraking
      ParticleSysBone = BRAKE02 CWCgenRearLightBraking
    End
    ConditionState = MOVING
      Model = CWCusM109_l
      HideSubObject = HLIGHT01 HLIGHT02
    End
    ;night, I always have my lights on when I move, and they flash whenever I brake
    ConditionState = NIGHT
      Model = CWCusM109_l
      ParticleSysBone = BRAKE01 CWCgenRearLight
      ParticleSysBone = BRAKE02 CWCgenRearLight
      ShowSubObject = HLIGHT01 HLIGHT02
      ParticleSysBone = BRAKE01 CWCgenRearLightBraking
      ParticleSysBone = BRAKE02 CWCgenRearLightBraking
    End
    ConditionState = NIGHT MOVING
      Model = CWCusM109_l
      ParticleSysBone = BRAKE01 CWCgenRearLight
      ParticleSysBone = BRAKE02 CWCgenRearLight
      ShowSubObject = HLIGHT01 HLIGHT02
    End
    ;enemynear, hide those red lights!
    ConditionState = ENEMYNEAR
      Model = CWCusM109_l
      HideSubObject = HLIGHT01 HLIGHT02
    End
    AliasConditionState = MOVING ENEMYNEAR
    AliasConditionState = NIGHT ENEMYNEAR
    AliasConditionState = NIGHT MOVING ENEMYNEAR
  End
  ;---------------------------------------
  Draw = W3DTruckDraw ModuleTag_TracksDraw
    OkToChangeModelColor = Yes
    ParticlesAttachedToAnimatedBones = Yes
    AttachToBoneInAnotherModule = CORE
    DefaultConditionState
      Model = CWCusM109_t
    End
    ; These parameters are only used if the model has a separate suspension,
    ; and the locomotor has HasSuspension = Yes.
    RightFrontTireBone = TIRE01
    LeftFrontTireBone = TIRE02
    MidRightFrontTireBone = TIRE03
    MidLeftFrontTireBone = TIRE04
    MidRightMidTireBone = TIRE05
    MidLeftMidTireBone = TIRE06
    MidLeftRearTireBone = TIRE07
    MidRightRearTireBone = TIRE08
    RightRearTireBone = TIRE09
    TireRotationMultiplier = 0.4 ; this * speed = rotation.
  End

  ;---------------------------------------
  ; The ability indicator
  ;---------------------------------------
  ; Draw = W3DModelDraw ModuleTag_AbilityDraw
    ; OkToChangeModelColor = Yes
    ; IgnoreConditionStates = FIRING_A RELOADING_A BETWEEN_FIRING_SHOTS_A RAPPELLING PARACHUTING FREEFALL ATTACKING REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE MOVING

    ; DefaultConditionState
      ; Model = CWCgenAbHC
      ; Animation = CWCgenAbHC.CWCgenAbHC
      ; AnimationMode = LOOP
      ; HideSubObject = HOUSECOLOR02
    ; End

    ; ConditionState = UNPACKING
      ; Model = CWCgenAbHC
      ; Animation = CWCgenAbHC.CWCgenAbHC
      ; AnimationMode = LOOP
      ; ShowSubObject = HOUSECOLOR02
    ; End
    ; AliasConditionState = PACKING
    ; AliasConditionState = RAISING_FLAG

    ; ConditionState = DYING
      ; Model = CWCgenAbHC
      ; Animation = CWCgenAbHC.CWCgenAbHC
      ; AnimationMode = LOOP
      ; HideSubObject = HOUSECOLOR02
    ; End
    ; AliasConditionState = EXPLODED_BOUNCING
    ; AliasConditionState = EXPLODED_FLAILING
    ; AliasConditionState = RUBBLE
  ; End

  ;---------------------------------------
  ; The rotating housecolors
  ;---------------------------------------
  ; Draw = W3DModelDraw ModuleTag_HousecolorDraw
    ; OkToChangeModelColor = Yes

    ; ConditionState = NONE
      ; Model = CWCusHC_B
      ; Animation = CWCusHC_B.CWCusHC_B
      ; AnimationMode = LOOP
      ; HideSubObject = HOUSECOLOR02 HOUSECOLOR03
    ; End
    ; AliasConditionState = WEAPONSET_PLAYER_UPGRADE
    ; AliasConditionState = REALLYDAMAGED
    ; AliasConditionState = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
    ; AliasConditionState = RUBBLE
    ; AliasConditionState = WEAPONSET_PLAYER_UPGRADE RUBBLE
    ; AliasConditionState = ENEMYNEAR RUBBLE
    ; AliasConditionState = ENEMYNEAR WEAPONSET_PLAYER_UPGRADE RUBBLE

    ; ConditionState = ENEMYNEAR
      ; Model = CWCusHC_B
      ; Animation = CWCusHC_B.CWCusHC_B
      ; AnimationMode = LOOP
      ; ShowSubObject = HOUSECOLOR02 HOUSECOLOR03
    ; End
    ; AliasConditionState = ENEMYNEAR WEAPONSET_PLAYER_UPGRADE
    ; AliasConditionState = ENEMYNEAR REALLYDAMAGED
    ; AliasConditionState = ENEMYNEAR WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
  ; End

  ; ***DESIGN parameters ***
  DisplayName = OBJECT:M109
  Side = Boss
  EditorSorting = VEHICLE
  TransportSlotCount = 4 ;how many "slots" we take in a transport (0 == not transportable)

  WeaponSet
    Conditions = None
    Weapon = PRIMARY 155mmWeapon
  End

  ArmorSet
    Conditions = None
    Armor = CWCusM109Armor
    DamageFX = TankDamageFX
  End

  BuildCost = 10000
  BuildTime = 25.0 ;in seconds
  VisionRange = 200
  ShroudClearingRange = 800
  Prerequisites
    Object = Boss_UkraineWarFactory
	Object = Boss_UkraineInternationalHeadquaters
  End

  ;CWCExpMarker: M109
  ExperienceValue = 1200 1800 2400 3600 ;Experience point value at each level
  ExperienceRequired = 0 1067 2134 3735 ;Experience points needed to gain each level
  IsTrainable = Yes ;Can gain experience

  CrusherLevel = 2 ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel = 2 ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = ChinaVehicleInfernoCannonCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = CWCusM109VoiceSelect
  VoiceMove = CWCusM109VoiceMove
  VoiceGuard = CWCusM109VoiceGuard
  VoiceAttack = CWCusM109VoiceAttack
  SoundMoveLoop = CWCgenModernTreadsMoving
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate = CWCusM109VoiceCreate
    TurretMoveLoop = CWCgenTurretServo
    VoiceCrush = CWCusM109VoiceCrush
    VoiceEnter = CWCusM109VoiceMove
  End


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = CAN_ATTACK CAN_CAST_REFLECTIONS DONT_AUTO_CRUSH_INFANTRY POWERED PRELOAD SCORE SELECTABLE VEHICLE 

  Body = ActiveBody ModuleTag_02
    MaxHealth = 500.0
    InitialHealth = 500.0
  End

  Behavior = DeployStyleAIUpdate ModuleTag_04
    Turret
      TurretTurnRate = 40
      TurretPitchRate = 40
      AllowsPitch = Yes
      FirePitch = 45
      NaturalTurretPitch = 4
      FiresWhileTurning = No
      RecenterTime = 2500
      ControlledWeaponSlots = PRIMARY SECONDARY
      InitiallyDisabled = Yes
    End
    AutoAcquireEnemiesWhenIdle = No NotWhileAttacking
    PackTime = 2000
    UnpackTime = 2000
    TurretsFunctionOnlyWhenDeployed = Yes
    TurretsMustCenterBeforePacking = Yes
    ResetTurretBeforePacking = Yes
  End

  Locomotor = SET_NORMAL CWCusM109Locomotor

  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 50.0
  End

  ; Behavior = OverlordContain ModuleTag_06
    ; Slots = 1
    ; DamagePercentToUnits = 100%
    ; AllowInsideKindOf = PORTABLE_STRUCTURE
    ; PayloadTemplateName = CWCusM109_AAGun
    ; PassengersAllowedToFire = Yes
    ; PassengersInTurret = Yes ; My passengers ride in my turret, that's where the Firepoint bones are
    ; ExperienceSinkForRider = Yes ; I get the Exp for things my turret friend kills
  ; End

  ; Behavior = ProductionUpdate ModuleTag_07
    ; ;nothing
  ; End

  ; Behavior = AssistedTargetingUpdate ModuleTag_08
    ; AssistingClipSize = 3 ; How many shots to make when asked by someone of my kind who has a RequestAssistRange weapon
    ; AssistingWeaponSlot = SECONDARY ; And the weapon to use.  Should have huge range and no natural clip.
    ; LaserFromAssisted = CWCusM109AnalogDataStream ; Stream to draw from the requestor to me
    ; LaserToTarget = CWCusM109AnalogDataStream ; Stream to draw from me to the target
  ; End

  ; Behavior = EnemyNearUpdate ModuleTag_Housecolor
    ; ;nothing
  ; End

  Behavior = StealthDetectorUpdate ModuleTag_DetectStealth_Vehicle01
    CanDetectWhileContained = No ; this is a vehicle ; Can the object detect stealth objects when it is inside an object?
    CanDetectWhileGarrisoned = No ; this is a vehicle ; Can the object detect stealth objects when it is inside an object with a GarrisonContain module?
    DetectionRange = 50 ; 1/2 its visionrange ; The maximum distance that the object can detect enemy stealthed obejcts. Defaults to the object's VisionRange.
    DetectionRate = 1000 ; The time between scanning for stealthed objects.
    ExtraRequiredKindOf = INFANTRY
    ExtraForbiddenKindOf = BOAT
    InitiallyDisabled = No ; Does the detector start off in a disabled state?
  End

; --- begin Death modules ---
  Behavior = TransitionDamageFX ModuleTag_Death01
    DamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenTankDeathSmokeDamaged
    DamagedFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDamageTransition
    ;
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenTankDeathSmokeReallyDamaged
    ReallyDamagedFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDamageTransition
    ;
    RubbleParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenTankDeathSmokeRubble
    RubbleFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDamageTransition
    RubbleFXList2 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDeathRubble1
  End
  Behavior = SlowDeathBehavior ModuleTag_Death02
    DestructionDelay = 18000
    FX = MIDPOINT FX_CWCgenTankDeathRubble2
    ;OCL = MIDPOINT OCL_CWCgenTankDeathTrails
    SinkDelay = 15000
    SinkRate = 4.0
  End
; --- end Death modules ---

  ClientUpdate = AnimatedParticleSysBoneClientUpdate ModuleTag_Client01
  End ; This allows the wingtip trails to stay stuck to the retractable wings

  Geometry = BOX
  GeometryMajorRadius = 15.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 15.0
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45 ; minimum elevation angle above horizon. Used to limit shadow length
  Scale = 1.1
End

;------------------------------------------------------------------------------
Object Boss_UkraineVehicleMLRS

  ; *** ART Parameters ***
  SelectPortrait = SAM270
  ButtonImage = SAM270_s

    Draw = W3DTankDraw ModuleTag_01
    OkToChangeModelColor = Yes
    ExtraPublicBone = CORE
    DefaultConditionState
      Model = CWCusMLRS
      WeaponLaunchBone = PRIMARY WEAPONA
      WeaponFireFXBone = PRIMARY WEAPONFX
      Turret = TURRET01
      TurretPitch = BARREL
    End
    ConditionState = REALLYDAMAGED
      Model = CWCusMLRS_d
      WeaponLaunchBone = PRIMARY WEAPONA
      WeaponFireFXBone = PRIMARY WEAPONFX
      Turret = TURRET01
      TurretPitch = BARREL
    End
    ConditionState = RUBBLE
      Model = CWCusMLRS_k
      WeaponLaunchBone = PRIMARY WEAPONA
      WeaponFireFXBone = PRIMARY WEAPONFX
      Turret = TURRET01
      TurretPitch = BARREL
    End
    TrackMarks = EXTnkTrack.tga
    TreadAnimationRate = 0.75;  amount of tread texture to move per second
    TreadDriveSpeedFraction = 0.3 ; fraction of locomotor speed below which treads stop moving.
    TreadPivotSpeedFraction = 0.6 ; fraction of locomotor speed below which we allow pivoting.
  End

  ;---------------------------------------
  ; The brakes kick in
  ;---------------------------------------
  Draw = W3DModelDraw ModuleTag_BrakeDraw
    IgnoreConditionStates = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED RUBBLE
    AttachToBoneInAnotherModule = CORE
    ParticlesAttachedToAnimatedBones = Yes
    OkToChangeModelColor = Yes
    ;day, no lights, only if I brake
    ConditionState = NONE
      Model = CWCusMLRS_l
      HideSubObject = HLIGHT01 HLIGHT02
      ParticleSysBone = BRAKE01 CWCgenRearLightBraking
      ParticleSysBone = BRAKE02 CWCgenRearLightBraking
    End
    ConditionState = MOVING
      Model = CWCusMLRS_l
      HideSubObject = HLIGHT01 HLIGHT02
    End
    ;night, I always have my lights on when I move, and they flash whenever I brake
    ConditionState = NIGHT
      Model = CWCusMLRS_l
      ParticleSysBone = BRAKE01 CWCgenRearLight
      ParticleSysBone = BRAKE02 CWCgenRearLight
      ShowSubObject = HLIGHT01 HLIGHT02
      ParticleSysBone = BRAKE01 CWCgenRearLightBraking
      ParticleSysBone = BRAKE02 CWCgenRearLightBraking
    End
    ConditionState = NIGHT MOVING
      Model = CWCusMLRS_l
      ParticleSysBone = BRAKE01 CWCgenRearLight
      ParticleSysBone = BRAKE02 CWCgenRearLight
      ShowSubObject = HLIGHT01 HLIGHT02
    End
    ;enemynear, hide those red lights!
    ConditionState = ENEMYNEAR
      Model = CWCusMLRS_l
      HideSubObject = HLIGHT01 HLIGHT02
    End
    AliasConditionState = MOVING ENEMYNEAR
    AliasConditionState = NIGHT ENEMYNEAR
    AliasConditionState = NIGHT MOVING ENEMYNEAR
  End

  ;---------------------------------------
  Draw = W3DTruckDraw ModuleTag_TracksDraw
    OkToChangeModelColor = Yes
    ParticlesAttachedToAnimatedBones = Yes
    AttachToBoneInAnotherModule = CORE
    DefaultConditionState
      Model = CWCusMLRS_t
    End
    ; These parameters are only used if the model has a separate suspension,
    ; and the locomotor has HasSuspension = Yes.
    RightFrontTireBone = TIRE01
    LeftFrontTireBone = TIRE02
    MidRightFrontTireBone = TIRE03
    MidLeftFrontTireBone = TIRE04
    MidRightMidTireBone = TIRE05
    MidLeftMidTireBone = TIRE06
    MidLeftRearTireBone = TIRE07
    MidRightRearTireBone = TIRE08
    RightRearTireBone = TIRE09
    TireRotationMultiplier = 0.4 ; this * speed = rotation.
  End

  ;---------------------------------------
  ; The ability indicator
  ;---------------------------------------
  ; Draw = W3DModelDraw ModuleTag_AbilityDraw
    ; OkToChangeModelColor = Yes
    ; IgnoreConditionStates = FIRING_A RELOADING_A BETWEEN_FIRING_SHOTS_A RAPPELLING PARACHUTING FREEFALL ATTACKING REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE MOVING

    ; DefaultConditionState
      ; Model = CWCgenAbHC
      ; Animation = CWCgenAbHC.CWCgenAbHC
      ; AnimationMode = LOOP
      ; HideSubObject = HOUSECOLOR02
    ; End

    ; ConditionState = UNPACKING
      ; Model = CWCgenAbHC
      ; Animation = CWCgenAbHC.CWCgenAbHC
      ; AnimationMode = LOOP
      ; ShowSubObject = HOUSECOLOR02
    ; End
    ; AliasConditionState = PACKING
    ; AliasConditionState = RAISING_FLAG

    ; ConditionState = DYING
      ; Model = CWCgenAbHC
      ; Animation = CWCgenAbHC.CWCgenAbHC
      ; AnimationMode = LOOP
      ; HideSubObject = HOUSECOLOR02
    ; End
    ; AliasConditionState = EXPLODED_BOUNCING
    ; AliasConditionState = EXPLODED_FLAILING
    ; AliasConditionState = RUBBLE
  ; End

  ;---------------------------------------
  ; The rotating housecolors
  ;---------------------------------------
  ; Draw = W3DModelDraw ModuleTag_HousecolorDraw
    ; OkToChangeModelColor = Yes
    ; ConditionState = NONE
      ; Model = CWCusHC_B
      ; Animation = CWCusHC_B.CWCusHC_B
      ; AnimationMode = LOOP
      ; HideSubObject = HOUSECOLOR02 HOUSECOLOR03
    ; End
    ; AliasConditionState = WEAPONSET_PLAYER_UPGRADE
    ; AliasConditionState = REALLYDAMAGED
    ; AliasConditionState = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
    ; AliasConditionState = RUBBLE
    ; AliasConditionState = WEAPONSET_PLAYER_UPGRADE RUBBLE
    ; AliasConditionState = ENEMYNEAR RUBBLE
    ; AliasConditionState = ENEMYNEAR WEAPONSET_PLAYER_UPGRADE RUBBLE
    ; ConditionState = ENEMYNEAR
      ; Model = CWCusHC_B
      ; Animation = CWCusHC_B.CWCusHC_B
      ; AnimationMode = LOOP
      ; ShowSubObject = HOUSECOLOR02 HOUSECOLOR03
    ; End
    ; AliasConditionState = ENEMYNEAR WEAPONSET_PLAYER_UPGRADE
    ; AliasConditionState = ENEMYNEAR REALLYDAMAGED
    ; AliasConditionState = ENEMYNEAR WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
  ; End

  ; ***DESIGN parameters ***
  DisplayName = OBJECT:MLRS
  Side = Boss
  EditorSorting = VEHICLE
  TransportSlotCount = 10

  WeaponSet
    Conditions = None
    Weapon = PRIMARY MLRSunitaryWeapon
  End

  ArmorSet
    Conditions = None
    Armor = TruckArmor
    DamageFX = TankDamageFX
  End
  BuildCost = 15000
  BuildTime = 30.0 ;in seconds
  VisionRange = 500
  ShroudClearingRange = 500
  Prerequisites
    Object = Boss_UkraineWarFactory
	Object = Boss_UkraineInternationalHeadquaters
  End

  ;CWCExpMarker: M270
  ExperienceValue = 1500 2250 3000 4500 ;Experience point value at each level
  ExperienceRequired = 0 1868 3735 6536 ;Experience points needed to gain each level
  IsTrainable = Yes ;Can gain experience

  CrusherLevel = 2 ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel = 2 ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles

  CommandSet = UkraineVehicleMLRSCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = CWCusMLRSVoiceSelect
  VoiceMove = CWCusMLRSVoiceMove
  VoiceAttack = CWCusMLRSVoiceAttack
  VoiceGuard = CWCusMLRSVoiceGuard
  SoundMoveLoop = CWCgenModernTreadsMoving
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate = CWCusMLRSVoiceCreate
    TurretMoveStart = NoSound
    TurretMoveLoop = CWCgenTurretServo
  ; Required for the W3DTruckDraw module
    TruckLandingSound = RocketBuggyLand
    VoiceCrush = CWCusMLRSVoiceMove ;CWCusMLRSVoiceCrush
    VoiceEnter = CWCusMLRSVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = CAN_ATTACK CAN_CAST_REFLECTIONS DONT_AUTO_CRUSH_INFANTRY DONT_AUTO_CRUSH_INFANTRY POWERED PRELOAD SCORE SELECTABLE VEHICLE 

  Body = ActiveBody ModuleTag_02
    MaxHealth = 240.0
    InitialHealth = 240.0
  End

  Behavior = DeployStyleAIUpdate ModuleTag_03
    Turret
      TurretTurnRate = 40
      TurretPitchRate = 20
      FirePitch = 40 ; Instead of aiming pitchwise at the target, it will aim here
      AllowsPitch = Yes
      RecenterTime = 2500 ; how long to wait during idle before recentering
      ControlledWeaponSlots = PRIMARY
      NaturalTurretAngle = 0
      InitiallyDisabled = Yes
    End
    AutoAcquireEnemiesWhenIdle = No NotWhileAttacking
    PackTime = 4000
    UnpackTime = 4000
    TurretsFunctionOnlyWhenDeployed = Yes
    TurretsMustCenterBeforePacking = Yes
    ManualDeployAnimations = Yes
  End

  Locomotor = SET_NORMAL TomahawkLocomotor

  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 50.0
  End

  ; Behavior = EnemyNearUpdate ModuleTag_Housecolor
    ; ;nothing
  ; End

  Behavior = StealthDetectorUpdate ModuleTag_DetectStealth_Vehicle01
    CanDetectWhileContained = No ; this is a vehicle ; Can the object detect stealth objects when it is inside an object?
    CanDetectWhileGarrisoned = No ; this is a vehicle ; Can the object detect stealth objects when it is inside an object with a GarrisonContain module?
    DetectionRange = 50 ; 1/2 its visionrange ; The maximum distance that the object can detect enemy stealthed obejcts. Defaults to the object's VisionRange.
    DetectionRate = 1000 ; The time between scanning for stealthed objects.
    ExtraRequiredKindOf = INFANTRY
    ExtraForbiddenKindOf = BOAT
    InitiallyDisabled = No ; Does the detector start off in a disabled state?
  End

; --- begin Death modules ---
  Behavior = TransitionDamageFX ModuleTag_Death01
    DamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenTankDeathSmokeDamaged
    DamagedFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDamageTransition
    ;
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenTankDeathSmokeReallyDamaged
    ReallyDamagedFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDamageTransition
    ;
    RubbleParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenTankDeathSmokeRubble
    RubbleFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDamageTransition
    RubbleFXList2 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDeathRubble1
  End
  Behavior = SlowDeathBehavior ModuleTag_Death02
    DestructionDelay = 18000
    FX = MIDPOINT FX_CWCgenTankDeathRubble2
    ;OCL = MIDPOINT OCL_CWCgenTankDeathTrails
    SinkDelay = 15000
    SinkRate = 4.0
  End
; --- end Death modules ---

  Geometry = BOX
  GeometryMajorRadius = 13.0
  GeometryMinorRadius = 9.0
  GeometryHeight = 10.0
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45 ; minimum elevation angle above horizon. Used to limit shadow length
  Scale = 1.1
End

;------------------------------------------------------------------------------
Object Boss_UkraineVehicleM113

  ; *** ART Parameters ***
  SelectPortrait = SACBradley
  ButtonImage = SACBradley

  Draw = W3DTankDraw ModuleTag_01
    IgnoreConditionStates = MOVING
    OkToChangeModelColor = Yes
    ParticlesAttachedToAnimatedBones = Yes
    ExtraPublicBone = CORE
    DefaultConditionState
      Model = CWCusM113
      Animation = CWCusM113.CWCusM113
      AnimationMode = ONCE_BACKWARDS
      Flags = START_FRAME_FIRST
      Turret = TURRET01
      WeaponFireFXBone = PRIMARY MUZZLE
      WeaponLaunchBone = PRIMARY MUZZLE
      AltTurret = MORTAR01
      WeaponFireFXBone = SECONDARY WEAPONB
      WeaponLaunchBone = SECONDARY WEAPONB
      HideSubObject = MORTAR01 MORTAR02 TUBE01
    End
    ConditionState = WEAPONSET_PLAYER_UPGRADE
      Model = CWCusM113
      Animation = CWCusM113.CWCusM113
      AnimationMode = ONCE_BACKWARDS
      Flags = START_FRAME_FIRST
      ShowSubObject = MORTAR01 MORTAR02 TUBE01
    End
    ConditionState = USING_WEAPON_A
      Model = CWCusM113
      Animation = CWCusM113.CWCusM113
      AnimationMode = LOOP
    End
    ConditionState = WEAPONSET_PLAYER_UPGRADE USING_WEAPON_A
      Model = CWCusM113
      Animation = CWCusM113.CWCusM113
      AnimationMode = LOOP
      ShowSubObject = MORTAR01 MORTAR02 TUBE01
    End
    ConditionState = REALLYDAMAGED
      Model = CWCusM113_d
      Animation = CWCusM113_d.CWCusM113_d
      AnimationMode = ONCE_BACKWARDS
      Flags = START_FRAME_FIRST
    End
    ConditionState = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
      Model = CWCusM113_d
      Animation = CWCusM113_d.CWCusM113_d
      AnimationMode = ONCE_BACKWARDS
      Flags = START_FRAME_FIRST
      ShowSubObject = MORTAR01 MORTAR02 TUBE01
    End
    ConditionState = REALLYDAMAGED USING_WEAPON_A
      Model = CWCusM113_d
      Animation = CWCusM113_d.CWCusM113_d
      AnimationMode = LOOP
    End
    ConditionState = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED USING_WEAPON_A
      Model = CWCusM113_d
      Animation = CWCusM113_d.CWCusM113_d
      AnimationMode = LOOP
      ShowSubObject = MORTAR01 MORTAR02 TUBE01
    End
    ConditionState = RUBBLE
      Model = CWCusM113_k
    End
    AliasConditionState = RUBBLE USING_WEAPON_A
    AliasConditionState = RUBBLE REALLYDAMAGED USING_WEAPON_A
    ConditionState = WEAPONSET_PLAYER_UPGRADE RUBBLE
      Model = CWCusM113_k
      ShowSubObject = MORTAR01 MORTAR02 TUBE01
    End
    AliasConditionState = WEAPONSET_PLAYER_UPGRADE RUBBLE USING_WEAPON_A
    AliasConditionState = WEAPONSET_PLAYER_UPGRADE RUBBLE REALLYDAMAGED USING_WEAPON_A
    TrackMarks = EXTnkTrack.tga
    TreadAnimationRate = 0.75;  amount of tread texture to move per second
    TreadDriveSpeedFraction = 0.3 ; fraction of locomotor speed below which treads stop moving.
    TreadPivotSpeedFraction = 0.6 ; fraction of locomotor speed below which we allow pivoting.
  End

  ;---------------------------------------
  ; The hatch opens and closes
  ;---------------------------------------
  Draw = W3DModelDraw ModuleTag_HatchDraw
    AttachToBoneInAnotherModule = CORE
    ParticlesAttachedToAnimatedBones = Yes
    OkToChangeModelColor = Yes
    ConditionState = NONE
      Model = CWCusM113_do
      Animation = CWCusM113_do.CWCusM113_do
      AnimationMode = ONCE_BACKWARDS
      Flags = MAINTAIN_FRAME_ACROSS_STATES
    End
    ConditionState = WEAPONSET_PLAYER_UPGRADE
      Model = CWCusM113_do
      Animation = CWCusM113_do.CWCusM113_do
      AnimationMode = ONCE
      Flags = MAINTAIN_FRAME_ACROSS_STATES
    End
    ConditionState = REALLYDAMAGED
      Model = CWCusM113_do_d
      Animation = CWCusM113_do_d.CWCusM113_do_d
      AnimationMode = ONCE_BACKWARDS
      Flags = MAINTAIN_FRAME_ACROSS_STATES
    End
    ConditionState = REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE
      Model = CWCusM113_do_d
      Animation = CWCusM113_do_d.CWCusM113_do_d
      AnimationMode = ONCE
      Flags = MAINTAIN_FRAME_ACROSS_STATES
    End
    ConditionState = RUBBLE
      Model = CWCusM113_do_k
      Animation = CWCusM113_do_k.CWCusM113_do_k
      AnimationMode = ONCE_BACKWARDS
      Flags = MAINTAIN_FRAME_ACROSS_STATES
    End
    ConditionState = RUBBLE WEAPONSET_PLAYER_UPGRADE
      Model = CWCusM113_do_k
      Animation = CWCusM113_do_k.CWCusM113_do_k
      AnimationMode = ONCE
      Flags = MAINTAIN_FRAME_ACROSS_STATES
    End
  End

  ;---------------------------------------
  ; The brakes kick in
  ;---------------------------------------
  Draw = W3DModelDraw ModuleTag_BrakeDraw
    IgnoreConditionStates = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED RUBBLE
    AttachToBoneInAnotherModule = CORE
    ParticlesAttachedToAnimatedBones = Yes
    OkToChangeModelColor = Yes
    ;day, no lights, only if I brake
    ConditionState = NONE
      Model = CWCusM113_l
      HideSubObject = HLIGHT01 HLIGHT02
      ParticleSysBone = BRAKE01 CWCgenRearLightBraking
      ParticleSysBone = BRAKE02 CWCgenRearLightBraking
    End
    ConditionState = MOVING
      Model = CWCusM113_l
      HideSubObject = HLIGHT01 HLIGHT02
    End
    ;night, I always have my lights on when I move, and they flash whenever I brake
    ConditionState = NIGHT
      Model = CWCusM113_l
      ParticleSysBone = BRAKE01 CWCgenRearLight
      ParticleSysBone = BRAKE02 CWCgenRearLight
      ShowSubObject = HLIGHT01 HLIGHT02
      ParticleSysBone = BRAKE01 CWCgenRearLightBraking
      ParticleSysBone = BRAKE02 CWCgenRearLightBraking
    End
    ConditionState = NIGHT MOVING
      Model = CWCusM113_l
      ParticleSysBone = BRAKE01 CWCgenRearLight
      ParticleSysBone = BRAKE02 CWCgenRearLight
      ShowSubObject = HLIGHT01 HLIGHT02
    End
    ;enemynear, hide those red lights!
    ConditionState = ENEMYNEAR
      Model = CWCusM113_l
      HideSubObject = HLIGHT01 HLIGHT02
    End
    AliasConditionState = MOVING ENEMYNEAR
    AliasConditionState = NIGHT ENEMYNEAR
    AliasConditionState = NIGHT MOVING ENEMYNEAR
  End

  ;---------------------------------------
  Draw = W3DTruckDraw ModuleTag_TracksDraw
    OkToChangeModelColor = Yes
    ParticlesAttachedToAnimatedBones = Yes
    AttachToBoneInAnotherModule = CORE
    DefaultConditionState
      Model = CWCusM113_t
    End
    ; These parameters are only used if the model has a separate suspension,
    ; and the locomotor has HasSuspension = Yes.
    RightFrontTireBone = TIRE01
    LeftFrontTireBone = TIRE02
    MidRightFrontTireBone = TIRE03
    MidLeftFrontTireBone = TIRE04
    MidRightMidTireBone = TIRE05
    MidLeftMidTireBone = TIRE06
    MidLeftRearTireBone = TIRE07
    TireRotationMultiplier = 0.4 ; this * speed = rotation.
  End

  ;---------------------------------------
  ; The rotating housecolors
  ;---------------------------------------
  ; Draw = W3DModelDraw ModuleTag_HousecolorDraw
    ; OkToChangeModelColor = Yes

    ; ConditionState = NONE
      ; Model = CWCusHC_B
      ; Animation = CWCusHC_B.CWCusHC_B
      ; AnimationMode = LOOP
      ; HideSubObject = HOUSECOLOR02 HOUSECOLOR03
    ; End
    ; AliasConditionState = WEAPONSET_PLAYER_UPGRADE
    ; AliasConditionState = REALLYDAMAGED
    ; AliasConditionState = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
    ; AliasConditionState = RUBBLE
    ; AliasConditionState = WEAPONSET_PLAYER_UPGRADE RUBBLE
    ; AliasConditionState = ENEMYNEAR RUBBLE
    ; AliasConditionState = ENEMYNEAR WEAPONSET_PLAYER_UPGRADE RUBBLE

    ; ConditionState = ENEMYNEAR
      ; Model = CWCusHC_B
      ; Animation = CWCusHC_B.CWCusHC_B
      ; AnimationMode = LOOP
      ; ShowSubObject = HOUSECOLOR02 HOUSECOLOR03
    ; End
    ; AliasConditionState = ENEMYNEAR WEAPONSET_PLAYER_UPGRADE
    ; AliasConditionState = ENEMYNEAR REALLYDAMAGED
    ; AliasConditionState = ENEMYNEAR WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
  ; End

  ;the particle effects
  Draw = W3DModelDraw Module_ParticleEffects

    DefaultConditionState
      Model = CWCruBTR80_W
    End
    AliasConditionState = REALLYDAMAGED
    AliasConditionState = RUBBLE

    ConditionState = MOVING
      Model = CWCruBTR80_W
      ParticleSysBone = TreadFX01 RocketBuggyDust
      ParticleSysBone = TreadFX02 RocketBuggyDust
    End
    AliasConditionState = MOVING REALLYDAMAGED
    AliasConditionState = MOVING RUBBLE

    ConditionState = OVER_WATER
      Model = CWCruBTR80_W
      ParticleSysBone = WATER01 CWCgenAmphibWaveRest
      ParticleSysBone = WATER02 CWCgenAmphibWaveRest
    End
    AliasConditionState = OVER_WATER REALLYDAMAGED
    AliasConditionState = OVER_WATER RUBBLE

    ConditionState = OVER_WATER MOVING
      Model = CWCruBTR80_W
      ParticleSysBone = WATER03 CWCgenAmphibWave1
    End
    AliasConditionState = OVER_WATER MOVING REALLYDAMAGED
    AliasConditionState = OVER_WATER MOVING RUBBLE
  End

  ; ***DESIGN parameters ***
  DisplayName = OBJECT:M113
  Side = Boss
  EditorSorting = VEHICLE
  TransportSlotCount = 3 ;how many "slots" we take in a transport (0 == not transportable)

  WeaponSet
    Conditions              = NONE 
    Weapon                  = PRIMARY   RussianGrizzlyAutoCannonWeapon
    PreferredAgainst        = PRIMARY   INFANTRY
    Weapon                  = SECONDARY BTRDMissileWeapon
    PreferredAgainst        = SECONDARY VEHICLE STRUCTURE
  End

  ArmorSet
    Conditions = None
    Armor = CWCusM113Armor
    DamageFX = TankDamageFX
  End

  BuildCost = 800
  BuildTime = 8.0 ;in seconds
  VisionRange = 200
  ShroudClearingRange = 200
  Prerequisites
    Object = Boss_UkraineWarFactory
	Object = Boss_UkraineInternationalHeadquaters
  End

  ;CWCExpMarker: M113
  ExperienceValue = 500 750 1000 1500 ;Experience point value at each level
  ExperienceRequired = 0 398 795 1391 ;Experience points needed to gain each level
  IsTrainable = Yes ;Can gain experience

  CrusherLevel = 2 ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel = 2 ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = UkraineVehicleM113CommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = CWCusM113VoiceSelect
  VoiceMove = CWCusM113VoiceMove
  VoiceGuard = CWCusM113VoiceGuard
  VoiceAttack = CWCusM113VoiceAttack
  SoundMoveLoop = CWCgenOldTreadsMoving
  SoundEnter = HumveeEnter
  SoundExit = HumveeExit
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate = CWCusM113VoiceCreate
    TurretMoveLoop = CWCgenIFV_APCTurretServo
    VoiceCrush = CWCusM113VoiceCrush
    VoiceEnter = CWCusM113VoiceMove
    VoiceUnload = CWCusM113VoiceUnload
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = ATTACK_NEEDS_LINE_OF_SIGHT CAN_ATTACK CAN_CAST_REFLECTIONS DONT_AUTO_CRUSH_INFANTRY POWERED PRELOAD SCORE SELECTABLE TRANSPORT VEHICLE 

  Body = ActiveBody ModuleTag_02
    MaxHealth = 650.0
    InitialHealth = 650.0
  End

  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      TurretTurnRate = 160 ; turn rate, in degrees per sec
      NaturalTurretAngle = 0
      MinIdleScanAngle = 0 ; in degrees off the natural turret angle
      MaxIdleScanAngle = 360 ; in degrees off the natural turret angle
      MinIdleScanInterval = 5000 ; in milliseconds
      MaxIdleScanInterval = 10000 ; in milliseconds
      ControlledWeaponSlots = PRIMARY
    End
    AltTurret
      TurretTurnRate = 80 ; turn rate, in degrees per sec
      NaturalTurretAngle = 180
      ControlledWeaponSlots = SECONDARY
    End
    AutoAcquireEnemiesWhenIdle = Yes
  End

  Locomotor = SET_NORMAL CWCusM113Locomotor CWCusM113AmphibiousLocomotor

  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 50.0
  End

  ; Behavior = EnemyNearUpdate ModuleTag_Housecolor
    ; ;nothing
  ; End

  Behavior = StealthDetectorUpdate ModuleTag_DetectStealth_Vehicle01
    CanDetectWhileContained = No ; this is a vehicle ; Can the object detect stealth objects when it is inside an object?
    CanDetectWhileGarrisoned = No ; this is a vehicle ; Can the object detect stealth objects when it is inside an object with a GarrisonContain module?
    DetectionRange = 63 ; 1/2 its visionrange ; The maximum distance that the object can detect enemy stealthed obejcts. Defaults to the object's VisionRange.
    DetectionRate = 1000 ; The time between scanning for stealthed objects.
    ExtraRequiredKindOf = INFANTRY
    ExtraForbiddenKindOf = BOAT
    InitiallyDisabled = No ; Does the detector start off in a disabled state?
  End

  ; Behavior = ProductionUpdate ModuleTag_Mortar01
    ; ;nothing
  ; End

  ; Behavior = WeaponSetUpgrade ModuleTag_Mortar02
    ; TriggeredBy = Upgrade_CWCusM113_Mortar
  ; End

  ; Behavior = CommandSetUpgrade ModuleTag_Mortar03
    ; TriggeredBy = Upgrade_CWCusM113_Mortar
    ; CommandSet = CWCusM113_MortarCommandSet
  ; End

  Behavior = TransportContain ModuleTag_16
    PassengersAllowedToFire = No
    Slots = 7
    ScatterNearbyOnExit = No
    HealthRegen%PerSec = 10
    DamagePercentToUnits = 50%
    AllowInsideKindOf = INFANTRY
    ExitDelay = 250
    NumberOfExitPaths = 2 ; Defaults to 1.  Set 0 to not use ExitStart/ExitEnd, set higher than 1 to use ExitStart01-nn/ExitEnd01-nn
    GoAggressiveOnExit = Yes ; AI Will tell people to set their mood to Aggressive on exiting
    DestroyRidersWhoAreNotFreeToExit = Yes
  End

; --- begin Death modules ---
  Behavior = TransitionDamageFX ModuleTag_Death01
    DamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenTankDeathSmokeDamaged
    DamagedFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDamageTransition
    ;
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenTankDeathSmokeReallyDamaged
    ReallyDamagedFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDamageTransition
    ;
    RubbleParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenTankDeathSmokeRubble
    RubbleFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDamageTransition
    RubbleFXList2 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDeathRubble1
  End
  Behavior = SlowDeathBehavior ModuleTag_Death02
    DestructionDelay = 18000
    FX = MIDPOINT FX_CWCgenTankDeathRubble2
    ;OCL = MIDPOINT OCL_CWCgenTankDeathTrails
    SinkDelay = 15000
    SinkRate = 4.0
  End
; --- end Death modules ---

  ClientUpdate = AnimatedParticleSysBoneClientUpdate ModuleTag_Client01
  End

  Geometry = BOX
  GeometryMajorRadius = 15.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 20.0
  ;GeometryHeight = 10.0
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45 ; minimum elevation angle above horizon. Used to limit shadow length
  Scale = 1.1
End

;------------------------------------------------------------------------------
Object Boss_UkraineVehicleHumvee

  ; *** ART Parameters ***
  SelectPortrait = SAHummer_L
  ButtonImage = SAHummer

  Draw = W3DTruckDraw ModuleTag_01
    OkToChangeModelColor = Yes
    ExtraPublicBone = CORE
    DefaultConditionState
      Model = CWCusM998_M2F
      Turret = TURRET01
      Animation = CWCusM998_M2F.CWCusM998_M2F
      AnimationMode = ONCE_BACKWARDS
      Flags = START_FRAME_FIRST
      WeaponFireFXBone = PRIMARY M2_MUZZLE
      WeaponLaunchBone = PRIMARY M2_MUZZLE
    End
    AliasConditionState = TURRET_ROTATE
    AliasConditionState = RELOADING_A
    ConditionState = USING_WEAPON_A
      Model = CWCusM998_M2F
      Turret = TURRET01
      Animation = CWCusM998_M2F.CWCusM998_M2F
      AnimationMode = LOOP
    End
    AliasConditionState = BETWEEN_FIRING_SHOTS_A
    ConditionState = REALLYDAMAGED
      Model = CWCusM998_M2F_d
      Turret = TURRET01
      Animation = CWCusM998_M2F_d.CWCusM998_M2F_d
      AnimationMode = ONCE_BACKWARDS
      Flags = START_FRAME_FIRST
    End
    AliasConditionState = REALLYDAMAGED TURRET_ROTATE
    AliasConditionState = REALLYDAMAGED RELOADING_A
    ConditionState = REALLYDAMAGED USING_WEAPON_A
      Model = CWCusM998_M2F_d
      Turret = TURRET01
      Animation = CWCusM998_M2F_d.CWCusM998_M2F_d
      AnimationMode = LOOP
    End
    AliasConditionState = REALLYDAMAGED BETWEEN_FIRING_SHOTS_A
    ConditionState = RUBBLE
      Model = CWCusM998_M2E_k
    End
    TrackMarks = EXTireTrack.tga
    Dust = RocketBuggyDust
    DirtSpray = RocketBuggyDirtSpray
    ; These parameters are only used if the model has a separate suspension,
    ; and the locomotor has HasSuspension = Yes.
    LeftFrontTireBone = WHEEL01
    RightFrontTireBone = WHEEL03
    LeftRearTireBone = WHEEL02
    RightRearTireBone = WHEEL04
    TireRotationMultiplier = 0.2 ; this * speed = rotation.
    PowerslideRotationAddition = 0 ; This vehicle doesn't powerslide.
  End

  ;---------------------------------------
  ; The brakes kick in
  ;---------------------------------------
  Draw = W3DModelDraw ModuleTag_BrakeDraw
    IgnoreConditionStates = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED RUBBLE
    AttachToBoneInAnotherModule = CORE
    ParticlesAttachedToAnimatedBones = Yes
    OkToChangeModelColor = Yes
    ;day, no lights, only if I brake
    ConditionState = NONE
      Model = CWCusM998_l
      HideSubObject = HLIGHT01 HLIGHT02
      ParticleSysBone = BRAKE01 CWCgenRearLightBraking
      ParticleSysBone = BRAKE02 CWCgenRearLightBraking
    End
    ConditionState = MOVING
      Model = CWCusM998_l
      HideSubObject = HLIGHT01 HLIGHT02
    End
    ;night, I always have my lights on when I move, and they flash whenever I brake
    ConditionState = NIGHT
      Model = CWCusM998_l
      ParticleSysBone = BRAKE01 CWCgenRearLight
      ParticleSysBone = BRAKE02 CWCgenRearLight
      ShowSubObject = HLIGHT01 HLIGHT02
      ParticleSysBone = BRAKE01 CWCgenRearLightBraking
      ParticleSysBone = BRAKE02 CWCgenRearLightBraking
    End
    ConditionState = NIGHT MOVING
      Model = CWCusM998_l
      ParticleSysBone = BRAKE01 CWCgenRearLight
      ParticleSysBone = BRAKE02 CWCgenRearLight
      ShowSubObject = HLIGHT01 HLIGHT02
    End
    ;enemynear, hide those red lights!
    ConditionState = ENEMYNEAR
      Model = CWCusM998_l
      HideSubObject = HLIGHT01 HLIGHT02
    End
    AliasConditionState = MOVING ENEMYNEAR
    AliasConditionState = NIGHT ENEMYNEAR
    AliasConditionState = NIGHT MOVING ENEMYNEAR
  End

  ;---------------------------------------
  ; The rotating housecolors
  ;---------------------------------------
  ; Draw = W3DModelDraw ModuleTag_HousecolorDraw
    ; OkToChangeModelColor = Yes

    ; ConditionState = NONE
      ; Model = CWCusHC_B
      ; Animation = CWCusHC_B.CWCusHC_B
      ; AnimationMode = LOOP
      ; HideSubObject = HOUSECOLOR02 HOUSECOLOR03
    ; End
    ; AliasConditionState = WEAPONSET_PLAYER_UPGRADE
    ; AliasConditionState = REALLYDAMAGED
    ; AliasConditionState = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
    ; AliasConditionState = RUBBLE
    ; AliasConditionState = WEAPONSET_PLAYER_UPGRADE RUBBLE
    ; AliasConditionState = ENEMYNEAR RUBBLE
    ; AliasConditionState = ENEMYNEAR WEAPONSET_PLAYER_UPGRADE RUBBLE

    ; ConditionState = ENEMYNEAR
      ; Model = CWCusHC_B
      ; Animation = CWCusHC_B.CWCusHC_B
      ; AnimationMode = LOOP
      ; ShowSubObject = HOUSECOLOR02 HOUSECOLOR03
    ; End
    ; AliasConditionState = ENEMYNEAR WEAPONSET_PLAYER_UPGRADE
    ; AliasConditionState = ENEMYNEAR REALLYDAMAGED
    ; AliasConditionState = ENEMYNEAR WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
  ; End

  ; ***DESIGN parameters ***
  DisplayName = OBJECT:Humvee
  Side = Boss
  EditorSorting = VEHICLE
  TransportSlotCount = 3 ;how many "slots" we take in a transport (0 == not transportable)

  WeaponSet
    Conditions = NONE
    Weapon = PRIMARY HumveeGun
  End

  ArmorSet
    Conditions = None
    Armor = HumveeArmor
    DamageFX = TruckDamageFX
  End

  BuildCost = 250
  BuildTime = 10.0 ;in seconds
  VisionRange = 200
  ShroudClearingRange = 225
  
  Prerequisites
    Object = Boss_UkraineWarFactory
	Object = Boss_UkraineInternationalHeadquaters
  End

  ;CWCExpMarker: M998(M2)
  ExperienceValue = 400 600 800 1200 ;Experience point value at each level
  ExperienceRequired = 0 398 795 1391 ;Experience points needed to gain each level
  IsTrainable = Yes ;Can gain experience

  CrusherLevel = 2 ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel = 2 ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = UkraineVehicleHumveeCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = CWCusM998VoiceSelect
  VoiceMove = CWCusM998VoiceMove
  VoiceAttack = CWCusM998VoiceAttack
  VoiceGuard = CWCusM998VoiceGuard
  SoundEnter = HumveeEnter
  SoundExit = HumveeExit
  SoundMoveLoop = CWCusM998VehicleMoving
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate = CWCusM998_M2VoiceCreate
    VoiceCrush = CWCusM998VoiceCrush
    VoiceEnter = CWCusM998VoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = ATTACK_NEEDS_LINE_OF_SIGHT CAN_ATTACK CAN_CAST_REFLECTIONS DONT_AUTO_CRUSH_INFANTRY POWERED PRELOAD SCORE SELECTABLE TRANSPORT VEHICLE 

  Body = ActiveBody ModuleTag_02
    MaxHealth = 240.0
    InitialHealth = 240.0
  End
  Behavior = AIUpdateInterface ModuleTag_05
    Turret
      TurretTurnRate = 160 ; turn rate, in degrees per sec
      NaturalTurretAngle = 0
      MinIdleScanAngle = 0 ; in degrees off the natural turret angle
      MaxIdleScanAngle = 360 ; in degrees off the natural turret angle
      MinIdleScanInterval = 5000 ; in milliseconds
      MaxIdleScanInterval = 10000 ; in milliseconds
      ControlledWeaponSlots = PRIMARY
      FiresWhileTurning = Yes
    End
    AutoAcquireEnemiesWhenIdle = Yes
  End
  Locomotor = SET_NORMAL HumveeLocomotor

  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 50.0
  End

  ; Behavior = EnemyNearUpdate ModuleTag_Housecolor
    ; ;nothing
  ; End

  Behavior = StealthDetectorUpdate ModuleTag_DetectStealth_Vehicle01
    DetectionRate = 1000
    DetectionRange = 175
    CanDetectWhileGarrisoned = Yes
    CanDetectWhileContained = No
    ExtraForbiddenKindOf = MINE AIRCRAFT DEMOTRAP
  End

; --- begin Death modules ---
  Behavior = TransitionDamageFX ModuleTag_Death01
    DamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenTankDeathSmokeDamaged
    DamagedFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDamageTransition
    ;
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenTankDeathSmokeReallyDamaged
    ReallyDamagedFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDamageTransition
    ;
    RubbleParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenTankDeathSmokeRubble
    RubbleFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDamageTransition
    RubbleFXList2 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDeathRubble1
  End
  Behavior = SlowDeathBehavior ModuleTag_Death02
    DestructionDelay = 18000
    FX = MIDPOINT FX_CWCgenTankDeathRubble2
    ;OCL = MIDPOINT OCL_CWCgenTankDeathTrails
    SinkDelay = 15000
    SinkRate = 4.0
  End
; --- end Death modules ---

  Behavior = TransportContain ModuleTag_16
    PassengersAllowedToFire = Yes
    Slots = 5
    ScatterNearbyOnExit = No
    HealthRegen%PerSec = 10
    DamagePercentToUnits = 50%
    AllowInsideKindOf = INFANTRY
    ExitDelay = 250
    NumberOfExitPaths = 2 ; Defaults to 1.  Set 0 to not use ExitStart/ExitEnd, set higher than 1 to use ExitStart01-nn/ExitEnd01-nn
    GoAggressiveOnExit = Yes ; AI Will tell people to set their mood to Aggressive on exiting
    DestroyRidersWhoAreNotFreeToExit = Yes
  End

  Geometry = BOX
  GeometryMajorRadius = 12.0
  GeometryMinorRadius = 6.0
  ;GeometryHeight = 10.0
  GeometryHeight = 20.0
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45 ; minimum elevation angle above horizon. Used to limit shadow length
  Scale = 1.1
End

;------------------------------------------------------------------------------
Object Boss_UkraineVehicleCaesar

  ; *** ART Parameters ***
  SelectPortrait         = BIAlMajnoon
  ButtonImage            = BIAlMajnoon
  
  Draw = W3DTruckDraw ModuleTag_01
    OkToChangeModelColor  = Yes
    ConditionState        = NONE
      Model               = IVAlMajnoon
      Turret              = TURRET01
      TurretPitch         = TURRETEL
      AltTurret           = SECTURRET
      HideSubObject       = SECTURRET 
      WeaponFireFXBone    = PRIMARY PRIMARYMUZZLE
      WeaponRecoilBone    = PRIMARY Barral
      WeaponLaunchBone    = PRIMARY PRIMARYMUZZLE
    End
    ConditionState        = RUBBLE REALLYDAMAGED
      Model               = IVAlMajnoon
      Turret              = TURRET01
      TurretPitch         = TURRETEL
      AltTurret           = SECTURRET
      HideSubObject       = SECTURRET 
      WeaponFireFXBone    = PRIMARY PRIMARYMUZZLE
      WeaponRecoilBone    = PRIMARY Barral
      WeaponLaunchBone    = PRIMARY PRIMARYMUZZLE
      ParticleSysBone      = TURRET01 SteamVent
    End
    TrackMarks = EXTireTrack.tga
    Dust = ScudLauncherDust
    DirtSpray = RocketBuggyDirtSpray
    PowerslideSpray = RocketBuggyDirtPowerSlide
    ; These parameters are only used if the model has a separate suspension, 
    ; and the locomotor has HasSuspension = Yes.
    LeftFrontTireBone = Tire01
    RightFrontTireBone = Tire05
    LeftRearTireBone = Tire04
    RightRearTireBone = Tire08
    MidLeftFrontTireBone = Tire02
    MidRightFrontTireBone = Tire06
    MidLeftRearTireBone = Tire03
    MidRightRearTireBone = Tire07
    TireRotationMultiplier = 0.2   ; this * speed = rotation.
    ;PowerslideRotationAddition = 0.0   ; This speed is added to the rotation speed when powersliding.
  End

  ; ***DESIGN parameters ***
  DisplayName        = OBJECT:Caesar
  Side               = Boss
  EditorSorting      = VEHICLE
  TransportSlotCount = 4                 ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions       = None 
    Weapon           = PRIMARY ALMajArtilCannonGun
  End
  ArmorSet
    Conditions      = None
    Armor           = TankArmor
    DamageFX        = TankDamageFX
  End
  BuildCost          = 15000
  BuildTime          = 24.0          ;in seconds    
  VisionRange        = 300
  ShroudClearingRange = 800
  Prerequisites
    Object = Boss_UkraineWarFactory
	Object = Boss_UkraineInternationalHeadquaters
  End

  ExperienceValue = 50 50 100 150    ;Experience point value at each level
  ExperienceRequired = 0 100 200 400  ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet      = GenericCommandSet


  ; *** ENGINEERING Parameters ***
  RadarPriority     = UNIT
  KindOf            = PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS VEHICLE SCORE SALVAGER
  
  Body              = ActiveBody ModuleTag_02
    MaxHealth       = 120.0
    InitialHealth   = 120.0
    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 240
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

  Behavior = AIUpdateInterface ModuleTag_04
    Turret
      TurretTurnRate = 100
      TurretPitchRate = 100
      AllowsPitch = Yes
      FirePitch = 50
      ControlledWeaponSlots = PRIMARY
    End
    AutoAcquireEnemiesWhenIdle = Yes NotWhileAttacking
  End
  Locomotor = SET_NORMAL InfernoLocomotor
  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 50.0
  End

  ; A crushing defeat
  Behavior               = FXListDie ModuleTag_06
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX         = FX_CarCrush
  End
  Behavior               = CreateObjectDie ModuleTag_07
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList    = OCL_CrusaderTank_CrushEffect
  End
  Behavior = SlowDeathBehavior ModuleTag_08
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier = 50
    DestructionDelay = 2000
    DestructionDelayVariance = 300
    FX  = INITIAL  FX_CrusaderCatchFire  
    FX  = FINAL    FX_GenericTankDeathExplosion 
    OCL = FINAL    OCL_InfernoCannonDeathEffect
  End

  Behavior                 = TransitionDamageFX ModuleTag_09
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
    ReallyDamagedFXList1 = Loc: X:-7 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  ; Behavior = ProductionUpdate ModuleTag_13
    ; MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  ; End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = DestroyDie ModuleTag_22
    DeathTypes = NONE +CRUSHED +SPLATTED
  End

  Behavior = StealthUpdate ModuleTag_10
    StealthDelay                = 2500 ; msec
    StealthForbiddenConditions  = MOVING ATTACKING USING_ABILITY TAKING_DAMAGE
    MoveThresholdSpeed          = 3
    InnateStealth               = Yes ;doesnt Require upgrade first
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
  End

  Geometry            = BOX
  GeometryMajorRadius = 25.0
  GeometryMinorRadius = 20.0
  GeometryHeight      = 15.0     
  GeometryIsSmall     = Yes
  Shadow              = SHADOW_VOLUME 
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length   
  Scale = 0.9
End

;-----------------------------------------------------------------------------------------------------------------
Object Boss_UkraineVehiclePion

  ; *** ART Parameters ***
  SelectPortrait         = SNNukeCannon_L
  ButtonImage            = SNNukeCannon

  Draw = W3DTankDraw ModuleTag_01
    InitialRecoilSpeed   = 120
    MaxRecoilDistance    = 8
    RecoilSettleSpeed    = 6
    OkToChangeModelColor = Yes
    DefaultConditionState
      Model                           = UVPion
      WeaponLaunchBone                = PRIMARY Muzzle01
      WeaponMuzzleFlash               = PRIMARY BARRELFX01
      WeaponFireFXBone                = PRIMARY Muzzle01
      WeaponRecoilBone                = PRIMARY Barrel01
      HideSubObject                   = BARREL02 FIRST01 Second01 Muzzle02 BARRELFX02
      ;ShowSubObject                   = TURRETFRONT TURRETBACK  ;Show pack/unpack animated turret
      ;Turret                          = TURRET01
    End
    ConditionState                    = RUBBLE
      Model                           = UVPion_D
      WeaponLaunchBone                = PRIMARY Muzzle01
      WeaponMuzzleFlash               = PRIMARY BARRELFX01
      WeaponFireFXBone                = PRIMARY Muzzle01
      WeaponRecoilBone                = PRIMARY Barrel01
      HideSubObject                   = BARREL02 FIRST01 Second01 Muzzle02 BARRELFX02
      ;ShowSubObject                   = TURRETFRONT TURRETBACK  ;Show pack/unpack animated turret
      ;Turret                          = TURRET01
    End

    ;*** PACKED STATE -- ready to move ***
    ConditionState    = MOVING
      Animation       = UVPion.UVPion
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_FIRST
      HideSubObject                   = BARREL02 FIRST01 Second01 Muzzle02 BARRELFX02
    End
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_A ;Very long shot delay -- possibly moving
    AliasConditionState = BETWEEN_FIRING_SHOTS_A
    ;***
    ConditionState    = REALLYDAMAGED MOVING
      Model           = UVPion_D
      Animation       = UVPion_D.UVPion_D
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_FIRST
      HideSubObject                   = BARREL02 FIRST01 Second01 Muzzle02 BARRELFX02
    End
    AliasConditionState = REALLYDAMAGED MOVING BETWEEN_FIRING_SHOTS_A ;Very long shot delay -- possibly moving
     
    ;*** UNPACKING STATE  -- preparing to fire ***
    ConditionState    = UNPACKING
      Animation       = UVPion.UVPion
      AnimationMode   = MANUAL
      HideSubObject                   = BARREL02 FIRST01 Second01 Muzzle02 BARRELFX02
    End
    AliasConditionState = UNPACKING BETWEEN_FIRING_SHOTS_A ;Very long shot delay
    ;***
    ConditionState    = REALLYDAMAGED UNPACKING
      Model           = UVPion_D
      Animation       = UVPion_D.UVPion_D
      AnimationMode   = MANUAL
      HideSubObject                   = BARREL02 FIRST01 Second01 Muzzle02 BARRELFX02
    End
    AliasConditionState = REALLYDAMAGED UNPACKING BETWEEN_FIRING_SHOTS_A ;Very long shot delay

    ;*** PACKING STATE -- preparing to move ***
    ConditionState    = PACKING
      Animation       = UVPion.UVPion
      AnimationMode   = MANUAL
      HideSubObject                   = BARREL02 FIRST01 Second01 Muzzle02 BARRELFX02
    End
    AliasConditionState = PACKING BETWEEN_FIRING_SHOTS_A ;Very long shot delay
    ;***
    ConditionState    = REALLYDAMAGED PACKING
      Model           = UVPion_D
      Animation       = UVPion_D.UVPion_D
      AnimationMode   = MANUAL
      HideSubObject                   = BARREL02 FIRST01 Second01 Muzzle02 BARRELFX02
    End
    AliasConditionState = REALLYDAMAGED PACKING BETWEEN_FIRING_SHOTS_A ;Very long shot delay
    AliasConditionState = REALLYDAMAGED PACKING BETWEEN_FIRING_SHOTS_B ;Very long shot delay

    ;*** DEPLOYED STATE -- ready to fire ***
    ConditionState  = DEPLOYED 
      Animation       = UVPion.UVPion
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
      TransitionKey   = TRANS_FIRING_A
      HideSubObject                   = BARREL02 FIRST01 Second01 Muzzle02 BARRELFX02
      ;ShowSubObject   = TURRET01      ;Show controlled turret
    End
    AliasConditionState = DEPLOYED FIRING_A
    AliasConditionState = DEPLOYED BETWEEN_FIRING_SHOTS_A
    AliasConditionState = DEPLOYED RELOADING_A
    AliasConditionState = DEPLOYED MOVING

    ConditionState  = DEPLOYED REALLYDAMAGED
      Model           = UVPion_D
      Animation       = UVPion_D.UVPion_D
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
      TransitionKey   = TRANS_FIRING_A
      HideSubObject                   = BARREL02 FIRST01 Second01 Muzzle02 BARRELFX02
      ;ShowSubObject   = TURRET01      ;Show controlled turret
    End
    AliasConditionState = DEPLOYED REALLYDAMAGED FIRING_A
    AliasConditionState = DEPLOYED REALLYDAMAGED BETWEEN_FIRING_SHOTS_A
    AliasConditionState = DEPLOYED REALLYDAMAGED RELOADING_A
    AliasConditionState = DEPLOYED REALLYDAMAGED MOVING
    
    ConditionState = WEAPONSET_CRATEUPGRADE_ONE 
      Model                           = UVPion
      WeaponLaunchBone                = PRIMARY Muzzle01
      WeaponMuzzleFlash               = PRIMARY BARRELFX01
      WeaponFireFXBone                = PRIMARY Muzzle01
      WeaponRecoilBone                = PRIMARY Barrel01
      HideSubObject                   = BARREL02 Second01 Muzzle02 BARRELFX02
      ShowSubObject                   = FIRST01 
      ;Turret                          = TURRET01
    End
      
    ConditionState                    = WEAPONSET_CRATEUPGRADE_ONE RUBBLE
      Model                           = UVPion_D
      WeaponLaunchBone                = PRIMARY Muzzle01
      WeaponMuzzleFlash               = PRIMARY BARRELFX01
      WeaponFireFXBone                = PRIMARY Muzzle01
      WeaponRecoilBone                = PRIMARY Barrel01
      HideSubObject                   = BARREL02 Second01 Muzzle02 BARRELFX02
      ShowSubObject                   = FIRST01 
      ;Turret                          = TURRET01
    End

    ;*** PACKED STATE -- ready to move ***
    ConditionState    = WEAPONSET_CRATEUPGRADE_ONE MOVING
      Animation       = UVPion.UVPion
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_FIRST
      HideSubObject                   = BARREL02 Second01 Muzzle02 BARRELFX02
      ShowSubObject                   = FIRST01 
    End
    AliasConditionState = WEAPONSET_CRATEUPGRADE_ONE MOVING BETWEEN_FIRING_SHOTS_A ;Very long shot delay -- possibly moving
    AliasConditionState = WEAPONSET_CRATEUPGRADE_ONE BETWEEN_FIRING_SHOTS_A
    ;***
    ConditionState    = WEAPONSET_CRATEUPGRADE_ONE REALLYDAMAGED MOVING
      Model           = UVPion_D
      Animation       = UVPion_D.UVPion_D
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_FIRST
      HideSubObject                   = BARREL02 Second01 Muzzle02 BARRELFX02
      ShowSubObject                   = FIRST01 
    End
    AliasConditionState = WEAPONSET_CRATEUPGRADE_ONE REALLYDAMAGED MOVING BETWEEN_FIRING_SHOTS_A ;Very long shot delay -- possibly moving
     

    ;*** UNPACKING STATE  -- preparing to fire ***
    ConditionState    = WEAPONSET_CRATEUPGRADE_ONE UNPACKING
      Animation       = UVPion.UVPion
      AnimationMode   = MANUAL
      HideSubObject                   = BARREL02 Second01 Muzzle02 BARRELFX02
      ShowSubObject                   = FIRST01 
    End
    AliasConditionState = WEAPONSET_CRATEUPGRADE_ONE UNPACKING BETWEEN_FIRING_SHOTS_A ;Very long shot delay
    ;***
    ConditionState    = WEAPONSET_CRATEUPGRADE_ONE REALLYDAMAGED UNPACKING
      Model           = UVPion_D
      Animation       = UVPion_D.UVPion_D
      AnimationMode   = MANUAL
      HideSubObject                   = BARREL02 Second01 Muzzle02 BARRELFX02
      ShowSubObject                   = FIRST01 
    End
    AliasConditionState = WEAPONSET_CRATEUPGRADE_ONE REALLYDAMAGED UNPACKING BETWEEN_FIRING_SHOTS_A ;Very long shot delay

    ;*** PACKING STATE -- preparing to move ***
    ConditionState    = WEAPONSET_CRATEUPGRADE_ONE PACKING
      Animation       = UVPion.UVPion
      AnimationMode   = MANUAL
      HideSubObject                   = BARREL02 Second01 Muzzle02 BARRELFX02
      ShowSubObject                   = FIRST01 
    End
    AliasConditionState = WEAPONSET_CRATEUPGRADE_ONE PACKING BETWEEN_FIRING_SHOTS_A ;Very long shot delay
    ;***
    ConditionState    = WEAPONSET_CRATEUPGRADE_ONE REALLYDAMAGED PACKING
      Model           = UVPion_D
      Animation       = UVPion_D.UVPion_D
      AnimationMode   = MANUAL
      HideSubObject                   = BARREL02 Second01 Muzzle02 BARRELFX02
      ShowSubObject                   = FIRST01 
    End
    AliasConditionState = WEAPONSET_CRATEUPGRADE_ONE REALLYDAMAGED PACKING BETWEEN_FIRING_SHOTS_A ;Very long shot delay
    AliasConditionState = WEAPONSET_CRATEUPGRADE_ONE REALLYDAMAGED PACKING BETWEEN_FIRING_SHOTS_B ;Very long shot delay

    ;*** DEPLOYED STATE -- ready to fire ***
    ConditionState  = WEAPONSET_CRATEUPGRADE_ONE DEPLOYED 
      Animation       = UVPion.UVPion
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
      TransitionKey   = TRANS_FIRING_A
      HideSubObject                   = BARREL02 Second01 Muzzle02 BARRELFX02
      ShowSubObject                   = FIRST01
    End
    AliasConditionState = WEAPONSET_CRATEUPGRADE_ONE DEPLOYED FIRING_A
    AliasConditionState = WEAPONSET_CRATEUPGRADE_ONE DEPLOYED BETWEEN_FIRING_SHOTS_A
    AliasConditionState = WEAPONSET_CRATEUPGRADE_ONE DEPLOYED RELOADING_A
    AliasConditionState = WEAPONSET_CRATEUPGRADE_ONE DEPLOYED MOVING

    ConditionState  = WEAPONSET_CRATEUPGRADE_ONE DEPLOYED REALLYDAMAGED
      Model           = UVPion_D
      Animation       = UVPion_D.UVPion_D
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
      TransitionKey   = TRANS_FIRING_A
      HideSubObject                   = BARREL02 Second01 Muzzle02 BARRELFX02
      ShowSubObject                   = FIRST01
    End
    AliasConditionState =WEAPONSET_CRATEUPGRADE_ONE  DEPLOYED REALLYDAMAGED FIRING_A
    AliasConditionState = WEAPONSET_CRATEUPGRADE_ONE DEPLOYED REALLYDAMAGED BETWEEN_FIRING_SHOTS_A
    AliasConditionState = WEAPONSET_CRATEUPGRADE_ONE DEPLOYED REALLYDAMAGED RELOADING_A
    AliasConditionState = WEAPONSET_CRATEUPGRADE_ONE DEPLOYED REALLYDAMAGED MOVING

    ConditionState = WEAPONSET_CRATEUPGRADE_TWO 
      Model                           = UVPion
      WeaponLaunchBone                = PRIMARY Muzzle02
      WeaponMuzzleFlash               = PRIMARY BARRELFX02
      WeaponFireFXBone                = PRIMARY Muzzle02
      WeaponRecoilBone                = PRIMARY Barrel02
      HideSubObject                   = BARREL01 Muzzle01 BARRELFX01
      ShowSubObject                   = FIRST01 Second01 Muzzle02 BARRELFX02 BARREL02
      ;Turret                          = TURRET01
    End
      
    ConditionState                    = WEAPONSET_CRATEUPGRADE_TWO RUBBLE
      Model                           = UVPion_D
      WeaponLaunchBone                = PRIMARY Muzzle02
      WeaponMuzzleFlash               = PRIMARY BARRELFX02
      WeaponFireFXBone                = PRIMARY Muzzle02
      WeaponRecoilBone                = PRIMARY Barrel02
      HideSubObject                   = BARREL01 Muzzle01 BARRELFX01
      ShowSubObject                   = FIRST01 Second01 Muzzle02 BARRELFX02 BARREL02
      ;Turret                          = TURRET01
    End

    ;*** PACKED STATE -- ready to move ***
    ConditionState    = WEAPONSET_CRATEUPGRADE_TWO MOVING
      Animation       = UVPion.UVPion
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_FIRST
      HideSubObject                   = BARREL01 Muzzle01 BARRELFX01
      ShowSubObject                   = FIRST01 Second01 Muzzle02 BARRELFX02 BARREL02
    End
    AliasConditionState = WEAPONSET_CRATEUPGRADE_TWO MOVING BETWEEN_FIRING_SHOTS_A ;Very long shot delay -- possibly moving
    AliasConditionState = WEAPONSET_CRATEUPGRADE_TWO BETWEEN_FIRING_SHOTS_A
    ;***
    ConditionState    = WEAPONSET_CRATEUPGRADE_TWO REALLYDAMAGED MOVING
      Model           = UVPion_D
      Animation       = UVPion_D.UVPion_D
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_FIRST
      HideSubObject                   = BARREL01 Muzzle01 BARRELFX01
      ShowSubObject                   = FIRST01 Second01 Muzzle02 BARRELFX02 BARREL02
    End
    AliasConditionState = WEAPONSET_CRATEUPGRADE_TWO REALLYDAMAGED MOVING BETWEEN_FIRING_SHOTS_A ;Very long shot delay -- possibly moving
     

    ;*** UNPACKING STATE  -- preparing to fire ***
    ConditionState    = WEAPONSET_CRATEUPGRADE_TWO UNPACKING
      Animation       = UVPion.UVPion
      AnimationMode   = MANUAL
      HideSubObject                   = BARREL01 Muzzle01 BARRELFX01
      ShowSubObject                   = FIRST01 Second01 Muzzle02 BARRELFX02 BARREL02
    End
    AliasConditionState = WEAPONSET_CRATEUPGRADE_TWO UNPACKING BETWEEN_FIRING_SHOTS_A ;Very long shot delay
    ;***
    ConditionState    = WEAPONSET_CRATEUPGRADE_TWO REALLYDAMAGED UNPACKING
      Model           = UVPion_D
      Animation       = UVPion_D.UVPion_D
      AnimationMode   = MANUAL
      HideSubObject                   = BARREL01 Muzzle01 BARRELFX01
      ShowSubObject                   = FIRST01 Second01 Muzzle02 BARRELFX02 BARREL02
    End
    AliasConditionState = WEAPONSET_CRATEUPGRADE_TWO REALLYDAMAGED UNPACKING BETWEEN_FIRING_SHOTS_A ;Very long shot delay

    ;*** PACKING STATE -- preparing to move ***
    ConditionState    = WEAPONSET_CRATEUPGRADE_TWO PACKING
      Animation       = UVPion.UVPion
      AnimationMode   = MANUAL
      HideSubObject                   = BARREL01 Muzzle01 BARRELFX01
      ShowSubObject                   = FIRST01 Second01 Muzzle02 BARRELFX02 BARREL02
    End
    AliasConditionState = WEAPONSET_CRATEUPGRADE_TWO PACKING BETWEEN_FIRING_SHOTS_A ;Very long shot delay
    ;***
    ConditionState    = WEAPONSET_CRATEUPGRADE_TWO REALLYDAMAGED PACKING
      Model           = UVPion_D
      Animation       = UVPion_D.UVPion_D
      AnimationMode   = MANUAL
      HideSubObject                   = BARREL01 Muzzle01 BARRELFX01
      ShowSubObject                   = FIRST01 Second01 Muzzle02 BARRELFX02 BARREL02
    End
    AliasConditionState = WEAPONSET_CRATEUPGRADE_TWO REALLYDAMAGED PACKING BETWEEN_FIRING_SHOTS_A ;Very long shot delay
    AliasConditionState = WEAPONSET_CRATEUPGRADE_TWO REALLYDAMAGED PACKING BETWEEN_FIRING_SHOTS_B ;Very long shot delay

    ;*** DEPLOYED STATE -- ready to fire ***
    ConditionState  = WEAPONSET_CRATEUPGRADE_TWO DEPLOYED 
      Animation       = UVPion.UVPion
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
      TransitionKey   = TRANS_FIRING_A
      HideSubObject                   = BARREL01 Muzzle01 BARRELFX01
      ShowSubObject                   = FIRST01 Second01 Muzzle02 BARRELFX02 BARREL02
    End
    AliasConditionState = WEAPONSET_CRATEUPGRADE_TWO DEPLOYED FIRING_A
    AliasConditionState = WEAPONSET_CRATEUPGRADE_TWO DEPLOYED BETWEEN_FIRING_SHOTS_A
    AliasConditionState = WEAPONSET_CRATEUPGRADE_TWO DEPLOYED RELOADING_A
    AliasConditionState = WEAPONSET_CRATEUPGRADE_TWO DEPLOYED MOVING

    ConditionState  = WEAPONSET_CRATEUPGRADE_TWO DEPLOYED REALLYDAMAGED
      Model           = UVPion_D
      Animation       = UVPion_D.UVPion_D
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
      TransitionKey   = TRANS_FIRING_A
      HideSubObject                   = BARREL01 Muzzle01 BARRELFX01
      ShowSubObject                   = FIRST01 Second01 Muzzle02 BARRELFX02 BARREL02
    End
    AliasConditionState WEAPONSET_CRATEUPGRADE_TWO DEPLOYED REALLYDAMAGED FIRING_A
    AliasConditionState = WEAPONSET_CRATEUPGRADE_TWO DEPLOYED REALLYDAMAGED BETWEEN_FIRING_SHOTS_A
    AliasConditionState = WEAPONSET_CRATEUPGRADE_TWO DEPLOYED REALLYDAMAGED RELOADING_A
    AliasConditionState = WEAPONSET_CRATEUPGRADE_TWO DEPLOYED REALLYDAMAGED MOVING
    TrackMarks              = EXTnkTrack.tga
    TreadAnimationRate      = 4.0  ; amount of tread texture to move per second
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Pion
  Side             = Boss
  EditorSorting    = VEHICLE
  TransportSlotCount = 10                 ;how many "slots" we take in a transport (0 == not transportable)
  
  WeaponSet
    Conditions = None 
    Weapon = PRIMARY PionCannonGun
  End

  ArmorSet
    Conditions      = None
    Armor           = ArtilleryVehicleArmor
    DamageFX        = TankDamageFX
  End

  BuildCost       = 20000
  BuildTime       = 18.0          ;in seconds    
  VisionRange     = 200
  ShroudClearingRange = 600
  Prerequisites
    Object = Boss_UkraineWarFactory
  End

  ExperienceValue         = 150 150 250 400  ;Experience point value at each level
  ExperienceRequired      = 0 600 1200 1800   ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet    = UkraineVehiclePionCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = 2S7Select
  VoiceMove = 2S7Move
  VoiceGuard = 2S7Guard
  VoiceAttack = 2S7Attack
  SoundStealthOn = StealthOn
  SoundStealthOff = StealthOff
  SoundMoveStart = ScudLauncherMoveStart
  SoundMoveStartDamaged = ScudLauncherMoveStart
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate       = 2S7Create
    TurretMoveStart = NoSound
    TurretMoveLoop = TurretMoveLoop
    TruckLandingSound = NoSound
    TruckPowerslideSound = NoSound
    VoiceCrush = 2S7Attack
    VoiceEnter = 2S7Move
    ;VoicePrimaryWeaponMode = ScudLauncherVoiceModeHiEx
    ;VoiceSecondaryWeaponMode = ScudLauncherVoiceModeAnthrax
    Deploy              = NukeCannonDeploy
    Undeploy            = NukeCannonUnDeploy
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK DONT_AUTO_CRUSH_INFANTRY CAN_CAST_REFLECTIONS VEHICLE SALVAGER WEAPON_SALVAGER SCORE
  
  Body = ActiveBody ModuleTag_02
    MaxHealth       = 400.0
    InitialHealth   = 400.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 480
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

  Behavior = DeployStyleAIUpdate ModuleTag_03
    AutoAcquireEnemiesWhenIdle = No
    PackTime = 3333
    UnpackTime = 3333
    TurretsFunctionOnlyWhenDeployed = Yes
    TurretsMustCenterBeforePacking = Yes
    ManualDeployAnimations = Yes
  End

  Locomotor = SET_NORMAL ChinaNukeCannonLocomotor
  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 50.0
  End
  
;Deaths-------------------------------------------------------------
  Behavior = SlowDeathBehavior DeathTag_01
    ;DeathTypes = ALL -CRUSHED -SPLATTED -POISONED -POISONED_BETA -EXTRA_8
	DeathTypes = ALL -CRUSHED -SPLATTED -POISONED -POISONED_BETA
    FX  = INITIAL  FX_GenericTankDeathEffect
    OCL = MIDPOINT OCL_GenericTankDeathEffect
    FX  = FINAL    FX_GenericTankDeathExplosion
    OCL = FINAL OCL_GLAPionCannonDie
  End
  Behavior = SlowDeathBehavior DeathTag_02
    ;DeathTypes = ALL -CRUSHED -SPLATTED -POISONED -POISONED_BETA -EXTRA_8
	DeathTypes = ALL -CRUSHED -SPLATTED -POISONED -POISONED_BETA
    FX  = INITIAL  FX_BigMissileCarrierDeath
    OCL = MIDPOINT OCL_GenericTankDeathEffect
    OCL = FINAL OCL_GLAPionCannonDie
  End
  ; A crushing defeat
  Behavior = FXListDie DeathTag_03
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  Behavior = CreateObjectDie DeathTag_04
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_GLAPionCannonDie
  End
  Behavior = DestroyDie DeathTag_05
    DeathTypes = NONE +CRUSHED +SPLATTED
  End
  ;Radiation
  ; Behavior = SlowDeathBehavior DeathTag_06
    ; DeathTypes = NONE +EXTRA_8
    ; FX  = INITIAL FX_VehicleRadiationDeath
    ; SinkRate = 2.5
    ; SinkDelay = 6000
    ; DestructionDelay = 14000
  ; End
;Poison
  Behavior = SlowDeathBehavior DeathTag_07
    DeathTypes = NONE +POISONED
    FX  = INITIAL FX_VehiclePoisonDeath
    SinkRate = 2.5
    SinkDelay = 6000
    DestructionDelay = 14000
  End
;PoisonBeta
    Behavior = SlowDeathBehavior DeathTag_08
    DeathTypes = NONE +POISONED_BETA
    FX  = INITIAL FX_VehiclePoisonBetaDeath
    SinkRate = 2.5
    SinkDelay = 6000
    DestructionDelay = 14000
  End
;Stealth-------------------------------------------------------------
  Behavior = StealthUpdate ModuleStealth_GPSScramblerGenericStealthModule
    StealthDelay                = 2000 ; msec
    InnateStealth               = Yes
    StealthForbiddenConditions  = ATTACKING USING_ABILITY
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
    RequiredStatus = REASSIGN_PARKING
  End
;---------------------------------------------------------------------

  Behavior                 = TransitionDamageFX ModuleTag_06
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_NukeCannonDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_07
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Geometry = BOX
  GeometryMajorRadius = 28.0
  GeometryMinorRadius = 9.0
  GeometryHeight = 17.0     
  GeometryIsSmall = No
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length   
  Scale = 1.05  
End

;------------------------------------------------------------------------------
Object Boss_UkraineJetSu25

  ; *** ART Parameters ***
  SelectPortrait = SAWarthog_L
  ButtonImage = SAWarthog

  Draw = W3DOverlordAircraftDraw ModuleTag_01
    ExtraPublicBone = ROOT
    OkToChangeModelColor = Yes
    ParticlesAttachedToAnimatedBones = Yes
    DefaultConditionState
      Model = CWCruSu25
      WeaponFireFXBone = PRIMARY MUZZLE
      WeaponLaunchBone = PRIMARY MUZZLE
      WeaponFireFXBone = SECONDARY ROCKETA
      WeaponLaunchBone = SECONDARY ROCKETA
    End
    ConditionState = REALLYDAMAGED
      Model = CWCruSu25_d
    End
    ConditionState = RUBBLE
      Model = CWCruSu25_d
    End
    AliasConditionState = RUBBLE JETEXHAUST
    AliasConditionState = RUBBLE JETAFTERBURNER
    AliasConditionState = RUBBLE JETEXHAUST JETAFTERBURNER
    ConditionState = JETEXHAUST
      Model = CWCruSu25
      ParticleSysBone = Wingtip01 CWCgenJetContrail
      ParticleSysBone = Wingtip02 CWCgenJetContrail
    End
    ConditionState = REALLYDAMAGED JETEXHAUST
      Model = CWCruSu25_d
      ParticleSysBone = Wingtip01 CWCgenJetContrail
      ParticleSysBone = Wingtip02 CWCgenJetContrail
    End
    ConditionState = JETAFTERBURNER
      Model = CWCruSu25
    End
    AliasConditionState = JETAFTERBURNER JETEXHAUST
    ConditionState = REALLYDAMAGED JETAFTERBURNER
      Model = CWCruSu25_d
    End
    AliasConditionState = JETAFTERBURNER JETEXHAUST REALLYDAMAGED
  End
  
  ;---------------------------------------
  Draw = W3DTruckDraw ModuleTag_GearDraw
    OkToChangeModelColor = Yes
    ParticlesAttachedToAnimatedBones = Yes
    AttachToBoneInAnotherModule = ROOT
    DefaultConditionState
      Model = CWCruSu25_r
      Animation = CWCruSu25_r.CWCruSu25_r
      AnimationMode = ONCE_BACKWARDS
      Flags = START_FRAME_FIRST MAINTAIN_FRAME_ACROSS_STATES
      HideSubObject = HLIGHT01
    End
    AliasConditionState = REALLYDAMAGED
    ConditionState = JETEXHAUST
      Model = CWCruSu25_r
      Animation = CWCruSu25_r.CWCruSu25_r
      AnimationMode = ONCE
      Flags = MAINTAIN_FRAME_ACROSS_STATES
      HideSubObject = HLIGHT01
    End
    AliasConditionState = REALLYDAMAGED JETEXHAUST
    AliasConditionState = JETAFTERBURNER
    AliasConditionState = JETAFTERBURNER JETEXHAUST
    AliasConditionState = REALLYDAMAGED JETAFTERBURNER
    AliasConditionState = REALLYDAMAGED JETAFTERBURNER JETEXHAUST
    AliasConditionState = RUBBLE
    AliasConditionState = RUBBLE JETAFTERBURNER
    AliasConditionState = RUBBLE JETEXHAUST
    AliasConditionState = RUBBLE JETAFTERBURNER JETEXHAUST
    ConditionState = NIGHT
      Model = CWCruSu25_r
      Animation = CWCruSu25_r.CWCruSu25_r
      AnimationMode = ONCE_BACKWARDS
      Flags = START_FRAME_FIRST MAINTAIN_FRAME_ACROSS_STATES
      ShowSubObject = HLIGHT01
    End
    AliasConditionState = NIGHT REALLYDAMAGED
    ConditionState = NIGHT JETEXHAUST
      Model = CWCruSu25_r
      Animation = CWCruSu25_r.CWCruSu25_r
      AnimationMode = ONCE
      Flags = MAINTAIN_FRAME_ACROSS_STATES
      HideSubObject = HLIGHT01
    End
    AliasConditionState = NIGHT REALLYDAMAGED JETEXHAUST
    AliasConditionState = NIGHT JETAFTERBURNER
    AliasConditionState = NIGHT JETAFTERBURNER JETEXHAUST
    AliasConditionState = NIGHT REALLYDAMAGED JETAFTERBURNER
    AliasConditionState = NIGHT REALLYDAMAGED JETAFTERBURNER JETEXHAUST
    AliasConditionState = NIGHT RUBBLE
    AliasConditionState = NIGHT RUBBLE JETAFTERBURNER
    AliasConditionState = NIGHT RUBBLE JETEXHAUST
    AliasConditionState = NIGHT RUBBLE JETAFTERBURNER JETEXHAUST
    ; These parameters are only used if the model has a separate suspension,
    ; and the locomotor has HasSuspension = Yes.
    RightFrontTireBone = TIRE01
    LeftFrontTireBone = TIRE02
    MidRightFrontTireBone = TIRE03
    TireRotationMultiplier = 0.4 ; this * speed = rotation.
  End   

  ; ***DESIGN parameters ***
  DisplayName = OBJECT:Su25
  EditorSorting = VEHICLE
  Side = Boss
  TransportSlotCount = 0 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange = 600.0
  ShroudClearingRange = 550.0

  Prerequisites
    Object = Boss_UkraineAirfield
  End

  WeaponSet
    Conditions        = None 
    Weapon            = PRIMARY      SU25BarageWeapon
    ;PreferredAgainst    = PRIMARY     HUGE_VEHICLE VEHICLE
    ;AutoChooseSources   = PRIMARY     FROM_PLAYER FROM_SCRIPT FROM_AI 
    Weapon            = SECONDARY    SU-25BombWeapon
    ;PreferredAgainst    = SECONDARY     HUGE_VEHICLE VEHICLE
    ;AutoChooseSources   = SECONDARY     FROM_PLAYER FROM_SCRIPT FROM_AI 
  End

  ArmorSet
    Conditions = None
    Armor = RussiaAirplaneArmor
    DamageFX = None
  End

  BuildCost = 25000
  BuildTime = 30

  ;CWCExpMarker: Su-25
  ExperienceValue = 1200 1800 2400 3600 ;Experience point value at each level
  ExperienceRequired = 0 2188 4375 7657 ;Experience points needed to gain each level
  IsTrainable = Yes ;Can gain experience

  CrusherLevel = 1 ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel = 2 ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = SU25CommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = CWCruSu25VoiceSelect
  VoiceMove = CWCruSu25VoiceMove
  VoiceAttack = CWCruSu25VoiceAttack
  VoiceGuard = CWCruSu25VoiceGuard
  SoundAmbient = CWCruSuSeriesEngineLoop
  UnitSpecificSounds
    VoiceCreate = CWCruSu25VoiceCreate
    ;Afterburner = CWCgenJetAfterburner
    VoiceGarrison = CWCruSu25VoiceMove
    VoiceLowFuel = CWCruSu25VoiceFuel
    VoiceEject = CWCruSu25VoiceEject
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = AIRCRAFT CAN_ATTACK CAN_CAST_REFLECTIONS PRELOAD SCORE SELECTABLE VEHICLE 
  Body = ActiveBody ModuleTag_02
    MaxHealth = 950.0
    InitialHealth = 950.0
  End

  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 500.0
  End

  Behavior = JetAIUpdate ModuleTag_06
    OutOfAmmoDamagePerSecond  = 1%     ; amount of damage to take per SEC (not per frame) when out of ammo
    TakeoffDistForMaxLift     = 0%   ; larger numbers give more lift sooner when taking off
    TakeoffPause              = 500
    MinHeight                 = 5
    ReturnToBaseIdleTime      = 10000         ; if idle for this long, return to base, even if not out of ammo
    AutoAcquireEnemiesWhenIdle    = Yes
    MoodAttackCheckRate           = 1
  End

  Locomotor = SET_NORMAL SU-25locomotor
  Locomotor = SET_TAXIING BasicJetTaxiLocomotor

  ; Behavior = CountermeasuresBehavior ModuleTag_08
    ; TriggeredBy = Upgrade_CWCruPreSetUpgrades
    ; FlareTemplateName = CWCruCountermeasureFlare
    ; FlareBoneBaseName = FLARE ; Name of the base flare bone (Flare01, Flare02, Flare03)
    ; VolleySize = 4 ; Number of flares launched per volley (requires bones)
    ; VolleyArcAngle = 90.0 ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
    ; VolleyVelocityFactor = 2.5 ; Shoots out flares at a stronger velocity with a higher value.
    ; DelayBetweenVolleys = 500 ; Time between flare volleys
    ; NumberOfVolleys = 3 ; Number of times the volleys will fire before reloading
    ; ReloadTime = 5000 ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
    ; EvasionRate = 25%   ; With active flares, the specified percentage will be diverted.
    ; ReactionLaunchLatency = 0 ; Reaction between getting shot at and the firing of the first volley of countermeasures.
    ; MissileDecoyDelay = 50 ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
  ; End

; --- begin Death modules ---
  Behavior = TransitionDamageFX ModuleTag_Death01
    DamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenTankDeathSmokeDamaged
    DamagedFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDamageTransition
    ;
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenTankDeathSmokeReallyDamaged
    ReallyDamagedFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDamageTransition
    ;
    RubbleParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenTankDeathSmokeRubble
    RubbleFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDamageTransition
  End
  Behavior = JetSlowDeathBehavior ModuleTag_Death02
    DestructionDelay = 9000
    RollRate = 0.1
    RollRateDelta = 105%
    PitchRate = 0
    FallHowFast = 70.0%
    FXInitialDeath = FX_CWCgenJetDeathInitial
    DelaySecondaryFromInitialDeath = 250 ;in milliseconds
    FXSecondary = FX_CWCgenJetDeathSecondary
    FXHitGround = FX_CWCgenJetDeathHitGround
    OCLHitGround = OCL_CWCruSu25_k
    FXOnGroundDeath = FX_CWCgenJetOnGroundDeath
    OCLOnGroundDeath = OCL_CWCruSu25_k
  End
; --- end Death modules ---

  ClientUpdate = AnimatedParticleSysBoneClientUpdate ModuleTag_Client01
  End

  ; Behavior = ObjectCreationUpgrade ModuleTag_RadarDrone
    ; UpgradeObject = OCL_CWCgenRadarDrone
    ; TriggeredBy = Upgrade_CWCgenRadarDrone
  ; End

  ; Behavior = GrantUpgradeCreate ModuleTag_RadarDroneCreate
    ; UpgradeToGrant = Upgrade_CWCgenRadarDrone
  ; End

  ; Behavior = EjectPilotDie ModuleTag_Pilot
    ; ExemptStatus = HIJACKED
    ; AirCreationList = OCL_EjectCWCruPilot
    ; VeterancyLevels =  ALL
  ; End

  ; Behavior = ObjectCreationUpgrade ModuleTag_Flare01
    ; UpgradeObject = OCL_CWCruSu25FlareDummy
    ; TriggeredBy = Upgrade_CWCruSu25FlareDummy
    ; FXListUpgrade = FX_CWCgenLargeFlare
  ; End

  ; Behavior = ProductionUpdate ModuleTag_Flare02
    ; ;nothing
  ; End

  Geometry = Box
  GeometryIsSmall = Yes
  GeometryMajorRadius = 24.0
  GeometryMinorRadius = 14.0
  GeometryHeight = 12.0
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45 ; minimum elevation angle above horizon. Used to limit shadow length
  Scale = 1.05
End

;------------------------------------------------------------------------------
Object Boss_UkraineVehicleBMD1

  ; *** ART Parameters ***
  SelectPortrait = Manticore
  ButtonImage = Manticore

  Draw = W3DTankDraw ModuleTag_01
    OkToChangeModelColor = Yes
    ProjectileBoneFeedbackEnabledSlots = TERTIARY
    ParticlesAttachedToAnimatedBones = Yes
    InitialRecoilSpeed = 120
    MaxRecoilDistance = 3
    RecoilSettleSpeed = 12
    DefaultConditionState
      Model = CWCruBMD1
      Turret = TURRET01
      TurretPitch = TURRETEL
      WeaponFireFXBone = PRIMARY MUZZLE
      WeaponLaunchBone = PRIMARY MUZZLE
      WeaponRecoilBone = PRIMARY BARREL
      WeaponFireFXBone = SECONDARY MG
      WeaponLaunchBone = SECONDARY MG
      WeaponLaunchBone = TERTIARY MISSILE
    End
    ConditionState = RELOADING_A
      Model = CWCruBMD1
      ParticleSysBone = MUZZLE01 CWCgenArtMuzzleFlashBarrelSmoke
    End
    ConditionState = REALLYDAMAGED
      Model = CWCruBMD1_d
    End
    ConditionState = RELOADING_A REALLYDAMAGED
      Model = CWCruBMD1_d
      ParticleSysBone = MUZZLE01 CWCgenArtMuzzleFlashBarrelSmoke
    End
    ConditionState = RUBBLE
      Model = CWCruBMD1_k
    End
    TrackMarks = EXTnkTrack.tga
    TreadAnimationRate = 0.75;  amount of tread texture to move per second
    TreadDriveSpeedFraction = 0.3 ; fraction of locomotor speed below which treads stop moving.
    TreadPivotSpeedFraction = 0.6 ; fraction of locomotor speed below which we allow pivoting.
  End

  ;the particle effects
  Draw = W3DModelDraw Module_ParticleEffects
    DefaultConditionState
      Model = CWCruBRDM2_W
    End
    AliasConditionState = REALLYDAMAGED
    AliasConditionState = RUBBLE
    ConditionState = MOVING
      Model = CWCruBRDM2_W
      ParticleSysBone = TREADFX01 RocketBuggyDust
      ParticleSysBone = TREADFX02 RocketBuggyDust
    End
    AliasConditionState = MOVING REALLYDAMAGED
    AliasConditionState = MOVING RUBBLE
    ConditionState = OVER_WATER
      Model = CWCruBRDM2_W
      ParticleSysBone = WATER01 CWCgenAmphibWaveRest
      ParticleSysBone = WATER02 CWCgenAmphibWaveRest
    End
    AliasConditionState = OVER_WATER REALLYDAMAGED
    AliasConditionState = OVER_WATER RUBBLE
    ConditionState = OVER_WATER MOVING
      Model = CWCruBRDM2_W
      ParticleSysBone = WATER03 CWCgenAmphibWave1
    End
    AliasConditionState = OVER_WATER MOVING REALLYDAMAGED
    AliasConditionState = OVER_WATER MOVING RUBBLE
  End

  ;---------------------------------------
  ; The brakes kick in
  ;---------------------------------------
  Draw = W3DModelDraw ModuleTag_BrakeDraw
    IgnoreConditionStates = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED RUBBLE
    AttachToBoneInAnotherModule = CORE
    ParticlesAttachedToAnimatedBones = Yes
    OkToChangeModelColor = Yes
    ;day, no lights, only if I brake
    ConditionState = NONE
      Model = CWCruBMD1_l
      HideSubObject = HLIGHT01 HLIGHT02
      ParticleSysBone = BRAKE01 CWCgenRearLightBraking
      ParticleSysBone = BRAKE02 CWCgenRearLightBraking
    End
    ConditionState = MOVING
      Model = CWCruBMD1_l
      HideSubObject = HLIGHT01 HLIGHT02
    End
    ;night, I always have my lights on when I move, and they flash whenever I brake
    ConditionState = NIGHT
      Model = CWCruBMD1_l
      ParticleSysBone = BRAKE01 CWCgenRearLight
      ParticleSysBone = BRAKE02 CWCgenRearLight
      ShowSubObject = HLIGHT01 HLIGHT02
      ParticleSysBone = BRAKE01 CWCgenRearLightBraking
      ParticleSysBone = BRAKE02 CWCgenRearLightBraking
    End
    ConditionState = NIGHT MOVING
      Model = CWCruBMD1_l
      ParticleSysBone = BRAKE01 CWCgenRearLight
      ParticleSysBone = BRAKE02 CWCgenRearLight
      ShowSubObject = HLIGHT01 HLIGHT02
    End
    ;enemynear, hide those red lights!
    ConditionState = ENEMYNEAR
      Model = CWCruBMD1_l
      HideSubObject = HLIGHT01 HLIGHT02
    End
    AliasConditionState = MOVING ENEMYNEAR
    AliasConditionState = NIGHT ENEMYNEAR
    AliasConditionState = NIGHT MOVING ENEMYNEAR
  End

  ;---------------------------------------
  Draw = W3DTruckDraw ModuleTag_TracksDraw
    OkToChangeModelColor = Yes
    ParticlesAttachedToAnimatedBones = Yes
    AttachToBoneInAnotherModule = CORE
    DefaultConditionState
      Model = CWCruBMD1_t
    End
    ; These parameters are only used if the model has a separate suspension,
    ; and the locomotor has HasSuspension = Yes.
    RightFrontTireBone = TIRE01
    LeftFrontTireBone = TIRE02
    MidRightFrontTireBone = TIRE03
    MidLeftFrontTireBone = TIRE04
    MidRightMidTireBone = TIRE05
    MidLeftMidTireBone = TIRE06
    MidRightRearTireBone = TIRE07
    TireRotationMultiplier = 0.4 ; this * speed = rotation.
  End

  ;---------------------------------------
  ; The rotating housecolors
  ;---------------------------------------
  ; Draw = W3DModelDraw ModuleTag_HousecolorDraw
    ; OkToChangeModelColor = Yes

    ; ConditionState = NONE
      ; Model = CWCruHC_B
      ; Animation = CWCruHC_B.CWCruHC_B
      ; AnimationMode = LOOP
      ; HideSubObject = HOUSECOLOR02
    ; End
    ; AliasConditionState = WEAPONSET_PLAYER_UPGRADE
    ; AliasConditionState = REALLYDAMAGED
    ; AliasConditionState = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
    ; AliasConditionState = RUBBLE
    ; AliasConditionState = WEAPONSET_PLAYER_UPGRADE RUBBLE
    ; AliasConditionState = ENEMYNEAR RUBBLE
    ; AliasConditionState = ENEMYNEAR WEAPONSET_PLAYER_UPGRADE RUBBLE

    ; ConditionState = ENEMYNEAR
      ; Model = CWCruHC_B
      ; Animation = CWCruHC_B.CWCruHC_B
      ; AnimationMode = LOOP
      ; ShowSubObject = HOUSECOLOR02
    ; End
    ; AliasConditionState = ENEMYNEAR WEAPONSET_PLAYER_UPGRADE
    ; AliasConditionState = ENEMYNEAR REALLYDAMAGED
    ; AliasConditionState = ENEMYNEAR WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
  ; End


  ; ***DESIGN parameters ***
  DisplayName = OBJECT:BMD1
  Side = Boss
  EditorSorting = VEHICLE
  TransportSlotCount = 3

  WeaponSet
    Conditions = None 
    Weapon           = PRIMARY   BMDMachineGunWeapon
    PreferredAgainst = PRIMARY   INFANTRY
    Weapon           = SECONDARY BMP3AntiTankGun
	PreferredAgainst = SECONDARY VEHICLE STRUCTURE
	Weapon           = TERTIARY  ScorpionMissileWeapon
	PreferredAgainst = TERTIARY  VEHICLE STRUCTURE
  End

  ArmorSet
    Conditions = None
    Armor = TankArmor
    DamageFX = TankDamageFX
  End
  
  BuildCost = 400
  BuildTime = 9.0 ;in seconds
  VisionRange = 200 ;Needs to see farther and match it's weapon range -- else troop crawlers will get slaughtered against tanks!
  ShroudClearingRange = 200
  Prerequisites
    Object = Boss_UkraineWarFactory
  End

  ;CWCExpMarker: BMD-1
  ExperienceValue = 800 1200 1600 2400 ;Experience point value at each level
  ExperienceRequired = 0 1641 3282 5743 ;Experience points needed to gain each level
  IsTrainable = Yes ;Can gain experience

  CrusherLevel = 2 ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel = 2 ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = RussianVehicleBMD1CommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = CWCruBMD1VoiceSelect
  VoiceMove = CWCruBMD1VoiceMove
  VoiceGuard = CWCruBMD1VoiceMove
  VoiceAttack = CWCruBMD1VoiceAttack
  SoundMoveLoop = CWCgenOldTreadsMoving
  SoundEnter = HumveeEnter
  SoundExit = HumveeExit
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate = CWCruBMD1VoiceCreate
    TurretMoveStart = NoSound
    TurretMoveLoop = CWCgenIFV_APCTurretServo
    TruckLandingSound = NoSound
    TruckPowerslideSound = NoSound
    VoiceCrush = CWCruBMD1VoiceCrush
    VoiceEnter = CWCruBMD1VoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = ATTACK_NEEDS_LINE_OF_SIGHT CAN_ATTACK CAN_CAST_REFLECTIONS DONT_AUTO_CRUSH_INFANTRY PARACHUTABLE POWERED PRELOAD SCORE SELECTABLE TRANSPORT VEHICLE 

  Body = ActiveBody ModuleTag_02
    MaxHealth = 300.0
    InitialHealth = 300.0
  End

  Behavior = AIUpdateInterface ModuleTag_04
    Turret
      TurretTurnRate = 100 ; turn rate, in degrees per sec
      TurretPitchRate = 100
      MinPhysicalPitch = -5
      AllowsPitch = Yes
      ControlledWeaponSlots = PRIMARY SECONDARY TERTIARY
      MinIdleScanAngle = 0 ; in degrees off the natural turret angle
      MaxIdleScanAngle = 45 ; in degrees off the natural turret angle
      MinIdleScanInterval = 10000 ; in milliseconds
      MaxIdleScanInterval = 20000 ; in milliseconds
    End
    AutoAcquireEnemiesWhenIdle = Yes
  End

  Locomotor = SET_NORMAL CWCruBMD1Locomotor CWCruBMD1AmphibiousLocomotor
  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 50.0
  End
  Behavior = TransportContain ModuleTag_06
    Slots = 5
    ScatterNearbyOnExit = No
    HealthRegen%PerSec = 10
    DamagePercentToUnits = 50%
    AllowInsideKindOf = INFANTRY
    ExitDelay = 250
    NumberOfExitPaths = 1 ; Defaults to 1.  Set 0 to not use ExitStart/ExitEnd, set higher than 1 to use ExitStart01-nn/ExitEnd01-nn
    GoAggressiveOnExit = Yes ; AI Will tell people to set their mood to Aggressive on exiting
    DestroyRidersWhoAreNotFreeToExit = Yes
  End

  ; Behavior = EnemyNearUpdate ModuleTag_Housecolor
    ; ;nothing
  ; End

  Behavior = StealthDetectorUpdate ModuleTag_DetectStealth_Vehicle01
    CanDetectWhileContained = No ; this is a vehicle ; Can the object detect stealth objects when it is inside an object?
    CanDetectWhileGarrisoned = No ; this is a vehicle ; Can the object detect stealth objects when it is inside an object with a GarrisonContain module?
    DetectionRange = 63 ; 1/2 its visionrange ; The maximum distance that the object can detect enemy stealthed obejcts. Defaults to the object's VisionRange.
    DetectionRate = 1000 ; The time between scanning for stealthed objects.
    ExtraRequiredKindOf = INFANTRY
    ExtraForbiddenKindOf = BOAT
    InitiallyDisabled = No ; Does the detector start off in a disabled state?
  End

; --- begin Death modules ---
  Behavior = TransitionDamageFX ModuleTag_Death01
    DamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenTankDeathSmokeDamaged
    DamagedFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDamageTransition
    ;
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenTankDeathSmokeReallyDamaged
    ReallyDamagedFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDamageTransition
    ;
    RubbleParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenTankDeathSmokeRubble
    RubbleFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDamageTransition
    RubbleFXList2 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDeathRubble1
  End
  Behavior = SlowDeathBehavior ModuleTag_Death02
    DestructionDelay = 18000
    FX = MIDPOINT FX_CWCgenTankDeathRubble2
    ;OCL = MIDPOINT OCL_CWCgenTankDeathTrails
    SinkDelay = 15000
    SinkRate = 4.0
  End
; --- end Death modules ---

  ClientUpdate = AnimatedParticleSysBoneClientUpdate ModuleTag_Client01
  End ; This allows the wingtip trails to stay stuck to the retractable wings

  Geometry = BOX
  GeometryMajorRadius = 13.0
  GeometryMinorRadius = 9.0
  GeometryHeight = 10
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45 ; minimum elevation angle above horizon. Used to limit shadow length
  Scale = 1.1
End

;------------------------------------------------------------------------------
Object Boss_UkraineTankM1A1

  ; *** ART Parameters ***
  SelectPortrait = M1A1_L
  ButtonImage = M1A1

  Draw = W3DOverlordTankDraw ModuleTag_01

    ExtraPublicBone = CORE
    OkToChangeModelColor = Yes
    ParticlesAttachedToAnimatedBones = Yes

    InitialRecoilSpeed = 120
    MaxRecoilDistance = 3
    RecoilSettleSpeed = 12

    DefaultConditionState
      Model = CWCusM1A1
      Turret = Turret01
      TurretPitch = Turretel01
      WeaponFireFXBone = PRIMARY MUZZLE
      WeaponRecoilBone = PRIMARY BARREL
      WeaponLaunchBone = PRIMARY MUZZLE
      WeaponFireFXBone = SECONDARY MG
      WeaponLaunchBone = SECONDARY MG
    End

    ConditionState = RELOADING_A
      Model = CWCusM1A1
      ParticleSysBone = MUZZLE01 CWCgenArtMuzzleFlashBarrelSmoke
    End

    ConditionState = REALLYDAMAGED
      Model = CWCusM1A1_d
    End

    ConditionState = RELOADING_A REALLYDAMAGED
      Model = CWCusM1A1_d
      ParticleSysBone = MUZZLE01 CWCgenArtMuzzleFlashBarrelSmoke
    End

    ConditionState = RUBBLE
      Model = CWCusM1A1_k
    End

    TrackMarks = EXTnkTrack.tga
    TreadAnimationRate = 0.75;  amount of tread texture to move per second
    TreadDriveSpeedFraction = 0.3 ; fraction of locomotor speed below which treads stop moving.
    TreadPivotSpeedFraction = 0.6 ; fraction of locomotor speed below which we allow pivoting.

  End

  ;---------------------------------------
  ; The brakes kick in
  ;---------------------------------------
  Draw = W3DModelDraw ModuleTag_BrakeDraw

    IgnoreConditionStates = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED RUBBLE

    AttachToBoneInAnotherModule = CORE
    ParticlesAttachedToAnimatedBones = Yes
    OkToChangeModelColor = Yes

    ;day, no lights, only if I brake

    ConditionState = NONE
      Model = CWCusM1A1_l
      HideSubObject = HLIGHT01 HLIGHT02
      ParticleSysBone = BRAKE01 CWCgenRearLightBraking
      ParticleSysBone = BRAKE02 CWCgenRearLightBraking
    End

    ConditionState = MOVING
      Model = CWCusM1A1_l
      HideSubObject = HLIGHT01 HLIGHT02
    End

    ;night, I always have my lights on when I move, and they flash whenever I brake

    ConditionState = NIGHT
      Model = CWCusM1A1_l
      ParticleSysBone = BRAKE01 CWCgenRearLight
      ParticleSysBone = BRAKE02 CWCgenRearLight
      ShowSubObject = HLIGHT01 HLIGHT02
      ParticleSysBone = BRAKE01 CWCgenRearLightBraking
      ParticleSysBone = BRAKE02 CWCgenRearLightBraking
    End

    ConditionState = NIGHT MOVING
      Model = CWCusM1A1_l
      ParticleSysBone = BRAKE01 CWCgenRearLight
      ParticleSysBone = BRAKE02 CWCgenRearLight
      ShowSubObject = HLIGHT01 HLIGHT02
    End

    ;enemynear, hide those red lights!
    ConditionState = ENEMYNEAR
      Model = CWCusM1A1_l
      HideSubObject = HLIGHT01 HLIGHT02
    End
    AliasConditionState = MOVING ENEMYNEAR
    AliasConditionState = NIGHT ENEMYNEAR
    AliasConditionState = NIGHT MOVING ENEMYNEAR
  End

  ;---------------------------------------
  Draw = W3DTruckDraw ModuleTag_TracksDraw
    OkToChangeModelColor = Yes
    ParticlesAttachedToAnimatedBones = Yes
    AttachToBoneInAnotherModule = CORE
    DefaultConditionState
      Model = CWCusM1A1_t
    End
    ; These parameters are only used if the model has a separate suspension,
    ; and the locomotor has HasSuspension = Yes.
    RightFrontTireBone = TIRE01
    LeftFrontTireBone = TIRE02
    MidRightFrontTireBone = TIRE03
    MidLeftFrontTireBone = TIRE04
    MidRightMidTireBone = TIRE05
    MidLeftMidTireBone = TIRE06
    MidRightRearTireBone = TIRE07
    MidLeftRearTireBone = TIRE08
    ;RightRearTireBone = TIRE09
    ;LeftRearTireBone = TIRE10
    TireRotationMultiplier = 0.4 ; this * speed = rotation.
  End

  ;---------------------------------------
  ; The rotating housecolors
  ;---------------------------------------
  ; Draw = W3DModelDraw ModuleTag_HousecolorDraw
    ; OkToChangeModelColor = Yes

    ; ConditionState = NONE
      ; Model = CWCusHC_B
      ; Animation = CWCusHC_B.CWCusHC_B
      ; AnimationMode = LOOP
      ; HideSubObject = HOUSECOLOR02 HOUSECOLOR03
    ; End
    ; AliasConditionState = WEAPONSET_PLAYER_UPGRADE
    ; AliasConditionState = REALLYDAMAGED
    ; AliasConditionState = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
    ; AliasConditionState = RUBBLE
    ; AliasConditionState = WEAPONSET_PLAYER_UPGRADE RUBBLE
    ; AliasConditionState = ENEMYNEAR RUBBLE
    ; AliasConditionState = ENEMYNEAR WEAPONSET_PLAYER_UPGRADE RUBBLE

    ; ConditionState = ENEMYNEAR
      ; Model = CWCusHC_B
      ; Animation = CWCusHC_B.CWCusHC_B
      ; AnimationMode = LOOP
      ; ShowSubObject = HOUSECOLOR02 HOUSECOLOR03
    ; End
    ; AliasConditionState = ENEMYNEAR WEAPONSET_PLAYER_UPGRADE
    ; AliasConditionState = ENEMYNEAR REALLYDAMAGED
    ; AliasConditionState = ENEMYNEAR WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
  ; End

  ; ***DESIGN parameters ***
  DisplayName = OBJECT:M1A1
  Side = Boss
  EditorSorting = VEHICLE
  TransportSlotCount = 5 ;how many "slots" we take in a transport (0 == not transportable)

  WeaponSet
    Conditions = None
    Weapon = PRIMARY M1A2TankGun
    Weapon = SECONDARY M1A2TankMachineGun
    PreferredAgainst = SECONDARY INFANTRY
    AutoChooseSources = SECONDARY FROM_PLAYER FROM_SCRIPT FROM_AI
  End

  ArmorSet
    Conditions = None
    Armor = CWCusM1A1Armor
    DamageFX = TankDamageFX
  End

  BuildCost = 10000
  BuildTime = 30.0 ;in seconds

  VisionRange = 200
  ShroudClearingRange = 200
  Prerequisites
    Object = Boss_UkraineWarFactory
	Object = Boss_UkraineInternationalHeadquaters
  End

  ;CWCExpMarker: M1A1
  ExperienceValue = 1500 2250 3000 4500 ;Experience point value at each level
  ExperienceRequired = 0 1775 3550 6213 ;Experience points needed to gain each level
  IsTrainable = Yes ;Can gain experience

  CrusherLevel = 2 ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel = 2 ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = GenericCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = CWCusM1A1VoiceSelect
  VoiceMove = CWCusM1A1VoiceMove
  VoiceGuard = CWCusM1A1VoiceGuard
  VoiceAttack = CWCusM1A1VoiceAttack
  SoundMoveLoop = CWCusM1A1TreadsMoving
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate = CWCusM1A1VoiceCreate
    TurretMoveLoop = CWCusM1A1TurretServo
    VoiceCrush = CWCusM1A1VoiceCrush
    VoiceEnter = CWCusM1A1VoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = ATTACK_NEEDS_LINE_OF_SIGHT CAN_ATTACK CAN_CAST_REFLECTIONS DONT_AUTO_CRUSH_INFANTRY POWERED PRELOAD SCORE SELECTABLE VEHICLE

  Body = ActiveBody ModuleTag_02
    MaxHealth = 2500.0
    InitialHealth = 2500.0
  End

  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      TurretTurnRate = 80 // turn rate, in degrees per sec
      TurretPitchRate = 80
      MinPhysicalPitch = -10
      AllowsPitch = Yes
      ControlledWeaponSlots = PRIMARY SECONDARY
      MinIdleScanAngle = 0 ; in degrees off the natural turret angle
      MaxIdleScanAngle = 45 ; in degrees off the natural turret angle
      MinIdleScanInterval = 10000 ; in milliseconds
      MaxIdleScanInterval = 20000 ; in milliseconds
    End
    AutoAcquireEnemiesWhenIdle = Yes
  End

  Locomotor = SET_NORMAL CWCusM1A1Locomotor

  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 50.0
  End

  ; Behavior = OverlordContain ModuleTag_05
    ; Slots = 1
    ; DamagePercentToUnits = 100%
    ; AllowInsideKindOf = PORTABLE_STRUCTURE
    ; PayloadTemplateName = CWCusM1A1_AAGun
    ; PassengersAllowedToFire = Yes
    ; PassengersInTurret = Yes ; My passengers ride in my turret, that's where the Firepoint bones are
    ; ExperienceSinkForRider = Yes ; I get the Exp for things my turret friend kills
  ; End

  ; Behavior = EnemyNearUpdate ModuleTag_Housecolor
    ; ;nothing
  ; End

  Behavior = StealthDetectorUpdate ModuleTag_DetectStealth_Vehicle01
    CanDetectWhileContained = No ; this is a vehicle ; Can the object detect stealth objects when it is inside an object?
    CanDetectWhileGarrisoned = No ; this is a vehicle ; Can the object detect stealth objects when it is inside an object with a GarrisonContain module?
    DetectionRange = 50 ; 1/2 its visionrange ; The maximum distance that the object can detect enemy stealthed obejcts. Defaults to the object's VisionRange.
    DetectionRate = 1000 ; The time between scanning for stealthed objects.
    ExtraRequiredKindOf = INFANTRY
    ExtraForbiddenKindOf = BOAT
    InitiallyDisabled = No ; Does the detector start off in a disabled state?
  End

  ; Behavior = StealthUpdate ModuleTag_07
    ; StealthDelay = 100
    ; StealthForbiddenConditions = None ;ATTACKING
    ; InnateStealth = Yes
    ; RequiredStatus = STATUS_RIDER2
    ; OrderIdleEnemiesToAttackMeUponReveal = Yes
  ; End

; --- begin Death modules ---
  Behavior = TransitionDamageFX ModuleTag_Death01
    DamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenTankDeathSmokeDamaged
    DamagedFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDamageTransition
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenTankDeathSmokeReallyDamaged
    ReallyDamagedFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDamageTransition
    RubbleParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenTankDeathSmokeRubble
    RubbleFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDamageTransition
    RubbleFXList2 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDeathRubble1
  End
  Behavior = SlowDeathBehavior ModuleTag_Death02
    DestructionDelay = 18000
    FX = MIDPOINT FX_CWCgenTankDeathRubble2
    ;OCL = MIDPOINT OCL_CWCgenTankDeathTrails
    SinkDelay = 15000
    SinkRate = 4.0
    ;Weapon = MIDPOINT CWCgenVehicleExplodeWeapon
  End
; --- end Death modules ---

  ClientUpdate = AnimatedParticleSysBoneClientUpdate ModuleTag_Client01
  End

  Geometry = BOX
  GeometryMajorRadius = 15.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 10.0
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45 ; minimum elevation angle above horizon. Used to limit shadow length
  Scale = 1.05
End

;---------------------------------------------------------
Object Boss_RussiaVehicleCoalition
  ; *** ART Parameters ***
  SelectPortrait         = SAAS-90
  ButtonImage            = SAAS-90
  
  Draw                    = W3DTankDraw ModuleTag_01
      OkToChangeModelColor  = Yes
      DefaultConditionState
      Model               = RU-MSTA
      Turret              = Turret
      TurretPitch         = TurretEL
      HideSubObject       = NERA
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponRecoilBone    = PRIMARY BARREL
      WeaponMuzzleFlash   = PRIMARY BARRELFX
      WeaponLaunchBone    = PRIMARY Muzzle
    End

;------------------------------------------------------------
    ConditionState        = RUBBLE REALLYDAMAGED
      Model               = RU-MSTA_D
      Turret              = Turret
      TurretPitch         = TurretEL
      ;AltTurret              = Turret
      ;AltTurretPitch         = TurretEL
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponRecoilBone    = PRIMARY BARREL
      WeaponMuzzleFlash   = PRIMARY BARRELFX
      WeaponLaunchBone    = PRIMARY Muzzle
    End
    
    ConditionState        = WEAPONSET_PLAYER_UPGRADE
      Model               = RU-Coalition
      Turret              = Turret
      TurretPitch         = TurretEL
      HideSubObject       = NERA
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponRecoilBone    = PRIMARY BARREL
      WeaponMuzzleFlash   = PRIMARY BARRELFX
      WeaponLaunchBone    = PRIMARY Muzzle
    End
    
    ConditionState        = WEAPONSET_PLAYER_UPGRADE RUBBLE REALLYDAMAGED
      Model               = RU-Coalition_D
      Turret              = Turret
      TurretPitch         = TurretEL
      HideSubObject       = NERA
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponRecoilBone    = PRIMARY BARREL
      WeaponMuzzleFlash   = PRIMARY BARRELFX
      WeaponLaunchBone    = PRIMARY Muzzle
    End

    ConditionState        = USER_1 
      Model               = RU-MSTA
      Turret              = Turret
      TurretPitch         = TurretEL
      ShowSubObject       = NERA
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponRecoilBone    = PRIMARY BARREL
      WeaponMuzzleFlash   = PRIMARY BARRELFX
      WeaponLaunchBone    = PRIMARY Muzzle
    End
    
    ConditionState        = USER_1 RUBBLE REALLYDAMAGED
      Model               = RU-MSTA_D
      Turret              = Turret
      TurretPitch         = TurretEL
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponRecoilBone    = PRIMARY Barrel
      WeaponMuzzleFlash   = PRIMARY BARRELFX
      WeaponLaunchBone    = PRIMARY Muzzle
    End
    
    ConditionState        = USER_1 WEAPONSET_PLAYER_UPGRADE
      Model               = RU-Coalition
      Turret              = Turret
      TurretPitch         = TurretEL
      ShowSubObject       = NERA
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponRecoilBone    = PRIMARY BARREL
      WeaponMuzzleFlash   = PRIMARY BARRELFX
      WeaponLaunchBone    = PRIMARY Muzzle
    End
    
    ConditionState        = USER_1 WEAPONSET_PLAYER_UPGRADE RUBBLE REALLYDAMAGED
      Model               = RU-Coalition_D
      Turret              = Turret
      TurretPitch         = TurretEL
      ShowSubObject       = NERA
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponRecoilBone    = PRIMARY BARREL
      WeaponMuzzleFlash   = PRIMARY BARRELFX
      WeaponLaunchBone    = PRIMARY Muzzle
    End

    TrackMarks           = EXTnkTrack.tga
    TreadAnimationRate      = 2.0  ; amount of tread texture to move per second
  End

  ; ***DESIGN parameters ***
  DisplayName        = OBJECT:Coalition
  Side               = Boss
  EditorSorting      = VEHICLE
  TransportSlotCount = 3                 ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions       = None
    Weapon           = PRIMARY MSTACannonGun  
  End
  ; WeaponSet
    ; Conditions       = PLAYER_UPGRADE
    ; Weapon           = PRIMARY MSTACoalitionGun
  ; End

  ArmorSet
    Conditions      = None
    Armor           = ArtilleryVehicleArmor
    DamageFX        = TankDamageFX
  End

  BuildCost          = 16000
  BuildTime          = 25.0          ;in seconds    
  VisionRange        = 350
  ShroudClearingRange = 350
  Prerequisites
    Object = Boss_WarFactory
	Object = Boss_TechCentr
  End

  ExperienceValue         = 100 100 175 300  ;Experience point value at each level
  ExperienceRequired      = 0 350 600 1000   ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet      = Boss_RussianVehicleCoalitionCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect       = MSTAVoiceSelect
  VoiceMove         = MSTAVoiceMove
  VoiceGuard        = MSTAVoiceGuard
  VoiceAttack       = MSTAVoiceAttack
  SoundMoveStart    = InfernoCannonMoveStart
  SoundMoveStartDamaged = InfernoCannonMoveStart
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate     = MSTAVoiceCreate
    TurretMoveStart = NoSound
    TurretMoveLoop  = NoSound
    VoiceCrush          = InfernoCannonVoiceCrush
    VoiceEnter         = MSTAVoiceMove
  End


  ; *** ENGINEERING Parameters ***
  RadarPriority     = UNIT
  KindOf            = PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS VEHICLE SCORE
  
  Body              = ActiveBody ModuleTag_02
    MaxHealth       = 450.0
    InitialHealth   = 450.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 240
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

  Behavior = DeployStyleAIUpdate ModuleTag_03
    AutoAcquireEnemiesWhenIdle = No NOTWHILEATTACKING
    PackTime = 0
    UnpackTime = 0
    TurretsFunctionOnlyWhenDeployed = No
    TurretsMustCenterBeforePacking = No
    ManualDeployAnimations = No
    Turret
      TurretTurnRate = 120
      TurretPitchRate = 60
      AllowsPitch = Yes
      FirePitch = 60
      ControlledWeaponSlots = PRIMARY
    End
  End

  Locomotor = SET_NORMAL InfernoLocomotor

  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 50.0
  End

;Upgrades----------------------------------------------------------
  ; Behavior = WeaponSetUpgrade Upgrade_01
    ; TriggeredBy = Upgrade_CoalitsiaMSTA
  ; End
  ; Behavior = ArmorUpgrade Upgrade_02
    ; TriggeredBy           = Upgrade_ArmataDefense
  ; End
    ; Behavior = WeaponBonusUpgrade Upgrade_03
    ; TriggeredBy = Upgrade_Tankgun
  ; End 
  ; Behavior = ModelConditionUpgrade Upgrade_04
    ; ConditionFlag = USER_1
    ; TriggeredBy = Upgrade_ArmataDefense
  ; End
;Deaths-------------------------------------------------------------
  Behavior = SlowDeathBehavior DeathTag_01
    DeathTypes = ALL -CRUSHED -SPLATTED -POISONED -POISONED_BETA ;-EXTRA_8
    FX  = INITIAL  FX_GenericTankDeathEffect
    OCL = MIDPOINT OCL_GenericTankDeathEffect
    FX  = FINAL    FX_GenericTankDeathExplosion
    OCL = FINAL    OCL_MSTADebris
  End
  Behavior = SlowDeathBehavior DeathTag_02
    DeathTypes = ALL -CRUSHED -SPLATTED -POISONED -POISONED_BETA ;-EXTRA_8
    FX = INITIAL FX_BigTruckDeathFX
    FX = FINAL FX_BuggyNewDeathExplosion
    OCL = FINAL    OCL_MSTADebris
  End
  Behavior = SlowDeathBehavior DeathTag_03
    DeathTypes = NONE +NORMAL
    ProbabilityModifier  = 50
    DestructionDelay  = 2000
    DestructionDelayVariance  = 300
    FX  = INITIAL  FX_TankMidpointBlowup
    FX = MIDPOINT FX_BigTruckDeathFX
    OCL = FINAL    OCL_MSTADebris
    FX  = FINAL    FX_BattleMasterExplosionOneFinal
  End
  Behavior               = FXListDie DeathTag_04
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX         = FX_CarCrush
  End
  Behavior               = CreateObjectDie DeathTag_05
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList    = OCL_MSTADebris
  End
  Behavior = DestroyDie DeathTag_06
    DeathTypes = NONE +CRUSHED +SPLATTED
  End
  ;Radiation
  ; Behavior = SlowDeathBehavior DeathTag_07
    ; DeathTypes = NONE +EXTRA_8
    ; FX  = INITIAL FX_VehicleRadiationDeath
    ; SinkRate = 2.5
    ; SinkDelay = 6000
    ; DestructionDelay = 14000
  ; End
;Poison
  Behavior = SlowDeathBehavior DeathTag_08
    DeathTypes = NONE +POISONED
    FX  = INITIAL FX_VehiclePoisonDeath
    SinkRate = 2.5
    SinkDelay = 6000
    DestructionDelay = 14000
  End
;PoisonBeta
    Behavior = SlowDeathBehavior DeathTag_09
    DeathTypes = NONE +POISONED_BETA
    FX  = INITIAL FX_VehiclePoisonBetaDeath
    SinkRate = 2.5
    SinkDelay = 6000
    DestructionDelay = 14000
  End
;Stealth-------------------------------------------------------------
;---------------------------------------------------------------------

  Behavior                 = TransitionDamageFX ModuleTag_05
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
    ReallyDamagedFXList1 = Loc: X:-7 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  ; Behavior         = CreateCrateDie ModuleTag_06
    ; CrateData = SalvageCrateData
    ; ;CrateData = EliteTankCrateData
    ; ;CrateData = HeroicTankCrateData
  ; End

  Behavior = FlammableUpdate ModuleTag_07
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = StealthUpdate ModuleStealth_GPSScramblerGenericStealthModule
    StealthDelay                = 2000 ; msec
    InnateStealth               = Yes
    StealthForbiddenConditions  = ATTACKING USING_ABILITY
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
    RequiredStatus = REASSIGN_PARKING
  End

  Geometry            = BOX
  GeometryMajorRadius = 16.0
  GeometryMinorRadius = 10.0
  GeometryHeight      = 15.0     
  GeometryIsSmall     = Yes
  Shadow              = SHADOW_VOLUME 
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length
End

;------------------------------------------------------------------------
Object Boss_RussiaVehicleTos1A

  ;  ART Parameters 
  SelectPortrait         = SURocketBuggy_L
  ButtonImage            = SURocketBuggy
  
  ; UpgradeCameo1 = Upgrade_ArmataDefense
  ; UpgradeCameo2 = Upgrade_Range

  Draw = W3DTankDraw ModuleTag_01
    OkToChangeModelColor = Yes
    DefaultConditionState
      Model                           = RU-Tos1
      Animation                       = RU-Tos1.RU-Tos1
      AnimationMode                   = ONCE_BACKWARDS
      HideSubObject       = NERA
      Turret                          = TURRET01
      TurretPitch         = TurretEL
      Flags                           = START_FRAME_FIRST
      WeaponLaunchBone                = PRIMARY WEAPONA
      WeaponLaunchBone                = SECONDARY WEAPONA
      WeaponFireFXBone                = PRIMARY WEAPONA
      WeaponFireFXBone                = SECONDARY WEAPONA
      WeaponLaunchBone                = TERTIARY WEAPONA
      WeaponFireFXBone                = TERTIARY  WeaponA
      WeaponMuzzleFlash   = PRIMARY FIREFX
      WeaponMuzzleFlash   = TERTIARY  FIREFXB
    End
      
    ConditionState                    = RUBBLE
      Model           = RU-Tos1_D 
      Animation       = RU-Tos1_D.RU-Tos1_D
      AnimationMode                   = ONCE_BACKWARDS
      HideSubObject       = NERA
      Turret                          = TURRET01
      TurretPitch         = TurretEL
      Flags                           = START_FRAME_FIRST
      WeaponLaunchBone                = PRIMARY WEAPONA
      WeaponFireFXBone                = PRIMARY   WeaponA
      WeaponLaunchBone                = SECONDARY WEAPONA
      WeaponFireFXBone              = SECONDARY   WeaponA
      WeaponLaunchBone                = TERTIARY WEAPONA
      WeaponFireFXBone                = TERTIARY  WeaponA
      WeaponMuzzleFlash   = PRIMARY FIREFX
      WeaponMuzzleFlash   = TERTIARY  FIREFXB
    End

    ; PACKED STATE -- ready to move 
    ConditionState    = MOVING
      Animation                       = RU-Tos1.RU-Tos1
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_FIRST
      HideSubObject       = NERA
    End
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_A
    AliasConditionState = BETWEEN_FIRING_SHOTS_A

    ConditionState    = REALLYDAMAGED MOVING
      Model           = RU-Tos1_D 
      Animation       = RU-Tos1_D.RU-Tos1_D
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_FIRST
      HideSubObject       = NERA
    End
    AliasConditionState = REALLYDAMAGED MOVING BETWEEN_FIRING_SHOTS_A
     
    ; UNPACKING STATE  -- preparing to fire 
    ConditionState    = UNPACKING
      Animation                       = RU-Tos1.RU-Tos1
      AnimationMode   = ONCE
      HideSubObject       = NERA
    End
    AliasConditionState = UNPACKING BETWEEN_FIRING_SHOTS_A

    ConditionState    = REALLYDAMAGED UNPACKING
      Model           = RU-Tos1_D 
      Animation       = RU-Tos1_D.RU-Tos1_D
      AnimationMode   = ONCE
      HideSubObject       = NERA
    End
    AliasConditionState = REALLYDAMAGED UNPACKING BETWEEN_FIRING_SHOTS_A

    ; PACKING STATE -- preparing to move 
    ConditionState    = PACKING
      Animation                       = RU-Tos1.RU-Tos1
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
      HideSubObject       = NERA
    End
    AliasConditionState = PACKING BETWEEN_FIRING_SHOTS_A

    ConditionState    = REALLYDAMAGED PACKING
      Model           = RU-Tos1_D 
      Animation       = RU-Tos1_D.RU-Tos1_D
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
      HideSubObject       = NERA
    End
    AliasConditionState = REALLYDAMAGED PACKING BETWEEN_FIRING_SHOTS_A

    ; DEPLOYED STATE -- ready to fire 
    ConditionState  = DEPLOYED
      Model                           = RU-Tos1
      Animation                       = RU-Tos1.RU-Tos1
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
      HideSubObject       = NERA
    End
    AliasConditionState = DEPLOYED MOVING
    AliasConditionState = DEPLOYED BETWEEN_FIRING_SHOTS_A
    AliasConditionState = DEPLOYED FIRING_A
    AliasConditionState = DEPLOYED RELOADING_A

    ConditionState  = DEPLOYED REALLYDAMAGED
      Model           = RU-Tos1_D 
      Animation       = RU-Tos1_D.RU-Tos1_D
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
      HideSubObject       = NERA
    End
    AliasConditionState = DEPLOYED REALLYDAMAGED MOVING
    AliasConditionState = DEPLOYED REALLYDAMAGED BETWEEN_FIRING_SHOTS_A
    AliasConditionState = DEPLOYED REALLYDAMAGED FIRING_A
    AliasConditionState = DEPLOYED REALLYDAMAGED RELOADING_A
  
    ConditionState              = USER_1
      Model                           = RU-Tos1
      Animation                       = RU-Tos1.RU-Tos1
      AnimationMode                   = ONCE_BACKWARDS
      ShowSubObject       = NERA
      Turret                          = TURRET01
      TurretPitch         = TurretEL
      Flags                           = START_FRAME_FIRST
      WeaponLaunchBone                = PRIMARY WEAPONA
      WeaponFireFXBone                 = PRIMARY   WeaponA
      WeaponLaunchBone                = SECONDARY WEAPONA
      WeaponFireFXBone                 = SECONDARY   WeaponA
      WeaponLaunchBone                = TERTIARY WEAPONA
      WeaponFireFXBone                 = TERTIARY  WeaponA
      WeaponMuzzleFlash   = PRIMARY FIREFX
      WeaponMuzzleFlash   = SECONDARY FIREFXB
    End
      
    ConditionState                    = USER_1 RUBBLE
      Model           = RU-Tos1_D 
      Animation       = RU-Tos1_D.RU-Tos1_D
      ShowSubObject       = NERA
      AnimationMode                   = ONCE_BACKWARDS
      Turret                          = TURRET01
      TurretPitch         = TurretEL
      Flags                           = START_FRAME_FIRST
      WeaponLaunchBone                = PRIMARY WEAPONA
      WeaponFireFXBone                 = PRIMARY   WeaponA
      WeaponLaunchBone                = SECONDARY WEAPONA
      WeaponFireFXBone                 = SECONDARY   WeaponA
      WeaponLaunchBone                = TERTIARY WEAPONA
      WeaponFireFXBone                 = TERTIARY  WeaponA
      WeaponMuzzleFlash   = PRIMARY FIREFX
      WeaponMuzzleFlash   = SECONDARY FIREFXB
    End

    ; PACKED STATE -- ready to move 
    ConditionState    = USER_1 MOVING
      Animation                       = RU-Tos1.RU-Tos1
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_FIRST
      ShowSubObject       = NERA
    End
    AliasConditionState = USER_1 MOVING BETWEEN_FIRING_SHOTS_A
    AliasConditionState = USER_1 BETWEEN_FIRING_SHOTS_A

    ConditionState    = USER_1 REALLYDAMAGED MOVING
      Model           = RU-Tos1_D 
      Animation       = RU-Tos1_D.RU-Tos1_D
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_FIRST
      ShowSubObject       = NERA
    End
    AliasConditionState = USER_1 REALLYDAMAGED MOVING BETWEEN_FIRING_SHOTS_A
     
    ; UNPACKING STATE  -- preparing to fire 
    ConditionState    = USER_1 UNPACKING
      Animation                       = RU-Tos1.RU-Tos1
      AnimationMode   = ONCE
      ShowSubObject       = NERA
    End
    AliasConditionState = USER_1 UNPACKING BETWEEN_FIRING_SHOTS_A

    ConditionState    = USER_1 REALLYDAMAGED UNPACKING
      Model           = RU-Tos1_D 
      Animation       = RU-Tos1_D.RU-Tos1_D
      AnimationMode   = ONCE
      ShowSubObject       = NERA
    End
    AliasConditionState = USER_1 REALLYDAMAGED UNPACKING BETWEEN_FIRING_SHOTS_A

    ; PACKING STATE -- preparing to move 
    ConditionState    = USER_1 PACKING
      Animation                       = RU-Tos1.RU-Tos1
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
      ShowSubObject       = NERA
    End
    AliasConditionState = USER_1 PACKING BETWEEN_FIRING_SHOTS_A

    ConditionState    = USER_1 REALLYDAMAGED PACKING
      Model           = RU-Tos1_D 
      Animation       = RU-Tos1_D.RU-Tos1_D
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
      ShowSubObject       = NERA
    End
    AliasConditionState = USER_1 REALLYDAMAGED PACKING BETWEEN_FIRING_SHOTS_A

    ; DEPLOYED STATE -- ready to fire 
    ConditionState  = USER_1 DEPLOYED
      Model                           = RU-Tos1
      Animation                       = RU-Tos1.RU-Tos1
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
      ShowSubObject       = NERA
    End
    AliasConditionState = USER_1 DEPLOYED MOVING
    AliasConditionState = USER_1 DEPLOYED BETWEEN_FIRING_SHOTS_A
    AliasConditionState = USER_1 DEPLOYED FIRING_A
    AliasConditionState = USER_1 DEPLOYED RELOADING_A

    ConditionState  = USER_1 DEPLOYED REALLYDAMAGED
      Model           = RU-Tos1_D 
      Animation       = RU-Tos1_D.RU-Tos1_D
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
      ShowSubObject       = NERA
    End
    AliasConditionState = USER_1 DEPLOYED REALLYDAMAGED MOVING
    AliasConditionState = USER_1 DEPLOYED REALLYDAMAGED BETWEEN_FIRING_SHOTS_A
    AliasConditionState = USER_1 DEPLOYED REALLYDAMAGED FIRING_A
    AliasConditionState = USER_1 DEPLOYED REALLYDAMAGED RELOADING_A
    TrackMarks              = EXTnkTrack.tga
    TreadAnimationRate      = 2.0  ; amount of tread texture to move per second
  End

; DESIGN parameters 
  DisplayName      = OBJECT:Tos1A
  Side = Boss
  EditorSorting   = VEHICLE
  TransportSlotCount = 3                 ;how many slots we take in a transport (0 == not transportable)

  ; WeaponSet
    ; Conditions = None
    ; Weapon = PRIMARY TOSFIRE
    ; Weapon = TERTIARY BARRAGETOSFIRE
    ; AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
    ; AutoChooseSources = TERTIARY NONE
    ; ShareWeaponReloadTime = No
  ; End
  
  WeaponSet
    Conditions = None 
    Weapon = PRIMARY TOS1ARocketWeapon
    Weapon = SECONDARY TOS1ABurstFireWeapon
    AutoChooseSources = SECONDARY None
    ShareWeaponReloadTime = Yes
  End
  
  WeaponSet
    Conditions = PLAYER_UPGRADE 
    Weapon = PRIMARY HeroicTOS1ARocketWeapon
    Weapon = SECONDARY HeroicTOS1ABurstFireWeapon
    AutoChooseSources = SECONDARY None
    ShareWeaponReloadTime = Yes
  End

  ; WeaponSet
    ; Conditions = PLAYER_UPGRADE
    ; Weapon = PRIMARY TOSFIRE2
    ; Weapon = TERTIARY BARRAGETOSFIRE2
    ; AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
    ; AutoChooseSources = TERTIARY NONE
    ; ShareWeaponReloadTime = No
  ; End

  ArmorSet
    Conditions      = None
    Armor           = ArtilleryVehicleArmor
    DamageFX        = TankDamageFX
  End

  BuildCost       = 20000
  BuildTime       = 21.0          ;in seconds    
  VisionRange     = 285
  ShroudClearingRange = 250
  Prerequisites
    Object = Boss_WarFactory
	Object = Boss_TechCentr
  End

  ExperienceValue         = 100 100 175 300  ;Experience point value at each level
  ExperienceRequired      = 0 300 500 800   ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 2  ;What can I crush 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet      = Boss_RussianVehicleBuratinoCommandSet

  ;  AUDIO Parameters 
  VoiceSelect     = Tos1VoiceSelect
  VoiceMove       = Tos1VoiceMove
  VoiceGuard      = Tos1VoiceGuard
  VoiceAttack     = Tos1VoiceAttack
  SoundMoveStart  = MicrowaveTankMoveStart
  SoundMoveStartDamaged = MicrowaveTankMoveStart

  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate     = Tos1VoiceCreate
    TurretMoveStart = NoSound
    TurretMoveLoop  = TurretMoveLoopLoud
    VoiceCrush      = NoSound
    VoiceEnter      = Tos1VoiceMove
    Deploy              = 2secArmorDeploySound
    Undeploy            = 2secArmorDeploySound
  End

  ;  ENGINEERING Parameters 
  RadarPriority     = UNIT
  KindOf            = PRELOAD SELECTABLE CAN_ATTACK DONT_AUTO_CRUSH_INFANTRY CAN_CAST_REFLECTIONS VEHICLE SCORE FS_ADVANCED_TECH
  
  Body              = ActiveBody ModuleTag_02
    MaxHealth       = 480.0
    InitialHealth   = 480.0

    ; Subdual damage Subdues you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 600
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End
  Behavior = DeployStyleAIUpdate ModuleTag_03
    AutoAcquireEnemiesWhenIdle = No NOTWHILEATTACKING
    PackTime = 266
    UnpackTime = 266
    TurretsFunctionOnlyWhenDeployed = Yes
    TurretsMustCenterBeforePacking = Yes
    ManualDeployAnimations = Yes
    Turret
      TurretTurnRate = 120
      TurretPitchRate = 60
      AllowsPitch = Yes
      FirePitch = 26
      ControlledWeaponSlots = PRIMARY SECONDARY
    End
  End

  Locomotor = SET_NORMAL BuratinoLocomotor

  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 40.0
  End

;Upgrades----------------------------------------------------------
  ; Behavior                = ArmorUpgrade Upgrade_01
    ; TriggeredBy           = Upgrade_ArmataDefense
  ; End
  ; Behavior = ModelConditionUpgrade Upgrade_02
    ; ConditionFlag = USER_1
    ; TriggeredBy = Upgrade_ArmataDefense
  ; End
  ; Behavior = WeaponSetUpgrade Upgrade_03
    ; TriggeredBy = Upgrade_Range
  ; End
;Deaths-------------------------------------------------------------
  ;--!!!
  ; Catch fire, and explode death
  Behavior = SlowDeathBehavior DeathTag_01
    DeathTypes = ALL -CRUSHED -SPLATTED -POISONED -POISONED_BETA ;-EXTRA_8
    FX  = INITIAL  FX_BigMissileCarrierDeath
    ;OCL = MIDPOINT OCL_SmerchRandomRockets
    OCL = FINAL  OCL_Tos1Debris
  End
  Behavior = SlowDeathBehavior DeathTag_02
    DeathTypes = ALL -CRUSHED -SPLATTED -POISONED -POISONED_BETA ;-EXTRA_8
    FX  = INITIAL  FX_BuggyNewDeathExplosion
    ;OCL = MIDPOINT OCL_TosRandomRockets
    FX  =  FINAL FX_BigTruckDeathFX
    OCL = FINAL  OCL_Tos1Debris
  End
;--!!!
  ; A crushing defeat
  Behavior = DestroyDie DeathTag_03
    DeathTypes = NONE +CRUSHED +SPLATTED
  End

  Behavior = FXListDie DeathTag_04
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  Behavior = CreateObjectDie DeathTag_05
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_T90_CrushEffect
  End
;Radiation
  ; Behavior = SlowDeathBehavior DeathTag_06
    ; DeathTypes = NONE +EXTRA_8
    ; FX  = INITIAL FX_VehicleRadiationDeath
    ; SinkRate = 2.5
    ; SinkDelay = 6000
    ; DestructionDelay = 14000
  ; End
;Poison
  Behavior = SlowDeathBehavior DeathTag_07
    DeathTypes = NONE +POISONED
    FX  = INITIAL FX_VehiclePoisonDeath
    SinkRate = 2.5
    SinkDelay = 6000
    DestructionDelay = 14000
  End
;PoisonBeta
    Behavior = SlowDeathBehavior DeathTag_08
    DeathTypes = NONE +POISONED_BETA
    FX  = INITIAL FX_VehiclePoisonBetaDeath
    SinkRate = 2.5
    SinkDelay = 6000
    DestructionDelay = 14000
  End
;Stealth-------------------------------------------------------------
;---------------------------------------------------------------------

  Behavior                 = TransitionDamageFX ModuleTag_05
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  ; Behavior = CreateCrateDie ModuleTag_06
    ; CrateData = SalvageCrateData
    ; ;CrateData = EliteTankCrateData
    ; ;CrateData = HeroicTankCrateData
  ; End
  Behavior = FlammableUpdate ModuleTag_07
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End
  ; Behavior = VeterancyGainCreate ModuleTag_08
    ; StartingLevel = VETERAN
    ; ScienceRequired = SCIENCE_ArtilleryVeteran
   ; End

  Behavior = StealthUpdate ModuleStealth_GPSScramblerGenericStealthModule
    StealthDelay                = 2000 ; msec
    InnateStealth               = Yes
    StealthForbiddenConditions  = ATTACKING USING_ABILITY
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
    RequiredStatus = REASSIGN_PARKING
  End

  Geometry            = BOX
  GeometryMajorRadius = 14.0
  GeometryMinorRadius = 9.0
  GeometryHeight      = 15.0     
  GeometryIsSmall     = Yes
  Shadow              = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length
  Scale = 1.01
End


;====================================================================================
Object Boss_SovietVehicleMTLB

  ; *** ART Parameters ***
  SelectPortrait         = Manticore
  ButtonImage            = Manticore

  UpgradeCameo1 = Upgrade_GLAJunkRepair
  
  Draw = W3DTankDraw ModuleTag_01
    OkToChangeModelColor = Yes
; ------------ Normal  
    DefaultConditionState
      Model = RU-MTLB ;UVMTLB
      Turret = TURRET01 ; Logic twist bone is always this, both turrets are subobjects of it, as are both missile racks
      ; note, order-dependent: we must hide/show Missile AFTER we hide/show MissileRack!
      HideSubObject = MP01 MP02 FIRST01 SECOND01 HOUSECOLOR02
      WeaponFireFXBone = PRIMARY MUZZLE01
      WeaponRecoilBone = PRIMARY Barrel01
      WeaponMuzzleFlash = PRIMARY MUZZLE01
      WeaponLaunchBone = PRIMARY MUZZLE01
    End

    ConditionState = REALLYDAMAGED
      Model = RU-MTLB_D ;UVMTLB_D
      HideSubObject = MP01 MP02 FIRST01 SECOND01 HOUSECOLOR02
    End
    AliasConditionState = RUBBLE
    
; ------------ With big turret  
    ConditionState = WEAPONSET_CRATEUPGRADE_ONE ; one or two crates is a turret switch
      ShowSubObject = FIRST01
      HideSubObject = MP01 MP02 SECOND01 HOUSECOLOR02
    End
    ConditionState = WEAPONSET_CRATEUPGRADE_TWO ; one or two crates is a turret switch
      ShowSubObject = FIRST01 SECOND01 HOUSECOLOR02
      HideSubObject = MP01 MP02 
    End

    ConditionState = WEAPONSET_CRATEUPGRADE_ONE REALLYDAMAGED
      Model = RU-MTLB_D ;UVMTLB_D
      ShowSubObject = FIRST01
      HideSubObject = MP01 MP02 SECOND01 HOUSECOLOR02
    End
    AliasConditionState = WEAPONSET_CRATEUPGRADE_ONE REALLYDAMAGED RUBBLE

    ConditionState = WEAPONSET_CRATEUPGRADE_TWO REALLYDAMAGED
      Model = RU-MTLB_D ;UVMTLB_D
      ShowSubObject = FIRST01 SECOND01 HOUSECOLOR02
      HideSubObject = MP01 MP02 
    End
    AliasConditionState = WEAPONSET_CRATEUPGRADE_TWO REALLYDAMAGED RUBBLE

; ---------- With missile
    ConditionState = WEAPONSET_PLAYER_UPGRADE
      ShowSubObject = MP01
      HideSubObject = MP02 FIRST01 SECOND01 HOUSECOLOR02
      WeaponFireFXBone = SECONDARY WeaponA
      WeaponLaunchBone = SECONDARY WeaponA
    End

    ConditionState = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
      Model = RU-MTLB_D ;UVMTLB_D
      ShowSubObject = MP01
      HideSubObject = MP02 FIRST01 SECOND01 HOUSECOLOR02
      WeaponFireFXBone = SECONDARY WeaponA
      WeaponLaunchBone = SECONDARY WeaponA
    End
    AliasConditionState = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED RUBBLE

; ---------- With missile and big turret
    ConditionState = WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
      ShowSubObject = MP01 FIRST01 
      HideSubObject = MP02 SECOND01 HOUSECOLOR02
      WeaponFireFXBone = SECONDARY WeaponA
      WeaponLaunchBone = SECONDARY WeaponA
    End

    ConditionState = WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE REALLYDAMAGED
      Model = RU-MTLB_D ;UVMTLB_D
      ShowSubObject = MP01 FIRST01
      HideSubObject = MP02 SECOND01 HOUSECOLOR02
      WeaponFireFXBone = SECONDARY WeaponA
      WeaponLaunchBone = SECONDARY WeaponA
    End
    AliasConditionState = WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE REALLYDAMAGED RUBBLE


; ---------- With two missiles and big turret
    ConditionState = WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
      ShowSubObject = MP01 MP02 FIRST01 SECOND01 HOUSECOLOR02
      WeaponFireFXBone = SECONDARY WeaponA
      WeaponLaunchBone = SECONDARY WeaponA
    End

    ConditionState = WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO REALLYDAMAGED
      Model = RU-MTLB_D ;UVMTLB_D
      ShowSubObject = MP01 MP02 FIRST01 SECOND01 HOUSECOLOR02
      WeaponFireFXBone = SECONDARY WeaponA
      WeaponLaunchBone = SECONDARY WeaponA
    End
    AliasConditionState = WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO REALLYDAMAGED RUBBLE

    TrackMarks = EXTnkTrack.tga
    TreadAnimationRate      = 2.0  ; amount of tread texture to move per second
  End

  ; ***DESIGN parameters ***
  DisplayName           = OBJECT:MTLB
  Side                  = Boss
  EditorSorting         = VEHICLE
  TransportSlotCount    = 3                 ;how many "slots" we take in a transport (0 == not transportable)

  WeaponSet
    Conditions = None 
    Weapon = PRIMARY MTLBMachineGun
    Weapon = SECONDARY None
  End
  ; WeaponSet
    ; Conditions = PLAYER_UPGRADE 
    ; Weapon = PRIMARY MTLBMachineGun
    ; Weapon = SECONDARY MTLBRocketWeapon
  ; End
  ; WeaponSet
    ; Conditions = CRATEUPGRADE_ONE 
    ; Weapon = PRIMARY MTLBMachineGunCreatureOne
    ; Weapon = SECONDARY None
  ; End
  ; WeaponSet
    ; Conditions = CRATEUPGRADE_ONE PLAYER_UPGRADE 
    ; Weapon = PRIMARY MTLBMachineGunCreatureOne
    ; Weapon = SECONDARY MTLBRocketWeaponCreatureOne ; No bonus at Plus One
  ; End
  ; WeaponSet
    ; Conditions = CRATEUPGRADE_TWO 
    ; Weapon = PRIMARY MTLBMachineGunCreatureOne
    ; Weapon = SECONDARY None
  ; End
  ; WeaponSet
    ; Conditions = CRATEUPGRADE_TWO PLAYER_UPGRADE 
    ; Weapon = PRIMARY MTLBMachineGunCreatureTwo
    ; Weapon = SECONDARY MTLBRocketWeaponCreatureTwo
  ; End

  ArmorSet
    Conditions      = None
    Armor           = TruckArmor
    DamageFX        = TankDamageFX
  End
  BuildCost       = 550
  BuildTime       = 9.0          ;in seconds    
  VisionRange     = 210
  ShroudClearingRange = 190
  Prerequisites
    Object = Boss_SmallFactory Boss_WarFactory
  End

  ExperienceValue         = 70 70 120 180  ;Experience point value at each level
  ExperienceRequired      = 0 150 275 450   ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet      = SovietVehicleMTLBCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = MTLBSelect
  VoiceMove = MTLBMove
  VoiceAttack = MTLBAttack
  SoundMoveStart = ScorpionTankMoveStart
  SoundMoveStartDamaged = ScorpionTankMoveStart
  VoiceGuard = MTLBGuard
  SoundStealthOn = StealthOn
  SoundStealthOff = StealthOff

  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate          = MTLBCreate
    ;TurretMoveStart = NoSound
    TurretMoveLoop = TurretMoveLoop
    VoiceEnter = MTLBMove
    VoiceSalvage = MTLBScrap
    VoiceUnload = MTLBEvac
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SALVAGER WEAPON_SALVAGER SCORE

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 400 ;375.0
    InitialHealth   = 400 ;375.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 740
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      TurretTurnRate = 290
      RecenterTime = 5000   ; how long to wait during idle before recentering
      FiresWhileTurning     = Yes
      MinIdleScanInterval   = 2500    ; in milliseconds
      MaxIdleScanInterval   = 7500    ; in milliseconds
      MinIdleScanAngle      = 0       ; in degrees off the natural turret angle
      MaxIdleScanAngle      = 90     ; in degrees off the natural turret angle
      ControlledWeaponSlots = PRIMARY SECONDARY
    End
    AutoAcquireEnemiesWhenIdle = Yes
  End
  Locomotor = SET_NORMAL ScorpionLocomotor
  ;Locomotor = SET_NORMAL_UPGRADED GLATankUpgradedLocomotor
  
  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 50.0
  End

;Upgrades----------------------------------------------------------
  Behavior = AutoHealBehavior Upgrade_01
    HealingAmount = 2.5
    HealingDelay = 1000 ; msec
    TriggeredBy = Upgrade_GLAJunkRepair
  End
  ; Behavior = WeaponSetUpgrade Upgrade_02
    ; TriggeredBy = Upgrade_GLAScorpionRocket
  ; End
  ; Behavior = LocomotorSetUpgrade Upgrade_03
    ; TriggeredBy = Upgrade_GLATankEngines
  ; End
    ; Behavior = WeaponBonusUpgrade Upgrade_04
    ; TriggeredBy = Upgrade_GLAAPRockets
  ; End
    ; Behavior = ModelConditionUpgrade Upgrade_05
    ; ConditionFlag = WEAPONSET_CRATEUPGRADE_ONE
    ; TriggeredBy   = Upgrade_ArmorCommandset
  ; End
  ; Behavior = ObjectCreationUpgrade Upgrade_06
    ; UpgradeObject = OCL_GLACreatureUpgradeOne
    ; TriggeredBy   = Upgrade_AmericaScoutDrone Upgrade_ArmorCommandset
    ; RequiresAllTriggers = Yes
  ; End
;Deaths-------------------------------------------------------------
Behavior = SlowDeathBehavior DeathTag_01
    DeathTypes = ALL -CRUSHED -SPLATTED -POISONED -POISONED_BETA ;-EXTRA_8
    FX  = INITIAL   FX_BuggyNewDeathExplosion
    FX  = FINAL     FX_BigTruckDeathFX
    OCL = FINAL    OCL_MTLBTankDeathEffect 
  End
  Behavior = SlowDeathBehavior DeathTag_02
    DeathTypes = ALL -CRUSHED -SPLATTED -POISONED -POISONED_BETA ;-EXTRA_8
    FX  = INITIAL   FX_BuggyNewDeathExplosion
    ;FX = MIDPOINT FX_BTRBurningAmmo
    FX  = FINAL     FX_BigTruckDeathFX
    OCL = FINAL    OCL_MTLBTankDeathEffect 
  End
  Behavior = FXListDie DeathTag_03
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  Behavior = CreateObjectDie DeathTag_04
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_MTLBTankDeathEffect 
  End
  Behavior = DestroyDie DeathTag_05
    DeathTypes = NONE +CRUSHED +SPLATTED
  End
  ;Radiation
  ; Behavior = SlowDeathBehavior DeathTag_06
    ; DeathTypes = NONE +EXTRA_8
    ; FX  = INITIAL FX_VehicleRadiationDeath
    ; SinkRate = 2.5
    ; SinkDelay = 6000
    ; DestructionDelay = 14000
  ; End
;Poison
  Behavior = SlowDeathBehavior DeathTag_07
    DeathTypes = NONE +POISONED
    FX  = INITIAL FX_VehiclePoisonDeath
    SinkRate = 2.5
    SinkDelay = 6000
    DestructionDelay = 14000
  End
;PoisonBeta
    Behavior = SlowDeathBehavior DeathTag_08
    DeathTypes = NONE +POISONED_BETA
    FX  = INITIAL FX_VehiclePoisonBetaDeath
    SinkRate = 2.5
    SinkDelay = 6000
    DestructionDelay = 14000
  End
;Stealth-------------------------------------------------------------
  ; Behavior = StealthUpdate ModuleStealth_GPSScramblerGenericStealthModule
    ; StealthDelay                = 2000 ; msec
    ; InnateStealth               = Yes
    ; StealthForbiddenConditions  = ATTACKING USING_ABILITY
    ; OrderIdleEnemiesToAttackMeUponReveal  = Yes
    ; RequiredStatus = REASSIGN_PARKING
  ; End
;---------------------------------------------------------------------
  
  Behavior                 = TransitionDamageFX ModuleTag_06
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = TransportContain ModuleTag_07
    PassengersAllowedToFire = No
    Slots                 = 6
	;InitialPayload        = Boss_RussiaInfantryConscript 6
    ScatterNearbyOnExit   = Yes
    HealthRegen%PerSec    = 10
    DamagePercentToUnits  = 0% ;30%
    AllowInsideKindOf     = INFANTRY
    ;ExitDelay         = 500
    GoAggressiveOnExit = Yes ; AI Will tell people to set their mood to Aggressive on exiting
  End

  Behavior = FlammableUpdate ModuleTag_08
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Geometry = BOX
  GeometryMajorRadius = 12.0
  GeometryMinorRadius = 7.0
  GeometryHeight = 9.0    
  GeometryIsSmall = Yes 
  Shadow = SHADOW_VOLUME   
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length
  Scale = 1.1
End

;=======================================================================================
; Object Boss_UkraineVehicleMTLB

  ; ; *** ART Parameters ***
  ; SelectPortrait         = Manticore
  ; ButtonImage            = Manticore
  
  ; Draw = W3DTankDraw ModuleTag_01
    ; OkToChangeModelColor = Yes
; ; ------------ Normal  
    ; DefaultConditionState
      ; Model = RU-MTLB ;UVMTLB
      ; Turret = TURRET01 ; Logic twist bone is always this, both turrets are subobjects of it, as are both missile racks
      ; ; note, order-dependent: we must hide/show Missile AFTER we hide/show MissileRack!
      ; HideSubObject = MP01 MP02 FIRST01 SECOND01 HOUSECOLOR02
      ; WeaponFireFXBone = PRIMARY MUZZLE01
      ; WeaponRecoilBone = PRIMARY Barrel01
      ; WeaponMuzzleFlash = PRIMARY MUZZLE01
      ; WeaponLaunchBone = PRIMARY MUZZLE01
    ; End

    ; ConditionState = REALLYDAMAGED
      ; Model = RU-MTLB_D ;UVMTLB_D
      ; HideSubObject = MP01 MP02 FIRST01 SECOND01 HOUSECOLOR02
    ; End
    ; AliasConditionState = RUBBLE
    
; ; ------------ With big turret  
    ; ConditionState = WEAPONSET_CRATEUPGRADE_ONE ; one or two crates is a turret switch
      ; ShowSubObject = FIRST01
      ; HideSubObject = MP01 MP02 SECOND01 HOUSECOLOR02
    ; End
    ; ConditionState = WEAPONSET_CRATEUPGRADE_TWO ; one or two crates is a turret switch
      ; ShowSubObject = FIRST01 SECOND01 HOUSECOLOR02
      ; HideSubObject = MP01 MP02 
    ; End

    ; ConditionState = WEAPONSET_CRATEUPGRADE_ONE REALLYDAMAGED
      ; Model = RU-MTLB_D ;UVMTLB_D
      ; ShowSubObject = FIRST01
      ; HideSubObject = MP01 MP02 SECOND01 HOUSECOLOR02
    ; End
    ; AliasConditionState = WEAPONSET_CRATEUPGRADE_ONE REALLYDAMAGED RUBBLE

    ; ConditionState = WEAPONSET_CRATEUPGRADE_TWO REALLYDAMAGED
      ; Model = RU-MTLB_D ;UVMTLB_D
      ; ShowSubObject = FIRST01 SECOND01 HOUSECOLOR02
      ; HideSubObject = MP01 MP02 
    ; End
    ; AliasConditionState = WEAPONSET_CRATEUPGRADE_TWO REALLYDAMAGED RUBBLE

; ; ---------- With missile
    ; ConditionState = WEAPONSET_PLAYER_UPGRADE
      ; ShowSubObject = MP01
      ; HideSubObject = MP02 FIRST01 SECOND01 HOUSECOLOR02
      ; WeaponFireFXBone = SECONDARY WeaponA
      ; WeaponLaunchBone = SECONDARY WeaponA
    ; End

    ; ConditionState = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
      ; Model = RU-MTLB_D ;UVMTLB_D
      ; ShowSubObject = MP01
      ; HideSubObject = MP02 FIRST01 SECOND01 HOUSECOLOR02
      ; WeaponFireFXBone = SECONDARY WeaponA
      ; WeaponLaunchBone = SECONDARY WeaponA
    ; End
    ; AliasConditionState = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED RUBBLE

; ; ---------- With missile and big turret
    ; ConditionState = WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
      ; ShowSubObject = MP01 FIRST01 
      ; HideSubObject = MP02 SECOND01 HOUSECOLOR02
      ; WeaponFireFXBone = SECONDARY WeaponA
      ; WeaponLaunchBone = SECONDARY WeaponA
    ; End

    ; ConditionState = WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE REALLYDAMAGED
      ; Model = RU-MTLB_D ;UVMTLB_D
      ; ShowSubObject = MP01 FIRST01
      ; HideSubObject = MP02 SECOND01 HOUSECOLOR02
      ; WeaponFireFXBone = SECONDARY WeaponA
      ; WeaponLaunchBone = SECONDARY WeaponA
    ; End
    ; AliasConditionState = WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE REALLYDAMAGED RUBBLE


; ; ---------- With two missiles and big turret
    ; ConditionState = WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
      ; ShowSubObject = MP01 MP02 FIRST01 SECOND01 HOUSECOLOR02
      ; WeaponFireFXBone = SECONDARY WeaponA
      ; WeaponLaunchBone = SECONDARY WeaponA
    ; End

    ; ConditionState = WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO REALLYDAMAGED
      ; Model = RU-MTLB_D ;UVMTLB_D
      ; ShowSubObject = MP01 MP02 FIRST01 SECOND01 HOUSECOLOR02
      ; WeaponFireFXBone = SECONDARY WeaponA
      ; WeaponLaunchBone = SECONDARY WeaponA
    ; End
    ; AliasConditionState = WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO REALLYDAMAGED RUBBLE

    ; TrackMarks = EXTnkTrack.tga
    ; TreadAnimationRate      = 2.0  ; amount of tread texture to move per second
  ; End

  ; ; ***DESIGN parameters ***
  ; DisplayName           = OBJECT:MTLB
  ; Side                  = Boss
  ; EditorSorting         = VEHICLE
  ; TransportSlotCount    = 3                 ;how many "slots" we take in a transport (0 == not transportable)

  ; WeaponSet
    ; Conditions = None 
    ; Weapon = PRIMARY MTLBMachineGun
    ; Weapon = SECONDARY None
  ; End

  ; ArmorSet
    ; Conditions      = None
    ; Armor           = TruckArmor
    ; DamageFX        = TankDamageFX
  ; End
  ; BuildCost       = 550
  ; BuildTime       = 9.0          ;in seconds    
  ; VisionRange     = 210
  ; ShroudClearingRange = 190
  ; Prerequisites
    ; Object = Boss_UkraineWarFactory
  ; End

  ; ExperienceValue         = 70 70 120 180  ;Experience point value at each level
  ; ExperienceRequired      = 0 150 275 450   ;Experience points needed to gain each level
  ; IsTrainable = Yes             ;Can gain experience
  ; CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  ; CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  ; CommandSet      = SovietVehicleMTLBCommandSet

  ; ; *** AUDIO Parameters ***
  ; VoiceSelect = MTLBSelect
  ; VoiceMove = MTLBMove
  ; VoiceAttack = MTLBAttack
  ; SoundMoveStart = ScorpionTankMoveStart
  ; SoundMoveStartDamaged = ScorpionTankMoveStart
  ; VoiceGuard = MTLBGuard
  ; SoundStealthOn = StealthOn
  ; SoundStealthOff = StealthOff

  ; UnitSpecificSounds
    ; ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    ; VoiceCreate          = MTLBCreate
    ; ;TurretMoveStart = NoSound
    ; TurretMoveLoop = TurretMoveLoop
    ; VoiceEnter = MTLBMove
    ; VoiceSalvage = MTLBScrap
    ; VoiceUnload = MTLBEvac
  ; End

  ; ; *** ENGINEERING Parameters ***
  ; RadarPriority = UNIT
  ; KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SALVAGER WEAPON_SALVAGER SCORE

  ; Body = ActiveBody ModuleTag_02
    ; MaxHealth       = 400 ;375.0
    ; InitialHealth   = 400 ;375.0

    ; ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    ; SubdualDamageCap = 740
    ; SubdualDamageHealRate = 500
    ; SubdualDamageHealAmount = 50
  ; End

  ; Behavior = AIUpdateInterface ModuleTag_03
    ; Turret
      ; TurretTurnRate = 290
      ; RecenterTime = 5000   ; how long to wait during idle before recentering
      ; FiresWhileTurning     = Yes
      ; MinIdleScanInterval   = 2500    ; in milliseconds
      ; MaxIdleScanInterval   = 7500    ; in milliseconds
      ; MinIdleScanAngle      = 0       ; in degrees off the natural turret angle
      ; MaxIdleScanAngle      = 90     ; in degrees off the natural turret angle
      ; ControlledWeaponSlots = PRIMARY SECONDARY
    ; End
    ; AutoAcquireEnemiesWhenIdle = Yes
  ; End
  ; Locomotor = SET_NORMAL ScorpionLocomotor
  ; ;Locomotor = SET_NORMAL_UPGRADED GLATankUpgradedLocomotor
  
  ; Behavior = PhysicsBehavior ModuleTag_04
    ; Mass = 50.0
  ; End

; ;Deaths-------------------------------------------------------------
; Behavior = SlowDeathBehavior DeathTag_01
    ; DeathTypes = ALL -CRUSHED -SPLATTED -POISONED -POISONED_BETA ;-EXTRA_8
    ; FX  = INITIAL   FX_BuggyNewDeathExplosion
    ; FX  = FINAL     FX_BigTruckDeathFX
    ; OCL = FINAL    OCL_MTLBTankDeathEffect 
  ; End
  ; Behavior = SlowDeathBehavior DeathTag_02
    ; DeathTypes = ALL -CRUSHED -SPLATTED -POISONED -POISONED_BETA ;-EXTRA_8
    ; FX  = INITIAL   FX_BuggyNewDeathExplosion
    ; ;FX = MIDPOINT FX_BTRBurningAmmo
    ; FX  = FINAL     FX_BigTruckDeathFX
    ; OCL = FINAL    OCL_MTLBTankDeathEffect 
  ; End
  ; Behavior = FXListDie DeathTag_03
    ; DeathTypes = NONE +CRUSHED +SPLATTED
    ; DeathFX = FX_CarCrush
  ; End
  ; Behavior = CreateObjectDie DeathTag_04
    ; DeathTypes = NONE +CRUSHED +SPLATTED
    ; CreationList = OCL_MTLBTankDeathEffect 
  ; End
  ; Behavior = DestroyDie DeathTag_05
    ; DeathTypes = NONE +CRUSHED +SPLATTED
  ; End
  ; ;Radiation
  ; ; Behavior = SlowDeathBehavior DeathTag_06
    ; ; DeathTypes = NONE +EXTRA_8
    ; ; FX  = INITIAL FX_VehicleRadiationDeath
    ; ; SinkRate = 2.5
    ; ; SinkDelay = 6000
    ; ; DestructionDelay = 14000
  ; ; End
; ;Poison
  ; Behavior = SlowDeathBehavior DeathTag_07
    ; DeathTypes = NONE +POISONED
    ; FX  = INITIAL FX_VehiclePoisonDeath
    ; SinkRate = 2.5
    ; SinkDelay = 6000
    ; DestructionDelay = 14000
  ; End
; ;PoisonBeta
    ; Behavior = SlowDeathBehavior DeathTag_08
    ; DeathTypes = NONE +POISONED_BETA
    ; FX  = INITIAL FX_VehiclePoisonBetaDeath
    ; SinkRate = 2.5
    ; SinkDelay = 6000
    ; DestructionDelay = 14000
  ; End
; ;Stealth-------------------------------------------------------------
  ; ; Behavior = StealthUpdate ModuleStealth_GPSScramblerGenericStealthModule
    ; ; StealthDelay                = 2000 ; msec
    ; ; InnateStealth               = Yes
    ; ; StealthForbiddenConditions  = ATTACKING USING_ABILITY
    ; ; OrderIdleEnemiesToAttackMeUponReveal  = Yes
    ; ; RequiredStatus = REASSIGN_PARKING
  ; ; End
; ;---------------------------------------------------------------------
  
  ; Behavior                 = TransitionDamageFX ModuleTag_06
    ; ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
    ; ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  ; End

  ; Behavior = TransportContain ModuleTag_07
    ; PassengersAllowedToFire = No
    ; Slots                 = 6
	; ;InitialPayload        = Boss_RussiaInfantryConscript 6
    ; ScatterNearbyOnExit   = Yes
    ; HealthRegen%PerSec    = 10
    ; DamagePercentToUnits  = 0% ;30%
    ; AllowInsideKindOf     = INFANTRY
    ; ;ExitDelay         = 500
    ; GoAggressiveOnExit = Yes ; AI Will tell people to set their mood to Aggressive on exiting
  ; End

  ; Behavior = FlammableUpdate ModuleTag_08
    ; AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    ; AflameDamageAmount = 3       ; taking this much damage...
    ; AflameDamageDelay = 500       ; this often.
  ; End

  ; Geometry = BOX
  ; GeometryMajorRadius = 12.0
  ; GeometryMinorRadius = 7.0
  ; GeometryHeight = 9.0    
  ; GeometryIsSmall = Yes 
  ; Shadow = SHADOW_VOLUME   
  ; ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length
  ; Scale = 1.1
; End

;------------------------------------------------------------------------------
Object Boss_UkraineTankT80

  ; *** ART Parameters ***
  SelectPortrait = SAPaladin_L
  ButtonImage = SAPaladin

  Draw = W3DOverlordTankDraw ModuleTag_01
    ExtraPublicBone = Turret01
    ExtraPublicBone = LASERFX01
    ExtraPublicBone = CORE

    OkToChangeModelColor = Yes
    ParticlesAttachedToAnimatedBones = Yes
    InitialRecoilSpeed = 120
    MaxRecoilDistance = 3
    RecoilSettleSpeed = 12    

    DefaultConditionState
      Model = CWCruT80UK
      Turret = Turret01
      TurretPitch = Turretel
      WeaponFireFXBone = PRIMARY MUZZLE
      WeaponLaunchBone = PRIMARY MUZZLE
      WeaponRecoilBone = PRIMARY BARREL
      WeaponFireFXBone = SECONDARY MUZZLE
      WeaponLaunchBone = SECONDARY MUZZLE
      WeaponFireFXBone = TERTIARY MG
      WeaponLaunchBone = TERTIARY MG
    End
    ConditionState = RELOADING_A
      Model = CWCruT80UK
      ParticleSysBone = MUZZLE01 CWCgenArtMuzzleFlashBarrelSmoke
    End
    ConditionState = REALLYDAMAGED
      Model = CWCruT80UK_d
      Turret = Turret01
    End
    ConditionState = RELOADING_A REALLYDAMAGED
      Model = CWCruT80UK_d
      ParticleSysBone = MUZZLE01 CWCgenArtMuzzleFlashBarrelSmoke
    End
    ConditionState = RUBBLE
      Model = CWCruT80UK_k
      Turret = Turret01
    End
    TrackMarks = EXTnkTrack.tga
    TreadAnimationRate = 0.75;  amount of tread texture to move per second
    TreadDriveSpeedFraction = 0.3 ; fraction of locomotor speed below which treads stop moving.
    TreadPivotSpeedFraction = 0.6 ; fraction of locomotor speed below which we allow pivoting.
  End

  ;---------------------------------------
  ; The brakes kick in
  ;---------------------------------------
  Draw = W3DModelDraw ModuleTag_BrakeDraw
    IgnoreConditionStates = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED RUBBLE
    AttachToBoneInAnotherModule = CORE
    ParticlesAttachedToAnimatedBones = Yes
    OkToChangeModelColor = Yes
    ;day, no lights, only if I brake
    ConditionState = NONE
      Model = CWCruT80UK_l
      HideSubObject = HLIGHT01 HLIGHT02
      ParticleSysBone = BRAKE01 CWCgenRearLightBraking
      ParticleSysBone = BRAKE02 CWCgenRearLightBraking
    End
    ConditionState = MOVING
      Model = CWCruT80UK_l
      HideSubObject = HLIGHT01 HLIGHT02
    End
    ;night, I always have my lights on when I move, and they flash whenever I brake
    ConditionState = NIGHT
      Model = CWCruT80UK_l
      ParticleSysBone = BRAKE01 CWCgenRearLight
      ParticleSysBone = BRAKE02 CWCgenRearLight
      ShowSubObject = HLIGHT01 HLIGHT02
      ParticleSysBone = BRAKE01 CWCgenRearLightBraking
      ParticleSysBone = BRAKE02 CWCgenRearLightBraking
    End
    ConditionState = NIGHT MOVING
      Model = CWCruT80UK_l
      ParticleSysBone = BRAKE01 CWCgenRearLight
      ParticleSysBone = BRAKE02 CWCgenRearLight
      ShowSubObject = HLIGHT01 HLIGHT02
    End
    ;enemynear, hide those red lights!
    ConditionState = ENEMYNEAR
      Model = CWCruT80UK_l
      HideSubObject = HLIGHT01 HLIGHT02
    End
    AliasConditionState = MOVING ENEMYNEAR
    AliasConditionState = NIGHT ENEMYNEAR
    AliasConditionState = NIGHT MOVING ENEMYNEAR
  End

  ;---------------------------------------
  Draw = W3DTruckDraw ModuleTag_TracksDraw
    OkToChangeModelColor = Yes
    ParticlesAttachedToAnimatedBones = Yes
    AttachToBoneInAnotherModule = CORE
    DefaultConditionState
      Model = CWCruT80UK_t
    End
    ; These parameters are only used if the model has a separate suspension,
    ; and the locomotor has HasSuspension = Yes.
    RightFrontTireBone = TIRE01
    LeftFrontTireBone = TIRE02
    MidRightFrontTireBone = TIRE03
    MidLeftFrontTireBone = TIRE04
    MidRightMidTireBone = TIRE05
    MidLeftMidTireBone = TIRE06
    MidLeftRearTireBone = TIRE07
    MidRightRearTireBone = TIRE08
    TireRotationMultiplier = 0.4 ; this * speed = rotation.

  End

  ;---------------------------------------
  ; The rotating housecolors
  ;---------------------------------------
  ; Draw = W3DModelDraw ModuleTag_HousecolorDraw
    ; OkToChangeModelColor = Yes

    ; ConditionState = NONE
      ; Model = CWCruHC_B
      ; Animation = CWCruHC_B.CWCruHC_B
      ; AnimationMode = LOOP
      ; HideSubObject = HOUSECOLOR02
    ; End
    ; AliasConditionState = WEAPONSET_PLAYER_UPGRADE
    ; AliasConditionState = REALLYDAMAGED
    ; AliasConditionState = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
    ; AliasConditionState = RUBBLE
    ; AliasConditionState = WEAPONSET_PLAYER_UPGRADE RUBBLE
    ; AliasConditionState = ENEMYNEAR RUBBLE
    ; AliasConditionState = ENEMYNEAR WEAPONSET_PLAYER_UPGRADE RUBBLE

    ; ConditionState = ENEMYNEAR
      ; Model = CWCruHC_B
      ; Animation = CWCruHC_B.CWCruHC_B
      ; AnimationMode = LOOP
      ; ShowSubObject = HOUSECOLOR02
    ; End
    ; AliasConditionState = ENEMYNEAR WEAPONSET_PLAYER_UPGRADE
    ; AliasConditionState = ENEMYNEAR REALLYDAMAGED
    ; AliasConditionState = ENEMYNEAR WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
  ; End

  ; ***DESIGN parameters ***
  DisplayName = OBJECT:T80
  Side = Boss
  EditorSorting = VEHICLE
  TransportSlotCount = 5 ;how many "slots" we take in a transport (0 == not transportable)

  WeaponSet
    Conditions = None
    Weapon           = PRIMARY  T-80TankGun
	PreferredAgainst = PRIMARY VEHICLE STRUCTURE
	AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
    Weapon           = SECONDARY T-80MachineGun
    PreferredAgainst = SECONDARY INFANTRY
	AutoChooseSources = SECONDARY FROM_PLAYER FROM_SCRIPT FROM_AI
  End

  ArmorSet
    Conditions = None
    Armor = TankArmor
    DamageFX = TankDamageFX
  End

  BuildCost = 5000
  BuildTime = 15.0 ;in seconds

  VisionRange = 200
  ShroudClearingRange = 200
  Prerequisites
    Object = Boss_UkraineWarFactory
  End

  ;CWCExpMarker: T-80UK
  ExperienceValue = 1700 2550 3400 5100 ;Experience point value at each level
  ExperienceRequired = 0 2485 4970 8698 ;Experience points needed to gain each level
  IsTrainable = Yes ;Can gain experience

  CrusherLevel = 2 ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel = 2 ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = GLATankMarauderCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = CWCruT80UKVoiceSelect
  VoiceMove = CWCruT80UKVoiceMove
  VoiceGuard = CWCruT80UKVoiceGuard
  VoiceAttack = CWCruT80UKVoiceAttack
  SoundMoveLoop = CWCgenT80SeriesTreadsMoving
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate = CWCruT80UKVoiceCreate
    TurretMoveLoop = CWCruTSeriesTurretServo
    VoiceCrush = CWCruT80UKVoiceCrush
    VoiceEnter = CWCruT80UKVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = ATTACK_NEEDS_LINE_OF_SIGHT CAN_ATTACK CAN_CAST_REFLECTIONS PRELOAD SCORE SELECTABLE VEHICLE 

  Body = ActiveBody ModuleTag_02
    MaxHealth = 1800.0
    InitialHealth = 1800.0
  End

  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      TurretTurnRate = 80 ; // turn rate, in degrees per sec
      TurretPitchRate = 80
      MinPhysicalPitch = -5
      AllowsPitch = Yes
      ControlledWeaponSlots = PRIMARY SECONDARY TERTIARY
      MinIdleScanAngle = 0 ; in degrees off the natural turret angle
      MaxIdleScanAngle = 45 ; in degrees off the natural turret angle
      MinIdleScanInterval = 10000 ; in milliseconds
      MaxIdleScanInterval = 20000 ; in milliseconds
    End
    AutoAcquireEnemiesWhenIdle = Yes
    MoodAttackCheckRate = 150
  End

  Locomotor = SET_NORMAL CWCruT80UKLocomotor

  ; Behavior = OverlordContain ModuleTag_04
    ; Slots = 1
    ; DamagePercentToUnits = 100%
    ; AllowInsideKindOf = PORTABLE_STRUCTURE
    ; PayloadTemplateName = CWCruT80UK_AWSystem
    ; PassengersAllowedToFire = Yes
    ; PassengersInTurret = Yes ; My passengers ride in my turret, that's where the Firepoint bones are
    ; ExperienceSinkForRider = Yes ; I get the Exp for things my turret friend kills
  ; End

  ; Behavior = EnemyNearUpdate ModuleTag_Housecolor
    ; ;nothing
  ; End

  ; Behavior = StealthDetectorUpdate ModuleTag_DetectStealth_Vehicle01
    ; CanDetectWhileContained = No ; this is a vehicle ; Can the object detect stealth objects when it is inside an object?
    ; CanDetectWhileGarrisoned = No ; this is a vehicle ; Can the object detect stealth objects when it is inside an object with a GarrisonContain module?
    ; DetectionRange = 50 ; 1/2 its visionrange ; The maximum distance that the object can detect enemy stealthed obejcts. Defaults to the object's VisionRange.
    ; DetectionRate = 1000 ; The time between scanning for stealthed objects.
    ; ExtraRequiredKindOf = INFANTRY
    ; ExtraForbiddenKindOf = BOAT
    ; InitiallyDisabled = No ; Does the detector start off in a disabled state?
  ; End

  Behavior = PhysicsBehavior ModuleTag_08
    Mass = 50.0
  End

; --- begin Death modules ---
  Behavior = TransitionDamageFX ModuleTag_Death01
    DamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenTankDeathSmokeDamaged
    DamagedFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDamageTransition
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenTankDeathSmokeReallyDamaged
    ReallyDamagedFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDamageTransition
    RubbleParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenTankDeathSmokeRubble
    RubbleFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDamageTransition
    RubbleFXList2 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDeathRubble1
  End
  Behavior = SlowDeathBehavior ModuleTag_Death02
    DestructionDelay = 18000
    FX = MIDPOINT FX_CWCgenTankDeathRubble2
    ;OCL = MIDPOINT OCL_CWCgenTankDeathTrails
    SinkDelay = 15000
    SinkRate = 4.0
    ;Weapon = MIDPOINT CWCgenVehicleExplodeWeapon
  End
; --- end Death modules ---

  ; Behavior = PointDefenseLaserUpdate ModuleTag_MissileJammer01
    ; WeaponTemplate = CWCruT80UKDummyPointDefenseLaser
    ; PrimaryTargetTypes = SMALL_MISSILE
    ; ;SecondaryTargetTypes = INFANTRY
    ; ScanRate = 250.0
    ; ScanRange = 267.0
    ; PredictTargetVelocityFactor = 3.0
  ; End

  ; Behavior = VeterancyGainCreate ModuleTag_22
    ; StartingLevel = VETERAN
  ; End

  ClientUpdate = AnimatedParticleSysBoneClientUpdate ModuleTag_Client01
  End

  Geometry = BOX
  GeometryMajorRadius = 15.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 10.0
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45 ; minimum elevation angle above horizon. Used to limit shadow length
  Scale = 1.1
End

;------------------------------------------------------------------------------
Object Boss_RussiaSatelliteCenter

  ; *** ART Parameters ***
  SelectPortrait         = SNIntCnt_L
  ButtonImage            = SNIntCnt

  Draw = W3DModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
    ConditionState = NONE
      Model = CBBaikGrnd
    End
    ConditionState = DAMAGED
      Model = CBBaikGrnd_D
    End  
    ConditionState = REALLYDAMAGED
      Model = CBBaikGrnd_E
    End
    
        ;**************************************************************************************************************************
    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ;for this draw module
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = CBBaikGrnd
      Animation          = CBBaikGrnd.CBBaikGrnd
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = CBBaikGrnd_D
      Animation          = CBBaikGrnd_D.CBBaikGrnd_D
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = CBBaikGrnd_E
      ;Animation          = CBBaikGrnd_E.CBBaikGrnd_E
      ;AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End


    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED

    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    ;**************************************************************************************************************************

  End

  ; ------------ construction-zone fence -----------------
  Draw = W3DModelDraw ModuleTag_02
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABArFrcCmd_A4
      Animation       = ABArFrcCmd_A4.ABArFrcCmd_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = SmokeS01 SmokeBuildingSmall
      ParticleSysBone = SparksS01 LiveWireSparks02
    End
    ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABArFrcCmd_A4N
      Animation       = ABArFrcCmd_A4N.ABArFrcCmd_A4N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = SmokeS01 SmokeBuildingSmall
      ParticleSysBone = SparksS01 LiveWireSparks02
    End
    ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABArFrcCmd_A4S
      Animation       = ABArFrcCmd_A4S.ABArFrcCmd_A4S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = SmokeS01 SmokeBuildingSmall
      ParticleSysBone = SparksS01 LiveWireSparks02
    End
    ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABArFrcCmd_A4SN
; @todo srj -- missing
      Animation       = ABArFrcCmd_A4SN.ABArFrcCmd_A4SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = SmokeS01 SmokeBuildingSmall
      ParticleSysBone = SparksS01 LiveWireSparks02
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = ABArFrcCmd_A4
      Animation       = ABArFrcCmd_A4.ABArFrcCmd_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = ABArFrcCmd_A4N
      Animation       = ABArFrcCmd_A4N.ABArFrcCmd_A4N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = ABArFrcCmd_A4S
      Animation       = ABArFrcCmd_A4S.ABArFrcCmd_A4S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = ABArFrcCmd_A4SN
; @todo srj -- missing
      Animation       = ABArFrcCmd_A4SN.ABArFrcCmd_A4SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = ABArFrcCmd_A4
      Animation       = ABArFrcCmd_A4.ABArFrcCmd_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = ABArFrcCmd_A4N
      Animation       = ABArFrcCmd_A4N.ABArFrcCmd_A4N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = ABArFrcCmd_A4S
      Animation       = ABArFrcCmd_A4S.ABArFrcCmd_A4S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = ABArFrcCmd_A4SN
; @todo srj -- missing
      Animation       = ABArFrcCmd_A4SN.ABArFrcCmd_A4SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ being-constructed crane -----------------
  Draw = W3DModelDraw ModuleTag_03
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SOLD
      Model           = NONE
    End

    ConditionState    = ACTIVELY_BEING_CONSTRUCTED
      Model           = ABArFrcCmd_A5
      Animation       = ABArFrcCmd_A5.ABArFrcCmd_A5
      AnimationMode   = LOOP
      TransitionKey   = UP_DAY
    End

    ConditionState    = NIGHT ACTIVELY_BEING_CONSTRUCTED
      Model           = ABArFrcCmd_A5N
      Animation       = ABArFrcCmd_A5N.ABArFrcCmd_A5N
      AnimationMode   = LOOP
      TransitionKey   = UP_NIGHT
    End
    ConditionState    = SNOW ACTIVELY_BEING_CONSTRUCTED
      Model           = ABArFrcCmd_A5S
      Animation       = ABArFrcCmd_A5S.ABArFrcCmd_A5S
      AnimationMode   = LOOP
      TransitionKey   = UP_SNOW
    End
    ConditionState    = SNOW NIGHT ACTIVELY_BEING_CONSTRUCTED
      Model           = ABArFrcCmd_A5SN
      Animation       = ABArFrcCmd_A5SN.ABArFrcCmd_A5SN
      AnimationMode   = LOOP
      TransitionKey   = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = ABArFrcCmd_AB
      Animation       = ABArFrcCmd_AB.ABArFrcCmd_AB
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End

    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = ABArFrcCmd_ABN
      Animation       = ABArFrcCmd_ABN.ABArFrcCmd_ABN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = ABArFrcCmd_ABS
      ; @todo srj -- not found
      Animation       = ABArFrcCmd_ABS.ABArFrcCmd_ABS
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = ABArFrcCmd_ABSN
      Animation       = ABArFrcCmd_ABSN.ABArFrcCmd_ABSN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = ABArFrcCmd_AB
      Animation       = ABArFrcCmd_AB.ABArFrcCmd_AB
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = ABArFrcCmd_ABN
      Animation       = ABArFrcCmd_ABN.ABArFrcCmd_ABN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = ABArFrcCmd_ABS
      ; @todo srj -- not found
      Animation       = ABArFrcCmd_ABS.ABArFrcCmd_ABS
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = ABArFrcCmd_ABS
      Animation       = ABArFrcCmd_ABS.ABArFrcCmd_ABS
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ***DESIGN parameters ***
  DisplayName      = TOOLTIP:SatelliteCenter 
  Side             = Boss
  EditorSorting   = STRUCTURE

  BuildCost           = 25000
  BuildTime           = 30.0           ; in seconds
  EnergyProduction    = -25

  ArmorSet
    Conditions        = None
    Armor             = StructureArmor
    DamageFX          = StructureDamageFXNoShake
  End
  VisionRange         = 200.0           ; Shroud clearing distance
  ShroudClearingRange = 200
  
  Prerequisites
	Object            = Boss_TechCentr
  End

  MaxSimultaneousOfType = 1
  
  CommandSet       = Boss_RussiaSatelliteCenterCommandSet
  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE CAPTURABLE MP_COUNT_FOR_VICTORY POWERED
  Body                  = ActiveBody ModuleTag_04
    MaxHealth       = 4000.0
    InitialHealth   = 4000.0
  End
  Behavior = TransitionDamageFX ModuleTag_05
    ;-------------DESIGNED FOR SMALL SIZED CIVILIAN BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1          = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
  End 
  Behavior = FlammableUpdate ModuleTag_06
    FlameDamageLimit = 20         ;Catch fire if I take this much fire damage...
    FlameDamageExpiration = 2000  ;in a span of this long
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 25       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End
  Behavior = DestroyDie ModuleTag_07
    ;nothing
  End
  Behavior             = CreateObjectDie ModuleTag_08
    CreationList  = OCL_ABPowerPlantExplode
  End
  ; Behavior             = CreateObjectDie ModuleTag_09
    ; CreationList  = OCL_AmericanRangerDebris05
    ; ExemptStatus  = UNDER_CONSTRUCTION
  ; End
  Behavior             = FXListDie ModuleTag_10
    DeathFX       = FX_StructureMediumDeath
  End
  
  Behavior           = OCLSpecialPower ModuleTag_11
    SpecialPowerTemplate = SpecialPowerSpySatellite
    OCL                  = SUPERWEAPON_SpySatellite
    CreateLocation       = CREATE_AT_LOCATION
  End
  
  Geometry              = BOX
  GeometryMajorRadius   = 40.0
  GeometryMinorRadius   = 66.0
  GeometryHeight        = 43.0
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
Object Boss_ArtilleryWarehouse

  ; *** ART Parameters ***
  SelectPortrait         = MUBarracks
  ButtonImage            = MUBarracks

  Draw = W3DModelDraw ModuleTag_01
  OkToChangeModelColor = Yes

    ; day
    ConditionState = NONE
      Model         = MBBarracks2
      Animation     = MBBarracks2.MBBarracks2
      AnimationMode = LOOP
    End
    ConditionState = DAMAGED
      Model         = MBBarracks_D
      Animation     = MBBarracks_D.MBBarracks_D
      AnimationMode = LOOP
      ParticleSysBone = Smoke01 ChimneySmokeSmall
    End
    ConditionState = REALLYDAMAGED
      Model         = MBBarracks_E
      Animation     = MBBarracks_E.MBBarracks_E
      AnimationMode = LOOP
      ParticleSysBone = Smoke01 ChimneySmokeSmall
      ParticleSysBone = Smoke02 SteamVent
    End
    ConditionState = RUBBLE
      Model         = MBBarracks_R
    End

    ; night
    ConditionState = NIGHT
      Model         = MBBarracks2;_N
      Animation     = MBBarracks2.MBBarracks2
      AnimationMode = LOOP
    End
    ConditionState = DAMAGED NIGHT
      Model         = MBBarracks_D
      Animation     = MBBarracks_D.MBBarracks_D
      AnimationMode = LOOP
      ParticleSysBone = Smoke01 ChimneySmokeSmall
    End
    ConditionState = REALLYDAMAGED NIGHT
      Model         = MBBarracks_E
      Animation     = MBBarracks_E.MBBarracks_E
      AnimationMode = LOOP
      ParticleSysBone = Smoke01 ChimneySmokeSmall
      ParticleSysBone = Smoke02 SteamVent
    End
    ConditionState = RUBBLE NIGHT
      Model         = MBBarracks_R
    End

    ; Snow
    ConditionState = SNOW
      Model         = MBBarracks_S
      Animation     = MBBarracks_S.MBBarracks_S
      AnimationMode = LOOP
    End
    ConditionState = DAMAGED SNOW
      Model         = MBBarracks_DS
      Animation     = MBBarracks_DS.MBBarracks_DS
      AnimationMode = LOOP
      ParticleSysBone = Smoke01 ChimneySmokeSmall
    End
    ConditionState = REALLYDAMAGED SNOW
      Model         = MBBarracks_ES
      Animation     = MBBarracks_ES.MBBarracks_ES
      AnimationMode = LOOP
      ParticleSysBone = Smoke01 ChimneySmokeSmall
      ParticleSysBone = Smoke02 SteamVent
    End
    ConditionState = RUBBLE SNOW
      Model         = MBBarracks_RS
    End

    ; night snow
    ConditionState = SNOW NIGHT
      Model         = MBBarracks_S
      Animation     = MBBarracks_S.MBBarracks_S
      AnimationMode = LOOP
    End
    ConditionState = DAMAGED SNOW NIGHT
      Model         = MBBarracks_DS
      Animation     = MBBarracks_DS.MBBarracks_DS
      AnimationMode = LOOP
      ParticleSysBone = Smoke01 ChimneySmokeSmall
    End
    ConditionState = REALLYDAMAGED SNOW NIGHT
      Model         = MBBarracks_ES
      Animation     = MBBarracks_ES.MBBarracks_ES
      AnimationMode = LOOP
      ParticleSysBone = Smoke01 ChimneySmokeSmall
      ParticleSysBone = Smoke02 SteamVent
    End
    ConditionState = RUBBLE SNOW NIGHT
      Model         = MBBarracks_R
    End

    ;**************************************************************************************************************************
    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ;for this draw module
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = MBBarracks2
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = MBBarracks_D
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = MBBarracks_E
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
      Model              = MBBarracks2
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
      Model              = MBBarracks_D
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
      Model              = MBBarracks_E
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model              = MBBarracks_S
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
      Model              = MBBarracks_DS
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
      Model              = MBBarracks_ES
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
      Model              = MBBarracks_S
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
      Model              = MBBarracks_DS
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
      Model              = MBBarracks_ES
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End

    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = GARRISONED SOLD 
    AliasConditionState  = GARRISONED SOLD DAMAGED
    AliasConditionState  = GARRISONED SOLD REALLYDAMAGED
    AliasConditionState  = GARRISONED SOLD NIGHT
    AliasConditionState  = GARRISONED SOLD NIGHT DAMAGED
    AliasConditionState  = GARRISONED SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = GARRISONED SOLD SNOW
    AliasConditionState  = GARRISONED SOLD SNOW DAMAGED
    AliasConditionState  = GARRISONED SOLD SNOW REALLYDAMAGED
    AliasConditionState  = GARRISONED SOLD NIGHT SNOW
    AliasConditionState  = GARRISONED SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = GARRISONED SOLD NIGHT SNOW REALLYDAMAGED
    ;**************************************************************************************************************************
  End



  ; ------------ construction-zone fence -----------------
  Draw = W3DModelDraw ModuleTag_0202
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = MBBarracks_A4
      Animation       = MBBarracks_A4.MBBarracks_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
    End
    ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = MBBarracks_A4
      Animation       = MBBarracks_A4.MBBarracks_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
    End
    ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = MBBarracks_A4
      Animation       = MBBarracks_A4.MBBarracks_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
    End
    ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = MBBarracks_A4
      Animation       = MBBarracks_A4.MBBarracks_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = MBBarracks_A4
      Animation       = MBBarracks_A4.MBBarracks_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = MBBarracks_A4
      Animation       = MBBarracks_A4.MBBarracks_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = MBBarracks_A4
      Animation       = MBBarracks_A4.MBBarracks_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = MBBarracks_A4
      Animation       = MBBarracks_A4.MBBarracks_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = MBBarracks_A4
      Animation       = MBBarracks_A4.MBBarracks_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = MBBarracks_A4
      Animation       = MBBarracks_A4.MBBarracks_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = MBBarracks_A4
      Animation       = MBBarracks_A4.MBBarracks_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = MBBarracks_A4
      Animation       = MBBarracks_A4.MBBarracks_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ under-construction scaffolding -----------------
  Draw = W3DModelDraw ModuleTag_07s
  AnimationsRequirePower = No
    MinLODRequired = MEDIUM
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = MBBarracks_A6
      Animation       = MBBarracks_A6.MBBarracks_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Dust01 BuildingDustChina
      ParticleSysBone = Smoke01 BuildUpSmokeChina
      ParticleSysBone = Smoke02 BuildUpSmokeChina
      ParticleSysBone = Smoke03 BuildUpSmokeChina
      ParticleSysBone = Smoke04 BuildUpSmokeChina
      ParticleSysBone = Smoke05 BuildUpSmokeChina
    End
    ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      Model           = MBBarracks_A6
      Animation       = MBBarracks_A6.MBBarracks_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = Dust01 BuildingDustChina
      ParticleSysBone = Smoke01 BuildUpSmokeChina
      ParticleSysBone = Smoke02 BuildUpSmokeChina
      ParticleSysBone = Smoke03 BuildUpSmokeChina
      ParticleSysBone = Smoke04 BuildUpSmokeChina
      ParticleSysBone = Smoke05 BuildUpSmokeChina
    End
    ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      Model           = MBBarracks_A6
      Animation       = MBBarracks_A6.MBBarracks_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = Dust01 BuildingSnowDust
      ParticleSysBone = Smoke01 BuildUpSnowSmoke
      ParticleSysBone = Smoke02 BuildUpSnowSmoke
      ParticleSysBone = Smoke03 BuildUpSnowSmoke
      ParticleSysBone = Smoke04 BuildUpSnowSmoke
      ParticleSysBone = Smoke05 BuildUpSnowSmoke
    End
    ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      Model           = MBBarracks_A6
      Animation       = MBBarracks_A6.MBBarracks_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = Dust01 BuildingSnowDust
      ParticleSysBone = Smoke01 BuildUpSnowSmoke
      ParticleSysBone = Smoke02 BuildUpSnowSmoke
      ParticleSysBone = Smoke03 BuildUpSnowSmoke
      ParticleSysBone = Smoke04 BuildUpSnowSmoke
      ParticleSysBone = Smoke05 BuildUpSnowSmoke
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = MBBarracks_A6
      Animation       = MBBarracks_A6.MBBarracks_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = MBBarracks_A6
      Animation       = MBBarracks_A6.MBBarracks_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = MBBarracks_A6
      Animation       = MBBarracks_A6.MBBarracks_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = MBBarracks_A6
      Animation       = MBBarracks_A6.MBBarracks_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End 
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model            = MBBarracks_A6
      Animation       = MBBarracks_A6.MBBarracks_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model            = MBBarracks_A6
      Animation       = MBBarracks_A6.MBBarracks_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model            = MBBarracks_A6
      Animation       = MBBarracks_A6.MBBarracks_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model            = MBBarracks_A6
      Animation       = MBBarracks_A6.MBBarracks_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:ArtilleryWarehouse
  Side = Boss
  EditorSorting       = STRUCTURE
  BuildCost           = 1000
  BuildTime           = 15.0           ; in seconds
  EnergyProduction    = 0
  CommandSet          = SellOnlyGenericCommandSet
  VisionRange         = 100.0           ; Shroud clearing distance
  ShroudClearingRange = 100.0
  ArmorSet
    Conditions        = None
    Armor             = StructureArmor
    DamageFX          = StructureDamageFXNoShake
  End
  ExperienceValue     = 100 100 100 100  ; Experience point value at each level

  Prerequisites    
    Object = Boss_WarFactory Boss_SmallFactory
  End

  ; *** AUDIO Parameters ***
  SoundOnDamaged        = BuildingDamagedStateLight
  SoundOnReallyDamaged  = BuildingDestroy

  UnitSpecificSounds
    UnderConstruction     = UnderConstructionLoop
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority        = STRUCTURE
  KindOf               = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE CAPTURABLE
  Body                 = StructureBody ModuleTag_05
    MaxHealth          = 1000.0
    InitialHealth      = 1000.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 1200
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
  End

  Behavior                  = CreateObjectDie ModuleTag_080102
    CreationList       = OCL_LargeStructureDebris
  End
  Behavior                  = FXListDie ModuleTag_10103
    DeathFX            = FX_StructureMediumDeath
  End

  Behavior             = DestroyDie ModuleTag_08
    ;nothing
  End

  Behavior = FlammableUpdate ModuleTag_50
    FlameDamageLimit = 20         ;Catch fire if I take this much fire damage...
    FlameDamageExpiration = 2000  ;in a span of this long
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 25       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = TransitionDamageFX ModuleTag_51
    ;-------------DESIGNED FOR SMALL SIZED CIVILIAN BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1          = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
    RubbleParticleSystem1              = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    RubbleParticleSystem2              = Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
    RubbleParticleSystem3              = Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
    RubbleParticleSystem4              = Bone:None RandomBone:No PSys:StructureTransitionSmallFlare
  End
  Behavior = FXListDie ModuleTag_07
    DeathFX = FX_BuildingDie
  End
  Geometry              = BOX
  GeometryMajorRadius   = 42.0
  GeometryMinorRadius   = 42.0
  GeometryHeight        = 57.0
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
Object Boss_SovietVehicleNona

  ; *** ART Parameters ***
  SelectPortrait         = SUHowitzer_L
  ButtonImage            = SUHowitzer
  
    Draw = W3DTankDraw ModuleTag_01
    OkToChangeModelColor = Yes
    MaxRecoilDistance    = 3
    RecoilSettleSpeed    = 4

    ; ConditionState = NONE
      ; Model = RVBMD1
      ; Turret = TURRET_DUM
      ; TurretPitch = TURRETEL01
      ; HideSubObject = TURRETUP BARRELMG01 LIGHT01
      ; WeaponRecoilBone    = SECONDARY Barrel
      ; WeaponMuzzleFlash   = SECONDARY MuzzleFX
      ; WeaponFireFXBone    = SECONDARY Muzzle
      ; WeaponLaunchBone    = SECONDARY Muzzle
    ; End

    ; ConditionState = REALLYDAMAGED
      ; Model = RVBMD1_D
      ; Turret = TURRET_DUM
      ; TurretPitch = TURRETEL01
      ; HideSubObject = TURRETUP BARRELMG01 LIGHT01
      ; WeaponRecoilBone    = SECONDARY Barrel
      ; WeaponMuzzleFlash   = SECONDARY MuzzleFX
      ; WeaponFireFXBone    = SECONDARY Muzzle
      ; WeaponLaunchBone    = SECONDARY Muzzle
    ; End
    ; AliasConditionState = RUBBLE

    ;Mortar Turret
    ConditionState = NONE ;WEAPONSET_PLAYER_UPGRADE
      Model = RVBMD1
      HideSubObject = TURRET TURRETUP TURRETEL01 BARRELMG01 LIGHT01
    End
    ConditionState = REALLYDAMAGED ;WEAPONSET_PLAYER_UPGRADE
      Model = RVBMD1_D
      HideSubObject = TURRET TURRETUP TURRETEL01 BARRELMG01 LIGHT01
    End
    AliasConditionState = RUBBLE ;WEAPONSET_PLAYER_UPGRADE
    TrackMarks             = EXTnkTrack.tga
    TreadAnimationRate      = 2.0  ;  amount of tread texture to move per second
    TreadDriveSpeedFraction = 0.3  ; fraction of locomotor speed below which treads stop moving.
    TreadPivotSpeedFraction = 0.6  ; fraction of locomotor speed below which we allow pivoting.
  End
  
  Draw = W3DModelDraw ModuleTag_MachineGunBarrel01
    MaxRecoilDistance    = 0.5
    RecoilSettleSpeed    = 6
    ; ConditionState = NONE
      ; Model = RVBMD1
      ; Turret = TURRET_DUM
      ; TurretPitch = TURRETEL02
      ; HideSubObject = CHASSIS TURRET TURRETUP TURRETEL01
      ; WeaponMuzzleFlash = SECONDARY MuzzleMGFX
    ; End
    ; ConditionState        = USING_WEAPON_A
      ; Model = RVBMD1
      ; Turret = TURRET_DUM
      ; TurretPitch = TURRETEL02
      ; HideSubObject = CHASSIS TURRET TURRETUP TURRETEL01
      ; WeaponRecoilBone    = PRIMARY BarrelMG
      ; WeaponMuzzleFlash   = PRIMARY MuzzleMGFX
      ; WeaponFireFXBone    = PRIMARY MuzzleMG
      ; WeaponLaunchBone    = PRIMARY MuzzleMG
    ; End
    ; ConditionState = REALLYDAMAGED
      ; Model = RVBMD1_D
      ; Turret = TURRET_DUM
      ; TurretPitch = TURRETEL02
      ; HideSubObject = CHASSIS TURRET TURRETUP TURRETEL01
      ; WeaponMuzzleFlash   = SECONDARY MuzzleMGFX
    ; End
    ; AliasConditionState = RUBBLE
    ; ConditionState = REALLYDAMAGED USING_WEAPON_A
      ; Model = RVBMD1_D
      ; Turret = TURRET_DUM
      ; TurretPitch = TURRETEL02
      ; HideSubObject = CHASSIS TURRET TURRETUP TURRETEL01
      ; WeaponRecoilBone    = PRIMARY BarrelMG
      ; WeaponMuzzleFlash   = PRIMARY MuzzleMGFX
      ; WeaponFireFXBone    = PRIMARY MuzzleMG
      ; WeaponLaunchBone    = PRIMARY MuzzleMG
    ; End

    ;Mortar Turret
    ConditionState = NONE ;WEAPONSET_PLAYER_UPGRADE
      Model = NONE
    End
    AliasConditionState = USING_WEAPON_A ;WEAPONSET_PLAYER_UPGRADE
    AliasConditionState = REALLYDAMAGED ;WEAPONSET_PLAYER_UPGRADE
    AliasConditionState = USING_WEAPON_A REALLYDAMAGED ;WEAPONSET_PLAYER_UPGRADE
    AliasConditionState = RUBBLE ;WEAPONSET_PLAYER_UPGRADE

  End
  
  Draw = W3DModelDraw ModuleTag_MortarTurret01
    OkToChangeModelColor = Yes
    MaxRecoilDistance    = 3
    RecoilSettleSpeed    = 4
    ; ConditionState = NONE
      ; Model = NVDeva_U2
    ; End
    ; AliasConditionState = ATTACKING
    ; AliasConditionState = ATTACKING REALLYDAMAGED
    ; AliasConditionState = REALLYDAMAGED
    ; AliasConditionState = RUBBLE
    ; AliasConditionState = NIGHT
    ; AliasConditionState = NIGHT ATTACKING
    ; AliasConditionState = NIGHT ATTACKING REALLYDAMAGED
    ; AliasConditionState = NIGHT REALLYDAMAGED
    ; AliasConditionState = NIGHT RUBBLE
    ; AliasConditionState = SNOW
    ; AliasConditionState = SNOW ATTACKING
    ; AliasConditionState = SNOW ATTACKING REALLYDAMAGED
    ; AliasConditionState = SNOW REALLYDAMAGED
    ; AliasConditionState = SNOW RUBBLE
    ; AliasConditionState = SNOW NIGHT
    ; AliasConditionState = SNOW NIGHT ATTACKING
    ; AliasConditionState = SNOW NIGHT ATTACKING REALLYDAMAGED
    ; AliasConditionState = SNOW NIGHT REALLYDAMAGED
    ; AliasConditionState = SNOW NIGHT RUBBLE
    
    ;Mortar Turret
    ConditionState = NONE ;WEAPONSET_PLAYER_UPGRADE
      Model = RVBMD1
      Animation = RVBMD1.RVBMD1
      AnimationMode = ONCE_BACKWARDS
      Flags = START_FRAME_FIRST
      TransitionKey = TRANS_MORTAR_NORMAL
      Turret = TURRETUP
      TurretPitch = TURRETUPEL
      HideSubObject = CHASSIS TURRET TURRETEL01 BARRELMG01 LIGHT01
      WeaponRecoilBone  = PRIMARY BarrelUp
      WeaponFireFXBone  = PRIMARY MuzzleUp
      WeaponLaunchBone  = PRIMARY MuzzleUp
    End
    AliasConditionState = NIGHT ;WEAPONSET_PLAYER_UPGRADE
    AliasConditionState = SNOW ;WEAPONSET_PLAYER_UPGRADE
    AliasConditionState = SNOW NIGHT ;WEAPONSET_PLAYER_UPGRADE
    
    TransitionState = TRANS_MORTAR_NORMAL TRANS_MORTAR_FIRING
      Model = RVBMD1
      Animation = RVBMD1.RVBMD1
      AnimationMode = ONCE
      Flags = MAINTAIN_FRAME_ACROSS_STATES
      Turret = TURRETUP
      TurretPitch = TURRETUPEL
      HideSubObject = CHASSIS TURRET TURRETEL01 BARRELMG01 LIGHT01
      WeaponRecoilBone  = PRIMARY BarrelUp
      WeaponFireFXBone  = PRIMARY MuzzleUp
      WeaponLaunchBone  = PRIMARY MuzzleUp
    End
    
    ConditionState = ATTACKING ;WEAPONSET_PLAYER_UPGRADE
      Model = RVBMD1
      Animation = RVBMD1.RVBMD1
      AnimationMode = ONCE
      Flags = START_FRAME_LAST
      TransitionKey = TRANS_MORTAR_FIRING
      Turret = TURRETUP
      TurretPitch = TURRETUPEL
      HideSubObject = CHASSIS TURRET TURRETEL01 BARRELMG01 LIGHT01
      WeaponRecoilBone = PRIMARY BarrelUp
      WeaponFireFXBone = PRIMARY MuzzleUp
      WeaponLaunchBone = PRIMARY MuzzleUp
    End
    AliasConditionState = ATTACKING NIGHT ;WEAPONSET_PLAYER_UPGRADE
    AliasConditionState = ATTACKING SNOW ;WEAPONSET_PLAYER_UPGRADE
    AliasConditionState = ATTACKING SNOW NIGHT ;WEAPONSET_PLAYER_UPGRADE
    
    TransitionState = TRANS_MORTAR_FIRING TRANS_MORTAR_NORMAL
      Model = RVBMD1
      Animation = RVBMD1.RVBMD1
      AnimationMode = ONCE_BACKWARDS
      Flags = MAINTAIN_FRAME_ACROSS_STATES
      Turret = TURRETUP
      TurretPitch = TURRETUPEL
      HideSubObject = CHASSIS TURRET TURRETEL01 BARRELMG01 LIGHT01
      WeaponRecoilBone  = PRIMARY BarrelUp
      WeaponFireFXBone  = PRIMARY MuzzleUp
      WeaponLaunchBone  = PRIMARY MuzzleUp
    End

    ;Damaged Conditions
    ConditionState = REALLYDAMAGED ;WEAPONSET_PLAYER_UPGRADE
      Model = RVBMD1
      Animation = RVBMD1.RVBMD1
      AnimationMode = ONCE_BACKWARDS
      Flags = START_FRAME_FIRST
      TransitionKey = TRANS_DAMAGED_MORTAR_NORMAL
      Turret = TURRETUP
      TurretPitch = TURRETUPEL
      HideSubObject = CHASSIS TURRET TURRETEL01 BARRELMG01 LIGHT01
      WeaponRecoilBone  = PRIMARY BarrelUp
      WeaponFireFXBone  = PRIMARY MuzzleUp
      WeaponLaunchBone  = PRIMARY MuzzleUp
    End
    AliasConditionState = REALLYDAMAGED NIGHT ;WEAPONSET_PLAYER_UPGRADE
    AliasConditionState = REALLYDAMAGED SNOW ;WEAPONSET_PLAYER_UPGRADE
    AliasConditionState = REALLYDAMAGED SNOW NIGHT ;WEAPONSET_PLAYER_UPGRADE
    TransitionState = TRANS_DAMAGED_MORTAR_NORMAL TRANS_DAMAGED_MORTAR_FIRING
      Model = RVBMD1
      Animation = RVBMD1.RVBMD1
      AnimationMode = ONCE
      Flags = MAINTAIN_FRAME_ACROSS_STATES
      Turret = TURRETUP
      TurretPitch = TURRETUPEL
      HideSubObject = CHASSIS TURRET TURRETEL01 BARRELMG01 LIGHT01
      WeaponRecoilBone  = PRIMARY BarrelUp
      WeaponFireFXBone  = PRIMARY MuzzleUp
      WeaponLaunchBone  = PRIMARY MuzzleUp
    End
    ConditionState = REALLYDAMAGED ATTACKING ;WEAPONSET_PLAYER_UPGRADE
      Model = RVBMD1
      Animation = RVBMD1.RVBMD1
      AnimationMode = ONCE
      Flags = START_FRAME_LAST
      TransitionKey = TRANS_DAMAGED_MORTAR_FIRING
      Turret = TURRETUP
      TurretPitch = TURRETUPEL
      HideSubObject = CHASSIS TURRET TURRETEL01 BARRELMG01 LIGHT01
      WeaponRecoilBone = PRIMARY BarrelUp
      WeaponFireFXBone = PRIMARY MuzzleUp
      WeaponLaunchBone = PRIMARY MuzzleUp
    End
    AliasConditionState = REALLYDAMAGED ATTACKING NIGHT ;WEAPONSET_PLAYER_UPGRADE
    AliasConditionState = REALLYDAMAGED ATTACKING SNOW ;WEAPONSET_PLAYER_UPGRADE
    AliasConditionState = REALLYDAMAGED ATTACKING SNOW NIGHT ;WEAPONSET_PLAYER_UPGRADE
    TransitionState = TRANS_DAMAGED_MORTAR_FIRING TRANS_DAMAGED_MORTAR_NORMAL
      Model = RVBMD1
      Animation = RVBMD1.RVBMD1
      AnimationMode = ONCE_BACKWARDS
      Flags = MAINTAIN_FRAME_ACROSS_STATES
      Turret = TURRETUP
      TurretPitch = TURRETUPEL
      HideSubObject = CHASSIS TURRET TURRETEL01 BARRELMG01 LIGHT01
      WeaponRecoilBone  = PRIMARY BarrelUp
      WeaponFireFXBone  = PRIMARY MuzzleUp
      WeaponLaunchBone  = PRIMARY MuzzleUp
    End
  End
  
  Draw = W3DModelDraw ModuleTag_TurretLights01
    OkToChangeModelColor = Yes
    DefaultConditionState
      Model = NONE
    End
    AliasConditionState = REALLYDAMAGED
    AliasConditionState = RUBBLE
    AliasConditionState = NIGHT RUBBLE
    ; AliasConditionState = WEAPONSET_PLAYER_UPGRADE
    ; AliasConditionState = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
    ; AliasConditionState = WEAPONSET_PLAYER_UPGRADE RUBBLE
    ; AliasConditionState = WEAPONSET_PLAYER_UPGRADE NIGHT
    ; AliasConditionState = WEAPONSET_PLAYER_UPGRADE NIGHT REALLYDAMAGED
    ; AliasConditionState = WEAPONSET_PLAYER_UPGRADE NIGHT RUBBLE
    ConditionState = NIGHT
      Model = RVBMD1
      Turret = TURRET_DUM
      HideSubObject = CHASSIS TURRET TURRETUP TURRETEL01 BARRELMG01
    End
    AliasConditionState = NIGHT REALLYDAMAGED  
  End
  
  Draw = W3DModelDraw ModuleMod_OverWater
    DefaultConditionState
      Model = NVTCrawler_W
    End
    AliasConditionState  = MOVING
    ConditionState       = OVER_WATER
      ParticleSysBone    = TreadFX01 AmphibWaveRest
      ParticleSysBone    = TreadFX02 AmphibWaveRest
    End   
    ConditionState       = OVER_WATER MOVING
      ParticleSysBone    = TreadFX01 AmphibWave
      ParticleSysBone    = TreadFX02 AmphibWave
    End
  End
  
  Draw = W3DModelDraw ModuleTag_ParachutePlate01
    DefaultConditionState
      Model             = NONE
    End
    AliasConditionState = REALLYDAMAGED
    AliasConditionState = RUBBLE
    ConditionState = FREEFALL
      Model             = RVParaPlate
    End
    AliasConditionState = FREEFALL REALLYDAMAGED
    AliasConditionState = FREEFALL RUBBLE
    AliasConditionState = PARACHUTING
    AliasConditionState = PARACHUTING REALLYDAMAGED
    AliasConditionState = PARACHUTING RUBBLE
  End

  Draw = W3DModelDraw ModuleMod_ExitBones
    DefaultConditionState
      Model = RVBMP3_B
    End
  End
  
  ; ***DESIGN parameters ***
  DisplayName           = OBJECT:Nona
  Side                  = Boss
  EditorSorting         = VEHICLE
  TransportSlotCount    = 3                 ;how many "slots" we take in a transport (0 == not transportable)

  ; WeaponSet
    ; Conditions = None 
    ; Weapon           = PRIMARY   NONE
  ; End
  
  WeaponSet
    ;Conditions = PLAYER_UPGRADE
	Conditions       = None
    Weapon           = PRIMARY   HowitzerGun
  End

  ArmorSet
    Conditions        = None
    Armor             = TankArmor
    DamageFX          = TankDamageFX
  End
  
  BuildCost       = 600
  BuildTime       = 9.0          ;in seconds    
  VisionRange     = 200
  ShroudClearingRange = 200
  
  Prerequisites
    Object = Boss_WarFactory Boss_SmallFactory
  End
  
  ExperienceValue    = 50 50  100 150  ;Experience point value at each level
  ExperienceRequired = 0  100 200 300  ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  
  CommandSet      = Boss_RussianVehicleNonaCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect    = BMDVoiceSelect
  VoiceMove      = BMDVoiceMove
  VoiceGuard     = BMDVoiceMove
  VoiceAttack    = BMDVoiceAttack
  SoundMoveStart        = BMP3MoveStart
  SoundMoveStartDamaged = BMP3MoveStart
  SoundEnter = HumveeEnter
  SoundExit  = HumveeExit

  UnitSpecificSounds
    VoiceCreate = BMDVoiceCreate
    VoiceCrush  = BMDVoiceMove
    VoiceUnload = BMDVoiceUnload
    VoiceEnter  = BMDVoiceMove
  End


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS VEHICLE SCORE

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 300.0
    InitialHealth   = 300.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 600
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End
  
  Behavior = TransportAIUpdate ModuleTag_03
    Turret
      TurretTurnRate        = 180
      TurretPitchRate       = 70
      NaturalTurretPitch    = 5
      MinPhysicalPitch      = -10
      AllowsPitch           = Yes
      RecenterTime          = 5000   ; how long to wait during idle before recentering
      MinIdleScanAngle      = 10
      MaxIdleScanAngle      = 40
      MinIdleScanInterval   = 5000
      MaxIdleScanInterval   = 10000
      ControlledWeaponSlots = PRIMARY ;SECONDARY TERTIARY
    End
    AutoAcquireEnemiesWhenIdle = Yes
    MoodAttackCheckRate        = 250
  End
  
  Locomotor = SET_NORMAL BMD4Locomotor TroopCrawlerWaterLocomotor

  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 50.0
  End
  
  Behavior = ProductionUpdate ModuleTag_Production01
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End
  
  Behavior = WeaponSetUpgrade ModuleTag_Mortar01
    TriggeredBy   = Upgrade_GLAWorkerFakeCommandSet
  End
  
  Behavior = SlowDeathBehavior ModuleTag_11
    DeathTypes = ALL -CRUSHED -SPLATTED
    DestructionDelay = 1
    FX  = FINAL    FX_BattleMasterExplosionOneFinal
    OCL = FINAL    OCL_FinalBMD4Debris
  End

  Behavior = DestroyDie ModuleTag_12
    DeathTypes = NONE +CRUSHED +SPLATTED
  End

  Behavior = FXListDie ModuleTag_13
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End

  Behavior = TransitionDamageFX ModuleTag_17
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End
  
  Behavior = StealthUpdate ModuleTag_GPSStealth01
    StealthDelay                = 2000 ; msec
    StealthForbiddenConditions  = FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
    InnateStealth               = Yes
    RequiredStatus              = REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
  End

  Geometry = BOX
  GeometryMajorRadius = 15.5
  GeometryMinorRadius = 8.5
  GeometryHeight = 11.5
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length
End

;------------------------------------------------------------------------------
Object Boss_RussiaInfantryConscriptPlatoon

  ; *** ART Parameters ***
  SelectPortrait         = SARanger_L
  ButtonImage            = SARanger

  UpgradeCameo1 = Upgrade_InfantryCaptureBuilding

  Draw = W3DModelDraw ModuleTag_01

    OkToChangeModelColor = Yes

    IgnoreConditionStates = PREATTACK_A FIRING_A BETWEEN_FIRING_SHOTS_A RELOADING_A

    ; ---- standing
    DefaultConditionState
      Model               = RICnscrpt_SKN
      IdleAnimation       = UIRGrd_SKL.UIRGrd_STN 0 35
      IdleAnimation       = UIRGrd_SKL.UIRGrd_IDA 
      IdleAnimation       = UIRGrd_SKL.UIRGrd_IDB 
      AnimationMode       = ONCE
      HideSubObject       = UPGRADE01 UPGRADE02
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      TransitionKey       = TRANS_Standing
    End

    ConditionState        = REALLYDAMAGED
      IdleAnimation       = UIRGrd_SKL.UIRGrd_STB 0 35
      IdleAnimation       = UIRGrd_SKL.UIRGrd_IDC
      IdleAnimation       = UIRGrd_SKL.UIRGrd_IDD 
      AnimationMode       = ONCE
      TransitionKey       = TRANS_StandingHurt
    End

    ; ---- moving
    ConditionState      = MOVING
      Model             = RICnscrpt_SKNB
      Animation         = NICNSCI_SKL.NICNSCI_RNA2 13
      Animation         = NICNSCI_SKL.NICNSCI_RNA3 26
      AnimationMode     = LOOP
      Flags             = RANDOMSTART
      TransitionKey     = None
      ParticleSysBone   = None InfantryDustTrails
    End
    AliasConditionState = MOVING ATTACKING

    ConditionState        = MOVING REALLYDAMAGED
      Animation           = UIRGrd_SKL.UIRGrd_RNB 25
      AnimationMode       = LOOP
      Flags               = RANDOMSTART
      TransitionKey       = TRANS_WalkingHurt
      ParticleSysBone     = None InfantryDustTrails
    End
    AliasConditionState   = MOVING ATTACKING REALLYDAMAGED
    
    ; ---- dying 
    ConditionState        = DYING
      Animation           = UIRGrd_SKL.UIRGrd_DTA 
      Animation           = UIRGrd_SKL.UIRGrd_DTB 
      AnimationMode       = ONCE
      TransitionKey       = TRANS_Dying
    End

    TransitionState = TRANS_Dying TRANS_Flailing
      Animation = UIRGrd_SKL.UIRGrd_ADTE1
      AnimationMode = ONCE
    End

    ConditionState = DYING EXPLODED_FLAILING
      Animation = UIRGrd_SKL.UIRGrd_ADTE2
      AnimationMode = LOOP
      TransitionKey = TRANS_Flailing
    End

    ConditionState = DYING EXPLODED_BOUNCING
      Animation = UIRGrd_SKL.UIRGrd_ADTE3
      AnimationMode = ONCE
      TransitionKey = None
    End
    
    ConditionState = SPECIAL_CHEERING
      Animation = UIRGrd_SKL.UIRGrd_IDB
    End

    ; ---- firing
    ConditionState = USING_WEAPON_A
      Model = RICnscrpt_SKNB
      Animation = NICNSCI_SKL.NICNSCI_ATA
      AnimationMode = LOOP
      TransitionKey = TRANS_Firing
    End

    ConditionState = USING_WEAPON_A REALLYDAMAGED
      Animation = UIRGrd_SKL.UIRGrd_ATA2
      AnimationMode = LOOP
      TransitionKey = TRANS_FiringHurt
    End
    
    ; ------- Parachuting Animations

    ConditionState    = FREEFALL
      Model           = RICnscrpt_SKNB
      Animation       = NICNSCI_SKL.NICNSCI_POP
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
      TransitionKey   = TRANS_Falling
    End
    AliasConditionState = FREEFALL REALLYDAMAGED
    AliasConditionState = FREEFALL DYING

    ConditionState    = PARACHUTING
      Model           = RICnscrpt_SKNB
      Animation       = NICNSCI_SKL.NICNSCI_PHG
      AnimationMode   = LOOP
      Flags           = PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
      TransitionKey   = TRANS_Chute
    End
    AliasConditionState = PARACHUTING REALLYDAMAGED
    AliasConditionState = PARACHUTING DYING

    TransitionState   = TRANS_Falling TRANS_Chute
      Model           = RICnscrpt_SKNB
      Animation       = NICNSCI_SKL.NICNSCI_POP
      AnimationMode   = ONCE
      Flags           = PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
    End

    TransitionState   = TRANS_Chute TRANS_Standing
      Model           = RICnscrpt_SKNB
      Animation       = NICNSCI_SKL.NICNSCI_PTD
      AnimationMode   = ONCE
    End

    ; ------- Bldg-capture

    ConditionState      = UNPACKING
      Model             = RICnscrpt_SKNE
      Animation         = NICNSC_F_SKL.NICNSC_F_FDP1
      AnimationMode     = ONCE
    End
    AliasConditionState = UNPACKING REALLYDAMAGED

    ConditionState      = RAISING_FLAG
      Model             = RICnscrpt_SKNE
      Animation         = NICNSC_F_SKL.NICNSC_F_FDP2
      AnimationMode     = ONCE
      TransitionKey     = TRANS_Raising
    End
    AliasConditionState = RAISING_FLAG REALLYDAMAGED

    ConditionState      = PACKING
      Model             = RICnscrpt_SKNE
      Animation         = NICNSC_F_SKL.NICNSC_F_FDP1
      AnimationMode     = ONCE_BACKWARDS
      Flags             = START_FRAME_LAST
      TransitionKey     = TRANS_Packing
    End
    AliasConditionState = PACKING REALLYDAMAGED

    TransitionState     = TRANS_Raising TRANS_Packing
      Model             = RICnscrpt_SKNE
      Animation         = NICNSC_F_SKL.NICNSC_F_FDP2
      AnimationMode     = ONCE_BACKWARDS
      Flags             = START_FRAME_LAST
    End

  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Conscript
  Side                = Boss
  EditorSorting       = INFANTRY
  TransportSlotCount  = 1                 ;how many "slots" we take in a transport (0 == not transportable)
 
  WeaponSet
    Conditions = None 
    Weapon = PRIMARY ConscriptMachineGun
  End
  
  ArmorSet
    Conditions      = None
    Armor           = HumanArmor
    DamageFX        = InfantryDamageFX
  End
  
  VisionRange         = 220
  ShroudClearingRange = 220

  BuildCost = 200
  BuildTime = 40.0          ;in seconds  

  ExperienceValue     = 5 5 10 20   ;Experience point value at each level
  ExperienceRequired  = 0 20 40 80  ;Experience points needed to gain each level
  IsTrainable         = Yes             ;Can gain experience
  CrushableLevel      = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet          = RussianInfantryConscriptCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect           = ConscriptVoiceSelect
  VoiceMove             = ConscriptVoiceMove
  VoiceGuard            = ConscriptVoiceMove
  VoiceAttack           = ConscriptVoiceAttack
  VoiceFear             = ConscriptVoiceFear
  VoiceTaskComplete     = ConscriptVoiceCaptureComplete
  
  UnitSpecificSounds
    VoiceCreate         = ConscriptVoiceCreate
    VoiceGarrison       = ConscriptVoiceGarrison
    VoiceEnter          = ConscriptVoiceMove
    VoiceEnterHostile   = ConscriptVoiceMove
    VoiceGetHealed      = ConscriptVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SCORE

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 100.0
    InitialHealth   = 100.0
  End

  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle = Yes
  End

  Locomotor = SET_NORMAL ConscriptHumanLocomotor

  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 5.0
  End
 
  Behavior = SquishCollide ModuleTag_11
    ;nothing
  End


; --- begin Death modules ---
  Behavior = SlowDeathBehavior ModuleTag_Death01
    ;DeathTypes          = ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7 -EXTRA_8
	DeathTypes          = ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_ConscriptDie
  End
  Behavior = SlowDeathBehavior ModuleTag_Death02
    DeathTypes          = NONE +CRUSHED +SPLATTED
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_GIDieCrushed
  End
  Behavior = SlowDeathBehavior ModuleTag_Death03
    DeathTypes          = NONE +EXPLODED
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_ConscriptDie
    FlingForce          = 8
    FlingForceVariance  = 3
    FlingPitch          = 60
    FlingPitchVariance  = 10
  End
  Behavior = SlowDeathBehavior ModuleTag_Death04
    DeathTypes          = NONE +BURNED
    DestructionDelay    = 0
    FX                  = INITIAL FX_ConscriptFireDie
    OCL                 = INITIAL OCL_FlamingInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death05
    DeathTypes          = NONE +POISONED
    DestructionDelay    = 0
    FX                  = INITIAL ConscriptVoiceToxinDie
    OCL                 = INITIAL OCL_ToxicInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
    DeathTypes          = NONE +POISONED_BETA
    DestructionDelay    = 0
    FX                  = INITIAL ConscriptVoiceToxinDie
    OCL                 = INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
  End
  Behavior = SlowDeathBehavior ModuleTag_Death07
    DeathTypes          = NONE +POISONED_GAMMA
    DestructionDelay    = 0
    FX                  = INITIAL ConscriptVoiceToxinDie
    OCL                 = INITIAL OCL_ToxicInfantryGamma
  End
; --- end Death modules ---

  Behavior = PoisonedBehavior ModuleTag_16
    PoisonDamageInterval = 100  ; Every this many msec I will retake the poison damage dealt me...
    PoisonDuration = 3000       ; ... for this long after last hit by poison damage
  End

  Behavior = SpecialAbility ModuleTag_17
    SpecialPowerTemplate      = SpecialAbilityRedGuardCaptureBuilding ;SpecialAbilityRebelCaptureBuilding
    UpdateModuleStartsAttack  = Yes
    StartsPaused              = Yes
    InitiateSound             = ConscriptVoiceCapture
  End
  
  Behavior = SpecialAbilityUpdate ModuleTag_18
    SpecialPowerTemplate  = SpecialAbilityRedGuardCaptureBuilding ;SpecialAbilityRebelCaptureBuilding
    StartAbilityRange     = 5.0
    UnpackTime            = 3000  ; (changing this will scale anim speed)
    PreparationTime       = 20000 ; time to complete hack once prepared (changing this will scale anim speed)
    PackTime              = 2000  ; (changing this will scale anim speed)
    DoCaptureFX           = Yes
    AwardXPForTriggering  = 12
  End

  Behavior = CommandButtonHuntUpdate  ModuleTag_035
  ; allows use of command button hunt script with this unit. 
  End
  
  Behavior = UnpauseSpecialPowerUpgrade ModuleTag_19
    SpecialPowerTemplate = SpecialAbilityRedGuardCaptureBuilding ;SpecialAbilityRebelCaptureBuilding
    TriggeredBy = Upgrade_InfantryCaptureBuilding
  End
  
  Behavior = OverlordContain ModuleTag_IRGoggles01
    Slots                 = 1
    DamagePercentToUnits  = 100%
    AllowInsideKindOf     = PORTABLE_STRUCTURE
  End
  
  Behavior = ProductionUpdate ModuleTag_IRGoggles03
    MaxQueueEntries = 1
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 10.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 12.0
  GeometryIsSmall = Yes
  Shadow = SHADOW_DECAL
  ShadowSizeX = 14;
  ShadowSizeY = 14;
  ShadowTexture = ShadowI;
  BuildCompletion = APPEARS_AT_RALLY_POINT
  Scale = 0.96
End

;------------------------------------------------------------------------------
Object Boss_RussiaInfantryConscriptCompany

  ; *** ART Parameters ***
  SelectPortrait         = SARanger_L
  ButtonImage            = SARanger

  UpgradeCameo1 = Upgrade_InfantryCaptureBuilding

  Draw = W3DModelDraw ModuleTag_01

    OkToChangeModelColor = Yes

    IgnoreConditionStates = PREATTACK_A FIRING_A BETWEEN_FIRING_SHOTS_A RELOADING_A

    ; ---- standing
    DefaultConditionState
      Model               = RICnscrpt_SKN
      IdleAnimation       = UIRGrd_SKL.UIRGrd_STN 0 35
      IdleAnimation       = UIRGrd_SKL.UIRGrd_IDA 
      IdleAnimation       = UIRGrd_SKL.UIRGrd_IDB 
      AnimationMode       = ONCE
      HideSubObject       = UPGRADE01 UPGRADE02
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      TransitionKey       = TRANS_Standing
    End

    ConditionState        = REALLYDAMAGED
      IdleAnimation       = UIRGrd_SKL.UIRGrd_STB 0 35
      IdleAnimation       = UIRGrd_SKL.UIRGrd_IDC
      IdleAnimation       = UIRGrd_SKL.UIRGrd_IDD 
      AnimationMode       = ONCE
      TransitionKey       = TRANS_StandingHurt
    End

    ; ---- moving
    ConditionState      = MOVING
      Model             = RICnscrpt_SKNB
      Animation         = NICNSCI_SKL.NICNSCI_RNA2 13
      Animation         = NICNSCI_SKL.NICNSCI_RNA3 26
      AnimationMode     = LOOP
      Flags             = RANDOMSTART
      TransitionKey     = None
      ParticleSysBone   = None InfantryDustTrails
    End
    AliasConditionState = MOVING ATTACKING

    ConditionState        = MOVING REALLYDAMAGED
      Animation           = UIRGrd_SKL.UIRGrd_RNB 25
      AnimationMode       = LOOP
      Flags               = RANDOMSTART
      TransitionKey       = TRANS_WalkingHurt
      ParticleSysBone     = None InfantryDustTrails
    End
    AliasConditionState   = MOVING ATTACKING REALLYDAMAGED
    
    ; ---- dying 
    ConditionState        = DYING
      Animation           = UIRGrd_SKL.UIRGrd_DTA 
      Animation           = UIRGrd_SKL.UIRGrd_DTB 
      AnimationMode       = ONCE
      TransitionKey       = TRANS_Dying
    End

    TransitionState = TRANS_Dying TRANS_Flailing
      Animation = UIRGrd_SKL.UIRGrd_ADTE1
      AnimationMode = ONCE
    End

    ConditionState = DYING EXPLODED_FLAILING
      Animation = UIRGrd_SKL.UIRGrd_ADTE2
      AnimationMode = LOOP
      TransitionKey = TRANS_Flailing
    End

    ConditionState = DYING EXPLODED_BOUNCING
      Animation = UIRGrd_SKL.UIRGrd_ADTE3
      AnimationMode = ONCE
      TransitionKey = None
    End
    
    ConditionState = SPECIAL_CHEERING
      Animation = UIRGrd_SKL.UIRGrd_IDB
    End

    ; ---- firing
    ConditionState = USING_WEAPON_A
      Model = RICnscrpt_SKNB
      Animation = NICNSCI_SKL.NICNSCI_ATA
      AnimationMode = LOOP
      TransitionKey = TRANS_Firing
    End

    ConditionState = USING_WEAPON_A REALLYDAMAGED
      Animation = UIRGrd_SKL.UIRGrd_ATA2
      AnimationMode = LOOP
      TransitionKey = TRANS_FiringHurt
    End
    
    ; ------- Parachuting Animations

    ConditionState    = FREEFALL
      Model           = RICnscrpt_SKNB
      Animation       = NICNSCI_SKL.NICNSCI_POP
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
      TransitionKey   = TRANS_Falling
    End
    AliasConditionState = FREEFALL REALLYDAMAGED
    AliasConditionState = FREEFALL DYING

    ConditionState    = PARACHUTING
      Model           = RICnscrpt_SKNB
      Animation       = NICNSCI_SKL.NICNSCI_PHG
      AnimationMode   = LOOP
      Flags           = PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
      TransitionKey   = TRANS_Chute
    End
    AliasConditionState = PARACHUTING REALLYDAMAGED
    AliasConditionState = PARACHUTING DYING

    TransitionState   = TRANS_Falling TRANS_Chute
      Model           = RICnscrpt_SKNB
      Animation       = NICNSCI_SKL.NICNSCI_POP
      AnimationMode   = ONCE
      Flags           = PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
    End

    TransitionState   = TRANS_Chute TRANS_Standing
      Model           = RICnscrpt_SKNB
      Animation       = NICNSCI_SKL.NICNSCI_PTD
      AnimationMode   = ONCE
    End

    ; ------- Bldg-capture

    ConditionState      = UNPACKING
      Model             = RICnscrpt_SKNE
      Animation         = NICNSC_F_SKL.NICNSC_F_FDP1
      AnimationMode     = ONCE
    End
    AliasConditionState = UNPACKING REALLYDAMAGED

    ConditionState      = RAISING_FLAG
      Model             = RICnscrpt_SKNE
      Animation         = NICNSC_F_SKL.NICNSC_F_FDP2
      AnimationMode     = ONCE
      TransitionKey     = TRANS_Raising
    End
    AliasConditionState = RAISING_FLAG REALLYDAMAGED

    ConditionState      = PACKING
      Model             = RICnscrpt_SKNE
      Animation         = NICNSC_F_SKL.NICNSC_F_FDP1
      AnimationMode     = ONCE_BACKWARDS
      Flags             = START_FRAME_LAST
      TransitionKey     = TRANS_Packing
    End
    AliasConditionState = PACKING REALLYDAMAGED

    TransitionState     = TRANS_Raising TRANS_Packing
      Model             = RICnscrpt_SKNE
      Animation         = NICNSC_F_SKL.NICNSC_F_FDP2
      AnimationMode     = ONCE_BACKWARDS
      Flags             = START_FRAME_LAST
    End

  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Conscript
  Side                = Boss
  EditorSorting       = INFANTRY
  TransportSlotCount  = 1                 ;how many "slots" we take in a transport (0 == not transportable)
 
  WeaponSet
    Conditions = None 
    Weapon = PRIMARY ConscriptMachineGun
  End
  
  ArmorSet
    Conditions      = None
    Armor           = HumanArmor
    DamageFX        = InfantryDamageFX
  End
  
  VisionRange         = 220
  ShroudClearingRange = 220

  BuildCost = 800
  BuildTime = 160.0          ;in seconds  

  ExperienceValue     = 5 5 10 20   ;Experience point value at each level
  ExperienceRequired  = 0 20 40 80  ;Experience points needed to gain each level
  IsTrainable         = Yes             ;Can gain experience
  CrushableLevel      = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet          = RussianInfantryConscriptCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect           = ConscriptVoiceSelect
  VoiceMove             = ConscriptVoiceMove
  VoiceGuard            = ConscriptVoiceMove
  VoiceAttack           = ConscriptVoiceAttack
  VoiceFear             = ConscriptVoiceFear
  VoiceTaskComplete     = ConscriptVoiceCaptureComplete
  
  UnitSpecificSounds
    VoiceCreate         = ConscriptVoiceCreate
    VoiceGarrison       = ConscriptVoiceGarrison
    VoiceEnter          = ConscriptVoiceMove
    VoiceEnterHostile   = ConscriptVoiceMove
    VoiceGetHealed      = ConscriptVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SCORE

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 100.0
    InitialHealth   = 100.0
  End

  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle = Yes
  End

  Locomotor = SET_NORMAL ConscriptHumanLocomotor

  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 5.0
  End
 
  Behavior = SquishCollide ModuleTag_11
    ;nothing
  End


; --- begin Death modules ---
  Behavior = SlowDeathBehavior ModuleTag_Death01
    ;DeathTypes          = ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7 -EXTRA_8
	DeathTypes          = ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_ConscriptDie
  End
  Behavior = SlowDeathBehavior ModuleTag_Death02
    DeathTypes          = NONE +CRUSHED +SPLATTED
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_GIDieCrushed
  End
  Behavior = SlowDeathBehavior ModuleTag_Death03
    DeathTypes          = NONE +EXPLODED
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_ConscriptDie
    FlingForce          = 8
    FlingForceVariance  = 3
    FlingPitch          = 60
    FlingPitchVariance  = 10
  End
  Behavior = SlowDeathBehavior ModuleTag_Death04
    DeathTypes          = NONE +BURNED
    DestructionDelay    = 0
    FX                  = INITIAL FX_ConscriptFireDie
    OCL                 = INITIAL OCL_FlamingInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death05
    DeathTypes          = NONE +POISONED
    DestructionDelay    = 0
    FX                  = INITIAL ConscriptVoiceToxinDie
    OCL                 = INITIAL OCL_ToxicInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
    DeathTypes          = NONE +POISONED_BETA
    DestructionDelay    = 0
    FX                  = INITIAL ConscriptVoiceToxinDie
    OCL                 = INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
  End
  Behavior = SlowDeathBehavior ModuleTag_Death07
    DeathTypes          = NONE +POISONED_GAMMA
    DestructionDelay    = 0
    FX                  = INITIAL ConscriptVoiceToxinDie
    OCL                 = INITIAL OCL_ToxicInfantryGamma
  End
; --- end Death modules ---

  Behavior = PoisonedBehavior ModuleTag_16
    PoisonDamageInterval = 100  ; Every this many msec I will retake the poison damage dealt me...
    PoisonDuration = 3000       ; ... for this long after last hit by poison damage
  End

  Behavior = SpecialAbility ModuleTag_17
    SpecialPowerTemplate      = SpecialAbilityRedGuardCaptureBuilding ;SpecialAbilityRebelCaptureBuilding
    UpdateModuleStartsAttack  = Yes
    StartsPaused              = Yes
    InitiateSound             = ConscriptVoiceCapture
  End
  
  Behavior = SpecialAbilityUpdate ModuleTag_18
    SpecialPowerTemplate  = SpecialAbilityRedGuardCaptureBuilding ;SpecialAbilityRebelCaptureBuilding
    StartAbilityRange     = 5.0
    UnpackTime            = 3000  ; (changing this will scale anim speed)
    PreparationTime       = 20000 ; time to complete hack once prepared (changing this will scale anim speed)
    PackTime              = 2000  ; (changing this will scale anim speed)
    DoCaptureFX           = Yes
    AwardXPForTriggering  = 12
  End

  Behavior = CommandButtonHuntUpdate  ModuleTag_035
  ; allows use of command button hunt script with this unit. 
  End
  
  Behavior = UnpauseSpecialPowerUpgrade ModuleTag_19
    SpecialPowerTemplate = SpecialAbilityRedGuardCaptureBuilding ;SpecialAbilityRebelCaptureBuilding
    TriggeredBy = Upgrade_InfantryCaptureBuilding
  End
  
  Behavior = OverlordContain ModuleTag_IRGoggles01
    Slots                 = 1
    DamagePercentToUnits  = 100%
    AllowInsideKindOf     = PORTABLE_STRUCTURE
  End
  
  Behavior = ProductionUpdate ModuleTag_IRGoggles03
    MaxQueueEntries = 1
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 10.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 12.0
  GeometryIsSmall = Yes
  Shadow = SHADOW_DECAL
  ShadowSizeX = 14;
  ShadowSizeY = 14;
  ShadowTexture = ShadowI;
  BuildCompletion = APPEARS_AT_RALLY_POINT
  Scale = 0.96
End

;----------------------------------------------------------
Object Boss_RussiaInfantryMortar

  SelectPortrait = SNConscript_L
  ButtonImage = SNConscript

  ; UpgradeCameo1 = Upgrade_Nationalism
  ; UpgradeCameo2 = Upgrade_ChinaNeutronGrenade

  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes
    DefaultConditionState
      Model = AISTNG_SKN
      IdleAnimation = AISTNG_SKL.AISTNG_STA 0 30
      IdleAnimation = AISTNG_SKL.AISTNG_IDA
      IdleAnimation = AISTNG_SKL.AISTNG_IDB
      AnimationMode = ONCE
      AnimationSpeedFactorRange = 0.8 1.2
      TransitionKey = TRANS_Stand
      WeaponMuzzleFlash = PRIMARY MuzzleFX
      WeaponFireFXBone = PRIMARY MuzzleFX
      WeaponLaunchBone = PRIMARY MUZZLE01
      WeaponMuzzleFlash = SECONDARY MuzzleFX
      WeaponFireFXBone = SECONDARY MuzzleFX
      WeaponLaunchBone = SECONDARY MUZZLE01
      WeaponMuzzleFlash = TERTIARY MuzzleFX
      WeaponFireFXBone = TERTIARY MuzzleFX
      WeaponLaunchBone = TERTIARY MUZZLE01
    End
    AliasConditionState = REALLYDAMAGED
    ConditionState = PREATTACK_A
      Animation = AISTNG_SKL.AISTNG_ATA
      AnimationMode = ONCE
      TransitionKey = TRANS_Firing
    End
    AliasConditionState = PREATTACK_A REALLYDAMAGED
    ConditionState = FIRING_A
      Animation = NITHNT_SKL.NITHNT_ATA2
      AnimationMode = ONCE
      TransitionKey = TRANS_Fired
    End
    AliasConditionState = FIRING_A REALLYDAMAGED
    AliasConditionState = RELOADING_A
    AliasConditionState = RELOADING_A REALLYDAMAGED
    AliasConditionState = BETWEEN_FIRING_SHOTS_A
    AliasConditionState = BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
    TransitionState = TRANS_Firing TRANS_Fired
      Animation = AISTNG_SKL.AISTNG_ATA2
      AnimationMode = ONCE
    End
    TransitionState = TRANS_Stand TRANS_Moving
      Animation = AISTNG_SKL.AISTNG_DR1
      AnimationMode = ONCE
      AnimationSpeedFactorRange = 5.0 5.0
    End
    TransitionState = TRANS_Moving TRANS_Stand
      Animation = AISTNG_SKL.AISTNG_RD2
      AnimationMode = ONCE
      AnimationSpeedFactorRange = 2.0 2.0
    End
    TransitionState = TRANS_Moving TRANS_Firing
      Animation = AISTNG_SKL.AISTNG_RD2
      AnimationMode = ONCE
      AnimationSpeedFactorRange = 2.0 2.0
    End
    TransitionState = TRANS_Firing TRANS_Moving
      Animation = AISTNG_SKL.AISTNG_DR1
      AnimationMode = ONCE
      AnimationSpeedFactorRange = 5.0 5.0
    End
    ConditionState = PREATTACK_B
      Animation = AISTNG_SKL.AISTNG_ATA
      AnimationMode = ONCE
      TransitionKey = TRANS_Firing
    End
    AliasConditionState = PREATTACK_B REALLYDAMAGED
    ConditionState = FIRING_B
      Animation = NITHNT_SKL.NITHNT_ATA2
      AnimationMode = ONCE
      TransitionKey = TRANS_Fired
    End
    AliasConditionState = FIRING_B REALLYDAMAGED
    AliasConditionState = RELOADING_B
    AliasConditionState = RELOADING_B REALLYDAMAGED
    AliasConditionState = BETWEEN_FIRING_SHOTS_B
    AliasConditionState = BETWEEN_FIRING_SHOTS_B REALLYDAMAGED
    TransitionState = TRANS_Firing TRANS_Fired
      Animation = AISTNG_SKL.AISTNG_ATA2
      AnimationMode = ONCE
    End
    ConditionState = PREATTACK_C
      Animation = AISTNG_SKL.AISTNG_ATA
      AnimationMode = ONCE
      TransitionKey = TRANS_Firing
    End
    AliasConditionState = PREATTACK_C REALLYDAMAGED
    ConditionState = FIRING_C
      Animation = NITHNT_SKL.NITHNT_ATA2
      AnimationMode = ONCE
      TransitionKey = TRANS_Fired
    End
    AliasConditionState = FIRING_C REALLYDAMAGED
    AliasConditionState = RELOADING_C
    AliasConditionState = RELOADING_C REALLYDAMAGED
    AliasConditionState = BETWEEN_FIRING_SHOTS_C
    AliasConditionState = BETWEEN_FIRING_SHOTS_C REALLYDAMAGED
    ConditionState = MOVING
      Animation = AISTNG_SKL.AISTNG_RNA
      AnimationMode = LOOP
      Flags = RANDOMSTART
      TransitionKey = TRANS_Moving
      ParticleSysBone = None InfantryDustTrails
    End
    AliasConditionState = MOVING REALLYDAMAGED
    ConditionState = MOVING DYING
      Animation = AISTNG_SKL.AISTNG_DTC
      AnimationSpeedFactorRange = 0.9 1.25
      AnimationMode = ONCE
      TransitionKey = TRANS_Dying
    End
    ConditionState = DYING
      Animation = AISTNG_SKL.AISTNG_DTA
      Animation = AISTNG_SKL.AISTNG_DTB
      AnimationSpeedFactorRange = 0.9 1.25
      AnimationMode = ONCE
      TransitionKey = TRANS_Dying
    End
    TransitionState = TRANS_Dying TRANS_Flailing
      Animation = AISTNG_SKL.AISTNG_ADTF1
      AnimationMode = ONCE
    End
    ConditionState = DYING EXPLODED_FLAILING
      Animation = AISTNG_SKL.AISTNG_ADTF2
      AnimationMode = LOOP
      TransitionKey = TRANS_Flailing
    End
    ConditionState = DYING EXPLODED_BOUNCING
      Animation = AISTNG_SKL.AISTNG_ADTF3
      AnimationMode = ONCE
      TransitionKey = None
    End
    ConditionState = FREEFALL
      Animation = AISTNG_SKL.AISTNG_PFL
      AnimationMode = LOOP
      TransitionKey = TRANS_Falling
    End
    AliasConditionState = FREEFALL REALLYDAMAGED
    AliasConditionState = FREEFALL DYING
    ConditionState = PARACHUTING
      Animation = AISTNG_SKL.AISTNG_PHG
      AnimationMode = LOOP
      Flags = PRISTINE_BONE_POS_IN_FINAL_FRAME
      TransitionKey = TRANS_Chute
    End
    AliasConditionState = PARACHUTING REALLYDAMAGED
    AliasConditionState = PARACHUTING DYING
    TransitionState = TRANS_Falling TRANS_Chute
      Animation = AISTNG_SKL.AISTNG_POP
      AnimationMode = ONCE
    End
    TransitionState = TRANS_Chute TRANS_Stand
      Animation = AISTNG_SKL.AISTNG_PTD
      AnimationMode = ONCE
    End
    ConditionState = SPECIAL_CHEERING
      Animation = AISTNG_SKL.AISTNG_CHA
      AnimationMode = ONCE
    End
  End
  DisplayName = OBJECT:SiegeSoldier
  Side = Boss
  EditorSorting = INFANTRY
  TransportSlotCount = 1

  WeaponSet
    Conditions = None 
    Weapon = PRIMARY MortarGun
  End

  ArmorSet
    Conditions = None
    Armor = HumanArmor
    DamageFX = InfantryDamageFX
  End
  VisionRange = 200
  ShroudClearingRange = 300
  Prerequisites
    Object = Boss_Barracks
  End
  BuildCost = 200
  BuildTime = 6.0
  ExperienceValue = 20 20 40 60
  ExperienceRequired = 0 100 200 400
  IsTrainable = Yes
  CrushableLevel = 0
  CommandSet = GenericCommandSet
  VoiceSelect = SiegeSoldierVoiceSelect
  VoiceMove = SiegeSoldierVoiceMove
  VoiceGuard = SiegeSoldierVoiceMove
  VoiceAttack = SiegeSoldierVoiceAttack
  VoiceDefect = SiegeSoldierVoiceCreate
  VoiceFear = NoSound
  UnitSpecificSounds
    VoiceGarrison = SiegeSoldierVoiceMove
    VoiceCreate = SiegeSoldierVoiceCreate
    VoiceEnter = SiegeSoldierVoiceMove
    VoiceGetHealed = SiegeSoldierVoiceMove
  End
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY SCORE
  Body = ActiveBody ModuleTag_02
    MaxHealth = 230.0
    InitialHealth = 230.0
  End
  Behavior = AIUpdateInterface ModuleTag_04
    AutoAcquireEnemiesWhenIdle = Yes
  End
  Behavior = AutoFindHealingUpdate ModuleTag_05
    ScanRate = 1000
    ScanRange = 300
    NeverHeal = 0.85
    AlwaysHeal = 0.25
  End
  Locomotor = SET_NORMAL SiegeSoldierLocomotor
  Behavior = PhysicsBehavior ModuleTag_06
    Mass = 5.0
  End
  Behavior = SquishCollide ModuleTag_10
  End

  Behavior = SlowDeathBehavior ModuleTag_Death01
    DeathTypes = ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -EXTRA_2 -EXTRA_3
    SinkDelay = 6000
    SinkRate = 0.5
    DestructionDelay = 8000
    FX = INITIAL FX_GIDie
  End
  Behavior = SlowDeathBehavior ModuleTag_Death02
    DeathTypes = NONE +CRUSHED +SPLATTED
    SinkDelay = 6000
    SinkRate = 0.5
    DestructionDelay = 8000
    FX = INITIAL FX_GIDieCrushed
  End
  Behavior = SlowDeathBehavior ModuleTag_Death03
    DeathTypes = NONE +EXPLODED
    SinkDelay = 6000
    SinkRate = 0.5
    DestructionDelay = 8000
    FX = INITIAL FX_GIDie
    FlingForce = 8
    FlingForceVariance = 3
    FlingPitch = 60
    FlingPitchVariance = 10
  End
  Behavior = SlowDeathBehavior ModuleTag_Death04
    DeathTypes = NONE +BURNED
    DestructionDelay = 0
    FX = INITIAL FX_GIDie
    OCL = INITIAL OCL_FlamingInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death05
    DeathTypes = NONE +POISONED
    DestructionDelay = 0
    FX = INITIAL FX_GIDie
    OCL = INITIAL OCL_ToxicInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death06
    DeathTypes = NONE +POISONED_BETA
    DestructionDelay = 0
    FX = INITIAL FX_GIDie
    OCL = INITIAL OCL_ToxicInfantryBeta
  End
  Behavior = SlowDeathBehavior ModuleTag_Death07
    DeathTypes = NONE +EXTRA_2
    DestructionDelay = 0
    FX = INITIAL FX_GIDie
    OCL = INITIAL OCL_SiegeSoldierSurrender
  End
  Behavior = SlowDeathBehavior ModuleTag_Death08
    DeathTypes = NONE +EXTRA_3
    DestructionDelay = 0
    FX = INITIAL FX_GIDie
    OCL = INITIAL OCL_ViralInfantry
  End
  Behavior = PoisonedBehavior ModuleTag_13
    PoisonDamageInterval = 100
    PoisonDuration = 3000
  End
  Geometry = CYLINDER
  GeometryMajorRadius = 7.0
  GeometryMinorRadius = 7.0
  GeometryHeight = 12.0
  GeometryIsSmall = Yes
  Scale = 0.9
  Shadow = SHADOW_DECAL
  ShadowSizeX = 14
  ShadowSizeY = 14
  ShadowTexture = ShadowI
  BuildCompletion = APPEARS_AT_RALLY_POINT
End

;------------------------------------------------------------------------------
Object Boss_InfantryPathfinderPair

    ; *** ART Parameters ***
  SelectPortrait         = ChinaSniper
  ButtonImage            = ChinaSniper
    
  UpgradeCameo1 = Upgrade_AmericaAdvancedTraining
  UpgradeCameo2 = Upgrade_AmericaChemicalSuits

 Draw = W3DModelDraw ModuleTag_01

    OkToChangeModelColor = Yes

    DefaultConditionState
      Model = SNIPER_SKN
      IdleAnimation = AIPFDR_SKL.AIPFDR_STA 
      IdleAnimation = AIPFDR_SKL.AIPFDR_IDA
      AnimationMode = ONCE
      WeaponFireFXBone = PRIMARY Muzzle
      WeaponMuzzleFlash = PRIMARY MuzzleFX
      TransitionKey = TRANS_Standing
    End
    AliasConditionState = REALLYDAMAGED

    ConditionState = MOVING
      Animation = AIPFDR_SKL.AIPFDR_RNA 25
      AnimationMode = LOOP
      Flags = RANDOMSTART
      TransitionKey = TRANS_Standing
      ParticleSysBone   = None InfantryDustTrails
    End
    AliasConditionState = MOVING REALLYDAMAGED

    ConditionState  = FIRING_A 
      Animation     = AIPFDR_SKL.AIPFDR_ATB                 ; recoil in standing position
      AnimationMode = ONCE
      TransitionKey = TRANS_FiringA
    End
    AliasConditionState = FIRING_A MOVING
    AliasConditionState = FIRING_A MOVING REALLYDAMAGED
    AliasConditionState = FIRING_A REALLYDAMAGED

    ConditionState  = BETWEEN_FIRING_SHOTS_A
      Animation     = AIPFDR_SKL.AIPFDR_ATBST               ; motionless in standing position
      AnimationMode = ONCE
      WaitForStateToFinishIfPossible = TRANS_FiringA
    End
    AliasConditionState = BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
    AliasConditionState = RELOADING_A
    AliasConditionState = RELOADING_A REALLYDAMAGED

    ConditionState = DYING
      Animation = AIPFDR_SKL.AIPFDR_DTA
      AnimationMode = ONCE
      TransitionKey = TRANS_Dying
    End
    
    TransitionState = TRANS_Dying TRANS_Flailing
      Animation = AIPFDR_SKL.AIPFDR_ADTA1
      AnimationMode = ONCE
    End

    ConditionState = DYING EXPLODED_FLAILING
      Animation = AIPFDR_SKL.AIPFDR_ADTA2
      AnimationMode = LOOP
      TransitionKey = TRANS_Flailing
    End

    ConditionState = DYING EXPLODED_BOUNCING
      Animation = AIPFDR_SKL.AIPFDR_ADTA3
      AnimationMode = ONCE
      TransitionKey = None
    End

    ConditionState = FREEFALL
      Animation = AIPFDR_SKL.AIPFDR_PFL
      AnimationMode = LOOP
      TransitionKey = TRANS_Falling
    End
    AliasConditionState = FREEFALL DYING

    ConditionState = PARACHUTING
      Animation = AIPFDR_SKL.AIPFDR_PHG
      AnimationMode = LOOP
      Flags = PRISTINE_BONE_POS_IN_FINAL_FRAME  
      ;our bone positions should come from the last frame, rather than the first
      TransitionKey = TRANS_Chute
    End
    AliasConditionState = PARACHUTING DYING


    TransitionState = TRANS_Falling TRANS_Chute
      Animation = AIPFDR_SKL.AIPFDR_POP
      AnimationMode = ONCE
      Flags = PRISTINE_BONE_POS_IN_FINAL_FRAME  
      ;our bone positions should come from the last frame, rather than the first
    End

    TransitionState = TRANS_Chute TRANS_Standing
      Animation = AIPFDR_SKL.AIPFDR_PTD
      AnimationMode = ONCE
    End
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Sniper
  Side = Boss
  EditorSorting = INFANTRY
  TransportSlotCount = 1                 ;how many "slots" we take in a transport (0 == not transportable)
  
  WeaponSet
    Conditions = None 
    Weapon = PRIMARY ChinaSniperRifle
  End
  ArmorSet
    Conditions      = None
    Armor           = HumanArmor
    DamageFX        = InfantryDamageFX
  End
  ArmorSet
    Conditions      = PLAYER_UPGRADE
    Armor           = ChemSuitHumanArmor
    DamageFX        = InfantryDamageFX
  End
  VisionRange = 300
  ShroudClearingRange = 400
  BuildCost = 50
  BuildTime = 20.0          ;in seconds  
  
  ExperienceValue = 40 40 60 80    ;Experience point value at each level
  ExperienceRequired = 0 50 100 200  ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrushableLevel      = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet      = GenericCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = RedGuardVoiceSelect
  VoiceMove = RedGuardVoiceMove
  VoiceGuard = RedGuardVoiceMove
  VoiceAttack = RedGuardVoiceAttack
  VoiceGroupSelect = BattleCrySound
  VoiceFear = RedGuardVoiceFear
  VoiceTaskComplete = RedGuardVoiceCaptureComplete
  UnitSpecificSounds
    VoiceMelee      = RedGuardVoiceAttackBayonet
    VoiceGarrison   = RedGuardVoiceGarrison
    VoiceCreate     = RedGuardVoiceCreate
    VoiceSubdue     = RedGuardVoiceSubdue
    VoiceEnter      = RedGuardVoiceMove
    VoiceEnterHostile = RedGuardVoiceMove
    VoiceGetHealed      = RedGuardVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY STEALTH_GARRISON SCORE CANNOT_RETALIATE SALVAGER

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 90.0
    InitialHealth   = 90.0
  End
  Behavior = HordeUpdate ModuleTag_0478
    UpdateRate = 1000    ; how often to recheck horde status (msec)
    RubOffRadius = 60    ; if I am this close to a real hordesman, I will get to be an honorary hordesman
    Radius = 30          ; how close other units must be to us to count towards our horde-ness (~30 feet or so)
    KindOf = INFANTRY    ; what KindOf's must match to count towards horde-ness
    AlliesOnly = Yes     ; do we only count allies towards horde status? 
    ExactMatch = No      ; do we only count units of our exact same type towards horde status? (overrides kindof)
    Count = 5            ; how many units must be within Radius to grant us horde-ness
    Action = HORDE       ; when horde-ing, grant us the HORDE bonus
  End

  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle = Yes Stealthed
    MoodAttackCheckRate        = 250
  End

  Behavior = AutoFindHealingUpdate   ModuleTag_04 ; This update will have the unit go to a healing station if injured. jba 
    ScanRate = 1000 ; once a second.
    ScanRange = 300 ;
    NeverHeal = 0.85 ;  don't heal if we are > 85% healthy.
    AlwaysHeal = 0.25 ; if we get below 25%, find healing right away.
  End

  Locomotor = SET_NORMAL ColonelBurtonGroundLocomotor

  Behavior = ExperienceScalarUpgrade ModuleTag_05
    TriggeredBy = Upgrade_AmericaAdvancedTraining
    AddXPScalar = 1.0 ;Increases experience gained by an additional 100%
  End

  Behavior = PhysicsBehavior ModuleTag_06
    Mass = 5.0
  End
  Behavior = StealthDetectorUpdate ModuleTag_08
    DetectionRate   = 500   ; how often to rescan for stealthed things in my sight (msec)
    ;DetectionRange = ??? ;Dustin, enable this for independant balancing!
    CanDetectWhileGarrisoned  = No ;Garrisoned means being in a structure that you units can shoot out of.
    CanDetectWhileContained   = No ;Contained means being in a transport or tunnel network.
  End
  Behavior = StealthUpdate ModuleTag_09
    StealthDelay                = 1250           ; msec
    StealthForbiddenConditions  = MOVING ; stays stealthy while attacking
    FriendlyOpacityMin          = 30.0%
    FriendlyOpacityMax          = 80.0%
    PulseFrequency              = 500   ; msec
    MoveThresholdSpeed          = 3
    InnateStealth               = Yes
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
  End
 
  Behavior = SquishCollide ModuleTag_10
    ;nothing
  End


; --- begin Death modules ---
  Behavior = SlowDeathBehavior ModuleTag_Death01
    DeathTypes          = ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA 
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_PathfinderDie
  End
  Behavior = SlowDeathBehavior ModuleTag_Death02
    DeathTypes          = NONE +CRUSHED +SPLATTED
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_GIDieCrushed
  End
  Behavior = SlowDeathBehavior ModuleTag_Death03
    DeathTypes          = NONE +EXPLODED
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_PathfinderDie
    FlingForce          = 8
    FlingForceVariance  = 3
    FlingPitch          = 60
    FlingPitchVariance  = 10
  End
  Behavior = SlowDeathBehavior ModuleTag_Death04
    DeathTypes          = NONE +BURNED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByFireChina
    OCL                 = INITIAL OCL_FlamingInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death05
    DeathTypes          = NONE +POISONED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinChina
    OCL                 = INITIAL OCL_ToxicInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
    DeathTypes          = NONE +POISONED_BETA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinChina
    OCL                 = INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
  End

  Behavior = SlowDeathBehavior ModuleTag_Death07
    DeathTypes          = NONE +POISONED_GAMMA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinChina
    OCL                 = INITIAL OCL_ToxicInfantryGamma
  End
; --- end Death modules ---

  Behavior = PoisonedBehavior ModuleTag_13
    PoisonDamageInterval = 100  ; Every this many msec I will retake the poison damage dealt me...
    PoisonDuration = 3000       ; ... for this long after last hit by poison damage
  End

  Behavior = CommandButtonHuntUpdate  ModuleTag_CBHunt ; allows use of command button hunt script with this unit. 
  End

  Behavior                = ArmorUpgrade ModuleTag_Armor01
    TriggeredBy           = Upgrade_AmericaChemicalSuits
  End

  Behavior = ExperienceScalarUpgrade ModuleTag_120
    TriggeredBy   = Upgrade_AmericaAdvancedTraining
    AddXPScalar   = 1.0 ;Increases experience gained by an additional 100%
  End

  Geometry = CYLINDER
  Scale = 0.95
  GeometryMajorRadius = 10.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 12.0
  GeometryIsSmall = Yes
  Shadow = SHADOW_DECAL
  ShadowSizeX = 14;
  ShadowSizeY = 14;
  ShadowTexture = ShadowI;
  BuildCompletion = APPEARS_AT_RALLY_POINT
End

;------------------------------------------------------------------------------
Object Boss_RussiaInfantryRPGConscriptPlatoon

  ; *** ART Parameters ***
  SelectPortrait         = SNTankHunter_L
  ButtonImage            = SNTankHunter
  
  ;UpgradeCameo1 = Upgrade_RussiaMedPack
  ;UpgradeCameo2 = Upgrade_RussiaLargerClips
  ;UpgradeCameo3 = Upgrade_RussiaAdvancedMissileEngines
  ;UpgradeCameo3 = NONE
  ;UpgradeCameo4 = NONE
  ;UpgradeCameo5 = NONE

  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes
  
  
    DefaultConditionState
      Model             = RIRpgCcrpt_SKN
      IdleAnimation     = NIMSST_SKL.NIMSST_STA 0 30
      IdleAnimation     = NIMSST_SKL.NIMSST_IDA
      IdleAnimation     = NIMSST_SKL.NIMSST_IDB
      AnimationMode     = ONCE
      AnimationSpeedFactorRange = 0.8 1.2
      HideSubObject     = UPGRADE01
      TransitionKey     = TRANS_Stand
      WeaponMuzzleFlash = PRIMARY MuzzleFX
      WeaponFireFXBone  = PRIMARY Muzzle
      WeaponLaunchBone  = PRIMARY Muzzle
      WeaponFireFXBone  = SECONDARY Muzzle
      WeaponLaunchBone  = SECONDARY Muzzle
    End
    AliasConditionState = REALLYDAMAGED

    ConditionState      = MOVING
      Animation         = NIMSST_SKL.NIMSST_RNA 20
      AnimationMode     = LOOP
      Flags             = RANDOMSTART
      TransitionKey     = None
      ParticleSysBone   = None InfantryDustTrails
    End
    AliasConditionState = REALLYDAMAGED MOVING
    AliasConditionState = MOVING ATTACKING
    AliasConditionState = MOVING ATTACKING REALLYDAMAGED
    
    ConditionState      = FIRING_A 
      Animation         = NIMSST_SKL.NIMSST_ATA 
      AnimationMode     = ONCE
      TransitionKey     = TRANS_START_FIRING
    End
    AliasConditionState = REALLYDAMAGED FIRING_A
    AliasConditionState = FIRING_B
    AliasConditionState = REALLYDAMAGED FIRING_B
    
    ConditionState      = BETWEEN_FIRING_SHOTS_A
      Animation         = NIMSST_SKL.NIMSST_STA
      AnimationMode     = ONCE
      WaitForStateToFinishIfPossible = TRANS_START_FIRING
    End
    AliasConditionState = REALLYDAMAGED BETWEEN_FIRING_SHOTS_A
    AliasConditionState      = BETWEEN_FIRING_SHOTS_B
    AliasConditionState = REALLYDAMAGED BETWEEN_FIRING_SHOTS_B
    
    ConditionState      = RELOADING_A
      Animation         = NIMSST_SKL.NIMSST_ATA 10
      AnimationMode     = ONCE
    End
    AliasConditionState = MOVING RELOADING_A
    AliasConditionState = REALLYDAMAGED MOVING RELOADING_A
    AliasConditionState = RELOADING_B
    AliasConditionState = MOVING RELOADING_B
    AliasConditionState = REALLYDAMAGED MOVING RELOADING_B
    
    ConditionState      = DYING
      Animation         = NIMSST_SKL.NIMSST_DTA
      Animation         = NIMSST_SKL.NIMSST_DTB
      AnimationSpeedFactorRange = 0.9 1.25
      AnimationMode     = ONCE
      TransitionKey     = TRANS_Dying
    End

    TransitionState     = TRANS_Dying TRANS_Flailing
      Animation         = NIMSST_SKL.NIMSST_ADTD1
      AnimationMode     = ONCE
    End

    ConditionState      = DYING EXPLODED_FLAILING
      Animation         = NIMSST_SKL.NIMSST_ADTD2
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Flailing
    End

    ConditionState      = DYING EXPLODED_BOUNCING
      Animation         = NIMSST_SKL.NIMSST_ADTD3
      AnimationMode     = ONCE
      TransitionKey     = None
    End

    ;PARACHUTING ANIMATIONS
    ConditionState      = FREEFALL
      Animation         = NIMSST_SKL.NIMSST_POP
      AnimationMode     = ONCE
      TransitionKey     = TRANS_Falling
    End
    AliasConditionState = FREEFALL REALLYDAMAGED
    AliasConditionState = FREEFALL DYING
    
    ConditionState      = PARACHUTING
      Animation         = NIMSST_SKL.NIMSST_PHG
      AnimationMode     = LOOP
      Flags             = PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
      TransitionKey     = TRANS_Chute
    End
    AliasConditionState = PARACHUTING REALLYDAMAGED
    AliasConditionState = PARACHUTING DYING
    

    
    TransitionState     = TRANS_Chute TRANS_Stand
      Animation         = NIMSST_SKL.NIMSST_PDN
      AnimationMode     = ONCE
    End

  End


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:RPGConscript
  Side = Boss
  EditorSorting = INFANTRY
  TransportSlotCount = 1                 ;how many "slots" we take in a transport (0 == not transportable)
  
  WeaponSet
    Conditions = None 
    ;Weapon              = PRIMARY   RussiaRPGConscriptMissileLauncherDummyRocket
	Weapon              = PRIMARY RussiaRPGConscriptMissileLauncher
    ;Weapon              = SECONDARY RussiaRPGConscriptMissileLauncher
  End
  
  ArmorSet
    Conditions      = None
    Armor           = HumanArmor
    DamageFX        = InfantryDamageFX
  End
  
  VisionRange = 220
  ShroudClearingRange = 220

  BuildCost = 200
  BuildTime = 30.0          ;in seconds    

  ExperienceValue    = 20 20  40  60   ;Experience point value at each level
  ExperienceRequired = 0  100 200 400  ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrushableLevel         = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet      = RussianInfantryRPGConscriptCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect       = RPGConscriptVoiceSelect
  VoiceMove         = RPGConscriptVoiceMove
  VoiceAttack       = RPGConscriptVoiceAttack
  VoiceGuard        = RPGConscriptVoiceMove
  VoiceFear         = RPGConscriptVoiceFear
  UnitSpecificSounds
    VoiceCreate       = RPGConscriptVoiceCreate
    VoiceGarrison     = RPGConscriptVoiceGarrison
    VoiceEnter        = RPGConscriptVoiceMove
    VoiceEnterHostile = RPGConscriptVoiceMove
    VoiceGetHealed    = RPGConscriptVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SCORE

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 100.0
    InitialHealth   = 100.0
  End

  Behavior = AIUpdateInterface ModuleTag_03
    TurretsLinked              = Yes
    AutoAcquireEnemiesWhenIdle = Yes
  End
  Locomotor = SET_NORMAL MissileDefenderLocomotor

  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 5.0
  End

  Behavior = SquishCollide ModuleTag_09
  End


; --- begin Death modules ---
  Behavior = SlowDeathBehavior ModuleTag_Death01
    ;DeathTypes          = ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7 -EXTRA_8
	DeathTypes          = ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_RPGConscriptDie
  End
  Behavior = SlowDeathBehavior ModuleTag_Death02
    DeathTypes          = NONE +CRUSHED +SPLATTED
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_GIDieCrushed
  End
  Behavior = SlowDeathBehavior ModuleTag_Death03
    DeathTypes          = NONE +EXPLODED
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_RPGConscriptDie
    FlingForce          = 8
    FlingForceVariance  = 3
    FlingPitch          = 60
    FlingPitchVariance  = 10
  End
  Behavior = SlowDeathBehavior ModuleTag_Death04
    DeathTypes          = NONE +BURNED
    DestructionDelay    = 0
    FX                  = INITIAL FX_RPGConscriptDieFire
    OCL                 = INITIAL OCL_FlamingInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death05
    DeathTypes          = NONE +POISONED
    DestructionDelay    = 0
    FX                  = INITIAL FX_RPGConscriptDieToxins
    OCL                 = INITIAL OCL_ToxicInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
    DeathTypes          = NONE +POISONED_BETA
    DestructionDelay    = 0
    FX                  = INITIAL FX_RPGConscriptDieToxins
    OCL                 = INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
  End
  Behavior = SlowDeathBehavior ModuleTag_Death07
    DeathTypes          = NONE +POISONED_GAMMA
    DestructionDelay    = 0
	FX                  = INITIAL FX_RPGConscriptDieToxins
    OCL                 = INITIAL OCL_ToxicInfantryGamma
  End
; --- end Death modules ---

  Behavior = PoisonedBehavior ModuleTag_12
    PoisonDamageInterval = 100  ; Every this many msec I will retake the poison damage dealt me...
    PoisonDuration = 3000       ; ... for this long after last hit by poison damage
  End
  
  Geometry = CYLINDER
  GeometryMajorRadius = 10.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 12.0
  GeometryIsSmall = Yes
  Shadow = SHADOW_DECAL
  ShadowSizeX = 14;
  ShadowSizeY = 14;
  ShadowTexture = ShadowI;
  BuildCompletion = APPEARS_AT_RALLY_POINT
  Scale = 0.96
End

;------------------------------------------------------------------------------
Object Boss_RussiaInfantryRPGConscriptCompany

  ; *** ART Parameters ***
  SelectPortrait         = SNTankHunter_L
  ButtonImage            = SNTankHunter
  
  ;UpgradeCameo1 = Upgrade_RussiaMedPack
  ;UpgradeCameo2 = Upgrade_RussiaLargerClips
  ;UpgradeCameo3 = Upgrade_RussiaAdvancedMissileEngines
  ;UpgradeCameo3 = NONE
  ;UpgradeCameo4 = NONE
  ;UpgradeCameo5 = NONE

  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes
  
  
    DefaultConditionState
      Model             = RIRpgCcrpt_SKN
      IdleAnimation     = NIMSST_SKL.NIMSST_STA 0 30
      IdleAnimation     = NIMSST_SKL.NIMSST_IDA
      IdleAnimation     = NIMSST_SKL.NIMSST_IDB
      AnimationMode     = ONCE
      AnimationSpeedFactorRange = 0.8 1.2
      HideSubObject     = UPGRADE01
      TransitionKey     = TRANS_Stand
      WeaponMuzzleFlash = PRIMARY MuzzleFX
      WeaponFireFXBone  = PRIMARY Muzzle
      WeaponLaunchBone  = PRIMARY Muzzle
      WeaponFireFXBone  = SECONDARY Muzzle
      WeaponLaunchBone  = SECONDARY Muzzle
    End
    AliasConditionState = REALLYDAMAGED

    ConditionState      = MOVING
      Animation         = NIMSST_SKL.NIMSST_RNA 20
      AnimationMode     = LOOP
      Flags             = RANDOMSTART
      TransitionKey     = None
      ParticleSysBone   = None InfantryDustTrails
    End
    AliasConditionState = REALLYDAMAGED MOVING
    AliasConditionState = MOVING ATTACKING
    AliasConditionState = MOVING ATTACKING REALLYDAMAGED
    
    ConditionState      = FIRING_A 
      Animation         = NIMSST_SKL.NIMSST_ATA 
      AnimationMode     = ONCE
      TransitionKey     = TRANS_START_FIRING
    End
    AliasConditionState = REALLYDAMAGED FIRING_A
    AliasConditionState = FIRING_B
    AliasConditionState = REALLYDAMAGED FIRING_B
    
    ConditionState      = BETWEEN_FIRING_SHOTS_A
      Animation         = NIMSST_SKL.NIMSST_STA
      AnimationMode     = ONCE
      WaitForStateToFinishIfPossible = TRANS_START_FIRING
    End
    AliasConditionState = REALLYDAMAGED BETWEEN_FIRING_SHOTS_A
    AliasConditionState      = BETWEEN_FIRING_SHOTS_B
    AliasConditionState = REALLYDAMAGED BETWEEN_FIRING_SHOTS_B
    
    ConditionState      = RELOADING_A
      Animation         = NIMSST_SKL.NIMSST_ATA 10
      AnimationMode     = ONCE
    End
    AliasConditionState = MOVING RELOADING_A
    AliasConditionState = REALLYDAMAGED MOVING RELOADING_A
    AliasConditionState = RELOADING_B
    AliasConditionState = MOVING RELOADING_B
    AliasConditionState = REALLYDAMAGED MOVING RELOADING_B
    
    ConditionState      = DYING
      Animation         = NIMSST_SKL.NIMSST_DTA
      Animation         = NIMSST_SKL.NIMSST_DTB
      AnimationSpeedFactorRange = 0.9 1.25
      AnimationMode     = ONCE
      TransitionKey     = TRANS_Dying
    End

    TransitionState     = TRANS_Dying TRANS_Flailing
      Animation         = NIMSST_SKL.NIMSST_ADTD1
      AnimationMode     = ONCE
    End

    ConditionState      = DYING EXPLODED_FLAILING
      Animation         = NIMSST_SKL.NIMSST_ADTD2
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Flailing
    End

    ConditionState      = DYING EXPLODED_BOUNCING
      Animation         = NIMSST_SKL.NIMSST_ADTD3
      AnimationMode     = ONCE
      TransitionKey     = None
    End

    ;PARACHUTING ANIMATIONS
    ConditionState      = FREEFALL
      Animation         = NIMSST_SKL.NIMSST_POP
      AnimationMode     = ONCE
      TransitionKey     = TRANS_Falling
    End
    AliasConditionState = FREEFALL REALLYDAMAGED
    AliasConditionState = FREEFALL DYING
    
    ConditionState      = PARACHUTING
      Animation         = NIMSST_SKL.NIMSST_PHG
      AnimationMode     = LOOP
      Flags             = PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
      TransitionKey     = TRANS_Chute
    End
    AliasConditionState = PARACHUTING REALLYDAMAGED
    AliasConditionState = PARACHUTING DYING
    

    
    TransitionState     = TRANS_Chute TRANS_Stand
      Animation         = NIMSST_SKL.NIMSST_PDN
      AnimationMode     = ONCE
    End

  End


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:RPGConscript
  Side = Boss
  EditorSorting = INFANTRY
  TransportSlotCount = 1                 ;how many "slots" we take in a transport (0 == not transportable)
  
  WeaponSet
    Conditions = None 
    ;Weapon              = PRIMARY   RussiaRPGConscriptMissileLauncherDummyRocket
	Weapon              = PRIMARY RussiaRPGConscriptMissileLauncher
    ;Weapon              = SECONDARY RussiaRPGConscriptMissileLauncher
  End
  
  ArmorSet
    Conditions      = None
    Armor           = HumanArmor
    DamageFX        = InfantryDamageFX
  End
  
  VisionRange = 220
  ShroudClearingRange = 220

  BuildCost = 400
  BuildTime = 60.0          ;in seconds    

  ExperienceValue    = 20 20  40  60   ;Experience point value at each level
  ExperienceRequired = 0  100 200 400  ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrushableLevel         = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet      = RussianInfantryRPGConscriptCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect       = RPGConscriptVoiceSelect
  VoiceMove         = RPGConscriptVoiceMove
  VoiceAttack       = RPGConscriptVoiceAttack
  VoiceGuard        = RPGConscriptVoiceMove
  VoiceFear         = RPGConscriptVoiceFear
  UnitSpecificSounds
    VoiceCreate       = RPGConscriptVoiceCreate
    VoiceGarrison     = RPGConscriptVoiceGarrison
    VoiceEnter        = RPGConscriptVoiceMove
    VoiceEnterHostile = RPGConscriptVoiceMove
    VoiceGetHealed    = RPGConscriptVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SCORE

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 100.0
    InitialHealth   = 100.0
  End

  Behavior = AIUpdateInterface ModuleTag_03
    TurretsLinked              = Yes
    AutoAcquireEnemiesWhenIdle = Yes
  End
  Locomotor = SET_NORMAL MissileDefenderLocomotor

  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 5.0
  End

  Behavior = SquishCollide ModuleTag_09
  End


; --- begin Death modules ---
  Behavior = SlowDeathBehavior ModuleTag_Death01
    ;DeathTypes          = ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7 -EXTRA_8
	DeathTypes          = ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_RPGConscriptDie
  End
  Behavior = SlowDeathBehavior ModuleTag_Death02
    DeathTypes          = NONE +CRUSHED +SPLATTED
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_GIDieCrushed
  End
  Behavior = SlowDeathBehavior ModuleTag_Death03
    DeathTypes          = NONE +EXPLODED
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_RPGConscriptDie
    FlingForce          = 8
    FlingForceVariance  = 3
    FlingPitch          = 60
    FlingPitchVariance  = 10
  End
  Behavior = SlowDeathBehavior ModuleTag_Death04
    DeathTypes          = NONE +BURNED
    DestructionDelay    = 0
    FX                  = INITIAL FX_RPGConscriptDieFire
    OCL                 = INITIAL OCL_FlamingInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death05
    DeathTypes          = NONE +POISONED
    DestructionDelay    = 0
    FX                  = INITIAL FX_RPGConscriptDieToxins
    OCL                 = INITIAL OCL_ToxicInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
    DeathTypes          = NONE +POISONED_BETA
    DestructionDelay    = 0
    FX                  = INITIAL FX_RPGConscriptDieToxins
    OCL                 = INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
  End
  Behavior = SlowDeathBehavior ModuleTag_Death07
    DeathTypes          = NONE +POISONED_GAMMA
    DestructionDelay    = 0
	FX                  = INITIAL FX_RPGConscriptDieToxins
    OCL                 = INITIAL OCL_ToxicInfantryGamma
  End
; --- end Death modules ---

  Behavior = PoisonedBehavior ModuleTag_12
    PoisonDamageInterval = 100  ; Every this many msec I will retake the poison damage dealt me...
    PoisonDuration = 3000       ; ... for this long after last hit by poison damage
  End
  
  Geometry = CYLINDER
  GeometryMajorRadius = 10.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 12.0
  GeometryIsSmall = Yes
  Shadow = SHADOW_DECAL
  ShadowSizeX = 14;
  ShadowSizeY = 14;
  ShadowTexture = ShadowI;
  BuildCompletion = APPEARS_AT_RALLY_POINT
  Scale = 0.96
End

;------------------------------------------------------------------------------
Object Boss_RussiaInfantryVDVParaTrooperPlatoon

  ; *** ART Parameters ***
  SelectPortrait         = Marine_L
  ButtonImage            = Marine

  UpgradeCameo1 = Upgrade_InfantryCaptureBuilding
  ;UpgradeCameo2 = Upgrade_RussiaMedPack

  Draw = W3DModelDraw ModuleTag_01

    OkToChangeModelColor = Yes

    ; ---- standing
    DefaultConditionState
      Model               = RIVDV_SKN
      IdleAnimation       = RIShkTrp_SKL.RIShkTrp_STN 0 35
      IdleAnimation       = RIShkTrp_SKL.RIShkTrp_IDA 
      IdleAnimation       = RIShkTrp_SKL.RIShkTrp_IDB 
      AnimationMode       = ONCE
      HideSubObject       = HEAD01 HEAD02 
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponLaunchBone    = PRIMARY Muzzle
      TransitionKey       = TRANS_Standing
    End

    ; ---- moving
    ConditionState        = MOVING
      Animation           = RIShkTrp_SKL.RIShkTrp_MVA 25
      AnimationMode       = LOOP
      Flags               = RANDOMSTART
      TransitionKey       = TRANS_Walking
      ParticleSysBone     = None InfantryDustTrails
    End
    AliasConditionState   = MOVING ATTACKING
    

    ; ---- firing
    ConditionState = FIRING_A
      Animation = RIShkTrp_SKL.RIShkTrp_ASB
      AnimationMode = ONCE
      AnimationSpeedFactorRange = 1.0 1.2
      Flags = START_FRAME_FIRST
      TransitionKey = TRANS_START_FIRING
    End
    AliasConditionState = BETWEEN_FIRING_SHOTS_A 
    
    ConditionState = USING_WEAPON_A
      Animation = RIShkTrp_SKL.RIShkTrp_ASB
      AnimationMode = ONCE
      Flags = START_FRAME_LAST
      WaitForStateToFinishIfPossible = TRANS_START_FIRING
    End
    AliasConditionState = RELOADING_A
    
    ; ---- dying 
    ConditionState        = DYING
      Animation           = RIShkTrp_SKL.RIShkTrp_DBA
      AnimationMode       = ONCE
      TransitionKey       = TRANS_Dying
    End
    
    ; ---- dying by explosives

    TransitionState = TRANS_Dying TRANS_Flailing
      Model     = RIVDV_SKN_A
      Animation = UITunF_SKL.UITunF_ADTA1
      Animation = UITunF_SKL.UITunF_ADTE1
      Animation = UITunF_SKL.UITunF_ADTF1
      AnimationMode = ONCE
    End

    ConditionState = DYING EXPLODED_FLAILING
      Model     = RIVDV_SKN_A
      Animation = UITunF_SKL.UITunF_ADTA2
      Animation = UITunF_SKL.UITunF_ADTE2
      Animation = UITunF_SKL.UITunF_ADTF2
      AnimationMode = LOOP
      TransitionKey = TRANS_Flailing
    End

    ConditionState = DYING EXPLODED_BOUNCING
      Model     = RIVDV_SKN_A
      Animation = UITunF_SKL.UITunF_ADTA3
      Animation = UITunF_SKL.UITunF_ADTE3
      Animation = UITunF_SKL.UITunF_ADTF3
      AnimationMode = ONCE
      TransitionKey = None
    End

    ; ----- PARACHUTING ANIMATIONS
    ConditionState      = FREEFALL
      Model             = RIVDV_SKN_B
      Animation         = AIRngr_SKL.AIRngr_PFL
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Falling
    End
    AliasConditionState = FREEFALL DYING
    
    ConditionState      = PARACHUTING
      Model             = RIVDV_SKN_B
      Animation         = AIRngr_SKL.AIRngr_PHG
      AnimationMode     = LOOP
      Flags             = PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
      TransitionKey     = TRANS_Chute
    End
    AliasConditionState = PARACHUTING DYING
    
    TransitionState     = TRANS_Falling TRANS_Chute
      Model             = RIVDV_SKN_B
      Animation         = AIRngr_SKL.AIRngr_POP
      AnimationMode     = ONCE
      Flags             = PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
    End

    ; ------- Bldg-capture

    ConditionState      = UNPACKING
      Model             = RIVDV_F_SKN
      Animation         = NICNSC_F_SKL.NICNSC_F_FDP1
      AnimationMode     = ONCE
      HideSubObject     = HEAD01 HEAD02 LAUNCHER RPO RPG WARHEADS
    End

    ConditionState      = RAISING_FLAG
      Model             = RIVDV_F_SKN
      Animation         = NICNSC_F_SKL.NICNSC_F_FDP2
      AnimationMode     = ONCE
      HideSubObject     = HEAD01 HEAD02 LAUNCHER RPO RPG WARHEADS
      TransitionKey     = TRANS_Raising
    End

    ConditionState      = PACKING
      Model             = RIVDV_F_SKN
      Animation         = NICNSC_F_SKL.NICNSC_F_FDP1
      AnimationMode     = ONCE_BACKWARDS
      Flags             = START_FRAME_LAST
      HideSubObject     = HEAD01 HEAD02 LAUNCHER RPO RPG WARHEADS
      TransitionKey     = TRANS_Packing
    End

    TransitionState     = TRANS_Raising TRANS_Packing
      Model             = RIVDV_F_SKN
      Animation         = NICNSC_F_SKL.NICNSC_F_FDP2
      AnimationMode     = ONCE_BACKWARDS
      Flags             = START_FRAME_LAST
      HideSubObject     = HEAD01 HEAD02 LAUNCHER RPO RPG WARHEADS
    End
    
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:VDVTrooper
  Side                = Boss
  EditorSorting       = INFANTRY
  TransportSlotCount  = 1                 ;how many "slots" we take in a transport (0 == not transportable)
 
  WeaponSet
    Conditions = None 
    Weapon = PRIMARY VDVLightMachineGun
  End
  
  ArmorSet
    Conditions      = None
    Armor           = HumanArmor
    DamageFX        = InfantryDamageFX
  End
  
  VisionRange         = 220
  ShroudClearingRange = 220

  BuildCost = 525
  BuildTime = 75.0          ;in seconds  

  ExperienceValue    = 40 40  70  90   ;Experience point value at each level
  ExperienceRequired = 0  200 300 500  ;Experience points needed to gain each level
  IsTrainable         = Yes             ;Can gain experience
  CrushableLevel      = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet          = RussianInfantryVDVParatrooperCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect           = VDVVoiceSelectRPK
  VoiceMove             = VDVVoiceMove
  VoiceGuard            = VDVVoiceMove
  VoiceAttack           = VDVVoiceAttackRPK
  VoiceFear             = VDVVoiceFear
  VoiceTaskComplete     = VDVVoiceCaptureBuildingCompleted
  
  UnitSpecificSounds
    VoiceGarrison       = VDVVoiceMove
    VoiceEnter          = VDVVoiceMove
    VoiceEnterHostile   = VDVVoiceMove
    VoiceGetHealed      = VDVVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SALVAGER SCORE 

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 180.0
    InitialHealth   = 180.0
  End

  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle = Yes
  End

  Locomotor = SET_NORMAL ConscriptHumanLocomotor

  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 5.0
  End

; --- begin Death modules ---
  Behavior = SlowDeathBehavior ModuleTag_Death01
    ;DeathTypes          = ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7
	DeathTypes          = ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_VDVParaTrooperDie
  End
  Behavior = SlowDeathBehavior ModuleTag_Death02
    DeathTypes          = NONE +CRUSHED +SPLATTED
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_GIDieCrushed
  End
  Behavior = SlowDeathBehavior ModuleTag_Death03
    DeathTypes          = NONE +EXPLODED
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_VDVParaTrooperDie
    FlingForce          = 8
    FlingForceVariance  = 3
    FlingPitch          = 60
    FlingPitchVariance  = 10
  End
  Behavior = SlowDeathBehavior ModuleTag_Death04
    DeathTypes          = NONE +BURNED
    DestructionDelay    = 0
    FX                  = INITIAL FX_VDVParaTrooperDieByFire
    OCL                 = INITIAL OCL_FlamingInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death05
    DeathTypes          = NONE +POISONED
    DestructionDelay    = 0
    FX                  = INITIAL FX_VDVParaTrooperDieByToxin
    OCL                 = INITIAL OCL_ToxicInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
    DeathTypes          = NONE +POISONED_BETA
    DestructionDelay    = 0
    FX                  = INITIAL FX_VDVParaTrooperDieByToxin
    OCL                 = INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
  End
  Behavior = SlowDeathBehavior ModuleTag_Death07
    DeathTypes          = NONE +POISONED_GAMMA
    DestructionDelay    = 0
    FX                  = INITIAL FX_VDVParaTrooperDieByToxin
    OCL                 = INITIAL OCL_ToxicInfantryGamma
  End
; --- end Death modules ---

  Behavior = PoisonedBehavior ModuleTag_16
    PoisonDamageInterval = 100  ; Every this many msec I will retake the poison damage dealt me...
    PoisonDuration = 3000       ; ... for this long after last hit by poison damage
  End

  Behavior = SpecialAbility ModuleTag_CaptureBuilding01
    SpecialPowerTemplate      = SpecialAbilityRedGuardCaptureBuilding ;SpecialAbilityRebelCaptureBuilding
    UpdateModuleStartsAttack  = Yes
    StartsPaused              = Yes
    InitiateSound             = VDVVoiceCaptureBuilding
  End
  
  Behavior = SpecialAbilityUpdate ModuleTag_CaptureBuilding02
    SpecialPowerTemplate  = SpecialAbilityRedGuardCaptureBuilding ;SpecialAbilityRebelCaptureBuilding
    StartAbilityRange     = 5.0
    UnpackTime            = 3000  ; (changing this will scale anim speed)
    PreparationTime       = 20000 ; time to complete hack once prepared (changing this will scale anim speed)
    PackTime              = 2000  ; (changing this will scale anim speed)
    DoCaptureFX           = Yes
    AwardXPForTriggering  = 12
  End

  Behavior = CommandButtonHuntUpdate  ModuleTag_CaptureBuilding03
  End
  
  Behavior = UnpauseSpecialPowerUpgrade ModuleTag_CaptureBuilding04
    SpecialPowerTemplate = SpecialAbilityRedGuardCaptureBuilding ;SpecialAbilityRebelCaptureBuilding
    TriggeredBy = Upgrade_InfantryCaptureBuilding
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 10.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 12.0
  GeometryIsSmall = Yes
  Shadow = SHADOW_DECAL
  ShadowSizeX = 14;
  ShadowSizeY = 14;
  ShadowTexture = ShadowI;
  BuildCompletion = APPEARS_AT_RALLY_POINT
  Scale = 0.96
End

;------------------------------------------------------------------------------
Object Boss_RussiaInfantryVDVParaTrooperCompany

  ; *** ART Parameters ***
  SelectPortrait         = Marine_L
  ButtonImage            = Marine

  UpgradeCameo1 = Upgrade_InfantryCaptureBuilding
  ;UpgradeCameo2 = Upgrade_RussiaMedPack

  Draw = W3DModelDraw ModuleTag_01

    OkToChangeModelColor = Yes

    ; ---- standing
    DefaultConditionState
      Model               = RIVDV_SKN
      IdleAnimation       = RIShkTrp_SKL.RIShkTrp_STN 0 35
      IdleAnimation       = RIShkTrp_SKL.RIShkTrp_IDA 
      IdleAnimation       = RIShkTrp_SKL.RIShkTrp_IDB 
      AnimationMode       = ONCE
      HideSubObject       = HEAD01 HEAD02 
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponLaunchBone    = PRIMARY Muzzle
      TransitionKey       = TRANS_Standing
    End

    ; ---- moving
    ConditionState        = MOVING
      Animation           = RIShkTrp_SKL.RIShkTrp_MVA 25
      AnimationMode       = LOOP
      Flags               = RANDOMSTART
      TransitionKey       = TRANS_Walking
      ParticleSysBone     = None InfantryDustTrails
    End
    AliasConditionState   = MOVING ATTACKING
    

    ; ---- firing
    ConditionState = FIRING_A
      Animation = RIShkTrp_SKL.RIShkTrp_ASB
      AnimationMode = ONCE
      AnimationSpeedFactorRange = 1.0 1.2
      Flags = START_FRAME_FIRST
      TransitionKey = TRANS_START_FIRING
    End
    AliasConditionState = BETWEEN_FIRING_SHOTS_A 
    
    ConditionState = USING_WEAPON_A
      Animation = RIShkTrp_SKL.RIShkTrp_ASB
      AnimationMode = ONCE
      Flags = START_FRAME_LAST
      WaitForStateToFinishIfPossible = TRANS_START_FIRING
    End
    AliasConditionState = RELOADING_A
    
    ; ---- dying 
    ConditionState        = DYING
      Animation           = RIShkTrp_SKL.RIShkTrp_DBA
      AnimationMode       = ONCE
      TransitionKey       = TRANS_Dying
    End
    
    ; ---- dying by explosives

    TransitionState = TRANS_Dying TRANS_Flailing
      Model     = RIVDV_SKN_A
      Animation = UITunF_SKL.UITunF_ADTA1
      Animation = UITunF_SKL.UITunF_ADTE1
      Animation = UITunF_SKL.UITunF_ADTF1
      AnimationMode = ONCE
    End

    ConditionState = DYING EXPLODED_FLAILING
      Model     = RIVDV_SKN_A
      Animation = UITunF_SKL.UITunF_ADTA2
      Animation = UITunF_SKL.UITunF_ADTE2
      Animation = UITunF_SKL.UITunF_ADTF2
      AnimationMode = LOOP
      TransitionKey = TRANS_Flailing
    End

    ConditionState = DYING EXPLODED_BOUNCING
      Model     = RIVDV_SKN_A
      Animation = UITunF_SKL.UITunF_ADTA3
      Animation = UITunF_SKL.UITunF_ADTE3
      Animation = UITunF_SKL.UITunF_ADTF3
      AnimationMode = ONCE
      TransitionKey = None
    End

    ; ----- PARACHUTING ANIMATIONS
    ConditionState      = FREEFALL
      Model             = RIVDV_SKN_B
      Animation         = AIRngr_SKL.AIRngr_PFL
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Falling
    End
    AliasConditionState = FREEFALL DYING
    
    ConditionState      = PARACHUTING
      Model             = RIVDV_SKN_B
      Animation         = AIRngr_SKL.AIRngr_PHG
      AnimationMode     = LOOP
      Flags             = PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
      TransitionKey     = TRANS_Chute
    End
    AliasConditionState = PARACHUTING DYING
    
    TransitionState     = TRANS_Falling TRANS_Chute
      Model             = RIVDV_SKN_B
      Animation         = AIRngr_SKL.AIRngr_POP
      AnimationMode     = ONCE
      Flags             = PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
    End

    ; ------- Bldg-capture

    ConditionState      = UNPACKING
      Model             = RIVDV_F_SKN
      Animation         = NICNSC_F_SKL.NICNSC_F_FDP1
      AnimationMode     = ONCE
      HideSubObject     = HEAD01 HEAD02 LAUNCHER RPO RPG WARHEADS
    End

    ConditionState      = RAISING_FLAG
      Model             = RIVDV_F_SKN
      Animation         = NICNSC_F_SKL.NICNSC_F_FDP2
      AnimationMode     = ONCE
      HideSubObject     = HEAD01 HEAD02 LAUNCHER RPO RPG WARHEADS
      TransitionKey     = TRANS_Raising
    End

    ConditionState      = PACKING
      Model             = RIVDV_F_SKN
      Animation         = NICNSC_F_SKL.NICNSC_F_FDP1
      AnimationMode     = ONCE_BACKWARDS
      Flags             = START_FRAME_LAST
      HideSubObject     = HEAD01 HEAD02 LAUNCHER RPO RPG WARHEADS
      TransitionKey     = TRANS_Packing
    End

    TransitionState     = TRANS_Raising TRANS_Packing
      Model             = RIVDV_F_SKN
      Animation         = NICNSC_F_SKL.NICNSC_F_FDP2
      AnimationMode     = ONCE_BACKWARDS
      Flags             = START_FRAME_LAST
      HideSubObject     = HEAD01 HEAD02 LAUNCHER RPO RPG WARHEADS
    End
    
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:VDVTrooper
  Side                = Boss
  EditorSorting       = INFANTRY
  TransportSlotCount  = 1                 ;how many "slots" we take in a transport (0 == not transportable)
 
  WeaponSet
    Conditions = None 
    Weapon = PRIMARY VDVLightMachineGun
  End
  
  ArmorSet
    Conditions      = None
    Armor           = HumanArmor
    DamageFX        = InfantryDamageFX
  End
  
  VisionRange         = 220
  ShroudClearingRange = 220

  BuildCost = 2100
  BuildTime = 300.0          ;in seconds  

  ExperienceValue    = 40 40  70  90   ;Experience point value at each level
  ExperienceRequired = 0  200 300 500  ;Experience points needed to gain each level
  IsTrainable         = Yes             ;Can gain experience
  CrushableLevel      = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet          = RussianInfantryVDVParatrooperCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect           = VDVVoiceSelectRPK
  VoiceMove             = VDVVoiceMove
  VoiceGuard            = VDVVoiceMove
  VoiceAttack           = VDVVoiceAttackRPK
  VoiceFear             = VDVVoiceFear
  VoiceTaskComplete     = VDVVoiceCaptureBuildingCompleted
  
  UnitSpecificSounds
    VoiceGarrison       = VDVVoiceMove
    VoiceEnter          = VDVVoiceMove
    VoiceEnterHostile   = VDVVoiceMove
    VoiceGetHealed      = VDVVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SALVAGER SCORE 

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 180.0
    InitialHealth   = 180.0
  End

  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle = Yes
  End

  Locomotor = SET_NORMAL ConscriptHumanLocomotor

  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 5.0
  End

; --- begin Death modules ---
  Behavior = SlowDeathBehavior ModuleTag_Death01
    ;DeathTypes          = ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7
	DeathTypes          = ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_VDVParaTrooperDie
  End
  Behavior = SlowDeathBehavior ModuleTag_Death02
    DeathTypes          = NONE +CRUSHED +SPLATTED
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_GIDieCrushed
  End
  Behavior = SlowDeathBehavior ModuleTag_Death03
    DeathTypes          = NONE +EXPLODED
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_VDVParaTrooperDie
    FlingForce          = 8
    FlingForceVariance  = 3
    FlingPitch          = 60
    FlingPitchVariance  = 10
  End
  Behavior = SlowDeathBehavior ModuleTag_Death04
    DeathTypes          = NONE +BURNED
    DestructionDelay    = 0
    FX                  = INITIAL FX_VDVParaTrooperDieByFire
    OCL                 = INITIAL OCL_FlamingInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death05
    DeathTypes          = NONE +POISONED
    DestructionDelay    = 0
    FX                  = INITIAL FX_VDVParaTrooperDieByToxin
    OCL                 = INITIAL OCL_ToxicInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
    DeathTypes          = NONE +POISONED_BETA
    DestructionDelay    = 0
    FX                  = INITIAL FX_VDVParaTrooperDieByToxin
    OCL                 = INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
  End
  Behavior = SlowDeathBehavior ModuleTag_Death07
    DeathTypes          = NONE +POISONED_GAMMA
    DestructionDelay    = 0
    FX                  = INITIAL FX_VDVParaTrooperDieByToxin
    OCL                 = INITIAL OCL_ToxicInfantryGamma
  End
; --- end Death modules ---

  Behavior = PoisonedBehavior ModuleTag_16
    PoisonDamageInterval = 100  ; Every this many msec I will retake the poison damage dealt me...
    PoisonDuration = 3000       ; ... for this long after last hit by poison damage
  End

  Behavior = SpecialAbility ModuleTag_CaptureBuilding01
    SpecialPowerTemplate      = SpecialAbilityRedGuardCaptureBuilding ;SpecialAbilityRebelCaptureBuilding
    UpdateModuleStartsAttack  = Yes
    StartsPaused              = Yes
    InitiateSound             = VDVVoiceCaptureBuilding
  End
  
  Behavior = SpecialAbilityUpdate ModuleTag_CaptureBuilding02
    SpecialPowerTemplate  = SpecialAbilityRedGuardCaptureBuilding ;SpecialAbilityRebelCaptureBuilding
    StartAbilityRange     = 5.0
    UnpackTime            = 3000  ; (changing this will scale anim speed)
    PreparationTime       = 20000 ; time to complete hack once prepared (changing this will scale anim speed)
    PackTime              = 2000  ; (changing this will scale anim speed)
    DoCaptureFX           = Yes
    AwardXPForTriggering  = 12
  End

  Behavior = CommandButtonHuntUpdate  ModuleTag_CaptureBuilding03
  End
  
  Behavior = UnpauseSpecialPowerUpgrade ModuleTag_CaptureBuilding04
    SpecialPowerTemplate = SpecialAbilityRedGuardCaptureBuilding ;SpecialAbilityRebelCaptureBuilding
    TriggeredBy = Upgrade_InfantryCaptureBuilding
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 10.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 12.0
  GeometryIsSmall = Yes
  Shadow = SHADOW_DECAL
  ShadowSizeX = 14;
  ShadowSizeY = 14;
  ShadowTexture = ShadowI;
  BuildCompletion = APPEARS_AT_RALLY_POINT
  Scale = 0.96
End

;------------------------------------------------------------------------------
Object Boss_RussiaInfantryVDVRPGParaTrooperPlatoon

  ; *** ART Parameters ***
  SelectPortrait         = SAMissleDefender_L
  ButtonImage            = SAMissleDefender

  ; UpgradeCameo1 = Upgrade_RussiaMedPack
  ; UpgradeCameo2 = Upgrade_RussiaAdvancedMissileEngines
  
  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes

    DefaultConditionState
      Model             = RIVDVRPG_SKN
      IdleAnimation     = NITHNT_SKL.NITHNT_STA 0 30
      IdleAnimation     = NITHNT_SKL.NITHNT_IDA
      IdleAnimation     = NITHNT_SKL.NITHNT_IDB
      HideSubObject     = HEAD02 HEAD03 RPO
      ShowSubObject     = RPG
      AnimationMode     = ONCE
      TransitionKey     = TRANS_RIDER1_STAND
      WeaponFireFXBone  = PRIMARY   Muzzle
      WeaponLaunchBone  = PRIMARY   Muzzle
      WeaponLaunchBone  = SECONDARY Muzzle
      WeaponFireFXBone  = SECONDARY Muzzle
      WeaponLaunchBone  = TERTIARY  Muzzle
      WeaponFireFXBone  = TERTIARY  Muzzle
      WaitForStateToFinishIfPossible = TRANS_RIDER1_START_FIRING
    End
    AliasConditionState = RIDER1

    ConditionState      = RIDER1 MOVING
      Animation         = NITHNT_SKL.NITHNT_RNA 20
      AnimationMode     = LOOP
      Flags             = RANDOMSTART
      TransitionKey     = NADA
      ParticleSysBone   = None InfantryDustTrails
      WaitForStateToFinishIfPossible = NONE
    End
    AliasConditionState = RIDER1 MOVING RELOADING_A
    AliasConditionState = RIDER1 MOVING RELOADING_C
    AliasConditionState = RIDER1 MOVING RELOADING_B
    
    ConditionState      = RIDER1 FIRING_A
      Animation         = NITHNT_SKL.NITHNT_ATC 
      AnimationMode     = ONCE
      HideSubObject     = HEAD02 HEAD03 RPG RPO
      ShowSubObject     = RIVDV_SKN LAUNCHER HEAD01 WARHEADS
      TransitionKey     = TRANS_RIDER1_START_FIRING
      WaitForStateToFinishIfPossible = NONE
      AnimationSpeedFactorRange = 1.5 2.0
    End
    AliasConditionState = RIDER1 FIRING_B
    AliasConditionState = RIDER1 FIRING_C

    ConditionState      = RIDER1 RELOADING_A
      Animation         = NITHNT_SKL.NITHNT_STA
      AnimationMode     = ONCE
      TransitionKey     = NADA
      WaitForStateToFinishIfPossible = TRANS_RIDER1_START_FIRING
    End
    AliasConditionState = RIDER1 BETWEEN_FIRING_SHOTS_A
    AliasConditionState = RIDER1 RELOADING_B
    AliasConditionState = RIDER1 BETWEEN_FIRING_SHOTS_B
    AliasConditionState = RIDER1 RELOADING_C
    AliasConditionState = RIDER1 BETWEEN_FIRING_SHOTS_C
    

    ;Death animations:
    
    ConditionState      = RIDER1 DYING
      Animation         = NITHNT_SKL.NITHNT_DTA
      Animation         = NITHNT_SKL.NITHNT_DTB
      AnimationMode     = ONCE
      TransitionKey     = TRANS_RIDER1_Dying
      WaitForStateToFinishIfPossible = NONE
      AnimationSpeedFactorRange = 0.9 1.25
    End
    TransitionState     = TRANS_RIDER1_Dying TRANS_RIDER1_Flailing
      Animation         = NITHNT_SKL.NITHNT_ADTA1
      AnimationMode     = ONCE
    End

    ConditionState      = RIDER1 DYING EXPLODED_FLAILING
      Animation         = NITHNT_SKL.NITHNT_ADTA2
      AnimationMode     = LOOP
      TransitionKey     = TRANS_RIDER1_Flailing
      WaitForStateToFinishIfPossible = NONE
    End

    ConditionState      = RIDER1 DYING EXPLODED_BOUNCING
      Animation         = NITHNT_SKL.NITHNT_ADTA3
      AnimationMode     = ONCE
      TransitionKey     = NADA
      WaitForStateToFinishIfPossible = NONE
    End

    ;PARACHUTING ANIMATIONS
    ConditionState      = RIDER1 FREEFALL
      Animation         = NITHNT_SKL.NITHNT_PFL
      AnimationMode     = LOOP
      TransitionKey     = TRANS_RIDER1_FALLING
    End
    AliasConditionState = RIDER1 FREEFALL DYING


    ConditionState      = RIDER1 PARACHUTING
      Animation         = NITHNT_SKL.NITHNT_PHG
      AnimationMode     = LOOP
      Flags             = PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
      TransitionKey     = TRANS_RIDER1_CHUTE
    End
    AliasConditionState = RIDER1 PARACHUTING DYING

    TransitionState     = TRANS_RIDER1_FALLING TRANS_RIDER1_CHUTE
      Animation         = NITHNT_SKL.NITHNT_POP
      AnimationMode     = ONCE
      Flags             = PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
    End

    TransitionState     = TRANS_RIDER1_CHUTE TRANS_RIDER1_STAND
      Animation         = NITHNT_SKL.NITHNT_PTD
      AnimationMode     = ONCE
    End

    ; ------- Bldg-capture

    ConditionState      = RIDER1 UNPACKING
      Model             = RIVDV_F_SKN
      Animation         = NICNSC_F_SKL.NICNSC_F_FDP1
      AnimationMode     = ONCE
    End

    ConditionState      = RIDER1 RAISING_FLAG
      Model             = RIVDV_F_SKN
      Animation         = NICNSC_F_SKL.NICNSC_F_FDP2
      AnimationMode     = ONCE
      TransitionKey     = TRANS_RIDER1_Raising
    End

    ConditionState      = RIDER1 PACKING
      Model             = RIVDV_F_SKN
      Animation         = NICNSC_F_SKL.NICNSC_F_FDP1
      AnimationMode     = ONCE_BACKWARDS
      Flags             = START_FRAME_LAST
      TransitionKey     = TRANS_RIDER1_Packing
    End

    TransitionState     = TRANS_RIDER1_Raising TRANS_RIDER1_Packing
      Model             = RIVDV_F_SKN
      Animation         = NICNSC_F_SKL.NICNSC_F_FDP2
      AnimationMode     = ONCE_BACKWARDS
      Flags             = START_FRAME_LAST
    End


    ;Thermobaric Rocket Mode

    ConditionState = RIDER2
      Model             = RIVDVRPG_SKN
      IdleAnimation     = NITHNT_SKL.NITHNT_STA 0 30
      IdleAnimation     = NITHNT_SKL.NITHNT_IDA
      IdleAnimation     = NITHNT_SKL.NITHNT_IDB
      HideSubObject     = HEAD02 HEAD03 RPG
      ShowSubObject     = RPO
      AnimationMode     = ONCE
      TransitionKey     = TRANS_RIDER2_STAND
      WaitForStateToFinishIfPossible = TRANS_RIDER2_START_FIRING
    End

    ConditionState      = RIDER2 MOVING
      Animation         = NITHNT_SKL.NITHNT_RNA 20
      AnimationMode     = LOOP
      Flags             = RANDOMSTART
      HideSubObject     = HEAD02 HEAD03 RPG
      ShowSubObject     = RPO
      TransitionKey     = NADA
      ParticleSysBone   = None InfantryDustTrails
      WaitForStateToFinishIfPossible = NONE
    End
    AliasConditionState = RIDER2 MOVING RELOADING_A
    AliasConditionState = RIDER2 MOVING RELOADING_C
    AliasConditionState = RIDER2 MOVING RELOADING_B
    
    ConditionState      = RIDER2 FIRING_A
      Animation         = NITHNT_SKL.NITHNT_ATC 
      AnimationMode     = ONCE
      HideSubObject     = HEAD02 HEAD03 RPG RPO
      ShowSubObject     = RIVDV_SKN LAUNCHER HEAD01 WARHEADS
      TransitionKey     = TRANS_RIDER2_START_FIRING
      WaitForStateToFinishIfPossible = NONE
      AnimationSpeedFactorRange = 1.5 2.0
    End
    AliasConditionState = RIDER2 FIRING_B
    AliasConditionState = RIDER2 FIRING_C

    ConditionState      = RIDER2 RELOADING_A
      Animation         = NITHNT_SKL.NITHNT_STA
      AnimationMode     = ONCE
      HideSubObject     = HEAD02 HEAD03 RPG
      ShowSubObject     = RPO
      TransitionKey     = NADA
      WaitForStateToFinishIfPossible = TRANS_RIDER2_START_FIRING
    End
    AliasConditionState = RIDER2 BETWEEN_FIRING_SHOTS_A
    AliasConditionState = RIDER2 RELOADING_B
    AliasConditionState = RIDER2 BETWEEN_FIRING_SHOTS_B
    AliasConditionState = RIDER2 RELOADING_C
    AliasConditionState = RIDER2 BETWEEN_FIRING_SHOTS_C
    

    ;Death animations:
    
    ConditionState      = RIDER2 DYING
      Animation         = NITHNT_SKL.NITHNT_DTA
      Animation         = NITHNT_SKL.NITHNT_DTB
      AnimationMode     = ONCE
      HideSubObject     = HEAD02 HEAD03 RPG
      ShowSubObject     = RPO
      TransitionKey     = TRANS_RIDER2_Dying
      WaitForStateToFinishIfPossible = NONE
      AnimationSpeedFactorRange = 0.9 1.25
    End
    TransitionState     = TRANS_RIDER2_Dying TRANS_RIDER2_Flailing
      Animation         = NITHNT_SKL.NITHNT_ADTA1
      AnimationMode     = ONCE
    End

    ConditionState      = RIDER2 DYING EXPLODED_FLAILING
      Animation         = NITHNT_SKL.NITHNT_ADTA2
      AnimationMode     = LOOP
      HideSubObject     = HEAD02 HEAD03 RPG
      ShowSubObject     = RPO
      TransitionKey     = TRANS_RIDER2_Flailing
      WaitForStateToFinishIfPossible = NONE
    End

    ConditionState      = RIDER2 DYING EXPLODED_BOUNCING
      Animation         = NITHNT_SKL.NITHNT_ADTA3
      AnimationMode     = ONCE
      HideSubObject     = HEAD02 HEAD03 RPG
      ShowSubObject     = RPO
      TransitionKey     = NADA
      WaitForStateToFinishIfPossible = NONE
    End

    ;PARACHUTING ANIMATIONS
    ConditionState      = RIDER2 FREEFALL
      Animation         = NITHNT_SKL.NITHNT_PFL
      AnimationMode     = LOOP
      HideSubObject     = HEAD02 HEAD03 RPG
      ShowSubObject     = RPO
      TransitionKey     = TRANS_RIDER2_FALLING
    End
    AliasConditionState = RIDER2 FREEFALL DYING


    ConditionState      = RIDER2 PARACHUTING
      Animation         = NITHNT_SKL.NITHNT_PHG
      AnimationMode     = LOOP
      HideSubObject     = HEAD02 HEAD03 RPG
      ShowSubObject     = RPO
      Flags             = PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
      TransitionKey     = TRANS_RIDER2_CHUTE
    End
    AliasConditionState = RIDER2 PARACHUTING DYING

    TransitionState     = TRANS_RIDER2_FALLING TRANS_RIDER2_CHUTE
      Animation         = NITHNT_SKL.NITHNT_POP
      AnimationMode     = ONCE
      HideSubObject     = HEAD02 HEAD03 RPG
      ShowSubObject     = RPO
      Flags             = PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
    End

    TransitionState     = TRANS_RIDER2_CHUTE TRANS_RIDER2_STAND
      Animation         = NITHNT_SKL.NITHNT_PTD
      AnimationMode     = ONCE
      HideSubObject     = HEAD02 HEAD03 RPG
      ShowSubObject     = RPO
    End

    ; ------- Bldg-capture

    ConditionState      = RIDER2 UNPACKING
      Model             = RIVDV_F_SKN
      Animation         = NICNSC_F_SKL.NICNSC_F_FDP1
      AnimationMode     = ONCE
      HideSubObject     = HEAD02 HEAD03 RPG
      ShowSubObject     = RPO
    End

    ConditionState      = RIDER2 RAISING_FLAG
      Model             = RIVDV_F_SKN
      Animation         = NICNSC_F_SKL.NICNSC_F_FDP2
      AnimationMode     = ONCE
      HideSubObject     = HEAD02 HEAD03 RPG
      ShowSubObject     = RPO
      TransitionKey     = TRANS_RIDER2_Raising
    End

    ConditionState      = RIDER2 PACKING
      Model             = RIVDV_F_SKN
      Animation         = NICNSC_F_SKL.NICNSC_F_FDP1
      AnimationMode     = ONCE_BACKWARDS
      Flags             = START_FRAME_LAST
      HideSubObject     = HEAD02 HEAD03 RPG
      ShowSubObject     = RPO
      TransitionKey     = TRANS_RIDER2_Packing
    End

    TransitionState     = TRANS_RIDER2_Raising TRANS_RIDER2_Packing
      Model             = RIVDV_F_SKN
      Animation         = NICNSC_F_SKL.NICNSC_F_FDP2
      AnimationMode     = ONCE_BACKWARDS
      Flags             = START_FRAME_LAST
      HideSubObject     = HEAD02 HEAD03 RPG
      ShowSubObject     = RPO
    End

  End


  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:VDVRPGTrooper
  Side                = Boss
  EditorSorting       = INFANTRY
  TransportSlotCount  = 1                 ;how many "slots" we take in a transport (0 == not transportable)

  WeaponSet
    ;Conditions = WEAPON_RIDER1
	Conditions = NONE
    Weapon     = PRIMARY VDVMissileLauncher
    ShareWeaponReloadTime = Yes
  End

  ; WeaponSet
    ; Conditions = WEAPON_RIDER1 PLAYER_UPGRADE 
    ; Weapon            = PRIMARY   VDVMissileLauncherUpgraded
    ; ShareWeaponReloadTime = Yes
  ; End

  ; WeaponSet
    ; Conditions = WEAPON_RIDER2
    ; Weapon            = PRIMARY   VDVMissileLauncherThermobaric
    ; ShareWeaponReloadTime = Yes
  ; End

  ; WeaponSet
    ; Conditions = WEAPON_RIDER2 PLAYER_UPGRADE 
    ; Weapon            = PRIMARY   VDVMissileLauncherThermobaricUpgraded
    ; ShareWeaponReloadTime = Yes
  ; End

  ArmorSet
    Conditions      = None
    Armor           = HumanArmor
    DamageFX        = InfantryDamageFX
  End

  VisionRange         = 220
  ShroudClearingRange = 220

  BuildCost = 400
  BuildTime = 50.0          ;in seconds  

  ExperienceValue     = 20 20  40  60   ;Experience point value at each level
  ExperienceRequired  = 0  100 200 400  ;Experience points needed to gain each level
  IsTrainable         = Yes             ;Can gain experience
  CrushableLevel      = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet          = RussianInfantryVDVRPGTrooperCommandSet ;UNCOMMENTED BY ZWERG <-------------------------------------- (!)

  ; *** AUDIO Parameters ***
  VoiceSelect           = VDVVoiceSelectRPG
  VoiceMove             = VDVVoiceMove
  VoiceGuard            = VDVVoiceMove
  VoiceAttack           = VDVVoiceAttackRPG
  VoiceFear             = VDVVoiceFear
  
  UnitSpecificSounds
    VoiceGarrison       = VDVVoiceMove
    VoiceEnter          = VDVVoiceMove
    VoiceEnterHostile   = VDVVoiceMove
    VoiceGetHealed      = VDVVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SALVAGER SCORE

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 180.0
    InitialHealth   = 180.0
  End

  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle = Yes
  End
  Locomotor = SET_NORMAL ConscriptHumanLocomotor

  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 5.0
  End

; --- begin Death modules ---
  Behavior = SlowDeathBehavior ModuleTag_Death01
    ;DeathTypes          = ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7
	DeathTypes          = ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_VDVParaTrooperDie
  End
  Behavior = SlowDeathBehavior ModuleTag_Death02
    DeathTypes          = NONE +CRUSHED +SPLATTED
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_GIDieCrushed
  End
  Behavior = SlowDeathBehavior ModuleTag_Death03
    DeathTypes          = NONE +EXPLODED
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_VDVParaTrooperDie
    FlingForce          = 8
    FlingForceVariance  = 3
    FlingPitch          = 60
    FlingPitchVariance  = 10
  End
  Behavior = SlowDeathBehavior ModuleTag_Death04
    DeathTypes          = NONE +BURNED
    DestructionDelay    = 0
    FX                  = INITIAL FX_VDVParaTrooperDieByFire
    OCL                 = INITIAL OCL_FlamingInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death05
    DeathTypes          = NONE +POISONED
    DestructionDelay    = 0
    FX                  = INITIAL FX_VDVParaTrooperDieByToxin
    OCL                 = INITIAL OCL_ToxicInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
    DeathTypes          = NONE +POISONED_BETA
    DestructionDelay    = 0
    FX                  = INITIAL FX_VDVParaTrooperDieByToxin
    OCL                 = INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
  End
  Behavior = SlowDeathBehavior ModuleTag_Death07
    DeathTypes          = NONE +POISONED_GAMMA
    DestructionDelay    = 0
    FX                  = INITIAL FX_VDVParaTrooperDieByToxin
    OCL                 = INITIAL OCL_ToxicInfantryGamma
  End
; --- end Death modules ---

  Behavior = PoisonedBehavior ModuleTag_16
    PoisonDamageInterval = 100  ; Every this many msec I will retake the poison damage dealt me...
    PoisonDuration = 3000       ; ... for this long after last hit by poison damage
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 10.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 12.0
  GeometryIsSmall = Yes
  Shadow = SHADOW_DECAL
  ShadowSizeX = 14;
  ShadowSizeY = 14;
  ShadowTexture = ShadowI;
  BuildCompletion = APPEARS_AT_RALLY_POINT
  Scale = 0.96
End

;------------------------------------------------------------------------------
Object Boss_RussiaInfantryVDVRPGParaTrooperCompany

  ; *** ART Parameters ***
  SelectPortrait         = SAMissleDefender_L
  ButtonImage            = SAMissleDefender

  ; UpgradeCameo1 = Upgrade_RussiaMedPack
  ; UpgradeCameo2 = Upgrade_RussiaAdvancedMissileEngines
  
  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes

    DefaultConditionState
      Model             = RIVDVRPG_SKN
      IdleAnimation     = NITHNT_SKL.NITHNT_STA 0 30
      IdleAnimation     = NITHNT_SKL.NITHNT_IDA
      IdleAnimation     = NITHNT_SKL.NITHNT_IDB
      HideSubObject     = HEAD02 HEAD03 RPO
      ShowSubObject     = RPG
      AnimationMode     = ONCE
      TransitionKey     = TRANS_RIDER1_STAND
      WeaponFireFXBone  = PRIMARY   Muzzle
      WeaponLaunchBone  = PRIMARY   Muzzle
      WeaponLaunchBone  = SECONDARY Muzzle
      WeaponFireFXBone  = SECONDARY Muzzle
      WeaponLaunchBone  = TERTIARY  Muzzle
      WeaponFireFXBone  = TERTIARY  Muzzle
      WaitForStateToFinishIfPossible = TRANS_RIDER1_START_FIRING
    End
    AliasConditionState = RIDER1

    ConditionState      = RIDER1 MOVING
      Animation         = NITHNT_SKL.NITHNT_RNA 20
      AnimationMode     = LOOP
      Flags             = RANDOMSTART
      TransitionKey     = NADA
      ParticleSysBone   = None InfantryDustTrails
      WaitForStateToFinishIfPossible = NONE
    End
    AliasConditionState = RIDER1 MOVING RELOADING_A
    AliasConditionState = RIDER1 MOVING RELOADING_C
    AliasConditionState = RIDER1 MOVING RELOADING_B
    
    ConditionState      = RIDER1 FIRING_A
      Animation         = NITHNT_SKL.NITHNT_ATC 
      AnimationMode     = ONCE
      HideSubObject     = HEAD02 HEAD03 RPG RPO
      ShowSubObject     = RIVDV_SKN LAUNCHER HEAD01 WARHEADS
      TransitionKey     = TRANS_RIDER1_START_FIRING
      WaitForStateToFinishIfPossible = NONE
      AnimationSpeedFactorRange = 1.5 2.0
    End
    AliasConditionState = RIDER1 FIRING_B
    AliasConditionState = RIDER1 FIRING_C

    ConditionState      = RIDER1 RELOADING_A
      Animation         = NITHNT_SKL.NITHNT_STA
      AnimationMode     = ONCE
      TransitionKey     = NADA
      WaitForStateToFinishIfPossible = TRANS_RIDER1_START_FIRING
    End
    AliasConditionState = RIDER1 BETWEEN_FIRING_SHOTS_A
    AliasConditionState = RIDER1 RELOADING_B
    AliasConditionState = RIDER1 BETWEEN_FIRING_SHOTS_B
    AliasConditionState = RIDER1 RELOADING_C
    AliasConditionState = RIDER1 BETWEEN_FIRING_SHOTS_C
    

    ;Death animations:
    
    ConditionState      = RIDER1 DYING
      Animation         = NITHNT_SKL.NITHNT_DTA
      Animation         = NITHNT_SKL.NITHNT_DTB
      AnimationMode     = ONCE
      TransitionKey     = TRANS_RIDER1_Dying
      WaitForStateToFinishIfPossible = NONE
      AnimationSpeedFactorRange = 0.9 1.25
    End
    TransitionState     = TRANS_RIDER1_Dying TRANS_RIDER1_Flailing
      Animation         = NITHNT_SKL.NITHNT_ADTA1
      AnimationMode     = ONCE
    End

    ConditionState      = RIDER1 DYING EXPLODED_FLAILING
      Animation         = NITHNT_SKL.NITHNT_ADTA2
      AnimationMode     = LOOP
      TransitionKey     = TRANS_RIDER1_Flailing
      WaitForStateToFinishIfPossible = NONE
    End

    ConditionState      = RIDER1 DYING EXPLODED_BOUNCING
      Animation         = NITHNT_SKL.NITHNT_ADTA3
      AnimationMode     = ONCE
      TransitionKey     = NADA
      WaitForStateToFinishIfPossible = NONE
    End

    ;PARACHUTING ANIMATIONS
    ConditionState      = RIDER1 FREEFALL
      Animation         = NITHNT_SKL.NITHNT_PFL
      AnimationMode     = LOOP
      TransitionKey     = TRANS_RIDER1_FALLING
    End
    AliasConditionState = RIDER1 FREEFALL DYING


    ConditionState      = RIDER1 PARACHUTING
      Animation         = NITHNT_SKL.NITHNT_PHG
      AnimationMode     = LOOP
      Flags             = PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
      TransitionKey     = TRANS_RIDER1_CHUTE
    End
    AliasConditionState = RIDER1 PARACHUTING DYING

    TransitionState     = TRANS_RIDER1_FALLING TRANS_RIDER1_CHUTE
      Animation         = NITHNT_SKL.NITHNT_POP
      AnimationMode     = ONCE
      Flags             = PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
    End

    TransitionState     = TRANS_RIDER1_CHUTE TRANS_RIDER1_STAND
      Animation         = NITHNT_SKL.NITHNT_PTD
      AnimationMode     = ONCE
    End

    ; ------- Bldg-capture

    ConditionState      = RIDER1 UNPACKING
      Model             = RIVDV_F_SKN
      Animation         = NICNSC_F_SKL.NICNSC_F_FDP1
      AnimationMode     = ONCE
    End

    ConditionState      = RIDER1 RAISING_FLAG
      Model             = RIVDV_F_SKN
      Animation         = NICNSC_F_SKL.NICNSC_F_FDP2
      AnimationMode     = ONCE
      TransitionKey     = TRANS_RIDER1_Raising
    End

    ConditionState      = RIDER1 PACKING
      Model             = RIVDV_F_SKN
      Animation         = NICNSC_F_SKL.NICNSC_F_FDP1
      AnimationMode     = ONCE_BACKWARDS
      Flags             = START_FRAME_LAST
      TransitionKey     = TRANS_RIDER1_Packing
    End

    TransitionState     = TRANS_RIDER1_Raising TRANS_RIDER1_Packing
      Model             = RIVDV_F_SKN
      Animation         = NICNSC_F_SKL.NICNSC_F_FDP2
      AnimationMode     = ONCE_BACKWARDS
      Flags             = START_FRAME_LAST
    End


    ;Thermobaric Rocket Mode

    ConditionState = RIDER2
      Model             = RIVDVRPG_SKN
      IdleAnimation     = NITHNT_SKL.NITHNT_STA 0 30
      IdleAnimation     = NITHNT_SKL.NITHNT_IDA
      IdleAnimation     = NITHNT_SKL.NITHNT_IDB
      HideSubObject     = HEAD02 HEAD03 RPG
      ShowSubObject     = RPO
      AnimationMode     = ONCE
      TransitionKey     = TRANS_RIDER2_STAND
      WaitForStateToFinishIfPossible = TRANS_RIDER2_START_FIRING
    End

    ConditionState      = RIDER2 MOVING
      Animation         = NITHNT_SKL.NITHNT_RNA 20
      AnimationMode     = LOOP
      Flags             = RANDOMSTART
      HideSubObject     = HEAD02 HEAD03 RPG
      ShowSubObject     = RPO
      TransitionKey     = NADA
      ParticleSysBone   = None InfantryDustTrails
      WaitForStateToFinishIfPossible = NONE
    End
    AliasConditionState = RIDER2 MOVING RELOADING_A
    AliasConditionState = RIDER2 MOVING RELOADING_C
    AliasConditionState = RIDER2 MOVING RELOADING_B
    
    ConditionState      = RIDER2 FIRING_A
      Animation         = NITHNT_SKL.NITHNT_ATC 
      AnimationMode     = ONCE
      HideSubObject     = HEAD02 HEAD03 RPG RPO
      ShowSubObject     = RIVDV_SKN LAUNCHER HEAD01 WARHEADS
      TransitionKey     = TRANS_RIDER2_START_FIRING
      WaitForStateToFinishIfPossible = NONE
      AnimationSpeedFactorRange = 1.5 2.0
    End
    AliasConditionState = RIDER2 FIRING_B
    AliasConditionState = RIDER2 FIRING_C

    ConditionState      = RIDER2 RELOADING_A
      Animation         = NITHNT_SKL.NITHNT_STA
      AnimationMode     = ONCE
      HideSubObject     = HEAD02 HEAD03 RPG
      ShowSubObject     = RPO
      TransitionKey     = NADA
      WaitForStateToFinishIfPossible = TRANS_RIDER2_START_FIRING
    End
    AliasConditionState = RIDER2 BETWEEN_FIRING_SHOTS_A
    AliasConditionState = RIDER2 RELOADING_B
    AliasConditionState = RIDER2 BETWEEN_FIRING_SHOTS_B
    AliasConditionState = RIDER2 RELOADING_C
    AliasConditionState = RIDER2 BETWEEN_FIRING_SHOTS_C
    

    ;Death animations:
    
    ConditionState      = RIDER2 DYING
      Animation         = NITHNT_SKL.NITHNT_DTA
      Animation         = NITHNT_SKL.NITHNT_DTB
      AnimationMode     = ONCE
      HideSubObject     = HEAD02 HEAD03 RPG
      ShowSubObject     = RPO
      TransitionKey     = TRANS_RIDER2_Dying
      WaitForStateToFinishIfPossible = NONE
      AnimationSpeedFactorRange = 0.9 1.25
    End
    TransitionState     = TRANS_RIDER2_Dying TRANS_RIDER2_Flailing
      Animation         = NITHNT_SKL.NITHNT_ADTA1
      AnimationMode     = ONCE
    End

    ConditionState      = RIDER2 DYING EXPLODED_FLAILING
      Animation         = NITHNT_SKL.NITHNT_ADTA2
      AnimationMode     = LOOP
      HideSubObject     = HEAD02 HEAD03 RPG
      ShowSubObject     = RPO
      TransitionKey     = TRANS_RIDER2_Flailing
      WaitForStateToFinishIfPossible = NONE
    End

    ConditionState      = RIDER2 DYING EXPLODED_BOUNCING
      Animation         = NITHNT_SKL.NITHNT_ADTA3
      AnimationMode     = ONCE
      HideSubObject     = HEAD02 HEAD03 RPG
      ShowSubObject     = RPO
      TransitionKey     = NADA
      WaitForStateToFinishIfPossible = NONE
    End

    ;PARACHUTING ANIMATIONS
    ConditionState      = RIDER2 FREEFALL
      Animation         = NITHNT_SKL.NITHNT_PFL
      AnimationMode     = LOOP
      HideSubObject     = HEAD02 HEAD03 RPG
      ShowSubObject     = RPO
      TransitionKey     = TRANS_RIDER2_FALLING
    End
    AliasConditionState = RIDER2 FREEFALL DYING


    ConditionState      = RIDER2 PARACHUTING
      Animation         = NITHNT_SKL.NITHNT_PHG
      AnimationMode     = LOOP
      HideSubObject     = HEAD02 HEAD03 RPG
      ShowSubObject     = RPO
      Flags             = PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
      TransitionKey     = TRANS_RIDER2_CHUTE
    End
    AliasConditionState = RIDER2 PARACHUTING DYING

    TransitionState     = TRANS_RIDER2_FALLING TRANS_RIDER2_CHUTE
      Animation         = NITHNT_SKL.NITHNT_POP
      AnimationMode     = ONCE
      HideSubObject     = HEAD02 HEAD03 RPG
      ShowSubObject     = RPO
      Flags             = PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
    End

    TransitionState     = TRANS_RIDER2_CHUTE TRANS_RIDER2_STAND
      Animation         = NITHNT_SKL.NITHNT_PTD
      AnimationMode     = ONCE
      HideSubObject     = HEAD02 HEAD03 RPG
      ShowSubObject     = RPO
    End

    ; ------- Bldg-capture

    ConditionState      = RIDER2 UNPACKING
      Model             = RIVDV_F_SKN
      Animation         = NICNSC_F_SKL.NICNSC_F_FDP1
      AnimationMode     = ONCE
      HideSubObject     = HEAD02 HEAD03 RPG
      ShowSubObject     = RPO
    End

    ConditionState      = RIDER2 RAISING_FLAG
      Model             = RIVDV_F_SKN
      Animation         = NICNSC_F_SKL.NICNSC_F_FDP2
      AnimationMode     = ONCE
      HideSubObject     = HEAD02 HEAD03 RPG
      ShowSubObject     = RPO
      TransitionKey     = TRANS_RIDER2_Raising
    End

    ConditionState      = RIDER2 PACKING
      Model             = RIVDV_F_SKN
      Animation         = NICNSC_F_SKL.NICNSC_F_FDP1
      AnimationMode     = ONCE_BACKWARDS
      Flags             = START_FRAME_LAST
      HideSubObject     = HEAD02 HEAD03 RPG
      ShowSubObject     = RPO
      TransitionKey     = TRANS_RIDER2_Packing
    End

    TransitionState     = TRANS_RIDER2_Raising TRANS_RIDER2_Packing
      Model             = RIVDV_F_SKN
      Animation         = NICNSC_F_SKL.NICNSC_F_FDP2
      AnimationMode     = ONCE_BACKWARDS
      Flags             = START_FRAME_LAST
      HideSubObject     = HEAD02 HEAD03 RPG
      ShowSubObject     = RPO
    End
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:VDVRPGTrooper
  Side                = Boss
  EditorSorting       = INFANTRY
  TransportSlotCount  = 1                 ;how many "slots" we take in a transport (0 == not transportable)

  WeaponSet
    ;Conditions = WEAPON_RIDER1
	Conditions = NONE
    Weapon     = PRIMARY VDVMissileLauncher
    ShareWeaponReloadTime = Yes
  End

  ; WeaponSet
    ; Conditions = WEAPON_RIDER1 PLAYER_UPGRADE 
    ; Weapon            = PRIMARY   VDVMissileLauncherUpgraded
    ; ShareWeaponReloadTime = Yes
  ; End

  ; WeaponSet
    ; Conditions = WEAPON_RIDER2
    ; Weapon            = PRIMARY   VDVMissileLauncherThermobaric
    ; ShareWeaponReloadTime = Yes
  ; End

  ; WeaponSet
    ; Conditions = WEAPON_RIDER2 PLAYER_UPGRADE 
    ; Weapon            = PRIMARY   VDVMissileLauncherThermobaricUpgraded
    ; ShareWeaponReloadTime = Yes
  ; End

  ArmorSet
    Conditions      = None
    Armor           = HumanArmor
    DamageFX        = InfantryDamageFX
  End

  VisionRange         = 220
  ShroudClearingRange = 220

  BuildCost = 720
  BuildTime = 90.0          ;in seconds  

  ExperienceValue     = 20 20  40  60   ;Experience point value at each level
  ExperienceRequired  = 0  100 200 400  ;Experience points needed to gain each level
  IsTrainable         = Yes             ;Can gain experience
  CrushableLevel      = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet          = RussianInfantryVDVRPGTrooperCommandSet ;UNCOMMENTED BY ZWERG <-------------------------------------- (!)

  ; *** AUDIO Parameters ***
  VoiceSelect           = VDVVoiceSelectRPG
  VoiceMove             = VDVVoiceMove
  VoiceGuard            = VDVVoiceMove
  VoiceAttack           = VDVVoiceAttackRPG
  VoiceFear             = VDVVoiceFear
  
  UnitSpecificSounds
    VoiceGarrison       = VDVVoiceMove
    VoiceEnter          = VDVVoiceMove
    VoiceEnterHostile   = VDVVoiceMove
    VoiceGetHealed      = VDVVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY OBSTACLE SALVAGER SCORE

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 180.0
    InitialHealth   = 180.0
  End

  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle = Yes
  End
  Locomotor = SET_NORMAL ConscriptHumanLocomotor

  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 5.0
  End

; --- begin Death modules ---
  Behavior = SlowDeathBehavior ModuleTag_Death01
    ;DeathTypes          = ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -LASERED -EXTRA_2 -EXTRA_3 -EXTRA_4 -EXTRA_5 -EXTRA_6 -EXTRA_7
	DeathTypes          = ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_VDVParaTrooperDie
  End
  Behavior = SlowDeathBehavior ModuleTag_Death02
    DeathTypes          = NONE +CRUSHED +SPLATTED
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_GIDieCrushed
  End
  Behavior = SlowDeathBehavior ModuleTag_Death03
    DeathTypes          = NONE +EXPLODED
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_VDVParaTrooperDie
    FlingForce          = 8
    FlingForceVariance  = 3
    FlingPitch          = 60
    FlingPitchVariance  = 10
  End
  Behavior = SlowDeathBehavior ModuleTag_Death04
    DeathTypes          = NONE +BURNED
    DestructionDelay    = 0
    FX                  = INITIAL FX_VDVParaTrooperDieByFire
    OCL                 = INITIAL OCL_FlamingInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death05
    DeathTypes          = NONE +POISONED
    DestructionDelay    = 0
    FX                  = INITIAL FX_VDVParaTrooperDieByToxin
    OCL                 = INITIAL OCL_ToxicInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
    DeathTypes          = NONE +POISONED_BETA
    DestructionDelay    = 0
    FX                  = INITIAL FX_VDVParaTrooperDieByToxin
    OCL                 = INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
  End
  Behavior = SlowDeathBehavior ModuleTag_Death07
    DeathTypes          = NONE +POISONED_GAMMA
    DestructionDelay    = 0
    FX                  = INITIAL FX_VDVParaTrooperDieByToxin
    OCL                 = INITIAL OCL_ToxicInfantryGamma
  End
; --- end Death modules ---

  Behavior = PoisonedBehavior ModuleTag_16
    PoisonDamageInterval = 100  ; Every this many msec I will retake the poison damage dealt me...
    PoisonDuration = 3000       ; ... for this long after last hit by poison damage
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 10.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 12.0
  GeometryIsSmall = Yes
  Shadow = SHADOW_DECAL
  ShadowSizeX = 14;
  ShadowSizeY = 14;
  ShadowTexture = ShadowI;
  BuildCompletion = APPEARS_AT_RALLY_POINT
  Scale = 0.96
End

;------------------------------------------------------------------------------
Object Boss_OilRefinery

  ; *** ART Parameters ***
  SelectPortrait         = SSTechOilRefinery_L
  ButtonImage            = SSTechOilRefinery_L
  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes
    ; DAY ********************************************
    ConditionState     = NONE
      Model            = ZBRefinery
      Animation        = ZBRefinery.ZBRefinery
      AnimationMode    = LOOP
      ParticleSysBone  = Smoke01 SteamVent
      ParticleSysBone  = Smoke02 SteamVent
      ParticleSysBone  = Fire01 FireBurningBarricade01
    End
    ; DAMAGED ********************************************
    ConditionState     = DAMAGED
      Model            = ZBRefinery_D
      Animation        = ZBRefinery_D.ZBRefinery_D
      AnimationMode    = LOOP
      ParticleSysBone  = Smoke01 SteamVent
      ParticleSysBone  = Smoke02 SteamVent
      ParticleSysBone  = Smoke03 SmolderingSmoke
      ParticleSysBone  = Smoke04 SmolderingSmoke
      ParticleSysBone  = Smoke05 SmolderingSmoke
      ParticleSysBone  = Fire01 FireBurningBarricade01
    End
    ; REALLYDAMAGED ****************************************
    ConditionState     = REALLYDAMAGED
      Model            = ZBRefinery_E
      ParticleSysBone  = Smoke01 SteamVent
      ParticleSysBone  = Smoke02 SteamVent
      ParticleSysBone  = Smoke03 SmolderingSmoke
      ParticleSysBone  = Smoke04 SmokeFactionLarge
      ParticleSysBone  = Smoke05 SmokeFactionLarge
      ParticleSysBone  = Smoke06 SmokeFactionLarge
      ParticleSysBone  = Fire01 FireBurningBarricade01
      ParticleSysBone  = Fire02 SmolderingFire
      ParticleSysBone  = Fire03 FireFactionLarge
      ParticleSysBone  = Fire04 FireFactionLarge
      ParticleSysBone  = Fire05 FireFactionLarge
    End
    ; RUBBLE *********************************************    
    ConditionState     = RUBBLE
      Model            = ZBRefinery_R
    End

    ; NIGHT ********************************************
    ConditionState     = NIGHT
      Model            = ZBRefinery_N
      ParticleSysBone  = Smoke01 SteamVent
      ParticleSysBone  = Smoke02 SteamVent
      ParticleSysBone  = Fire01 FireBurningBarricade01
    End
    ; NIGHT DAMAGED ********************************************
    ConditionState     = NIGHT DAMAGED
      Model            = ZBRefinery_DN
      Animation        = ZBRefinery_DN.ZBRefinery_DN
      AnimationMode    = LOOP
      ParticleSysBone  = Smoke01 SteamVent
      ParticleSysBone  = Smoke02 SteamVent
      ParticleSysBone  = Smoke03 SmolderingSmoke
      ParticleSysBone  = Smoke04 SmolderingSmoke
      ParticleSysBone  = Smoke05 SmolderingSmoke
      ParticleSysBone  = Fire01 FireBurningBarricade01
    End
    ; NIGHT REALLYDAMAGED ********************************************
    ConditionState     = NIGHT REALLYDAMAGED 
      Model            = ZBRefinery_EN
      Animation        = ZBRefinery_EN.ZBRefinery_EN
      AnimationMode    = LOOP
      ParticleSysBone  = Smoke01 SteamVent
      ParticleSysBone  = Smoke02 SteamVent
      ParticleSysBone  = Smoke03 SmolderingSmoke
      ParticleSysBone  = Smoke04 SmokeFactionLarge
      ParticleSysBone  = Smoke05 SmokeFactionLarge
      ParticleSysBone  = Smoke06 SmokeFactionLarge
      ParticleSysBone  = Fire01 FireBurningBarricade01
      ParticleSysBone  = Fire02 SmolderingFire
      ParticleSysBone  = Fire03 FireFactionLarge
      ParticleSysBone  = Fire04 FireFactionLarge
      ParticleSysBone  = Fire05 FireFactionLarge
    End
    ; NIGHT RUBBLE ****************************************
    ConditionState     = NIGHT RUBBLE
      Model            = ZBRefinery_R
    End

    ; SNOW ********************************************
    ConditionState     = SNOW
      Model            = ZBRefinery_S
      ParticleSysBone  = Smoke01 SteamVent
      ParticleSysBone  = Smoke02 SteamVent
      ParticleSysBone  = Fire01 FireBurningBarricade01
    End
    ; SNOW DAMAGED ********************************************
    ConditionState     = SNOW DAMAGED
      Model            = ZBRefinery_DS
      Animation        = ZBRefinery_DS.ZBRefinery_DS
      AnimationMode    = LOOP
      ParticleSysBone  = Smoke01 SteamVent
      ParticleSysBone  = Smoke02 SteamVent
      ParticleSysBone  = Smoke03 SmolderingSmoke
      ParticleSysBone  = Smoke04 SmolderingSmoke
      ParticleSysBone  = Smoke05 SmolderingSmoke
      ParticleSysBone  = Fire01 FireBurningBarricade01
    End
    ; SNOW REALLYDAMAGED ********************************************
    ConditionState     = SNOW REALLYDAMAGED
      Model            = ZBRefinery_ES
      Animation        = ZBRefinery_ES.ZBRefinery_ES
      AnimationMode    = LOOP
      ParticleSysBone  = Smoke01 SteamVent
      ParticleSysBone  = Smoke02 SteamVent
      ParticleSysBone  = Smoke03 SmolderingSmoke
      ParticleSysBone  = Smoke04 SmokeFactionLarge
      ParticleSysBone  = Smoke05 SmokeFactionLarge
      ParticleSysBone  = Smoke06 SmokeFactionLarge
      ParticleSysBone  = Fire01 FireBurningBarricade01
      ParticleSysBone  = Fire02 SmolderingFire
      ParticleSysBone  = Fire03 FireFactionLarge
      ParticleSysBone  = Fire04 FireFactionLarge
      ParticleSysBone  = Fire05 FireFactionLarge
    End
    ; SNOW RUBBLE ****************************************
    ConditionState     = SNOW RUBBLE
      Model            = ZBRefinery_RS
    End

    ; NIGHT SNOW ********************************************
    ConditionState     = NIGHT SNOW
      Model            = ZBRefinery_NS
      ParticleSysBone  = Smoke01 SteamVent
      ParticleSysBone  = Smoke02 SteamVent
      ParticleSysBone  = Fire01 FireBurningBarricade01
    End
    ; NIGHT SNOW DAMAGED ********************************************
    ConditionState     = NIGHT SNOW DAMAGED
      Model            = ZBRefinery_DNS
      Animation        = ZBRefinery_DNS.ZBRefinery_DNS
      AnimationMode    = LOOP
      ParticleSysBone  = Smoke01 SteamVent
      ParticleSysBone  = Smoke02 SteamVent
      ParticleSysBone  = Smoke03 SmolderingSmoke
      ParticleSysBone  = Smoke04 SmolderingSmoke
      ParticleSysBone  = Smoke05 SmolderingSmoke
      ParticleSysBone  = Fire01 FireBurningBarricade01
    End
    ; NIGHT SNOW REALLYDAMAGED ********************************************
    ConditionState     = NIGHT SNOW REALLYDAMAGED
      Model            = ZBRefinery_ENS
      Animation        = ZBRefinery_ENS.ZBRefinery_ENS
      AnimationMode    = LOOP
      ParticleSysBone  = Smoke01 SteamVent
      ParticleSysBone  = Smoke02 SteamVent
      ParticleSysBone  = Smoke03 SmolderingSmoke
      ParticleSysBone  = Smoke04 SmokeFactionLarge
      ParticleSysBone  = Smoke05 SmokeFactionLarge
      ParticleSysBone  = Smoke06 SmokeFactionLarge
      ParticleSysBone  = Fire01 FireBurningBarricade01
      ParticleSysBone  = Fire02 SmolderingFire
      ParticleSysBone  = Fire03 FireFactionLarge
      ParticleSysBone  = Fire04 FireFactionLarge
      ParticleSysBone  = Fire05 FireFactionLarge
    End
    ; NIGHT SNOW RUBBLE ****************************************
    ConditionState     = NIGHT SNOW RUBBLE
      Model            = ZBRefinery_RS
    End
    
  End

  ; ========================= Flag Model ===============================
  Draw = W3DModelDraw ModuleTag_02
    OkToChangeModelColor = Yes
    
    ; DEFAULT & DAMAGED ************************************************
    ConditionState  = NONE
      Model         = ZBRefinery_F
      Animation     = ZBRefinery_F.ZBRefinery_F
      AnimationMode = LOOP
    End
    AliasConditionState = DAMAGED
    
    ; REALLYDAMAGED *****************************************************
    ConditionState  = REALLYDAMAGED
      Model         = ZBRefinery_FE
      Animation     = ZBRefinery_FE.ZBRefinery_FE
      AnimationMode = LOOP
    End
    
    ; RUBBLE ***********************************************************
    ConditionState  = RUBBLE
      Model         = None
    End
    
  End
  
; ------------ New Animations fence -----------------
  Draw = W3DModelDraw ModuleTag_LightingAnimations
  AnimationsRequirePower = No
  
    DefaultConditionState
      Model           = ZBRefinery_A1
      Animation       = ZBRefinery_A1.ZBRefinery_A1
      AnimationMode   = LOOP
    End
    
    ConditionState    = DAMAGED
      Model           = ZBRefinery_A1D
      Animation       = ZBRefinery_A1D.ZBRefinery_A1D
      AnimationMode   = LOOP
    End
    
    ConditionState    = REALLYDAMAGED
      Model           = ZBRefinery_A1E
      Animation       = ZBRefinery_A1E.ZBRefinery_A1E
      AnimationMode   = LOOP
    End
    
    ConditionState    = RUBBLE
      Model           = NONE
    End
    
  End

  ; ***DESIGN parameters ***
  DisplayName          = OBJECT:TechOilRefinery
  Side                 = Boss
  EditorSorting        = STRUCTURE
  VisionRange          = 100
  ShroudClearingRange  = 100

  ; *** AUDIO Parameters ***
  SoundOnDamaged        = BuildingDamagedStateLight
  SoundOnReallyDamaged  = BuildingDestroy
  VoiceSelect = FireBaseSelect
  UnitSpecificSounds
    UnderConstruction     = UnderConstructionLoop
  End
  
  ; *** ENGINEERING Parameters ***  
  RadarPriority = STRUCTURE
  KindOf    = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE FS_TECHNOLOGY
  BuildCost = 60000.0
  BuildTime  = 120.0
  EnergyProduction = -4
  Prerequisites
    Object = Boss_ChinaOilDerrick
  End
  CommandSet        = SellOnlyGenericCommandSet
  ExperienceValue     = 200 200 200 200  ; Experience point value at each level
  Body                 = ActiveBody ModuleTag_03
    MaxHealth          = 2000.0
    InitialHealth      = 2000.0
  End
  ArmorSet
    Conditions = None
    Armor      = StructureArmor
    DamageFX   = StructureDamageFXNoShake
  End
  
  Behavior         = GrantUpgradeCreate ModuleTag_04
    UpgradeToGrant = Upgrade_CostReduction
  End
  Behavior       = CostModifierUpgrade ModuleTag_05
    TriggeredBy  = Upgrade_CostReduction
    EffectKindOf = VEHICLE
    Percentage   = -10%
  End
  
  Behavior                = FlammableUpdate ModuleTag_07
    FlameDamageLimit      = 20    ; Catch fire if I take this much fire damage...
    FlameDamageExpiration = 2000  ; in a span of this long
    AflameDuration        = 5000  ; If I catch fire, I'll burn for this long...
    AflameDamageAmount    = 25    ; taking this much damage...
    AflameDamageDelay     = 500   ; this often.
  End

  Behavior             = FXListDie ModuleTag_08
    DeathFX            = WeaponFX_BombTruckHighExplosiveBombDetonation
  End

  Behavior = TransitionDamageFX ModuleTag_09
    ;-------------DESIGNED FOR MEDIUM SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionMediumExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionMediumShockwave
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  
  ; Behavior = KeepObjectDie ModuleTag_IWantRubble
  ; End

  ; Behavior = TechBuildingBehavior ModuleTag_10
    ; ;<NO DATA>
  ; End

  Behavior = FXListDie ModuleTag_11
    DeathFX = FX_BuildingDie
  End

  Geometry             = BOX
  GeometryMajorRadius  = 37.0
  GeometryMinorRadius  = 40.0
  GeometryHeight       = 60.0
  GeometryIsSmall      = No
  Shadow               = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
Object Boss_DroneOperator

  ; *** ART Parameters ***
  SelectPortrait         = SNHacker2_L
  ButtonImage            = SNHacker2

  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes

    ;NORMAL STANDING
    DefaultConditionState
      Model = NIHCKR_SKN
      IdleAnimation = NIHCKR_SKL.NIHCKR_STA 0 25
      ;Regular spice animations
      IdleAnimation = NIHCKR_SKL.NIHCKR_IDA
      IdleAnimation = NIHCKR_SKL.NIHCKR_IDB
      AnimationMode = ONCE
      WeaponFireFXBone = PRIMARY Bone_SatCom
      TransitionKey = TRANS_Stand
    End
    AliasConditionState = REALLYDAMAGED

    ConditionState = MOVING
      Animation = NIHCKR_SKL.NIHCKR_RNA 14
      AnimationMode = LOOP
      Flags = RANDOMSTART
      TransitionKey = None
      ParticleSysBone   = None InfantryDustTrails
    End
    AliasConditionState = MOVING UNPACKING
    AliasConditionState = MOVING UNPACKING REALLYDAMAGED

    ConditionState = UNPACKING
      Animation = NIHCKR_SKL.NIHCKR_ATB1
      AnimationMode = ONCE
    End
    AliasConditionState = UNPACKING FIRING_A
    AliasConditionState = UNPACKING REALLYDAMAGED
    AliasConditionState = UNPACKING FIRING_A REALLYDAMAGED

    ;HACKING ATTACK
    ConditionState = FIRING_A
      Animation = NIHCKR_SKL.NIHCKR_ATB2
      AnimationMode = LOOP
      TransitionKey = TRANS_FiringA
    End
    AliasConditionState = FIRING_A REALLYDAMAGED

    ConditionState = PACKING
      Animation = NIHCKR_SKL.NIHCKR_ATB3
      AnimationMode = ONCE
    End
    AliasConditionState = PACKING FIRING_A
    AliasConditionState = PACKING REALLYDAMAGED
    AliasConditionState = PACKING FIRING_A REALLYDAMAGED

    TransitionState = TRANS_FiringA TRANS_Stand ; I was stopped by a stop command, so I get no proper PACKING state
      Animation = NIHCKR_SKL.NIHCKR_ATB3
      AnimationMode = ONCE
    End

    ConditionState = FREEFALL
      Animation = NIHCKR_SKL.NIHCKR_PFL
      AnimationMode = LOOP
      TransitionKey = TRANS_Falling
    End
    AliasConditionState = FREEFALL REALLYDAMAGED
    AliasConditionState = FREEFALL DYING

    ConditionState = PARACHUTING
      Animation = NIHCKR_SKL.NIHCKR_PHG
      AnimationMode = LOOP
      Flags = PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
      TransitionKey = TRANS_Chute
    End
    AliasConditionState = PARACHUTING REALLYDAMAGED
    AliasConditionState = PARACHUTING DYING

    ConditionState = DYING
      Animation = NIHCKR_SKL.NIHCKR_DTA
      Animation = NIHCKR_SKL.NIHCKR_DTB
      AnimationMode = ONCE
      TransitionKey = TRANS_Dying
    End

    TransitionState = TRANS_Dying TRANS_Flailing
      Animation = NIHCKR_SKL.NIHCKR_ADTG1
      AnimationMode = ONCE
    End

    ConditionState = DYING EXPLODED_FLAILING
      Animation = NIHCKR_SKL.NIHCKR_ADTG2
      AnimationMode = LOOP
      TransitionKey = TRANS_Flailing
    End

    ConditionState = DYING EXPLODED_BOUNCING
      Animation = NIHCKR_SKL.NIHCKR_ADTG3
      AnimationMode = ONCE
      TransitionKey = None
    End

    ConditionState = SPECIAL_CHEERING
      Animation = NIHCKR_SKL.NIHCKR_CHA
      AnimationMode = LOOP
    End

    TransitionState = TRANS_Falling TRANS_Chute
      Animation = NIHCKR_SKL.NIHCKR_POP
      AnimationMode = ONCE
      Flags = PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
    End

    TransitionState = TRANS_Chute TRANS_Stand
      Animation = NIHCKR_SKL.NIHCKR_PTD
      AnimationMode = ONCE
    End
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Hacker
  Side = Boss
  EditorSorting = INFANTRY
  TransportSlotCount = 1                 ;how many "slots" we take in a transport (0 == not transportable)

  ArmorSet
    Conditions      = None
    Armor           = HumanArmor
    DamageFX        = InfantryDamageFX
  End
  VisionRange = 150
  ShroudClearingRange = 300
  Prerequisites
    Object = Boss_Barracks
  End
  BuildCost = 150
  BuildTime = 10.0          ;in seconds    
  ExperienceValue = 50 100 150 400    ;Experience point value at each level
  ExperienceRequired = 0 100 300 500  ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrushableLevel         = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = ChinaInfantryHackerCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = HackerVoiceSelect
  VoiceMove = HackerVoiceMove
  VoiceAttack = NoSound
  VoiceGuard = HackerVoiceMove
  VoiceFear = HackerVoiceFear
  VoiceTaskComplete = HackerVoiceHackComplete
  UnitSpecificSounds
    VoiceGarrison = HackerVoiceGarrison
    VoiceCreate     = HackerVoiceCreate
    UnitPack        = HackerPack
    UnitUnpack      = HackerUnpack
    UnitCashPing    = HackerCashPing
    VoiceEnter = HackerVoiceMove
    VoiceEnterHostile = HackerVoiceMove
    VoiceGetHealed      = HackerVoiceMove
    VoiceHackInternet   = HackerVoiceModeInternet
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS INFANTRY SCORE IGNORES_SELECT_ALL MONEY_HACKER

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 100.0
    InitialHealth   = 100.0
  End

  Behavior = HackInternetAIUpdate ModuleTag_03
    UnpackTime          = 7300 ;animation time is 7300 (changing this will scale anim speed)
    PackTime            = 5133 ;animation time is 5133 (changing this will scale anim speed)
    CashUpdateDelay     = 2200
    CashUpdateDelayFast = 2000  ; Fast speed used inside a container (can only hack inside an Internet Center)
    RegularCashAmount   = 10
    VeteranCashAmount   = 20
    EliteCashAmount     = 30
    HeroicCashAmount    = 40
    XpPerCashUpdate     = 1
    PackUnpackVariationFactor = 0.5 ;Adds + or - 20% to pack and unpack time randomly.
  End
  Locomotor = SET_NORMAL BasicHumanLocomotor
 
  Behavior = SpecialAbility ModuleTag_04
    SpecialPowerTemplate = SpecialAbilityHackerDisableBuilding
    UpdateModuleStartsAttack = Yes
    InitiateSound         = HackerVoiceHack
  End

  Behavior = SpecialAbilityUpdate ModuleTag_05
    SpecialPowerTemplate = SpecialAbilityHackerDisableBuilding
    StartAbilityRange = 150.0
    UnpackTime      = 7300 ;animation time is 7300 (changing this will scale anim speed)
    PackTime        = 5133 ;animation time is 5133 (changing this will scale anim speed)
    PreparationTime = 3000

    ;PersistentPrepTime = 500 ; old setting
    PersistentPrepTime = 333 ; NOTE! This drives how often the disable effect gets triggered
                             ; This is also how often a new particle system effect is spawned
    EffectDuration = 2000
    SpecialObject = BinaryDataStream
    DisableFXParticleSystem = DisabledEffectBinaryShower0
    PackSound       = HackerPack
    UnpackSound     = HackerUnpack
    PrepSoundLoop   = HackerPrepLoop
    AwardXPForTriggering  = 0    ;Careful, this is persistant so it's a DoT xp gain!
    ;SkillPointsForTriggering = ???  -- Dustin, fill me out if you want different balance values.
  End

  Behavior = PhysicsBehavior ModuleTag_06
    Mass = 5.0
  End

  Behavior = SquishCollide ModuleTag_08
    ;nothing
  End

; --- begin Death modules ---
  Behavior = SlowDeathBehavior ModuleTag_Death01
    DeathTypes          = ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA
    SinkDelay           = 6000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_HackerDie
  End
  Behavior = SlowDeathBehavior ModuleTag_Death02
    DeathTypes          = NONE +CRUSHED +SPLATTED
    SinkDelay           = 6000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_GIDieCrushed
  End
  Behavior = SlowDeathBehavior ModuleTag_Death03
    DeathTypes          = NONE +EXPLODED
    SinkDelay           = 6000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_HackerDie
    FlingForce          = 8
    FlingForceVariance  = 3
    FlingPitch          = 60
    FlingPitchVariance  = 10
  End
  Behavior = SlowDeathBehavior ModuleTag_Death04
    DeathTypes          = NONE +BURNED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByFireChina
    OCL                 = INITIAL OCL_FlamingInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death05
    DeathTypes          = NONE +POISONED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinChina
    OCL                 = INITIAL OCL_ToxicInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
    DeathTypes          = NONE +POISONED_BETA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinChina
    OCL                 = INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
  End

  Behavior = SlowDeathBehavior ModuleTag_Death07
    DeathTypes          = NONE +POISONED_GAMMA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinChina
    OCL                 = INITIAL OCL_ToxicInfantryGamma
  End
; --- end Death modules ---

  Behavior = PoisonedBehavior ModuleTag_11
    PoisonDamageInterval = 100  ; Every this many msec I will retake the poison damage dealt me...
    PoisonDuration = 3000       ; ... for this long after last hit by poison damage
  End
 
  Geometry = CYLINDER
  GeometryMajorRadius = 10.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 12.0
  GeometryIsSmall = Yes
  Scale = 0.9
  Shadow = SHADOW_DECAL
  ShadowSizeX = 14;
  ShadowSizeY = 14;
  ShadowTexture = ShadowI;
  BuildCompletion = APPEARS_AT_RALLY_POINT
End

;======================================================================================

;------------------------------------------------------------------------------
Object Boss_UkraineJetF16

  ; *** ART Parameters ***
  SelectPortrait         = SARazor_L
  ButtonImage            = SARazor

  UpgradeCameo1 = Upgrade_AmericaLaserMissiles
  UpgradeCameo2 = Upgrade_AmericaAdvancedTraining
  UpgradeCameo3 = Upgrade_AmericaCountermeasures
  
  Draw = W3DOverlordAircraftDraw ModuleTag_01

    OkToChangeModelColor = Yes
    ParticlesAttachedToAnimatedBones = Yes
    ProjectileBoneFeedbackEnabledSlots = PRIMARY
    DefaultConditionState
      Model = CWCusF16
      WeaponLaunchBone = PRIMARY MISSILE
      HideSubObject = ENGINE_AB
      ShowSubObject = ENGINE_N
    End
    ConditionState = JETEXHAUST
      Model = CWCusF16
      ParticleSysBone = Wingtip01 CWCgenJetContrail
      ParticleSysBone = Wingtip02 CWCgenJetContrail
      HideSubObject = ENGINE_AB
      ShowSubObject = ENGINE_N
    End
    ConditionState = REALLYDAMAGED JETEXHAUST
      Model = CWCusF16_d
      ParticleSysBone = Wingtip01 CWCgenJetContrail
      ParticleSysBone = Wingtip02 CWCgenJetContrail
      HideSubObject = ENGINE_AB
      ShowSubObject = ENGINE_N
    End
    ConditionState = JETAFTERBURNER
      Model = CWCusF16
      ParticleSysBone = Engine01 CWCgenJetAfterburner
      ParticleSysBone = Engine01 CWCgenJetAfterburnerHeat
      HideSubObject = ENGINE_N
      ShowSubObject = ENGINE_AB
    End
    AliasConditionState = JETAFTERBURNER JETEXHAUST
    ConditionState = REALLYDAMAGED JETAFTERBURNER
      Model = CWCusF16_d
      ParticleSysBone = Engine01 CWCgenJetAfterburner
      ParticleSysBone = Engine01 CWCgenJetAfterburnerHeat
      HideSubObject = ENGINE_N
      ShowSubObject = ENGINE_AB
    End
    AliasConditionState = JETAFTERBURNER JETEXHAUST REALLYDAMAGED
    ConditionState = REALLYDAMAGED
      Model = CWCusF16_d
      HideSubObject = ENGINE_AB
      ShowSubObject = ENGINE_N
    End
    ConditionState = RUBBLE
      Model = CWCusF16_d
      HideSubObject = ENGINE_AB
      ShowSubObject = ENGINE_N
    End
    ConditionState = RUBBLE JETEXHAUST JETAFTERBURNER
      Model = CWCusF16_d
      HideSubObject = ENGINE_AB
      ShowSubObject = ENGINE_N
    End
  End
  
  Draw = W3DTruckDraw ModuleTag_GearDraw
    OkToChangeModelColor = Yes
    ParticlesAttachedToAnimatedBones = Yes
    AttachToBoneInAnotherModule = ROOT
    DefaultConditionState
      Model = CWCusF16_r
      Animation = CWCusF16_r.CWCusF16_r
      AnimationMode = ONCE_BACKWARDS
      Flags = START_FRAME_FIRST MAINTAIN_FRAME_ACROSS_STATES
      HideSubObject = HLIGHT01
    End
    AliasConditionState = REALLYDAMAGED
    ConditionState = JETEXHAUST
      Model = CWCusF16_r
      Animation = CWCusF16_r.CWCusF16_r
      AnimationMode = ONCE
      Flags = MAINTAIN_FRAME_ACROSS_STATES
      HideSubObject = HLIGHT01
    End
    AliasConditionState = REALLYDAMAGED JETEXHAUST
    AliasConditionState = JETAFTERBURNER
    AliasConditionState = JETAFTERBURNER JETEXHAUST
    AliasConditionState = REALLYDAMAGED JETAFTERBURNER
    AliasConditionState = REALLYDAMAGED JETAFTERBURNER JETEXHAUST
    AliasConditionState = RUBBLE
    AliasConditionState = RUBBLE JETAFTERBURNER
    AliasConditionState = RUBBLE JETEXHAUST
    AliasConditionState = RUBBLE JETAFTERBURNER JETEXHAUST
    ConditionState = NIGHT
      Model = CWCusF16_r
      Animation = CWCusF16_r.CWCusF16_r
      AnimationMode = ONCE_BACKWARDS
      Flags = START_FRAME_FIRST MAINTAIN_FRAME_ACROSS_STATES
      ShowSubObject = HLIGHT01
    End
    AliasConditionState = NIGHT REALLYDAMAGED
    ConditionState = NIGHT JETEXHAUST
      Model = CWCusF16_r
      Animation = CWCusF16_r.CWCusF16_r
      AnimationMode = ONCE
      Flags = MAINTAIN_FRAME_ACROSS_STATES
      HideSubObject = HLIGHT01
    End
    AliasConditionState = NIGHT REALLYDAMAGED JETEXHAUST
    AliasConditionState = NIGHT JETAFTERBURNER
    AliasConditionState = NIGHT JETAFTERBURNER JETEXHAUST
    AliasConditionState = NIGHT REALLYDAMAGED JETAFTERBURNER
    AliasConditionState = NIGHT REALLYDAMAGED JETAFTERBURNER JETEXHAUST
    AliasConditionState = NIGHT RUBBLE
    AliasConditionState = NIGHT RUBBLE JETAFTERBURNER
    AliasConditionState = NIGHT RUBBLE JETEXHAUST
    AliasConditionState = NIGHT RUBBLE JETAFTERBURNER JETEXHAUST

    RightFrontTireBone = TIRE01
    LeftFrontTireBone = TIRE02
    MidRightFrontTireBone = TIRE03
    TireRotationMultiplier = 0.4 ; this * speed = rotation.

  End

  ; ***DESIGN parameters ***
  DisplayName             = OBJECT:F16
  EditorSorting           = VEHICLE
  Side                    = Boss
  TransportSlotCount      = 0 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange             = 350.0
  ShroudClearingRange     = 350.0
  Prerequisites
    Object = Boss_UkraineAirfield
	Object = Boss_UkraineInternationalHeadquaters
  End
  WeaponSet
    Conditions          = None
    Weapon              = PRIMARY     JSFMissileWeapon
    PreferredAgainst    = PRIMARY     INFANTRY VEHICLE STRUCTURE AIRCRAFT
  End
  WeaponSet
    Conditions          = PLAYER_UPGRADE
    Weapon              = PRIMARY JSFLaserGuidedMissileWeapon
    PreferredAgainst    = PRIMARY     INFANTRY VEHICLE STRUCTURE AIRCRAFT
  End
  ArmorSet
    Conditions            = None
    Armor                 = AirplaneArmor
    DamageFX              = None
  End
  ArmorSet
    Conditions            = PLAYER_UPGRADE
    Armor                 = CountermeasuresAirplaneArmor
    DamageFX              = None
  End
  BuildCost               = 60000
  BuildTime               = 35
  ExperienceValue         = 50 50 100 150  ;Experience point value at each level
  ExperienceRequired      = 0 100 200 400   ;Experience points needed to gain each level
  IsTrainable             = Yes             ;Can gain experience
  CrusherLevel           = 1  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet              = GenericJetCommandSet

 ; *** AUDIO Parameters ***
  VoiceSelect = CWCusF16VoiceSelect
  VoiceMove = CWCusF16VoiceMove
  VoiceAttack = CWCusF16VoiceAttack
  VoiceGuard = CWCusF16VoiceGuard
  SoundAmbient = CWCusLightFSeriesEngineLoop
  UnitSpecificSounds
    VoiceCreate = CWCusF16VoiceCreate
    VoiceGarrison = CWCusF16VoiceMove
    VoiceLowFuel = CWCusF16VoiceLowFuel
    VoiceEject = CWCusF16VoiceEject
    Afterburner = CWCgenJetAfterburner
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority          = UNIT
  KindOf                 = PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT
  Body                   = ActiveBody ModuleTag_02
    MaxHealth            = 800.0
    InitialHealth        = 800.0
  End
  Behavior = ExperienceScalarUpgrade ModuleTag_03
    TriggeredBy = Upgrade_AmericaAdvancedTraining
    AddXPScalar = 1.0 ;Increases experience gained by an additional 100%
  End
  Behavior                          = JetSlowDeathBehavior ModuleTag_04
    FXOnGroundDeath                 = FX_JetOnGroundDeath
    OCLOnGroundDeath                = OCL_RaptorDeathFinalBlowUp
    DestructionDelay                = 99999999; destruction will happen when we
    RollRate                        = 0.2
    RollRateDelta                   = 100% ;each frame, rollrate = rollrate * rollrateDelta
    PitchRate                       = 0.0
    FallHowFast                     = 110.0%  ;Bigger is faster (can be over 100%,it's a fraction of gravity)
    FXInitialDeath                  = FX_JetDeathInitial
    OCLInitialDeath                 = OCL_RaptorDeathInitial
    DelaySecondaryFromInitialDeath  = 500  ; in milliseconds
    FXSecondary                     = FX_JetDeathSecondary
    OCLSecondary                    = OCL_RaptorDeathSecondary
    FXHitGround                     = FX_JetDeathHitGround
    OCLHitGround                    = OCL_RaptorDeathHitGround
    DelayFinalBlowUpFromHitGround   = 200 ; in milliseconds
    FXFinalBlowUp                   = FX_JetDeathFinalBlowUp
    OCLFinalBlowUp                  = OCL_RaptorDeathFinalBlowUp
;   DeathLoopSound                  = MICAL NEEDS TO MAKE ME
  End
  Behavior = EjectPilotDie ModuleTag_05
    GroundCreationList = OCL_EjectPilotOnGround
    AirCreationList = OCL_EjectPilotViaParachute
    ExemptStatus = HIJACKED
    VeterancyLevels =  ALL -REGULAR ;only vet+ gives pilot
  End

  Behavior = PhysicsBehavior ModuleTag_06
    Mass = 500.0
  End

  Behavior = JetAIUpdate ModuleTag_07
    OutOfAmmoDamagePerSecond = 1%  ; amount of damage to take per SEC (not per frame) when out of ammo
                                    ; note that it's expressed as a percent of max health, not an absolute
    TakeoffDistForMaxLift     = 0%   ; larger numbers give more lift sooner when taking off
    TakeoffPause           = 500
    MinHeight              = 5
    ReturnToBaseIdleTime   = 10000         ; if idle for this long, return to base, even if not out of ammo
  End

  Behavior = WeaponSetUpgrade ModuleTag_08
    TriggeredBy = Upgrade_AmericaLaserMissiles
  End

  Behavior = ExperienceScalarUpgrade ModuleTag_09
    TriggeredBy = Upgrade_AmericaAdvancedTraining
    AddXPScalar = 1.0 ;Increases experience gained by an additional 100%
  End

  Behavior                = ArmorUpgrade ModuleTag_Armor01
    TriggeredBy           = Upgrade_AmericaCountermeasures
  End

  Behavior                = CountermeasuresBehavior ModuleTag_10011
    TriggeredBy           = Upgrade_AmericaCountermeasures
    FlareTemplateName     = CountermeasureFlare
    FlareBoneBaseName     = Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
    VolleySize            = 2     ; Number of flares launched per volley (requires bones)
    VolleyArcAngle        = 60.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
    VolleyVelocityFactor  = 2.0   ; Shoots out flares at a stronger velocity with a higher value.
    DelayBetweenVolleys   = 1000  ; Time between flare volleys
    NumberOfVolleys       = 3     ; Number of times the volleys will fire before reloading
    ReloadTime            = 0     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
    EvasionRate           = 30%   ; With active flares, the specified percentage will be diverted.
    ReactionLaunchLatency = 0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
    MissileDecoyDelay     = 200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
  End

  Locomotor = SET_NORMAL RaptorJetLocomotor
  Locomotor = SET_TAXIING BasicJetTaxiLocomotor

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior                 = TransitionDamageFX ModuleTag_22
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes Psys:SmokeSmallContinuous01
    ReallyDamagedFXList1         = Loc: X:0 Y:0 Z:0 FXList:FX_MIGDamageTransition
  End

  Geometry                 = Box
  GeometryIsSmall          = Yes
  GeometryMajorRadius      = 14.0
  GeometryMinorRadius      = 7.0
  GeometryHeight           = 5.0
  Shadow                   = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length.

End

;==========================================================================================================
Object Boss_RussiaCopterMi8

  ; *** ART Parameters ***
  SelectPortrait         = Huey_L
  ButtonImage            = Huey
  
    Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes
    ParticlesAttachedToAnimatedBones = Yes
    AnimationsRequirePower = No
    DefaultConditionState
      Model = CWCruMi8
      Animation = CWCruMi8.CWCruMi8
      AnimationMode = LOOP
      Turret = BODY
      WeaponLaunchBone = PRIMARY ROCKET
      WeaponFireFXBone = PRIMARY ROCKET
    End
    ConditionState = REALLYDAMAGED
      Model = CWCruMi8_d
      Animation = CWCruMi8_d.CWCruMi8_d
      AnimationMode = LOOP
    End
    ConditionState = RUBBLE
      Model = CWCruMi8_d
      Animation = CWCruMi8_d.CWCruMi8_d
      AnimationMode = LOOP
    End
    ConditionState = RUBBLE SPECIAL_DAMAGED
      Model = CWCruMi8_d
      Animation = CWCruMi8_d.CWCruMi8_d
      AnimationMode = LOOP
    End
    ;-----------------------------------------------------
    ;creating the over water effect
    ;-----------------------------------------------------
    ConditionState = OVER_WATER
      ParticleSysBone = OVER_WATER CWCgenHeloOverWater
      ParticleSysBone = OVER_WATER CWCgenHeloOverWaterDust
    End
    AliasConditionState = OVER_WATER REALLYDAMAGED
    AliasConditionState = OVER_WATER RUBBLE
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Mi8
  EditorSorting       = VEHICLE
  Side                = Boss
  TransportSlotCount  = 0                 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange         = 330.0 
  ShroudClearingRange = 330
  Prerequisites
    Object = Boss_Airfield
  End

  WeaponSet
    Conditions = None
    Weapon     = PRIMARY MI17RocketPodWeapon
  End

  ArmorSet
    Conditions      = None
    Armor           = CWCruMi8Armor
    DamageFX        = AAHitscanDamageFX
  End
  BuildCost           = 8000
  BuildTime           = 14              ; in seconds  
  ExperienceValue     = 100 100 175 300  ;Experience point value at each level
  ExperienceRequired  = 0 200 300 500   ;Experience points needed to gain each level
  IsTrainable         = Yes             ; Can gain experience
  CommandSet          = RussiaCopterMi8CommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = CWCruMi8VoiceSelect
  VoiceMove = CWCruMi8VoiceMove
  VoiceAttack = CWCruMi8VoiceAttack
  VoiceGuard = CWCruMi8VoiceGuard
  SoundAmbient = CWCruMi8EngineLoop
  SoundEnter = HumveeEnter
  SoundExit = HumveeExit
  UnitSpecificSounds
    VoiceCreate = CWCruMi8VoiceCreate
    VoiceUnload = CWCruMi8VoiceUnload
    VoiceGarrison = CWCruMi8VoiceMove
    VoiceEject = CWCruMi8VoiceEject
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority   = UNIT
  KindOf          = PRELOAD CAN_CAST_REFLECTIONS SELECTABLE TRANSPORT VEHICLE AIRCRAFT SCORE SALVAGER PRODUCED_AT_HELIPAD CAN_ATTACK

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 400.0
    InitialHealth   = 400.0
  End

  Behavior = FXListDie ModuleTag_03
    DeathFX = FX_HipDeath
  End

  Behavior = ChinookAIUpdate ModuleTag_04
     AutoAcquireEnemiesWhenIdle = Yes 
     RotorWashParticleSystem = HelixRotorWashRing
  End

  Locomotor = SET_NORMAL    Mi8Locomotor
  Locomotor = SET_TAXIING   BasicHelicopterTaxiLocomotor

  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 50.0
  End
  Behavior = TransportContain ModuleTag_06
    Slots                = 24
    DamagePercentToUnits = 100%
    ;InitialPayload       = Boss_RussiaInfantryVDVParaTrooper 24
    AllowInsideKindOf    = INFANTRY
    ForbidInsideKindOf   = AIRCRAFT HUGE_VEHICLE VEHICLE DOZER
    ExitDelay            = 100
    NumberOfExitPaths    = 1
    PassengersAllowedToFire = No
  End
;Upgrades----------------------------------------------------------
  ;Behavior                = CountermeasuresBehavior ModuleTag_06
  ;  TriggeredBy           = Upgrade_AmericaCountermeasures
  ;  FlareTemplateName     = CountermeasureFlare
  ;  FlareBoneBaseName     = Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
  ;  VolleySize            = 2     ; Number of flares launched per volley (requires bones)
  ;  VolleyArcAngle        = 60.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
  ;  VolleyVelocityFactor  = 2.0   ; Shoots out flares at a stronger velocity with a higher value.
  ;  DelayBetweenVolleys   = 1000  ; Time between flare volleys
  ;  NumberOfVolleys       = 3     ; Number of times the volleys will fire before reloading
  ;  ReloadTime            = 4000  ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
  ;  EvasionRate           = 30%   ; With active flares, the specified percentage will be diverted.
  ;  ReactionLaunchLatency = 0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
  ;  MissileDecoyDelay     = 200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
  ;End

;Deaths-------------------------------------------------------------
  Behavior = HelicopterSlowDeathBehavior DeathTag_01
    ProbabilityModifier = 50
    DeathTypes                      = ALL
    DestructionDelay                = 20000        ; the destruction delay
    SpiralOrbitTurnRate             = 80.0           ; in degrees per second, bigger # = tighter spiral
    SpiralOrbitForwardSpeed         = 110.0           ; bigger # = larger spiral
    SpiralOrbitForwardSpeedDamping  = .9999           ; smaller #'s = slow down faster
    MaxBraking                      = 210   ; max braking we can use during death spiral (lower num = wilder spiral)    
    SoundDeathLoop                  = HelixDamagedLoop
    MinSelfSpin                     = 40                     ; in degrees per second
    MaxSelfSpin                     = 120                     ; in degrees per second
    SelfSpinUpdateDelay             = 300                     ; in milliseconds
    SelfSpinUpdateAmount            = 5                      ; in degrees   
    FallHowFast                     = 8.0%                   ; fraction of gravity, lower = take longer to fall
    MinBladeFlyOffDelay             = 1000                    ; in milliseconds
    MaxBladeFlyOffDelay             = 1000                    ; in milliseconds
    AttachParticle                  = HeliFallSmoke
    AttachParticleBone              = Propeller02
    FXHitGround                     = FX_HelicopterHitGround
    FXBlade                         = FX_HelicopterBladeExplosion
    OCLHitGround                    = OCL_UniversalHelicopterWatercheck
    DelayFromGroundToFinalDeath     = 30
    FinalRubbleObject               = CWCruMi8_k ;Mi17DeadHull
    OCLFinalBlowUp = OCL_HelicopterHitGround
  End
  Behavior = SlowDeathBehavior DeathTag_02
    ProbabilityModifier = 50
    DeathTypes = ALL
    FX = INITIAL FX_HelicopterBladeExplosion
    OCL = INITIAL OCL_Mi17SlowBD
  End
;Stealth-------------------------------------------------------------
  Behavior = StealthUpdate ModuleStealth_01
    StealthDelay                = 2500 ; msec
    StealthForbiddenConditions  = ATTACKING USING_ABILITY
    MoveThresholdSpeed          = 3
    InnateStealth               = No ;Requires upgrade first
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
  End
;---------------------------------------------------------------------

  Behavior = TransitionDamageFX ModuleTag_07
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuousDown
    ReallyDamagedFXList1         = Loc: X:0 Y:0 Z:0 FXList:FX_ComancheDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_08
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = ProductionUpdate ModuleTag_10
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End
  
  Geometry = CYLINDER
  GeometryMajorRadius = 35.0
  GeometryHeight = 30.0
  GeometryIsSmall = No
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45 ; minimum elevation angle above horizon. Used to limit shadow length
  Scale = 1.04
End

;---------------------------------------------------------------------
Object Mi17SlowBDObject
  ; *** ART Parameters ***
  Draw = W3DModelDraw ModuleTag_01
    DefaultConditionState
      Model = CWCruMi8_d ;GLAMI-17_d
      Animation = CWCruMi8_d.CWCruMi8_d ;GLAMI-17_d.GLAMI-17_d
      AnimationMode = LOOP
      ;ParticleSysBone = Propeller01 HeliFallSmoke
      ;ParticleSysBone     = Propeller02 JetFireLarge
    End
  End
  KindOf = CAN_CAST_REFLECTIONS NO_COLLIDE HULK IGNORED_IN_GUI UNATTACKABLE
  Behavior = PhysicsBehavior ModuleTag_02
    Mass                    = 25
    ZFriction                = 1
    LateralFriction = 1
    AerodynamicFriction = 1
    ShockResistance = 1
  End
  Behavior = SlowDeathBehavior DeathTag_01
    DeathTypes     = ALL
    OCL = FINAL   OCL_Mi17WatercheckObject
    OCL = INITIAL OCL_HelicopterHitGround
  End

  Behavior = HeightDieUpdate DeathTag_02
    TargetHeight = 1
    TargetHeightIncludesStructures = Yes
    InitialDelay                    = 1 ; Can't explode in the first second so we don't explode on the pad
  End
  Behavior = FireWeaponUpdate ModuleTag_04
      Weapon               = HeliLoseControlWeapon
      InitialDelay         = 1000
  End
  ; Geometry                 = Box
  ; GeometryIsSmall          = Yes
  ; GeometryMajorRadius      = 1.0
  ; GeometryMinorRadius      = 1.0
  ; GeometryHeight           = 1.0
  ; Shadow                   = SHADOW_VOLUME
  ; ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length.
  
  Geometry = CYLINDER
  GeometryMajorRadius = 1.0
  GeometryMinorRadius = 1.0
  GeometryHeight = 1.0
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45 ; minimum elevation angle above horizon. Used to limit shadow length
  ;Scale = 1.05
End


;----------------------------------------------------------------------------------------------------------

Object Boss_UkraineCopterMi8

  ; *** ART Parameters ***
  SelectPortrait         = Huey_L
  ButtonImage            = Huey
  
    Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes
    ParticlesAttachedToAnimatedBones = Yes
    AnimationsRequirePower = No
    DefaultConditionState
      Model = CWCruMi8
      Animation = CWCruMi8.CWCruMi8
      AnimationMode = LOOP
      Turret = BODY
      WeaponLaunchBone = PRIMARY ROCKET
      WeaponFireFXBone = PRIMARY ROCKET
    End
    ConditionState = REALLYDAMAGED
      Model = CWCruMi8_d
      Animation = CWCruMi8_d.CWCruMi8_d
      AnimationMode = LOOP
    End
    ConditionState = RUBBLE
      Model = CWCruMi8_d
      Animation = CWCruMi8_d.CWCruMi8_d
      AnimationMode = LOOP
    End
    ConditionState = RUBBLE SPECIAL_DAMAGED
      Model = CWCruMi8_d
      Animation = CWCruMi8_d.CWCruMi8_d
      AnimationMode = LOOP
    End
    ;-----------------------------------------------------
    ;creating the over water effect
    ;-----------------------------------------------------
    ConditionState = OVER_WATER
      ParticleSysBone = OVER_WATER CWCgenHeloOverWater
      ParticleSysBone = OVER_WATER CWCgenHeloOverWaterDust
    End
    AliasConditionState = OVER_WATER REALLYDAMAGED
    AliasConditionState = OVER_WATER RUBBLE
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Mi8
  EditorSorting       = VEHICLE
  Side                = Boss
  TransportSlotCount  = 0                 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange         = 330.0 
  ShroudClearingRange = 330
  Prerequisites
    Object = Boss_UkraineAirfield
  End

  WeaponSet
    Conditions = None
    Weapon     = PRIMARY MI17RocketPodWeapon
  End

  ArmorSet
    Conditions      = None
    Armor           = CWCruMi8Armor
    DamageFX        = AAHitscanDamageFX
  End
  BuildCost           = 8000
  BuildTime           = 16              ; in seconds  
  ExperienceValue     = 100 100 175 300  ;Experience point value at each level
  ExperienceRequired  = 0 200 300 500   ;Experience points needed to gain each level
  IsTrainable         = Yes             ; Can gain experience
  CommandSet          = RussiaCopterMi8CommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = CWCruMi8VoiceSelect
  VoiceMove = CWCruMi8VoiceMove
  VoiceAttack = CWCruMi8VoiceAttack
  VoiceGuard = CWCruMi8VoiceGuard
  SoundAmbient = CWCruMi8EngineLoop
  SoundEnter = HumveeEnter
  SoundExit = HumveeExit
  UnitSpecificSounds
    VoiceCreate = CWCruMi8VoiceCreate
    VoiceUnload = CWCruMi8VoiceUnload
    VoiceGarrison = CWCruMi8VoiceMove
    VoiceEject = CWCruMi8VoiceEject
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority   = UNIT
  KindOf          = PRELOAD CAN_CAST_REFLECTIONS SELECTABLE TRANSPORT VEHICLE AIRCRAFT SCORE SALVAGER PRODUCED_AT_HELIPAD CAN_ATTACK

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 400.0
    InitialHealth   = 400.0
  End

  Behavior = FXListDie ModuleTag_03
    DeathFX = FX_HipDeath
  End

  Behavior = ChinookAIUpdate ModuleTag_04
     AutoAcquireEnemiesWhenIdle = Yes 
     RotorWashParticleSystem = HelixRotorWashRing
  End

  Locomotor = SET_NORMAL    Mi8Locomotor
  Locomotor = SET_TAXIING   BasicHelicopterTaxiLocomotor

  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 50.0
  End
  Behavior = TransportContain ModuleTag_06
    Slots                = 24
    DamagePercentToUnits = 100%
    ;InitialPayload       = Boss_RussiaInfantryVDVParaTrooper 24
    AllowInsideKindOf    = INFANTRY
    ForbidInsideKindOf   = AIRCRAFT HUGE_VEHICLE VEHICLE DOZER
    ExitDelay            = 100
    NumberOfExitPaths    = 1
    PassengersAllowedToFire = No
  End
;Upgrades----------------------------------------------------------
  ;Behavior                = CountermeasuresBehavior ModuleTag_06
  ;  TriggeredBy           = Upgrade_AmericaCountermeasures
  ;  FlareTemplateName     = CountermeasureFlare
  ;  FlareBoneBaseName     = Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
  ;  VolleySize            = 2     ; Number of flares launched per volley (requires bones)
  ;  VolleyArcAngle        = 60.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
  ;  VolleyVelocityFactor  = 2.0   ; Shoots out flares at a stronger velocity with a higher value.
  ;  DelayBetweenVolleys   = 1000  ; Time between flare volleys
  ;  NumberOfVolleys       = 3     ; Number of times the volleys will fire before reloading
  ;  ReloadTime            = 4000  ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
  ;  EvasionRate           = 30%   ; With active flares, the specified percentage will be diverted.
  ;  ReactionLaunchLatency = 0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
  ;  MissileDecoyDelay     = 200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
  ;End

;Deaths-------------------------------------------------------------
  Behavior = HelicopterSlowDeathBehavior DeathTag_01
    ProbabilityModifier = 50
    DeathTypes                      = ALL
    DestructionDelay                = 20000        ; the destruction delay
    SpiralOrbitTurnRate             = 80.0           ; in degrees per second, bigger # = tighter spiral
    SpiralOrbitForwardSpeed         = 110.0           ; bigger # = larger spiral
    SpiralOrbitForwardSpeedDamping  = .9999           ; smaller #'s = slow down faster
    MaxBraking                      = 210   ; max braking we can use during death spiral (lower num = wilder spiral)    
    SoundDeathLoop                  = HelixDamagedLoop
    MinSelfSpin                     = 40                     ; in degrees per second
    MaxSelfSpin                     = 120                     ; in degrees per second
    SelfSpinUpdateDelay             = 300                     ; in milliseconds
    SelfSpinUpdateAmount            = 5                      ; in degrees   
    FallHowFast                     = 8.0%                   ; fraction of gravity, lower = take longer to fall
    MinBladeFlyOffDelay             = 1000                    ; in milliseconds
    MaxBladeFlyOffDelay             = 1000                    ; in milliseconds
    AttachParticle                  = HeliFallSmoke
    AttachParticleBone              = Propeller02
    FXHitGround                     = FX_HelicopterHitGround
    FXBlade                         = FX_HelicopterBladeExplosion
    OCLHitGround                    = OCL_UniversalHelicopterWatercheck
    DelayFromGroundToFinalDeath     = 30
    FinalRubbleObject               = CWCruMi8_k ;Mi17DeadHull
    OCLFinalBlowUp = OCL_HelicopterHitGround
  End
  Behavior = SlowDeathBehavior DeathTag_02
    ProbabilityModifier = 50
    DeathTypes = ALL
    FX = INITIAL FX_HelicopterBladeExplosion
    OCL = INITIAL OCL_Mi17SlowBD
  End
;Stealth-------------------------------------------------------------
  Behavior = StealthUpdate ModuleStealth_01
    StealthDelay                = 2500 ; msec
    StealthForbiddenConditions  = ATTACKING USING_ABILITY
    MoveThresholdSpeed          = 3
    InnateStealth               = No ;Requires upgrade first
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
  End
;---------------------------------------------------------------------

  Behavior = TransitionDamageFX ModuleTag_07
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuousDown
    ReallyDamagedFXList1         = Loc: X:0 Y:0 Z:0 FXList:FX_ComancheDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_08
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = ProductionUpdate ModuleTag_10
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End
  
  Geometry = CYLINDER
  GeometryMajorRadius = 35.0
  GeometryHeight = 30.0
  GeometryIsSmall = No
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45 ; minimum elevation angle above horizon. Used to limit shadow length
  Scale = 1.04
End

;----------------------------------------------------------------------------------------------------------
; Object Boss_RussiaExportCopterMi24

  ; ; *** ART Parameters ***
  ; SelectPortrait = Rapier
  ; ButtonImage = Rapier

    ; Draw = W3DModelDraw ModuleTag_01
    ; OkToChangeModelColor = Yes
    ; ParticlesAttachedToAnimatedBones = Yes
    ; AnimationsRequirePower = No
    ; DefaultConditionState
      ; Model = CWCruMi24
      ; Animation = CWCruMi24.CWCruMi24
      ; AnimationMode = LOOP
      ; Turret = CHASSIS
      ; WeaponLaunchBone = PRIMARY WEAPONB
      ; WeaponFireFXBone = PRIMARY WEAPONB
      ; WeaponLaunchBone = SECONDARY ROCKET
      ; WeaponFireFXBone = SECONDARY ROCKET
      ; WeaponLaunchBone = TERTIARY MUZZLE
      ; WeaponFireFXBone = TERTIARY MUZZLE
    ; End
    ; ConditionState = REALLYDAMAGED
      ; Model = CWCruMi24_d
      ; Animation = CWCruMi24_d.CWCruMi24_d
      ; AnimationMode = LOOP
    ; End
    ; ConditionState = RUBBLE
      ; Model = CWCruMi24_d
      ; Animation = CWCruMi24_d.CWCruMi24_d
      ; AnimationMode = LOOP
    ; End
    ; ConditionState = RUBBLE SPECIAL_DAMAGED
      ; Model = CWCruMi24_d
      ; Animation = CWCruMi24_d.CWCruMi24_d
      ; AnimationMode = LOOP
    ; End
    ; ;-----------------------------------------------------
    ; ;creating the over water effect
    ; ;-----------------------------------------------------
    ; ConditionState = OVER_WATER
      ; ParticleSysBone = OVER_WATER CWCgenHeloOverWater
      ; ParticleSysBone = OVER_WATER CWCgenHeloOverWaterDust
    ; End
    ; AliasConditionState = OVER_WATER REALLYDAMAGED
    ; AliasConditionState = OVER_WATER RUBBLE
  ; End

  ; ; ***DESIGN parameters ***
  ; DisplayName = OBJECT:Mi24
  ; EditorSorting = VEHICLE
  ; Side = Boss
  ; TransportSlotCount = 0 ;how many "slots" we take in a transport (0 == not transportable)
  ; VisionRange = 420.0
  ; ShroudClearingRange = 400.0

  ; BuildCost = 12000
  ; BuildTime = 20.0 ; in seconds

  ; Prerequisites
    ; Object = Boss_Airfield
  ; End

  ; ;CWCExpMarker: Mi-24
  ; ExperienceValue = 1500 2250 3000 4500 ;Experience point value at each level
  ; ExperienceRequired = 0 2735 5469 9571 ;Experience points needed to gain each level
  ; IsTrainable = Yes

  ; CommandSet = Boss_Mi24CommandSet

  ; ArmorSet
    ; Conditions = None
    ; Armor = CWCruMi24Armor
    ; DamageFX = None
  ; End

  ; WeaponSet
    ; Conditions          = None 
    ; Weapon              = PRIMARY     Mi24MinigunWeapon
    ; PreferredAgainst    = PRIMARY     INFANTRY
    ; AutoChooseSources   = PRIMARY     FROM_PLAYER FROM_AI FROM_SCRIPT 
    ; Weapon              = SECONDARY   Mi24RocketWeapon
  ; End

  ; ; *** AUDIO Parameters ***
  ; VoiceSelect = CWCruMi24VoiceSelect
  ; VoiceMove = CWCruMi24VoiceMove
  ; VoiceAttack = CWCruMi24VoiceAttack
  ; VoiceGuard = CWCruMi24VoiceGuard
  ; SoundAmbient = CWCruMi24EngineLoop
  ; SoundEnter = HumveeEnter
  ; SoundExit = HumveeExit
  ; UnitSpecificSounds
    ; VoiceCreate = CWCruMi24VoiceCreate
    ; VoiceUnload = CWCruMi24VoiceUnload
    ; VoiceGarrison = CWCruMi24VoiceMove
    ; VoiceEject = CWCruMi24VoiceEject
  ; End

  ; ; *** ENGINEERING Parameters ***
  ; RadarPriority = UNIT
  ; KindOf = AIRCRAFT ATTACK_NEEDS_LINE_OF_SIGHT CAN_ATTACK CAN_CAST_REFLECTIONS PRELOAD PRODUCED_AT_HELIPAD SCORE SELECTABLE TRANSPORT VEHICLE

  ; Body = ActiveBody ModuleTag_03
    ; MaxHealth = 400.0
    ; InitialHealth = 400.0
  ; End

  ; Behavior = ChinookAIUpdate ModuleTag_07
    ; Turret ;makes the Hind strafe around targets
      ; TurretTurnRate = 90
      ; TurretPitchRate = 0
      ; ;RecenterTime = 1
      ; AllowsPitch = No
      ; ControlledWeaponSlots = PRIMARY SECONDARY TERTIARY
    ; End
     ; AutoAcquireEnemiesWhenIdle = Yes
     ; RotorWashParticleSystem = CWCgenHeloOverGround
  ; End
  ; Locomotor = SET_NORMAL CWCruMi24Locomotor
  ; Locomotor = SET_TAXIING BasicHelicopterTaxiLocomotor

  ; Behavior = PhysicsBehavior ModuleTag_09
    ; Mass = 50.0
    ; MinFallHeightForDamage = 125.0
  ; End

  ; Behavior = TransportContain ModuleTag_04
    ; Slots = 8
    ; DamagePercentToUnits = 100%
    ; AllowInsideKindOf = INFANTRY
    ; GoAggressiveOnExit = Yes
    ; ScatterNearbyOnExit = No ; I have bones for exiting
    ; NumberOfExitPaths = 2
    ; PassengersAllowedToFire = No
    ; DestroyRidersWhoAreNotFreeToExit = Yes
  ; End

; ; --- begin Death modules ---
  ; Behavior = TransitionDamageFX ModuleTag_Death01
    ; DamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenHelicopterDeathSmokeDamaged
    ; DamagedFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenHelicopterDamageTransition
    ; ;
    ; ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenHelicopterDeathSmokeReallyDamaged
    ; ReallyDamagedFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenHelicopterDamageTransition
    ; ;
    ; RubbleParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenHelicopterDeathSmokeRubble
    ; RubbleFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenHelicopterDamageTransition
  ; End
  ; Behavior = HelicopterSlowDeathBehavior ModuleTag_Death02
    ; DestructionDelay = 99999 ; the destruction delay
    ; SpiralOrbitTurnRate = 90.0 ; in degrees per second, bigger # = tighter spiral
    ; SpiralOrbitForwardSpeed = 200.0 ; bigger # = larger spiral
    ; SpiralOrbitForwardSpeedDamping = .9999 ; smaller #'s = slow down faster
    ; MaxBraking = 100 ; max braking we can use during death spiral (lower num = wilder spiral)
    ; SoundDeathLoop = CWCgenHelicopterCrashing
    ; MinSelfSpin = 40 ; in degrees per second
    ; MaxSelfSpin = 120 ; in degrees per second
    ; SelfSpinUpdateDelay = 300 ; in milliseconds
    ; SelfSpinUpdateAmount = 5 ; in degrees
    ; FallHowFast = 20.0% ; fraction of gravity, lower = take longer to fall
    ; DelayFromGroundToFinalDeath = 1
    ; AttachParticle = CWCgenHelicopterDeathSmokeRubble
    ; FinalRubbleObject = CWCruMi24_k
  ; End
  ; Behavior = FXListDie ModuleTag_Death03
    ; DeathTypes = ALL
    ; ;DeathFX = FX_CWCgenHelicopterDeathInitial
  ; End
; ; --- end Death modules ---

  ; ; Behavior = ObjectCreationUpgrade ModuleTag_RadarDrone
    ; ; UpgradeObject = OCL_CWCgenRadarDrone
    ; ; TriggeredBy = Upgrade_CWCgenRadarDrone
  ; ; End

  ; ; Behavior = GrantUpgradeCreate ModuleTag_RadarDroneCreate
    ; ; UpgradeToGrant = Upgrade_CWCgenRadarDrone
  ; ; End

  ; Geometry = CYLINDER
  ; GeometryMajorRadius = 35.0
  ; GeometryHeight = 30.0
  ; GeometryIsSmall = No
  ; Shadow = SHADOW_VOLUME
  ; ShadowSizeX = 45 ; minimum elevation angle above horizon. Used to limit shadow length
  ; Scale = 1.05
; End

;----------------------------------------------------------------------------------------------------------
Object Boss_UkraineCopterMi24

  ; *** ART Parameters ***
  SelectPortrait = Rapier
  ButtonImage = Rapier

    Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes
    ParticlesAttachedToAnimatedBones = Yes
    AnimationsRequirePower = No
    DefaultConditionState
      Model = CWCruMi24
      Animation = CWCruMi24.CWCruMi24
      AnimationMode = LOOP
      Turret = CHASSIS
      WeaponLaunchBone = PRIMARY WEAPONB
      WeaponFireFXBone = PRIMARY WEAPONB
      WeaponLaunchBone = SECONDARY ROCKET
      WeaponFireFXBone = SECONDARY ROCKET
      WeaponLaunchBone = TERTIARY MUZZLE
      WeaponFireFXBone = TERTIARY MUZZLE
    End
    ConditionState = REALLYDAMAGED
      Model = CWCruMi24_d
      Animation = CWCruMi24_d.CWCruMi24_d
      AnimationMode = LOOP
    End
    ConditionState = RUBBLE
      Model = CWCruMi24_d
      Animation = CWCruMi24_d.CWCruMi24_d
      AnimationMode = LOOP
    End
    ConditionState = RUBBLE SPECIAL_DAMAGED
      Model = CWCruMi24_d
      Animation = CWCruMi24_d.CWCruMi24_d
      AnimationMode = LOOP
    End
    ;-----------------------------------------------------
    ;creating the over water effect
    ;-----------------------------------------------------
    ConditionState = OVER_WATER
      ParticleSysBone = OVER_WATER CWCgenHeloOverWater
      ParticleSysBone = OVER_WATER CWCgenHeloOverWaterDust
    End
    AliasConditionState = OVER_WATER REALLYDAMAGED
    AliasConditionState = OVER_WATER RUBBLE
  End

  ; ***DESIGN parameters ***
  DisplayName = OBJECT:Mi24
  EditorSorting = VEHICLE
  Side = Boss
  TransportSlotCount = 0 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange = 420.0
  ShroudClearingRange = 400.0

  BuildCost = 15000
  BuildTime = 25.0 ; in seconds

  Prerequisites
    Object = Boss_UkraineAirfield
  End

  ;CWCExpMarker: Mi-24
  ExperienceValue = 1500 2250 3000 4500 ;Experience point value at each level
  ExperienceRequired = 0 2735 5469 9571 ;Experience points needed to gain each level
  IsTrainable = Yes

  CommandSet = Boss_Mi24CommandSet

  ArmorSet
    Conditions = None
    Armor = CWCruMi24Armor
    DamageFX = None
  End

  WeaponSet
    Conditions          = None 
    Weapon              = PRIMARY     Mi24MinigunWeapon
    PreferredAgainst    = PRIMARY     INFANTRY
    AutoChooseSources   = PRIMARY     FROM_PLAYER FROM_AI FROM_SCRIPT 
    Weapon              = SECONDARY   Mi24RocketWeapon
  End

  ; *** AUDIO Parameters ***
  VoiceSelect = CWCruMi24VoiceSelect
  VoiceMove = CWCruMi24VoiceMove
  VoiceAttack = CWCruMi24VoiceAttack
  VoiceGuard = CWCruMi24VoiceGuard
  SoundAmbient = CWCruMi24EngineLoop
  SoundEnter = HumveeEnter
  SoundExit = HumveeExit
  UnitSpecificSounds
    VoiceCreate = CWCruMi24VoiceCreate
    VoiceUnload = CWCruMi24VoiceUnload
    VoiceGarrison = CWCruMi24VoiceMove
    VoiceEject = CWCruMi24VoiceEject
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = AIRCRAFT ATTACK_NEEDS_LINE_OF_SIGHT CAN_ATTACK CAN_CAST_REFLECTIONS PRELOAD PRODUCED_AT_HELIPAD SCORE SELECTABLE TRANSPORT VEHICLE

  Body = ActiveBody ModuleTag_03
    MaxHealth = 400.0
    InitialHealth = 400.0
  End

  Behavior = ChinookAIUpdate ModuleTag_07
    Turret ;makes the Hind strafe around targets
      TurretTurnRate = 90
      TurretPitchRate = 0
      ;RecenterTime = 1
      AllowsPitch = No
      ControlledWeaponSlots = PRIMARY SECONDARY TERTIARY
    End
     AutoAcquireEnemiesWhenIdle = Yes
     RotorWashParticleSystem = CWCgenHeloOverGround
  End
  Locomotor = SET_NORMAL CWCruMi24Locomotor
  Locomotor = SET_TAXIING BasicHelicopterTaxiLocomotor

  Behavior = PhysicsBehavior ModuleTag_09
    Mass = 50.0
    MinFallHeightForDamage = 125.0
  End

  Behavior = TransportContain ModuleTag_04
    Slots = 8
    DamagePercentToUnits = 100%
    AllowInsideKindOf = INFANTRY
    GoAggressiveOnExit = Yes
    ScatterNearbyOnExit = No ; I have bones for exiting
    NumberOfExitPaths = 2
    PassengersAllowedToFire = No
    DestroyRidersWhoAreNotFreeToExit = Yes
  End

; --- begin Death modules ---
  Behavior = TransitionDamageFX ModuleTag_Death01
    DamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenHelicopterDeathSmokeDamaged
    DamagedFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenHelicopterDamageTransition
    ;
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenHelicopterDeathSmokeReallyDamaged
    ReallyDamagedFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenHelicopterDamageTransition
    ;
    RubbleParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenHelicopterDeathSmokeRubble
    RubbleFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenHelicopterDamageTransition
  End
  Behavior = HelicopterSlowDeathBehavior ModuleTag_Death02
    DestructionDelay = 99999 ; the destruction delay
    SpiralOrbitTurnRate = 90.0 ; in degrees per second, bigger # = tighter spiral
    SpiralOrbitForwardSpeed = 200.0 ; bigger # = larger spiral
    SpiralOrbitForwardSpeedDamping = .9999 ; smaller #'s = slow down faster
    MaxBraking = 100 ; max braking we can use during death spiral (lower num = wilder spiral)
    SoundDeathLoop = CWCgenHelicopterCrashing
    MinSelfSpin = 40 ; in degrees per second
    MaxSelfSpin = 120 ; in degrees per second
    SelfSpinUpdateDelay = 300 ; in milliseconds
    SelfSpinUpdateAmount = 5 ; in degrees
    FallHowFast = 20.0% ; fraction of gravity, lower = take longer to fall
    DelayFromGroundToFinalDeath = 1
    AttachParticle = CWCgenHelicopterDeathSmokeRubble
    FinalRubbleObject = CWCruMi24_k
  End
  Behavior = FXListDie ModuleTag_Death03
    DeathTypes = ALL
    ;DeathFX = FX_CWCgenHelicopterDeathInitial
  End
; --- end Death modules ---

  ; Behavior = ObjectCreationUpgrade ModuleTag_RadarDrone
    ; UpgradeObject = OCL_CWCgenRadarDrone
    ; TriggeredBy = Upgrade_CWCgenRadarDrone
  ; End

  ; Behavior = GrantUpgradeCreate ModuleTag_RadarDroneCreate
    ; UpgradeToGrant = Upgrade_CWCgenRadarDrone
  ; End

  Geometry = CYLINDER
  GeometryMajorRadius = 35.0
  GeometryHeight = 30.0
  GeometryIsSmall = No
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45 ; minimum elevation angle above horizon. Used to limit shadow length
  Scale = 1.05
End

;============================================================================================
Object MI24SlowBDObject
  ; *** ART Parameters ***
  Draw                = W3DModelDraw ModuleTag_01
    DefaultConditionState
      Model = RU-MI24_D
      Animation = RU-MI24_D.RU-MI24_D
      AnimationMode = LOOP
      HideSubObject      = MI-35upgrade WEAPONC01 WEAPONC02 WEAPONC03 WEAPONC04 BARRELFX01
      ParticleSysBone = Propeller02 HeliFallSmoke
      ParticleSysBone     = Propeller01 JetFireLarge
    End
  End
  KindOf = CAN_CAST_REFLECTIONS NO_COLLIDE HULK IGNORED_IN_GUI UNATTACKABLE
  Behavior = PhysicsBehavior ModuleTag_02
    Mass                    = 25
    AllowCollideForce       = No
    ZFriction                = 1
    LateralFriction = 1
    AerodynamicFriction = 1
    ShockResistance = 1
  End
  Behavior = SlowDeathBehavior DeathTag_01
    DeathTypes     = ALL
    OCL                 = INITIAL   OCL_HelicopterHitGround
    OCL                 = FINAL   OCL_MI24WatercheckObject
  End
  Behavior = HeightDieUpdate DeathTag_02
    TargetHeight = 1
    TargetHeightIncludesStructures = Yes
    InitialDelay                    = 1 ; Can't explode in the first second so we don't explode on the pad
  End
  Behavior = FireWeaponUpdate DeathTag_04
      Weapon               = HeliLoseControlWeapon
      InitialDelay         = 0
  End
  Geometry                 = Box
  GeometryIsSmall          = Yes
  GeometryMajorRadius      = 1.0
  GeometryMinorRadius      = 1.0
  GeometryHeight           = 1.0
  Shadow                   = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length.
End

;-------------------------------------------------------------------------------------------
Object Boss_RussiaCopterMi24

  ; *** ART Parameters ***
  SelectPortrait         = Rapier
  ButtonImage            = Rapier
  Draw = W3DModelDraw ModuleTag_01
    DefaultConditionState
      Model = RU-MI24
      Animation = RU-MI24.RU-MI24
      AnimationMode = LOOP
      HideSubObject      = MI-35upgrade WEAPONC01 WEAPONC02 WEAPONC03 WEAPONC04
      WeaponFireFXBone = PRIMARY Muzzle
      WeaponMuzzleFlash   = PRIMARY BARRELFX
      WeaponLaunchBone = PRIMARY Muzzle
      WeaponFireFXBone = SECONDARY WEAPONB
      WeaponLaunchBone = SECONDARY WEAPONB
    End
    ConditionState = MOVING
      Model = RU-MI24
      Animation = RU-MI24.RU-MI24
      AnimationMode = LOOP
      HideSubObject      = MI-35upgrade WEAPONC01 WEAPONC02 WEAPONC03 WEAPONC04
    End

    ConditionState = REALLYDAMAGED
      Model = RU-MI24_D
      Animation = RU-MI24_D.RU-MI24_D
      AnimationMode = LOOP
      HideSubObject      = MI-35upgrade WEAPONC01 WEAPONC02 WEAPONC03 WEAPONC04
      WeaponFireFXBone = PRIMARY Muzzle
      WeaponMuzzleFlash   = PRIMARY BARRELFX
      WeaponLaunchBone = PRIMARY Muzzle
      WeaponFireFXBone = SECONDARY WEAPONB
      WeaponLaunchBone = SECONDARY WEAPONB
    End

    ConditionState = REALLYDAMAGED MOVING
      Model = RU-MI24_D
      Animation = RU-MI24_D.RU-MI24_D
      AnimationMode = LOOP
      HideSubObject      = MI-35upgrade WEAPONC01 WEAPONC02 WEAPONC03 WEAPONC04
      WeaponFireFXBone = PRIMARY Muzzle
      WeaponMuzzleFlash   = PRIMARY BARRELFX
      WeaponLaunchBone = PRIMARY Muzzle
      WeaponFireFXBone = SECONDARY WEAPONB
      WeaponLaunchBone = SECONDARY WEAPONB
    End

    ConditionState = RUBBLE
      Model = RU-MI24_D
      Animation = RU-MI24_D.RU-MI24_D
      AnimationMode = LOOP
      HideSubObject      = MI-35upgrade WEAPONC01 WEAPONC02 WEAPONC03 WEAPONC04 BARRELFX01
      WeaponFireFXBone = PRIMARY Muzzle
      WeaponMuzzleFlash   = PRIMARY BARRELFX
      WeaponLaunchBone = PRIMARY Muzzle
      WeaponFireFXBone = SECONDARY WEAPONB
      WeaponLaunchBone = SECONDARY WEAPONB
    End

    ConditionState = RUBBLE MOVING
      Model = RU-MI24_D
      Animation = RU-MI24_D.RU-MI24_D
      AnimationMode = LOOP
      HideSubObject      = MI-35upgrade WEAPONC01 WEAPONC02 WEAPONC03 WEAPONC04 BARRELFX01
    End

    ConditionState = RUBBLE SPECIAL_DAMAGED
      Model = RU-MI24_D
      HideSubObject      = MI-35upgrade WEAPONC01 WEAPONC02 WEAPONC03 WEAPONC04 BARRELFX01
    End

    ConditionState = WEAPONSET_PLAYER_UPGRADE
      Model = RU-MI24
      Animation = RU-MI24.RU-MI24
      AnimationMode = LOOP
      ShowSubObject      = MI-35upgrade WEAPONC01 WEAPONC02 WEAPONC03 WEAPONC04
      WeaponFireFXBone = PRIMARY Muzzle
      WeaponMuzzleFlash   = PRIMARY BARRELFX
      WeaponLaunchBone = PRIMARY Muzzle
      WeaponFireFXBone = SECONDARY WEAPONB
      WeaponLaunchBone = SECONDARY WEAPONB
      WeaponFireFXBone = TERTIARY WEAPONC
      WeaponLaunchBone = TERTIARY WEAPONC
    End

    ConditionState = WEAPONSET_PLAYER_UPGRADE MOVING
      Model = RU-MI24
      Animation = RU-MI24.RU-MI24
      AnimationMode = LOOP
      ShowSubObject      = MI-35upgrade WEAPONC01 WEAPONC02 WEAPONC03 WEAPONC04
      WeaponFireFXBone = PRIMARY Muzzle
      WeaponMuzzleFlash   = PRIMARY BARRELFX
      WeaponLaunchBone = PRIMARY Muzzle
      WeaponFireFXBone = SECONDARY WEAPONB
      WeaponLaunchBone = SECONDARY WEAPONB
      WeaponFireFXBone = TERTIARY WEAPONC
      WeaponLaunchBone = TERTIARY WEAPONC
    End

    ConditionState = REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE
      Model = RU-MI24_D
      Animation = RU-MI24_D.RU-MI24_D
      AnimationMode = LOOP
      ShowSubObject      = MI-35upgrade WEAPONC01 WEAPONC02 WEAPONC03 WEAPONC04
      WeaponFireFXBone = PRIMARY Muzzle
      WeaponMuzzleFlash   = PRIMARY BARRELFX
      WeaponLaunchBone = PRIMARY Muzzle
      WeaponFireFXBone = SECONDARY WEAPONB
      WeaponLaunchBone = SECONDARY WEAPONB
      WeaponFireFXBone = TERTIARY WEAPONC
      WeaponLaunchBone = TERTIARY WEAPONC
    End

    ConditionState = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED MOVING
      Model = RU-MI24_D
      Animation = RU-MI24_D.RU-MI24_D
      AnimationMode = LOOP
      ShowSubObject      = MI-35upgrade WEAPONC01 WEAPONC02 WEAPONC03 WEAPONC04
      WeaponFireFXBone = PRIMARY Muzzle
      WeaponMuzzleFlash   = PRIMARY BARRELFX
      WeaponLaunchBone = PRIMARY Muzzle
      WeaponFireFXBone = SECONDARY WEAPONB
      WeaponLaunchBone = SECONDARY WEAPONB
      WeaponFireFXBone = TERTIARY WEAPONC
      WeaponLaunchBone = TERTIARY WEAPONC
    End
    ConditionState = WEAPONSET_PLAYER_UPGRADE RUBBLE
      Model = RU-MI24_D
      Animation = RU-MI24_D.RU-MI24_D
      AnimationMode = LOOP
      ShowSubObject      = MI-35upgrade WEAPONC01 WEAPONC02 WEAPONC03 WEAPONC04
      HideSubObject      = BARRELFX01
    End
    ConditionState = WEAPONSET_PLAYER_UPGRADE RUBBLE MOVING
      Model = RU-MI24_D
      Animation = RU-MI24_D.RU-MI24_D
      AnimationMode = LOOP
      ShowSubObject      = MI-35upgrade WEAPONC01 WEAPONC02 WEAPONC03 WEAPONC04
      HideSubObject      = BARRELFX01
    End
    ConditionState = RUBBLE SPECIAL_DAMAGED WEAPONSET_PLAYER_UPGRADE 
      Model = RU-MI24_D
      ShowSubObject      = MI-35upgrade WEAPONC01 WEAPONC02 WEAPONC03 WEAPONC04
      HideSubObject      = BARRELFX01
    End
    OkToChangeModelColor = Yes
  End


  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Mi24
  EditorSorting       = VEHICLE
  Side                = Boss
  TransportSlotCount  = 0                 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange         = 420.0 
  ShroudClearingRange = 400
  BuildCost           = 20000
  BuildTime           = 30.0          ;in seconds  
  Prerequisites
    Object = Boss_Airfield
  End
  ExperienceValue         = 100 100 175 300  ;Experience point value at each level
  ExperienceRequired      = 0 250 400 600   ;Experience points needed to gain each level
  IsTrainable         = Yes  
  CommandSet          = Boss_Mi24CommandSet

  ArmorSet
    Conditions      = None
    Armor           = RussiaHeliArmor
    DamageFX        = AAHitscanDamageFX
  End

  WeaponSet
    Conditions          = None 
    Weapon              = PRIMARY     Mi24MinigunWeapon
    PreferredAgainst    = PRIMARY     INFANTRY
    AutoChooseSources   = PRIMARY     FROM_PLAYER FROM_AI FROM_SCRIPT 
    Weapon              = SECONDARY   Mi24RocketWeapon
  End

  ; *** AUDIO Parameters ***
  VoiceSelect     = Mi35VoiceSelect
  VoiceMove       = Mi35VoiceMove
  VoiceGuard      = Mi35VoiceMove
  VoiceAttack     = Mi35VoiceAttack
  SoundAmbient    = HelixAmbientLoop
  SoundEnter      = HumveeEnter
  SoundExit       = HumveeExit
  UnitSpecificSounds
    VoiceCreate         = Mi35VoiceCreate
    VoiceUnload         = Mi35VoiceEvac
    VoiceGarrison       = Mi35VoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority   = UNIT
  ; note that, although Helixes aren't produced at helipads, we want to set this KINDOF so that they can land at
  ; (well, "near" actually) an Airfield to get healed...
  KindOf          = SALVAGER PRELOAD CAN_CAST_REFLECTIONS SELECTABLE VEHICLE TRANSPORT AIRCRAFT SCORE PRODUCED_AT_HELIPAD CAN_ATTACK 

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 400.0
    InitialHealth   = 400.0
  End

  Behavior                       = TransitionDamageFX ModuleTag_03
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuousDown
    ReallyDamagedFXList1         = Loc: X:0 Y:0 Z:0 FXList:FX_ComancheDamageTransition
  End

  Behavior = ChinookAIUpdate ModuleTag_04
     AutoAcquireEnemiesWhenIdle = Yes 
     RotorWashParticleSystem = HelixRotorWashRing
     MoodAttackCheckRate        = 1
  End

  Locomotor = SET_NORMAL    Mi24Locomotor 
  Locomotor = SET_TAXIING   BasicHelicopterTaxiLocomotor

  Behavior = TransportContain ModuleTag_05
    Slots = 8
    DamagePercentToUnits = 100%
    AllowInsideKindOf = INFANTRY
    GoAggressiveOnExit = Yes
    ScatterNearbyOnExit = No ; I have bones for exiting
    NumberOfExitPaths = 2
    PassengersAllowedToFire = No
    DestroyRidersWhoAreNotFreeToExit = Yes
  End

  Behavior = PhysicsBehavior ModuleTag_06
    Mass = 50.0
  End

;Deaths-------------------------------------------------------------
  Behavior = HelicopterSlowDeathBehavior DeathTag_01
    ProbabilityModifier = 50
    DeathTypes                      = ALL
    DestructionDelay                = 20000        ; the destruction delay
    SpiralOrbitTurnRate             = 80.0           ; in degrees per second, bigger # = tighter spiral
    SpiralOrbitForwardSpeed         = 110.0           ; bigger # = larger spiral
    SpiralOrbitForwardSpeedDamping  = .9999           ; smaller #'s = slow down faster
    MaxBraking                      = 210   ; max braking we can use during death spiral (lower num = wilder spiral)    
    SoundDeathLoop                  = HelixDamagedLoop
    MinSelfSpin                     = 40                     ; in degrees per second
    MaxSelfSpin                     = 120                     ; in degrees per second
    SelfSpinUpdateDelay             = 300                     ; in milliseconds
    SelfSpinUpdateAmount            = 5                      ; in degrees   
    FallHowFast                     = 8.0%                   ; fraction of gravity, lower = take longer to fall
    MinBladeFlyOffDelay             = 1000                    ; in milliseconds
    MaxBladeFlyOffDelay             = 1000                    ; in milliseconds
    AttachParticle                  = HeliFallSmoke
    AttachParticleBone              = Propeller02 
    FXHitGround                     = FX_HelicopterHitGround
    FXBlade                         = FX_HelicopterBladeExplosion
    OCLHitGround                    = OCL_UniversalHelicopterWatercheck
    DelayFromGroundToFinalDeath     = 30
    FinalRubbleObject               = MI24DeadHull
    OCLFinalBlowUp = OCL_HelicopterHitGround
  End
  Behavior                            = SlowDeathBehavior DeathTag_02
    ProbabilityModifier = 50
    DeathTypes                         = ALL
    FX = INITIAL FX_MI24BladeExplosion
    OCL = INITIAL OCL_MI24SlowBD
  End
  Behavior = FXListDie DeathTag_03
    DeathFX = FX_VoiceFalling
  End
;Stealth-------------------------------------------------------------
;---------------------------------------------------------------------
  Behavior = FlammableUpdate ModuleTag_07
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3        ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Geometry              = BOX
  GeometryMajorRadius   = 20.0
  GeometryMinorRadius = 4.0
  GeometryHeight        = 14.0  
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME    
  ShadowSizeX           = 89  ; minimum elevation angle above horizon. Used to limit shadow length
  Scale = 1.03
End


;------------------------------------------------------------------------------
Object Boss_UkraineVehicleBRDM

  ; *** ART Parameters ***
  SelectPortrait = SNRaider_L
  ButtonImage = SNRaider

  Draw = W3DTruckDraw ModuleTag_01
    OkToChangeModelColor = Yes
    InitialRecoilSpeed = 120
    MaxRecoilDistance = 1
    RecoilSettleSpeed = 20
    
    DefaultConditionState
      Model = CWCruBRDM2
      Turret = BRDM2_TURRET01
      TurretPitch = TURRETEL01
      WeaponFireFXBone = PRIMARY BRDM2_MUZZLE
      WeaponLaunchBone = PRIMARY BRDM2_MUZZLE
      WeaponRecoilBone = PRIMARY BRDM2_BARREL
    End
    ConditionState = REALLYDAMAGED
      Model = CWCruBRDM2_d
    End
    ConditionState = RUBBLE
      Model = CWCruBRDM2_k
    End
    TrackMarks = EXTireTrack.tga
    Dust = RocketBuggyDust
    DirtSpray = RocketBuggyDirtSpray
    LeftFrontTireBone = WHEEL02
    RightFrontTireBone = WHEEL03
    LeftRearTireBone = WHEEL01
    RightRearTireBone = WHEEL04
    TireRotationMultiplier = 0.2 ; this * speed = rotation.
    PowerslideRotationAddition = 0 ; This vehicle doesn't powerslide.
  End

;---------------------------------------
  ; The brakes kick in
  ;---------------------------------------
  Draw = W3DModelDraw ModuleTag_BrakeDraw
    IgnoreConditionStates = REALLYDAMAGED RUBBLE
    AttachToBoneInAnotherModule = CORE
    ParticlesAttachedToAnimatedBones = Yes
    OkToChangeModelColor = Yes
    ;day, no lights, only if I brake
    ConditionState = NONE
      Model = CWCruBRDM2_l
      HideSubObject = HLIGHT01 HLIGHT02
      ParticleSysBone = BRAKE01 CWCgenRearLightBraking
      ParticleSysBone = BRAKE02 CWCgenRearLightBraking
    End
    ConditionState = MOVING
      Model = CWCruBRDM2_l
      HideSubObject = HLIGHT01 HLIGHT02
    End
    ;night, I always have my lights on when I move, and they flash whenever I brake
    ConditionState = NIGHT
      Model = CWCruBRDM2_l
      ParticleSysBone = BRAKE01 CWCgenRearLight
      ParticleSysBone = BRAKE02 CWCgenRearLight
      ShowSubObject = HLIGHT01 HLIGHT02
      ParticleSysBone = BRAKE01 CWCgenRearLightBraking
      ParticleSysBone = BRAKE02 CWCgenRearLightBraking
    End
    ConditionState = NIGHT MOVING
      Model = CWCruBRDM2_l
      ParticleSysBone = BRAKE01 CWCgenRearLight
      ParticleSysBone = BRAKE02 CWCgenRearLight
      ShowSubObject = HLIGHT01 HLIGHT02
    End
    ;enemynear, hide those red lights!
    ConditionState = ENEMYNEAR
      Model = CWCruBRDM2_l
      HideSubObject = HLIGHT01 HLIGHT02
    End
    AliasConditionState = MOVING ENEMYNEAR
    AliasConditionState = NIGHT ENEMYNEAR
    AliasConditionState = NIGHT MOVING ENEMYNEAR
  End

  ;the particle effects
  Draw = W3DModelDraw Module_ParticleEffects
    DefaultConditionState
      Model = CWCruBRDM2_W
    End
    AliasConditionState = REALLYDAMAGED
    AliasConditionState = RUBBLE
    ConditionState = MOVING
      Model = CWCruBRDM2_W
      ParticleSysBone = TREADFX01 RocketBuggyDust
      ParticleSysBone = TREADFX02 RocketBuggyDust
    End
    AliasConditionState = MOVING REALLYDAMAGED
    AliasConditionState = MOVING RUBBLE
    ConditionState = OVER_WATER
      Model = CWCruBRDM2_W
      ParticleSysBone = WATER01 CWCgenAmphibWaveRest
      ParticleSysBone = WATER02 CWCgenAmphibWaveRest
    End
    AliasConditionState = OVER_WATER REALLYDAMAGED
    AliasConditionState = OVER_WATER RUBBLE
    ConditionState = OVER_WATER MOVING
      Model = CWCruBRDM2_W
      ParticleSysBone = WATER03 CWCgenAmphibWave1
    End
    AliasConditionState = OVER_WATER MOVING REALLYDAMAGED
    AliasConditionState = OVER_WATER MOVING RUBBLE
  End

  ;---------------------------------------
  ; The rotating housecolors
  ;---------------------------------------
  ; Draw = W3DModelDraw ModuleTag_HousecolorDraw
    ; OkToChangeModelColor = Yes
    ; ConditionState = NONE
      ; Model = CWCruHC_B
      ; Animation = CWCruHC_B.CWCruHC_B
      ; AnimationMode = LOOP
      ; HideSubObject = HOUSECOLOR02
    ; End
    ; AliasConditionState = WEAPONSET_PLAYER_UPGRADE
    ; AliasConditionState = REALLYDAMAGED
    ; AliasConditionState = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
    ; AliasConditionState = RUBBLE
    ; AliasConditionState = WEAPONSET_PLAYER_UPGRADE RUBBLE
    ; AliasConditionState = ENEMYNEAR RUBBLE
    ; AliasConditionState = ENEMYNEAR WEAPONSET_PLAYER_UPGRADE RUBBLE
    ; ConditionState = ENEMYNEAR
      ; Model = CWCruHC_B
      ; Animation = CWCruHC_B.CWCruHC_B
      ; AnimationMode = LOOP
      ; ShowSubObject = HOUSECOLOR02
    ; End
    ; AliasConditionState = ENEMYNEAR WEAPONSET_PLAYER_UPGRADE
    ; AliasConditionState = ENEMYNEAR REALLYDAMAGED
    ; AliasConditionState = ENEMYNEAR WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
  ; End

  ; ***DESIGN parameters ***
  DisplayName = OBJECT:BRDM
  Side = Boss
  EditorSorting = VEHICLE
  TransportSlotCount = 3 ;how many "slots" we take in a transport (0 == not transportable)

  WeaponSet
    Conditions = None 
    Weapon     = PRIMARY   AssaultHumveeGun
  End

  ArmorSet
    Conditions = None
    Armor = TruckArmor
    DamageFX = TankDamageFX
  End

  BuildCost = 200
  BuildTime = 10.0 ;in seconds
  VisionRange = 200
  ShroudClearingRange = 200
  
  Prerequisites
    Object = Boss_UkraineWarFactory
  End

  ;CWCExpMarker: BRDM-2(14.5mm)
  ExperienceValue = 500 750 1000 1500 ;Experience point value at each level
  ExperienceRequired = 0 398 795 1391 ;Experience points needed to gain each level
  IsTrainable = Yes ;Can gain experience

  CrusherLevel = 2 ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel = 2 ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = RussianVehicleBRDMCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = CWCruBRDM2VoiceSelect
  VoiceMove = CWCruBRDM2VoiceMove
  VoiceGuard = CWCruBRDM2VoiceGuard
  VoiceAttack = CWCruBRDM2VoiceAttack
  SoundMoveLoop = CWCgenLightVehicleMoving
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate = CWCruBRDM2VoiceCreate
    TurretMoveStart = NoSound
    TurretMoveLoop = CWCgenIFV_APCTurretServo
    VoiceCrush = CWCruBRDM2VoiceCrush
    VoiceEnter = CWCruBRDM2VoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = ATTACK_NEEDS_LINE_OF_SIGHT CAN_ATTACK CAN_CAST_REFLECTIONS DONT_AUTO_CRUSH_INFANTRY POWERED PRELOAD SCORE SELECTABLE TRANSPORT VEHICLE 

  Body = ActiveBody ModuleTag_02
    MaxHealth = 300.0
    InitialHealth = 300.0
  End

  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      TurretTurnRate = 160 ; turn rate, in degrees per sec
      TurretPitchRate = 160
      MinPhysicalPitch = -5
      AllowsPitch = Yes
      ControlledWeaponSlots = PRIMARY
      MinIdleScanAngle = 0 ; in degrees off the natural turret angle
      MaxIdleScanAngle = 45 ; in degrees off the natural turret angle
      MinIdleScanInterval = 10000 ; in milliseconds
      MaxIdleScanInterval = 20000 ; in milliseconds
    End
  AutoAcquireEnemiesWhenIdle = Yes
  End

  Locomotor = SET_NORMAL CWCruBRDM2Locomotor CWCruBRDM2AmphibiousLocomotor

  Behavior = TransportContain ModuleTag_04
    PassengersAllowedToFire = Yes
    Slots = 4
    ScatterNearbyOnExit = No
    HealthRegen%PerSec = 10
    DamagePercentToUnits = 50%
    AllowInsideKindOf = INFANTRY
    ExitDelay = 250
    NumberOfExitPaths = 1 ; Defaults to 1.  Set 0 to not use ExitStart/ExitEnd, set higher than 1 to use ExitStart01-nn/ExitEnd01-nn
    GoAggressiveOnExit = Yes ; AI Will tell people to set their mood to Aggressive on exiting
    DestroyRidersWhoAreNotFreeToExit = Yes
  End

  Behavior = PhysicsBehavior ModuleTag_15
    Mass = 40.0
  End

  ; Behavior = EnemyNearUpdate ModuleTag_Housecolor
    ; ;nothing
  ; End

  Behavior = StealthDetectorUpdate ModuleTag_DetectStealth_Vehicle01
    DetectionRate = 1000
    DetectionRange = 175
    CanDetectWhileGarrisoned = Yes
    CanDetectWhileContained = No
    ExtraForbiddenKindOf = MINE AIRCRAFT DEMOTRAP
  End

; --- begin Death modules ---
  Behavior = TransitionDamageFX ModuleTag_Death01
    DamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenTankDeathSmokeDamaged
    DamagedFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDamageTransition
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenTankDeathSmokeReallyDamaged
    ReallyDamagedFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDamageTransition
    RubbleParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenTankDeathSmokeRubble
    RubbleFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDamageTransition
    RubbleFXList2 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDeathRubble1
  End
  Behavior = SlowDeathBehavior ModuleTag_Death02
    DestructionDelay = 18000
    FX = MIDPOINT FX_CWCgenTankDeathRubble2
    ;OCL = MIDPOINT OCL_CWCgenTankDeathTrails
    SinkDelay = 15000
    SinkRate = 4.0
    ;Weapon = MIDPOINT CWCgenVehicleExplodeWeapon
  End
; --- end Death modules ---

  Geometry = BOX
  GeometryMajorRadius = 13.0
  GeometryMinorRadius = 9.0
  GeometryHeight = 10
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45 ; minimum elevation angle above horizon. Used to limit shadow length
  Scale = 1.05
End

;------------------------------------------------------------------------------
Object Boss_UkraineVehicleStrela1

  ; *** ART Parameters ***
  SelectPortrait = MT-LB
  ButtonImage = MT-LB

  Draw = W3DOverlordTruckDraw ModuleTag_01
    OkToChangeModelColor = Yes
    ExtraPublicBone = CORE
    DefaultConditionState
      Model = CWCruSA9
      Turret = SA9_TURRET01
      TurretPitch = SA9_TURRETEL01
      WeaponFireFXBone = PRIMARY SA9_MUZZLE
      WeaponLaunchBone = PRIMARY SA9_MUZZLE
    End
    ConditionState = REALLYDAMAGED
      Model = CWCruSA9_d
    End
    ConditionState = RUBBLE
      Model = CWCruSA9_k
    End
    TrackMarks = EXTireTrack.tga
    Dust = RocketBuggyDust
    DirtSpray = RocketBuggyDirtSpray
    LeftFrontTireBone = WHEEL02
    RightFrontTireBone = WHEEL03
    LeftRearTireBone = WHEEL01
    RightRearTireBone = WHEEL04
    TireRotationMultiplier = 0.2 ; this * speed = rotation.
    PowerslideRotationAddition = 0 ; This vehicle doesn't powerslide.
  End

  ;---------------------------------------
  ; The camonet appears
  ;---------------------------------------
  Draw = W3DModelDraw ModuleTag_CamonetDraw
    AttachToBoneInAnotherModule = CORE
    ParticlesAttachedToAnimatedBones = Yes
    OkToChangeModelColor = Yes
    DefaultConditionState
      Model = CWCruSA9_c
      Animation = CWCruSA9_c.CWCruSA9_c
      AnimationMode = ONCE_BACKWARDS
      Flags = MAINTAIN_FRAME_ACROSS_STATES
    End
    AliasConditionState = WEAPONSET_PLAYER_UPGRADE MOVING
    ConditionState = WEAPONSET_PLAYER_UPGRADE
      Model = CWCruSA9_c
      Animation = CWCruSA9_c.CWCruSA9_c
      AnimationMode = ONCE
      Flags = MAINTAIN_FRAME_ACROSS_STATES
    End
  End

  ;---------------------------------------
  ; The brakes kick in
  ;---------------------------------------
  Draw = W3DModelDraw ModuleTag_BrakeDraw
    IgnoreConditionStates = REALLYDAMAGED RUBBLE
    AttachToBoneInAnotherModule = CORE
    ParticlesAttachedToAnimatedBones = Yes
    OkToChangeModelColor = Yes
    ;day, no lights, only if I brake
    ConditionState = NONE
      Model = CWCruBRDM2_l
      HideSubObject = HLIGHT01 HLIGHT02
      ParticleSysBone = BRAKE01 CWCgenRearLightBraking
      ParticleSysBone = BRAKE02 CWCgenRearLightBraking
    End
    ConditionState = MOVING
      Model = CWCruBRDM2_l
      HideSubObject = HLIGHT01 HLIGHT02
    End
    ;night, I always have my lights on when I move, and they flash whenever I brake
    ConditionState = NIGHT
      Model = CWCruBRDM2_l
      ParticleSysBone = BRAKE01 CWCgenRearLight
      ParticleSysBone = BRAKE02 CWCgenRearLight
      ShowSubObject = HLIGHT01 HLIGHT02
      ParticleSysBone = BRAKE01 CWCgenRearLightBraking
      ParticleSysBone = BRAKE02 CWCgenRearLightBraking
    End
    ConditionState = NIGHT MOVING
      Model = CWCruBRDM2_l
      ParticleSysBone = BRAKE01 CWCgenRearLight
      ParticleSysBone = BRAKE02 CWCgenRearLight
      ShowSubObject = HLIGHT01 HLIGHT02
    End
    ;enemynear, hide those red lights!
    ConditionState = ENEMYNEAR
      Model = CWCruBRDM2_l
      HideSubObject = HLIGHT01 HLIGHT02
    End
    AliasConditionState = MOVING ENEMYNEAR
    AliasConditionState = NIGHT ENEMYNEAR
    AliasConditionState = NIGHT MOVING ENEMYNEAR
  End

  ;the particle effects
  Draw = W3DModelDraw Module_ParticleEffects
    DefaultConditionState
      Model = CWCruBRDM2_W
    End
    AliasConditionState = REALLYDAMAGED
    AliasConditionState = RUBBLE
    ConditionState = MOVING
      Model = CWCruBRDM2_W
      ParticleSysBone = TREADFX01 RocketBuggyDust
      ParticleSysBone = TREADFX02 RocketBuggyDust
    End
    AliasConditionState = MOVING REALLYDAMAGED
    AliasConditionState = MOVING RUBBLE
    ConditionState = OVER_WATER
      Model = CWCruBRDM2_W
      ParticleSysBone = WATER01 CWCgenAmphibWaveRest
      ParticleSysBone = WATER02 CWCgenAmphibWaveRest
    End
    AliasConditionState = OVER_WATER REALLYDAMAGED
    AliasConditionState = OVER_WATER RUBBLE
    ConditionState = OVER_WATER MOVING
      Model = CWCruBRDM2_W
      ParticleSysBone = WATER03 CWCgenAmphibWave1
    End
    AliasConditionState = OVER_WATER MOVING REALLYDAMAGED
    AliasConditionState = OVER_WATER MOVING RUBBLE
  End

  ;---------------------------------------
  ; The rotating housecolors
  ;---------------------------------------
  ; Draw = W3DModelDraw ModuleTag_HousecolorDraw
    ; OkToChangeModelColor = Yes

    ; ConditionState = NONE
      ; Model = CWCruHC_B
      ; Animation = CWCruHC_B.CWCruHC_B
      ; AnimationMode = LOOP
      ; HideSubObject = HOUSECOLOR02
    ; End
    ; AliasConditionState = WEAPONSET_PLAYER_UPGRADE
    ; AliasConditionState = REALLYDAMAGED
    ; AliasConditionState = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
    ; AliasConditionState = RUBBLE
    ; AliasConditionState = WEAPONSET_PLAYER_UPGRADE RUBBLE
    ; AliasConditionState = ENEMYNEAR RUBBLE
    ; AliasConditionState = ENEMYNEAR WEAPONSET_PLAYER_UPGRADE RUBBLE

    ; ConditionState = ENEMYNEAR
      ; Model = CWCruHC_B
      ; Animation = CWCruHC_B.CWCruHC_B
      ; AnimationMode = LOOP
      ; ShowSubObject = HOUSECOLOR02
    ; End
    ; AliasConditionState = ENEMYNEAR WEAPONSET_PLAYER_UPGRADE
    ; AliasConditionState = ENEMYNEAR REALLYDAMAGED
    ; AliasConditionState = ENEMYNEAR WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
  ; End

  ; ***DESIGN parameters ***
  DisplayName = OBJECT:Strela1
  Side = Boss
  EditorSorting = VEHICLE
  TransportSlotCount = 3 ;how many "slots" we take in a transport (0 == not transportable)

  WeaponSet
    Conditions = None
    Weapon = PRIMARY Strela1Missile
  End

  ArmorSet
    Conditions = None
    Armor = TruckArmor
    DamageFX = TankDamageFX
  End

  BuildCost = 1000
  BuildTime = 17.0 ;in seconds
  VisionRange = 350
  ShroudClearingRange = 350
  Prerequisites
    Object = Boss_UkraineWarFactory
  End

  ;CWCExpMarker: BRDM-2(SA-9)
  ExperienceValue = 800 1200 1600 2400 ;Experience point value at each level
  ExperienceRequired = 0 1353 2705 4735 ;Experience points needed to gain each level
  IsTrainable = Yes ;Can gain experience
  CrusherLevel = 2 ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel = 2 ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = SovietVehicleStrela10CommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = CWCruBRDM2VoiceSelect
  VoiceMove = CWCruBRDM2VoiceMove
  VoiceGuard = CWCruBRDM2VoiceGuard
  VoiceAttackAir = CWCruBRDM2VoiceAttack
  SoundMoveLoop = CWCgenLightVehicleMoving
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate = CWCruBRDM2VoiceCreate
    TurretMoveStart = NoSound
    TurretMoveLoop = CWCgenIFV_APCTurretServo
    VoiceCrush = CWCruBRDM2VoiceCrush
    VoiceEnter = CWCruBRDM2VoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = ATTACK_NEEDS_LINE_OF_SIGHT CAN_ATTACK CAN_CAST_REFLECTIONS DONT_AUTO_CRUSH_INFANTRY POWERED PRELOAD SCORE SELECTABLE VEHICLE 

  Body = ActiveBody ModuleTag_02
    MaxHealth = 350.0
    InitialHealth = 350.0
    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 400
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
  End

  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      TurretTurnRate = 160 // turn rate, in degrees per sec
      TurretPitchRate = 160
      AllowsPitch = Yes
      ;NaturalTurretPitch = 25
      ;MinPhysicalPitch = 0
      FirePitch = 45
      FiresWhileTurning = Yes
      RecenterTime = 2000
      ControlledWeaponSlots = PRIMARY
      MinIdleScanInterval = 1000 ; in milliseconds
      MaxIdleScanInterval = 5000 ; in milliseconds
      MinIdleScanAngle = 25 ; in degrees off the natural turret angle
      MaxIdleScanAngle = 45 ; in degrees off the natural turret angle
    End
    AutoAcquireEnemiesWhenIdle = Yes Stealthed
    MoodAttackCheckRate = 150
  End
  Locomotor = SET_NORMAL CWCruBRDM2Locomotor CWCruBRDM2AmphibiousLocomotor
  Behavior = PhysicsBehavior ModuleTag_15
    Mass = 40.0
  End

  ; Behavior = EnemyNearUpdate ModuleTag_Housecolor
    ; ;nothing
  ; End

  Behavior = StealthDetectorUpdate ModuleTag_DetectStealth_Vehicle01
    CanDetectWhileContained = No ; this is a vehicle ; Can the object detect stealth objects when it is inside an object?
    CanDetectWhileGarrisoned = No ; this is a vehicle ; Can the object detect stealth objects when it is inside an object with a GarrisonContain module?
    DetectionRange = 63 ; 1/2 its visionrange ; The maximum distance that the object can detect enemy stealthed obejcts. Defaults to the object's VisionRange.
    DetectionRate = 1000 ; The time between scanning for stealthed objects.
    ExtraRequiredKindOf = INFANTRY
    ExtraForbiddenKindOf = BOAT
    InitiallyDisabled = No ; Does the detector start off in a disabled state?
  End

  Behavior = ProductionUpdate ModuleTag_Stealth_Vehicle01
    ;nothing
  End

  ; Behavior = StealthUpgrade ModuleTag_Stealth_Vehicle02
    ; TriggeredBy = Upgrade_CWCruAntiAir_Stealth
  ; End

  Behavior = StealthUpdate ModuleTag_Stealth_Vehicle03
    StealthDelay = 2000
    StealthForbiddenConditions = MOVING FIRING_PRIMARY FIRING_SECONDARY
    FriendlyOpacityMin = 100.0%
    FriendlyOpacityMax = 100.0%
    InnateStealth = No
    OrderIdleEnemiesToAttackMeUponReveal = Yes
  End

  ; Behavior = WeaponSetUpgrade ModuleTag_Stealth_Vehicle04
    ; TriggeredBy = Upgrade_CWCruAntiAir_Stealth
  ; End

; --- begin Death modules ---
  Behavior = TransitionDamageFX ModuleTag_Death01
    DamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenTankDeathSmokeDamaged
    DamagedFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDamageTransition
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenTankDeathSmokeReallyDamaged
    ReallyDamagedFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDamageTransition
    RubbleParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenTankDeathSmokeRubble
    RubbleFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDamageTransition
    RubbleFXList2 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDeathRubble1
  End
  Behavior = SlowDeathBehavior ModuleTag_Death02
    DestructionDelay = 18000
    FX = MIDPOINT FX_CWCgenTankDeathRubble2
    ;OCL = MIDPOINT OCL_CWCgenTankDeathTrails
    SinkDelay = 15000
    SinkRate = 4.0
    ;Weapon = MIDPOINT CWCgenVehicleExplodeWeapon
  End
; --- end Death modules ---
  ; Behavior = FireWeaponUpdate ModuleTag_Radar
    ; Weapon = CWCruSA9RadarWeapon
    ; ExclusiveWeaponDelay = 500
  ; End
  ; Behavior = ObjectCreationUpgrade ModuleTag_AntiRadarDrone
    ; UpgradeObject = OCL_CWCgenAntiRadarDrone
    ; TriggeredBy = Upgrade_CWCgenAntiRadarDrone
  ; End
  ; Behavior = GrantUpgradeCreate ModuleTag_AntiRadarDroneCreate
    ; UpgradeToGrant = Upgrade_CWCgenAntiRadarDrone
  ; End
  Geometry = BOX
  GeometryMajorRadius = 13.0
  GeometryMinorRadius = 9.0
  GeometryHeight = 10
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45 ; minimum elevation angle above horizon. Used to limit shadow length
  Scale = 1.05
End

;------------------------------------------------------------------------------
Object Boss_UkrainePowerPlant

  ; *** ART Parameters ***
  SelectPortrait         = SAPowerPlant_L
  ButtonImage            = SAPowerPlant
  
  Draw = W3DModelDraw ModuleTag_01
  
    OkToChangeModelColor = Yes
    ParticlesAttachedToAnimatedBones = Yes
    
    ConditionState      = NONE
      Model             = RBPwrPlnt
      Animation         = RBPwrPlnt.RBPwrPlnt
      AnimationMode     = LOOP
      Flags             = MAINTAIN_FRAME_ACROSS_STATES
      HideSubObject     = Upgrade
      ParticleSysBone   = SmokeFX01 SteamVentSmall_Black
      ParticleSysBone   = SmokeFX02 SteamVentSmall_Black
      ParticleSysBone   = SmokeFX03 SteamVentSmall_Black
      ParticleSysBone   = SmokeFX04 SteamVentSmall_Black
      ParticleSysBone   = SparkFX01 CoalPowerPlantSparkFlare
      ParticleSysBone   = SparkFX02 CoalPowerPlantSparkFlare
      ParticleSysBone   = SparkFX03 CoalPowerPlantSparkFlare
    End
    AliasConditionState = NIGHT
    
    ConditionState      = DAMAGED
      Model             = RBPwrPlnt_D
      Animation         = RBPwrPlnt_D.RBPwrPlnt_D
      AnimationMode     = LOOP
      Flags             = MAINTAIN_FRAME_ACROSS_STATES
      HideSubObject     = Upgrade
      ParticleSysBone   = SmokeFX01 SteamVentSmall_Black
      ParticleSysBone   = SmokeFX02 SteamVentSmall_Black
      ParticleSysBone   = SmokeFX03 SteamVentSmall_Black
      ParticleSysBone   = SmokeFX04 SteamVentSmall_Black
      ParticleSysBone   = SparkFX01 CoalPowerPlantSparkFlare
      ParticleSysBone   = SparkFX02 CoalPowerPlantSparkFlare
      ParticleSysBone   = SparkFX03 CoalPowerPlantSparkFlare
      ParticleSysBone   = Smoke05 SmolderingSmoke
    End
    AliasConditionState = DAMAGED NIGHT
    AliasConditionState = DAMAGED SNOW
    AliasConditionState = DAMAGED NIGHT SNOW
    
    ConditionState      = REALLYDAMAGED RUBBLE
      Model             = RBPwrPlnt_D
      Animation         = RBPwrPlnt_D.RBPwrPlnt_D
      AnimationMode     = LOOP
      Flags             = MAINTAIN_FRAME_ACROSS_STATES
      HideSubObject     = Upgrade
      ParticleSysBone   = SmokeFX01 SteamVentSmall_Black
      ParticleSysBone   = SmokeFX02 SteamVentSmall_Black
      ParticleSysBone   = SmokeFX03 SteamVentSmall_Black
      ParticleSysBone   = SmokeFX04 SteamVentSmall_Black
      ParticleSysBone   = SparkFX01 CoalPowerPlantSparkFlare
      ParticleSysBone   = SparkFX02 CoalPowerPlantSparkFlare
      ParticleSysBone   = SparkFX03 CoalPowerPlantSparkFlare
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingSmoke
    End
    AliasConditionState = REALLYDAMAGED RUBBLE NIGHT
    AliasConditionState = REALLYDAMAGED RUBBLE SNOW
    AliasConditionState = REALLYDAMAGED RUBBLE NIGHT SNOW

    ConditionState      = SNOW
      Model             = RBPwrPlnt_S
      Animation         = RBPwrPlnt_S.RBPwrPlnt_S
      AnimationMode     = LOOP
      Flags             = MAINTAIN_FRAME_ACROSS_STATES
      HideSubObject     = Upgrade
      ParticleSysBone   = SmokeFX01 SteamVentSmall_Black
      ParticleSysBone   = SmokeFX02 SteamVentSmall_Black
      ParticleSysBone   = SmokeFX03 SteamVentSmall_Black
      ParticleSysBone   = SmokeFX04 SteamVentSmall_Black
      ParticleSysBone   = SparkFX01 CoalPowerPlantSparkFlare
      ParticleSysBone   = SparkFX02 CoalPowerPlantSparkFlare
      ParticleSysBone   = SparkFX03 CoalPowerPlantSparkFlare
    End
    AliasConditionState = NIGHT SNOW
    
    ;;;Upgraded Powerplant
    
    ConditionState      = POWER_PLANT_UPGRADED
      Model             = RBPwrPlnt
      Animation         = RBPwrPlnt.RBPwrPlnt
      AnimationMode     = LOOP
      Flags             = MAINTAIN_FRAME_ACROSS_STATES
      ShowSubObject     = Upgrade
      ParticleSysBone   = SmokeFX01 SteamVentSmall_Black
      ParticleSysBone   = SmokeFX02 SteamVentSmall_Black
      ParticleSysBone   = SmokeFX03 SteamVentSmall_Black
      ParticleSysBone   = SmokeFX04 SteamVentSmall_Black
      ParticleSysBone   = SmokeFX05 SteamVentSmall_Black
      ParticleSysBone   = SmokeFX06 SteamVentSmall_Black
      ParticleSysBone   = SmokeFX07 SteamVentSmall_Black
      ParticleSysBone   = SmokeFX08 SteamVentSmall_Black
      ParticleSysBone   = SparkFX01 CoalPowerPlantSparkFlare
      ParticleSysBone   = SparkFX02 CoalPowerPlantSparkFlare
      ParticleSysBone   = SparkFX03 CoalPowerPlantSparkFlare
      ParticleSysBone   = Spark01 SparksSmall
      ParticleSysBone   = Spark02 SparksSmall
    End
    AliasConditionState = POWER_PLANT_UPGRADED NIGHT
    
    ConditionState      = POWER_PLANT_UPGRADED DAMAGED
      Model             = RBPwrPlnt_D
      Animation         = RBPwrPlnt_D.RBPwrPlnt_D
      AnimationMode     = LOOP
      Flags             = MAINTAIN_FRAME_ACROSS_STATES
      ShowSubObject     = Upgrade
      ParticleSysBone   = SmokeFX01 SteamVentSmall_Black
      ParticleSysBone   = SmokeFX02 SteamVentSmall_Black
      ParticleSysBone   = SmokeFX03 SteamVentSmall_Black
      ParticleSysBone   = SmokeFX04 SteamVentSmall_Black
      ParticleSysBone   = SmokeFX05 SteamVentSmall_Black
      ParticleSysBone   = SmokeFX06 SteamVentSmall_Black
      ParticleSysBone   = SmokeFX07 SteamVentSmall_Black
      ParticleSysBone   = SmokeFX08 SteamVentSmall_Black
      ParticleSysBone   = SparkFX01 CoalPowerPlantSparkFlare
      ParticleSysBone   = SparkFX02 CoalPowerPlantSparkFlare
      ParticleSysBone   = SparkFX03 CoalPowerPlantSparkFlare
      ParticleSysBone   = Spark01 SparksSmall
      ParticleSysBone   = Spark02 SparksSmall
      ParticleSysBone   = SmokeFX05 SmolderingSmoke
      
    End
    AliasConditionState = POWER_PLANT_UPGRADED DAMAGED NIGHT
    AliasConditionState = POWER_PLANT_UPGRADED DAMAGED SNOW
    AliasConditionState = POWER_PLANT_UPGRADED DAMAGED NIGHT SNOW
    
    ConditionState      = POWER_PLANT_UPGRADED REALLYDAMAGED RUBBLE
      Model             = RBPwrPlnt_D
      Animation         = RBPwrPlnt_D.RBPwrPlnt_D
      AnimationMode     = LOOP
      Flags             = MAINTAIN_FRAME_ACROSS_STATES
      ShowSubObject     = Upgrade
      ParticleSysBone   = SmokeFX01 SteamVentSmall_Black
      ParticleSysBone   = SmokeFX02 SteamVentSmall_Black
      ParticleSysBone   = SmokeFX03 SteamVentSmall_Black
      ParticleSysBone   = SmokeFX04 SteamVentSmall_Black
      ParticleSysBone   = SmokeFX05 SteamVentSmall_Black
      ParticleSysBone   = SmokeFX06 SteamVentSmall_Black
      ParticleSysBone   = SmokeFX07 SteamVentSmall_Black
      ParticleSysBone   = SmokeFX08 SteamVentSmall_Black
      ParticleSysBone   = SparkFX01 CoalPowerPlantSparkFlare
      ParticleSysBone   = SparkFX02 CoalPowerPlantSparkFlare
      ParticleSysBone   = SparkFX03 CoalPowerPlantSparkFlare
      ParticleSysBone   = Spark01 SparksSmall
      ParticleSysBone   = Spark02 SparksSmall
      ParticleSysBone   = SmokeFX05 SmolderingFire
      ParticleSysBone   = SmokeFX05 SmolderingSmoke
    End
    AliasConditionState = POWER_PLANT_UPGRADED REALLYDAMAGED RUBBLE NIGHT
    AliasConditionState = POWER_PLANT_UPGRADED REALLYDAMAGED RUBBLE SNOW
    AliasConditionState = POWER_PLANT_UPGRADED REALLYDAMAGED RUBBLE NIGHT SNOW

    ConditionState      = POWER_PLANT_UPGRADED SNOW
      Model             = RBPwrPlnt_S
      Animation         = RBPwrPlnt_S.RBPwrPlnt_S
      AnimationMode     = LOOP
      Flags             = MAINTAIN_FRAME_ACROSS_STATES
      ShowSubObject     = Upgrade
      ParticleSysBone   = SmokeFX01 SteamVentSmall_Black
      ParticleSysBone   = SmokeFX02 SteamVentSmall_Black
      ParticleSysBone   = SmokeFX03 SteamVentSmall_Black
      ParticleSysBone   = SmokeFX04 SteamVentSmall_Black
      ParticleSysBone   = SmokeFX05 SteamVentSmall_Black
      ParticleSysBone   = SmokeFX06 SteamVentSmall_Black
      ParticleSysBone   = SmokeFX07 SteamVentSmall_Black
      ParticleSysBone   = SmokeFX08 SteamVentSmall_Black
      ParticleSysBone   = SparkFX01 CoalPowerPlantSparkFlare
      ParticleSysBone   = SparkFX02 CoalPowerPlantSparkFlare
      ParticleSysBone   = SparkFX03 CoalPowerPlantSparkFlare
      ParticleSysBone   = Spark01 SparksSmall
      ParticleSysBone   = Spark02 SparksSmall
    End
    AliasConditionState = POWER_PLANT_UPGRADED NIGHT SNOW
    
    ;**************************************************************************************************************************

    ConditionState      = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model             = RBPwrPlnt
      HideSubObject     = Upgrade
      Flags             = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
    AliasConditionState = POWER_PLANT_UPGRADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
    AliasConditionState = POWER_PLANT_UPGRADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
    
    ConditionState      = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model             = RBPwrPlnt_D
      HideSubObject     = Upgrade
      Flags             = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
    AliasConditionState = POWER_PLANT_UPGRADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
    AliasConditionState = POWER_PLANT_UPGRADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
    AliasConditionState = POWER_PLANT_UPGRADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
    AliasConditionState = POWER_PLANT_UPGRADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
    AliasConditionState = POWER_PLANT_UPGRADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
    AliasConditionState = POWER_PLANT_UPGRADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
    AliasConditionState = POWER_PLANT_UPGRADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
    AliasConditionState = POWER_PLANT_UPGRADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED

    ConditionState      = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model             = RBPwrPlnt_S
      HideSubObject     = Upgrade
      Flags             = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
    AliasConditionState = POWER_PLANT_UPGRADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
    AliasConditionState = POWER_PLANT_UPGRADED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
    
    
    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = POWER_PLANT_UPGRADED AWAITING_CONSTRUCTION
    AliasConditionState  = POWER_PLANT_UPGRADED AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = POWER_PLANT_UPGRADED AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = POWER_PLANT_UPGRADED AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = POWER_PLANT_UPGRADED AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = POWER_PLANT_UPGRADED AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = POWER_PLANT_UPGRADED AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = POWER_PLANT_UPGRADED AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = POWER_PLANT_UPGRADED AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = POWER_PLANT_UPGRADED AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = POWER_PLANT_UPGRADED AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = POWER_PLANT_UPGRADED AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = POWER_PLANT_UPGRADED SOLD 
    AliasConditionState  = POWER_PLANT_UPGRADED SOLD DAMAGED
    AliasConditionState  = POWER_PLANT_UPGRADED SOLD REALLYDAMAGED
    AliasConditionState  = POWER_PLANT_UPGRADED SOLD NIGHT
    AliasConditionState  = POWER_PLANT_UPGRADED SOLD NIGHT DAMAGED
    AliasConditionState  = POWER_PLANT_UPGRADED SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = POWER_PLANT_UPGRADED SOLD SNOW
    AliasConditionState  = POWER_PLANT_UPGRADED SOLD SNOW DAMAGED
    AliasConditionState  = POWER_PLANT_UPGRADED SOLD SNOW REALLYDAMAGED
    AliasConditionState  = POWER_PLANT_UPGRADED SOLD NIGHT SNOW
    AliasConditionState  = POWER_PLANT_UPGRADED SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = POWER_PLANT_UPGRADED SOLD NIGHT SNOW REALLYDAMAGED
    ;**************************************************************************************************************************
  End
  
  ; ------------ construction-zone fence -----------------
  Draw = W3DModelDraw ModuleTag_02
  AnimationsRequirePower = No

    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    AliasConditionState = NIGHT
    AliasConditionState = SNOW
    AliasConditionState = SNOW NIGHT

    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = RBPwrPlnt_BF
      Animation       = RBPwrPlnt_BF.RBPwrPlnt_BF
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
    End
    AliasConditionState = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
    AliasConditionState = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
    AliasConditionState = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED

    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = RBPwrPlnt_BF
      Animation       = RBPwrPlnt_BF.RBPwrPlnt_BF
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = RBPwrPlnt_BF
      Animation       = RBPwrPlnt_BF.RBPwrPlnt_BF
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_LAST
    End

  End

; ------------ under-construction scaffolding -----------------
  Draw = W3DModelDraw ModuleTag_03
  AnimationsRequirePower = No
    MinLODRequired = MEDIUM
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    AliasConditionState = NIGHT
    AliasConditionState = SNOW
    AliasConditionState = SNOW NIGHT

    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = RBPwrPlnt_SC
      Animation       = RBPwrPlnt_SC.RBPwrPlnt_SC
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Smoke01 BuildUpSmokeChina
      ParticleSysBone = Smoke02 BuildUpSmokeChina
      ParticleSysBone = Smoke03 BuildUpSmokeChina
    End
    AliasConditionState = NIGHT PARTIALLY_CONSTRUCTED
    AliasConditionState = SNOW PARTIALLY_CONSTRUCTED
    AliasConditionState = SNOW NIGHT PARTIALLY_CONSTRUCTED

    TransitionState   = DOWN_DEFAULT UP_DAY
     Model            = RBPwrPlnt_SC
      Animation       = RBPwrPlnt_SC.RBPwrPlnt_SC
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = RBPwrPlnt_SC
      Animation       = RBPwrPlnt_SC.RBPwrPlnt_SC
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_LAST
    End

  End
  
  PlacementViewAngle  = -45

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:CoalReactor
  Side             = BossGeneral
  EditorSorting    = STRUCTURE
  BuildCost        = 800
  BuildTime        = 8.0           ; in seconds
  EnergyProduction = 5
  EnergyBonus      = 10
  VisionRange      = 200.0           ; Shroud clearing distance
  ShroudClearingRange = 200
  ArmorSet
    Conditions     = None
    Armor          = StructureArmor
    DamageFX       = StructureDamageFXNoShake
  End
  CommandSet       = SellOnlyGenericCommandSet
  ExperienceValue     = 100 100 100 100  ; Experience point value at each level

  ; *** AUDIO Parameters ***
  VoiceSelect = ColdFusionReactorSelect
  SoundOnDamaged        = BuildingDamagedStateLight
  SoundOnReallyDamaged  = BuildingDestroy

  UnitSpecificSounds
    UnderConstruction     = UnderConstructionLoop
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority   = STRUCTURE
  KindOf          = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE CAPTURABLE FS_POWER MP_COUNT_FOR_VICTORY
  Body            = StructureBody ModuleTag_06
    MaxHealth       = 800.0
    InitialHealth   = 800.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 1000
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
  End

  Behavior = DestroyDie ModuleTag_10
    ;nothing
  End
  Behavior             = CreateObjectDie ModuleTag_11
    CreationList  = OCL_ABPowerPlantExplode
  End
  Behavior        = FXListDie ModuleTag_13
    DeathFX       = FX_StructureSmallDeath
  End

  Behavior = ProductionUpdate ModuleTag_14
    ; nothing
  End

  Behavior = FlammableUpdate ModuleTag_16
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 5       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = TransitionDamageFX ModuleTag_17
    ;-------------DESIGNED FOR SMALL SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
  End

  Geometry            = BOX
  GeometryMajorRadius = 24.0
  GeometryMinorRadius = 37.5
  GeometryHeight      = 57.0
  GeometryIsSmall     = No
  Shadow              = SHADOW_VOLUME
  BuildCompletion     = PLACED_BY_PLAYER

End


;--------------------------------------------------------------------------------
Object Boss_UkraineVehicleGadfly

  ; *** ART Parameters ***
  SelectPortrait = SA4TEL
  ButtonImage = SA4TEL

  Draw = W3DTankDraw ModuleTag_01
    OkToChangeModelColor = Yes
    ExtraPublicBone = CORE
    ProjectileBoneFeedbackEnabledSlots = PRIMARY ;WeaponLaunchBone will be shown/hidden, not just used for firing offset
    DefaultConditionState
      Model = CWCruSA11
      Turret = TURRET01
      TurretPitch = TURRETEL01
      WeaponLaunchBone = PRIMARY MISSILE
      WeaponFireFXBone = PRIMARY MISSILE
    End
    ConditionState = REALLYDAMAGED
      Model = CWCruSA11_d
    End
    ConditionState = RUBBLE
      Model = CWCruSA11_k
    End
    TrackMarks = EXTnkTrack.tga
    TreadAnimationRate = 0.75;  amount of tread texture to move per second
    TreadDriveSpeedFraction = 0.3 ; fraction of locomotor speed below which treads stop moving.
    TreadPivotSpeedFraction = 0.6 ; fraction of locomotor speed below which we allow pivoting.
  End

  ;---------------------------------------
  ; The brakes kick in
  ;---------------------------------------
  Draw = W3DModelDraw ModuleTag_BrakeDraw
    IgnoreConditionStates = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED RUBBLE
    AttachToBoneInAnotherModule = CORE
    ParticlesAttachedToAnimatedBones = Yes
    OkToChangeModelColor = Yes
    ;day, no lights, only if I brake
    ConditionState = NONE
      Model = CWCruSA11_l
      HideSubObject = HLIGHT01 HLIGHT02
      ParticleSysBone = BRAKE01 CWCgenRearLightBraking
      ParticleSysBone = BRAKE02 CWCgenRearLightBraking
    End
    ConditionState = MOVING
      Model = CWCruSA11_l
      HideSubObject = HLIGHT01 HLIGHT02
    End
    ;night, I always have my lights on when I move, and they flash whenever I brake
    ConditionState = NIGHT
      Model = CWCruSA11_l
      ParticleSysBone = BRAKE01 CWCgenRearLight
      ParticleSysBone = BRAKE02 CWCgenRearLight
      ShowSubObject = HLIGHT01 HLIGHT02
      ParticleSysBone = BRAKE01 CWCgenRearLightBraking
      ParticleSysBone = BRAKE02 CWCgenRearLightBraking
    End
    ConditionState = NIGHT MOVING
      Model = CWCruSA11_l
      ParticleSysBone = BRAKE01 CWCgenRearLight
      ParticleSysBone = BRAKE02 CWCgenRearLight
      ShowSubObject = HLIGHT01 HLIGHT02
    End
    ;enemynear, hide those red lights!
    ConditionState = ENEMYNEAR
      Model = CWCruSA11_l
      HideSubObject = HLIGHT01 HLIGHT02
    End
    AliasConditionState = MOVING ENEMYNEAR
    AliasConditionState = NIGHT ENEMYNEAR
    AliasConditionState = NIGHT MOVING ENEMYNEAR

  End

  ;---------------------------------------
  Draw = W3DTruckDraw ModuleTag_TracksDraw
    OkToChangeModelColor = Yes
    ParticlesAttachedToAnimatedBones = Yes
    AttachToBoneInAnotherModule = CORE
    DefaultConditionState
      Model = CWCruSA11_t
    End
    ; These parameters are only used if the model has a separate suspension,
    ; and the locomotor has HasSuspension = Yes.
    RightFrontTireBone = TIRE01
    LeftFrontTireBone = TIRE02
    MidRightFrontTireBone = TIRE03
    MidLeftFrontTireBone = TIRE04
    MidRightMidTireBone = TIRE05
    MidLeftMidTireBone = TIRE06
    MidLeftRearTireBone = TIRE07
    MidRightRearTireBone = TIRE08
    TireRotationMultiplier = 0.4 ; this * speed = rotation.
  End

  ;---------------------------------------
  ; The rotating housecolors
  ;---------------------------------------
  ; Draw = W3DModelDraw ModuleTag_HousecolorDraw
    ; OkToChangeModelColor = Yes
    ; ConditionState = NONE
      ; Model = CWCruHC_B
      ; Animation = CWCruHC_B.CWCruHC_B
      ; AnimationMode = LOOP
      ; HideSubObject = HOUSECOLOR02
    ; End
    ; AliasConditionState = WEAPONSET_PLAYER_UPGRADE
    ; AliasConditionState = REALLYDAMAGED
    ; AliasConditionState = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
    ; AliasConditionState = RUBBLE
    ; AliasConditionState = WEAPONSET_PLAYER_UPGRADE RUBBLE
    ; AliasConditionState = ENEMYNEAR RUBBLE
    ; AliasConditionState = ENEMYNEAR WEAPONSET_PLAYER_UPGRADE RUBBLE
    ; ConditionState = ENEMYNEAR
      ; Model = CWCruHC_B
      ; Animation = CWCruHC_B.CWCruHC_B
      ; AnimationMode = LOOP
      ; ShowSubObject = HOUSECOLOR02
    ; End
    ; AliasConditionState = ENEMYNEAR WEAPONSET_PLAYER_UPGRADE
    ; AliasConditionState = ENEMYNEAR REALLYDAMAGED
    ; AliasConditionState = ENEMYNEAR WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
  ; End

  ; ***DESIGN parameters ***
  DisplayName = OBJECT:SA11
  Side = Boss
  EditorSorting = VEHICLE
  TransportSlotCount = 4 ;how many "slots" we take in a transport (0 == not transportable)

  BuildCost = 20000
  BuildTime = 25.0 ;in seconds
  VisionRange = 600
  ShroudClearingRange = 1500
  Prerequisites
    Object = Boss_UkraineWarFactory
  End

  ;CWCExpMarker: SA-11
  ExperienceValue = 1500 2250 3000 4500 ;Experience point value at each level
  ExperienceRequired = 0 2443 4886 8550 ;Experience points needed to gain each level
  IsTrainable = Yes ;Can gain experience

  WeaponSet
    Conditions = None
    Weapon = PRIMARY CWCru9A310_SAM_Launcher
    AutoChooseSources = PRIMARY FROM_PLAYER FROM_AI FROM_SCRIPT
    PreferredAgainst = PRIMARY BALLISTIC_MISSILE AIRCRAFT
  End
  ArmorSet
    Conditions = None
    Armor = CWCruSA11Armor
    DamageFX = TankDamageFX
  End
  CrusherLevel = 2 ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel = 2 ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = GenericCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = CWCruSA11VoiceSelect
  VoiceMove = CWCruSA11VoiceMove
  VoiceGuard = CWCruSA11VoiceGuard
  VoiceAttackAir = CWCruSA11VoiceAttack
  SoundMoveLoop = CWCgenOldTreadsMoving
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate = CWCruSA11VoiceCreate
    TurretMoveStart = NoSound
    TurretMoveLoop = CWCgenIFV_APCTurretServo
    VoiceCrush = CWCruSA11VoiceCrush
    VoiceEnter = CWCruSA11VoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = CAN_ATTACK CAN_CAST_REFLECTIONS DONT_AUTO_CRUSH_INFANTRY POWERED PRELOAD SCORE SELECTABLE VEHICLE 

  Body = ActiveBody ModuleTag_02
    MaxHealth = 450.0
    InitialHealth = 450.0
    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 400
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
  End

  Behavior = AIUpdateInterface ModuleTag_04
   Turret
      TurretTurnRate = 80 // turn rate, in degrees per sec
      TurretPitchRate = 80
      AllowsPitch = Yes
      ;NaturalTurretPitch = 25
      FirePitch = 45
      FiresWhileTurning = Yes
      ControlledWeaponSlots = PRIMARY
      RecenterTime = 2000
      MinIdleScanInterval = 1000 ; in milliseconds
      MaxIdleScanInterval = 5000 ; in milliseconds
      MinIdleScanAngle = 25 ; in degrees off the natural turret angle
      MaxIdleScanAngle = 45 ; in degrees off the natural turret angle
    End
    AutoAcquireEnemiesWhenIdle = Yes ;defensive weapon
    MoodAttackCheckRate = 150
  End

  Locomotor = SET_NORMAL CWCruSA11Locomotor

  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 50.0
  End

  ; Behavior = EnemyNearUpdate ModuleTag_Housecolor
    ; ;nothing
  ; End

  Behavior = StealthDetectorUpdate ModuleTag_DetectStealth_Vehicle01
    CanDetectWhileContained = No ; this is a vehicle ; Can the object detect stealth objects when it is inside an object?
    CanDetectWhileGarrisoned = No ; this is a vehicle ; Can the object detect stealth objects when it is inside an object with a GarrisonContain module?
    DetectionRange = 63 ; 1/2 its visionrange ; The maximum distance that the object can detect enemy stealthed obejcts. Defaults to the object's VisionRange.
    DetectionRate = 1000 ; The time between scanning for stealthed objects.
    ExtraRequiredKindOf = AIRCRAFT
    ExtraForbiddenKindOf = BOAT INFANTRY
    InitiallyDisabled = No ; Does the detector start off in a disabled state?
  End

; --- begin Death modules ---
  Behavior = TransitionDamageFX ModuleTag_Death01
    DamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenTankDeathSmokeDamaged
    DamagedFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDamageTransition
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenTankDeathSmokeReallyDamaged
    ReallyDamagedFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDamageTransition
    RubbleParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenTankDeathSmokeRubble
    RubbleFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDamageTransition
    RubbleFXList2 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDeathRubble1
  End
  Behavior = SlowDeathBehavior ModuleTag_Death02
    DestructionDelay = 18000
    FX = MIDPOINT FX_CWCgenTankDeathRubble2
    ;OCL = MIDPOINT OCL_CWCgenTankDeathTrails
    SinkDelay = 15000
    SinkRate = 4.0
    ;Weapon = MIDPOINT CWCgenVehicleExplodeWeapon
  End
; --- end Death modules ---

  ; Behavior = FireWeaponUpdate ModuleTag_Radar
    ; Weapon = CWCruSA11RadarWeapon
    ; ExclusiveWeaponDelay = 500
  ; End

  ; Behavior = ObjectCreationUpgrade ModuleTag_AntiRadarDrone
    ; UpgradeObject = OCL_CWCgenAntiRadarDrone
    ; TriggeredBy = Upgrade_CWCgenAntiRadarDrone
  ; End

  ; Behavior = GrantUpgradeCreate ModuleTag_AntiRadarDroneCreate
    ; UpgradeToGrant = Upgrade_CWCgenAntiRadarDrone
  ; End

  Geometry = BOX
  GeometryMajorRadius = 15.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 10.0
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45 ; minimum elevation angle above horizon. Used to limit shadow length
  Scale = 1.1
End

;------------------------------------------------------------------------------
Object Boss_UkraineVehicleGrumble

  ; *** ART Parameters ***
  SelectPortrait = PatriotSystem
  ButtonImage = PatriotSystem

  Draw = W3DTruckDraw ModuleTag_01
    OkToChangeModelColor = Yes
    ProjectileBoneFeedbackEnabledSlots = PRIMARY
    DefaultConditionState
      Model = CWCruS300
      Animation = CWCruS300.CWCruS300
      AnimationMode = ONCE_BACKWARDS
      Flags = MAINTAIN_FRAME_ACROSS_STATES
    End
    AliasConditionState = RIDER1
    AliasConditionState = RIDER1 MOVING
    ConditionState = REALLYDAMAGED
      Model = CWCruS300_d
      Animation = CWCruS300_d.CWCruS300_d
      AnimationMode = ONCE_BACKWARDS
      Flags = MAINTAIN_FRAME_ACROSS_STATES
    End
    AliasConditionState = RIDER1 REALLYDAMAGED
    AliasConditionState = RIDER1 REALLYDAMAGED MOVING
    ConditionState = RUBBLE
      Model = CWCruS300_k
      Animation = CWCruS300_k.CWCruS300_k
      AnimationMode = ONCE_BACKWARDS
      Flags = MAINTAIN_FRAME_ACROSS_STATES
    End
    AliasConditionState = RIDER1 RUBBLE
    ConditionState = RIDER2
      Model = CWCruS300
      Animation = CWCruS300.CWCruS300
      AnimationMode = ONCE
      Flags = MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
      WeaponLaunchBone = PRIMARY MISSILE_C
      WeaponFireFXBone = PRIMARY MUZZLEFX 
    End
    AliasConditionState = RIDER2 MOVING
    ConditionState = RIDER2 REALLYDAMAGED
      Model = CWCruS300_d
      Animation = CWCruS300_d.CWCruS300_d
      AnimationMode = ONCE
      Flags = MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
      WeaponLaunchBone = PRIMARY MISSILE_C
      WeaponFireFXBone = PRIMARY MUZZLEFX 
    End
    AliasConditionState = RIDER2 REALLYDAMAGED MOVING
    ConditionState = RIDER2 RUBBLE
      Model = CWCruS300_k
      Animation = CWCruS300_k.CWCruS300_k
      AnimationMode = ONCE
      Flags = MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
      WeaponLaunchBone = PRIMARY MISSILE_C
      WeaponFireFXBone = PRIMARY MUZZLEFX 
    End
    AliasConditionState = RIDER2 RUBBLE MOVING 
    TrackMarks = EXTireTrack.tga
    ; These parameters are only used if the model has a separate suspension,
    ; and the locomotor has HasSuspension = Yes.
    RightFrontTireBone = WHEEL05
    LeftFrontTireBone = WHEEL01
    MidRightFrontTireBone = WHEEL06
    MidLeftFrontTireBone = WHEEL02
    MidLeftRearTireBone = WHEEL03
    MidRightRearTireBone = WHEEL07
    RightRearTireBone = WHEEL08
    LeftRearTireBone = WHEEL04
    TireRotationMultiplier = 0.2 ; this * speed = rotation.
  End

  ;---------------------------------------
  ; The brakes kick in
  ;---------------------------------------
  Draw = W3DModelDraw ModuleTag_BrakeDraw
    IgnoreConditionStates = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED RUBBLE
    AttachToBoneInAnotherModule = CORE
    ParticlesAttachedToAnimatedBones = Yes
    OkToChangeModelColor = Yes
    ;day, no lights, only if I brake
    ConditionState = NONE
      Model = CWCruS300_l
      HideSubObject = HLIGHT01 HLIGHT02
      ParticleSysBone = BRAKE01 CWCgenRearLightBraking
      ParticleSysBone = BRAKE02 CWCgenRearLightBraking
    End
    ConditionState = MOVING
      Model = CWCruS300_l
      HideSubObject = HLIGHT01 HLIGHT02
    End
    ;night, I always have my lights on when I move, and they flash whenever I brake
    ConditionState = NIGHT
      Model = CWCruS300_l
      ParticleSysBone = BRAKE01 CWCgenRearLight
      ParticleSysBone = BRAKE02 CWCgenRearLight
      ShowSubObject = HLIGHT01 HLIGHT02
      ParticleSysBone = BRAKE01 CWCgenRearLightBraking
      ParticleSysBone = BRAKE02 CWCgenRearLightBraking
    End
    ConditionState = NIGHT MOVING
      Model = CWCruS300_l
      ParticleSysBone = BRAKE01 CWCgenRearLight
      ParticleSysBone = BRAKE02 CWCgenRearLight
      ShowSubObject = HLIGHT01 HLIGHT02
    End
    ;enemynear, hide those red lights!
    ConditionState = ENEMYNEAR
      Model = CWCruS300_l
      HideSubObject = HLIGHT01 HLIGHT02
    End
    AliasConditionState = MOVING ENEMYNEAR
    AliasConditionState = NIGHT ENEMYNEAR
    AliasConditionState = NIGHT MOVING ENEMYNEAR
  End

  ;---------------------------------------
  ; The rotating housecolors
  ;---------------------------------------
  ; Draw = W3DModelDraw ModuleTag_HousecolorDraw
    ; OkToChangeModelColor = Yes

    ; ConditionState = NONE
      ; Model = CWCruHC_B
      ; Animation = CWCruHC_B.CWCruHC_B
      ; AnimationMode = LOOP
      ; HideSubObject = HOUSECOLOR02
    ; End
    ; AliasConditionState = WEAPONSET_PLAYER_UPGRADE
    ; AliasConditionState = REALLYDAMAGED
    ; AliasConditionState = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
    ; AliasConditionState = RUBBLE
    ; AliasConditionState = WEAPONSET_PLAYER_UPGRADE RUBBLE
    ; AliasConditionState = ENEMYNEAR RUBBLE
    ; AliasConditionState = ENEMYNEAR WEAPONSET_PLAYER_UPGRADE RUBBLE

    ; ConditionState = ENEMYNEAR
      ; Model = CWCruHC_B
      ; Animation = CWCruHC_B.CWCruHC_B
      ; AnimationMode = LOOP
      ; ShowSubObject = HOUSECOLOR02
    ; End
    ; AliasConditionState = ENEMYNEAR WEAPONSET_PLAYER_UPGRADE
    ; AliasConditionState = ENEMYNEAR REALLYDAMAGED
    ; AliasConditionState = ENEMYNEAR WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
  ; End

  ; ***DESIGN parameters ***
  DisplayName = OBJECT:S300PMU
  Side = Boss
  EditorSorting = VEHICLE
  TransportSlotCount = 8

  ArmorSet
    Conditions = None
    Armor = CWCruS300Armor
    DamageFX = TruckDamageFX
  End

  WeaponSet
    Conditions = WEAPON_RIDER1
    Weapon = PRIMARY None
  End

  WeaponSet
    Conditions = WEAPON_RIDER2
    Weapon = PRIMARY CWCruTEL
    AutoChooseSources = PRIMARY FROM_PLAYER FROM_AI FROM_SCRIPT
    PreferredAgainst = PRIMARY BALLISTIC_MISSILE AIRCRAFT
  End
  
  ; WeaponSet
    ; Conditions = None
    ; Weapon            = PRIMARY S300GrumbleDummyWeapon
    ; AutoChooseSources = PRIMARY NONE
    ; Weapon            = SECONDARY CWCruTEL
	; PreferredAgainst = SECONDARY BALLISTIC_MISSILE AIRCRAFT
  ; End

  BuildCost = 30000
  BuildTime = 30.0 ;in seconds
  VisionRange = 350
  ShroudClearingRange = 300
  Prerequisites
    Object = Boss_UkraineWarFactory
	Object = Boss_UkraineRadarPost
  End

  ExperienceValue = 1500 2250 3000 4500 ;Experience point value at each level
  ExperienceRequired = 0 0 0 0 ;Experience points needed to gain each level
  IsTrainable = No ;Can gain experience

  CrusherLevel = 2 ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel = 2 ;What am I?: 0 = for infantry, 1 = for trees, 2 = general vehicles

  CommandSet = CWCruS300CommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = SA4VoiceSelect
  VoiceMove = SA4VoiceAttackAir
  VoiceAttack = SA4VoiceAttackAir
  VoiceGuard = SA4VoiceAttackAir
  SoundMoveLoop = CWCgenHeavyVehicleMoving01
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate = SA4VoiceCreate
    TurretMoveStart = NoSound
    TurretMoveLoop = TurretMoveLoop
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = CAN_ATTACK CAN_CAST_REFLECTIONS DONT_AUTO_CRUSH_INFANTRY FS_BASE_DEFENSE HUGE_VEHICLE POWERED PRELOAD SCORE SELECTABLE VEHICLE 

  Body = ActiveBody ModuleTag_02
    MaxHealth = 350.0
    InitialHealth = 350.0
  End

  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle = Yes
    MoodAttackCheckRate = 150
  End

  Locomotor = SET_NORMAL CWCruS300Locomotor
  
  Locomotor = SET_SLUGGISH CWCruS300DeployedLocomotor

  Behavior = RiderChangeContain ModuleTag_Deployment99
    ;A list of each valid rider that is allowed to ride this object. Each rider is
    ;assigned a modelcondition state, a weaponset flag, an object status bit, and
    ;a commandset override. The actual object is hidden inside the container so the
    ;visible rider is fluff. Also riders are deleted (not killed) when the bike is
    ;destroyed, so all deaths must be OCLs on the bike.
    Rider1 = CWCruFakeRider_Inf_Stand RIDER1 WEAPON_RIDER1 STATUS_RIDER1 CWCruS300CommandSet SET_NORMAL
    Rider2 = CWCruFakeRider_Inf_Prone RIDER2 WEAPON_RIDER2 STATUS_RIDER2 CWCruS300DeployedCommandSet SET_SLUGGISH
    ScuttleDelay = 1500
    ScuttleStatus = TOPPLED
    ;Standard TransportContain stuff
    Slots = 1
    ;InitialPayload = CWCruFakeRider_Inf_Stand 1
    ScatterNearbyOnExit = No
    HealthRegen%PerSec = 0
    DamagePercentToUnits = 0%
    BurnedDeathToUnits = No
    AllowInsideKindOf = INFANTRY
    ExitDelay = 0
    NumberOfExitPaths = 1
    GoAggressiveOnExit = No
    DoorOpenTime = 0
    OrientLikeContainerOnExit = Yes
  End
  
  Behavior = OCLSpecialPower ModuleTag_Deployment98
    SpecialPowerTemplate = SpecialAbilityCWCruFakeRider_Inf_Stand
    OCL = OCL_CWCruSpecialAbilityFakeRider_Inf_Stand
  End
  
  Behavior = OCLSpecialPower ModuleTag_Deployment97
    SpecialPowerTemplate = SpecialAbilityCWCruFakeRider_Inf_Prone
    OCL = OCL_CWCruSpecialAbilityFakeRider_Inf_Prone
  End

  Behavior = PhysicsBehavior ModuleTag_07
    Mass = 50.0
  End

  ; Behavior = EnemyNearUpdate ModuleTag_Housecolor
    ; ;nothing
  ; End

  ; Behavior = StealthDetectorUpdate ModuleTag_DetectStealth_Vehicle01
    ; CanDetectWhileContained = No ; this is a vehicle ; Can the object detect stealth objects when it is inside an object?
    ; CanDetectWhileGarrisoned = No ; this is a vehicle ; Can the object detect stealth objects when it is inside an object with a GarrisonContain module?
    ; DetectionRange = 75 ; 1/2 its visionrange ; The maximum distance that the object can detect enemy stealthed obejcts. Defaults to the object's VisionRange.
    ; DetectionRate = 1000 ; The time between scanning for stealthed objects.
    ; ExtraRequiredKindOf = INFANTRY
    ; ExtraForbiddenKindOf = BOAT
    ; InitiallyDisabled = No ; Does the detector start off in a disabled state?
  ; End

; --- begin Death modules ---
  Behavior = TransitionDamageFX ModuleTag_Death01
    DamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenTankDeathSmokeDamaged
    DamagedFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDamageTransition
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenTankDeathSmokeReallyDamaged
    ReallyDamagedFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDamageTransition
    RubbleParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenTankDeathSmokeRubble
    RubbleFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDamageTransition
    RubbleFXList2 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDeathRubble1
  End
  
  Behavior = SlowDeathBehavior ModuleTag_Death02
    DestructionDelay = 18000
    FX = MIDPOINT FX_CWCgenTankDeathRubble2
    ;OCL = MIDPOINT OCL_CWCgenTankDeathTrails
    SinkDelay = 15000
    SinkRate = 4.0
    ;Weapon = MIDPOINT CWCgenVehicleExplodeWeapon
  End
; --- end Death modules ---

  ; Behavior = FireWeaponUpdate ModuleTag_Radar
    ; Weapon = CWCruSA10RadarWeapon
    ; ExclusiveWeaponDelay = 500
  ; End

  ; Behavior = ObjectCreationUpgrade ModuleTag_AntiRadarDrone
    ; UpgradeObject = OCL_CWCgenAntiRadarDrone
    ; TriggeredBy = Upgrade_CWCgenAntiRadarDrone
  ; End

  ; Behavior = GrantUpgradeCreate ModuleTag_AntiRadarDroneCreate
    ; UpgradeToGrant = Upgrade_CWCgenAntiRadarDrone
  ; End

  Geometry = BOX
  GeometryMajorRadius = 25.0
  GeometryMinorRadius = 9.0
  GeometryHeight = 15
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45 ; minimum elevation angle above horizon. Used to limit shadow length
  Scale = 1.08
End

;------------------------------------------------
Object Boss_UkrainePatriotSystem

  ; *** ART Parameters ***
  SelectPortrait         = PatriotSystem
  ButtonImage            = PatriotSystem

  Draw = W3DTruckDraw ModuleTag_01

    OkToChangeModelColor = Yes

    ExtraPublicBone = Turret01

    DefaultConditionState
      Model                           = MVPatrSystem
      WeaponLaunchBone                = SECONDARY MISSILE
      WeaponMuzzleFlash               = SECONDARY EXH
      ;WeaponFireFXBone                = SECONDARY MISSILE
	  WeaponFireFXBone                = SECONDARY WeaponC
      ;WeaponRecoilBone                = SECONDARY TURRET01
	  WeaponRecoilBone                = SECONDARY WeaponC
      HideSubObject                   = Turret01      ;Hide controlled turret
      ShowSubObject                   = TURRETBACK  ;Show pack/unpack animated turret
      Turret                          = Turret01
      TurretPitch                     = Turret01;TurretEL
    End

    ConditionState    = REALLYDAMAGED
      Model           = MVPatrSystem_D
      WeaponLaunchBone                = PRIMARY Muzzle
      WeaponMuzzleFlash               = PRIMARY MuzzleFX
      WeaponFireFXBone                = PRIMARY Muzzle
      WeaponRecoilBone                = PRIMARY Barrel
      HideSubObject                   = Turret01      ;Hide controlled turret
      ShowSubObject                   = TURRETFRONT TURRETBACK  ;Show pack/unpack animated turret
      Turret                          = Turret01
      TurretPitch                     = TurretEL
    End

    ConditionState                    = RUBBLE
      Model                           = MVPatrSystem_D
      WeaponLaunchBone                = PRIMARY Muzzle
      WeaponMuzzleFlash               = PRIMARY MuzzleFX
      WeaponFireFXBone                = PRIMARY Muzzle
      WeaponRecoilBone                = PRIMARY Barrel
      HideSubObject                   = TURRET01      ;Hide controlled turret
      ShowSubObject                   = TURRETFRONT TURRETBACK  ;Show pack/unpack animated turret
      Turret                          = Turret01
      TurretPitch                     = TurretEL
    End

    ;*** PACKED STATE -- ready to move ***
    ConditionState    = MOVING
      Animation       = MVPatrSystem.MVPatrSystem
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_FIRST
    End
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_A ;Very long shot delay -- possibly moving
    AliasConditionState = BETWEEN_FIRING_SHOTS_A
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_B ;Very long shot delay -- possibly moving
    AliasConditionState = BETWEEN_FIRING_SHOTS_B
    ;***
    ConditionState    = REALLYDAMAGED MOVING
      Model           = MVPatrSystem_D
      Animation       = MVPatrSystem_D.MVPatrSystem_D
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_FIRST
    End
    AliasConditionState = REALLYDAMAGED MOVING BETWEEN_FIRING_SHOTS_A ;Very long shot delay -- possibly moving
    AliasConditionState = REALLYDAMAGED MOVING BETWEEN_FIRING_SHOTS_B ;Very long shot delay -- possibly moving


    ;*** UNPACKING STATE  -- preparing to fire ***
    ConditionState    = UNPACKING
      Animation       = MVPatrSystem.MVPatrSystem
      AnimationMode   = MANUAL
    End
    AliasConditionState = UNPACKING BETWEEN_FIRING_SHOTS_A ;Very long shot delay
    AliasConditionState = UNPACKING BETWEEN_FIRING_SHOTS_B ;Very long shot delay
    ;***
    ConditionState    = REALLYDAMAGED UNPACKING
      Model           = MVPatrSystem_D
      Animation       = MVPatrSystem_D.MVPatrSystem_D
      AnimationMode   = MANUAL
    End
    AliasConditionState = REALLYDAMAGED UNPACKING BETWEEN_FIRING_SHOTS_A ;Very long shot delay
    AliasConditionState = REALLYDAMAGED UNPACKING BETWEEN_FIRING_SHOTS_B ;Very long shot delay

    ;*** PACKING STATE -- preparing to move ***
    ConditionState    = PACKING
      Animation       = MVPatrSystem.MVPatrSystem
      AnimationMode   = MANUAL
    End

    AliasConditionState = PACKING BETWEEN_FIRING_SHOTS_A ;Very long shot delay
    AliasConditionState = PACKING BETWEEN_FIRING_SHOTS_B ;Very long shot delay
    ;***
    ConditionState    = REALLYDAMAGED PACKING
      Model           = MVPatrSystem_D
      Animation       = MVPatrSystem_D.MVPatrSystem_D
      AnimationMode   = MANUAL
    End
    AliasConditionState = REALLYDAMAGED PACKING BETWEEN_FIRING_SHOTS_A ;Very long shot delay
    AliasConditionState = REALLYDAMAGED PACKING BETWEEN_FIRING_SHOTS_B ;Very long shot delay

    ;*** DEPLOYED STATE -- ready to fire ***
    ConditionState  = DEPLOYED 
      Animation       = MVPatrSystem.MVPatrSystem
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
      TransitionKey   = TRANS_FIRING_A
      HideSubObject   = TURRETBACK   ;Hide pack/unpack animated turret
      ShowSubObject   = TURRET01      ;Show controlled turret
    End
    AliasConditionState = DEPLOYED FIRING_A
    AliasConditionState = DEPLOYED BETWEEN_FIRING_SHOTS_A
    AliasConditionState = DEPLOYED RELOADING_A
    AliasConditionState = DEPLOYED MOVING
    AliasConditionState = DEPLOYED FIRING_B
    AliasConditionState = DEPLOYED BETWEEN_FIRING_SHOTS_B
    AliasConditionState = DEPLOYED RELOADING_B

    ConditionState  = DEPLOYED REALLYDAMAGED
      Model           = MVPatrSystem_D
      Animation       = MVPatrSystem_D.MVPatrSystem_D
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
      TransitionKey   = TRANS_FIRING_A
      HideSubObject   = TURRETBACK  ;Hide pack/unpack animated turret
      ShowSubObject   = TURRET01      ;Show controlled turret
    End
    AliasConditionState = DEPLOYED REALLYDAMAGED FIRING_A
    AliasConditionState = DEPLOYED REALLYDAMAGED BETWEEN_FIRING_SHOTS_A
    AliasConditionState = DEPLOYED REALLYDAMAGED RELOADING_A
    AliasConditionState = DEPLOYED REALLYDAMAGED MOVING
    AliasConditionState = DEPLOYED REALLYDAMAGED FIRING_B
    AliasConditionState = DEPLOYED REALLYDAMAGED BETWEEN_FIRING_SHOTS_B
    AliasConditionState = DEPLOYED REALLYDAMAGED RELOADING_B

    TrackMarks              = EXTnkTrack.tga

    Dust = ScudLauncherDust
    DirtSpray = RocketBuggyDirtSpray
    PowerslideSpray = RocketBuggyDirtPowerSlide

    ; These parameters are only used if the model has a separate suspension,
    ; and the locomotor has HasSuspension = Yes.
    LeftFrontTireBone = WHEEL01
    RightFrontTireBone = WHEEL04
    MidLeftFrontTireBone = WHEEL02
    MidRightFrontTireBone = WHEEL05
    MidLeftRearTireBone = WHEEL03
    MidRightRearTireBone = WHEEL06

    TireRotationMultiplier = 0.2   ; this * speed = rotation.
    ;PowerslideRotationAddition = 0.0   ; This speed is added to the rotation speed when powersliding.

  End


; ***DESIGN parameters ***-----------------

  DisplayName     = OBJECT:PatriotSystem
  Side = Boss
  EditorSorting   = VEHICLE
  TransportSlotCount = 10                 ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions = None
    Weapon = PRIMARY ScudStormPrimaryDummyWeapon
    AutoChooseSources = PRIMARY NONE
    ;Weapon = SECONDARY PatriotSystemLauncherExplosive
	Weapon = SECONDARY PatriotPAC3MissileWeapon
	;Weapon = SECONDARY SamMissileWeapon
    AutoChooseSources = SECONDARY   FROM_PLAYER FROM_AI FROM_SCRIPT
	PreferredAgainst    = SECONDARY   BALLISTIC_MISSILE AIRCRAFT
  End
  ArmorSet
    Conditions      = None
    Armor           = AirfbaseArmor
    DamageFX        = TankDamageFX
  End
  BuildCost       = 10000
  BuildTime       = 35.0         ;in seconds
  VisionRange     = 350
  ShroudClearingRange = 400
  ShroudRevealToAllRange = 50  ; Reveals shroud to all players at a specific amount which can be different.
                               ; Using same value? Then use KINDOF_REVEAL_TO_ALL instead!
  
  ExperienceValue     = 200 200 200 200  ; Experience point value at each level
  ;CommandSet = MilitiaVehiclePatriotSystemCommandSet
  CommandSet = AirF_PatriotSystemCommandSet
  ;MaxSimultaneousOfType = DeterminedBySuperweaponRestriction ; Normally unlimited, but can be selected by players in multiplayer games
  ;MaxSimultaneousLinkKey = Superweapon  ; Count all superweapons **AND THE GLA SCUD STORM REBUILD HOLE** as one "type" for MaxSimultaneousOfType

  ; *** AUDIO Parameters ***
  VoiceSelect = TopolVoiceSelect
  VoiceMove = ScudLauncherVoiceMove
  VoiceGuard = ScudLauncherVoiceMove
  VoiceAttack = ScudLauncherVoiceAttack
  SoundMoveStart = ScudLauncherMoveStart
  SoundMoveStartDamaged = ScudLauncherMoveStart
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate       = ScudLauncherVoiceCreate
    TurretMoveStart = NoSound
    TurretMoveLoop = TurretMoveLoop
    TruckLandingSound = NoSound
    TruckPowerslideSound = NoSound
    VoiceCrush = ScudLauncherVoiceCrush
    VoiceEnter = ScudLauncherVoiceMove
    VoicePrimaryWeaponMode = ScudLauncherVoiceModeHiEx
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS VEHICLE SCORE FS_SUPERWEAPON FS_TECHNOLOGY

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 550.0
    InitialHealth   = 550.0
    SubdualDamageCap = 500
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 60
  End

  Behavior = DeployStyleAIUpdate ModuleTag_0486
     Turret
     TurretTurnRate        = 9999
     RecenterTime          = 1         ; how long to wait during idle before recentering
     ControlledWeaponSlots = SECONDARY
     NaturalTurretAngle    = 0
     InitiallyDisabled     = Yes
  End
AutoAcquireEnemiesWhenIdle = No
   PackTime = 3222
   UnpackTime = 3222
   TurretsFunctionOnlyWhenDeployed = Yes
   TurretsMustCenterBeforePacking = Yes
   ManualDeployAnimations = Yes
End

  ; Behavior    = OCLSpecialPower ModuleTag_Patr01
    ; SpecialPowerTemplate = SuperweaponPatriotSystem
    ; OCL                  = SUPERWEAPON_PatriotSystem
  ; End
  ; Behavior = SpecialPowerCreate ModuleTag_Patr02
    ; ;nothing
  ; End

  Behavior = ProductionUpdate ModuleTag_24
  End

  Behavior = CommandButtonHuntUpdate  ModuleTag_04709 ; allows use of command button hunt script with this unit.
  End

  Locomotor = SET_NORMAL PatriotSystemLocomotor
  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 80.0
  End

  Behavior = TransitionDamageFX ModuleTag_07
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_ScudLauncherDamageTransition
  End

  ; Catch fire, and explode death
  Behavior = SlowDeathBehavior ModuleTag_08
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier = 50
    DestructionDelay = 2000
    DestructionDelayVariance = 300
    FX  = INITIAL  FX_CrusaderCatchFire
    OCL = FINAL    OCL_PatriotSystemDeathEffect
    FX  = FINAL    FX_ScudLauncherExplosionOneFinal
  End

  ; A crushing defeat
  Behavior = FXListDie ModuleTag_09
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End

  Behavior = CreateObjectDie ModuleTag_10
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_CrusaderTank_CrushEffect
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = DestroyDie ModuleTag_99
    DeathTypes = NONE +CRUSHED +SPLATTED
  End

  Geometry = BOX
  GeometryMajorRadius = 35.0
  GeometryMinorRadius = 15.0
  GeometryHeight = 18
  GeometryIsSmall = No
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;---------------------------------------------------------------------------------------
Object Boss_UkraineVehicleTPY2

  ; *** ART Parameters ***
  SelectPortrait         = SURadarVan
  ButtonImage            = SURadarVan
  
  UpgradeCameo1 = Upgrade_AmericaScoutDrone

  Draw = W3DTruckDraw ModuleTag_01
    OkToChangeModelColor = Yes
    ConditionState = NONE
      Model = USAIRadar
    End
    ConditionState       = REALLYDAMAGED  
      Model              = USAIRadar_D
    End
    ConditionState       = RUBBLE   
      Model              = AV-MRS_E
      HideSubObject      = TURRET01      ;Hide the dish, since an ocl makes an airborne one is slow death behavior
    End
    TrackMarks = EXTireTrack.tga
    Dust = ScudLauncherDust
    ; These parameters are only used if the model has a separate suspension,
    ; and the locomotor has HasSuspension = Yes.
    LeftFrontTireBone = Tire01
    RightFrontTireBone = Tire05
    LeftRearTireBone = Tire04
    MidLeftFrontTireBone = Tire02
    MidRightFrontTireBone = Tire06
    RightRearTireBone = Tire03
    TireRotationMultiplier = 0.2   ; this * speed = rotation.
    ;PowerslideRotationAddition = 0.0   ; This speed is added to the rotation speed when powersliding.
  End
  Draw = W3DModelDraw ModuleTag_02
    OkToChangeModelColor = Yes
    ConditionState = NONE
      Model = USAIRadar_A
      Animation = USAIRadar_A.USAIRadar_A
      AnimationMode     = LOOP
      TransitionKey = Trans_Moving
    End
    ConditionState = REALLYDAMAGED
      Model = USAIRadar_AD
      Animation = USAIRadar_AD.USAIRadar_AD
      AnimationMode     = LOOP
      TransitionKey = Trans_Moving_ReallyDamaged
    End
    ConditionState = MOVING
      Model = USAIRadar_B
      ;Animation = USAIRadar_B.USAIRadar_B
      ;AnimationMode     = ONCE
      TransitionKey = Trans_Deployed
    End
    ConditionState = REALLYDAMAGED MOVING
      Model = USAIRadar_BD
      ;Animation = USAIRadar_BD.USAIRadar_BD
      ;AnimationMode     = ONCE
      TransitionKey = Trans_Deployed_ReallyDamaged
    End
    ConditionState = RUBBLE
      Model = NONE
    End
    AliasConditionState = RUBBLE MOVING
    ;**** PACKING AND UNPACKING MODES ***
    TransitionState     = Trans_Moving Trans_Deployed
      Model = USAIRadar_C
      Animation = USAIRadar_C.USAIRadar_C
      AnimationMode     = ONCE_BACKWARDS
    End
    TransitionState     = Trans_Moving_ReallyDamaged Trans_Deployed_ReallyDamaged
      Model = USAIRadar_CD
      Animation = USAIRadar_CD.USAIRadar_CD
      AnimationMode     = ONCE_BACKWARDS
    End
    TransitionState     = Trans_Deployed Trans_Moving 
      Model = USAIRadar_C
      Animation = USAIRadar_C.USAIRadar_C
      AnimationMode     = ONCE
    End
    TransitionState     = Trans_Deployed_ReallyDamaged Trans_Moving_ReallyDamaged 
      Model = USAIRadar_CD
      Animation = USAIRadar_CD.USAIRadar_CD
      AnimationMode     = ONCE
    End
  End

  ; ***DESIGN parameters ***
  DisplayName               = OBJECT:MRS
  Side                      = Boss
  EditorSorting             = VEHICLE
  TransportSlotCount        = 8            ;how many "slots" we take in a transport (0 == not transportable)
  
  WeaponSet
    Conditions = None
    Weapon            = PRIMARY S300GrumbleDummyWeapon
    AutoChooseSources = PRIMARY NONE
  End
  
  ArmorSet
    Conditions    = None
    Armor         = MobileRadarArmor
    DamageFX      = TankDamageFX
  End
  BuildCost       = 40000
  BuildTime       = 40.0          ;in seconds    
  VisionRange     = 1500
  ShroudClearingRange = 1500

  ExperienceValue        = 100 100 165 275 ;Experience point value at each level
  IsTrainable = No             ;Can gain experience
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet      = AmericaRadarDeployCommandSet


  ; *** AUDIO Parameters ***
  VoiceSelect = TPY2Select
  VoiceMove = TPY2Move
  VoiceGuard = TPY2Move
  VoiceAttack = TPY2Move
  VoiceAttackAir = TPY2Move
  SoundMoveStart = ScudLauncherMoveStart
  SoundMoveStartDamaged = ScudLauncherMoveStart

  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate     = TPY2Create
    TurretMoveLoop = NoSound
    SoundEject = PilotSoundEject
    VoiceEject = PilotVoiceEject
    VoiceCrush = NoSound
    VoiceEnter = TPY2Move
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority     = UNIT
  KindOf            = PRELOAD SELECTABLE IGNORES_SELECT_ALL CAN_ATTACK CAN_CAST_REFLECTIONS VEHICLE SCORE
  
  Body              = ActiveBody ModuleTag_03
    MaxHealth       = 350.0
    InitialHealth   = 350.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 600
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End
   Behavior = DeployStyleAIUpdate ModuleTag_04
    PackTime = 1667
    UnpackTime = 1667
    TurretsFunctionOnlyWhenDeployed = Yes
    TurretsMustCenterBeforePacking = Yes
    ManualDeployAnimations = Yes
    AutoAcquireEnemiesWhenIdle = No
    MoodAttackCheckRate        = 1
  End
  
  Locomotor = SET_NORMAL RadarSAMTruckLocomotor
  
  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 50.0
  End
 
;Deaths-------------------------------------------------------------
  Behavior = SlowDeathBehavior DeathTag_01
    DeathTypes = ALL -CRUSHED -SPLATTED -POISONED -POISONED_BETA ;-EXTRA_8
    FX = INITIAL FX_BigTruckDeathFX
    FX = FINAL FX_BuggyNewDeathExplosion
    OCL = FINAL OCL_MRSDebris
  End
  Behavior = DestroyDie DeathTag_02
    DeathTypes = NONE +CRUSHED +SPLATTED
  End
  Behavior = FXListDie DeathTag_03
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  Behavior = CreateObjectDie DeathTag_04
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_MRSDebris
  End
  ; Behavior = SlowDeathBehavior DeathTag_05
    ; DeathTypes = NONE +EXTRA_8
    ; FX  = INITIAL FX_VehicleRadiationDeath
    ; SinkRate = 2.5
    ; SinkDelay = 6000
    ; DestructionDelay = 14000
  ; End
;Poison
  Behavior = SlowDeathBehavior DeathTag_06
    DeathTypes = NONE +POISONED
    FX  = INITIAL FX_VehiclePoisonDeath
    SinkRate = 2.5
    SinkDelay = 6000
    DestructionDelay = 14000
  End
;PoisonBeta
    Behavior = SlowDeathBehavior DeathTag_07
    DeathTypes = NONE +POISONED_BETA
    FX  = INITIAL FX_VehiclePoisonBetaDeath
    SinkRate = 2.5
    SinkDelay = 6000
    DestructionDelay = 14000
  End
;Stealth-------------------------------------------------------------
;---------------------------------------------------------------------

  Behavior = ProductionUpdate ModuleTag_07
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End

  Behavior = CreateCrateDie ModuleTag SalvageData
    CrateData = SalvageCrateData
  End

  Behavior = EjectPilotDie ModuleTag_08
    DeathTypes = ALL -CRUSHED -SPLATTED
    ExemptStatus = HIJACKED
    VeterancyLevels =  ALL -REGULAR ;only vet+ gives pilot
    GroundCreationList = OCL_EjectPilotOnGround
    AirCreationList = OCL_EjectPilotViaParachute
  End
  
  Behavior = TransitionDamageFX ModuleTag_09
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End
  
  Behavior = FlammableUpdate ModuleTag_10
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = StealthDetectorUpdate ModuleTag_11
    DetectionRate   = 2200   ; how often to rescan for stealthed things in my sight (msec)
    DetectionRange = 1000 ;Dustin, enable this for independant balancing!
    ExtraRequiredKindOf      = AIRCRAFT
    CanDetectWhileGarrisoned  = No ;Garrisoned means being in a structure that you units can shoot out of.
    CanDetectWhileContained   = No ;Contained means being in a transport or tunnel network.
  End

  Behavior = StealthDetectorUpdate ModuleTag_11a
    DetectionRate   = 2200   ; how often to rescan for stealthed things in my sight (msec)
    DetectionRange = 800 ;Dustin, enable this for independant balancing!
    ExtraRequiredKindOf      = DRONE
    CanDetectWhileGarrisoned  = No ;Garrisoned means being in a structure that you units can shoot out of.
    CanDetectWhileContained   = No ;Contained means being in a transport or tunnel network.
  End

  Behavior = StealthDetectorUpdate ModuleTag_12
    DetectionRate   = 1000   ; how often to rescan for stealthed things in my sight (msec)
    DetectionRange = 400 ;Dustin, enable this for independant balancing!
    ;ExtraForbiddenKindOf     = AIRCRAFT 
    CanDetectWhileGarrisoned  = No ;Garrisoned means being in a structure that you units can shoot out of.
    CanDetectWhileContained   = No ;Contained means being in a transport or tunnel network.
  End

;  Behavior = FireWeaponUpdate ModuleTag_13
;    Weapon = ThaadRadarWeapon
;    ExclusiveWeaponDelay = 1000
;  End

  ; Behavior = FireWeaponWhenDamagedBehavior ModuleTag_14
    ; StartsActive = Yes
    ; ReactionWeaponPristine = DroneRevealWeapon
    ; ReactionWeaponDamaged = DroneRevealWeapon
    ; ReactionWeaponReallyDamaged = DroneRevealWeapon
    ; ReactionWeaponRubble = DroneRevealWeapon
    ; DamageTypes = NONE +MELEE
  ; End

  Behavior = StealthUpdate ModuleStealth_GPSScramblerGenericStealthModule
    StealthDelay                = 2000 ; msec
    InnateStealth               = Yes
    StealthForbiddenConditions  = ATTACKING USING_ABILITY
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
    RequiredStatus = REASSIGN_PARKING
  End

  Geometry = BOX
  GeometryMajorRadius = 15.0
  GeometryMinorRadius = 9.0
  GeometryHeight = 12.0     
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME 
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length 
  Scale = 1.0 ;0.94
End

;==================================================================================
Object Boss_UkraineCivilianBunker

  SelectPortrait         = SABunker
  ButtonImage            = SABunker

  ; *** ART Parameters ***
  Draw = W3DModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  
    
    ConditionState = NONE
      Model         = CBBunker01_G
      Animation     = CBBunker01_G.CBBunker01_G
      AnimationMode = LOOP
    End
    ConditionState = DAMAGED
      Model         = CBBunker01_DG
      Animation     = CBBunker01_DG.CBBunker01_DG
      AnimationMode = LOOP
    End
    ConditionState = REALLYDAMAGED
      Model         = CBBunker01_EG
      Animation     = CBBunker01_EG.CBBunker01_EG
      AnimationMode = LOOP
    End
    
    ConditionState = NIGHT 
      Model         = CBBunker01_NG
      Animation     = CBBunker01_NG.CBBunker01_NG
      AnimationMode = LOOP
    End
    ConditionState = DAMAGED NIGHT 
      Model         = CBBunker01_DNG
      Animation     = CBBunker01_DNG.CBBunker01_DNG
      AnimationMode = LOOP
    End
    ConditionState = REALLYDAMAGED NIGHT
      Model         = CBBunker01_ENG
      Animation     = CBBunker01_ENG.CBBunker01_ENG
      AnimationMode = LOOP
    End
    

    ConditionState = SNOW 
      Model         = CBBunker01_SG
      Animation     = CBBunker01_SG.CBBunker01_SG
      AnimationMode = LOOP
    End
    ConditionState = DAMAGED SNOW
      Model         = CBBunker01_DSG
      Animation     = CBBunker01_DSG.CBBunker01_DSG
      AnimationMode = LOOP
    End
    ConditionState = REALLYDAMAGED SNOW
      Model         = CBBunker01_ESG
      Animation     = CBBunker01_ESG.CBBunker01_ESG
      AnimationMode = LOOP
    End
    

    ConditionState = SNOW NIGHT
      Model         = CBBunker01_SNG
      Animation     = CBBunker01_SNG.CBBunker01_SNG
      AnimationMode = LOOP
    End
    ConditionState = DAMAGED SNOW NIGHT
      Model         = CBBunker01_DSNG
      Animation     = CBBunker01_DSNG.CBBunker01_DSNG
      AnimationMode = LOOP
    End
    ConditionState = REALLYDAMAGED SNOW NIGHT
      Model         = CBBunker01_ESNG
      Animation     = CBBunker01_ESNG.CBBunker01_ESNG
      AnimationMode = LOOP
    End

    ;**************************************************************************************************************************
    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ;for this draw module
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = CBBunker01
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = CBBunker01_D
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = CBBunker01_E
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End

    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    ;**************************************************************************************************************************
  End
    
  ; ------------ construction-zone fence -----------------
  Draw = W3DModelDraw ModuleTag_02
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = NBBunker_A4
      Animation       = NBBunker_A4.NBBunker_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
    End
    ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = NBBunker_A4N
      Animation       = NBBunker_A4N.NBBunker_A4N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
    End
    ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = NBBunker_A4S
      Animation       = NBBunker_A4S.NBBunker_A4S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
    End
    ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = NBBunker_A4SN
      Animation       = NBBunker_A4SN.NBBunker_A4SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = NBBunker_A4
      Animation       = NBBunker_A4.NBBunker_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = NBBunker_A4N
      Animation       = NBBunker_A4N.NBBunker_A4N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = NBBunker_A4S
      Animation       = NBBunker_A4S.NBBunker_A4S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = NBBunker_A4SN
      Animation       = NBBunker_A4SN.NBBunker_A4SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = NBBunker_A4
      Animation       = NBBunker_A4.NBBunker_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = NBBunker_A4N
      Animation       = NBBunker_A4N.NBBunker_A4N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = NBBunker_A4S
      Animation       = NBBunker_A4S.NBBunker_A4S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = NBBunker_A4SN
      Animation       = NBBunker_A4SN.NBBunker_A4SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ under-construction scaffolding -----------------
  Draw = W3DModelDraw ModuleTag_03
  AnimationsRequirePower = No
    MinLODRequired = MEDIUM
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = NBBunker_A6
      Animation       = NBBunker_A6.NBBunker_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Smoke01 BuildUpSmokeChina
      ParticleSysBone = Smoke02 BuildUpSmokeChina
      ParticleSysBone = Smoke03 BuildUpSmokeChina
      ParticleSysBone = Smoke04 BuildUpSmokeChina
    End
    ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      Model           = NBBunker_A6N
      Animation       = NBBunker_A6N.NBBunker_A6N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = Smoke01 BuildUpSmokeChina
      ParticleSysBone = Smoke02 BuildUpSmokeChina
      ParticleSysBone = Smoke03 BuildUpSmokeChina
      ParticleSysBone = Smoke04 BuildUpSmokeChina
    End
    ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      Model           = NBBunker_A6S
      Animation       = NBBunker_A6S.NBBunker_A6S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = Smoke01 BuildUpSnowSmoke
      ParticleSysBone = Smoke02 BuildUpSnowSmoke
      ParticleSysBone = Smoke03 BuildUpSnowSmoke
      ParticleSysBone = Smoke04 BuildUpSnowSmoke
    End
    ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      Model           = NBBunker_A6SN
      Animation       = NBBunker_A6SN.NBBunker_A6SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = Smoke01 BuildUpNightSnowSmoke
      ParticleSysBone = Smoke02 BuildUpNightSnowSmoke
      ParticleSysBone = Smoke03 BuildUpNightSnowSmoke
      ParticleSysBone = Smoke04 BuildUpNightSnowSmoke
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
     Model            = NBBunker_A6
      Animation       = NBBunker_A6.NBBunker_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
     Model            = NBBunker_A6N
      Animation       = NBBunker_A6N.NBBunker_A6N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
     Model            = NBBunker_A6S
      Animation       = NBBunker_A6S.NBBunker_A6S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
     Model            = NBBunker_A6SN
      Animation       = NBBunker_A6SN.NBBunker_A6SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = NBBunker_A6
      Animation       = NBBunker_A6.NBBunker_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = NBBunker_A6N
      Animation       = NBBunker_A6N.NBBunker_A6N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = NBBunker_A6S
      Animation       = NBBunker_A6S.NBBunker_A6S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = NBBunker_A6SN
      Animation       = NBBunker_A6SN.NBBunker_A6SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ being-constructed crane -----------------
  Draw = W3DModelDraw ModuleTag_04
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SOLD
      Model           = NONE
    End

    ConditionState  = ACTIVELY_BEING_CONSTRUCTED
      Model           = NBBunker_A5
      Animation       = NBBunker_A5.NBBunker_A5
      AnimationMode   = LOOP
      TransitionKey  = UP_DAY
    End

    ConditionState  = NIGHT ACTIVELY_BEING_CONSTRUCTED
      Model           = NBBunker_A5N
      Animation       = NBBunker_A5N.NBBunker_A5N
      AnimationMode   = LOOP
      TransitionKey  = UP_NIGHT
    End
    ConditionState  = SNOW ACTIVELY_BEING_CONSTRUCTED
      Model           = NBBunker_A5S
      Animation       = NBBunker_A5S.NBBunker_A5S
      AnimationMode   = LOOP
      TransitionKey  = UP_SNOW
    End
    ConditionState  = SNOW NIGHT ACTIVELY_BEING_CONSTRUCTED
      Model           = NBBunker_A5SN
      Animation       = NBBunker_A5SN.NBBunker_A5SN
      AnimationMode   = LOOP
      TransitionKey  = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model            = NBBunker_AB
      Animation       = NBBunker_AB.NBBunker_AB
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End

    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model            = NBBunker_ABN
      Animation       = NBBunker_ABN.NBBunker_ABN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model            = NBBunker_ABS
      Animation       = NBBunker_ABS.NBBunker_ABS
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model            = NBBunker_ABSN
      Animation       = NBBunker_ABSN.NBBunker_ABSN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model            = NBBunker_AB
      Animation       = NBBunker_AB.NBBunker_AB
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model            = NBBunker_ABN
      Animation       = NBBunker_ABN.NBBunker_ABN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model            = NBBunker_ABS
      Animation       = NBBunker_ABS.NBBunker_ABS
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model            = NBBunker_ABSN
      Animation       = NBBunker_ABSN.NBBunker_ABSN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; *** AUDIO Parameters ***
  ;SoundDie              = BuildingDie
  ;SoundOnDamaged        = BuildingDamagedStateLight
  ;SoundOnReallyDamaged  = BuildingDestroy

  ; ***DESIGN parameters ***
  DisplayName     = OBJECT:Bunker
  Side            = Boss
  EditorSorting   = STRUCTURE
  Prerequisites
    Object = Boss_UkraineBarracks
  End
  BuildCost        = 1000
  BuildTime        = 8.0           ; in seconds
  ArmorSet
    Conditions      = None
    Armor           = StructureArmor
    DamageFX        = StructureDamageFXNoShake
  End

  ; *** ENGINEERING Parameters ***  
  RadarPriority     = STRUCTURE
  KindOf            = PRELOAD STRUCTURE SELECTABLE STICK_TO_TERRAIN_SLOPE IMMOBILE SCORE FS_BASE_DEFENSE GARRISONABLE_UNTIL_DESTROYED IMMUNE_TO_CAPTURE MP_COUNT_FOR_VICTORY
  
  Body              = StructureBody ModuleTag_05
    MaxHealth       = 2000.0
    InitialHealth   = 2000.0
  End

  CommandSet       = CivilBunkerCommandSet

  Behavior = GarrisonContain ModuleTag_06
    ContainMax        = 10
    EnterSound        = GarrisonEnter
    ExitSound         = GarrisonExit
	ImmuneToClearBuildingAttacks  = No
    DamagePercentToUnits          = 30%
    IsEnclosingContainer          = Yes
    AllowInsideKindOf             = INFANTRY
    ForbidInsideKindOf            = VEHICLE AIRCRAFT HUGE_VEHICLE
  End

  Behavior = FlammableUpdate ModuleTag_07
    FlameDamageLimit = 20         ;Catch fire if I take this much fire damage...
    FlameDamageExpiration = 2000  ;in a span of this long
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 25       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End
  
  Behavior = TransitionDamageFX ModuleTag_08
    ;-------------DESIGNED FOR SMALL SIZED CIVILIAN BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1          = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
  End

  Behavior = DestroyDie ModuleTag_09
    ;nothing
  End
  Behavior        = CreateObjectDie ModuleTag_10
    CreationList  = OCL_ABPowerPlantExplode
  End
  ; Behavior             = CreateObjectDie ModuleTag_11
    ; CreationList  = OCL_AmericanRangerDebris02
    ; ExemptStatus  = UNDER_CONSTRUCTION
  ; End
  Behavior        = FXListDie ModuleTag_12
    DeathFX       = FX_StructureSmallDeath
  End

  Geometry            = BOX
  GeometryMajorRadius = 20.0
  GeometryMinorRadius = 16.0
  GeometryHeight      = 12.0
  GeometryIsSmall     = No
  Shadow              = SHADOW_VOLUME
  BuildCompletion     = PLACED_BY_PLAYER
End

;------------------------------------------------------------------------------
Object Boss_UkraineBarracks

  ; *** ART Parameters ***
  SelectPortrait         = MUCommandCenter
  ButtonImage            = MUCommandCenter

  Draw = W3DModelDraw ModuleTag_01
  OkToChangeModelColor = Yes

    ; day
    ConditionState = NONE
      Model         = MBComCent ;MBConyard
      Animation     = MBComCent.MBComCent
      AnimationMode = LOOP
    End
    ConditionState = DAMAGED
      Model         = MBComCent_D
      Animation     = MBComCent_D.MBComCent_D
      ParticleSysBone = Smoke01 SteamVent
      AnimationMode = LOOP
    End
    ConditionState = REALLYDAMAGED
      Model         = MBComCent_E
      Animation     = MBComCent_E.MBComCent_E
      ParticleSysBone = Smoke01 SteamVent
      AnimationMode = LOOP
    End

    ; night
    ConditionState = NIGHT
      Model         = MBComCent
      Animation     = MBComCent.MBComCent
      AnimationMode = LOOP
    End
    ConditionState = DAMAGED NIGHT
      Model         = MBComCent_D
      Animation     = MBComCent_D.MBComCent_D
      ParticleSysBone = Smoke01 SteamVent
      AnimationMode = LOOP
    End
    ConditionState = REALLYDAMAGED NIGHT
      Model         = MBComCent_E
      Animation     = MBComCent_E.MBComCent_E
      ParticleSysBone = Smoke01 SteamVent
      AnimationMode = LOOP
    End

    ; Snow
    ConditionState = SNOW
      Model         = MBComCent;_s
      Animation     = MBComCent.MBComCent
      AnimationMode = LOOP
    End
    ConditionState = DAMAGED SNOW
      Model         = MBComCent_D;_Ds
      Animation     = MBComCent_D.MBComCent_D
      ParticleSysBone = Smoke01 SteamVent
      AnimationMode = LOOP
    End
    ConditionState = REALLYDAMAGED SNOW
      Model         = MBComCent_E;s
      Animation     = MBComCent_E.MBComCent_E
      ParticleSysBone = Smoke01 SteamVent
      AnimationMode = LOOP
    End

    ; night snow
    ConditionState = SNOW NIGHT
      Model         = MBComCent
      Animation     = MBComCent.MBComCent
      ParticleSysBone = Smoke01 SteamVent
      AnimationMode = LOOP
    End
    ConditionState = DAMAGED SNOW NIGHT
      Model         = MBComCent_D
      Animation     = MBComCent_D.MBComCent_D
      ParticleSysBone = Smoke01 SteamVent
      AnimationMode = LOOP
    End
    ConditionState = REALLYDAMAGED SNOW NIGHT
      Model         = MBComCent_E
      Animation     = MBComCent_E.MBComCent_E
      ParticleSysBone = Smoke01 SteamVent
      AnimationMode = LOOP
    End

    ;**************************************************************************************************************************
    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ;for this draw module
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model         = MBComCent
      Animation     = MBComCent.MBComCent
      AnimationMode = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model         = MBComCent_D
      Animation     = MBComCent_D.MBComCent_D
      ParticleSysBone = Smoke01 SteamVent
      AnimationMode = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model         = MBComCent_D
      Animation     = MBComCent_D.MBComCent_D
      ParticleSysBone = Smoke01 SteamVent
      AnimationMode = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
      Model         = MBComCent
      Animation     = MBComCent.MBComCent
      AnimationMode = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
      Model         = MBComCent_D
      Animation     = MBComCent_D.MBComCent_D
      ParticleSysBone = Smoke01 SteamVent
      AnimationMode = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
      Model         = MBComCent_D
      Animation     = MBComCent_D.MBComCent_D
      ParticleSysBone = Smoke01 SteamVent
      AnimationMode = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model         = MBComCent
      Animation     = MBComCent.MBComCent
      AnimationMode = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
      Model         = MBComCent_D
      Animation     = MBComCent_D.MBComCent_D
      ParticleSysBone = Smoke01 SteamVent
      AnimationMode = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
      Model         = MBComCent_D
      Animation     = MBComCent_D.MBComCent_D
      ParticleSysBone = Smoke01 SteamVent
      AnimationMode = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
      Model         = MBComCent
      Animation     = MBComCent.MBComCent
      AnimationMode = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
      Model         = MBComCent_D
      Animation     = MBComCent_D.MBComCent_D
      ParticleSysBone = Smoke01 SteamVent
      AnimationMode = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
      Model         = MBComCent_D
      Animation     = MBComCent_D.MBComCent_D
      ParticleSysBone = Smoke01 SteamVent
      AnimationMode = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End

    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = GARRISONED SOLD 
    AliasConditionState  = GARRISONED SOLD DAMAGED
    AliasConditionState  = GARRISONED SOLD REALLYDAMAGED
    AliasConditionState  = GARRISONED SOLD NIGHT
    AliasConditionState  = GARRISONED SOLD NIGHT DAMAGED
    AliasConditionState  = GARRISONED SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = GARRISONED SOLD SNOW
    AliasConditionState  = GARRISONED SOLD SNOW DAMAGED
    AliasConditionState  = GARRISONED SOLD SNOW REALLYDAMAGED
    AliasConditionState  = GARRISONED SOLD NIGHT SNOW
    AliasConditionState  = GARRISONED SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = GARRISONED SOLD NIGHT SNOW REALLYDAMAGED
    ;**************************************************************************************************************************
  End

    ; ========================= Flag Model ===============================
  Draw = W3DModelDraw ModuleTag_flag
    OkToChangeModelColor = Yes
    
    ; DEFAULT & DAMAGED ************************************************
    ConditionState  = NONE
      Model         = MBFlag
      Animation     = MBFlag.MBFlag
      AnimationMode = LOOP
    End
    AliasConditionState = DAMAGED
    
    ; REALLYDAMAGED*****************************************************
    ConditionState  = REALLYDAMAGED
      Model         = MBFlag
      Animation     = MBFlag.MBFlag
      AnimationMode = LOOP
    End
    
    ; RUBBLE ***********************************************************
    ConditionState  = RUBBLE
      Model         = None
    End
 End

  ; ------------ construction-zone fence -----------------
  Draw = W3DModelDraw ModuleTag_0202
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = MBComCent_A4
      Animation       = MBComCent_A4.MBComCent_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
    End
    ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = MBComCent_A4
      Animation       = MBComCent_A4.MBComCent_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
    End
    ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = MBComCent_A4
      Animation       = MBComCent_A4.MBComCent_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
    End
    ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = MBComCent_A4
      Animation       = MBComCent_A4.MBComCent_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = MBComCent_A4
      Animation       = MBComCent_A4.MBComCent_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = MBComCent_A4
      Animation       = MBComCent_A4.MBComCent_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = MBComCent_A4
      Animation       = MBComCent_A4.MBComCent_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = MBComCent_A4
      Animation       = MBComCent_A4.MBComCent_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = MBComCent_A4
      Animation       = MBComCent_A4.MBComCent_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = MBComCent_A4
      Animation       = MBComCent_A4.MBComCent_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = MBComCent_A4
      Animation       = MBComCent_A4.MBComCent_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = MBComCent_A4
      Animation       = MBComCent_A4.MBComCent_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ under-construction scaffolding -----------------
  Draw = W3DModelDraw ModuleTag_07s
  AnimationsRequirePower = No
    MinLODRequired = MEDIUM
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = MBComCent_A6
      Animation       = MBComCent_A6.MBComCent_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Dust01 BuildingDustChina
      ParticleSysBone = Smoke01 BuildUpSmokeChina
      ParticleSysBone = Smoke02 BuildUpSmokeChina
      ParticleSysBone = Smoke03 BuildUpSmokeChina
      ParticleSysBone = Smoke04 BuildUpSmokeChina
      ParticleSysBone = Smoke05 BuildUpSmokeChina
    End
    ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      Model           = MBComCent_A6
      Animation       = MBComCent_A6.MBComCent_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = Dust01 BuildingDustChina
      ParticleSysBone = Smoke01 BuildUpSmokeChina
      ParticleSysBone = Smoke02 BuildUpSmokeChina
      ParticleSysBone = Smoke03 BuildUpSmokeChina
      ParticleSysBone = Smoke04 BuildUpSmokeChina
      ParticleSysBone = Smoke05 BuildUpSmokeChina
    End
    ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      Model           = MBComCent_A6
      Animation       = MBComCent_A6.MBComCent_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = Dust01 BuildingSnowDust
      ParticleSysBone = Smoke01 BuildUpSnowSmoke
      ParticleSysBone = Smoke02 BuildUpSnowSmoke
      ParticleSysBone = Smoke03 BuildUpSnowSmoke
      ParticleSysBone = Smoke04 BuildUpSnowSmoke
      ParticleSysBone = Smoke05 BuildUpSnowSmoke
    End
    ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      Model           = MBComCent_A6
      Animation       = MBComCent_A6.MBComCent_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = Dust01 BuildingSnowDust
      ParticleSysBone = Smoke01 BuildUpSnowSmoke
      ParticleSysBone = Smoke02 BuildUpSnowSmoke
      ParticleSysBone = Smoke03 BuildUpSnowSmoke
      ParticleSysBone = Smoke04 BuildUpSnowSmoke
      ParticleSysBone = Smoke05 BuildUpSnowSmoke
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = MBComCent_A6
      Animation       = MBComCent_A6.MBComCent_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = MBComCent_A6
      Animation       = MBComCent_A6.MBComCent_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = MBComCent_A6
      Animation       = MBComCent_A6.MBComCent_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = MBComCent_A6
      Animation       = MBComCent_A6.MBComCent_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End 
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model            = MBComCent_A6
      Animation       = MBComCent_A6.MBComCent_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model            = MBComCent_A6
      Animation       = MBComCent_A6.MBComCent_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model            = MBComCent_A6
      Animation       = MBComCent_A6.MBComCent_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model            = MBComCent_A6
      Animation       = MBComCent_A6.MBComCent_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:CommandCenter
  Side = Boss
  EditorSorting       = STRUCTURE
  BuildCost           = 200
  BuildTime           = 10.0           ; in seconds
  EnergyProduction    = 0
  CommandSet          = UkraineBarracksCommandSet
  VisionRange         = 200.0           ; Shroud clearing distance
  ShroudClearingRange = 200
  ArmorSet
    Conditions        = None
    Armor             = StructureArmor
    DamageFX          = StructureDamageFXNoShake
  End
  ExperienceValue     = 100 100 100 100  ; Experience point value at each level

  ; *** AUDIO Parameters ***
  VoiceSelect = BarracksUSASelect
  SoundOnDamaged        = BuildingDamagedStateLight
  SoundOnReallyDamaged  = BuildingDestroy

  UnitSpecificSounds
    UnderConstruction     = UnderConstructionLoop
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority        = STRUCTURE
  KindOf               = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE CAPTURABLE FS_FACTORY AUTO_RALLYPOINT MP_COUNT_FOR_VICTORY
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 600.0
    InitialHealth   = 600.0
  End

  Behavior = ProductionUpdate ModuleTag_05
    ; nothing
  End
  
  Behavior = DefaultProductionExitUpdate ModuleTag_06
    UnitCreatePoint   = X: 11,026  Y: -2,473   Z:0.0
    NaturalRallyPoint = X: 50,968  Y: -2,212   Z:0.0;NaturalRallyPointX must always match GeometryMajorRadius! -ML
  End

  Behavior = PreorderCreate ModuleTag_PreorderCreate
  End

  Behavior             = DestroyDie ModuleTag_100
    ;nothing
  End

  Behavior                  = CreateObjectDie ModuleTag_080102
    CreationList       = OCL_LargeStructureDebris
  End
  Behavior                  = FXListDie ModuleTag_10103
    DeathFX            = FX_StructureMediumDeath
  End

  Behavior = FlammableUpdate ModuleTag_07
    FlameDamageLimit = 20         ;Catch fire if I take this much fire damage...
    FlameDamageExpiration = 2000  ;in a span of this long
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 25       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = TransitionDamageFX ModuleTag_08
    ;-------------DESIGNED FOR SMALL SIZED CIVILIAN BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1          = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
    ;---------------------------------------------------------------------------------------
    RubbleParticleSystem1              = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    RubbleParticleSystem2              = Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
    RubbleParticleSystem3              = Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
    RubbleParticleSystem4              = Bone:None RandomBone:No PSys:StructureTransitionSmallFlare
  End
  
  Behavior = CommandSetUpgrade ModuleTag_09
    TriggeredBy = Upgrade_ChinaWarFactoryupCommandSet
    RemovesUpgrades = Upgrade_ChinaWarFactorydownCommandSet
    CommandSet = UkraineBarracksCommandSetTech
  End

  Behavior = CommandSetUpgrade ModuleTag_10
    TriggeredBy = Upgrade_ChinaWarFactorydownCommandSet
    RemovesUpgrades = Upgrade_ChinaWarFactoryupCommandSet Upgrade_ChinaWarFactorydownCommandSet
    CommandSet = UkraineBarracksCommandSet
  End

  Geometry              = BOX
  GeometryMajorRadius   = 50.0
  GeometryMinorRadius   = 70.0
  GeometryHeight        = 15.0
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
  Scale                 = 0.98
End


;---------------------------------------------------------------
Object Boss_UkraineMilitiaBunker

  ; *** ART Parameters ***
  SelectPortrait         = MBunker_L
  ButtonImage            = MBunker
  Draw = W3DModelDraw ModuleTag_01

    OkToChangeModelColor = Yes

    ExtraPublicBone = STATION01
    ExtraPublicBone = STATION02
    ExtraPublicBone = STATION03
    ExtraPublicBone = STATION04


    ConditionState = NONE
      Model         = glabunker
    End
    ConditionState = DAMAGED
      Model         = glabunker_d
    End
    ConditionState = REALLYDAMAGED
      Model         = glabunker_e
    End

    ConditionState       = GARRISONED
      Model              = glabunker
    End
    ConditionState       = DAMAGED GARRISONED
      Model              = glabunker_d
        ParticleSysBone      = Fire01  SmolderingFire
        ParticleSysBone      = Smoke01 SmolderingSmoke
        ParticleSysBone      = Fire01  SmolderingFlameCore
    End
    ConditionState       = REALLYDAMAGED RUBBLE GARRISONED
      Model              = glabunker_e
      ParticleSysBone        = Fire01 SmolderingFire
      ParticleSysBone        = Fire01 SmolderingFlameCore
      ParticleSysBone        = Fire02 SmolderingFire
      ParticleSysBone        = Fire02 SmolderingFlameCore
      ParticleSysBone        = Fire03 SmolderingFire
    End



    ; night
    ConditionState = NIGHT
      Model         = glabunker
    End
    ConditionState = DAMAGED NIGHT
      Model         = glabunker_d
    End
    ConditionState = REALLYDAMAGED NIGHT
      Model         = glabunker_e
    End

    ConditionState       = NIGHT GARRISONED
      Model              = glabunker
    End
    ConditionState       = DAMAGED NIGHT GARRISONED
      Model              = glabunker_d
      ParticleSysBone        = Fire01  SmolderingFire
      ParticleSysBone        = Smoke01 SmolderingSmoke
      ParticleSysBone        = Fire01  SmolderingFlameCore
    End
    ConditionState       = REALLYDAMAGED RUBBLE NIGHT GARRISONED
      Model              = glabunker_e
      ParticleSysBone        = Fire01 SmolderingFire
      ParticleSysBone        = Fire01 SmolderingFlameCore
      ParticleSysBone        = Fire02 SmolderingFire
      ParticleSysBone        = Fire02 SmolderingFlameCore
      ParticleSysBone        = Fire03 SmolderingFire
      ParticleSysBone        = Fire03 SmolderingFlameCore
    End



    ; Snow
    ConditionState = SNOW
      Model         = glabunker
    End
    ConditionState = DAMAGED SNOW
      Model         = glabunker_d
    End
    ConditionState = REALLYDAMAGED SNOW
      Model         = glabunker_e
    End

    ConditionState       = SNOW GARRISONED
      Model              = glabunker
    End
    ConditionState       = DAMAGED SNOW GARRISONED
      Model              = glabunker_d
        ParticleSysBone      = Fire01  SmolderingFire
        ParticleSysBone      = Smoke01 SmolderingSmoke
    End
    ConditionState       = REALLYDAMAGED RUBBLE SNOW GARRISONED
      Model              = glabunker_e
      ParticleSysBone        = Fire01 SmolderingFire
      ParticleSysBone        = Fire01 SmolderingFlameCore
    End



    ; night snow
    ConditionState = SNOW NIGHT
      Model         = glabunker
    End
    ConditionState = DAMAGED SNOW NIGHT
      Model         = glabunker_d
    End
    ConditionState = REALLYDAMAGED SNOW NIGHT
      Model         = glabunker_e
    End

    ConditionState       = NIGHT SNOW GARRISONED
      Model              = glabunker
    End
    ConditionState       = DAMAGED NIGHT SNOW GARRISONED
      Model              = glabunker_d
      ParticleSysBone        = Fire01  SmolderingFire
      ParticleSysBone        = Smoke01 SmolderingSmoke
      ParticleSysBone        = Fire01  SmolderingFlameCore
    End
    ConditionState       = REALLYDAMAGED RUBBLE NIGHT SNOW GARRISONED
      Model              = glabunker_e
      ParticleSysBone        = Fire01 SmolderingFire
      ParticleSysBone        = Fire01 SmolderingFlameCore
      ParticleSysBone        = Fire02 SmolderingFire
      ParticleSysBone        = Fire02 SmolderingFlameCore
    End



    ;**************************************************************************************************************************
    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ;for this draw module
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = glabunker
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = glabunker_d
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = glabunker_e
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
      Model              = glabunker
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
      Model              = glabunker_d
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
      Model              = glabunker_e
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model              = glabunker
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
      Model              = glabunker_d
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
      Model              = glabunker_e
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
      Model              = glabunker
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
      Model              = glabunker_d
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
      Model              = glabunker_e
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End

    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = GARRISONED SOLD 
    AliasConditionState  = GARRISONED SOLD DAMAGED
    AliasConditionState  = GARRISONED SOLD REALLYDAMAGED
    AliasConditionState  = GARRISONED SOLD NIGHT
    AliasConditionState  = GARRISONED SOLD NIGHT DAMAGED
    AliasConditionState  = GARRISONED SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = GARRISONED SOLD SNOW
    AliasConditionState  = GARRISONED SOLD SNOW DAMAGED
    AliasConditionState  = GARRISONED SOLD SNOW REALLYDAMAGED
    AliasConditionState  = GARRISONED SOLD NIGHT SNOW
    AliasConditionState  = GARRISONED SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = GARRISONED SOLD NIGHT SNOW REALLYDAMAGED
    ;**************************************************************************************************************************
  End

  ; ------------ construction-zone fence -----------------
  Draw = W3DModelDraw ModuleTag_02121
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = MBArtillery_A4
      Animation       = MBArtillery_A4.MBArtillery_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
    End
    ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = MBArtillery_A4
      Animation       = MBArtillery_A4.MBArtillery_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
    End
    ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = MBArtillery_A4
      Animation       = MBArtillery_A4.MBArtillery_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
    End
    ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = MBArtillery_A4
      Animation       = MBArtillery_A4.MBArtillery_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = MBArtillery_A4
      Animation       = MBArtillery_A4.MBArtillery_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = MBArtillery_A4
      Animation       = MBArtillery_A4.MBArtillery_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = MBArtillery_A4
      Animation       = MBArtillery_A4.MBArtillery_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = MBArtillery_A4
      Animation       = MBArtillery_A4.MBArtillery_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = MBArtillery_A4
      Animation       = MBArtillery_A4.MBArtillery_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = MBArtillery_A4
      Animation       = MBArtillery_A4.MBArtillery_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = MBArtillery_A4
      Animation       = MBArtillery_A4.MBArtillery_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = MBArtillery_A4
      Animation       = MBArtillery_A4.MBArtillery_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ under-construction scaffolding -----------------
  Draw                = W3DModelDraw ModuleTag_03
  AnimationsRequirePower = No
    MinLODRequired    = MEDIUM
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = ABSupDrop_A6
      Animation       = ABSupDrop_A6.ABSupDrop_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      Model           = ABSupDrop_A6N
      Animation       = ABSupDrop_A6N.ABSupDrop_A6N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      Model           = ABSupDrop_A6S
      Animation       = ABSupDrop_A6S.ABSupDrop_A6S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      Model           = ABSupDrop_A6SN
      Animation       = ABSupDrop_A6SN.ABSupDrop_A6SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
     Model            = ABSupDrop_A6
      Animation       = ABSupDrop_A6.ABSupDrop_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
     Model            = ABSupDrop_A6N
      Animation       = ABSupDrop_A6N.ABSupDrop_A6N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
     Model            = ABSupDrop_A6S
      Animation       = ABSupDrop_A6S.ABSupDrop_A6S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
     Model            = ABSupDrop_A6SN
      Animation       = ABSupDrop_A6SN.ABSupDrop_A6SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = ABSupDrop_A6
      Animation       = ABSupDrop_A6.ABSupDrop_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = ABSupDrop_A6N
      Animation       = ABSupDrop_A6N.ABSupDrop_A6N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = ABSupDrop_A6S
      Animation       = ABSupDrop_A6S.ABSupDrop_A6S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = ABSupDrop_A6SN
      Animation       = ABSupDrop_A6SN.ABSupDrop_A6SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End
  PlacementViewAngle = -45

  ; ***DESIGN parameters ***
  DisplayName       = OBJECT:Bunker
  Side              = Boss
  EditorSorting     = STRUCTURE
  Prerequisites
    Object = Boss_UkraineBarracks
  End
  BuildCost        = 500
  BuildTime        = 10.0           ; in seconds
  EnergyProduction = 0
  VisionRange    = 300.0           ; Shroud clearing distance AND targeting range
  ShroudClearingRange = 360
  ArmorSet
    Conditions      = None
    Armor           = FireBaseArmor
    DamageFX        = StructureDamageFXNoShake
  End
  CommandSet        = MilitiaBunkerCommandSet
  ExperienceValue     = 200 200 200 200  ; Experience point value at each level

  ; *** AUDIO Parameters ***
  VoiceSelect = FireBaseSelect
  SoundOnDamaged        = BuildingDamagedStateLight
  SoundOnReallyDamaged  = BuildingDestroy

  UnitSpecificSounds
    UnderConstruction     = UnderConstructionLoop
  End

  UnitSpecificSounds
  ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    TurretMoveStart = NoSound
    TurretMoveLoop = NoSound ;These aren't playing properly, will revisit (mp) TurretMoveLoopLoud
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority   = STRUCTURE
  KindOf          = PRELOAD STRUCTURE SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT IMMOBILE SPAWNS_ARE_THE_WEAPONS SCORE FS_TECHNOLOGY FS_BASE_DEFENSE IMMUNE_TO_CAPTURE GARRISONABLE_UNTIL_DESTROYED STEALTH_GARRISON


  Body                 = HiveStructureBody ModuleTag_04;
    MaxHealth          = 1000.0
    InitialHealth      = 1000.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 1200
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
    ;**Careful with these damage types -- because area damage types will already
    ;**damage slaves.
    PropagateDamageTypesToSlavesWhenExisting = NONE +SNIPER ;+SMALL_ARMS  +POISON +RADIATION +SURRENDER
    ;SwallowDamageTypesIfSlavesNotExisting = NONE +SNIPER +POISON +SURRENDER; Take no damage if no one to pass this to
  End

  Behavior = GarrisonContain ModuleTag_07
    ContainMax                    = 4
    EnterSound                    = GarrisonEnter
    ExitSound                     = GarrisonExit
    ImmuneToClearBuildingAttacks  = Yes
    DamagePercentToUnits          = 30%

    IsEnclosingContainer          = No

  End

  Behavior = StealthUpdate ModuleTag_04578
    StealthDelay                = 2000 ; msec
    StealthForbiddenConditions  = USING_ABILITY ATTACKING TAKING_DAMAGE RIDERS_ATTACKING
    FriendlyOpacityMin          = 50.0%
    FriendlyOpacityMax          = 100.0%
    InnateStealth               = Yes
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
  End

  Behavior = DestroyDie ModuleTag_08
    ;nothing
  End

  Behavior             = FXListDie ModuleTag_10
    DeathFX       = FX_StructureMediumDeath
  End

  Behavior = FlammableUpdate ModuleTag_12
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 5       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior                  = CreateObjectDie ModuleTag_13
    CreationList       = OCL_LargeStructureDebris
  End

  Behavior = TransitionDamageFX ModuleTag_14
    ;-------------DESIGNED FOR TINY SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionTinySmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionTinySmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionTinyExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionTinyShockwave
  End

  Geometry            = BOX
  GeometryMajorRadius = 26.0
  GeometryMinorRadius = 26.0
  GeometryHeight      = 15.0
  GeometryIsSmall     = No
  Shadow          = SHADOW_VOLUME
  BuildCompletion = PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
Object Boss_UkraineArtilleryWarehouse

  ; *** ART Parameters ***
  SelectPortrait         = MUBarracks
  ButtonImage            = MUBarracks

  Draw = W3DModelDraw ModuleTag_01
  OkToChangeModelColor = Yes

    ; day
    ConditionState = NONE
      Model         = MBBarracks2
      Animation     = MBBarracks2.MBBarracks2
      AnimationMode = LOOP
    End
    ConditionState = DAMAGED
      Model         = MBBarracks_D
      Animation     = MBBarracks_D.MBBarracks_D
      AnimationMode = LOOP
      ParticleSysBone = Smoke01 ChimneySmokeSmall
    End
    ConditionState = REALLYDAMAGED
      Model         = MBBarracks_E
      Animation     = MBBarracks_E.MBBarracks_E
      AnimationMode = LOOP
      ParticleSysBone = Smoke01 ChimneySmokeSmall
      ParticleSysBone = Smoke02 SteamVent
    End
    ConditionState = RUBBLE
      Model         = MBBarracks_R
    End

    ; night
    ConditionState = NIGHT
      Model         = MBBarracks2;_N
      Animation     = MBBarracks2.MBBarracks2
      AnimationMode = LOOP
    End
    ConditionState = DAMAGED NIGHT
      Model         = MBBarracks_D
      Animation     = MBBarracks_D.MBBarracks_D
      AnimationMode = LOOP
      ParticleSysBone = Smoke01 ChimneySmokeSmall
    End
    ConditionState = REALLYDAMAGED NIGHT
      Model         = MBBarracks_E
      Animation     = MBBarracks_E.MBBarracks_E
      AnimationMode = LOOP
      ParticleSysBone = Smoke01 ChimneySmokeSmall
      ParticleSysBone = Smoke02 SteamVent
    End
    ConditionState = RUBBLE NIGHT
      Model         = MBBarracks_R
    End

    ; Snow
    ConditionState = SNOW
      Model         = MBBarracks_S
      Animation     = MBBarracks_S.MBBarracks_S
      AnimationMode = LOOP
    End
    ConditionState = DAMAGED SNOW
      Model         = MBBarracks_DS
      Animation     = MBBarracks_DS.MBBarracks_DS
      AnimationMode = LOOP
      ParticleSysBone = Smoke01 ChimneySmokeSmall
    End
    ConditionState = REALLYDAMAGED SNOW
      Model         = MBBarracks_ES
      Animation     = MBBarracks_ES.MBBarracks_ES
      AnimationMode = LOOP
      ParticleSysBone = Smoke01 ChimneySmokeSmall
      ParticleSysBone = Smoke02 SteamVent
    End
    ConditionState = RUBBLE SNOW
      Model         = MBBarracks_RS
    End

    ; night snow
    ConditionState = SNOW NIGHT
      Model         = MBBarracks_S
      Animation     = MBBarracks_S.MBBarracks_S
      AnimationMode = LOOP
    End
    ConditionState = DAMAGED SNOW NIGHT
      Model         = MBBarracks_DS
      Animation     = MBBarracks_DS.MBBarracks_DS
      AnimationMode = LOOP
      ParticleSysBone = Smoke01 ChimneySmokeSmall
    End
    ConditionState = REALLYDAMAGED SNOW NIGHT
      Model         = MBBarracks_ES
      Animation     = MBBarracks_ES.MBBarracks_ES
      AnimationMode = LOOP
      ParticleSysBone = Smoke01 ChimneySmokeSmall
      ParticleSysBone = Smoke02 SteamVent
    End
    ConditionState = RUBBLE SNOW NIGHT
      Model         = MBBarracks_R
    End

    ;**************************************************************************************************************************
    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ;for this draw module
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = MBBarracks2
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = MBBarracks_D
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = MBBarracks_E
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
      Model              = MBBarracks2
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
      Model              = MBBarracks_D
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
      Model              = MBBarracks_E
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model              = MBBarracks_S
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
      Model              = MBBarracks_DS
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
      Model              = MBBarracks_ES
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
      Model              = MBBarracks_S
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
      Model              = MBBarracks_DS
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
      Model              = MBBarracks_ES
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End

    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = GARRISONED SOLD 
    AliasConditionState  = GARRISONED SOLD DAMAGED
    AliasConditionState  = GARRISONED SOLD REALLYDAMAGED
    AliasConditionState  = GARRISONED SOLD NIGHT
    AliasConditionState  = GARRISONED SOLD NIGHT DAMAGED
    AliasConditionState  = GARRISONED SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = GARRISONED SOLD SNOW
    AliasConditionState  = GARRISONED SOLD SNOW DAMAGED
    AliasConditionState  = GARRISONED SOLD SNOW REALLYDAMAGED
    AliasConditionState  = GARRISONED SOLD NIGHT SNOW
    AliasConditionState  = GARRISONED SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = GARRISONED SOLD NIGHT SNOW REALLYDAMAGED
    ;**************************************************************************************************************************
  End



  ; ------------ construction-zone fence -----------------
  Draw = W3DModelDraw ModuleTag_0202
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = MBBarracks_A4
      Animation       = MBBarracks_A4.MBBarracks_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
    End
    ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = MBBarracks_A4
      Animation       = MBBarracks_A4.MBBarracks_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
    End
    ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = MBBarracks_A4
      Animation       = MBBarracks_A4.MBBarracks_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
    End
    ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = MBBarracks_A4
      Animation       = MBBarracks_A4.MBBarracks_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = MBBarracks_A4
      Animation       = MBBarracks_A4.MBBarracks_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = MBBarracks_A4
      Animation       = MBBarracks_A4.MBBarracks_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = MBBarracks_A4
      Animation       = MBBarracks_A4.MBBarracks_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = MBBarracks_A4
      Animation       = MBBarracks_A4.MBBarracks_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = MBBarracks_A4
      Animation       = MBBarracks_A4.MBBarracks_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = MBBarracks_A4
      Animation       = MBBarracks_A4.MBBarracks_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = MBBarracks_A4
      Animation       = MBBarracks_A4.MBBarracks_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = MBBarracks_A4
      Animation       = MBBarracks_A4.MBBarracks_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ under-construction scaffolding -----------------
  Draw = W3DModelDraw ModuleTag_07s
  AnimationsRequirePower = No
    MinLODRequired = MEDIUM
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = MBBarracks_A6
      Animation       = MBBarracks_A6.MBBarracks_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Dust01 BuildingDustChina
      ParticleSysBone = Smoke01 BuildUpSmokeChina
      ParticleSysBone = Smoke02 BuildUpSmokeChina
      ParticleSysBone = Smoke03 BuildUpSmokeChina
      ParticleSysBone = Smoke04 BuildUpSmokeChina
      ParticleSysBone = Smoke05 BuildUpSmokeChina
    End
    ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      Model           = MBBarracks_A6
      Animation       = MBBarracks_A6.MBBarracks_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = Dust01 BuildingDustChina
      ParticleSysBone = Smoke01 BuildUpSmokeChina
      ParticleSysBone = Smoke02 BuildUpSmokeChina
      ParticleSysBone = Smoke03 BuildUpSmokeChina
      ParticleSysBone = Smoke04 BuildUpSmokeChina
      ParticleSysBone = Smoke05 BuildUpSmokeChina
    End
    ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      Model           = MBBarracks_A6
      Animation       = MBBarracks_A6.MBBarracks_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = Dust01 BuildingSnowDust
      ParticleSysBone = Smoke01 BuildUpSnowSmoke
      ParticleSysBone = Smoke02 BuildUpSnowSmoke
      ParticleSysBone = Smoke03 BuildUpSnowSmoke
      ParticleSysBone = Smoke04 BuildUpSnowSmoke
      ParticleSysBone = Smoke05 BuildUpSnowSmoke
    End
    ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      Model           = MBBarracks_A6
      Animation       = MBBarracks_A6.MBBarracks_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = Dust01 BuildingSnowDust
      ParticleSysBone = Smoke01 BuildUpSnowSmoke
      ParticleSysBone = Smoke02 BuildUpSnowSmoke
      ParticleSysBone = Smoke03 BuildUpSnowSmoke
      ParticleSysBone = Smoke04 BuildUpSnowSmoke
      ParticleSysBone = Smoke05 BuildUpSnowSmoke
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = MBBarracks_A6
      Animation       = MBBarracks_A6.MBBarracks_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = MBBarracks_A6
      Animation       = MBBarracks_A6.MBBarracks_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = MBBarracks_A6
      Animation       = MBBarracks_A6.MBBarracks_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = MBBarracks_A6
      Animation       = MBBarracks_A6.MBBarracks_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End 
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model            = MBBarracks_A6
      Animation       = MBBarracks_A6.MBBarracks_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model            = MBBarracks_A6
      Animation       = MBBarracks_A6.MBBarracks_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model            = MBBarracks_A6
      Animation       = MBBarracks_A6.MBBarracks_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model            = MBBarracks_A6
      Animation       = MBBarracks_A6.MBBarracks_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:ArtilleryWarehouse
  Side = Boss
  EditorSorting       = STRUCTURE
  BuildCost           = 1000
  BuildTime           = 15.0           ; in seconds
  EnergyProduction    = 0
  CommandSet          = SellOnlyGenericCommandSet
  VisionRange         = 100.0           ; Shroud clearing distance
  ShroudClearingRange = 100.0
  ArmorSet
    Conditions        = None
    Armor             = StructureArmor
    DamageFX          = StructureDamageFXNoShake
  End
  ExperienceValue     = 100 100 100 100  ; Experience point value at each level

  Prerequisites    
    Object = Boss_UkraineWarFactory
  End

  ; *** AUDIO Parameters ***
  SoundOnDamaged        = BuildingDamagedStateLight
  SoundOnReallyDamaged  = BuildingDestroy

  UnitSpecificSounds
    UnderConstruction     = UnderConstructionLoop
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority        = STRUCTURE
  KindOf               = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE CAPTURABLE
  Body                 = StructureBody ModuleTag_05
    MaxHealth          = 1000.0
    InitialHealth      = 1000.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 1200
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
  End

  Behavior                  = CreateObjectDie ModuleTag_080102
    CreationList       = OCL_LargeStructureDebris
  End
  Behavior                  = FXListDie ModuleTag_10103
    DeathFX            = FX_StructureMediumDeath
  End

  Behavior             = DestroyDie ModuleTag_08
    ;nothing
  End

  Behavior = FlammableUpdate ModuleTag_50
    FlameDamageLimit = 20         ;Catch fire if I take this much fire damage...
    FlameDamageExpiration = 2000  ;in a span of this long
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 25       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = TransitionDamageFX ModuleTag_51
    ;-------------DESIGNED FOR SMALL SIZED CIVILIAN BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1          = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
    RubbleParticleSystem1              = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    RubbleParticleSystem2              = Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
    RubbleParticleSystem3              = Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
    RubbleParticleSystem4              = Bone:None RandomBone:No PSys:StructureTransitionSmallFlare
  End
  Behavior = FXListDie ModuleTag_07
    DeathFX = FX_BuildingDie
  End
  Geometry              = BOX
  GeometryMajorRadius   = 42.0
  GeometryMinorRadius   = 42.0
  GeometryHeight        = 57.0
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
End


;-------------------------------------------------------------------------------------------------------------
Object Boss_UkraineArtilleryCannon

  ; *** ART Parameters ***
  SelectPortrait         = SAFirebase
  ButtonImage            = SAFirebase

  ;UpgradeCameo1 = Upgrade_GLAToxinShells
  ;UpgradeCameo2 = Upgrade_GLACamoNetting

  Draw                    = W3DModelDraw ModuleTag_Draw04
    OkToChangeModelColor  = Yes

    ConditionState = NONE
      Model = UVD30
      Turret = TURRET
      WeaponFireFXBone = PRIMARY FIREFX
      WeaponMuzzleFlash = PRIMARY MUZZLEFX
      WeaponLaunchBone = PRIMARY FIREFX
    End
    AliasConditionState = SNOW
    AliasConditionState = NIGHT
    AliasConditionState = SNOW NIGHT
    AliasConditionState = DAMAGED
    AliasConditionState = DAMAGED SNOW
    AliasConditionState = DAMAGED NIGHT
    AliasConditionState = DAMAGED SNOW NIGHT
    AliasConditionState = REALLYDAMAGED RUBBLE
    AliasConditionState = REALLYDAMAGED RUBBLE SNOW
    AliasConditionState = REALLYDAMAGED RUBBLE NIGHT
    AliasConditionState = REALLYDAMAGED RUBBLE SNOW NIGHT

    ConditionState = RELOADING_A
      Model = UVD30
      Turret = TURRET
      WeaponFireFXBone = PRIMARY FIREFX
      WeaponMuzzleFlash = PRIMARY MUZZLEFX
      WeaponLaunchBone = PRIMARY FIREFX
      Animation = UVD30.UVD30
      AnimationMode = ONCE
    End
    AliasConditionState = RELOADING_A SNOW
    AliasConditionState = RELOADING_A NIGHT
    AliasConditionState = RELOADING_A SNOW NIGHT
    AliasConditionState = RELOADING_A DAMAGED
    AliasConditionState = RELOADING_A DAMAGED SNOW
    AliasConditionState = RELOADING_A DAMAGED NIGHT
    AliasConditionState = RELOADING_A DAMAGED SNOW NIGHT
    AliasConditionState = RELOADING_A REALLYDAMAGED RUBBLE
    AliasConditionState = RELOADING_A REALLYDAMAGED RUBBLE SNOW
    AliasConditionState = RELOADING_A REALLYDAMAGED RUBBLE NIGHT
    AliasConditionState = RELOADING_A REALLYDAMAGED RUBBLE SNOW NIGHT

    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model = UVD30
      Turret = TURRET
      WeaponFireFXBone = PRIMARY FIREFX
      WeaponMuzzleFlash = PRIMARY MUZZLEFX
      WeaponLaunchBone = PRIMARY FIREFX
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED

    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
  End

  ;*****************************************************
  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes

    ExtraPublicBone = OILTANK01
    
    ; day ************************************
    ConditionState = NONE
      Model = UBStingerS
      HideSubObject = TURRETUP02 PLANE01
    End
    AliasConditionState = NIGHT 
    ConditionState = DAMAGED
      Model = UBStingerS_D
      HideSubObject = TURRETUP02 PLANE01
    End
    AliasConditionState = DAMAGED NIGHT 
    ConditionState = REALLYDAMAGED RUBBLE
      Model = UBStingerS_E
      HideSubObject = TURRETUP02 PLANE01
    End
    AliasConditionState = REALLYDAMAGED NIGHT RUBBLE

    ; day snow ************************************
    ConditionState = SNOW
      Model = UBStingerS_S
      HideSubObject = TURRETUP02 PLANE01
    End
    AliasConditionState       = NIGHT SNOW
    ConditionState = DAMAGED SNOW
      Model = UBStingerS_DS
      HideSubObject = TURRETUP02 PLANE01
    End
    AliasConditionState       = DAMAGED NIGHT SNOW
    ConditionState = REALLYDAMAGED SNOW RUBBLE
      Model = UBStingerS_ES
      HideSubObject = TURRETUP02 PLANE01
    End
    AliasConditionState       = REALLYDAMAGED NIGHT SNOW RUBBLE

    ;**********************************************
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = UBStingerS
      HideSubObject      = TURRETUP02 PLANE01
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = UBStingerS_D
      HideSubObject      = TURRETUP02 PLANE01
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = UBStingerS_E
      HideSubObject      = TURRETUP02 PLANE01
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model              = UBStingerS_S
      HideSubObject      = TURRETUP02 PLANE01
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
      Model              = UBStingerS_DS
      HideSubObject      = TURRETUP02 PLANE01
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
      Model              = UBStingerS_ES
      HideSubObject      = TURRETUP02 PLANE01
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED

    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
  End

  ; ------------ construction-zone fence -----------------
  Draw = W3DModelDraw ModuleTag_02
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = UBStingerS_A4
      Animation       = UBStingerS_A4.UBStingerS_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
    End
    ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = UBStingerS_A4N
      Animation       = UBStingerS_A4N.UBStingerS_A4N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
    End
    ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = UBStingerS_A4S
      Animation       = UBStingerS_A4S.UBStingerS_A4S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
    End
    ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = UBStingerS_A4SN
      Animation       = UBStingerS_A4SN.UBStingerS_A4SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = UBStingerS_A4
      Animation       = UBStingerS_A4.UBStingerS_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = UBStingerS_A4N
      Animation       = UBStingerS_A4N.UBStingerS_A4N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = UBStingerS_A4S
      Animation       = UBStingerS_A4S.UBStingerS_A4S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = UBStingerS_A4SN
      Animation       = UBStingerS_A4SN.UBStingerS_A4SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = UBStingerS_A4
      Animation       = UBStingerS_A4.UBStingerS_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = UBStingerS_A4N
      Animation       = UBStingerS_A4N.UBStingerS_A4N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = UBStingerS_A4S
      Animation       = UBStingerS_A4S.UBStingerS_A4S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = UBStingerS_A4SN
      Animation       = UBStingerS_A4SN.UBStingerS_A4SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ under-construction scaffolding -----------------
  Draw = W3DModelDraw ModuleTag_03
  AnimationsRequirePower = No
    MinLODRequired = MEDIUM
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = UBStingerS_A6
      Animation       = UBStingerS_A6.UBStingerS_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Smoke01 BuildUpSmoke
      ParticleSysBone = Smoke02 BuildUpSmoke
      ParticleSysBone = Smoke03 BuildUpSmoke
    End
    ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      Model           = UBStingerS_A6N
      Animation       = UBStingerS_A6N.UBStingerS_A6N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = Smoke01 BuildUpSmoke
      ParticleSysBone = Smoke02 BuildUpSmoke
      ParticleSysBone = Smoke03 BuildUpSmoke
    End
    ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      Model           = UBStingerS_A6S
      Animation       = UBStingerS_A6S.UBStingerS_A6S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = Smoke01 BuildUpSnowSmoke
      ParticleSysBone = Smoke02 BuildUpSnowSmoke
      ParticleSysBone = Smoke03 BuildUpSnowSmoke
    End
    ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      Model           = UBStingerS_A6SN
      Animation       = UBStingerS_A6SN.UBStingerS_A6SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = Smoke01 BuildUpNightSnowSmoke
      ParticleSysBone = Smoke02 BuildUpNightSnowSmoke
      ParticleSysBone = Smoke03 BuildUpNightSnowSmoke
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
     Model            = UBStingerS_A6
      Animation       = UBStingerS_A6.UBStingerS_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
     Model            = UBStingerS_A6N
      Animation       = UBStingerS_A6N.UBStingerS_A6N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
     Model            = UBStingerS_A6S
      Animation       = UBStingerS_A6S.UBStingerS_A6S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
     Model            = UBStingerS_A6SN
      Animation       = UBStingerS_A6SN.UBStingerS_A6SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = UBStingerS_A6
      Animation       = UBStingerS_A6.UBStingerS_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = UBStingerS_A6N
      Animation       = UBStingerS_A6N.UBStingerS_A6N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = UBStingerS_A6S
      Animation       = UBStingerS_A6S.UBStingerS_A6S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = UBStingerS_A6SN
      Animation       = UBStingerS_A6SN.UBStingerS_A6SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End
 
 ;PlacementViewAngle = -45
  PlacementViewAngle = -135

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:DefenseSiteArtillery ;-[ ]
  Side                = Boss
  EditorSorting       = STRUCTURE
  VisionRange         = 650.0
  ShroudClearingRange = 650.0
;---------------------------------------------------------------------
  WeaponSet
    Conditions = None 
    Weapon     = PRIMARY ALMajArtilCannonGun
  End
;---------------------------------------------------------------------
  ArmorSet
    Conditions = None
    Armor      = StructureArmor
    DamageFX   = StructureDamageFXNoShake
  End
;---------------------------------------------------------------------
  Prerequisites
    Object = Boss_UkraineBarracks
	Object = Boss_UkraineWarFactory
	Object = Boss_UkraineArtilleryWarehouse
  End
  BuildCost        = 1000 ;[800]*  ;1700
  BuildTime        = 16.0 ;20.0 ;[10.0]* ;34.0
  EnergyProduction = 0
;---------------------------------------------------------------------
  ExperienceValue = 100 100 100 100  ; Experience point value at each level
  ;ExperienceValue    = 101 134 178 238
  ;ExperienceRequired = 0 302 402 535
  ;IsTrainable        = Yes
  CommandSet = AmericaPatriotBatteryCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect          = StingerSiteSelect
  SoundOnDamaged       = BuildingDamagedStateLight
  SoundOnReallyDamaged = BuildingDestroy
  UnitSpecificSounds
    UnderConstruction  = UnderConstructionLoop
  End

  ; *** ENGINEERING Parameters *** 
  RadarPriority = STRUCTURE
  KindOf = PRELOAD STRUCTURE SELECTABLE IMMUNE_TO_CAPTURE SCORE_CREATE CAN_ATTACK IMMOBILE FS_BASE_DEFENSE SALVAGER WEAPON_SALVAGER
;;[    - ,    ....- : PRELOAD STRUCTURE SELECTABLE CAN_ATTACK IMMOBILE SCORE FS_TECHNOLOGY FS_BASE_DEFENSE IMMUNE_TO_CAPTURE ]
;--------------------------------------------------------------------------------------------------------------------
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;  Body = StructureBody ModuleTag_04
;    MaxHealth     = 900.0
;    InitialHealth = 900.0
;  End
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
  Body = StructureBody ModuleTag_05
    MaxHealth     = 1500.0
    InitialHealth = 1500.0
    SubdualDamageCap = 1200
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
  End
;--------------------------------------------?????????????????????????.........
  Behavior = AIUpdateInterface ModuleTag_06
    Turret
      TurretTurnRate        = 60
      AllowsPitch           = No
      ControlledWeaponSlots = PRIMARY
      RecenterTime   = 1000000
    End
    AutoAcquireEnemiesWhenIdle = Yes Stealthed ATTACK_BUILDINGS ;[:        =    ATTACK]
    MoodAttackCheckRate = 250  ;[:     = 250]
  End
;--------------------------------------------------------------------
  Behavior = DestroyDie ModuleTag_09
  End
  Behavior = CreateObjectDie ModuleTag_10
    CreationList = OCL_ABStingerSiteDebris
  End
  Behavior = FXListDie ModuleTag_11
    DeathFX = FX_StructureSmallDeath
  End
;----------------------------------------------------------------------------------------------------------
  Behavior = StealthDetectorUpdate ModuleTag_13
    DetectionRate  = 500          ;How often to rescan for stealthed things in my sight (msec)
    DetectionRange = 200          ;Dustin, enable this for independant balancing!
    CanDetectWhileGarrisoned = No ;Garrisoned means being in a structure that you units can shoot out of.
    CanDetectWhileContained  = No ;Contained means being in a transport or tunnel network.
  End
;----------------------------------------------------------------------------------------------------------
  Behavior = FlammableUpdate ModuleTag_16
    AflameDuration = 8000   ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 5  ; taking this much damage...
    AflameDamageDelay = 500 ; this often.
  End
  Behavior = TransitionDamageFX ModuleTag_17
    ;-------------DESIGNED FOR SMALL SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
  End
  ; Behavior = BaseRegenerateUpdate ModuleTag_Regen
  ; End 
  Behavior = ProductionUpdate ModuleTag_Production
  End
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;  Behavior= RebuildHoleExposeDie ModuleTag_658
;    HoleName      = GLAHoleStingerSite
;    HoleMaxHealth = 400.0
;  End
;  Behavior = RebuildHoleExposeDie ModuleTag_65658
;    HoleName      = GLAHoleStingerSite
;    HoleMaxHealth = 400.0
;  End
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

  Geometry            = BOX
  GeometryMajorRadius = 20.0
  GeometryMinorRadius = 20.0
  GeometryHeight = 10.0
  GeometryIsSmall     = No
  Shadow              = SHADOW_VOLUME
  BuildCompletion     = PLACED_BY_PLAYER
End

;-----------------------------------------------------------------------------------------------------
Object Boss_UkraineAntiTankCannon

  ; *** ART Parameters ***
  SelectPortrait         = SBFirebase
  ButtonImage            = SBFirebase

  ;UpgradeCameo1 = Upgrade_GLAToxinShells
  ;UpgradeCameo2 = Upgrade_GLACamoNetting

  ; *** ART Parameters ***
  Draw                    = W3DModelDraw ModuleTag_Draw04
    OkToChangeModelColor  = Yes

    ConditionState = NONE
      Model = UVBS1
      Turret = TURRET01
      WeaponFireFXBone = PRIMARY FIREFX
      WeaponMuzzleFlash = PRIMARY MUZZLEFX
      WeaponLaunchBone = PRIMARY FIREFX
    End
    AliasConditionState = SNOW
    AliasConditionState = NIGHT
    AliasConditionState = SNOW NIGHT
    AliasConditionState = DAMAGED
    AliasConditionState = SNOW DAMAGED
    AliasConditionState = NIGHT DAMAGED
    AliasConditionState = NIGHT SNOW DAMAGED
    AliasConditionState = REALLYDAMAGED RUBBLE
    AliasConditionState = SNOW REALLYDAMAGED RUBBLE
    AliasConditionState = NIGHT REALLYDAMAGED RUBBLE
    AliasConditionState = NIGHT SNOW REALLYDAMAGED RUBBLE

    ConditionState = RELOADING_A
      Model = UVBS1
      Turret = TURRET01
      WeaponFireFXBone = PRIMARY FIREFX
      WeaponMuzzleFlash = PRIMARY MUZZLEFX
      WeaponLaunchBone = PRIMARY FIREFX
      Animation = UVBS1.UVBS1
      AnimationMode = ONCE
    End
    AliasConditionState = RELOADING_A SNOW
    AliasConditionState = RELOADING_A NIGHT
    AliasConditionState = RELOADING_A SNOW NIGHT
    AliasConditionState = RELOADING_A DAMAGED
    AliasConditionState = RELOADING_A DAMAGED SNOW
    AliasConditionState = RELOADING_A DAMAGED NIGHT
    AliasConditionState = RELOADING_A DAMAGED SNOW NIGHT
    AliasConditionState = RELOADING_A REALLYDAMAGED RUBBLE
    AliasConditionState = RELOADING_A REALLYDAMAGED RUBBLE SNOW
    AliasConditionState = RELOADING_A REALLYDAMAGED RUBBLE NIGHT
    AliasConditionState = RELOADING_A REALLYDAMAGED RUBBLE SNOW NIGHT

    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = UVBS1
      Turret = TURRET01
      WeaponFireFXBone = PRIMARY FIREFX
      WeaponMuzzleFlash = PRIMARY MUZZLEFX
      WeaponLaunchBone = PRIMARY FIREFX
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED

    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
  End

  ;******************************************
  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes

    ExtraPublicBone = OILTANK01
    
    ; day ************************************
    ConditionState = NONE
      Model = UBStingerS
      HideSubObject = TURRETUP02 PLANE02
    End
    AliasConditionState = NIGHT 
    ConditionState = DAMAGED
      Model = UBStingerS_D
      HideSubObject = TURRETUP02 PLANE02
    End
    AliasConditionState = DAMAGED NIGHT 
    ConditionState = REALLYDAMAGED RUBBLE
      Model = UBStingerS_E
      HideSubObject = TURRETUP02 PLANE02
    End
    AliasConditionState = REALLYDAMAGED NIGHT RUBBLE

    ; day snow ************************************
    ConditionState = SNOW
      Model = UBStingerS_S
      HideSubObject = TURRETUP02 PLANE02
    End
    AliasConditionState       = NIGHT SNOW
    ConditionState = DAMAGED SNOW
      Model = UBStingerS_DS
      HideSubObject = TURRETUP02 PLANE02
    End
    AliasConditionState       = DAMAGED NIGHT SNOW
    ConditionState = REALLYDAMAGED SNOW RUBBLE
      Model = UBStingerS_ES
      HideSubObject = TURRETUP02 PLANE02
    End
    AliasConditionState       = REALLYDAMAGED NIGHT SNOW RUBBLE

    ;**********************************************
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = UBStingerS
      HideSubObject      = TURRETUP02 PLANE02
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = UBStingerS_D
      HideSubObject      = TURRETUP02 PLANE02
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = UBStingerS_E
      HideSubObject      = TURRETUP02 PLANE02
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model              = UBStingerS_S
      HideSubObject      = TURRETUP02 PLANE02
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
      Model              = UBStingerS_DS
      HideSubObject      = TURRETUP02 PLANE02
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
      Model              = UBStingerS_ES
      HideSubObject      = TURRETUP02 PLANE02
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED

    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
  End

  ; ------------ construction-zone fence -----------------
  Draw = W3DModelDraw ModuleTag_02
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = UBStingerS_A4
      Animation       = UBStingerS_A4.UBStingerS_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
    End
    ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = UBStingerS_A4N
      Animation       = UBStingerS_A4N.UBStingerS_A4N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
    End
    ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = UBStingerS_A4S
      Animation       = UBStingerS_A4S.UBStingerS_A4S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
    End
    ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = UBStingerS_A4SN
      Animation       = UBStingerS_A4SN.UBStingerS_A4SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = UBStingerS_A4
      Animation       = UBStingerS_A4.UBStingerS_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = UBStingerS_A4N
      Animation       = UBStingerS_A4N.UBStingerS_A4N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = UBStingerS_A4S
      Animation       = UBStingerS_A4S.UBStingerS_A4S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = UBStingerS_A4SN
      Animation       = UBStingerS_A4SN.UBStingerS_A4SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = UBStingerS_A4
      Animation       = UBStingerS_A4.UBStingerS_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = UBStingerS_A4N
      Animation       = UBStingerS_A4N.UBStingerS_A4N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = UBStingerS_A4S
      Animation       = UBStingerS_A4S.UBStingerS_A4S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = UBStingerS_A4SN
      Animation       = UBStingerS_A4SN.UBStingerS_A4SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ under-construction scaffolding -----------------
  Draw = W3DModelDraw ModuleTag_03
  AnimationsRequirePower = No
    MinLODRequired = MEDIUM
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = UBStingerS_A6
      Animation       = UBStingerS_A6.UBStingerS_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Smoke01 BuildUpSmoke
      ParticleSysBone = Smoke02 BuildUpSmoke
      ParticleSysBone = Smoke03 BuildUpSmoke
    End
    ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      Model           = UBStingerS_A6N
      Animation       = UBStingerS_A6N.UBStingerS_A6N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = Smoke01 BuildUpSmoke
      ParticleSysBone = Smoke02 BuildUpSmoke
      ParticleSysBone = Smoke03 BuildUpSmoke
    End
    ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      Model           = UBStingerS_A6S
      Animation       = UBStingerS_A6S.UBStingerS_A6S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = Smoke01 BuildUpSnowSmoke
      ParticleSysBone = Smoke02 BuildUpSnowSmoke
      ParticleSysBone = Smoke03 BuildUpSnowSmoke
    End
    ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      Model           = UBStingerS_A6SN
      Animation       = UBStingerS_A6SN.UBStingerS_A6SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = Smoke01 BuildUpNightSnowSmoke
      ParticleSysBone = Smoke02 BuildUpNightSnowSmoke
      ParticleSysBone = Smoke03 BuildUpNightSnowSmoke
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
     Model            = UBStingerS_A6
      Animation       = UBStingerS_A6.UBStingerS_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
     Model            = UBStingerS_A6N
      Animation       = UBStingerS_A6N.UBStingerS_A6N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
     Model            = UBStingerS_A6S
      Animation       = UBStingerS_A6S.UBStingerS_A6S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
     Model            = UBStingerS_A6SN
      Animation       = UBStingerS_A6SN.UBStingerS_A6SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = UBStingerS_A6
      Animation       = UBStingerS_A6.UBStingerS_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = UBStingerS_A6N
      Animation       = UBStingerS_A6N.UBStingerS_A6N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = UBStingerS_A6S
      Animation       = UBStingerS_A6S.UBStingerS_A6S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = UBStingerS_A6SN
      Animation       = UBStingerS_A6SN.UBStingerS_A6SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

 ;PlacementViewAngle = -45
  PlacementViewAngle = -135

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:DefenseSiteAntiTank
  Side                = Boss
  EditorSorting       = STRUCTURE
  VisionRange         = 350.0
  ShroudClearingRange = 350.0
;---------------------------------------------
  WeaponSet
    Conditions = None 
    Weapon = PRIMARY DefenseSiteTankGun
    PreferredAgainst = PRIMARY VEHICLE
  End
;---------------------------------------------
  ArmorSet
    Conditions = None
    Armor      = StructureArmor
    DamageFX   = StructureDamageFXNoShake
  End
;---------------------------------------------
  Prerequisites
    Object = Boss_UkraineBarracks
	Object = Boss_UkraineWarFactory
	Object = Boss_UkraineArtilleryWarehouse
  End
  
  BuildCost = 800
  BuildTime = 14.0
  EnergyProduction = 0
;---------------------------------------------
  ExperienceValue = 100 100 100 100  ; Experience point value at each level
  ;ExperienceValue    = 60 80 106 142
  ;ExperienceRequired = 0  180 240 319
  ;IsTrainable        = Yes
  CommandSet = AmericaPatriotBatteryCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect          = StingerSiteSelect
  SoundOnDamaged       = BuildingDamagedStateLight
  SoundOnReallyDamaged = BuildingDestroy
  UnitSpecificSounds
    UnderConstruction  = UnderConstructionLoop
  End

  ; *** ENGINEERING Parameters ***
 
  RadarPriority = STRUCTURE
  KindOf = PRELOAD STRUCTURE SELECTABLE IMMUNE_TO_CAPTURE SCORE_CREATE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT IMMOBILE FS_BASE_DEFENSE SALVAGER WEAPON_SALVAGER
;--------------------------------------------------------------------------------------------------------------------------
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;  Body = StructureBody ModuleTag_04
;    MaxHealth     = 900.0
;    InitialHealth = 900.0
;  End
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
  Body = StructureBody ModuleTag_05
    MaxHealth     = 1500.0
    InitialHealth = 1500.0
    SubdualDamageCap = 1200
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
  End
;------------------------------------------------------
  Behavior = AIUpdateInterface ModuleTag_AI
    Turret
      ControlledWeaponSlots = PRIMARY
      TurretTurnRate = 90
      AllowsPitch    = No
      RecenterTime   = 1000000
    End
    AutoAcquireEnemiesWhenIdle = Yes Stealthed ;[:        =  ]
    MoodAttackCheckRate = 250  ;[:     = 250]
  End
;------------------------------------------------------
  Behavior = DestroyDie ModuleTag_09
  End
  Behavior = CreateObjectDie ModuleTag_10
    CreationList  = OCL_ABStingerSiteDebris
  End
  Behavior = FXListDie ModuleTag_11
    DeathFX = FX_StructureSmallDeath
  End
;----------------------------------------------------------------------------------------------------------
  Behavior = StealthDetectorUpdate ModuleTag_13
    DetectionRate  = 500          ;How often to rescan for stealthed things in my sight (msec)
    DetectionRange = 200          ;Dustin, enable this for independant balancing!
    CanDetectWhileGarrisoned = No ;Garrisoned means being in a structure that you units can shoot out of.
    CanDetectWhileContained  = No ;Contained means being in a transport or tunnel network.
  End
;----------------------------------------------------------------------------------------------------------

  Behavior = FlammableUpdate ModuleTag_16
    AflameDuration = 8000
    AflameDamageAmount = 1
    AflameDamageDelay = 500
  End
  Behavior = TransitionDamageFX ModuleTag_17
    ;-------------DESIGNED FOR SMALL SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
  End
  ; Behavior = BaseRegenerateUpdate ModuleTag_Regen
  ; End 
  Behavior = ProductionUpdate ModuleTag_Production
  End
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;  Behavior = RebuildHoleExposeDie ModuleTag_1238
;    HoleName      = GLAHoleStingerSite
;    HoleMaxHealth = 400.0
;  End
;  Behavior = RebuildHoleExposeDie ModuleTag_4568
;    HoleName      = GLAHoleStingerSite
;    HoleMaxHealth = 400.0
;  End
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

  Geometry            = BOX
  GeometryMajorRadius = 20.0
  GeometryMinorRadius = 20.0
  GeometryHeight      = 10.0
  GeometryIsSmall     = No
  Shadow              = SHADOW_VOLUME
  BuildCompletion     = PLACED_BY_PLAYER
End

;=====================================================================
Object Boss_UkraineHangarBuilding

  SelectPortrait         = MUBarracks
  ButtonImage            = MUBarracks

  ; *** ART Parameters ***
  ; Draw = W3DModelDraw ModuleTag_01
    ; DefaultConditionState
	  ; Model         = CBTHanger2
	; End
  ; End
  Draw = W3DModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
   
    ; day
    ConditionState = NONE
      Model         = CBTHanger2
    End
    ConditionState = DAMAGED
      Model         = CBTHanger2_D
    End
    ConditionState = REALLYDAMAGED
      Model         = CBTHanger2_E
    End

    ; night
    ConditionState = NIGHT
      Model         = CBTHanger2_N
    End
    ConditionState = DAMAGED NIGHT
      Model         = CBTHanger2_DN
    End
    ConditionState = REALLYDAMAGED NIGHT
      Model         = CBTHanger2_EN
    End

       ; Snow
    ConditionState = SNOW
      Model         = CBTHanger2_S
    End
    ConditionState = DAMAGED SNOW
      Model         = CBTHanger2_DS
    End
    ConditionState = REALLYDAMAGED SNOW
      Model         = CBTHanger2_ES
    End

    ; night snow
    ConditionState = SNOW NIGHT
      Model         = CBTHanger2_SN
    End
    ConditionState = DAMAGED SNOW NIGHT
      Model         = CBTHanger2_DSN
    End
    ConditionState = REALLYDAMAGED SNOW NIGHT
      Model         = CBTHanger2_ESN
    End

    ; ;**************************************************************************************************************************
    ; ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ; ;for this draw module
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = CBTHanger2
      Animation          = CBTHanger2.CBTHanger2
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = CBTHanger2_D
      Animation          = CBTHanger2_D.CBTHanger2_D
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = CBTHanger2_E
      Animation          = CBTHanger2_E.CBTHanger2_E
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
     ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
      Model              = CBTHanger2_N
      Animation          = CBTHanger2_N.CBTHanger2_N
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
      Model              = CBTHanger2_DN
      Animation          = CBTHanger2_DN.CBTHanger2_DN
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
      Model              = CBTHanger2_EN
      ;Animation          = CBTHanger2_EN.CBTHanger2_EN
      ;AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model              = CBTHanger2_S
      Animation          = CBTHanger2_S.CBTHanger2_S
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
      Model              = CBTHanger2_DS
      Animation          = CBTHanger2_DS.CBTHanger2_DS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
      Model              = CBTHanger2_ES
      ;Animation          = CBTHanger2_ES.CBTHanger2_ES
      ;AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End

    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    ; ;**************************************************************************************************************************

  End

  ; ------------ construction-zone fence -----------------
  Draw = W3DModelDraw ModuleTag_02
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = NBBarracks_A4
      Animation       = NBBarracks_A4.NBBarracks_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
    End
    ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = NBBarracks_A4N
      Animation       = NBBarracks_A4N.NBBarracks_A4N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
    End
    ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = NBBarracks_A4S
      Animation       = NBBarracks_A4S.NBBarracks_A4S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
    End
    ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = NBBarracks_A4SN
      Animation       = NBBarracks_A4SN.NBBarracks_A4SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = NBBarracks_A4
      Animation       = NBBarracks_A4.NBBarracks_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = NBBarracks_A4N
      Animation       = NBBarracks_A4N.NBBarracks_A4N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = NBBarracks_A4S
      Animation       = NBBarracks_A4S.NBBarracks_A4S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = NBBarracks_A4SN
      Animation       = NBBarracks_A4SN.NBBarracks_A4SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = NBBarracks_A4
      Animation       = NBBarracks_A4.NBBarracks_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
     Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = NBBarracks_A4N
      Animation       = NBBarracks_A4N.NBBarracks_A4N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
     Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = NBBarracks_A4S
      Animation       = NBBarracks_A4S.NBBarracks_A4S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
     Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = NBBarracks_A4SN
      Animation       = NBBarracks_A4SN.NBBarracks_A4SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
     Flags           = START_FRAME_LAST
    End
  End

  ; ------------ under-construction scaffolding -----------------
  Draw = W3DModelDraw ModuleTag_03
  AnimationsRequirePower = No
    MinLODRequired = MEDIUM
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = NBBarracks_A6
      Animation       = NBBarracks_A6.NBBarracks_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Dust01 BuildingDustChina
      ParticleSysBone = Smoke01 BuildUpSmokeChina
      ParticleSysBone = Smoke02 BuildUpSmokeChina
      ParticleSysBone = Smoke03 BuildUpSmokeChina
      ParticleSysBone = Smoke04 BuildUpSmokeChina
      ParticleSysBone = Smoke05 BuildUpSmokeChina
    End
    ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      Model           = NBBarracks_A6N
      Animation       = NBBarracks_A6N.NBBarracks_A6N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = Dust01 BuildingDustChina
      ParticleSysBone = Smoke01 BuildUpSmokeChina
      ParticleSysBone = Smoke02 BuildUpSmokeChina
      ParticleSysBone = Smoke03 BuildUpSmokeChina
      ParticleSysBone = Smoke04 BuildUpSmokeChina
      ParticleSysBone = Smoke05 BuildUpSmokeChina
    End
    ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      Model           = NBBarracks_A6S
      Animation       = NBBarracks_A6S.NBBarracks_A6S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = Dust01 BuildingSnowDust
      ParticleSysBone = Smoke01 BuildUpSnowSmoke
      ParticleSysBone = Smoke02 BuildUpSnowSmoke
      ParticleSysBone = Smoke03 BuildUpSnowSmoke
      ParticleSysBone = Smoke04 BuildUpSnowSmoke
      ParticleSysBone = Smoke05 BuildUpSnowSmoke
    End
    ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      Model           = NBBarracks_A6SN
      Animation       = NBBarracks_A6SN.NBBarracks_A6SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = Dust01 BuildingNightSnowDust
      ParticleSysBone = Smoke01 BuildUpNightSnowSmoke
      ParticleSysBone = Smoke02 BuildUpNightSnowSmoke
      ParticleSysBone = Smoke03 BuildUpNightSnowSmoke
      ParticleSysBone = Smoke04 BuildUpNightSnowSmoke
      ParticleSysBone = Smoke05 BuildUpNightSnowSmoke
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
     Model            = NBBarracks_A6
      Animation       = NBBarracks_A6.NBBarracks_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
     Model            = NBBarracks_A6N
      Animation       = NBBarracks_A6N.NBBarracks_A6N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
     Model            = NBBarracks_A6S
      Animation       = NBBarracks_A6S.NBBarracks_A6S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
     Model            = NBBarracks_A6SN
      Animation       = NBBarracks_A6SN.NBBarracks_A6SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = NBBarracks_A6
      Animation       = NBBarracks_A6.NBBarracks_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = NBBarracks_A6N
      Animation       = NBBarracks_A6N.NBBarracks_A6N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = NBBarracks_A6S
      Animation       = NBBarracks_A6S.NBBarracks_A6S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = NBBarracks_A6SN
      Animation       = NBBarracks_A6SN.NBBarracks_A6SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ being-constructed crane -----------------
  Draw = W3DModelDraw ModuleTag_04
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SOLD
      Model           = NONE
    End

    ConditionState  = ACTIVELY_BEING_CONSTRUCTED
      Model           = NBBarracks_A5
      Animation       = NBBarracks_A5.NBBarracks_A5
      AnimationMode   = LOOP
      TransitionKey  = UP_DAY
    End

    ConditionState  = NIGHT ACTIVELY_BEING_CONSTRUCTED
      Model           = NBBarracks_A5N
      Animation       = NBBarracks_A5N.NBBarracks_A5N
      AnimationMode   = LOOP
      TransitionKey  = UP_NIGHT
    End
    ConditionState  = SNOW ACTIVELY_BEING_CONSTRUCTED
      Model           = NBBarracks_A5S
      Animation       = NBBarracks_A5S.NBBarracks_A5S
      AnimationMode   = LOOP
      TransitionKey  = UP_SNOW
    End
    ConditionState  = SNOW NIGHT ACTIVELY_BEING_CONSTRUCTED
      Model           = NBBarracks_A5SN
      Animation       = NBBarracks_A5SN.NBBarracks_A5SN
      AnimationMode   = LOOP
      TransitionKey  = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = NBBarracks_AB
      Animation       = NBBarracks_AB.NBBarracks_AB
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End

    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model            = NBBarracks_ABN
      Animation       = NBBarracks_ABN.NBBarracks_ABN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model            = NBBarracks_ABS
      Animation       = NBBarracks_ABS.NBBarracks_ABS
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model            = NBBarracks_ABSN
      Animation       = NBBarracks_ABSN.NBBarracks_ABSN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model            = NBBarracks_AB
      Animation       = NBBarracks_AB.NBBarracks_AB
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model            = NBBarracks_ABN
      Animation       = NBBarracks_ABN.NBBarracks_ABN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model            = NBBarracks_ABS
      Animation       = NBBarracks_ABS.NBBarracks_ABS
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model            = NBBarracks_ABSN
      Animation       = NBBarracks_ABSN.NBBarracks_ABSN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; *** AUDIO Parameters ***
  ; SoundDie              = BuildingDie
  ; SoundOnDamaged        = BuildingDamagedStateLight
  ; SoundOnReallyDamaged  = BuildingDestroy

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Hangar
  Side             = Boss
  EditorSorting    = STRUCTURE
  BuildCost           = 1500
  BuildTime           = 10.0           ; in seconds
  EnergyProduction    = 0
  
  ArmorSet
    Conditions      = None
    Armor           = StructureArmor
    DamageFX        = StructureDamageFXNoShake
  End
 CommandSet        =  HangarCommandSet

  ; *** ENGINEERING Parameters ***
  RadarPriority       = STRUCTURE
  ;KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE CAPTURABLE MP_COUNT_FOR_VICTORY FS_BASE_DEFENSE GARRISONABLE_UNTIL_DESTROYED
  KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE CAPTURABLE FS_TECHNOLOGY MP_COUNT_FOR_VICTORY FS_FACTORY FS_AIRFIELD AUTO_RALLYPOINT

  Body                = StructureBody ModuleTag_05
    MaxHealth         = 15000.0
    InitialHealth     = 15000.0
  End
  
  Behavior = ProductionUpdate ModuleTag_06
       ConstructionCompleteDuration = 1000  ;in mSeconds
  End
  
  Behavior = TransportContain ModuleTag_07
    Slots                = 20
    DamagePercentToUnits = 0%
    AllowInsideKindOf    = INFANTRY VEHICLE DOZER HUGE_VEHICLE
    ForbidInsideKindOf   = AIRCRAFT
    ExitDelay            = 100
    NumberOfExitPaths    = 1
    PassengersAllowedToFire = No
  End
  
  ; Behavior = ProductionUpdate ModuleTag_13
    ; ; nothing, but is required if we have any Object-level Upgrades!
  ; End
  
  Behavior = FlammableUpdate ModuleTag_08
    FlameDamageLimit = 20         ;Catch fire if I take this much fire damage...
    FlameDamageExpiration = 2000  ;in a span of this long
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 25       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End
  
  Behavior = TransitionDamageFX ModuleTag_09
    ; -------------DESIGNED FOR SMALL SIZED CIVILIAN BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1          = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ; ---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave  
  End

  Behavior = DestroyDie ModuleTag_10
    ;nothing
  End
  Behavior = CreateObjectDie ModuleTag_11
    CreationList = OCL_ABPowerPlantExplode
  End

  Behavior = FXListDie ModuleTag_12
    DeathFX = FX_StructureMediumDeath
  End

  Geometry              = BOX
  GeometryMajorRadius   = 22.0
  GeometryMinorRadius   = 36.0
  GeometryHeight        = 23.0
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
  BuildCompletion       = PLACED_BY_PLAYER
End

;------------------------------------------------------------------------------
Object Boss_UkraineStingerSite

  ; *** ART Parameters ***
  SelectPortrait         = SUDemo_StingerSite_L
  ButtonImage            = SUDemo_StingerSite

  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes
    
    ; day ************************************
    ConditionState = NONE
      Model = UBStingerS
      HideSubObject = SPAWNPOINT01 SPAWNPOINT02 SPAWNPOINT03
    End
    
    ConditionState = DAMAGED
      Model = UBStingerS_D
      HideSubObject = SPAWNPOINT01 SPAWNPOINT02 SPAWNPOINT03
    End
    
    ConditionState = REALLYDAMAGED RUBBLE
      Model = UBStingerS_E
      HideSubObject = SPAWNPOINT01 SPAWNPOINT02 SPAWNPOINT03
    End

    ; day snow ************************************
    ConditionState = SNOW
      Model = UBStingerS_S
      HideSubObject = SPAWNPOINT01 SPAWNPOINT02 SPAWNPOINT03
    End
    
    ConditionState = DAMAGED SNOW
      Model = UBStingerS_DS
      HideSubObject = SPAWNPOINT01 SPAWNPOINT02 SPAWNPOINT03
    End
    
    ConditionState = REALLYDAMAGED SNOW RUBBLE
      Model = UBStingerS_ES
      HideSubObject = SPAWNPOINT01 SPAWNPOINT02 SPAWNPOINT03
    End
    
    ; night  **********************************
    ConditionState       = NIGHT 
      Model              = UBStingerS_N
      HideSubObject = SPAWNPOINT01 SPAWNPOINT02 SPAWNPOINT03
    End
    
    ConditionState       = DAMAGED NIGHT 
      Model              = UBStingerS_DN
      HideSubObject = SPAWNPOINT01 SPAWNPOINT02 SPAWNPOINT03
    End
    
    ConditionState       = REALLYDAMAGED NIGHT  RUBBLE
      Model              = UBStingerS_EN
      HideSubObject = SPAWNPOINT01 SPAWNPOINT02 SPAWNPOINT03
    End
       
    ; night snow **********************************
    ConditionState       = NIGHT SNOW
      Model              = UBStingerS_NS
      HideSubObject = SPAWNPOINT01 SPAWNPOINT02 SPAWNPOINT03
    End
    
    ConditionState       = DAMAGED NIGHT SNOW
      Model              = UBStingerS_DNS
      HideSubObject = SPAWNPOINT01 SPAWNPOINT02 SPAWNPOINT03
    End
    
    ConditionState       = REALLYDAMAGED NIGHT SNOW RUBBLE
      Model              = UBStingerS_ENS
      HideSubObject = SPAWNPOINT01 SPAWNPOINT02 SPAWNPOINT03
    End
    
    
        ;**************************************************************************************************************************
    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ;for this draw module
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = UBStingerS
     ; Animation          = UBStingerS.UBStingerS
     ; AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = UBStingerS_D
     ; Animation          = UBStingerS_D.UBStingerS_D
     ; AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = UBStingerS_E
     ; Animation          = UBStingerS_E.UBStingerS_E
     ; AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
      Model              = UBStingerS_N
     ; Animation          = UBStingerS_N.UBStingerS_N
     ; AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
      Model              = UBStingerS_DN
     ; Animation          = UBStingerS_DN.UBStingerS_DN
     ; AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
      Model              = UBStingerS_EN
     ; Animation          = UBStingerS_EN.UBStingerS_EN
     ; AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model              = UBStingerS_S
     ; Animation          = UBStingerS_S.UBStingerS_S
     ; AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
      Model              = UBStingerS_DS
     ; Animation          = UBStingerS_DS.UBStingerS_DS
     ; AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
      Model              = UBStingerS_ES
     ; Animation          = UBStingerS_ES.UBStingerS_ES
     ; AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
      Model              = UBStingerS_NS
     ; Animation          = UBStingerS_NS.UBStingerS_NS
     ; AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
      Model              = UBStingerS_DNS
     ; Animation          = UBStingerS_DNS.UBStingerS_DNS
     ; AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
      Model              = UBStingerS_ENS
     ; Animation          = UBStingerS_ENS.UBStingerS_ENS
     ; AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End

    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    ;**************************************************************************************************************************

  
  End
  ; ------------ construction-zone fence -----------------
  Draw = W3DModelDraw ModuleTag_02
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = UBStingerS_A4
      Animation       = UBStingerS_A4.UBStingerS_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
    End
    ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = UBStingerS_A4N
      Animation       = UBStingerS_A4N.UBStingerS_A4N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
    End
    ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = UBStingerS_A4S
      Animation       = UBStingerS_A4S.UBStingerS_A4S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
    End
    ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = UBStingerS_A4SN
      Animation       = UBStingerS_A4SN.UBStingerS_A4SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = UBStingerS_A4
      Animation       = UBStingerS_A4.UBStingerS_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = UBStingerS_A4N
      Animation       = UBStingerS_A4N.UBStingerS_A4N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = UBStingerS_A4S
      Animation       = UBStingerS_A4S.UBStingerS_A4S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = UBStingerS_A4SN
      Animation       = UBStingerS_A4SN.UBStingerS_A4SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = UBStingerS_A4
      Animation       = UBStingerS_A4.UBStingerS_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = UBStingerS_A4N
      Animation       = UBStingerS_A4N.UBStingerS_A4N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = UBStingerS_A4S
      Animation       = UBStingerS_A4S.UBStingerS_A4S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = UBStingerS_A4SN
      Animation       = UBStingerS_A4SN.UBStingerS_A4SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ under-construction scaffolding -----------------
  Draw = W3DModelDraw ModuleTag_03
  AnimationsRequirePower = No
    MinLODRequired = MEDIUM
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = UBStingerS_A6
      Animation       = UBStingerS_A6.UBStingerS_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Smoke01 BuildUpSmoke
      ParticleSysBone = Smoke02 BuildUpSmoke
      ParticleSysBone = Smoke03 BuildUpSmoke
    End
    ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      Model           = UBStingerS_A6N
      Animation       = UBStingerS_A6N.UBStingerS_A6N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = Smoke01 BuildUpSmoke
      ParticleSysBone = Smoke02 BuildUpSmoke
      ParticleSysBone = Smoke03 BuildUpSmoke
    End
    ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      Model           = UBStingerS_A6S
      Animation       = UBStingerS_A6S.UBStingerS_A6S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = Smoke01 BuildUpSnowSmoke
      ParticleSysBone = Smoke02 BuildUpSnowSmoke
      ParticleSysBone = Smoke03 BuildUpSnowSmoke
    End
    ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      Model           = UBStingerS_A6SN
      Animation       = UBStingerS_A6SN.UBStingerS_A6SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = Smoke01 BuildUpNightSnowSmoke
      ParticleSysBone = Smoke02 BuildUpNightSnowSmoke
      ParticleSysBone = Smoke03 BuildUpNightSnowSmoke
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
     Model            = UBStingerS_A6
      Animation       = UBStingerS_A6.UBStingerS_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
     Model            = UBStingerS_A6N
      Animation       = UBStingerS_A6N.UBStingerS_A6N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
     Model            = UBStingerS_A6S
      Animation       = UBStingerS_A6S.UBStingerS_A6S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
     Model            = UBStingerS_A6SN
      Animation       = UBStingerS_A6SN.UBStingerS_A6SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = UBStingerS_A6
      Animation       = UBStingerS_A6.UBStingerS_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = UBStingerS_A6N
      Animation       = UBStingerS_A6N.UBStingerS_A6N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = UBStingerS_A6S
      Animation       = UBStingerS_A6S.UBStingerS_A6S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = UBStingerS_A6SN
      Animation       = UBStingerS_A6SN.UBStingerS_A6SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  Draw = W3DModelDraw ModuleTag_04

    OkToChangeModelColor        = Yes

    ; ------------------ basic technical ------------------------
    ConditionState = NONE
      Model = UBStingerD
    End

    ConditionState = DAMAGED REALLYDAMAGED RUBBLE
      Model = UBStingerD
    End

    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = UBStingerD
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = UBStingerD
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
  End

  ; ------------ mod's fortified upgrade -----------------
  Draw = W3DModelDraw ModuleTag_Fort01
    OkToChangeModelColor = Yes

    DefaultConditionState
      Model              = NONE
    End
    AliasConditionState  = DAMAGED
    AliasConditionState  = REALLYDAMAGED RUBBLE
    AliasConditionState  = SNOW
    AliasConditionState  = SNOW DAMAGED
    AliasConditionState  = SNOW REALLYDAMAGED RUBBLE

    ConditionState      = GARRISONED
      Model             = UBStngrSF
    End
    ConditionState      = GARRISONED DAMAGED
      Model             = UBStngrSF_D
    End
    ConditionState      = GARRISONED REALLYDAMAGED RUBBLE
      Model             = UBStngrSF_E
    End
    
    
    ConditionState      = GARRISONED SNOW
      Model             = UBStngrSF_S
    End
    ConditionState      = GARRISONED DAMAGED SNOW
      Model             = UBStngrSF_DS
    End
    ConditionState      = GARRISONED REALLYDAMAGED RUBBLE SNOW
      Model             = UBStngrSF_ES
    End

    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = GARRISONED AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = GARRISONED AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = GARRISONED AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = GARRISONED AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = GARRISONED AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = GARRISONED SOLD 
    AliasConditionState  = GARRISONED SOLD DAMAGED
    AliasConditionState  = GARRISONED SOLD REALLYDAMAGED
    AliasConditionState  = GARRISONED SOLD SNOW
    AliasConditionState  = GARRISONED SOLD SNOW DAMAGED
    AliasConditionState  = GARRISONED SOLD SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
  End

  PlacementViewAngle = -45

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:StingerSite
  Side                = Boss
  EditorSorting       = STRUCTURE
  Prerequisites
    Object            = Boss_UkraineBarracks
  End
  BuildCost           = 900
  BuildTime           = 15.0           ; in seconds
;  EnergyProduction    = -3
  VisionRange         = 600.0           ; Shroud clearing distance
  ShroudClearingRange = 400
  WeaponSet
    Weapon = TERTIARY TerroristSuicideNotARealWeapon
    AutoChooseSources = TERTIARY NONE
  End
  ArmorSet
    Conditions        = None
    Armor             = StingerSiteArmor
    DamageFX          = StructureDamageFXNoShake
  End
  ; ArmorSet
    ; Conditions        = PLAYER_UPGRADE
    ; Armor             = StingerSiteArmorUpgraded
    ; DamageFX          = StructureDamageFXNoShake
  ; End
  CommandSet          = Boss_UkraineStingerSiteCommandSet
  ExperienceValue     = 200 200 200 200  ; Experience point value at each level

  ; *** AUDIO Parameters ***
  VoiceSelect         = StingerSiteSelect
  SoundOnDamaged        = BuildingDamagedStateLight
  SoundOnReallyDamaged  = BuildingDestroy

  UnitSpecificSounds
    UnderConstruction     = UnderConstructionLoop
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority        = STRUCTURE
  KindOf               = PRELOAD STRUCTURE SELECTABLE IMMOBILE FS_BASE_DEFENSE IMMUNE_TO_CAPTURE SPAWNS_ARE_THE_WEAPONS SCORE_CREATE ;POWERED

  Body                 = HiveStructureBody ModuleTag_05 ;Requires SpawnBehavior!
    MaxHealth          = 1000.0
    InitialHealth      = 1000.0
    ;**Careful with these damage types -- because area damage types will already
    ;**damage slaves.
    PropagateDamageTypesToSlavesWhenExisting = NONE +SMALL_ARMS +SNIPER +POISON +RADIATION +SURRENDER
    SwallowDamageTypesIfSlavesNotExisting = NONE +SNIPER +POISON +SURRENDER; Take no damage if no one to pass this to

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 1200
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
  End

  Behavior        = ModelConditionUpgrade ModuleTag_Armor01Visual
    ConditionFlag = GARRISONED
    TriggeredBy   = Upgrade_GLAFortifiedStructure
  End

  ; Behavior        = ArmorUpgrade ModuleTag_Armor01
    ; TriggeredBy   = Upgrade_GLAFortifiedStructure
  ; End

  Behavior = SpawnPointProductionExitUpdate ModuleTag_06
    SpawnPointBoneName = SpawnPoint
  End

  Behavior                = SpawnBehavior ModuleTag_07
    SpawnNumber           = 6
    SpawnReplaceDelay     = 30000 ;msec
    SpawnTemplateName     = Demo_GLAInfantryStingerSoldier
    CanReclaimOrphans     = No
    SpawnedRequireSpawner = Yes
  End
  ; Behavior        = RebuildHoleExposeDie ModuleTag_08
    ; HoleName      = Demo_GLAHoleStingerSite
    ; HoleMaxHealth = 500.0
  ; End
  Behavior        = DestroyDie ModuleTag_09
    ;<NO DATA>
  End
  Behavior        = CreateObjectDie ModuleTag_10
    CreationList  = OCL_ABStingerSiteDebris
  End
  Behavior        = FXListDie ModuleTag_11
    DeathFX       = FX_StructureSmallDeath
  End
  Behavior        = FireWeaponWhenDeadBehavior ModuleTag_12
    DeathWeapon   = StingerSiteDeathConcussion
    StartsActive  = Yes
  End

  ; Behavior = StealthUpdate ModuleTag_13
   ; StealthDelay                = 2500 ; msec
   ; StealthForbiddenConditions  = ATTACKING USING_ABILITY NO_BLACK_MARKET TAKING_DAMAGE
   ; MoveThresholdSpeed          = 3
   ; InnateStealth               = No ;Requires upgrade first
   ; OrderIdleEnemiesToAttackMeUponReveal  = Yes
  ; End
  ; Behavior = StealthUpgrade ModuleTag_14
   ; TriggeredBy = Upgrade_GLACamoNetting
  ; End
  Behavior = ProductionUpdate ModuleTag_15
  End
  
  Behavior                = FlammableUpdate ModuleTag_16
    AflameDuration        = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount    = 5       ; taking this much damage...
    AflameDamageDelay     = 500       ; this often.
  End

  Behavior = TransitionDamageFX ModuleTag_17
    ;-------------DESIGNED FOR SMALL SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
  End

  ; Behavior = FireWeaponWhenDeadBehavior ModuleTag_Death18
    ; DeathWeapon   = Demo_SuicideDynamitePack
    ; StartsActive  = Yes                      ; turned on by upgrade
    ; DeathTypes = NONE +SUICIDED
  ; End

  ; Behavior = FireWeaponWhenDeadBehavior ModuleTag999
    ; DeathWeapon   = Demo_SuicideDynamitePackPlusFire
    ; StartsActive  = No
    ; TriggeredBy   = Demo_Upgrade_SuicideBomb
    ; RequiresAllTriggers = Yes; 
    ; DeathTypes = ALL -SUICIDED -POISONED -POISONED_BETA -POISONED_GAMMA
  ; End;

  ; Behavior = FireWeaponWhenDeadBehavior ModuleTag998
    ; DeathWeapon   = Demo_SuicideDynamitePack
    ; StartsActive  = No
    ; TriggeredBy   = Demo_Upgrade_SuicideBomb
    ; RequiresAllTriggers = Yes; 
    ; DeathTypes = NONE +SUICIDED
  ; End;

  ; Behavior = CommandSetUpgrade ModuleTag_19
    ; CommandSet = Demo_GLAStingerSiteCommandSetUpgrade
    ; TriggeredBy = Upgrade_GLACamoNetting
  ; End

  Behavior = AIUpdateInterface ModuleTag_20
    AutoAcquireEnemiesWhenIdle = No
  End

  Geometry            = CYLINDER
  GeometryMajorRadius = 36.0
  GeometryHeight      = 9.0    
  GeometryIsSmall     = No
  Shadow              = SHADOW_VOLUME
  BuildCompletion     = PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
Object Boss_UkraineOilRefinery

  ; *** ART Parameters ***
  SelectPortrait         = SSTechOilRefinery_L
  ButtonImage            = SSTechOilRefinery_L
  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes
    ; DAY ********************************************
    ConditionState     = NONE
      Model            = ZBRefinery
      Animation        = ZBRefinery.ZBRefinery
      AnimationMode    = LOOP
      ParticleSysBone  = Smoke01 SteamVent
      ParticleSysBone  = Smoke02 SteamVent
      ParticleSysBone  = Fire01 FireBurningBarricade01
    End
    ; DAMAGED ********************************************
    ConditionState     = DAMAGED
      Model            = ZBRefinery_D
      Animation        = ZBRefinery_D.ZBRefinery_D
      AnimationMode    = LOOP
      ParticleSysBone  = Smoke01 SteamVent
      ParticleSysBone  = Smoke02 SteamVent
      ParticleSysBone  = Smoke03 SmolderingSmoke
      ParticleSysBone  = Smoke04 SmolderingSmoke
      ParticleSysBone  = Smoke05 SmolderingSmoke
      ParticleSysBone  = Fire01 FireBurningBarricade01
    End
    ; REALLYDAMAGED ****************************************
    ConditionState     = REALLYDAMAGED
      Model            = ZBRefinery_E
      ParticleSysBone  = Smoke01 SteamVent
      ParticleSysBone  = Smoke02 SteamVent
      ParticleSysBone  = Smoke03 SmolderingSmoke
      ParticleSysBone  = Smoke04 SmokeFactionLarge
      ParticleSysBone  = Smoke05 SmokeFactionLarge
      ParticleSysBone  = Smoke06 SmokeFactionLarge
      ParticleSysBone  = Fire01 FireBurningBarricade01
      ParticleSysBone  = Fire02 SmolderingFire
      ParticleSysBone  = Fire03 FireFactionLarge
      ParticleSysBone  = Fire04 FireFactionLarge
      ParticleSysBone  = Fire05 FireFactionLarge
    End
    ; RUBBLE *********************************************    
    ConditionState     = RUBBLE
      Model            = ZBRefinery_R
    End

    ; NIGHT ********************************************
    ConditionState     = NIGHT
      Model            = ZBRefinery_N
      ParticleSysBone  = Smoke01 SteamVent
      ParticleSysBone  = Smoke02 SteamVent
      ParticleSysBone  = Fire01 FireBurningBarricade01
    End
    ; NIGHT DAMAGED ********************************************
    ConditionState     = NIGHT DAMAGED
      Model            = ZBRefinery_DN
      Animation        = ZBRefinery_DN.ZBRefinery_DN
      AnimationMode    = LOOP
      ParticleSysBone  = Smoke01 SteamVent
      ParticleSysBone  = Smoke02 SteamVent
      ParticleSysBone  = Smoke03 SmolderingSmoke
      ParticleSysBone  = Smoke04 SmolderingSmoke
      ParticleSysBone  = Smoke05 SmolderingSmoke
      ParticleSysBone  = Fire01 FireBurningBarricade01
    End
    ; NIGHT REALLYDAMAGED ********************************************
    ConditionState     = NIGHT REALLYDAMAGED 
      Model            = ZBRefinery_EN
      Animation        = ZBRefinery_EN.ZBRefinery_EN
      AnimationMode    = LOOP
      ParticleSysBone  = Smoke01 SteamVent
      ParticleSysBone  = Smoke02 SteamVent
      ParticleSysBone  = Smoke03 SmolderingSmoke
      ParticleSysBone  = Smoke04 SmokeFactionLarge
      ParticleSysBone  = Smoke05 SmokeFactionLarge
      ParticleSysBone  = Smoke06 SmokeFactionLarge
      ParticleSysBone  = Fire01 FireBurningBarricade01
      ParticleSysBone  = Fire02 SmolderingFire
      ParticleSysBone  = Fire03 FireFactionLarge
      ParticleSysBone  = Fire04 FireFactionLarge
      ParticleSysBone  = Fire05 FireFactionLarge
    End
    ; NIGHT RUBBLE ****************************************
    ConditionState     = NIGHT RUBBLE
      Model            = ZBRefinery_R
    End

    ; SNOW ********************************************
    ConditionState     = SNOW
      Model            = ZBRefinery_S
      ParticleSysBone  = Smoke01 SteamVent
      ParticleSysBone  = Smoke02 SteamVent
      ParticleSysBone  = Fire01 FireBurningBarricade01
    End
    ; SNOW DAMAGED ********************************************
    ConditionState     = SNOW DAMAGED
      Model            = ZBRefinery_DS
      Animation        = ZBRefinery_DS.ZBRefinery_DS
      AnimationMode    = LOOP
      ParticleSysBone  = Smoke01 SteamVent
      ParticleSysBone  = Smoke02 SteamVent
      ParticleSysBone  = Smoke03 SmolderingSmoke
      ParticleSysBone  = Smoke04 SmolderingSmoke
      ParticleSysBone  = Smoke05 SmolderingSmoke
      ParticleSysBone  = Fire01 FireBurningBarricade01
    End
    ; SNOW REALLYDAMAGED ********************************************
    ConditionState     = SNOW REALLYDAMAGED
      Model            = ZBRefinery_ES
      Animation        = ZBRefinery_ES.ZBRefinery_ES
      AnimationMode    = LOOP
      ParticleSysBone  = Smoke01 SteamVent
      ParticleSysBone  = Smoke02 SteamVent
      ParticleSysBone  = Smoke03 SmolderingSmoke
      ParticleSysBone  = Smoke04 SmokeFactionLarge
      ParticleSysBone  = Smoke05 SmokeFactionLarge
      ParticleSysBone  = Smoke06 SmokeFactionLarge
      ParticleSysBone  = Fire01 FireBurningBarricade01
      ParticleSysBone  = Fire02 SmolderingFire
      ParticleSysBone  = Fire03 FireFactionLarge
      ParticleSysBone  = Fire04 FireFactionLarge
      ParticleSysBone  = Fire05 FireFactionLarge
    End
    ; SNOW RUBBLE ****************************************
    ConditionState     = SNOW RUBBLE
      Model            = ZBRefinery_RS
    End

    ; NIGHT SNOW ********************************************
    ConditionState     = NIGHT SNOW
      Model            = ZBRefinery_NS
      ParticleSysBone  = Smoke01 SteamVent
      ParticleSysBone  = Smoke02 SteamVent
      ParticleSysBone  = Fire01 FireBurningBarricade01
    End
    ; NIGHT SNOW DAMAGED ********************************************
    ConditionState     = NIGHT SNOW DAMAGED
      Model            = ZBRefinery_DNS
      Animation        = ZBRefinery_DNS.ZBRefinery_DNS
      AnimationMode    = LOOP
      ParticleSysBone  = Smoke01 SteamVent
      ParticleSysBone  = Smoke02 SteamVent
      ParticleSysBone  = Smoke03 SmolderingSmoke
      ParticleSysBone  = Smoke04 SmolderingSmoke
      ParticleSysBone  = Smoke05 SmolderingSmoke
      ParticleSysBone  = Fire01 FireBurningBarricade01
    End
    ; NIGHT SNOW REALLYDAMAGED ********************************************
    ConditionState     = NIGHT SNOW REALLYDAMAGED
      Model            = ZBRefinery_ENS
      Animation        = ZBRefinery_ENS.ZBRefinery_ENS
      AnimationMode    = LOOP
      ParticleSysBone  = Smoke01 SteamVent
      ParticleSysBone  = Smoke02 SteamVent
      ParticleSysBone  = Smoke03 SmolderingSmoke
      ParticleSysBone  = Smoke04 SmokeFactionLarge
      ParticleSysBone  = Smoke05 SmokeFactionLarge
      ParticleSysBone  = Smoke06 SmokeFactionLarge
      ParticleSysBone  = Fire01 FireBurningBarricade01
      ParticleSysBone  = Fire02 SmolderingFire
      ParticleSysBone  = Fire03 FireFactionLarge
      ParticleSysBone  = Fire04 FireFactionLarge
      ParticleSysBone  = Fire05 FireFactionLarge
    End
    ; NIGHT SNOW RUBBLE ****************************************
    ConditionState     = NIGHT SNOW RUBBLE
      Model            = ZBRefinery_RS
    End
    
  End

  ; ========================= Flag Model ===============================
  Draw = W3DModelDraw ModuleTag_02
    OkToChangeModelColor = Yes
    
    ; DEFAULT & DAMAGED ************************************************
    ConditionState  = NONE
      Model         = ZBRefinery_F
      Animation     = ZBRefinery_F.ZBRefinery_F
      AnimationMode = LOOP
    End
    AliasConditionState = DAMAGED
    
    ; REALLYDAMAGED *****************************************************
    ConditionState  = REALLYDAMAGED
      Model         = ZBRefinery_FE
      Animation     = ZBRefinery_FE.ZBRefinery_FE
      AnimationMode = LOOP
    End
    
    ; RUBBLE ***********************************************************
    ConditionState  = RUBBLE
      Model         = None
    End
    
  End
  
; ------------ New Animations fence -----------------
  Draw = W3DModelDraw ModuleTag_LightingAnimations
  AnimationsRequirePower = No
  
    DefaultConditionState
      Model           = ZBRefinery_A1
      Animation       = ZBRefinery_A1.ZBRefinery_A1
      AnimationMode   = LOOP
    End
    
    ConditionState    = DAMAGED
      Model           = ZBRefinery_A1D
      Animation       = ZBRefinery_A1D.ZBRefinery_A1D
      AnimationMode   = LOOP
    End
    
    ConditionState    = REALLYDAMAGED
      Model           = ZBRefinery_A1E
      Animation       = ZBRefinery_A1E.ZBRefinery_A1E
      AnimationMode   = LOOP
    End
    
    ConditionState    = RUBBLE
      Model           = NONE
    End
    
  End

  ; ***DESIGN parameters ***
  DisplayName          = OBJECT:TechOilRefinery
  Side                 = Boss
  EditorSorting        = STRUCTURE
  VisionRange          = 100
  ShroudClearingRange  = 100

  ; *** AUDIO Parameters ***
  SoundOnDamaged        = BuildingDamagedStateLight
  SoundOnReallyDamaged  = BuildingDestroy
  VoiceSelect = FireBaseSelect
  UnitSpecificSounds
    UnderConstruction     = UnderConstructionLoop
  End
  
  ; *** ENGINEERING Parameters ***  
  RadarPriority = STRUCTURE
  KindOf    = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE FS_TECHNOLOGY
  BuildCost = 60000.0
  BuildTime  = 120.0
  EnergyProduction = -5
  Prerequisites
    Object = Boss_UkraineWarFactory
  End
  CommandSet        = SellOnlyGenericCommandSet
  ExperienceValue     = 200 200 200 200  ; Experience point value at each level
  Body                 = ActiveBody ModuleTag_03
    MaxHealth          = 2000.0
    InitialHealth      = 2000.0
  End
  ArmorSet
    Conditions = None
    Armor      = StructureArmor
    DamageFX   = StructureDamageFXNoShake
  End
  
  Behavior         = GrantUpgradeCreate ModuleTag_04
    UpgradeToGrant = Upgrade_CostReduction
  End
  Behavior       = CostModifierUpgrade ModuleTag_05
    TriggeredBy  = Upgrade_CostReduction
    EffectKindOf = VEHICLE
    Percentage   = -10%
  End
  
  Behavior                = FlammableUpdate ModuleTag_07
    FlameDamageLimit      = 20    ; Catch fire if I take this much fire damage...
    FlameDamageExpiration = 2000  ; in a span of this long
    AflameDuration        = 5000  ; If I catch fire, I'll burn for this long...
    AflameDamageAmount    = 25    ; taking this much damage...
    AflameDamageDelay     = 500   ; this often.
  End

  Behavior             = FXListDie ModuleTag_08
    DeathFX            = WeaponFX_BombTruckHighExplosiveBombDetonation
  End

  Behavior = TransitionDamageFX ModuleTag_09
    ;-------------DESIGNED FOR MEDIUM SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionMediumExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionMediumShockwave
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  
  ; Behavior = KeepObjectDie ModuleTag_IWantRubble
  ; End

  ; Behavior = TechBuildingBehavior ModuleTag_10
    ; ;<NO DATA>
  ; End

  Behavior = FXListDie ModuleTag_11
    DeathFX = FX_BuildingDie
  End

  Geometry             = BOX
  GeometryMajorRadius  = 37.0
  GeometryMinorRadius  = 40.0
  GeometryHeight       = 60.0
  GeometryIsSmall      = No
  Shadow               = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
Object Boss_UkraineSmallBunker

  ; *** ART Parameters ***
  SelectPortrait         = SNBunker_L
  ButtonImage            = SNBunker
  Draw                   = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes
   
   
    ;day
    ConditionState       = NONE
      Model              = NBBunker
    End
    ConditionState       = DAMAGED
      Model              = NBBunker_D
        ParticleSysBone      = Fire01  SmolderingFire
        ParticleSysBone      = Smoke01 SmolderingSmoke
        ParticleSysBone      = Fire01  SmolderingFlameCore
        ParticleSysBone      = Fire02  SmolderingFire
        ParticleSysBone      = Smoke02 SmolderingSmoke
        ParticleSysBone      = Fire02  SmolderingFlameCore
    End
    ConditionState       = REALLYDAMAGED RUBBLE
      Model              = NBBunker_E
      ParticleSysBone        = Fire01 SmolderingFire
      ParticleSysBone        = Fire01 SmolderingFlameCore
      ParticleSysBone        = Fire02 SmolderingFire
      ParticleSysBone        = Fire02 SmolderingFlameCore
      ParticleSysBone        = Fire03 SmolderingFire
      ParticleSysBone        = Fire03 SmolderingFlameCore
      ParticleSysBone        = Fire04 SmolderingFire
      ParticleSysBone        = Fire04 SmolderingFlameCore
      ParticleSysBone        = Fire05 SmolderingFire
      ParticleSysBone        = Fire05 SmolderingFlameCore
      ParticleSysBone        = Smoke01  SmolderingSmoke
      ParticleSysBone        = Smoke02 SmolderingSmoke
      ParticleSysBone        = Smoke03 SmolderingSmoke
      ParticleSysBone        = Smoke04 SmolderingSmoke
      ParticleSysBone        = Smoke05 SmolderingSmoke
    End
    
    ConditionState       = GARRISONED
      Model              = NBBunker_G
    End
    ConditionState       = DAMAGED GARRISONED
      Model              = NBBunker_DG
        ParticleSysBone      = Fire01  SmolderingFire
        ParticleSysBone      = Smoke01 SmolderingSmoke
        ParticleSysBone      = Fire01  SmolderingFlameCore
        ParticleSysBone      = Fire02  SmolderingFire
        ParticleSysBone      = Smoke02 SmolderingSmoke
        ParticleSysBone      = Fire02  SmolderingFlameCore
    End
    ConditionState       = REALLYDAMAGED RUBBLE GARRISONED
      Model              = NBBunker_EG
      ParticleSysBone        = Fire01 SmolderingFire
      ParticleSysBone        = Fire01 SmolderingFlameCore
      ParticleSysBone        = Fire02 SmolderingFire
      ParticleSysBone        = Fire02 SmolderingFlameCore
      ParticleSysBone        = Fire03 SmolderingFire
      ParticleSysBone        = Fire03 SmolderingFlameCore
      ParticleSysBone        = Fire04 SmolderingFire
      ParticleSysBone        = Fire04 SmolderingFlameCore
      ParticleSysBone        = Fire05 SmolderingFire
      ParticleSysBone        = Fire05 SmolderingFlameCore
      ParticleSysBone        = Smoke01  SmolderingSmoke
      ParticleSysBone        = Smoke02 SmolderingSmoke
      ParticleSysBone        = Smoke03 SmolderingSmoke
      ParticleSysBone        = Smoke04 SmolderingSmoke
      ParticleSysBone        = Smoke05 SmolderingSmoke
    End
    
    
    
    ConditionState       = SNOW
      Model              = NBBunker_S
    End
    ConditionState       = DAMAGED SNOW
      Model              = NBBunker_DS
        ParticleSysBone      = Fire01  SmolderingFire
        ParticleSysBone      = Smoke01 SmolderingSmoke
        ParticleSysBone      = Fire01  SmolderingFlameCore
        ParticleSysBone      = Fire02  SmolderingFire
        ParticleSysBone      = Smoke02 SmolderingSmoke
        ParticleSysBone      = Fire02  SmolderingFlameCore
    End
    ConditionState       = REALLYDAMAGED RUBBLE SNOW
      Model              = NBBunker_ES
      ParticleSysBone        = Fire01 SmolderingFire
      ParticleSysBone        = Fire01 SmolderingFlameCore
      ParticleSysBone        = Fire02 SmolderingFire
      ParticleSysBone        = Fire02 SmolderingFlameCore
      ParticleSysBone        = Fire03 SmolderingFire
      ParticleSysBone        = Fire03 SmolderingFlameCore
      ParticleSysBone        = Fire04 SmolderingFire
      ParticleSysBone        = Fire04 SmolderingFlameCore
      ParticleSysBone        = Fire05 SmolderingFire
      ParticleSysBone        = Fire05 SmolderingFlameCore
      ParticleSysBone        = Smoke01  SmolderingSmoke
      ParticleSysBone        = Smoke02 SmolderingSmoke
      ParticleSysBone        = Smoke03 SmolderingSmoke
      ParticleSysBone        = Smoke04 SmolderingSmoke
      ParticleSysBone        = Smoke05 SmolderingSmoke
    End
    
    
    ConditionState       = SNOW GARRISONED
      Model              = NBBunker_SG
    End
    ConditionState       = DAMAGED SNOW GARRISONED
      Model              = NBBunker_DSG
        ParticleSysBone      = Fire01  SmolderingFire
        ParticleSysBone      = Smoke01 SmolderingSmoke
        ParticleSysBone      = Fire01  SmolderingFlameCore
        ParticleSysBone      = Fire02  SmolderingFire
        ParticleSysBone      = Smoke02 SmolderingSmoke
        ParticleSysBone      = Fire02  SmolderingFlameCore
    End
    ConditionState       = REALLYDAMAGED RUBBLE SNOW GARRISONED
      Model              = NBBunker_ESG
      ParticleSysBone        = Fire01 SmolderingFire
      ParticleSysBone        = Fire01 SmolderingFlameCore
      ParticleSysBone        = Fire02 SmolderingFire
      ParticleSysBone        = Fire02 SmolderingFlameCore
      ParticleSysBone        = Fire03 SmolderingFire
      ParticleSysBone        = Fire03 SmolderingFlameCore
      ParticleSysBone        = Fire04 SmolderingFire
      ParticleSysBone        = Fire04 SmolderingFlameCore
      ParticleSysBone        = Fire05 SmolderingFire
      ParticleSysBone        = Fire05 SmolderingFlameCore
      ParticleSysBone        = Smoke01  SmolderingSmoke
      ParticleSysBone        = Smoke02 SmolderingSmoke
      ParticleSysBone        = Smoke03 SmolderingSmoke
      ParticleSysBone        = Smoke04 SmolderingSmoke
      ParticleSysBone        = Smoke05 SmolderingSmoke
    End
    



   ;night
    ConditionState       = NIGHT
      Model              = NBBunker_N
    End
    ConditionState       = DAMAGED NIGHT
      Model              = NBBunker_DN
      ParticleSysBone        = Fire01  SmolderingFire
      ParticleSysBone        = Smoke01 SmolderingSmoke
      ParticleSysBone        = Fire01  SmolderingFlameCore
      ParticleSysBone        = Fire02  SmolderingFire
      ParticleSysBone        = Smoke02 SmolderingSmoke
      ParticleSysBone        = Fire02  SmolderingFlameCore
    End
    ConditionState       = REALLYDAMAGED RUBBLE NIGHT
      Model              = NBBunker_EN
      ParticleSysBone        = Fire01 SmolderingFire
      ParticleSysBone        = Fire01 SmolderingFlameCore
      ParticleSysBone        = Fire02 SmolderingFire
      ParticleSysBone        = Fire02 SmolderingFlameCore
      ParticleSysBone        = Fire03 SmolderingFire
      ParticleSysBone        = Fire03 SmolderingFlameCore
      ParticleSysBone        = Fire04 SmolderingFire
      ParticleSysBone        = Fire04 SmolderingFlameCore
      ParticleSysBone        = Fire05 SmolderingFire
      ParticleSysBone        = Fire05 SmolderingFlameCore
      ParticleSysBone        = Smoke01  SmolderingSmoke
      ParticleSysBone        = Smoke02 SmolderingSmoke
      ParticleSysBone        = Smoke03 SmolderingSmoke
      ParticleSysBone        = Smoke04 SmolderingSmoke
      ParticleSysBone        = Smoke05 SmolderingSmoke
    End
    
    ;night
    ConditionState       = NIGHT GARRISONED
      Model              = NBBunker_NG
    End
    ConditionState       = DAMAGED NIGHT GARRISONED
      Model              = NBBunker_DNG
      ParticleSysBone        = Fire01  SmolderingFire
      ParticleSysBone        = Smoke01 SmolderingSmoke
      ParticleSysBone        = Fire01  SmolderingFlameCore
      ParticleSysBone        = Fire02  SmolderingFire
      ParticleSysBone        = Smoke02 SmolderingSmoke
      ParticleSysBone        = Fire02  SmolderingFlameCore
    End
    ConditionState       = REALLYDAMAGED RUBBLE NIGHT GARRISONED
      Model              = NBBunker_ENG
      ParticleSysBone        = Fire01 SmolderingFire
      ParticleSysBone        = Fire01 SmolderingFlameCore
      ParticleSysBone        = Fire02 SmolderingFire
      ParticleSysBone        = Fire02 SmolderingFlameCore
      ParticleSysBone        = Fire03 SmolderingFire
      ParticleSysBone        = Fire03 SmolderingFlameCore
      ParticleSysBone        = Fire04 SmolderingFire
      ParticleSysBone        = Fire04 SmolderingFlameCore
      ParticleSysBone        = Fire05 SmolderingFire
      ParticleSysBone        = Fire05 SmolderingFlameCore
      ParticleSysBone        = Smoke01  SmolderingSmoke
      ParticleSysBone        = Smoke02 SmolderingSmoke
      ParticleSysBone        = Smoke03 SmolderingSmoke
      ParticleSysBone        = Smoke04 SmolderingSmoke
      ParticleSysBone        = Smoke05 SmolderingSmoke
    End
    
    
    
    
    ;night snow
    ConditionState       = NIGHT SNOW
      Model              = NBBunker_NS
    End
    ConditionState       = DAMAGED NIGHT SNOW
      Model              = NBBunker_DNS
      ParticleSysBone        = Fire01  SmolderingFire
      ParticleSysBone        = Smoke01 SmolderingSmoke
      ParticleSysBone        = Fire01  SmolderingFlameCore
      ParticleSysBone        = Fire02  SmolderingFire
      ParticleSysBone        = Smoke02 SmolderingSmoke
      ParticleSysBone        = Fire02  SmolderingFlameCore
    End
    ConditionState       = REALLYDAMAGED RUBBLE NIGHT SNOW
      Model              = NBBunker_ENS
      ParticleSysBone        = Fire01 SmolderingFire
      ParticleSysBone        = Fire01 SmolderingFlameCore
      ParticleSysBone        = Fire02 SmolderingFire
      ParticleSysBone        = Fire02 SmolderingFlameCore
      ParticleSysBone        = Fire03 SmolderingFire
      ParticleSysBone        = Fire03 SmolderingFlameCore
      ParticleSysBone        = Fire04 SmolderingFire
      ParticleSysBone        = Fire04 SmolderingFlameCore
      ParticleSysBone        = Fire05 SmolderingFire
      ParticleSysBone        = Fire05 SmolderingFlameCore
      ParticleSysBone        = Smoke01  SmolderingSmoke
      ParticleSysBone        = Smoke02 SmolderingSmoke
      ParticleSysBone        = Smoke03 SmolderingSmoke
      ParticleSysBone        = Smoke04 SmolderingSmoke
      ParticleSysBone        = Smoke05 SmolderingSmoke
    End
    
    
       ;night snow
    ConditionState       = NIGHT SNOW GARRISONED
      Model              = NBBunker_NSG
    End
    ConditionState       = DAMAGED NIGHT SNOW GARRISONED
      Model              = NBBunker_DNSG
      ParticleSysBone        = Fire01  SmolderingFire
      ParticleSysBone        = Smoke01 SmolderingSmoke
      ParticleSysBone        = Fire01  SmolderingFlameCore
      ParticleSysBone        = Fire02  SmolderingFire
      ParticleSysBone        = Smoke02 SmolderingSmoke
      ParticleSysBone        = Fire02  SmolderingFlameCore
    End
    ConditionState       = REALLYDAMAGED RUBBLE NIGHT SNOW GARRISONED
      Model              = NBBunker_ENSG
      ParticleSysBone        = Fire01 SmolderingFire
      ParticleSysBone        = Fire01 SmolderingFlameCore
      ParticleSysBone        = Fire02 SmolderingFire
      ParticleSysBone        = Fire02 SmolderingFlameCore
      ParticleSysBone        = Fire03 SmolderingFire
      ParticleSysBone        = Fire03 SmolderingFlameCore
      ParticleSysBone        = Fire04 SmolderingFire
      ParticleSysBone        = Fire04 SmolderingFlameCore
      ParticleSysBone        = Fire05 SmolderingFire
      ParticleSysBone        = Fire05 SmolderingFlameCore
      ParticleSysBone        = Smoke01  SmolderingSmoke
      ParticleSysBone        = Smoke02 SmolderingSmoke
      ParticleSysBone        = Smoke03 SmolderingSmoke
      ParticleSysBone        = Smoke04 SmolderingSmoke
      ParticleSysBone        = Smoke05 SmolderingSmoke
    End
    
    
        ;**************************************************************************************************************************
    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ;for this draw module
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = NBBunker
      ;Animation          = NBBunker.NBBunker
      ;AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = NBBunker_D
      ;Animation          = NBBunker_D.NBBunker_D
      ;AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = NBBunker_E
      ;Animation          = NBBunker_E.NBBunker_E
      ;AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
      Model              = NBBunker_N
      ;Animation          = NBBunker_N.NBBunker_N
      ;AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
      Model              = NBBunker_DN
      ;Animation          = NBBunker_DN.NBBunker_DN
      ;AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
      Model              = NBBunker_EN
      ;Animation          = NBBunker_EN.NBBunker_EN
      ;AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model              = NBBunker_S
      ;Animation          = NBBunker_S.NBBunker_S
      ;AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
      Model              = NBBunker_DS
      ;Animation          = NBBunker_DS.NBBunker_DS
      ;AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
      Model              = NBBunker_ES
      ;Animation          = NBBunker_ES.NBBunker_ES
      ;AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
      Model              = NBBunker_NS
      ;Animation          = NBBunker_NS.NBBunker_NS
      ;AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
      Model              = NBBunker_DNS
      ;Animation          = NBBunker_DNS.NBBunker_DNS
      ;AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
      Model              = NBBunker_ENS
     ; Animation          = NBBunker_ENS.NBBunker_ENS
     ; AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End

    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD GARRISONED
    AliasConditionState  = SOLD DAMAGED GARRISONED
    AliasConditionState  = SOLD REALLYDAMAGED GARRISONED
    AliasConditionState  = SOLD NIGHT GARRISONED
    AliasConditionState  = SOLD NIGHT DAMAGED GARRISONED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED GARRISONED
    AliasConditionState  = SOLD SNOW GARRISONED
    AliasConditionState  = SOLD SNOW DAMAGED GARRISONED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED GARRISONED
    AliasConditionState  = SOLD NIGHT SNOW GARRISONED
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED GARRISONED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED GARRISONED
    ;**************************************************************************************************************************

    
  End  
    
  ; ------------ construction-zone fence -----------------
  Draw = W3DModelDraw ModuleTag_02
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = NBBunker_A4
      Animation       = NBBunker_A4.NBBunker_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
    End
    ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = NBBunker_A4N
      Animation       = NBBunker_A4N.NBBunker_A4N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
    End
    ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = NBBunker_A4S
      Animation       = NBBunker_A4S.NBBunker_A4S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
    End
    ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = NBBunker_A4SN
      Animation       = NBBunker_A4SN.NBBunker_A4SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = NBBunker_A4
      Animation       = NBBunker_A4.NBBunker_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = NBBunker_A4N
      Animation       = NBBunker_A4N.NBBunker_A4N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = NBBunker_A4S
      Animation       = NBBunker_A4S.NBBunker_A4S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = NBBunker_A4SN
      Animation       = NBBunker_A4SN.NBBunker_A4SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = NBBunker_A4
      Animation       = NBBunker_A4.NBBunker_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = NBBunker_A4N
      Animation       = NBBunker_A4N.NBBunker_A4N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = NBBunker_A4S
      Animation       = NBBunker_A4S.NBBunker_A4S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = NBBunker_A4SN
      Animation       = NBBunker_A4SN.NBBunker_A4SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ under-construction scaffolding -----------------
  Draw = W3DModelDraw ModuleTag_03
  AnimationsRequirePower = No
    MinLODRequired = MEDIUM
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = NBBunker_A6
      Animation       = NBBunker_A6.NBBunker_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Smoke01 BuildUpSmokeChina
      ParticleSysBone = Smoke02 BuildUpSmokeChina
      ParticleSysBone = Smoke03 BuildUpSmokeChina
      ParticleSysBone = Smoke04 BuildUpSmokeChina
    End
    ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      Model           = NBBunker_A6N
      Animation       = NBBunker_A6N.NBBunker_A6N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = Smoke01 BuildUpSmokeChina
      ParticleSysBone = Smoke02 BuildUpSmokeChina
      ParticleSysBone = Smoke03 BuildUpSmokeChina
      ParticleSysBone = Smoke04 BuildUpSmokeChina
    End
    ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      Model           = NBBunker_A6S
      Animation       = NBBunker_A6S.NBBunker_A6S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = Smoke01 BuildUpSnowSmoke
      ParticleSysBone = Smoke02 BuildUpSnowSmoke
      ParticleSysBone = Smoke03 BuildUpSnowSmoke
      ParticleSysBone = Smoke04 BuildUpSnowSmoke
    End
    ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      Model           = NBBunker_A6SN
      Animation       = NBBunker_A6SN.NBBunker_A6SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = Smoke01 BuildUpNightSnowSmoke
      ParticleSysBone = Smoke02 BuildUpNightSnowSmoke
      ParticleSysBone = Smoke03 BuildUpNightSnowSmoke
      ParticleSysBone = Smoke04 BuildUpNightSnowSmoke
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
     Model            = NBBunker_A6
      Animation       = NBBunker_A6.NBBunker_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
     Model            = NBBunker_A6N
      Animation       = NBBunker_A6N.NBBunker_A6N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
     Model            = NBBunker_A6S
      Animation       = NBBunker_A6S.NBBunker_A6S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
     Model            = NBBunker_A6SN
      Animation       = NBBunker_A6SN.NBBunker_A6SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = NBBunker_A6
      Animation       = NBBunker_A6.NBBunker_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = NBBunker_A6N
      Animation       = NBBunker_A6N.NBBunker_A6N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = NBBunker_A6S
      Animation       = NBBunker_A6S.NBBunker_A6S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = NBBunker_A6SN
      Animation       = NBBunker_A6SN.NBBunker_A6SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ being-constructed crane -----------------
  Draw = W3DModelDraw ModuleTag_04
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SOLD
      Model           = NONE
    End

    ConditionState  = ACTIVELY_BEING_CONSTRUCTED
      Model           = NBBunker_A5
      Animation       = NBBunker_A5.NBBunker_A5
      AnimationMode   = LOOP
      TransitionKey  = UP_DAY
    End

    ConditionState  = NIGHT ACTIVELY_BEING_CONSTRUCTED
      Model           = NBBunker_A5N
      Animation       = NBBunker_A5N.NBBunker_A5N
      AnimationMode   = LOOP
      TransitionKey  = UP_NIGHT
    End
    ConditionState  = SNOW ACTIVELY_BEING_CONSTRUCTED
      Model           = NBBunker_A5S
      Animation       = NBBunker_A5S.NBBunker_A5S
      AnimationMode   = LOOP
      TransitionKey  = UP_SNOW
    End
    ConditionState  = SNOW NIGHT ACTIVELY_BEING_CONSTRUCTED
      Model           = NBBunker_A5SN
      Animation       = NBBunker_A5SN.NBBunker_A5SN
      AnimationMode   = LOOP
      TransitionKey  = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model            = NBBunker_AB
      Animation       = NBBunker_AB.NBBunker_AB
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End

    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model            = NBBunker_ABN
      Animation       = NBBunker_ABN.NBBunker_ABN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model            = NBBunker_ABS
      Animation       = NBBunker_ABS.NBBunker_ABS
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model            = NBBunker_ABSN
      Animation       = NBBunker_ABSN.NBBunker_ABSN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model            = NBBunker_AB
      Animation       = NBBunker_AB.NBBunker_AB
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model            = NBBunker_ABN
      Animation       = NBBunker_ABN.NBBunker_ABN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model            = NBBunker_ABS
      Animation       = NBBunker_ABS.NBBunker_ABS
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model            = NBBunker_ABSN
      Animation       = NBBunker_ABSN.NBBunker_ABSN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End
  
  PlacementViewAngle     = -135

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Bunker
  Side = Boss
  EditorSorting     = STRUCTURE
  Prerequisites
    Object = Boss_UkraineBarracks
  End
  BuildCost         = 1500
  BuildTime         = 5.0           ; in seconds
  EnergyProduction  = 0
  VisionRange       = 300.0         ; Shroud clearing distance
  ShroudClearingRange = 200
  ArmorSet
    Conditions      = None
    Armor           = BunkerArmor
    DamageFX        = StructureDamageFXNoShake
  End
  CommandSet       = ChinaBunkerCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect       = BunkerSelect
  SoundOnDamaged        = BuildingDamagedStateLight
  SoundOnReallyDamaged  = BuildingDestroy

  UnitSpecificSounds
    UnderConstruction     = UnderConstructionLoop
  End

  ; *** ENGINEERING Parameters ***
  KindOf            = PRELOAD STRUCTURE SELECTABLE STICK_TO_TERRAIN_SLOPE IMMOBILE SCORE FS_BASE_DEFENSE GARRISONABLE_UNTIL_DESTROYED IMMUNE_TO_CAPTURE
  Body              = StructureBody ModuleTag_05
    MaxHealth       = 1000.0
    InitialHealth   = 1000.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 1200
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100

  End
;  Behavior               = FXListDie ModuleTag_07
;    DeathFX         = FX_SmallStructureDeath
;  End

  ExperienceValue     = 20 20 20 20  ; Experience point value at each level

  Behavior = GarrisonContain ModuleTag_08
    ContainMax                    = 5
    EnterSound                    = GarrisonEnter
    ExitSound                     = GarrisonExit
    ImmuneToClearBuildingAttacks  = Yes
  End

  Behavior = GenerateMinefieldBehavior     ModuleTag_09
    TriggeredBy           = Upgrade_ChinaMines
    MineName              = ChinaStandardMine
    SmartBorder           = Yes
    AlwaysCircular        = Yes

    Upgradable            = Yes
    UpgradedTriggeredBy   = Upgrade_ChinaEMPMines
    UpgradedMineName      = ChinaEMPMine
  End

  Behavior = ProductionUpdate ModuleTag_10
    ; nothing, but is required if we have any Object-level Upgrades!
  End

  Behavior = FlammableUpdate ModuleTag_12
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 5       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End
  
  Behavior             = CreateObjectDie ModuleTag_13
    CreationList  = OCL_LargeStructureDebris
  End
  Behavior             = FXListDie ModuleTag_14
    DeathFX       = FX_StructureSmallDeath
  End
  Behavior = DestroyDie ModuleTag_06
    ;nothing
  End

  Behavior = TransitionDamageFX ModuleTag_15
    ;-------------DESIGNED FOR SMALL SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
  End
  
  Behavior = CommandSetUpgrade ModuleTag_25
    CommandSet = ChinaBunkerCommandSetUpgrade
    TriggeredBy = Upgrade_ChinaMines
  End
  Behavior = ArmorUpgrade ModuleTag_26
    TriggeredBy = Upgrade_ChinaEMPMines
  End

  Geometry            = BOX
  GeometryMajorRadius = 16.0
  GeometryMinorRadius = 16.0
  GeometryHeight      = 20.0
  GeometryIsSmall     = No
  Shadow              = SHADOW_VOLUME
  BuildCompletion     = PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
Object Boss_UkraineRadarVan

  ; *** ART Parameters ***

  SelectPortrait = NVLOutpost_L
  ButtonImage = NVLOutpost

  Draw = W3DTruckDraw ModuleTag_01
    OkToChangeModelColor = Yes
    DefaultConditionState
      Model = CWCruUralR
    End
    ConditionState = REALLYDAMAGED
      Model = CWCruUralR_d
    End
    ConditionState = RUBBLE
      Model = CWCruUralR_k
    End
    TrackMarks = EXTireTrack.tga
    Dust = RocketBuggyDust
    DirtSpray = RocketBuggyDirtSpray
    ; These parameters are only used if the model has a separate suspension,
    ; and the locomotor has HasSuspension = Yes.
    LeftFrontTireBone = WHEEL01
    RightFrontTireBone = WHEEL04
    LeftRearTireBone = WHEEL03
    RightRearTireBone = WHEEL06
    MidLeftRearTireBone = WHEEL02
    MidRightRearTireBone = WHEEL05
    TireRotationMultiplier = 0.2 ; this * speed = rotation.
    PowerslideRotationAddition = 0 ; This vehicle doesn't powerslide.
  End

  Draw = W3DModelDraw ModuleTag_01_Radar
    OkToChangeModelColor = Yes
    ConditionState = NONE
      Model = CWCruUralR_1
      Animation = CWCruUralR_1.CWCruUralR_1
      AnimationMode = ONCE
      Flags = RESTART_ANIM_WHEN_COMPLETE
      TransitionKey = Trans_Deployed
    End
    ConditionState = REALLYDAMAGED
      Model = CWCruUralR_1_d
      Animation = CWCruUralR_1_d.CWCruUralR_1_d
      AnimationMode = ONCE
      Flags = RESTART_ANIM_WHEN_COMPLETE
      TransitionKey = Trans_Deployed_ReallyDamaged
    End
    ConditionState = RUBBLE
      Model = CWCruUralR_1_k
      Animation = CWCruUralR_1_k.CWCruUralR_1_k
      AnimationMode = ONCE_BACKWARDS
      Flags = START_FRAME_FIRST
    End

    ConditionState = MOVING
      Model = CWCruUralR_2
      Animation = CWCruUralR_2.CWCruUralR_2
      AnimationMode = ONCE
      TransitionKey = Trans_Moving
      WaitForStateToFinishIfPossible = Trans_Deployed
    End
    ConditionState = REALLYDAMAGED MOVING
      Model = CWCruUralR_2_d
      Animation = CWCruUralR_2_d.CWCruUralR_2_d
      AnimationMode = ONCE
      TransitionKey = Trans_Moving_ReallyDamaged
      WaitForStateToFinishIfPossible = Trans_Deployed_ReallyDamaged
    End
    ConditionState = RUBBLE MOVING
      Model = CWCruUralR_2_k
      Animation = CWCruUralR_2_k.CWCruUralR_2_k
      AnimationMode = ONCE
      Flags = START_FRAME_LAST
    End

    ;**** UNPACKING MODES ***
    TransitionState = Trans_Moving Trans_Deployed
      Model = CWCruUralR_2
      Animation = CWCruUralR_2.CWCruUralR_2
      AnimationMode = ONCE_BACKWARDS
    End
    TransitionState = Trans_Moving_ReallyDamaged Trans_Deployed_ReallyDamaged
      Model = CWCruUralR_2_d
      Animation = CWCruUralR_2_d.CWCruUralR_2_d
      AnimationMode = ONCE_BACKWARDS
    End
  End

  Draw = W3DModelDraw ModuleTag_01_AntiJammer
    OkToChangeModelColor = Yes
    ConditionState = NONE
      Model = None
    End
    ConditionState = USER_1
      Model = CWCruUralR_3
      Animation = CWCruUralR_3.CWCruUralR_3
      AnimationMode = ONCE_BACKWARDS
      Flags = START_FRAME_FIRST
      ShowSubObject = ALARMGREEN
      HideSubObject = ALARMRED
    End
    ConditionState = USER_1 ENEMYNEAR
      Model = CWCruUralR_3
      Animation = CWCruUralR_3.CWCruUralR_3
      AnimationMode = LOOP
      HideSubObject = ALARMGREEN
      ShowSubObject = ALARMRED
    End

  End

  ;---------------------------------------
  ; The brakes kick in
  ;---------------------------------------
  Draw = W3DModelDraw ModuleTag_BrakeDraw

    IgnoreConditionStates = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED RUBBLE

    AttachToBoneInAnotherModule = CORE
    ParticlesAttachedToAnimatedBones = Yes
    OkToChangeModelColor = No

    ;day, no lights, only if I brake

    ConditionState = NONE
      Model = CWCruUralR_l
      HideSubObject = HLIGHT01 HLIGHT02
      ParticleSysBone = BRAKE01 CWCgenRearLightBraking
      ParticleSysBone = BRAKE02 CWCgenRearLightBraking
    End

    ConditionState = MOVING
      Model = CWCruUralR_l
      HideSubObject = HLIGHT01 HLIGHT02
    End

    ;night, I always have my lights on when I move, and they flash whenever I brake

    ConditionState = NIGHT
      Model = CWCruUralR_l
      ParticleSysBone = BRAKE01 CWCgenRearLight
      ParticleSysBone = BRAKE02 CWCgenRearLight
      ShowSubObject = HLIGHT01 HLIGHT02
      ParticleSysBone = BRAKE01 CWCgenRearLightBraking
      ParticleSysBone = BRAKE02 CWCgenRearLightBraking
    End

    ConditionState = NIGHT MOVING
      Model = CWCruUralR_l
      ParticleSysBone = BRAKE01 CWCgenRearLight
      ParticleSysBone = BRAKE02 CWCgenRearLight
      ShowSubObject = HLIGHT01 HLIGHT02
    End

    ;enemynear, hide those red lights!

    ; ConditionState = ENEMYNEAR
      ; Model = CWCruUralR_l
      ; HideSubObject = HLIGHT01 HLIGHT02
    ; End
    ; AliasConditionState = MOVING ENEMYNEAR
    ; AliasConditionState = NIGHT ENEMYNEAR
    ; AliasConditionState = NIGHT MOVING ENEMYNEAR

  End

  ;---------------------------------------
  ; The rotating housecolors
  ;---------------------------------------
  ; Draw = W3DModelDraw ModuleTag_HousecolorDraw
    ; OkToChangeModelColor = Yes

    ; ConditionState = NONE
      ; Model = CWCruHC_B
      ; Animation = CWCruHC_B.CWCruHC_B
      ; AnimationMode = LOOP
      ; HideSubObject = HOUSECOLOR02
    ; End
    ; AliasConditionState = WEAPONSET_PLAYER_UPGRADE
    ; AliasConditionState = REALLYDAMAGED
    ; AliasConditionState = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
    ; AliasConditionState = RUBBLE
    ; AliasConditionState = WEAPONSET_PLAYER_UPGRADE RUBBLE
    ; AliasConditionState = ENEMYNEAR RUBBLE
    ; AliasConditionState = ENEMYNEAR WEAPONSET_PLAYER_UPGRADE RUBBLE

    ; ConditionState = ENEMYNEAR
      ; Model = CWCruHC_B
      ; Animation = CWCruHC_B.CWCruHC_B
      ; AnimationMode = LOOP
      ; ShowSubObject = HOUSECOLOR02
    ; End
    ; AliasConditionState = ENEMYNEAR WEAPONSET_PLAYER_UPGRADE
    ; AliasConditionState = ENEMYNEAR REALLYDAMAGED
    ; AliasConditionState = ENEMYNEAR WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
  ; End

  ; ***DESIGN parameters ***
  DisplayName = OBJECT:CWCruUralRadar
  Side = Boss
  EditorSorting = VEHICLE
  TransportSlotCount = 6 ;how many "slots" we take in a transport (0 == not transportable)

  ;EnergyProduction = -6

  BuildCost = 1500
  BuildTime = 15.0
  VisionRange = 300
  ShroudClearingRange = 275
  Prerequisites
    Object = Boss_UkraineWarFactory
    Object = Boss_UkraineGURHeadquaters
  End

  ArmorSet
    Conditions = None
    Armor = HumveeArmor ;CWCruUralRadarArmor
    DamageFX = TruckDamageFX
  End
  ; ArmorSet
    ; Conditions = PLAYER_UPGRADE
    ; Armor = CWCruUralRadarAntiJammerArmor
    ; DamageFX = TruckDamageFX
  ; End

  ;CWCExpMarker: Ural-Radar
  ExperienceValue = 600 900 1200 1800 ;Experience point value at each level
  ExperienceRequired = 0 0 0 0 ;Experience points needed to gain each level
  IsTrainable = Yes ;Can gain experience

  CrusherLevel = 2 ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel = 2 ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = UkraineRadarCommandSet
  ; *** AUDIO Parameters ***
  VoiceSelect = CWCruUralVoiceSelect
  VoiceMove = CWCruUralVoiceMove
  SoundMoveLoop = CWCruUralSeriesVehicleMoving
  SoundEnter = HumveeEnter
  SoundExit = HumveeExit
  UnitSpecificSounds
    VoiceCreate = CWCruUralVoiceCreate
    VoiceCrush = CWCruUralVoiceCrush
    VoiceEnter = CWCruUralVoiceMove
    VoiceUnload = CWCruUralVoiceUnload
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = CAN_CAST_REFLECTIONS DONT_AUTO_CRUSH_INFANTRY IGNORES_SELECT_ALL POWERED PRELOAD SCORE SELECTABLE VEHICLE 

  Body = ActiveBody ModuleTag_02
    MaxHealth = 300.0
    InitialHealth = 300.0
    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 400
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
  End
  Behavior = AIUpdateInterface ModuleTag_03
  End
  Locomotor = SET_NORMAL TroopTruckLocomotor
  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 5.0
  End

  ; Behavior = GrantUpgradeCreate ModuleTag_05
    ; UpgradeToGrant = Upgrade_CWCruPreSetUpgrades
  ; End
  ; Behavior = RadarUpgrade ModuleTag_06
    ; TriggeredBy = Upgrade_CWCruPreSetUpgrades
    ; DisableProof = No
  ; End

  ; Behavior = FireWeaponUpdate ModuleTag_Radar
    ; Weapon = CWCruRadarTruckWeapon
  ; End

  ; Behavior = ArmorUpgrade ModuleTag_AntiJammer01
    ; TriggeredBy = Upgrade_CWCruUralRadarAntiJammer
  ; End

  ; Behavior = ModelConditionUpgrade ModuleTag_AntiJammer02
    ; ConditionFlag = USER_1
    ; TriggeredBy = Upgrade_CWCruUralRadarAntiJammer
  ; End
  ; Behavior = ProductionUpdate ModuleTag_AntiJammer03
  ; End

  ; Behavior = EnemyNearUpdate ModuleTag_Housecolor
    ; ;nothing
  ; End

  Behavior = StealthDetectorUpdate ModuleTag_DetectStealth_Vehicle01
    CanDetectWhileContained = No ; this is a vehicle ; Can the object detect stealth objects when it is inside an object?
    CanDetectWhileGarrisoned = No ; this is a vehicle ; Can the object detect stealth objects when it is inside an object with a GarrisonContain module?
    DetectionRange = 150 ; 1/2 its visionrange ; The maximum distance that the object can detect enemy stealthed obejcts. Defaults to the object's VisionRange.
    DetectionRate = 1000 ; The time between scanning for stealthed objects.
    ExtraRequiredKindOf = INFANTRY
    ExtraForbiddenKindOf = BOAT
    InitiallyDisabled = No ; Does the detector start off in a disabled state?
  End

; --- begin Death modules ---
  Behavior = TransitionDamageFX ModuleTag_Death01
    DamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenTankDeathSmokeDamaged
    DamagedFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDamageTransition
    ;
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenTankDeathSmokeReallyDamaged
    ReallyDamagedFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDamageTransition
    ;
    RubbleParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:CWCgenTankDeathSmokeRubble
    RubbleFXList1 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDamageTransition
    RubbleFXList2 = Loc: x:0 y:0 z:0 FXList:FX_CWCgenTankDeathRubble1
  End
  Behavior = SlowDeathBehavior ModuleTag_Death02
    DestructionDelay = 18000
    FX = MIDPOINT FX_CWCgenTankDeathRubble2
    ;OCL = MIDPOINT OCL_CWCgenTankDeathTrails
    SinkDelay = 15000
    SinkRate = 4.0
    ;Weapon = MIDPOINT CWCgenVehicleExplodeWeapon
  End
; --- end Death modules ---

  Geometry = BOX
  GeometryMajorRadius = 17.0
  GeometryMinorRadius = 7.0
  GeometryHeight = 14.0
  GeometryIsSmall = No
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45 ; minimum elevation angle above horizon. Used to limit shadow length
  Scale = 1.05
End

;------------------------------------------------------------------------------
Object Boss_RussiaVehicleMishka

  ; *** ART Parameters ***
  SelectPortrait            = AssaultHumvee
  ButtonImage               = AssaultHumvee
  

  Draw                      = W3DOverlordTankDraw ModuleTag_01
    OkToChangeModelColor     = Yes
    ExtraPublicBone          = FIREPOINT01
    ParticlesAttachedToAnimatedBones = Yes
    
    ConditionState          = NONE
      Model                 = RVMishka
      Animation             = RVMishka.RVMishka
      Flags                 = MAINTAIN_FRAME_ACROSS_STATES
      AnimationMode         = ONCE_BACKWARDS
      HideSubObject         = Drill01 Drill02
    End
    
    ConditionState          = MOVING
      Model                 = RVMishka
      Animation             = RVMishka.RVMishka
      AnimationMode         = ONCE
      Flags                 = MAINTAIN_FRAME_ACROSS_STATES
      ParticleSysBone       = DIRTFX01 DozerDirtFall_Permanent
      TransitionKey         = TRANS_MOVING
      HideSubObject         = Drill01 Drill02
    End
    
    TransitionState         = TRANS_MOVING TRANS_PREATTACK_A
      Model                 = RVMishka
      Animation             = RVMishka.RVMishka
      AnimationMode         = ONCE_BACKWARDS
      Flags                 = MAINTAIN_FRAME_ACROSS_STATES
      ParticleSysBone       = DIRTFX01 DozerDirtFall
      HideSubObject         = Drill01 Drill02
    End
    
    ConditionState          = PREATTACK_A
      Model                 = RVMishka
      Animation             = RVMishka.RVMishka
      AnimationMode         = ONCE
      Flags                 = MAINTAIN_FRAME_ACROSS_STATES
      ParticleSysBone       = DIRTFX01 DozerDirtFall
      TransitionKey         = TRANS_PREATTACK_A
      HideSubObject         = Drill01 Drill02
    End
    AliasConditionState     = MOVING PREATTACK_A
    
    
    ;;Damaged States
    ConditionState          = REALLYDAMAGED
      Model                 = RVMishka_D
      Animation             = RVMishka_D.RVMishka_D
      AnimationMode         = ONCE_BACKWARDS
      Flags                 = MAINTAIN_FRAME_ACROSS_STATES
      HideSubObject         = Drill01 Drill02
    End
    AliasConditionState     = RUBBLE
    
    ConditionState          = REALLYDAMAGED MOVING
      Model                 = RVMishka_D
      Animation             = RVMishka_D.RVMishka_D
      AnimationMode         = ONCE
      Flags                 = MAINTAIN_FRAME_ACROSS_STATES
      ParticleSysBone       = DIRTFX01 DozerDirtFall_Permanent
      TransitionKey         = TRANS_MOVING_DAMAGED
      HideSubObject         = Drill01 Drill02
    End
    
    TransitionState         = TRANS_MOVING_DAMAGED TRANS_PREATTACK_A_DAMAGED
      Model                 = RVMishka_D
      Animation             = RVMishka_D.RVMishka_D
      AnimationMode         = ONCE_BACKWARDS
      Flags                 = MAINTAIN_FRAME_ACROSS_STATES
      ParticleSysBone       = DIRTFX01 DozerDirtFall
      HideSubObject         = Drill01 Drill02
    End
    
    ConditionState          = PREATTACK_A REALLYDAMAGED
      Model                 = RVMishka_D
      Animation             = RVMishka_D.RVMishka_D
      AnimationMode         = ONCE
      Flags                 = MAINTAIN_FRAME_ACROSS_STATES
      ParticleSysBone       = DIRTFX01 DozerDirtFall
      TransitionKey         = TRANS_PREATTACK_A_DAMAGED
      HideSubObject         = Drill01 Drill02
    End
    AliasConditionState     = MOVING REALLYDAMAGED PREATTACK_A

    TrackMarks              = EXMshkaTrds.tga
    TreadAnimationRate      = 2.0  ; amount of tread texture to move per second
  End

  Draw = W3DTruckDraw ModuleTag_Drills01

    ConditionState = NONE
      Model         = RVMishka
      HideSubObject = Chassis
    End

    ConditionState = REALLYDAMAGED
      Model         = RVMishka_D
      HideSubObject = Chassis
    End      

    Dust = InvissibleDust
    DirtSpray = RocketBuggyDirtSpray
    PowerslideSpray = RocketBuggyDirtPowerSlide

    LeftRearTireBone      = Drill01
    RightRearTireBone     = Drill02
    TireRotationMultiplier     = 0.13    ; this * speed = rotation.
    PowerslideRotationAddition = 1.0     ; This speed is added to the rotation speed when powersliding.

  End
  
  Draw = W3DModelDraw Module_OverWater
    DefaultConditionState
      Model = RVMishka_W
    End
    AliasConditionState  = MOVING
    ConditionState       = OVER_WATER
      ParticleSysBone    = TreadFX01 AmphibWaveRest
      ParticleSysBone    = TreadFX02 AmphibWaveRest
    End   
    ConditionState       = OVER_WATER MOVING
      ParticleSysBone    = TreadFX01 AmphibWave
      ParticleSysBone    = TreadFX02 AmphibWave
    End
  End
  
  Draw = W3DModelDraw Module_Hatches01
    DefaultConditionState
      Model         = RVMishka_A
      Animation     = RVMishka_A.RVMishka_A
      AnimationMode = ONCE_BACKWARDS
      HideSubObject = NET
      Flags         = MAINTAIN_FRAME_ACROSS_STATES
    End
    ConditionState = REALLYDAMAGED
      Model        = RVMishka_AD
      Animation    = RVMishka_AD.RVMishka_AD
    End
    ConditionState = USER_1
      Model = NONE
    End
    AliasConditionState = USER_1 REALLYDAMAGED
  End
  
  Draw = W3DModelDraw Module_Armor01
    DefaultConditionState
      Model         = RVMishka_U
      HideSubObject = ARMOR
    End
    ConditionState = REALLYDAMAGED
      Model        = RVMishka_U_D
    End
  End
  
  Draw = W3DModelDraw Module_SmokeLaunchers01
    OkToChangeModelColor     = Yes
    DefaultConditionState
      Model         = NVDeva_U2
    End
    AliasConditionState = REALLYDAMAGED
    ConditionState = USER_1
      Model = RVMishka_SMK
    End
    ConditionState = USER_1 REALLYDAMAGED
      Model = RVMishka_SMKD
    End
  End
  
  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Mishka
  Side                = Boss
  EditorSorting       = VEHICLE
  TransportSlotCount  = 5 ;how many "slots" we take in a transport (0 == not transportable)
  BuildCost           = 400
  BuildTime           = 4.0 ; in seconds
  VisionRange         = 200
  ShroudClearingRange = 500
  
  Prerequisites
    Object = Boss_WarFactory Boss_SmallFactory
  End

  WeaponSet
    Conditions = None 
    Weapon     = PRIMARY   MishkaMineClearingWeapon
    Weapon     = SECONDARY MishkaVehicleDummyWeapon
  End

  ArmorSet
    Conditions      = None
    Armor           = DozerArmor
    DamageFX        = TankDamageFX
  End
    
  ; ArmorSet
    ; Conditions      = PLAYER_UPGRADE
    ; Armor           = ERADozerArmor
    ; DamageFX        = TankEraDamageFX
  ; End
  
  ExperienceValue     = 5 5 5 5     ;Experience point value at each level
  CrusherLevel        = 0  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel      = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet          = RussiaRobotUranCommandSet

; *** AUDIO Parameters ***
  VoiceSelect           = MishkaVoiceSelect
  VoiceMove             = MishkaVoiceMove
  SoundMoveStart        = MishakScoutMoveStart
  SoundMoveStartDamaged = MishakScoutMoveStart

  UnitSpecificSounds
    VoiceDisarm       = MishkaVoiceClearMine
    VoiceCreate       = MishkaVoiceCreate
    VoiceCrush        = MishkaVoiceMove
    VoiceEnter        = MishkaVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority       = UNIT
  KindOf              = PRELOAD VEHICLE SCORE SELECTABLE CAN_CAST_REFLECTIONS CANNOT_RETALIATE TRANSPORT

  Body                = ActiveBody ModuleTag_02
    MaxHealth         = 200.0
    InitialHealth     = 200.0
    
    SubdualDamageCap = 300
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End
  
  Behavior = TransportAIUpdate ModuleTag_03
    MoodAttackCheckRate        = 100
    AutoAcquireEnemiesWhenIdle = Yes
  End
  Locomotor = SET_NORMAL RussiaVehicleMishkaLocomotor RussiaVehicleMishkaWaterLocomotor

  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 75.0
  End
  
  ; Behavior = ModelConditionUpgrade ModuleTag_ArmedRecon01
    ; ConditionFlag = USER_1
    ; TriggeredBy   = Upgrade_RussiaArmedRecon
  ; End
  
  ; Behavior = ObjectCreationUpgrade ModuleTag_ArmedRecon02
    ; UpgradeObject = OCL_MishkaOpenToppedAddon
    ; TriggeredBy   = Upgrade_RussiaArmedRecon
  ; End
  
  ; Behavior = CommandSetUpgrade ModuleTag_ArmedRecon03
    ; CommandSet = RussianVehicleMishkaUpgradedCommandSet
    ; TriggeredBy   = Upgrade_RussiaArmedRecon
  ; End

  ; Behavior = OverlordContain ModuleTag_ArmedRecon04
    ; Slots                   = 1
    ; DamagePercentToUnits    = 100%
    ; AllowInsideKindOf       = PORTABLE_STRUCTURE
    ; PassengersAllowedToFire = Yes
    ; ExperienceSinkForRider  = No
  ; End
  
  ; Behavior = SubObjectsUpgrade ModuleTag_ERA01
    ; TriggeredBy    = Upgrade_RussiaTankERA
    ; ShowSubObjects = ARMOR
  ; End
  
  ; Behavior = ArmorUpgrade ModuleTag_ERA02
    ; TriggeredBy  = Upgrade_RussiaTankERA
  ; End
  
  ; Behavior = MaxHealthUpgrade ModuleTag_ERA03
    ; TriggeredBy   = Upgrade_RussiaTankERA
    ; AddMaxHealth  = 100.0
    ; ChangeType    = ADD_CURRENT_HEALTH_TOO
  ; End

  Behavior                 = TransitionDamageFX ModuleTag_06
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = StealthDetectorUpdate ModuleTag_StealthDetect01
    DetectionRate             = 100   ; how often to rescan for stealthed things in my sight (msec)
    DetectionRange            = 150   ; Dustin, enable this for independant balancing!
    CanDetectWhileGarrisoned  = No    ; WEAPONSET_PLAYER_UPGRADE means being in a structure that you units can shoot out of.
    CanDetectWhileContained   = No    ; Contained means being in a transport or tunnel network.
    IRGridParticleSysName     = IRDetectGrid
    ExtraRequiredKindOf       = MINE
    ExtraForbiddenKindOf      = UNATTACKABLE
  End
  
  Behavior = StealthDetectorUpdate ModuleTag_StealthDetect02
    DetectionRate             = 100   ; how often to rescan for stealthed things in my sight (msec)
    DetectionRange            = 150   ; Dustin, enable this for independant balancing!
    CanDetectWhileGarrisoned  = No    ; WEAPONSET_PLAYER_UPGRADE means being in a structure that you units can shoot out of.
    CanDetectWhileContained   = No    ; Contained means being in a transport or tunnel network.
    IRGridParticleSysName     = IRDetectGrid
    ExtraRequiredKindOf       = DEMOTRAP
    ExtraForbiddenKindOf      = UNATTACKABLE
  End

  ; Catch fire, and explode death
  Behavior = SlowDeathBehavior ModuleTag_07
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier = 100
    DestructionDelay = 1500
    DestructionDelayVariance = 600
    FX  = INITIAL  FX_CrusaderCatchFire
    OCL = FINAL    OCL_RussiaMishkaExplode
    FX  = FINAL    FX_BattleMasterExplosionOneFinal
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior               = FXListDie ModuleTag_23
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX         = FX_CarCrush
  End

  Behavior = DestroyDie ModuleTag_24
    DeathTypes = NONE +CRUSHED +SPLATTED
  End
  
  Behavior = StealthUpdate ModuleTag_GPSStealth01
    StealthDelay                = 2000 ; msec
    StealthForbiddenConditions  = FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY RIDERS_ATTACKING
    InnateStealth               = Yes
    RequiredStatus              = REASSIGN_PARKING ;Used exclusively by the GPS Scrambler
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
  End
  
  Behavior = StealthUpdate ModuleTag_08
    StealthDelay                = 2000 ; msec
    StealthForbiddenConditions  = MOVING RIDERS_ATTACKING
    FriendlyOpacityMin          = 50.0%
    FriendlyOpacityMax          = 100.0%
    InnateStealth               = Yes
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
  End

  ; Behavior = EjectPilotDie ModuleTag_HijackerEmerge01
    ; DeathTypes = ALL -CRUSHED -SPLATTED
    ; RequiredStatus = HIJACKED
    ; VeterancyLevels =  ALL
    ; GroundCreationList = OCL_HijackerEmerge
    ; AirCreationList = OCL_HijackerEmergeViaParachute
  ; End
  
  Behavior = FXListDie ModuleTag_HijackerEmerge02
    RequiredStatus = HIJACKED
    DeathTypes = ALL -CRUSHED -SPLATTED
    DeathFX = FX_HijackerEmerge
  End
  
  ;This module ensures that emerging infantry from a destroyed transport have a very short time where they cannot be targeted
  ; Behavior = FireWeaponWhenDeadBehavior ModuleTag_InvulWhenDestroye01
    ; DeathWeapon   = InfantryEmergingFromTransportInvulnerabilityObjectTriggerWeapon
    ; StartsActive  = Yes
  ; End
  
  ;Smoke grenades
  ; Behavior           = OCLSpecialPower ModuleTag_SmokeGrenade01
    ; SpecialPowerTemplate = SpecialAbilityRussianSmokeGrenades
    ; OCL                  = OCL_UniversalAbbilityTrigger
    ; CreateLocation       = USE_OWNER_OBJECT
  ; End
  
  ; Behavior = FireWeaponCollide ModuleTag_SmokeGrenade02
    ; CollideWeapon  = RussianSmokeGrenadeLaunchWeapon
    ; RequiredStatus = USING_ABILITY
  ; End

  Geometry            = BOX
  GeometryMajorRadius = 18.0
  GeometryMinorRadius = 8.0
  GeometryHeight      = 10.0
  GeometryIsSmall     = Yes
  Shadow              = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;--------------------------------------------------------------------------
Object Boss_UkraineInfantryConscript

  ; *** ART Parameters ***
  SelectPortrait         = SARanger_L
  ButtonImage            = SARanger
  
  UpgradeCameo1 = Upgrade_InfantryCaptureBuilding

  Draw = W3DModelDraw ModuleTag_01

    OkToChangeModelColor = Yes

    ; this says "we don't use these condition states at all, so completely
    ; ignore them for purposes of matchmaking"... this is useful to help
    ; reduce the number of AliasConditionState clauses you must add in
    ; order to avoid ambiguity in some cases.
    IgnoreConditionStates = PREATTACK_A FIRING_A BETWEEN_FIRING_SHOTS_A RELOADING_A

    ; ------- Standing-Around Animations
 
    DefaultConditionState
      Model               = RUCONSC_SKN
      IdleAnimation       = NICNSC_SKL.NICNSC_STA2 0 35
      IdleAnimation       = NICNSC_SKL.NICNSC_IDA2
      IdleAnimation       = NICNSC_SKL.NICNSC_IDB2
      AnimationMode       = ONCE
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      WeaponLaunchBone = PRIMARY Muzzle
      TransitionKey       = TRANS_Stand
    End

    ConditionState        = REALLYDAMAGED
      IdleAnimation       = NICNSC_SKL.NICNSC_STB
      AnimationMode       = ONCE
      TransitionKey       = TRANS_StandDamaged
    End

    ; ------- Machine Gun Animations

    ConditionState      = USING_WEAPON_A 
      Animation         = NICNSC_SKL.NICNSC_ATA3
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Firing
    End

    ConditionState      = USING_WEAPON_A REALLYDAMAGED
      Animation         = NICNSC_SKL.NICNSC_ATC
      AnimationMode     = LOOP
      TransitionKey     = TRANS_FiringDamaged
    End

    ; ------------- Damage Transitions --------------------
    TransitionState = TRANS_StandDamaged TRANS_RunDamaged
      Animation       = NICNSC_SKL.NICNSC_AA2AC
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 2 2
    End
    TransitionState = TRANS_RunDamaged TRANS_StandDamaged 
      Animation       = NICNSC_SKL.NICNSC_AA2AC
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2 2
      Flags           = START_FRAME_LAST
    End
    TransitionState = TRANS_Stand TRANS_StandDamaged 
      Animation       = NICNSC_SKL.NICNSC_AA2SA
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 4 5
      Flags           = START_FRAME_LAST
    End

    ; ------- Parachuting Animations

    ConditionState    = FREEFALL
      Animation       = NICNSC_SKL.NICNSC_POP
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
      TransitionKey   = TRANS_Falling
    End
    AliasConditionState = FREEFALL REALLYDAMAGED
    AliasConditionState = FREEFALL DYING

    ConditionState    = PARACHUTING
      Animation       = NICNSC_SKL.NICNSC_PHG
      AnimationMode   = LOOP
      Flags           = PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
      TransitionKey   = TRANS_Chute
    End
    AliasConditionState = PARACHUTING REALLYDAMAGED
    AliasConditionState = PARACHUTING DYING

    TransitionState   = TRANS_Falling TRANS_Chute
      Animation       = NICNSC_SKL.NICNSC_POP
      AnimationMode   = ONCE
      Flags           = PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
    End

    TransitionState   = TRANS_Chute TRANS_Stand
      Animation       = NICNSC_SKL.NICNSC_PTD
      AnimationMode   = ONCE
    End

    ; ------- Movement Animations

    ConditionState      = MOVING
      Animation         = NICNSC_SKL.NICNSC_RNC 40
      AnimationMode     = LOOP
      Flags             = RANDOMSTART
      TransitionKey     = None
      ParticleSysBone   = None InfantryDustTrails
    End
    AliasConditionState = MOVING ATTACKING

    ConditionState = MOVING REALLYDAMAGED
      Animation         = NICNSC_SKL.NICNSC_RNB 28
      AnimationMode     = LOOP
      Flags             = RANDOMSTART
      TransitionKey     = TRANS_RunDamaged
      TransitionKey     = None
    End
    AliasConditionState = MOVING ATTACKING REALLYDAMAGED

    ; ------- Bldg-capture

    ConditionState      = UNPACKING
      Model             = RUCONSCF_SKN
      Animation         = NICNSC_F_SKL.NICNSC_F_FDP1
      AnimationMode     = ONCE
    End
    AliasConditionState = UNPACKING REALLYDAMAGED

    ConditionState      = RAISING_FLAG
      Model             = RUCONSCF_SKN
      Animation         = NICNSC_F_SKL.NICNSC_F_FDP2
      AnimationMode     = ONCE
      TransitionKey     = TRANS_Raising
    End
    AliasConditionState = RAISING_FLAG REALLYDAMAGED

    ConditionState      = PACKING
      Model             = RUCONSCF_SKN
      Animation         = NICNSC_F_SKL.NICNSC_F_FDP1
      AnimationMode     = ONCE_BACKWARDS
      Flags             = START_FRAME_LAST
      TransitionKey     = TRANS_Packing
    End
    AliasConditionState = PACKING REALLYDAMAGED

    TransitionState     = TRANS_Raising TRANS_Packing
      Model             = RUCONSCF_SKN
      Animation         = NICNSC_F_SKL.NICNSC_F_FDP2
      AnimationMode     = ONCE_BACKWARDS
      Flags             = START_FRAME_LAST
    End

    ; ------- Dying Animations

    ConditionState      = DYING
      Animation         = NICNSC_SKL.NICNSC_DTA
      Animation         = NICNSC_SKL.NICNSC_DTB
      AnimationMode     = ONCE
      TransitionKey     = TRANS_Dying
    End

    TransitionState     = TRANS_Dying TRANS_Flailing
      Animation         = NICNSC_SKL.NICNSC_ATDE1
      AnimationMode     = ONCE
    End

    ConditionState      = DYING EXPLODED_FLAILING
      Animation         = NICNSC_SKL.NICNSC_ATDE2
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Flailing
    End

    ConditionState      = DYING EXPLODED_BOUNCING
      Animation         = NICNSC_SKL.NICNSC_ATDE3
      AnimationMode     = ONCE
      TransitionKey     = None
    End

    ; ------- Misc Animations

    ConditionState      = SPECIAL_CHEERING
      Animation         = NICNSC_SKL.NICNSC_CHA
      AnimationMode     = LOOP
    End

  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:UkraineTrooper
  Side                = Boss
  EditorSorting       = INFANTRY
  TransportSlotCount  = 1                 ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions = None 
    Weapon = PRIMARY AK74machinegun
    AutoChooseSources = PRIMARY FROM_SCRIPT FROM_AI
  End
  ArmorSet
    Conditions      = None
    Armor           = HumanArmor
    DamageFX        = InfantryDamageFX
  End
  VisionRange = 190
  ShroudClearingRange = 170
  Prerequisites
    Object = Boss_UkraineBarracks
  End
  BuildCost     = 10
  BuildTime     = 2.0          ;in seconds      

  ExperienceValue         = 15 15 35 55  ;Experience point value at each level
  ExperienceRequired  = 0 80 120 200     ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrushableLevel         = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet    = UkraineInfantryConscriptCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = ConscriptSelect
  VoiceMove = ConscriptMove
  VoiceGuard = ConscriptGuard
  VoiceAttack = ConscriptAttack
;  VoiceGroupSelect = BattleCrySound
  VoiceFear = ConscriptFear
  VoiceTaskComplete = ConscriptCaptureComplete
  UnitSpecificSounds
    VoiceGarrison   = ConscriptGarrison
    VoiceCreate     = ConscriptCreate
    VoiceSubdue     = RedGuardVoiceSubdue
    VoiceEnter      = ConscriptMove
    VoiceEnterHostile = ConscriptMove
    VoiceGetHealed      = ConscriptMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = SALVAGER PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY SCORE PARACHUTABLE

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 200.0
    InitialHealth   = 200.0
  End

  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle = Yes
    MoodAttackCheckRate        = 750
  End

  Behavior = CommandButtonHuntUpdate  ModuleTag_04 ; allows use of command button hunt script with this unit. 
  End

  Locomotor = SET_NORMAL UkraineConscriptLocomotor

  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 5.0
  End

;Upgrades----------------------------------------------------------
  Behavior = UnpauseSpecialPowerUpgrade Upgrade_01
    SpecialPowerTemplate = SpecialAbilityRedGuardCaptureBuilding
    TriggeredBy = Upgrade_InfantryCaptureBuilding
  End
;Deaths-------------------------------------------------------------
  Behavior = SlowDeathBehavior DeathTag_01
    DeathTypes          = ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA
    SinkDelay           = 3000
    SinkRate            = 50.0     ; in Dist/Sec
    ;DestructionDelay    = 3000
    FX                  = INITIAL FX_DieInfantryRussia
    OCL                 = INITIAL OCL_DeadConscript
  End
  Behavior = SlowDeathBehavior DeathTag_02
    DeathTypes          = NONE +CRUSHED +SPLATTED
    SinkDelay           = 3000
    SinkRate            = 50.0     ; in Dist/Sec
    ;DestructionDelay    = 3000
    FX                  = INITIAL FX_GIDieCrushed
    OCL                 = INITIAL OCL_DeadConscript
  End
  Behavior = SlowDeathBehavior DeathTag_03
    DeathTypes          = NONE +EXPLODED
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_DieInfantryRussia
    ;OCL                 = INITIAL OCL_DeadConscript
    FlingForce          = 8
    FlingForceVariance  = 3
    FlingPitch          = 60
    FlingPitchVariance  = 10
  End
  Behavior = SlowDeathBehavior DeathTag_04
    DeathTypes          = NONE +BURNED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByFlameRussia
    OCL                 = INITIAL OCL_FlamingInfantry
  End
  Behavior = SlowDeathBehavior DeathTag_05
    DeathTypes          = NONE +POISONED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinRussia
    OCL                 = INITIAL OCL_ToxicInfantry
  End
  Behavior = SlowDeathBehavior DeathTag_06 ; don't forget to give it a new, unique module tag
    DeathTypes          = NONE +POISONED_BETA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinRussia
    OCL                 = INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
  End

  Behavior = SlowDeathBehavior DeathTag_07
    DeathTypes          = NONE +POISONED_GAMMA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinRussia
    OCL                 = INITIAL OCL_ToxicInfantryGamma
  End
;Stealth-------------------------------------------------------------
;---------------------------------------------------------------------

  Behavior = SquishCollide ModuleTag_06
    ;nothing
  End

  Behavior = PoisonedBehavior ModuleTag_07
    PoisonDamageInterval = 100  ; Every this many msec I will retake the poison damage dealt me...
    PoisonDuration = 3000       ; ... for this long after last hit by poison damage
  End

  Behavior = SpecialAbility ModuleTag_08
    SpecialPowerTemplate      = SpecialAbilityRedGuardCaptureBuilding
    UpdateModuleStartsAttack  = Yes
    StartsPaused              = Yes
    InitiateSound         = ConscriptCapture
  End
  Behavior = SpecialAbilityUpdate ModuleTag_09
    SpecialPowerTemplate  = SpecialAbilityRedGuardCaptureBuilding
    StartAbilityRange  = 5.0
    UnpackTime            = 3000  ; (changing this will scale anim speed)
    PreparationTime       = 20000 ; time to complete hack once prepared (changing this will scale anim speed)
    PackTime              = 2000  ; (changing this will scale anim speed)
    DoCaptureFX           = Yes
    AwardXPForTriggering  = 4
    ;SkillPointsForTriggering = ???  -- Dustin, fill me out if you want different balance values.
  End

  Behavior = ProductionUpdate ModuleTag_10
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End

  Behavior = StealthUpdate ModuleStealth_GPSScramblerGenericStealthModule
    StealthDelay                = 2000 ; msec
    InnateStealth               = Yes
    StealthForbiddenConditions  = ATTACKING USING_ABILITY
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
    RequiredStatus = REASSIGN_PARKING
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 7.0
  GeometryMinorRadius = 7.0
  GeometryHeight = 12.0
  GeometryIsSmall = Yes
  Shadow = SHADOW_DECAL
  BuildCompletion = APPEARS_AT_RALLY_POINT
  ;Scale = 0.94
End

;-----------------------------------------------------
Object Boss_UkraineInfantryRPGTrooper

  ; *** ART Parameters ***
  SelectPortrait         = SNTankHunter_L
  ButtonImage            = SNTankHunter

  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes
  
  
    DefaultConditionState
      Model             = RURPG_SKN
      IdleAnimation     = NIMSST_SKL.NIMSST_STA 0 30
      IdleAnimation     = NIMSST_SKL.NIMSST_IDA
      IdleAnimation     = NIMSST_SKL.NIMSST_IDB
      AnimationMode     = ONCE
      AnimationSpeedFactorRange = 0.8 1.2
      TransitionKey     = TRANS_Stand
      WeaponMuzzleFlash = PRIMARY MuzzleFX
      WeaponFireFXBone  = PRIMARY Muzzle
      WeaponLaunchBone  = PRIMARY Muzzle
      WeaponMuzzleFlash = SECONDARY MuzzleFX
      WeaponFireFXBone  = SECONDARY Muzzle
      WeaponLaunchBone  = SECONDARY Muzzle
    End
    AliasConditionState = REALLYDAMAGED

    ConditionState      = FIRING_A FIRING_B
      Animation         = NIMSST_SKL.NIMSST_ATA 
      AnimationMode     = ONCE
      TransitionKey     = TRANS_START_FIRING
    End
    AliasConditionState = REALLYDAMAGED FIRING_A FIRING_B
    
    ConditionState      = BETWEEN_FIRING_SHOTS_A BETWEEN_FIRING_SHOTS_B
      Animation         = NIMSST_SKL.NIMSST_STA
      AnimationMode     = ONCE
      ; this is basically a trick: this guy has a nontrivial animation for firing,
      ; and a long recycle time between shots. we want him to finish his fire animation
      ; (unless he's ordered to do something else), so this is just a handy trick that
      ; says, "if the previous state had this transition key, allow it to finish before
      ; switching to us, if possible".
      WaitForStateToFinishIfPossible = TRANS_START_FIRING
    End
    AliasConditionState = REALLYDAMAGED BETWEEN_FIRING_SHOTS_A BETWEEN_FIRING_SHOTS_B

    ConditionState      = MOVING
      Animation         = NIMSST_SKL.NIMSST_RNA 20
      AnimationMode     = LOOP
      Flags             = RANDOMSTART
      TransitionKey     = None
      ParticleSysBone   = None InfantryDustTrails
    End
    AliasConditionState = REALLYDAMAGED MOVING
    AliasConditionState = MOVING ATTACKING
    AliasConditionState = MOVING ATTACKING REALLYDAMAGED

    ConditionState      = RELOADING_A RELOADING_B
      Animation         = NIMSST_SKL.NIMSST_ATA 10
      AnimationMode     = ONCE
      ;WeaponLaunchBone = PRIMARY WeaponA
    End
    AliasConditionState = MOVING RELOADING_A RELOADING_B
    AliasConditionState = REALLYDAMAGED MOVING RELOADING_A RELOADING_B

    ConditionState      = DYING
      Animation         = NIMSST_SKL.NIMSST_DTA
      Animation         = NIMSST_SKL.NIMSST_DTB
      AnimationSpeedFactorRange = 0.9 1.25
      AnimationMode     = ONCE
      TransitionKey     = TRANS_Dying
    End
    AliasConditionState = DYING RUBBLE

    TransitionState     = TRANS_Dying TRANS_Flailing
      Animation         = NIMSST_SKL.NIMSST_ADTD1
      AnimationMode     = ONCE
    End

    ConditionState      = DYING EXPLODED_FLAILING
      Animation         = NIMSST_SKL.NIMSST_ADTD2
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Flailing
    End

    ConditionState      = DYING EXPLODED_BOUNCING
      Animation         = NIMSST_SKL.NIMSST_ADTD3
      AnimationMode     = ONCE
      TransitionKey     = None
    End

    ;PARACHUTING ANIMATIONS
    ConditionState      = FREEFALL
      Animation         = NIMSST_SKL.NIMSST_POP
      AnimationMode     = ONCE
      TransitionKey     = TRANS_Falling
    End
    AliasConditionState = FREEFALL REALLYDAMAGED
    AliasConditionState = FREEFALL DYING
    
    ConditionState      = PARACHUTING
      Animation         = NIMSST_SKL.NIMSST_PHG
      AnimationMode     = LOOP
      Flags             = PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
      TransitionKey     = TRANS_Chute
    End
    AliasConditionState = PARACHUTING REALLYDAMAGED
    AliasConditionState = PARACHUTING DYING
    
   ; TransitionState     = TRANS_Falling TRANS_Chute
   ;   Animation         = NIMSST_SKL.NIMSST_POP
   ;   AnimationMode     = ONCE
   ;   Flags             = PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
   ; End
    
    TransitionState     = TRANS_Chute TRANS_Stand
      Animation         = NIMSST_SKL.NIMSST_PDN
      AnimationMode     = ONCE
    End
  End


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:RPGTrooper
  Side = Boss
  EditorSorting = INFANTRY
  TransportSlotCount = 1                 ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions = None 
    Weapon = PRIMARY RPG29Missile
  End

  ArmorSet
    Conditions      = None
    Armor           = HumanArmor
    DamageFX        = InfantryDamageFX
  End
  VisionRange = 220
  ShroudClearingRange = 200
  Prerequisites
    Object = Boss_UkraineBarracks
  End
  BuildCost = 25
  BuildTime = 5          ;in seconds    

  ExperienceValue         = 30 30 50 70  ;Experience point value at each level
  ExperienceRequired      = 0 100 200 300   ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrushableLevel         = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet      = RussianInfantryRPGConscriptCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = RPG29VoiceSelect
  VoiceMove = RPG29VoiceMove
  VoiceAttack = RPG29VoiceAttack
  VoiceAttackAir = RPG29VoiceAttack
  VoiceGuard = RPG29VoiceGuard
  VoiceFear = RPG29VoiceFear
  UnitSpecificSounds
    VoiceCreate          = RPG29VoiceCreate
    VoiceGarrison = RPG29VoiceGarrison
    VoiceClearBuilding  = RPG29VoiceClearGarrison
    VoiceEnter = RPG29VoiceMove
    VoiceEnterHostile = RPG29VoiceMove
    VoiceGetHealed      = RPG29VoiceMove
    ;VoicePrimaryWeaponMode = PG-29
    ;VoiceSecondaryWeaponMode = TBG-29
    ;VoiceSubdue  = RPG29VoicePROMAttack
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = SALVAGER PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY SCORE 

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 200
    InitialHealth   = 200
  End

  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle = Yes
    MoodAttackCheckRate        = 750
  End
  Locomotor = SET_NORMAL UkraineRPGTrooperLocomotor
  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 5.0
  End

;Upgrades----------------------------------------------------------

;Deaths-------------------------------------------------------------
  Behavior = SlowDeathBehavior DeathTag_01
    DeathTypes          = ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA
    SinkDelay           = 3000
    SinkRate            = 50.0     ; in Dist/Sec
    ;DestructionDelay    = 3000
    FX                  = INITIAL FX_DieInfantryRussia
    OCL                 = INITIAL OCL_DeadRPG29
  End
  Behavior = SlowDeathBehavior DeathTag_02
    DeathTypes          = NONE +CRUSHED +SPLATTED
    SinkDelay           = 3000
    SinkRate            = 50.0     ; in Dist/Sec
    ;DestructionDelay    = 3000
    FX                  = INITIAL FX_GIDieCrushed
    OCL                 = INITIAL OCL_DeadRPG29
  End
  Behavior = SlowDeathBehavior DeathTag_03
    DeathTypes          = NONE +EXPLODED
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_DieInfantryRussia
    FlingForce          = 8
    FlingForceVariance  = 3
    FlingPitch          = 60
    FlingPitchVariance  = 10
  End
  Behavior = SlowDeathBehavior DeathTag_04
    DeathTypes          = NONE +BURNED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByFlameRussia
    OCL                 = INITIAL OCL_FlamingInfantry
  End
  Behavior = SlowDeathBehavior DeathTag_05
    DeathTypes          = NONE +POISONED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinRussia
    OCL                 = INITIAL OCL_ToxicInfantry
  End
  Behavior = SlowDeathBehavior DeathTag_06 ; don't forget to give it a new, unique module tag
    DeathTypes          = NONE +POISONED_BETA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinRussia
    OCL                 = INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
  End
  Behavior = SlowDeathBehavior DeathTag_07
    DeathTypes          = NONE +POISONED_GAMMA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinRussia
    OCL                 = INITIAL OCL_ToxicInfantryGamma
  End
;Stealth-------------------------------------------------------------
;---------------------------------------------------------------------

  Behavior = SquishCollide ModuleTag_05
    ;nothing
  End

  Behavior = CommandButtonHuntUpdate  ModuleTag_06 ; allows use of command button hunt script with this unit. 
  End

  Behavior = PoisonedBehavior ModuleTag_07
    PoisonDamageInterval = 100  ; Every this many msec I will retake the poison damage dealt me...
    PoisonDuration = 3000       ; ... for this long after last hit by poison damage
  End

  Behavior = ProductionUpdate ModuleTag_08
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End

  Behavior = StealthUpdate ModuleStealth_GPSScramblerGenericStealthModule
    StealthDelay                = 2000 ; msec
    InnateStealth               = Yes
    StealthForbiddenConditions  = ATTACKING USING_ABILITY
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
    RequiredStatus = REASSIGN_PARKING
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 8.0
  GeometryMinorRadius = 8.0
  GeometryHeight = 12.0
  GeometryIsSmall = Yes
  Shadow = SHADOW_DECAL
  ShadowSizeX = 14;
  ShadowSizeY = 14;
  ShadowTexture = ShadowI;
  BuildCompletion = APPEARS_AT_RALLY_POINT
  ;Scale = 0.94
End

;-------------------------------------------------------------------------------------------------
Object Boss_UkraineInfantryIglaTrooper

  ; *** ART Parameters ***
  SelectPortrait         = SUStinger
  ButtonImage            = SUStinger

  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes

    DefaultConditionState
      Model = RUIgla_SKN
      IdleAnimation = UISmsd_SKL.UISmsd_STA 0 45
      IdleAnimation = UISmsd_SKL.UISmsd_STB
      IdleAnimation = UISmsd_SKL.UISmsd_IDA 
      IdleAnimation = UISmsd_SKL.UISmsd_IDB 
      IdleAnimation = UISmsd_SKL.UISmsd_IDC 
      IdleAnimation = UISmsd_SKL.UISmsd_IDD 
      AnimationMode = ONCE
      WeaponMuzzleFlash = SECONDARY MuzzleFX
      WeaponFireFXBone = SECONDARY Exhaust
      WeaponLaunchBone = SECONDARY Muzzle
    End

    ConditionState = MOVING
      Animation = UISmsd_SKL.UISmsd_WKA 20
      Animation = UISmsd_SKL.UISmsd_WKB 34
      AnimationMode = LOOP
      ParticleSysBone   = None InfantryDustTrails
    End

    ConditionState = DYING SPLATTED
      Animation = UISmsd_SKL.UISmsd_ADTF3
      Animation = UISmsd_SKL.UISmsd_ADTG23
      AnimationMode = ONCE
    End
    ConditionState = DYING
      Animation = UISmsd_SKL.UISmsd_DTA 
      Animation = UISmsd_SKL.UISmsd_DTB 
      AnimationMode = ONCE
      TransitionKey = TRANS_Dying
      WaitForStateToFinishIfPossible = NONE ; We got a Key from Default state, but Death does not need to wait for firing to finish
    End

    TransitionState = TRANS_Dying TRANS_Flailing
      Animation = UISmsd_SKL.UISmsd_ADTF1
      Animation = UISmsd_SKL.UISmsd_ADTG21
      AnimationMode = ONCE
    End

    ConditionState = DYING EXPLODED_FLAILING
      Animation = UISmsd_SKL.UISmsd_ADTF2
      Animation = UISmsd_SKL.UISmsd_ADTG22
      AnimationMode = LOOP
      TransitionKey = TRANS_Flailing
      WaitForStateToFinishIfPossible = NONE ; We got a Key from Default state, but Death does not need to wait for firing to finish
    End

    ConditionState = DYING EXPLODED_BOUNCING
      Animation = UISmsd_SKL.UISmsd_ADTF3
      Animation = UISmsd_SKL.UISmsd_ADTG23
      AnimationMode = ONCE
      TransitionKey = None
      WaitForStateToFinishIfPossible = NONE ; We got a Key from Default state, but Death does not need to wait for firing to finish
    End

    ConditionState = FIRING_B
      Animation = UISmsd_SKL.UISmsd_ATA
      AnimationMode = ONCE
      TransitionKey = TRANS_START_FIRING
    End
    ; AliasConditionState is a new keyword that says,
    ; "give me another ConditionState exactly like the previous
    ; one, except with different conditions". Useful when you
    ; have several states that are the same with only different condition bits.
    ; these aliases handle the moving-between-shots case. (we can't actually move-and-fire at the same time.).

    ConditionState = BETWEEN_FIRING_SHOTS_B
      Animation = UISmsd_SKL.UISmsd_STA
      AnimationMode = ONCE
      ; this is basically a trick: this guy has a nontrivial animation for firing,
      ; and a long recycle time between shots. we want him to finish his fire animation
      ; (unless he's ordered to do something else), so this is just a handy trick that
      ; says, "if the previous state had this transition key, allow it to finish before
      ; switching to us, if possible".
      WaitForStateToFinishIfPossible = TRANS_START_FIRING
    End
    AliasConditionState = RELOADING_B


    ConditionState = SPECIAL_CHEERING
      Animation = UISMSD_SKL.UISMSD_CHA
      AnimationMode = LOOP
    End

  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:IglaTrooper
  Side = Boss
  EditorSorting = INFANTRY
  TransportSlotCount = 1                 ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions = None
    Weapon = SECONDARY UkraineIglaMissileWeapon
  End

  ArmorSet
    Conditions      = None
    Armor           = HumanArmor
    DamageFX        = InfantryDamageFX
  End
  VisionRange = 350
  ShroudClearingRange = 200
  Prerequisites
    Object = Boss_UkraineBarracks
  End
  BuildCost = 50
  BuildTime = 6          ;in seconds    

  ExperienceValue = 20 20 40 60    ;Experience point value at each level
  ExperienceRequired      = 0 200 400 600   ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrushableLevel         = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet      = RussianInfantryIglaTrooperCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = IglaVoiceSelect
  VoiceMove = IglaVoiceMove
  VoiceAttack = IglaVoiceAttack
  VoiceAttackAir = IglaVoiceAttack
  VoiceGuard = IglaVoiceGuard
  VoiceFear = IglaVoiceFear
  UnitSpecificSounds
    VoiceCreate          = IglaVoiceCreate
    VoiceGarrison = IglaVoiceMove
    VoiceEnter = IglaVoiceMove
    VoiceEnterHostile = IglaVoiceMove
    VoiceGetHealed      = IglaVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = SALVAGER PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS INFANTRY SCORE 

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 200
    InitialHealth   = 200
  End

  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle = Yes
    MoodAttackCheckRate        = 750
  End
  Locomotor = SET_NORMAL UkraineRPGTrooperLocomotor
  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 5.0
  End

;Upgrades----------------------------------------------------------
;Deaths-------------------------------------------------------------
  Behavior = SlowDeathBehavior DeathTag_01
    DeathTypes          = ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA
    SinkDelay           = 3000
    SinkRate            = 50.0     ; in Dist/Sec
    ;DestructionDelay    = 3000
    FX                  = INITIAL FX_DieInfantryRussia
    OCL                 = INITIAL OCL_DeadIgla
  End
  Behavior = SlowDeathBehavior DeathTag_02
    DeathTypes          = NONE +CRUSHED +SPLATTED
    SinkDelay           = 3000
    SinkRate            = 50.0     ; in Dist/Sec
    ;DestructionDelay    = 3000
    FX                  = INITIAL FX_GIDieCrushed
    OCL                 = INITIAL OCL_DeadIgla
  End
  Behavior = SlowDeathBehavior DeathTag_03
    DeathTypes          = NONE +EXPLODED
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_DieInfantryRussia
    FlingForce          = 8
    FlingForceVariance  = 3
    FlingPitch          = 60
    FlingPitchVariance  = 10
  End
  Behavior = SlowDeathBehavior DeathTag_04
    DeathTypes          = NONE +BURNED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByFlameRussia
    OCL                 = INITIAL OCL_FlamingInfantry
  End
  Behavior = SlowDeathBehavior DeathTag_05
    DeathTypes          = NONE +POISONED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinRussia
    OCL                 = INITIAL OCL_ToxicInfantry
  End
  Behavior = SlowDeathBehavior DeathTag_06 ; don't forget to give it a new, unique module tag
    DeathTypes          = NONE +POISONED_BETA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinRussia
    OCL                 = INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
  End

  Behavior = SlowDeathBehavior DeathTag_07
    DeathTypes          = NONE +POISONED_GAMMA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinRussia
    OCL                 = INITIAL OCL_ToxicInfantryGamma
  End

  Behavior = SquishCollide ModuleTag_05
    ;nothing
  End

  Behavior = PoisonedBehavior ModuleTag_06
    PoisonDamageInterval = 100  ; Every this many msec I will retake the poison damage dealt me...
    PoisonDuration = 3000       ; ... for this long after last hit by poison damage
  End

  ; Behavior = StealthDetectorUpdate ModuleTag_AirDetection1
    ; DetectionRate   = 500   ; how often to rescan for stealthed things in my sight (msec)
    ; DetectionRange = 150 ;Dustin, enable this for independant balancing!
    ; ExtraRequiredKindOf     = AIRCRAFT
    ; CanDetectWhileGarrisoned  = No ;Garrisoned means being in a structure that you units can shoot out of.
    ; CanDetectWhileContained   = No ;Contained means being in a transport or tunnel network.
  ; End

  ; Behavior = StealthDetectorUpdate ModuleTag_AirDetection2
    ; DetectionRate   = 500   ; how often to rescan for stealthed things in my sight (msec)
    ; DetectionRange = 150 ;Dustin, enable this for independant balancing!
    ; ExtraRequiredKindOf     = DRONE
    ; CanDetectWhileGarrisoned  = No ;Garrisoned means being in a structure that you units can shoot out of.
    ; CanDetectWhileContained   = No ;Contained means being in a transport or tunnel network.
  ; End

  Behavior = ProductionUpdate ModuleTag_07
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End

  Behavior = StealthUpdate ModuleStealth_GPSScramblerGenericStealthModule
    StealthDelay                = 2000 ; msec
    InnateStealth               = Yes
    StealthForbiddenConditions  = ATTACKING USING_ABILITY
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
    RequiredStatus = REASSIGN_PARKING
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 8.0
  GeometryMinorRadius = 8.0
  GeometryHeight = 12.0
  GeometryIsSmall = Yes
  Shadow = SHADOW_DECAL
  BuildCompletion = APPEARS_AT_RALLY_POINT
  ;Scale = 0.94
End

;------------------------------------------------------------------------------
Object Boss_UkraineInfantrySaboteur

  ; *** ART Parameters ***
  SelectPortrait         = SUSaboteur_L
  ButtonImage            = SUSaboteur

  Draw = W3DModelDraw ModuleTag_01

    OkToChangeModelColor = Yes
    
    ; this says "we don't use these condition states at all, so completely
    ; ignore them for purposes of matchmaking"... this is useful to help
    ; reduce the number of AliasConditionState clauses you must add in
    ; order to avoid ambiguity in some cases.
    IgnoreConditionStates = PREATTACK_A FIRING_A BETWEEN_FIRING_SHOTS_A RELOADING_A

    ; ---- standing
    DefaultConditionState
      Model = UISabotr_SKN
      IdleAnimation = UIWRKR_SKL.UIWRKR_STA 0 9
      IdleAnimation = UIWRKR_SKL.UIWRKR_IDA
      AnimationMode = ONCE
      TransitionKey = TRANS_Stand
    End

    ConditionState  = MOVING
      Animation     = UIWRKR_SKL.UIWRKR_RNA 16
      AnimationMode = LOOP
      Flags         = RANDOMSTART
      TransitionKey = TRANS_Moving
      ParticleSysBone = None InfantryDustTrails
    End

    ConditionState = DYING
      Animation = UIWRKR_SKL.UIWRKR_DTA
      AnimationMode = ONCE
      TransitionKey = TRANS_Dying
    End

    TransitionState = TRANS_Dying TRANS_Flailing
      Animation = UIWRKR_SKL.UIWRKR_ADTE1
      AnimationMode = ONCE
    End

    ConditionState = DYING EXPLODED_FLAILING
      Animation = UIWRKR_SKL.UIWRKR_ADTE2
      AnimationMode = LOOP
      TransitionKey = TRANS_Flailing
    End

    ConditionState = DYING EXPLODED_BOUNCING
      Animation = UIWRKR_SKL.UIWRKR_ADTE3
      AnimationMode = ONCE
      TransitionKey = None
    End

    ConditionState  = SPECIAL_CHEERING
      Animation     = UIWRKR_SKL.UIWRKR_CHA
      AnimationMode = ONCE
    End
    
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Saboteur
  Side                = Boss
  EditorSorting       = INFANTRY
  TransportSlotCount  = 1                 ;how many "slots" we take in a transport (0 == not transportable)
 
  ArmorSet
    Conditions      = None
    Armor           = HumanArmor
    DamageFX        = InfantryDamageFX
  End
  VisionRange         = 150
  ShroudClearingRange = 300
  Prerequisites
    Object = Boss_UkraineBarracks
	Object = Boss_UkraineGURHeadquaters
  End
  BuildCost = 150
  BuildTime = 15.0          ;in seconds  

  ExperienceValue     = 15 15 30 40     ;Experience point value at each level
  IsTrainable         = No             ;Can gain experience
  CrushableLevel      = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet          = GLAInfantrySaboteurCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = SaboteurVoiceSelect
  VoiceMove = SaboteurVoiceMove
  VoiceGuard = SaboteurVoiceMove
  VoiceAttack = SaboteurVoiceAttack
  SoundStealthOn = StealthOn
  SoundStealthOff = StealthOff
  VoiceFear = SaboteurVoiceFear
  VoiceTaskComplete = NoSound
  UnitSpecificSounds
    VoiceCreate = SaboteurVoiceCreate
    VoiceSubdue = SaboteurVoiceMove
    VoiceGarrison = SaboteurVoiceMove
    VoiceEnter = SaboteurVoiceMove
    VoiceEnterHostile = SaboteurVoiceAttack
    VoiceGetHealed      = SaboteurVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY SALVAGER STEALTH_GARRISON SCORE 

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 120.0
    InitialHealth   = 120.0
  End

  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle = Yes
  End

  Behavior = CommandButtonHuntUpdate  ModuleTag_04 ; allows use of command button hunt script with this unit. 
  End

  Locomotor = SET_NORMAL SaboteurGroundLocomotor SaboteurCliffLocomotor

  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 5.0
  End
  Behavior = StealthUpdate ModuleTag_07
    StealthDelay                = 2500 ; msec
    StealthForbiddenConditions  = None
    InnateStealth               = Yes ;Requires upgrade first
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
  End

  Behavior = SquishCollide ModuleTag_11
    ;nothing
  End

  Behavior = SabotagePowerPlantCrateCollide       SabotageTag_01
    BuildingPickup = Yes
    SabotagePowerDuration = 30000
  End
  Behavior = SabotageSupplyDropzoneCrateCollide   SabotageTag_02
    BuildingPickup  = Yes
    StealCashAmount = 1000
  End
  Behavior = SabotageSuperweaponCrateCollide      SabotageTag_03
    BuildingPickup = Yes
  End
  Behavior = SabotageCommandCenterCrateCollide    SabotageTag_04
    BuildingPickup = Yes
  End
  Behavior = SabotageSupplyCenterCrateCollide     SabotageTag_05
    BuildingPickup  = Yes
    StealCashAmount = 1000
  End
  Behavior = SabotageMilitaryFactoryCrateCollide  SabotageTag_06
    BuildingPickup = Yes
    SabotageDuration = 30000
  End
  Behavior = SabotageFakeBuildingCrateCollide     SabotageTag_07
    BuildingPickup = Yes
  End
  Behavior = SabotageInternetCenterCrateCollide   SabotageTag_08
    BuildingPickup = Yes
    SabotageDuration = 30000
  End

; --- begin Death modules ---
  Behavior = SlowDeathBehavior ModuleTag_Death01
    DeathTypes          = ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA
    SinkDelay           = 6000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_SaboteurDie
  End
  Behavior = SlowDeathBehavior ModuleTag_Death02
    DeathTypes          = NONE +CRUSHED +SPLATTED
    SinkDelay           = 6000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_GIDieCrushed
  End
  Behavior = SlowDeathBehavior ModuleTag_Death03
    DeathTypes          = NONE +EXPLODED
    SinkDelay           = 6000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_SaboteurDie
    FlingForce          = 8
    FlingForceVariance  = 3
    FlingPitch          = 60
    FlingPitchVariance  = 10
  End
  Behavior = SlowDeathBehavior ModuleTag_Death04
    DeathTypes          = NONE +BURNED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByFireGLA
    OCL                 = INITIAL OCL_FlamingInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death05
    DeathTypes          = NONE +POISONED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinGLA
    OCL                 = INITIAL OCL_ToxicInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
    DeathTypes          = NONE +POISONED_BETA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinGLA
    OCL                 = INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
  End
  Behavior = SlowDeathBehavior ModuleTag_Death07
    DeathTypes          = NONE +POISONED_GAMMA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinGLA
    OCL                 = INITIAL OCL_ToxicInfantryGamma
  End

; --- end Death modules ---

  Behavior = PoisonedBehavior ModuleTag_16
    PoisonDamageInterval = 100  ; Every this many msec I will retake the poison damage dealt me...
    PoisonDuration = 3000       ; ... for this long after last hit by poison damage
  End

;  Behavior = SpecialAbility ModuleTag_17
;    SpecialPowerTemplate      = SpecialAbilityRebelCaptureBuilding
;    UpdateModuleStartsAttack  = Yes
;    StartsPaused              = Yes
;    InitiateSound         = RebelVoiceCapture
;  End
;  Behavior = SpecialAbilityUpdate ModuleTag_18
;    SpecialPowerTemplate  = SpecialAbilityRebelCaptureBuilding
;    StartAbilityRange  = 5.0
;    UnpackTime            = 3000  ; (changing this will scale anim speed)
;    PreparationTime       = 20000 ; time to complete hack once prepared (changing this will scale anim speed)
;    PackTime              = 2000  ; (changing this will scale anim speed)
;    DoCaptureFX           = Yes
;    AwardXPForTriggering  = 12
;    ;SkillPointsForTriggering = ???  -- Dustin, fill me out if you want different balance values.
;  End

  Geometry = CYLINDER
  GeometryMajorRadius = 10.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 12.0
  GeometryIsSmall = Yes
  Scale = 0.9
  Shadow = SHADOW_DECAL
  ShadowSizeX = 14;
  ShadowSizeY = 14;
  ShadowTexture = ShadowI;
  BuildCompletion = APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
Object Boss_UkraineSupplyDropZone

  ; *** ART Parameters ***
  SelectPortrait         = SADropZone_L
  ButtonImage            = SADropZone
  
    Draw                 = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes   
    ConditionState       = NONE
      Model              = ABSupDrop
      ParticleSysBone    = Flare01 LandingZoneSmoke
      Animation          = ABSupDrop.ABSupDrop
      AnimationMode      = LOOP
    End
    
    ConditionState       = DAMAGED
      Model              = ABSupDrop_D
      ParticleSysBone    = Flare01 LandingZoneSmoke
      Animation          = ABSupDrop_D.ABSupDrop_D
      AnimationMode      = LOOP
    End
   
    ConditionState     = REALLYDAMAGED RUBBLE
      Model              = ABSupDrop_E
      ParticleSysBone    = Flare01 LandingZoneSmoke
      Animation          = ABSupDrop_E.ABSupDrop_E
      AnimationMode      = LOOP
    End
    
    ConditionState       = NIGHT
      Model              = ABSupDrop_N
      ParticleSysBone    = Flare01 LandingZoneSmoke
      Animation          = ABSupDrop_N.ABSupDrop_N
      AnimationMode      = LOOP
    End
    
    ConditionState       = DAMAGED NIGHT
      Model              = ABSupDrop_DN
      ParticleSysBone    = Flare01 LandingZoneSmoke
      Animation          = ABSupDrop_DN.ABSupDrop_DN
      AnimationMode      = LOOP
    End
   
    ConditionState     = REALLYDAMAGED RUBBLE NIGHT
      Model              = ABSupDrop_EN
      ParticleSysBone    = Flare01 LandingZoneSmoke
      Animation          = ABSupDrop_EN.ABSupDrop_EN
      AnimationMode      = LOOP
    End
    
    ;----------- SNOW
    
    ConditionState       = SNOW
      Model              = ABSupDrop_S
      ParticleSysBone    = Flare01 LandingZoneSmoke
      Animation          = ABSupDrop_S.ABSupDrop_S
      AnimationMode      = LOOP
    End
    
    ConditionState       = DAMAGED SNOW
      Model              = ABSupDrop_DS
      ParticleSysBone    = Flare01 LandingZoneSmoke
      Animation          = ABSupDrop_DS.ABSupDrop_DS

      AnimationMode      = LOOP
    End
   
    ConditionState     = REALLYDAMAGED RUBBLE SNOW
      Model              = ABSupDrop_ES
      ParticleSysBone    = Flare01 LandingZoneSmoke
      Animation          = ABSupDrop_ES.ABSupDrop_ES
      AnimationMode      = LOOP
    End
    
    ;---------- SNOW NIGHT
    
    ConditionState       = NIGHT SNOW
      Model              = ABSupDrop_NS
      ParticleSysBone    = Flare01 LandingZoneSmoke
      Animation          = ABSupDrop_NS.ABSupDrop_NS
      AnimationMode      = LOOP
    End
    
    ConditionState       = DAMAGED NIGHT SNOW
      Model              = ABSupDrop_DNS
      ParticleSysBone    = Flare01 LandingZoneSmoke
      Animation          = ABSupDrop_DNS.ABSupDrop_DNS
      AnimationMode      = LOOP
    End
   
    ConditionState     = REALLYDAMAGED RUBBLE NIGHT SNOW
      Model              = ABSupDrop_ENS
      ParticleSysBone    = Flare01 LandingZoneSmoke
      Animation          = ABSupDrop_ENS.ABSupDrop_ENS
      AnimationMode      = LOOP
    End
    
    ;**************************************************************************************************************************
    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ;for this draw module
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = ABSupDrop
      Animation          = ABSupDrop.ABSupDrop
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = ABSupDrop_D
      Animation          = ABSupDrop_D.ABSupDrop_D
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = ABSupDrop_E
      Animation          = ABSupDrop_E.ABSupDrop_E
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
      Model              = ABSupDrop_N
      Animation          = ABSupDrop_N.ABSupDrop_N
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
      Model              = ABSupDrop_DN
      Animation          = ABSupDrop_DN.ABSupDrop_DN
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
      Model              = ABSupDrop_EN
      Animation          = ABSupDrop_EN.ABSupDrop_EN
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model              = ABSupDrop_S
      Animation          = ABSupDrop_S.ABSupDrop_S
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
      Model              = ABSupDrop_DS
      Animation          = ABSupDrop_DS.ABSupDrop_DS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
      Model              = ABSupDrop_ES
      Animation          = ABSupDrop_ES.ABSupDrop_ES
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
      Model              = ABSupDrop_NS
      Animation          = ABSupDrop_NS.ABSupDrop_NS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
      Model              = ABSupDrop_DNS
      Animation          = ABSupDrop_DNS.ABSupDrop_DNS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
      Model              = ABSupDrop_ENS
      Animation          = ABSupDrop_ENS.ABSupDrop_ENS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End

    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    ;**************************************************************************************************************************    
  End
 
  ; ------------ construction-zone fence -----------------
  Draw                = W3DModelDraw ModuleTag_02
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABSupDrop_A4
      Animation       = ABSupDrop_A4.ABSupDrop_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
    End
    ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABSupDrop_A4N
      Animation       = ABSupDrop_A4N.ABSupDrop_A4N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
    End
    ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABSupDrop_A4S
      Animation       = ABSupDrop_A4S.ABSupDrop_A4S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
    End
    ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABSupDrop_A4SN
      Animation       = ABSupDrop_A4SN.ABSupDrop_A4SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = ABSupDrop_A4
      Animation       = ABSupDrop_A4.ABSupDrop_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = ABSupDrop_A4N
      Animation       = ABSupDrop_A4N.ABSupDrop_A4N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = ABSupDrop_A4S
      Animation       = ABSupDrop_A4S.ABSupDrop_A4S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = ABSupDrop_A4SN
      Animation       = ABSupDrop_A4SN.ABSupDrop_A4SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = ABSupDrop_A4
      Animation       = ABSupDrop_A4.ABSupDrop_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = ABSupDrop_A4N
      Animation       = ABSupDrop_A4N.ABSupDrop_A4N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = ABSupDrop_A4S
      Animation       = ABSupDrop_A4S.ABSupDrop_A4S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = ABSupDrop_A4SN
      Animation       = ABSupDrop_A4SN.ABSupDrop_A4SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ under-construction scaffolding -----------------
  Draw                = W3DModelDraw ModuleTag_03
  AnimationsRequirePower = No
    MinLODRequired    = MEDIUM
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = ABSupDrop_A6
      Animation       = ABSupDrop_A6.ABSupDrop_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      Model           = ABSupDrop_A6N
      Animation       = ABSupDrop_A6N.ABSupDrop_A6N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      Model           = ABSupDrop_A6S
      Animation       = ABSupDrop_A6S.ABSupDrop_A6S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      Model           = ABSupDrop_A6SN
      Animation       = ABSupDrop_A6SN.ABSupDrop_A6SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
     Model            = ABSupDrop_A6
      Animation       = ABSupDrop_A6.ABSupDrop_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
     Model            = ABSupDrop_A6N
      Animation       = ABSupDrop_A6N.ABSupDrop_A6N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
     Model            = ABSupDrop_A6S
      Animation       = ABSupDrop_A6S.ABSupDrop_A6S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
     Model            = ABSupDrop_A6SN
      Animation       = ABSupDrop_A6SN.ABSupDrop_A6SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = ABSupDrop_A6
      Animation       = ABSupDrop_A6.ABSupDrop_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = ABSupDrop_A6N
      Animation       = ABSupDrop_A6N.ABSupDrop_A6N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = ABSupDrop_A6S
      Animation       = ABSupDrop_A6S.ABSupDrop_A6S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = ABSupDrop_A6SN
      Animation       = ABSupDrop_A6SN.ABSupDrop_A6SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End
  PlacementViewAngle = -45

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:AmericaSupplyDropZone
  Side                = Boss
  EditorSorting       = STRUCTURE
  BuildCost           = 5000
  BuildTime           = 42.0           ; in seconds
  Prerequisites
    Object            = Boss_UkraineInternationalHeadquaters
  End
  EnergyProduction = -4
  ShroudClearingRange = 100
  ;MaxSimultaneousOfType = 2
  ArmorSet
    Conditions        = None
    Armor             = StructureArmor
    DamageFX          = StructureDamageFXNoShake
  End
  ExperienceValue     = 200 200 200 200  ; Experience point value at each level

  ; *** AUDIO Parameters ***
  VoiceSelect = SupplyDropZoneSelect

  UnitSpecificSounds
    UnderConstruction     = UnderConstructionLoop
  End


  ; *** ENGINEERING Parameters ***  
  ; Please note that this structure is not a kindof IMMUNE_TO_CAPTURE, ther is code that allows 
  ; CAPTURABLE+STRUCTURES, and FS_TECHNOLOGY kindofs to be disabled, unless explicitly IMMUNE_TO_CAPTURE...
  ; If this boggles too much, then it is time for a KINDOF_DISABLEABLE!--ML 
  KindOf              = STRUCTURE SELECTABLE IMMOBILE SCORE FS_TECHNOLOGY MP_COUNT_FOR_VICTORY FS_SUPPLY_DROPZONE IMMUNE_TO_CAPTURE
  RadarPriority       = STRUCTURE
  
  Body                = ActiveBody ModuleTag_04
    MaxHealth         = 1200.0
    InitialHealth     = 1200.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 1200
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
  End

  Behavior       = OCLUpdate ModuleTag_05 ; Context window is a reaction to this, no CommandSet 
    OCL          = OCL_UkraineSupplyDropZoneCrateDrop
    MinDelay     = 120000
    MaxDelay     = 120000
    CreateAtEdge = Yes ; as opposed to just creating on self
  End

  Behavior  = DestroyDie ModuleTag_06
  End
  
  ; Behavior             = CreateObjectDie ModuleTag_07
    ; CreationList  = AirF_OCL_AmericanRangerDebris03
    ; ExemptStatus  = UNDER_CONSTRUCTION
  ; End
  
  Behavior                  = CreateObjectDie ModuleTag_08
    CreationList       = OCL_LargeStructureDebris
  End

  Behavior             = FlammableUpdate ModuleTag_09
    AflameDuration     = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 5       ; taking this much damage...
    AflameDamageDelay  = 500       ; this often.
  End
  
  Behavior                  = FXListDie ModuleTag_10
    DeathFX            = FX_StructureMediumDeath
  End

  ; Behavior = BaseRegenerateUpdate ModuleTag_11
    ; ;No data
  ; End 

  Behavior = TransitionDamageFX ModuleTag_31
    ;-------------DESIGNED FOR SMALL SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
  End

  Geometry            = BOX
  GeometryMajorRadius = 27.0
  GeometryMinorRadius = 27.0
  GeometryHeight      = 9.0
  GeometryIsSmall     = No
  Shadow              = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
Object Boss_UkraineLightTankAMX100

  ; *** ART Parameters ***
  SelectPortrait         = SACLight
  ButtonImage            = SACLight

  Draw = W3DTruckDraw ModuleTag_01
    OkToChangeModelColor = Yes
    DefaultConditionState
      Model               = AVLLeopard
      Turret              = Turret
      WeaponFireFXBone    = PRIMARY TurretMS
      WeaponRecoilBone    = PRIMARY Barrel
      WeaponMuzzleFlash   = PRIMARY TurretFX
      WeaponLaunchBone = PRIMARY TurretMS
    End
    ConditionState       = REALLYDAMAGED
      Model              = AVLLeopard_D
    End
    ConditionState       = RUBBLE
      Model              = AVLLeopard_D
    End

    TrackMarks           = EXTireTrack.tga
    Dust                 = RocketBuggyDust
    DirtSpray            = RocketBuggyDirtSpray
    PowerslideSpray      = RocketBuggyDirtPowerSlide
    ; These parameters are only used if the model has a separate suspension,
    ; and the locomotor has HasSuspension = Yes.
    LeftFrontTireBone          = Tire01
    RightFrontTireBone         = Tire02
    MidLeftRearTireBone        = Tire03
    MidRightRearTireBone       = Tire04
    LeftRearTireBone           = Tire05
    RightRearTireBone          = Tire06
    TireRotationMultiplier     = 0.2   ; this * speed = rotation.
    PowerslideRotationAddition = 2.5   ; This speed is added to the rotation speed when powersliding.
  End

  ; ***DESIGN parameters ***
  DisplayName            = OBJECT:LightCrusader
  Side                   = Boss
  EditorSorting          = VEHICLE
  TransportSlotCount     = 3
  WeaponSet
    Conditions           = None
    Weapon               = PRIMARY LightCrusaderTankGun
  End

  ArmorSet
    Conditions           = None
    Armor                = HumveeArmor
    DamageFX             = TankDamageFX
  End

  BuildCost              = 2000
  BuildTime              = 10.0          ;in seconds
  VisionRange            = 150
  ShroudClearingRange = 300

  ExperienceValue        = 100 100 200 400 ;Experience point value at each level
  ExperienceRequired     = 0 200 300 600 ;Experience points needed to gain each level
  IsTrainable            = Yes  ;Can gain experience
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet             = GenericCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect           = CrusaderTankVoiceSelect
  VoiceMove             = CrusaderTankVoiceMove
  VoiceGuard            = CrusaderTankVoiceMove
  VoiceAttack           = CrusaderTankVoiceAttack
  SoundMoveStart        = CrusaderTankMoveStart
  SoundMoveStartDamaged = CrusaderTankMoveStart
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate         = CrusaderTankVoiceCreate
    VoiceEnter             = CrusaderTankVoiceMove
    TurretMoveStart     = NoSound
    TurretMoveLoop      = TurretMoveLoop
    SoundEject          = PilotSoundEject
    VoiceEject          = PilotVoiceEject
    VoiceCrush          = CrusaderTankVoiceCrush
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority          = UNIT
  KindOf                 = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE

  Body                   = ActiveBody ModuleTag_02
    MaxHealth       = 320
    InitialHealth   = 320

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 960
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      TurretTurnRate       = 180 ;60   // turn rate, in degrees per sec
      ControlledWeaponSlots= PRIMARY
    End
    AutoAcquireEnemiesWhenIdle = Yes
  End
  Locomotor            = SET_NORMAL LightCrusaderLocomotor
  Behavior = PhysicsBehavior ModuleTag_04
    Mass                 = 50.0
  End

  Behavior = ProductionUpdate ModuleTag_09
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End

  ; Turret fly off death
  Behavior = SlowDeathBehavior ModuleTag_12
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier  = 50
    DestructionDelay  = 500
    DestructionDelayVariance  = 100
    FX  = INITIAL  FX_GenericTankDeathEffect
    OCL = MIDPOINT OCL_GenericTankDeathEffect
    FX  = FINAL    FX_GenericTankDeathExplosion
    OCL = FINAL    OCL_CrusaderTurret
  End

  ; Catch fire, and explode death
  Behavior = SlowDeathBehavior ModuleTag_13
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier  = 50
    DestructionDelay  = 2000
    DestructionDelayVariance  = 300
    FX  = INITIAL  FX_CrusaderCatchFire
    OCL = FINAL    OCL_GenericTankDeathEffect
    FX  = FINAL    FX_GenericTankDeathExplosion
  End

  Behavior                 = TransitionDamageFX ModuleTag_14
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = DestroyDie ModuleTag_15
    DeathTypes = NONE +CRUSHED +SPLATTED
  End

  ; A crushing defeat
  Behavior = FXListDie ModuleTag_16
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End

  Behavior = CreateObjectDie ModuleTag_17
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_CrusaderTank_CrushEffect
  End

  Behavior                    = CreateCrateDie ModuleTag_CratesChange
   CrateData             = SalvageCrateData
   ;CrateData             = EliteTankCrateData
   ;CrateData             = HeroicTankCrateData
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Geometry               = BOX
  GeometryMajorRadius    = 15.0
  GeometryMinorRadius    = 10.0
  GeometryHeight         = 10.0
  GeometryIsSmall        = Yes
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length
End

;------------------------------------------------------------------------------
Object Boss_UkraineReinforcementPad

  ; *** ART Parameters ***
  SelectPortrait         = LandingPad_L
  ButtonImage            = LandingPad
  
   Draw                 = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes   
    ConditionState       = NONE
      Model              = ZBLndBay
      ;ParticleSysBone    = Flare01 LandingZoneSmoke
      Animation          = ZBLndBay.ZBLndBay
      AnimationMode      = LOOP
    End
    
    ConditionState       = DAMAGED
      Model              = ZBLndBay_D
      ;ParticleSysBone    = Flare01 LandingZoneSmoke
      Animation          = ZBLndBay_D.ZBLndBay_D
      AnimationMode      = LOOP
    End
   
    ConditionState     = REALLYDAMAGED RUBBLE
      Model              = ZBLndBay_E
      ;ParticleSysBone    = Flare01 LandingZoneSmoke
      Animation          = ZBLndBay_E.ZBLndBay_E
      AnimationMode      = LOOP
    End
    
    ConditionState       = NIGHT
      Model              = ZBLndBay_N
      ;ParticleSysBone    = Flare01 LandingZoneSmoke
      Animation          = ZBLndBay_N.ZBLndBay_N
      AnimationMode      = LOOP
    End
    
    ConditionState       = DAMAGED NIGHT
      Model              = ZBLndBay_D
      ;ParticleSysBone    = Flare01 LandingZoneSmoke
      Animation          = ZBLndBay_D.ZBLndBay_D
      AnimationMode      = LOOP
    End
   
    ConditionState     = REALLYDAMAGED RUBBLE NIGHT
      Model              = ZBLndBay_E
      ;ParticleSysBone    = Flare01 LandingZoneSmoke
      Animation          = ZBLndBay_E.ZBLndBay_E
      AnimationMode      = LOOP
    End
    
    ;----------- SNOW
    
    ConditionState       = SNOW
      Model              = ZBLndBay_S
      ;ParticleSysBone    = Flare01 LandingZoneSmoke
      Animation          = ZBLndBay_S.ZBLndBay_S
      AnimationMode      = LOOP
    End
    
    ConditionState       = DAMAGED SNOW
      Model              = ZBLndBay_DS
      ;ParticleSysBone    = Flare01 LandingZoneSmoke
      Animation          = ZBLndBay_DS.ZBLndBay_DS

      AnimationMode      = LOOP
    End
   
    ConditionState     = REALLYDAMAGED RUBBLE SNOW
      Model              = ZBLndBay_ES
      ;ParticleSysBone    = Flare01 LandingZoneSmoke
      Animation          = ZBLndBay_ES.ZBLndBay_ES
      AnimationMode      = LOOP
    End
    
    ;---------- SNOW NIGHT
    
    ConditionState       = NIGHT SNOW
      Model              = ZBLndBay_NS
      ;ParticleSysBone    = Flare01 LandingZoneSmoke
      Animation          = ZBLndBay_NS.ZBLndBay_NS
      AnimationMode      = LOOP
    End
    
    ConditionState       = DAMAGED NIGHT SNOW
      Model              = ZBLndBay_DSN
      ;ParticleSysBone    = Flare01 LandingZoneSmoke
      Animation          = ZBLndBay_DSN.ZBLndBay_DSN
      AnimationMode      = LOOP
    End
   
    ConditionState     = REALLYDAMAGED RUBBLE NIGHT SNOW
      Model              = ZBLndBay_ES
      ;ParticleSysBone    = Flare01 LandingZoneSmoke
      Animation          = ZBLndBay_ES.ZBLndBay_ES
      AnimationMode      = LOOP
    End
  End  
    ; ========================= Flag Model ===============================
  Draw = W3DModelDraw ModuleTag_02
    OkToChangeModelColor = Yes
    
    ; DEFAULT & DAMAGED ************************************************
    ConditionState  = NONE
      Model         = MBLndBay_F
      Animation     = MBLndBay_F.MBLndBay_F
      AnimationMode = LOOP
    End
    AliasConditionState = DAMAGED
    
    ; REALLYDAMAGED*****************************************************
    ConditionState  = REALLYDAMAGED
      Model         = MBLndBay_F
      Animation     = MBLndBay_F.MBLndBay_F
      AnimationMode = LOOP
    End
    
    ; RUBBLE ***********************************************************
    ConditionState  = RUBBLE
      Model         = None
    End

    ;**************************************************************************************************************************
    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ;for this draw module
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = ZBLndBay
      Animation          = ZBLndBay.ZBLndBay
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = ZBLndBay_D
      Animation          = ZBLndBay_D.ZBLndBay_D
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = ZBLndBay_D
      Animation          = ZBLndBay_D.ZBLndBay_D
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
      Model              = ZBLndBay
      Animation          = ZBLndBay.ZBLndBay
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
      Model              = ZBLndBay_D
      Animation          = ZBLndBay_D.ZBLndBay_D
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
      Model              = ZBLndBay_D
      Animation          = ZBLndBay_D.ZBLndBay_D
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model              = ZBLndBay
      Animation          = ZBLndBay.ZBLndBay
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
      Model              = ZBLndBay_D
      Animation          = ZBLndBay_D.ZBLndBay_D
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
      Model              = ZBLndBay_D
      Animation          = ZBLndBay_D.ZBLndBay_D
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
      Model              = ZBLndBay
      Animation          = ZBLndBay.ZBLndBay
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
      Model              = ZBLndBay_D
      Animation          = ZBLndBay_D.ZBLndBay_D
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
      Model              = ZBLndBay_D
      Animation          = ZBLndBay_D.ZBLndBay_D
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End

    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = GARRISONED SOLD 
    AliasConditionState  = GARRISONED SOLD DAMAGED
    AliasConditionState  = GARRISONED SOLD REALLYDAMAGED
    AliasConditionState  = GARRISONED SOLD NIGHT
    AliasConditionState  = GARRISONED SOLD NIGHT DAMAGED
    AliasConditionState  = GARRISONED SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = GARRISONED SOLD SNOW
    AliasConditionState  = GARRISONED SOLD SNOW DAMAGED
    AliasConditionState  = GARRISONED SOLD SNOW REALLYDAMAGED
    AliasConditionState  = GARRISONED SOLD NIGHT SNOW
    AliasConditionState  = GARRISONED SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = GARRISONED SOLD NIGHT SNOW REALLYDAMAGED
    ;**************************************************************************************************************************
  End

  ; ------------ construction-zone fence -----------------
  Draw = W3DModelDraw ModuleTag_02121
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = MBLndBay_A4
      Animation       = MBLndBay_A4.MBLndBay_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
    End
    ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = MBLndBay_A4
      Animation       = MBLndBay_A4.MBLndBay_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
    End
    ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = MBLndBay_A4
      Animation       = MBLndBay_A4.MBLndBay_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
    End
    ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = MBLndBay_A4
      Animation       = MBLndBay_A4.MBLndBay_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = MBLndBay_A4
      Animation       = MBLndBay_A4.MBLndBay_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = MBLndBay_A4
      Animation       = MBLndBay_A4.MBLndBay_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = MBLndBay_A4
      Animation       = MBLndBay_A4.MBLndBay_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = MBLndBay_A4
      Animation       = MBLndBay_A4.MBLndBay_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = MBLndBay_A4
      Animation       = MBLndBay_A4.MBLndBay_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = MBLndBay_A4
      Animation       = MBLndBay_A4.MBLndBay_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = MBLndBay_A4
      Animation       = MBLndBay_A4.MBLndBay_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = MBLndBay_A4
      Animation       = MBLndBay_A4.MBLndBay_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ under-construction scaffolding -----------------
  Draw = W3DModelDraw ModuleTag_07s
  AnimationsRequirePower = No
    MinLODRequired = MEDIUM
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = MBLndBay_A6
      Animation       = MBLndBay_A6.MBLndBay_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Dust01 BuildingDustChina
      ParticleSysBone = Smoke01 BuildUpSmokeChina
      ParticleSysBone = Smoke02 BuildUpSmokeChina
      ParticleSysBone = Smoke03 BuildUpSmokeChina
      ParticleSysBone = Smoke04 BuildUpSmokeChina
      ParticleSysBone = Smoke05 BuildUpSmokeChina
    End
    ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      Model           = MBLndBay_A6
      Animation       = MBLndBay_A6.MBLndBay_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = Dust01 BuildingDustChina
      ParticleSysBone = Smoke01 BuildUpSmokeChina
      ParticleSysBone = Smoke02 BuildUpSmokeChina
      ParticleSysBone = Smoke03 BuildUpSmokeChina
      ParticleSysBone = Smoke04 BuildUpSmokeChina
      ParticleSysBone = Smoke05 BuildUpSmokeChina
    End
    ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      Model           = MBLndBay_A6
      Animation       = MBLndBay_A6.MBLndBay_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = Dust01 BuildingSnowDust
      ParticleSysBone = Smoke01 BuildUpSnowSmoke
      ParticleSysBone = Smoke02 BuildUpSnowSmoke
      ParticleSysBone = Smoke03 BuildUpSnowSmoke
      ParticleSysBone = Smoke04 BuildUpSnowSmoke
      ParticleSysBone = Smoke05 BuildUpSnowSmoke
    End
    ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      Model           = MBLndBay_A6
      Animation       = MBLndBay_A6.MBLndBay_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = Dust01 BuildingSnowDust
      ParticleSysBone = Smoke01 BuildUpSnowSmoke
      ParticleSysBone = Smoke02 BuildUpSnowSmoke
      ParticleSysBone = Smoke03 BuildUpSnowSmoke
      ParticleSysBone = Smoke04 BuildUpSnowSmoke
      ParticleSysBone = Smoke05 BuildUpSnowSmoke
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = MBLndBay_A6
      Animation       = MBLndBay_A6.MBLndBay_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = MBLndBay_A6
      Animation       = MBLndBay_A6.MBLndBay_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = MBLndBay_A6
      Animation       = MBLndBay_A6.MBLndBay_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = MBLndBay_A6
      Animation       = MBLndBay_A6.MBLndBay_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End 
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model            = MBLndBay_A6
      Animation       = MBLndBay_A6.MBLndBay_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model            = MBLndBay_A6
      Animation       = MBLndBay_A6.MBLndBay_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model            = MBLndBay_A6
      Animation       = MBLndBay_A6.MBLndBay_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model            = MBLndBay_A6
      Animation       = MBLndBay_A6.MBLndBay_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  PlacementViewAngle = -45

  ; ***DESIGN parameters ***
  DisplayName       = OBJECT:ReinforcementPad
  Side              = Boss
  EditorSorting     = STRUCTURE
  BuildCost        = 20000
  BuildTime        = 25.0           ; in seconds
  EnergyProduction = -2
  VisionRange    = 200.0           ; Shroud clearing distance AND targeting range
  ShroudClearingRange = 200
  ArmorSet
    Conditions      = None
    Armor           = StructureArmor
    DamageFX        = StructureDamageFXNoShake
  End
  Prerequisites
    Object = Boss_UkraineWarFactory
    Object = Boss_UkraineInternationalHeadquaters
  End
  ;MaxSimultaneousOfType = 2
  CommandSet        = TroopReinforcementCommandSet
  ExperienceValue     = 200 200 200 200  ; Experience point value at each level

  ; *** AUDIO Parameters ***
  VoiceSelect = SupplyDropZoneSelect
  SoundOnDamaged        = BuildingDamagedStateLight
  SoundOnReallyDamaged  = BuildingDestroy

  UnitSpecificSounds
    UnderConstruction     = UnderConstructionLoop
  End

  UnitSpecificSounds
  ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    TurretMoveStart = NoSound
    TurretMoveLoop = NoSound ;These aren't playing properly, will revisit (mp) TurretMoveLoopLoud
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority   = STRUCTURE
  KindOf          = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE FS_TECHNOLOGY AUTO_RALLYPOINT MP_COUNT_FOR_VICTORY SCORE_CREATE IMMUNE_TO_CAPTURE
  Body                 = HiveStructureBody ModuleTag_04;
    MaxHealth          = 1400.0
    InitialHealth      = 1400.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 1200
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
    ;**Careful with these damage types -- because area damage types will already
    ;**damage slaves.
    ;PropagateDamageTypesToSlavesWhenExisting = NONE +SMALL_ARMS +SNIPER +POISON +RADIATION +SURRENDER
    ;SwallowDamageTypesIfSlavesNotExisting = NONE +SNIPER +POISON +SURRENDER; Take no damage if no one to pass this to
  End

  Behavior = DestroyDie ModuleTag_08
    ;nothing
  End

  Behavior             = FXListDie ModuleTag_10
    DeathFX       = FX_StructureMediumDeath
  End

  Behavior = FlammableUpdate ModuleTag_12
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 5       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior                  = CreateObjectDie ModuleTag_13
    CreationList       = OCL_LargeStructureDebris
  End

  Behavior = TransitionDamageFX ModuleTag_14
    ;-------------DESIGNED FOR TINY SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionTinySmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionTinySmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionTinyExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionTinyShockwave
  End

  Behavior       = OCLUpdate ModuleTag_15 ; Context window is a reaction to this, no CommandSet 
    MinDelay     = 300000
    MaxDelay     = 300000
    CreateAtEdge = Yes ; as opposed to just creating on self
    FactionTriggered = Yes ; This requires a controlling player before it works    
    FactionOCL   = Faction:Ukraine                  OCL:OCL_UkraineReinforcementPad
  End

  Behavior            = DefaultProductionExitUpdate ModuleTag_16
    NaturalRallyPoint = X: 0.0  Y:-60.0  Z:0.0 ;NaturalRallyPointX must always match GeometryMajorRadius! -ML
    UseSpawnRallyPoint = Yes
  End

  Behavior = ProductionUpdate ModuleTag_17
    ;nothing
  End

  Geometry            = BOX
  GeometryMajorRadius = 35.0
  GeometryMinorRadius = 52.0
  GeometryHeight      = 15.0
  GeometryIsSmall     = No
  Shadow          = SHADOW_VOLUME
  BuildCompletion = PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
Object Boss_UkraineVehicleBradley

  ; *** ART Parameters ***
  SelectPortrait         = SACBradley_L
  ButtonImage            = SACBradley

  UpgradeCameo1 = Upgrade_AmericaBattleDrone
  UpgradeCameo2 = Upgrade_AmericaScoutDrone
  UpgradeCameo3 = Upgrade_AmericaAdvancedTraining
  UpgradeCameo4 = Upgrade_AmericaHellfireDrone
  UpgradeCameo5 = Upgrade_AmericaBradleyGarnison

  Draw = W3DTankDraw ModuleTag_01
    OkToChangeModelColor = Yes

    DefaultConditionState
      Model               = AVBrad
      Turret              = Turret
      WeaponFireFXBone = PRIMARY MuzzleFX
      WeaponRecoilBone = PRIMARY Barrel
      WeaponFireFXBone = SECONDARY TurretMS
      WeaponLaunchBone = SECONDARY TurretMS
    End

    ConditionState       = REALLYDAMAGED
      Model              = AVBrad_d
    End

    ConditionState       = RUBBLE
      Model              = AVBrad_d
    End

    TrackMarks           = EXTnkTrack.tga
    TreadAnimationRate      = 2.0  ; amount of tread texture to move per second
    TreadDriveSpeedFraction = 0.3  ; fraction of locomotor speed below which treads stop moving.
    TreadPivotSpeedFraction = 0.6  ; fraction of locomotor speed below which we allow pivoting.
  End

  ; ***DESIGN parameters ***
  DisplayName           = OBJECT:Bradley
  Side                  = Boss
  EditorSorting         = VEHICLE
  TransportSlotCount    = 3                 ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions = None
    Weapon = PRIMARY BradleyGun
    Weapon = SECONDARY BradleyMissileWeapon
  End
  ArmorSet
    Conditions      = None
    Armor           = BradleyArmor
    DamageFX        = TruckDamageFX
  End
  BuildCost       = 1000
  BuildTime       = 14.0          ;in seconds
  VisionRange     = 150
  ShroudClearingRange = 320
  ExperienceValue = 50 50 100 150   ;Experience point value at each level
  ExperienceRequired = 0 100 150 300  ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet      = UkraineVehicleBradleyCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = BradleyVoiceSelect
  VoiceMove = BradleyVoiceMove
  VoiceGuard = BradleyVoiceGuard
  VoiceAttack = BradleyVoiceAttack
  VoiceAttackAir = BradleyVoiceAttackTOW
  SoundMoveStart = HumveeMoveStart
  SoundMoveStartDamaged = HumveeMoveStart
  SoundEnter = HumveeEnter
  SoundExit = HumveeExit

  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    ;TurretMoveStart    = NoSound
    VoiceCreate         = BradleyVoiceCreate
    TurretMoveLoop      = TurretMoveLoop
    SoundEject          = PilotSoundEject
    VoiceEject          = PilotVoiceEject
    VoiceCrush          = BradleyVoiceCrush
  ; Required for the W3DTruckDraw module
    TruckLandingSound = RocketBuggyLand
    TruckPowerslideSound = RocketBuggyPowerslide
    VoiceUnload = BradleyVoiceUnload
    VoiceEnter = BradleyVoiceMove
  End


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE TRANSPORT

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 320.0
    InitialHealth   = 320.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 480
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End
  Behavior = TransportAIUpdate ModuleTag_03
    Turret
      TurretTurnRate = 180
      RecenterTime = 5000   ; how long to wait during idle before recentering
      ControlledWeaponSlots = PRIMARY SECONDARY
    End
    AutoAcquireEnemiesWhenIdle = Yes
    MoodAttackCheckRate        = 250
  End
  Locomotor = SET_NORMAL BradleyLocomotor

  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 50.0
  End

  Behavior = TransportContain  ModuleTag_05
    PassengersAllowedToFire = No
    Slots             = 6
    EnterSound          = GarrisonEnter
    ExitSound           = GarrisonExit
    DamagePercentToUnits = 100% ;10%
    AllowInsideKindOf  = INFANTRY
    ExitDelay = 250
    NumberOfExitPaths = 3 ; Defaults to 1.  Set 0 to not use ExitStart/ExitEnd, set higher than 1 to use ExitStart01-nn/ExitEnd01-nn
    GoAggressiveOnExit = Yes ; AI Will tell people to set their mood to Aggressive on exiting
  End

  Behavior = ProductionUpdate ModuleTag_08
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End

  Behavior = SlowDeathBehavior ModuleTag_11
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier = 25
    DestructionDelay = 1
    OCL = INITIAL  OCL_MicrowaveTankDeath
    FX  = FINAL    FX_BattleMasterExplosionOneFinal
    OCL = FINAL    OCL_FinalBradDebris
  End

  Behavior = DestroyDie ModuleTag_12
    DeathTypes = NONE +CRUSHED +SPLATTED
  End

  Behavior = FXListDie ModuleTag_13
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End

  Behavior = CreateCrateDie ModuleTag_CratesChange
    CrateData = SalvageCrateData
    ;CrateData = EliteTankCrateData
    ;CrateData = HeroicTankCrateData
  End

  Behavior = TransitionDamageFX ModuleTag_17
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Geometry = BOX
  GeometryMajorRadius = 17.5
  GeometryMinorRadius = 7.5
  GeometryHeight = 3.75
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;======================================================================================
Object Boss_UkraineInfantryVDVParaTrooper

  ; *** ART Parameters ***
  SelectPortrait         = Marine
  ButtonImage            = Marine
  
  UpgradeCameo1 = Upgrade_InfantryCaptureBuilding

  Draw = W3DModelDraw ModuleTag_01
  OkToChangeModelColor = Yes

    ; idle
    DefaultConditionState
      Model               = RUVDV-MG_SKN
      IdleAnimation       = AIHERO_SKL.AIHERO_STA 0 25
      IdleAnimation       = AIHERO_SKL.AIHERO_IDA
      IdleAnimation       = AIHERO_SKL.AIHERO_IDB
      AnimationMode       = ONCE
      TransitionKey       = TRANS_Stand
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      WeaponLaunchBone = PRIMARY Muzzle
      WeaponMuzzleFlash   = SECONDARY NONE
      HideSubObject     = MUZZLEFX01
    End
 
    
    ; injured idle
    ConditionState        = REALLYDAMAGED
      IdleAnimation       = AIHERO_SKL.AIHERO_ISTA 0 30
      IdleAnimation       = AIHERO_SKL.AIHERO_IIDA
      IdleAnimation       = AIHERO_SKL.AIHERO_IIDB
      AnimationMode       = ONCE
      TransitionKey       = TRANS_StandInjured
    End


    TransitionState     = TRANS_Stand TRANS_StandInjured
      Animation         = AIHERO_SKL.AIHERO_ISTAHIT
      AnimationMode     = ONCE
    End
    
    ; moving
    ConditionState        = MOVING
      Animation           = AIHERO_SKL.AIHERO_RNA 26
      AnimationMode       = LOOP
      Flags               = RANDOMSTART
      TransitionKey       = TRANS_Walking
      ParticleSysBone     = None InfantryDustTrails
      HideSubObject     = MUZZLEFX01
    End
    AliasConditionState = MOVING FIRING_A
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_A
    AliasConditionState = MOVING RELOADING_A
    AliasConditionState = MOVING FIRING_B
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_B
    AliasConditionState = MOVING RELOADING_B

    ; injured moving
    ConditionState     = MOVING REALLYDAMAGED
      Animation        = AIHERO_SKL.AIHERO_IRNA 26
      AnimationMode    = LOOP
      Flags            = RANDOMSTART
      TransitionKey    = TRANS_WalkingInjured
      ParticleSysBone  = None InfantryDustTrails
      HideSubObject     = MUZZLEFX01
    End
    AliasConditionState = MOVING FIRING_A REALLYDAMAGED
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
    AliasConditionState = MOVING RELOADING_A REALLYDAMAGED
    AliasConditionState = MOVING FIRING_B REALLYDAMAGED
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_B REALLYDAMAGED
    AliasConditionState = MOVING RELOADING_B REALLYDAMAGED

    ; Firing animation
    ConditionState      = FIRING_A
      Animation         = AIHERO_SKL.AIHERO_ATA4
      AnimationMode     = ONCE
      ;AnimationSpeedFactorRange = 1.5 1.5
      TransitionKey     = TRANS_FiringA
    End

    ConditionState      = BETWEEN_FIRING_SHOTS_A
      Animation         = AIHERO_SKL.AIHERO_ATA4
      AnimationMode     = MANUAL
      Flags             = START_FRAME_LAST
      WaitForStateToFinishIfPossible = TRANS_FiringA
    End
    AliasConditionState = RELOADING_A

    ; Injured Firing animation
    ConditionState      = FIRING_A REALLYDAMAGED
      Animation         = AIHERO_SKL.AIHERO_IATA
      AnimationMode     = ONCE
      AnimationSpeedFactorRange = 1.5 1.5
      TransitionKey     = TRANS_FiringAInjured
    End

    ConditionState      = BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
      Animation         = AIHERO_SKL.AIHERO_IATA
      AnimationMode     = MANUAL
      Flags             = START_FRAME_LAST
      WaitForStateToFinishIfPossible = TRANS_FiringAInjured
    End
    AliasConditionState = RELOADING_A REALLYDAMAGED

    TransitionState     = TRANS_FiringA TRANS_FiringAInjured
      Animation         = AIHERO_SKL.AIHERO_IATAHIT
      AnimationMode     = ONCE
    End

    ; Stab animations
    ConditionState      = PREATTACK_B 
      Animation         = AIHERO_SKL.AIHERO_ATC
      AnimationMode     = ONCE
      TransitionKey     = TRANS_Stabbing
      HideSubObject     = MUZZLEFX01
    End
    AliasConditionState = PREATTACK_B MOVING
    AliasConditionState = PREATTACK_B FIRING_B
    AliasConditionState = PREATTACK_B BETWEEN_FIRING_SHOTS_B

    ConditionState      = FIRING_B
      Animation         = AIHERO_SKL.AIHERO_ATC
      AnimationMode     = MANUAL
      Flags             = START_FRAME_LAST
      TransitionKey     = TRANS_Stabbing
      HideSubObject     = MUZZLEFX01
    End
    AliasConditionState = BETWEEN_FIRING_SHOTS_B
    AliasConditionState = RELOADING_B

    TransitionState     = TRANS_Stabbing TRANS_Stand
      Animation         = AIHERO_SKL.AIHERO_ATC2
      AnimationMode     = ONCE
    End

    ; Injured Stab animations
    ConditionState      = PREATTACK_B REALLYDAMAGED 
      Animation         = AIHERO_SKL.AIHERO_IATC1
      AnimationMode     = ONCE
      TransitionKey     = TRANS_StabbingInjured
      HideSubObject     = MUZZLEFX01
    End
    AliasConditionState = PREATTACK_B MOVING REALLYDAMAGED
    AliasConditionState = PREATTACK_B FIRING_B REALLYDAMAGED
    AliasConditionState = PREATTACK_B BETWEEN_FIRING_SHOTS_B REALLYDAMAGED

    ConditionState      = FIRING_B REALLYDAMAGED
      Animation         = AIHERO_SKL.AIHERO_IATC2
      AnimationMode     = MANUAL
      Flags             = START_FRAME_LAST
      TransitionKey     = TRANS_StabbingInjured
      HideSubObject     = MUZZLEFX01
    End
    AliasConditionState = BETWEEN_FIRING_SHOTS_B REALLYDAMAGED
    AliasConditionState = RELOADING_B REALLYDAMAGED

    TransitionState     = TRANS_StabbingInjured TRANS_StandInjured
      Animation         = AIHERO_SKL.AIHERO_IATC2
      AnimationMode     = ONCE
    End

    ; cheering
    ConditionState      = SPECIAL_CHEERING
      Animation         = AIHERO_SKL.AIHERO_CHA
      AnimationMode     = ONCE
    End
    
    ; injured cheering
    ConditionState      = SPECIAL_CHEERING REALLYDAMAGED
      Animation         = AIHERO_SKL.AIHERO_ICHA
      AnimationMode     = ONCE
    End
    
    ; climbing
    ConditionState      = CLIMBING
      Animation         = AIHERO_SKL.AIHERO_CLMID
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Climbing
    End
    AliasConditionState = RAPPELLING
    AliasConditionState = CLIMBING REALLYDAMAGED
    AliasConditionState = RAPPELLING REALLYDAMAGED

    ConditionState      = CLIMBING MOVING
      Animation         = AIHERO_SKL.AIHERO_CLMUP
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Climbing
    End
    AliasConditionState = CLIMBING MOVING REALLYDAMAGED

    ConditionState      = RAPPELLING MOVING
      Animation         = AIHERO_SKL.AIHERO_CLMUP
      AnimationMode     = LOOP_BACKWARDS
      TransitionKey     = TRANS_Climbing
    End
    AliasConditionState = RAPPELLING MOVING REALLYDAMAGED

    ; dying anims
    ConditionState      = DYING
      Animation         = AIHERO_SKL.AIHERO_DTA
      Animation         = AIHERO_SKL.AIHERO_DTB
      Animation         = AIHero_SKL.AIHero_IDTA
      Animation         = AIHero_SKL.AIHero_IDTB
      AnimationMode     = ONCE
      TransitionKey     = TRANS_Dying
    End
    AliasConditionState = RAPPELLING DYING
    AliasConditionState = CLIMBING DYING

    TransitionState     = TRANS_Dying TRANS_Flailing
      Animation         = AIHERO_SKL.AIHERO_ADTG21
      AnimationMode     = ONCE
    End

    ConditionState      = DYING EXPLODED_FLAILING
      Animation         = AIHERO_SKL.AIHERO_ADTG22
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Flailing
    End

    ConditionState      = DYING EXPLODED_BOUNCING
      Animation         = AIHERO_SKL.AIHERO_ADTG23
      AnimationMode     = ONCE
      TransitionKey     = None
    End

    ; misc anims
    ConditionState      = FREEFALL
      Animation         = AIHERO_SKL.AIHERO_PFL
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Falling
    End
    AliasConditionState = FREEFALL REALLYDAMAGED
    AliasConditionState = FREEFALL DYING

    ConditionState      = PARACHUTING
      Animation         = AIHERO_SKL.AIHERO_PHG
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Chute
    End
    AliasConditionState = PARACHUTING REALLYDAMAGED
    AliasConditionState = PARACHUTING DYING

    TransitionState     = TRANS_Falling TRANS_Chute
      Animation         = AIHERO_SKL.AIHERO_POP
      AnimationMode     = ONCE
      Flags             = PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
    End

    TransitionState     = TRANS_Chute TRANS_Stand
      Animation         = AIHERO_SKL.AIHERO_PTD
      AnimationMode     = ONCE
    End

    TransitionState     = TRANS_Chute TRANS_StandInjured
      Animation         = AIHERO_SKL.AIHERO_PTD
      AnimationMode     = ONCE
    End


    ; ------- Bldg-capture

    ConditionState      = UNPACKING
      Model             = RUVDV-MG_SKNF
      Animation         = NICNSC_F_SKL.NICNSC_F_FDP1
      AnimationMode     = ONCE
    End
    AliasConditionState = UNPACKING REALLYDAMAGED

    ConditionState      = RAISING_FLAG
      Model             = RUVDV-MG_SKNF
      Animation         = NICNSC_F_SKL.NICNSC_F_FDP2
      AnimationMode     = ONCE
      TransitionKey     = TRANS_Raising
    End
    AliasConditionState = RAISING_FLAG REALLYDAMAGED

    ConditionState      = PACKING
      Model             = RUVDV-MG_SKNF
      Animation         = NICNSC_F_SKL.NICNSC_F_FDP1
      AnimationMode     = ONCE_BACKWARDS
      Flags             = START_FRAME_LAST
      TransitionKey     = TRANS_Packing
    End
    AliasConditionState = PACKING REALLYDAMAGED

    TransitionState     = TRANS_Raising TRANS_Packing
      Model             = RUVDV-MG_SKNF
      Animation         = NICNSC_F_SKL.NICNSC_F_FDP2
      AnimationMode     = ONCE_BACKWARDS
      Flags             = START_FRAME_LAST
    End

  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:UkraineVDV
  Side                = Boss
  EditorSorting       = INFANTRY
  TransportSlotCount  = 1                 ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions = None 
    Weapon = PRIMARY PKPMachineGunWeapon
    AutoChooseSources = PRIMARY FROM_SCRIPT FROM_AI
  End
  ArmorSet
    Conditions      = None
    Armor           = HumanArmor
    DamageFX        = InfantryDamageFX
  End
  VisionRange = 190
  ShroudClearingRange = 190
  Prerequisites
    Object = Boss_UkraineBarracks
  End
  BuildCost     = 15
  BuildTime     = 6.0          ;in seconds      

  ExperienceValue = 15 15 30 50   ;Experience point value at each level
  ExperienceRequired = 0 60 100 200  ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet    = RussianInfantryVDVParatrooperCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = VDVVoiceSelectRPK
  VoiceMove = VDVVoiceMove
  VoiceGuard = VDVVoiceMove ;VDVVoiceGuard
  VoiceAttack = VDVVoiceAttackRPK
  VoiceFear = VDVVoiceFear
  VoiceTaskComplete = VDVVoiceCaptureBuildingCompleted
  UnitSpecificSounds
    VoiceGarrison   = VDVVoiceMove ;VDVVoiceGarrison
    VoiceCreate     = VDVVoiceCreateMG
    VoiceSubdue     = RedGuardVoiceSubdue
    VoiceEnter      = VDVVoiceMove
    VoiceEnterHostile = VDVVoiceMove
    VoiceGetHealed      = VDVVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = SALVAGER PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY SCORE PARACHUTABLE

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 150.0
    InitialHealth   = 150.0
  End

  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle = Yes
  End

  Behavior = CommandButtonHuntUpdate  ModuleTag_04 ; allows use of command button hunt script with this unit. 
  End

  Locomotor = SET_NORMAL RedguardLocomotor
  ;Locomotor = SET_NORMAL_UPGRADED ColonelBurtonGroundLocomotor

  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 5.0
  End

;Upgrades----------------------------------------------------------
  Behavior = UnpauseSpecialPowerUpgrade Upgrade_01
    SpecialPowerTemplate = SpecialAbilityRedGuardCaptureBuilding
    TriggeredBy = Upgrade_InfantryCaptureBuilding
  End

  Behavior = SpecialAbility Capture_01
    SpecialPowerTemplate      = SpecialAbilityRedGuardCaptureBuilding
    UpdateModuleStartsAttack  = Yes
    StartsPaused              = Yes
    InitiateSound         = VDVVoiceCaptureBuilding
  End
  Behavior = SpecialAbilityUpdate Capture_02
    SpecialPowerTemplate  = SpecialAbilityRedGuardCaptureBuilding
    StartAbilityRange  = 5.0
    UnpackTime            = 3000  ; (changing this will scale anim speed)
    PreparationTime       = 20000 ; time to complete hack once prepared (changing this will scale anim speed)
    PackTime              = 2000  ; (changing this will scale anim speed)
    DoCaptureFX           = Yes
    AwardXPForTriggering  = 4
    ;SkillPointsForTriggering = ???  -- Dustin, fill me out if you want different balance values.
  End

;Deaths-------------------------------------------------------------
  Behavior = SlowDeathBehavior DeathTag_01
    DeathTypes          = ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA
    SinkDelay           = 3000
    SinkRate            = 50.0     ; in Dist/Sec
    ;DestructionDelay    = 3000
    FX                  = INITIAL FX_DieInfantryVDV
    OCL                 = INITIAL OCL_DeadMachineGunner
  End
  Behavior = SlowDeathBehavior DeathTag_02
    DeathTypes          = NONE +CRUSHED +SPLATTED
    SinkDelay           = 3000
    SinkRate            = 50.0     ; in Dist/Sec
    ;DestructionDelay    = 3000
    FX                  = INITIAL FX_GIDieCrushed
    OCL                 = INITIAL OCL_DeadMachineGunner
  End
  Behavior = SlowDeathBehavior DeathTag_03
    DeathTypes          = NONE +EXPLODED
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_DieInfantryRussia
    FlingForce          = 8
    FlingForceVariance  = 3
    FlingPitch          = 60
    FlingPitchVariance  = 10
  End
  Behavior = SlowDeathBehavior DeathTag_04
    DeathTypes          = NONE +BURNED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByFlameRussia
    OCL                 = INITIAL OCL_FlamingInfantry
  End
  Behavior = SlowDeathBehavior DeathTag_05
    DeathTypes          = NONE +POISONED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinRussia
    OCL                 = INITIAL OCL_ToxicInfantry
  End
  Behavior = SlowDeathBehavior DeathTag_06 ; don't forget to give it a new, unique module tag
    DeathTypes          = NONE +POISONED_BETA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinRussia
    OCL                 = INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
  End
  Behavior = SlowDeathBehavior DeathTag_07
    DeathTypes          = NONE +POISONED_GAMMA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinRussia
    OCL                 = INITIAL OCL_ToxicInfantryGamma
  End
;Stealth-------------------------------------------------------------
;---------------------------------------------------------------------

  Behavior = PoisonedBehavior ModuleTag_07
    PoisonDamageInterval = 100  ; Every this many msec I will retake the poison damage dealt me...
    PoisonDuration = 3000       ; ... for this long after last hit by poison damage
  End
  Behavior = ProductionUpdate ModuleTag_08
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End

  Behavior = StealthUpdate ModuleStealth_GPSScramblerGenericStealthModule
    StealthDelay                = 2000 ; msec
    InnateStealth               = Yes
    StealthForbiddenConditions  = ATTACKING USING_ABILITY
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
    RequiredStatus = REASSIGN_PARKING
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 7.0
  GeometryMinorRadius = 7.0
  GeometryHeight = 12.0
  GeometryIsSmall = Yes
  Shadow = SHADOW_DECAL
  BuildCompletion = APPEARS_AT_RALLY_POINT
  ;Scale = 0.94
End

;------------------------------------------------------------------------------
Object Boss_UkraineInfantryVDVRPGParaTrooper

  ; *** ART Parameters ***
  SelectPortrait         = SAMissleDefender_L
  ButtonImage            = SAMissleDefender

  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes
  
  
    DefaultConditionState
      Model             = RUVDV-RPG_SKN
      IdleAnimation     = NIMSST_SKL.NIMSST_STA 0 30
      IdleAnimation     = NIMSST_SKL.NIMSST_IDA
      IdleAnimation     = NIMSST_SKL.NIMSST_IDB
      AnimationMode     = ONCE
      AnimationSpeedFactorRange = 0.8 1.2
      TransitionKey     = TRANS_Stand
      WeaponMuzzleFlash = PRIMARY MuzzleFX
      WeaponFireFXBone  = PRIMARY Muzzle
      WeaponLaunchBone  = PRIMARY Muzzle
      WeaponMuzzleFlash = SECONDARY MuzzleFX
      WeaponFireFXBone  = SECONDARY Muzzle
      WeaponLaunchBone  = SECONDARY Muzzle
    End
    AliasConditionState = REALLYDAMAGED

    ConditionState      = FIRING_A FIRING_B
      Animation         = NIMSST_SKL.NIMSST_ATA 
      AnimationMode     = ONCE
      TransitionKey     = TRANS_START_FIRING
    End
    AliasConditionState = REALLYDAMAGED FIRING_A FIRING_B
    
    ConditionState      = BETWEEN_FIRING_SHOTS_A BETWEEN_FIRING_SHOTS_B
      Animation         = NIMSST_SKL.NIMSST_STA
      AnimationMode     = ONCE
      ; this is basically a trick: this guy has a nontrivial animation for firing,
      ; and a long recycle time between shots. we want him to finish his fire animation
      ; (unless he's ordered to do something else), so this is just a handy trick that
      ; says, "if the previous state had this transition key, allow it to finish before
      ; switching to us, if possible".
      WaitForStateToFinishIfPossible = TRANS_START_FIRING
    End
    AliasConditionState = REALLYDAMAGED BETWEEN_FIRING_SHOTS_A BETWEEN_FIRING_SHOTS_B

    ConditionState      = MOVING
      Animation         = NIMSST_SKL.NIMSST_RNA 20
      AnimationMode     = LOOP
      Flags             = RANDOMSTART
      TransitionKey     = None
      ParticleSysBone   = None InfantryDustTrails
    End
    AliasConditionState = REALLYDAMAGED MOVING
    AliasConditionState = MOVING ATTACKING
    AliasConditionState = MOVING ATTACKING REALLYDAMAGED

    ConditionState      = RELOADING_A RELOADING_B
      Animation         = NIMSST_SKL.NIMSST_ATA 10
      AnimationMode     = ONCE
      ;WeaponLaunchBone = PRIMARY WeaponA
    End
    AliasConditionState = MOVING RELOADING_A RELOADING_B
    AliasConditionState = REALLYDAMAGED MOVING RELOADING_A RELOADING_B

    ConditionState      = DYING
      Animation         = NIMSST_SKL.NIMSST_DTA
      Animation         = NIMSST_SKL.NIMSST_DTB
      AnimationSpeedFactorRange = 0.9 1.25
      AnimationMode     = ONCE
      TransitionKey     = TRANS_Dying
    End
    AliasConditionState = DYING RUBBLE

    TransitionState     = TRANS_Dying TRANS_Flailing
      Animation         = NIMSST_SKL.NIMSST_ADTD1
      AnimationMode     = ONCE
    End

    ConditionState      = DYING EXPLODED_FLAILING
      Animation         = NIMSST_SKL.NIMSST_ADTD2
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Flailing
    End

    ConditionState      = DYING EXPLODED_BOUNCING
      Animation         = NIMSST_SKL.NIMSST_ADTD3
      AnimationMode     = ONCE
      TransitionKey     = None
    End

    ;PARACHUTING ANIMATIONS
    ConditionState      = FREEFALL
      Animation         = NIMSST_SKL.NIMSST_POP
      AnimationMode     = ONCE
      TransitionKey     = TRANS_Falling
    End
    AliasConditionState = FREEFALL REALLYDAMAGED
    AliasConditionState = FREEFALL DYING
    
    ConditionState      = PARACHUTING
      Animation         = NIMSST_SKL.NIMSST_PHG
      AnimationMode     = LOOP
      Flags             = PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
      TransitionKey     = TRANS_Chute
    End
    AliasConditionState = PARACHUTING REALLYDAMAGED
    AliasConditionState = PARACHUTING DYING
    
   ; TransitionState     = TRANS_Falling TRANS_Chute
   ;   Animation         = NIMSST_SKL.NIMSST_POP
   ;   AnimationMode     = ONCE
   ;   Flags             = PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
   ; End
    
    TransitionState     = TRANS_Chute TRANS_Stand
      Animation         = NIMSST_SKL.NIMSST_PDN
      AnimationMode     = ONCE
    End
  End


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:UkraineVDV
  Side = Boss
  EditorSorting = INFANTRY
  TransportSlotCount = 1                 ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions = None 
    Weapon = PRIMARY RPG16MissileWeapon
    ;Weapon = SECONDARY RussiaPRO_M
    Weapon = TERTIARY RPG16MissileWeaponAA
  End

  ArmorSet
    Conditions      = None
    Armor           = HumanArmor
    DamageFX        = InfantryDamageFX
  End

  VisionRange = 190
  ShroudClearingRange = 190
  Prerequisites
    Object = Boss_UkraineBarracks
  End
  BuildCost = 20
  BuildTime = 7.0          ;in seconds    

  ExperienceValue = 15 15 30 50   ;Experience point value at each level
  ExperienceRequired = 0 150 250 400  ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet      = GenericCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = VDVVoiceSelectRPG ;VDVRPGVoiceSelect
  VoiceMove = VDVVoiceMove
  VoiceGuard = VDVVoiceMove ;VDVVoiceGuard
  VoiceAttack = VDVVoiceAttackRPG ;VDVRPGVoiceAttack
  VoiceAttackAir = VDVVoiceAttackRPG ;VDVRPGVoiceAttack
  VoiceFear = VDVVoiceFear

  UnitSpecificSounds
    VoiceGarrison   = VDVVoiceMove ;VDVVoiceGarrison
    VoiceCreate     = VDVVoiceCreateRPG
    ;VoiceSubdue     = VDVRPGVoiceAttackThermobaric
    ;VoiceClearBuilding  = VDVRPGVoiceClearGarrison
    VoiceEnter      = VDVVoiceMove
    VoiceEnterHostile = VDVVoiceMove
    VoiceGetHealed      = VDVVoiceMove
    ;VoicePrimaryWeaponMode = VDVRPGModeAntiTank
    ;VoiceSecondaryWeaponMode = VDVRPGModeThermobaric
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = SALVAGER PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY SCORE

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 150
    InitialHealth   = 150
  End

  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle = Yes
  End

  Locomotor = SET_NORMAL RedguardLocomotor
  ;Locomotor = SET_NORMAL_UPGRADED ColonelBurtonGroundLocomotor

  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 5.0
  End

;Deaths-------------------------------------------------------------
  Behavior = SlowDeathBehavior DeathTag_01
    DeathTypes          = ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA
    SinkDelay           = 3000
    SinkRate            = 50.0     ; in Dist/Sec
    ;DestructionDelay    = 3000
    FX                  = INITIAL FX_DieInfantryVDV
    OCL                 = INITIAL OCL_DeadVDVRPG
  End
  Behavior = SlowDeathBehavior DeathTag_02
    DeathTypes          = NONE +CRUSHED +SPLATTED
    SinkDelay           = 3000
    SinkRate            = 50.0     ; in Dist/Sec
    ;DestructionDelay    = 8000
    FX                  = INITIAL FX_GIDieCrushed
    OCL                 = INITIAL OCL_DeadVDVRPG
  End
  Behavior = SlowDeathBehavior DeathTag_03
    DeathTypes          = NONE +EXPLODED
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_DieInfantryRussia
    FlingForce          = 8
    FlingForceVariance  = 3
    FlingPitch          = 60
    FlingPitchVariance  = 10
  End
  Behavior = SlowDeathBehavior DeathTag_04
    DeathTypes          = NONE +BURNED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByFlameRussia
    OCL                 = INITIAL OCL_FlamingInfantry
  End
  Behavior = SlowDeathBehavior DeathTag_05
    DeathTypes          = NONE +POISONED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinRussia
    OCL                 = INITIAL OCL_ToxicInfantry
  End
  Behavior = SlowDeathBehavior DeathTag_06 ; don't forget to give it a new, unique module tag
    DeathTypes          = NONE +POISONED_BETA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinRussia
    OCL                 = INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
  End

  Behavior = SlowDeathBehavior DeathTag_07
    DeathTypes          = NONE +POISONED_GAMMA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinRussia
    OCL                 = INITIAL OCL_ToxicInfantryGamma
  End
;Stealth-------------------------------------------------------------
;---------------------------------------------------------------------

  Behavior = PoisonedBehavior ModuleTag_06
    PoisonDamageInterval = 100  ; Every this many msec I will retake the poison damage dealt me...
    PoisonDuration = 3000       ; ... for this long after last hit by poison damage
  End

  Behavior = ProductionUpdate ModuleTag_07
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End

  Behavior = StealthUpdate ModuleStealth_GPSScramblerGenericStealthModule
    StealthDelay                = 2000 ; msec
    InnateStealth               = Yes
    StealthForbiddenConditions  = ATTACKING USING_ABILITY
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
    RequiredStatus = REASSIGN_PARKING
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 8.0
  GeometryMinorRadius = 8.0
  GeometryHeight = 12.0
  GeometryIsSmall = Yes
  Shadow = SHADOW_DECAL
  BuildCompletion = APPEARS_AT_RALLY_POINT
  ;Scale = 0.94
End

;------------------------------------------------------
Object Boss_UkraineInfantrySniper

    ; *** ART Parameters ***
  SelectPortrait         = ChinaSniper
  ButtonImage            = ChinaSniper
  
  Draw = W3DModelDraw ModuleTag_01

    OkToChangeModelColor = Yes

    DefaultConditionState
      Model = RUSNP_SKN
      IdleAnimation = AIPFDR_SKL.AIPFDR_STA 
      IdleAnimation = AIPFDR_SKL.AIPFDR_IDA
      AnimationMode = ONCE
      WeaponFireFXBone = PRIMARY Muzzle
      WeaponMuzzleFlash = PRIMARY MuzzleFX
      WeaponLaunchBone = PRIMARY Muzzle
      WeaponFireFXBone = SECONDARY Muzzle
      WeaponMuzzleFlash = SECONDARY MuzzleFX
      WeaponLaunchBone = SECONDARY Muzzle
      WeaponFireFXBone = TERTIARY WEAPONA
      WeaponLaunchBone = TERTIARY WEAPONA
      TransitionKey = TRANS_Standing
      ;HideSubObject       = OBJECT01
      HideSubObject      = Laser
    End
    AliasConditionState = REALLYDAMAGED

    ConditionState = MOVING
      Animation = AIPFDR_SKL.AIPFDR_RNA 25
      AnimationMode = LOOP
      Flags = RANDOMSTART
      TransitionKey = TRANS_Standing
      ParticleSysBone   = None InfantryDustTrails
      HideSubObject      = Laser
    End
    AliasConditionState = MOVING REALLYDAMAGED

    ConditionState  = FIRING_A 
      Animation     = AIPFDR_SKL.AIPFDR_ATB                 ; recoil in standing position
      AnimationMode = ONCE
      TransitionKey = TRANS_FiringA
      HideSubObject      = Laser
    End
    AliasConditionState = FIRING_A MOVING
    AliasConditionState = FIRING_A MOVING REALLYDAMAGED
    AliasConditionState = FIRING_A REALLYDAMAGED

    ConditionState  = BETWEEN_FIRING_SHOTS_A
      Animation     = AIPFDR_SKL.AIPFDR_ATBST               ; motionless in standing position
      AnimationMode = ONCE
      WaitForStateToFinishIfPossible = TRANS_FiringA
      HideSubObject      = Laser
    End
    AliasConditionState = BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
    AliasConditionState = RELOADING_A
    AliasConditionState = RELOADING_A REALLYDAMAGED


    ConditionState  = FIRING_B
      Animation     = AIPFDR_SKL.AIPFDR_ATB                 ; recoil in standing position
      AnimationMode = ONCE
      TransitionKey = TRANS_FiringB
      HideSubObject      = Laser
    End
    AliasConditionState = FIRING_B MOVING
    AliasConditionState = FIRING_B MOVING REALLYDAMAGED
    AliasConditionState = FIRING_B REALLYDAMAGED

    ConditionState  = BETWEEN_FIRING_SHOTS_B
      Animation     = AIPFDR_SKL.AIPFDR_ATBST               ; motionless in standing position
      AnimationMode = ONCE
      WaitForStateToFinishIfPossible = TRANS_FiringB
      HideSubObject      = Laser
    End
    AliasConditionState = BETWEEN_FIRING_SHOTS_B REALLYDAMAGED
    AliasConditionState = RELOADING_B
    AliasConditionState = RELOADING_B REALLYDAMAGED

    ConditionState  = FIRING_C
      Model = RUSNP2_SKN
      Animation     = RUSNP2_SKL.RUSNP2_ATALP2
      AnimationMode = ONCE
      TransitionKey = TRANS_FIRING_C
      ShowSubObject      = Laser
      WeaponFireFXBone = TERTIARY WEAPONA
      WeaponLaunchBone = TERTIARY WEAPONA
    End

    ConditionState  = BETWEEN_FIRING_SHOTS_C
      Model = RUSNP2_SKN
      Animation     = RUSNP2_SKL.RUSNP2_ATALP3
      AnimationMode = ONCE
      TransitionKey = TRANS_FIRING_C_SNOW
      ShowSubObject      = Laser
      WeaponFireFXBone = TERTIARY WEAPONA
      WeaponLaunchBone = TERTIARY WEAPONA
    End
    AliasConditionState = RELOADING_C
    AliasConditionState = PREATTACK_C

    ConditionState = DYING
      Animation = AIPFDR_SKL.AIPFDR_DTA
      AnimationMode = ONCE
      TransitionKey = TRANS_Dying
    End
    
    TransitionState = TRANS_Dying TRANS_Flailing
      Animation = AIPFDR_SKL.AIPFDR_ADTA1
      AnimationMode = ONCE
    End

    ConditionState = DYING EXPLODED_FLAILING
      Animation = AIPFDR_SKL.AIPFDR_ADTA2
      AnimationMode = LOOP
      TransitionKey = TRANS_Flailing
    End

    ConditionState = DYING EXPLODED_BOUNCING
      Animation = AIPFDR_SKL.AIPFDR_ADTA3
      AnimationMode = ONCE
      TransitionKey = None
    End

    ConditionState = FREEFALL
      Animation = AIPFDR_SKL.AIPFDR_PFL
      AnimationMode = LOOP
      TransitionKey = TRANS_Falling
    End
    AliasConditionState = FREEFALL DYING

    ConditionState = PARACHUTING
      Animation = AIPFDR_SKL.AIPFDR_PHG
      AnimationMode = LOOP
      Flags = PRISTINE_BONE_POS_IN_FINAL_FRAME  
      ;our bone positions should come from the last frame, rather than the first
      TransitionKey = TRANS_Chute
    End
    AliasConditionState = PARACHUTING DYING


    TransitionState = TRANS_Falling TRANS_Chute
      Animation = AIPFDR_SKL.AIPFDR_POP
      AnimationMode = ONCE
      Flags = PRISTINE_BONE_POS_IN_FINAL_FRAME  
      ;our bone positions should come from the last frame, rather than the first
    End

    TransitionState = TRANS_Chute TRANS_Standing
      Animation = AIPFDR_SKL.AIPFDR_PTD
      AnimationMode = ONCE
    End

;--------------------SNOW----------------------------

    ConditionState = SNOW
      Model = RUSNP_SKN_S
      IdleAnimation = AIPFDR_SKL.AIPFDR_STA 
      IdleAnimation = AIPFDR_SKL.AIPFDR_IDA
      AnimationMode = ONCE
      WeaponFireFXBone = PRIMARY Muzzle
      WeaponMuzzleFlash = PRIMARY MuzzleFX
      WeaponLaunchBone = PRIMARY Muzzle
      WeaponFireFXBone = SECONDARY Muzzle
      WeaponMuzzleFlash = SECONDARY MuzzleFX
      WeaponLaunchBone = SECONDARY Muzzle
      WeaponFireFXBone = TERTIARY WEAPONA
      WeaponLaunchBone = TERTIARY WEAPONA
      TransitionKey = TRANS_Standing_SNOW
      ;HideSubObject       = OBJECT01
      HideSubObject      = Laser
    End
    AliasConditionState = SNOW REALLYDAMAGED

    ConditionState = SNOW MOVING
      Model = RUSNP_SKN_S
      Animation = AIPFDR_SKL.AIPFDR_RNA 25
      AnimationMode = LOOP
      Flags = RANDOMSTART
      TransitionKey = TRANS_Standing_SNOW
      ParticleSysBone   = None InfantryDustTrails
      HideSubObject      = Laser
    End
    AliasConditionState = SNOW MOVING REALLYDAMAGED

    ConditionState  = SNOW FIRING_A 
      Model = RUSNP_SKN_S
      Animation     = AIPFDR_SKL.AIPFDR_ATB                 ; recoil in standing position
      AnimationMode = ONCE
      TransitionKey = TRANS_FiringA_SNOW
      HideSubObject      = Laser
    End
    AliasConditionState = SNOW FIRING_A MOVING
    AliasConditionState = SNOW FIRING_A MOVING REALLYDAMAGED
    AliasConditionState = SNOW FIRING_A REALLYDAMAGED

    ConditionState  = SNOW BETWEEN_FIRING_SHOTS_A
      Model = RUSNP_SKN_S
      Animation     = AIPFDR_SKL.AIPFDR_ATBST               ; motionless in standing position
      AnimationMode = ONCE
      WaitForStateToFinishIfPossible = TRANS_FiringA_SNOW
      HideSubObject      = Laser
    End
    AliasConditionState = SNOW BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
    AliasConditionState = SNOW RELOADING_A
    AliasConditionState = SNOW RELOADING_A REALLYDAMAGED


    ConditionState  = SNOW FIRING_B
      Model = RUSNP_SKN_S
      Animation     = AIPFDR_SKL.AIPFDR_ATB                 ; recoil in standing position
      AnimationMode = ONCE
      TransitionKey = TRANS_FiringB_SNOW
      HideSubObject      = Laser
    End
    AliasConditionState = SNOW FIRING_B MOVING
    AliasConditionState = SNOW FIRING_B MOVING REALLYDAMAGED
    AliasConditionState = SNOW FIRING_B REALLYDAMAGED

    ConditionState  = SNOW BETWEEN_FIRING_SHOTS_B
      Model = RUSNP_SKN_S
      Animation     = AIPFDR_SKL.AIPFDR_ATBST               ; motionless in standing position
      AnimationMode = ONCE
      WaitForStateToFinishIfPossible = TRANS_FiringB_SNOW
      HideSubObject      = Laser
    End
    AliasConditionState = SNOW BETWEEN_FIRING_SHOTS_B REALLYDAMAGED
    AliasConditionState = SNOW RELOADING_B
    AliasConditionState = SNOW RELOADING_B REALLYDAMAGED

    ConditionState  = SNOW FIRING_C
      Model = RUSNP2_SKN_S
      Animation     = RUSNP2_SKL.RUSNP2_ATALP2
      AnimationMode = ONCE
      TransitionKey = TRANS_FIRING_C_SNOW
      ShowSubObject      = Laser
      WeaponFireFXBone = TERTIARY WEAPONA
      WeaponLaunchBone = TERTIARY WEAPONA
    End

    ConditionState  = SNOW BETWEEN_FIRING_SHOTS_C
      Model = RUSNP2_SKN_S
      Animation     = RUSNP2_SKL.RUSNP2_ATALP3
      AnimationMode = ONCE
      TransitionKey = TRANS_FIRING_C_SNOW
      ShowSubObject      = Laser
      WeaponFireFXBone = TERTIARY WEAPONA
      WeaponLaunchBone = TERTIARY WEAPONA
    End
    AliasConditionState = SNOW RELOADING_C
    AliasConditionState = SNOW PREATTACK_C

    ConditionState = SNOW DYING
      Model = RUSNP_SKN_S
      Animation = AIPFDR_SKL.AIPFDR_DTA
      AnimationMode = ONCE
      TransitionKey = TRANS_Dying_SNOW
    End
    
    TransitionState = TRANS_Dying_SNOW TRANS_Flailing_SNOW
      Model = RUSNP_SKN_S
      Animation = AIPFDR_SKL.AIPFDR_ADTA1
      AnimationMode = ONCE
    End

    ConditionState = SNOW DYING EXPLODED_FLAILING
      Model = RUSNP_SKN_S
      Animation = AIPFDR_SKL.AIPFDR_ADTA2
      AnimationMode = LOOP
      TransitionKey = TRANS_Flailing_SNOW
    End

    ConditionState = SNOW DYING EXPLODED_BOUNCING
      Model = RUSNP_SKN_S
      Animation = AIPFDR_SKL.AIPFDR_ADTA3
      AnimationMode = ONCE
      TransitionKey = None
    End

    ConditionState = SNOW FREEFALL
      Model = RUSNP_SKN_S
      Animation = AIPFDR_SKL.AIPFDR_PFL
      AnimationMode = LOOP
      TransitionKey = TRANS_Falling_SNOW
    End
    AliasConditionState = SNOW FREEFALL DYING

    ConditionState = SNOW PARACHUTING
      Model = RUSNP_SKN_S
      Animation = AIPFDR_SKL.AIPFDR_PHG
      AnimationMode = LOOP
      Flags = PRISTINE_BONE_POS_IN_FINAL_FRAME  
      ;our bone positions should come from the last frame, rather than the first
      TransitionKey = TRANS_Chute_SNOW
    End
    AliasConditionState = SNOW PARACHUTING DYING


    TransitionState = TRANS_Falling_SNOW TRANS_Chute_SNOW
      Model = RUSNP_SKN_S
      Animation = AIPFDR_SKL.AIPFDR_POP
      AnimationMode = ONCE
      Flags = PRISTINE_BONE_POS_IN_FINAL_FRAME  
      ;our bone positions should come from the last frame, rather than the first
    End

    TransitionState = TRANS_Chute_SNOW TRANS_Standing_SNOW
      Model = RUSNP_SKN_S
      Animation = AIPFDR_SKL.AIPFDR_PTD
      AnimationMode = ONCE
    End

  End

;  Draw = W3DModelDraw ModuleTag_02;
;
;    DefaultConditionState
;      Model = RUSN_Targeter
;      WeaponFireFXBone = TERTIARY GUN02 ;WEAPONA
;      WeaponLaunchBone = TERTIARY GUN02 ;WEAPONA
;    End
;    AliasConditionState = BETWEEN_FIRING_SHOTS_C
;    AliasConditionState = RELOADING_C
;    AliasConditionState = PREATTACK_C
;  End


  
  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Azov
  Side = Boss
  EditorSorting = INFANTRY
  TransportSlotCount = 1                 ;how many "slots" we take in a transport (0 == not transportable)
  
  WeaponSet
    Conditions = None 
    Weapon = PRIMARY VintorezRifle
    ;Weapon = SECONDARY HoldFire
    ;Weapon = TERTIARY RussiaRPG_27Missile ;Controlled by special ability
    ;AutoChooseSources = TERTIARY NONE
  End

  ArmorSet
    Conditions      = None
    Armor           = HumanArmor
    DamageFX        = InfantryDamageFX
  End

  VisionRange = 260
  ShroudClearingRange = 225
  Prerequisites
    Object = Boss_UkraineBarracks
  End
  BuildCost = 50
  BuildTime = 10.0          ;in seconds  
  
  ExperienceValue         = 35 35 55 80  ;Experience point value at each level
  ExperienceRequired      = 0 100 200 400   ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrushableLevel      = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet      = GenericCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = SV98VoiceSelect
  VoiceMove = SV98VoiceMove
  VoiceGuard = SV98VoiceGuard
  VoiceAttack = SV98VoiceAttack
  SoundStealthOn = StealthOn
  SoundStealthOff = StealthOff
  
  UnitSpecificSounds
    VoiceCreate          = SV98VoiceCreate
    VoiceGarrison = SV98VoiceGARRISON
    VoiceEnter = SV98VoiceGARRISON
    VoiceEnterHostile =  SV98VoiceMove
    VoiceGetHealed      = SV98VoiceWOUNDED
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = SALVAGER PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY STEALTH_GARRISON SCORE CANNOT_RETALIATE FS_SUPERWEAPON FS_TECHNOLOGY 

  Body = ActiveBody ModuleTag_03
    MaxHealth       = 185.0
    InitialHealth   = 185.0
  End

  Behavior = AIUpdateInterface ModuleTag_04
    AutoAcquireEnemiesWhenIdle = Yes STEALTHED
    MoodAttackCheckRate        = 250
  End

  ; Behavior = AutoFindHealingUpdate   ModuleTag_05 ; This update will have the unit go to a healing station if injured. jba 
    ; ScanRate = 1000 ; once a second.
    ; ScanRange = 300 ;
    ; NeverHeal = 0.85 ;  don't heal if we are > 85% healthy.
    ; AlwaysHeal = 0.25 ; if we get below 25%, find healing right away.
  ; End

  Locomotor = SET_NORMAL ColonelBurtonGroundLocomotor

  Behavior = PhysicsBehavior ModuleTag_06
    Mass = 5.0
  End

;Upgrades----------------------------------------------------------
;  Behavior = WeaponSetUpgrade Upgrade_01
;    TriggeredBy = Upgrade_BallisticCommandset
;  End
;Deaths-------------------------------------------------------------
; --- begin Death modules ---
  Behavior = SlowDeathBehavior DeathTag_01
    DeathTypes          = ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA
    SinkDelay           = 3000
    SinkRate            = 50.0     ; in Dist/Sec
    ;DestructionDelay    = 3000
    FX                  = INITIAL FX_DieInfantryRussia
    OCL                 = INITIAL OCL_DeadSpetsNaz
  End
  Behavior = SlowDeathBehavior DeathTag_02
    DeathTypes          = NONE +CRUSHED +SPLATTED
    SinkDelay           = 3000
    SinkRate            = 50.0     ; in Dist/Sec
    ;DestructionDelay    = 3000
    FX                  = INITIAL FX_GIDieCrushed
    OCL                 = INITIAL OCL_DeadSpetsNaz
  End
  Behavior = SlowDeathBehavior DeathTag_03
    DeathTypes          = NONE +EXPLODED
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_DieInfantryRussia
    FlingForce          = 8
    FlingForceVariance  = 3
    FlingPitch          = 60
    FlingPitchVariance  = 10
  End
  Behavior = SlowDeathBehavior DeathTag_04
    DeathTypes          = NONE +BURNED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByFlameRussia
    OCL                 = INITIAL OCL_FlamingInfantry
  End
  Behavior = SlowDeathBehavior DeathTag_05
    DeathTypes          = NONE +POISONED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinRussia
    OCL                 = INITIAL OCL_ToxicInfantry
  End
  Behavior = SlowDeathBehavior DeathTag_06 ; don't forget to give it a new, unique module tag
    DeathTypes          = NONE +POISONED_BETA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinRussia
    OCL                 = INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
  End

  Behavior = SlowDeathBehavior DeathTag_07
    DeathTypes          = NONE +POISONED_GAMMA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinRussia
    OCL                 = INITIAL OCL_ToxicInfantryGamma
  End
;Stealth-------------------------------------------------------------
  Behavior = StealthUpdate ModuleStealth_01
    StealthDelay                = 2500 ; msec
    StealthForbiddenConditions  = MOVING ;ATTACKING USING_ABILITY
    MoveThresholdSpeed          = 3
    InnateStealth               = Yes ;Requires upgrade first
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
  End
;---------------------------------------------------------------------

  Behavior = PoisonedBehavior ModuleTag_08
    PoisonDamageInterval = 100  ; Every this many msec I will retake the poison damage dealt me...
    PoisonDuration = 3000       ; ... for this long after last hit by poison damage
  End
 
  Behavior = ProductionUpdate ModuleTag_09
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 8.0
  GeometryMinorRadius = 8.0
  GeometryHeight = 12.0
  GeometryIsSmall = Yes
  Shadow = SHADOW_DECAL
  ShadowSizeX = 8;
  ShadowSizeY = 8;
  ;ShadowTexture = ShadowI;
  BuildCompletion = APPEARS_AT_RALLY_POINT
  ;Scale = 0.94
End